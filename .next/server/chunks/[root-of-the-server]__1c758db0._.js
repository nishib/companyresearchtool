module.exports=[88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},55283,(e,t,r)=>{"use strict";var n={};function a(e,t){!t.unsigned&&--e;let r=t.unsigned?0:-Math.pow(2,e),n=Math.pow(2,e)-1,a=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),i=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,o){o||(o={});let s=+e;if(o.enforceRange){if(!Number.isFinite(s))throw TypeError("Argument is not a finite number");if((s=(s<0?-1:1)*Math.floor(Math.abs(s)))<r||s>n)throw TypeError("Argument is not in byte range");return s}if(!isNaN(s)&&o.clamp){var l;return(s=(l=s)%1==.5&&(1&l)==0?Math.floor(l):Math.round(l))<r&&(s=r),s>n&&(s=n),s}if(!Number.isFinite(s)||0===s)return 0;if(s=(s<0?-1:1)*Math.floor(Math.abs(s))%a,!t.unsigned&&s>=i)return s-a;if(t.unsigned){if(s<0)s+=a;else if(-0===s)return 0}return s}}t.exports=n,n.void=function(){},n.boolean=function(e){return!!e},n.byte=a(8,{unsigned:!1}),n.octet=a(8,{unsigned:!0}),n.short=a(16,{unsigned:!1}),n["unsigned short"]=a(16,{unsigned:!0}),n.long=a(32,{unsigned:!1}),n["unsigned long"]=a(32,{unsigned:!0}),n["long long"]=a(32,{unsigned:!1,moduloBitLength:64}),n["unsigned long long"]=a(32,{unsigned:!0,moduloBitLength:64}),n.double=function(e){let t=+e;if(!Number.isFinite(t))throw TypeError("Argument is not a finite floating-point value");return t},n["unrestricted double"]=function(e){let t=+e;if(isNaN(t))throw TypeError("Argument is NaN");return t},n.float=n.double,n["unrestricted float"]=n["unrestricted double"],n.DOMString=function(e,t){return(t||(t={}),t.treatNullAsEmptyString&&null===e)?"":String(e)},n.ByteString=function(e,t){let r,n=String(e);for(let e=0;void 0!==(r=n.codePointAt(e));++e)if(r>255)throw TypeError("Argument is not a valid bytestring");return n},n.USVString=function(e){let t=String(e),r=t.length,n=[];for(let e=0;e<r;++e){let a=t.charCodeAt(e);if(a<55296||a>57343)n.push(String.fromCodePoint(a));else if(56320<=a&&a<=57343)n.push(String.fromCodePoint(65533));else if(e===r-1)n.push(String.fromCodePoint(65533));else{let r=t.charCodeAt(e+1);if(56320<=r&&r<=57343){let t=1023&a,i=1023&r;n.push(String.fromCodePoint(65536+1024*t+i)),++e}else n.push(String.fromCodePoint(65533))}}return n.join("")},n.Date=function(e,t){if(!(e instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(e))return e},n.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},78289,(e,t,r)=>{"use strict";t.exports.mixin=function(e,t){let r=Object.getOwnPropertyNames(t);for(let n=0;n<r.length;++n)Object.defineProperty(e,r[n],Object.getOwnPropertyDescriptor(t,r[n]))},t.exports.wrapperSymbol=Symbol("wrapper"),t.exports.implSymbol=Symbol("impl"),t.exports.wrapperForImpl=function(e){return e[t.exports.wrapperSymbol]},t.exports.implForWrapper=function(e){return e[t.exports.implSymbol]}},92097,(e,t,r)=>{t.exports=e.x("punycode",()=>require("punycode"))},45736,e=>{e.v(JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]'))},28555,(e,t,r)=>{"use strict";var n=e.r(92097),a=e.r(45736),i={TRANSITIONAL:0,NONTRANSITIONAL:1};function o(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function s(e){for(var t=0,r=a.length-1;t<=r;){var n=Math.floor((t+r)/2),i=a[n];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?r=n-1:t=n+1}return null}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function u(e){return e.replace(l,"_").length}var d=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function c(e,t,r){var a=function(e,t,r){for(var n=!1,a="",o=u(e),l=0;l<o;++l){var d=e.codePointAt(l),c=s(d);switch(c[1]){case"disallowed":n=!0,a+=String.fromCodePoint(d);break;case"ignored":break;case"mapped":a+=String.fromCodePoint.apply(String,c[2]);break;case"deviation":r===i.TRANSITIONAL?a+=String.fromCodePoint.apply(String,c[2]):a+=String.fromCodePoint(d);break;case"valid":a+=String.fromCodePoint(d);break;case"disallowed_STD3_mapped":t?(n=!0,a+=String.fromCodePoint(d)):a+=String.fromCodePoint.apply(String,c[2]);break;case"disallowed_STD3_valid":t&&(n=!0),a+=String.fromCodePoint(d)}}return{string:a,error:n}}(e,t,r);a.string=o(a.string);for(var l=a.string.split("."),p=0;p<l.length;++p)try{var m=function(e,t){"xn--"===e.substr(0,4)&&(e=n.toUnicode(e),i.NONTRANSITIONAL);var r=!1;(o(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(d))&&(r=!0);for(var a=u(e),l=0;l<a;++l){var p=s(e.codePointAt(l));if(c===i.TRANSITIONAL&&"valid"!==p[1]||c===i.NONTRANSITIONAL&&"valid"!==p[1]&&"deviation"!==p[1]){r=!0;break}}return{label:e,error:r}}(l[p]);l[p]=m.label,a.error=a.error||m.error}catch(e){a.error=!0}return{string:l.join("."),error:a.error}}t.exports.toASCII=function(e,t,r,a){var i=c(e,t,r),o=i.string.split(".");if(o=o.map(function(e){try{return n.toASCII(e)}catch(t){return i.error=!0,e}}),a){var s=o.slice(0,o.length-1).join(".").length;(s.length>253||0===s.length)&&(i.error=!0);for(var l=0;l<o.length;++l)if(o.length>63||0===o.length){i.error=!0;break}}return i.error?null:o.join(".")},t.exports.toUnicode=function(e,t){var r=c(e,t,i.NONTRANSITIONAL);return{domain:r.string,error:r.error}},t.exports.PROCESSING_OPTIONS=i},22216,(e,t,r)=>{"use strict";let n=e.r(92097),a=e.r(28555),i={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},o=Symbol("failure");function s(e){return n.ucs2.decode(e).length}function l(e,t){let r=e[t];return isNaN(r)?void 0:String.fromCodePoint(r)}function u(e){return e>=48&&e<=57}function d(e){return e>=65&&e<=90||e>=97&&e<=122}function c(e){return u(e)||e>=65&&e<=70||e>=97&&e<=102}function p(e){return"."===e||"%2e"===e.toLowerCase()}function m(e){return 2===e.length&&d(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function h(e){return void 0!==i[e]}function f(e){return h(e.scheme)}function g(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function y(e){return e<=31||e>126}let v=new Set([32,34,35,60,62,63,96,123,125]);function b(e){return y(e)||v.has(e)}let _=new Set([47,58,59,61,64,91,92,93,94,124]);function w(e){return b(e)||_.has(e)}function S(e,t){let r=String.fromCodePoint(e);if(t(e)){let e=new Buffer(r),t="";for(let r=0;r<e.length;++r)t+=g(e[r]);return t}return r}function k(e,t){if("["===e[0])return"]"!==e[e.length-1]?o:function(e){let t=[0,0,0,0,0,0,0,0],r=0,a=null,i=0;if(58===(e=n.ucs2.decode(e))[i]){if(58!==e[i+1])return o;i+=2,a=++r}for(;i<e.length;){if(8===r)return o;if(58===e[i]){if(null!==a)return o;++i,a=++r;continue}let n=0,s=0;for(;s<4&&c(e[i]);)n=16*n+parseInt(l(e,i),16),++i,++s;if(46===e[i]){if(0===s||(i-=s,r>6))return o;let n=0;for(;void 0!==e[i];){let a=null;if(n>0)if(46!==e[i]||!(n<4))return o;else++i;if(!u(e[i]))return o;for(;u(e[i]);){let t=parseInt(l(e,i));if(null===a)a=t;else{if(0===a)return o;a=10*a+t}if(a>255)return o;++i}t[r]=256*t[r]+a,(2==++n||4===n)&&++r}if(4!==n)return o;break}if(58===e[i]){if(void 0===e[++i])return o}else if(void 0!==e[i])return o;t[r]=n,++r}if(null!==a){let e=r-a;for(r=7;0!==r&&e>0;){let n=t[a+e-1];t[a+e-1]=t[r],t[r]=n,--r,--e}}else if(null===a&&8!==r)return o;return t}(e.substring(1,e.length-1));if(!t){var r=e;if(-1!==r.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return o;let t="",a=n.ucs2.decode(r);for(let e=0;e<a.length;++e)t+=S(a[e],y);return t}let i=function(e){let t=new Buffer(e),r=[];for(let e=0;e<t.length;++e)37!==t[e]?r.push(t[e]):37===t[e]&&c(t[e+1])&&c(t[e+2])?(r.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):r.push(t[e]);return new Buffer(r).toString()}(e),s=a.toASCII(i,!1,a.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===s||-1!==s.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return o;let d=function(e){let t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;let r=[];for(let n of t){if(""===n)return e;let t=function(e){let t=10;return(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e)?0:(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?o:parseInt(e,t)}(n);if(t===o)return e;r.push(t)}for(let e=0;e<r.length-1;++e)if(r[e]>255)return o;if(r[r.length-1]>=Math.pow(256,5-r.length))return o;let n=r.pop(),a=0;for(let e of r)n+=e*Math.pow(256,3-a),++a;return n}(s);return"number"==typeof d||d===o?d:s}function x(e){if("number"==typeof e){let t="",r=e;for(let e=1;e<=4;++e)t=String(r%256)+t,4!==e&&(t="."+t),r=Math.floor(r/256);return t}return e instanceof Array?"["+function(e){let t="",r=function(e){let t=null,r=1,n=null,a=0;for(let i=0;i<e.length;++i)0!==e[i]?(a>r&&(t=n,r=a),n=null,a=0):(null===n&&(n=i),++a);return a>r&&(t=n,r=a),{idx:t,len:r}}(e).idx,n=!1;for(let a=0;a<=7;++a)if(!n||0!==e[a]){if(n&&(n=!1),r===a){t+=0===a?"::":":",n=!0;continue}t+=e[a].toString(16),7!==a&&(t+=":")}return t}(e)+"]":e}function E(e){var t;let r=e.path;0===r.length||"file"===e.scheme&&1===r.length&&(t=r[0],/^[A-Za-z]:$/.test(t))||r.pop()}function T(e){return""!==e.username||""!==e.password}function O(e,t,r,a,i){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=a,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let e=this.input.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"");e!==this.input&&(this.parseError=!0),this.input=e}let s=this.input.replace(/\u0009|\u000A|\u000D/g,"");for(s!==this.input&&(this.parseError=!0),this.input=s,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=n.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),r=this["parse "+this.state](e,t);if(r){if(r===o){this.failure=!0;break}}else break}}O.prototype["parse scheme start"]=function(e,t){if(d(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,o;this.state="no scheme",--this.pointer}return!0},O.prototype["parse scheme"]=function(e,t){if(d(e)||u(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride&&(f(this.url)&&!h(this.buffer)||!f(this.url)&&h(this.buffer)||(T(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):f(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":f(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,o;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},O.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?o:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},O.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},O.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},O.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):f(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},O.prototype["parse relative slash"]=function(e){return f(this.url)&&(47===e||92===e)?(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"):47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},O.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},O.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},O.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let e=s(this.buffer);for(let t=0;t<e;++t){let e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let r=S(e,w);this.passwordTokenSeenFlag?this.url.password+=r:this.url.username+=r}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,o;this.pointer-=s(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},O.prototype["parse hostname"]=O.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag)if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(--this.pointer,f(this.url)&&""===this.buffer)return this.parseError=!0,o;if(this.stateOverride&&""===this.buffer&&(T(this.url)||null!==this.url.port))return this.parseError=!0,!1;let e=k(this.buffer,f(this.url));if(e===o)return o;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t;else{if(""===this.buffer)return this.parseError=!0,o;let e=k(this.buffer,f(this.url));if(e===o)return o;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},O.prototype["parse port"]=function(e,t){if(u(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e)&&!this.stateOverride)return this.parseError=!0,o;if(""!==this.buffer){let e=parseInt(this.buffer);if(e>65535)return this.parseError=!0,o;this.url.port=e===i[this.url.scheme]?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let I=new Set([47,92,63,35]);O.prototype["parse file"]=function(e){if(this.url.scheme="file",47===e||92===e)92===e&&(this.parseError=!0),this.state="file slash";else if(null!==this.base&&"file"===this.base.scheme)if(isNaN(e))this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query;else if(63===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query";else if(35===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else{var t;this.input.length-this.pointer-1!=0&&(t=this.input[this.pointer+1],d(e)&&(58===t||124===t))&&(!(this.input.length-this.pointer-1>=2)||I.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),E(this.url)),this.state="path",--this.pointer}else this.state="path",--this.pointer;return!0},O.prototype["parse file slash"]=function(e){if(47===e||92===e)92===e&&(this.parseError=!0),this.state="file host";else{if(null!==this.base&&"file"===this.base.scheme){var t;2===(t=this.base.path[0]).length&&d(t.codePointAt(0))&&":"===t[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host}this.state="path",--this.pointer}return!0},O.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e)if(--this.pointer,!this.stateOverride&&m(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=k(this.buffer,f(this.url));if(e===o)return o;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=t;return!0},O.prototype["parse path start"]=function(e){return f(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},O.prototype["parse path"]=function(e){if(isNaN(e)||47===e||f(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){var t;if((f(this.url)&&92===e&&(this.parseError=!0),".."===(t=(t=this.buffer).toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t)?(E(this.url),47===e||f(this.url)&&92===e||this.url.path.push("")):p(this.buffer)&&47!==e&&!(f(this.url)&&92===e)?this.url.path.push(""):p(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&m(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||c(this.input[this.pointer+1])&&c(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=S(e,b);return!0},O.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||c(this.input[this.pointer+1])&&c(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+S(e,y))),!0},O.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){f(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=g(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||c(this.input[this.pointer+1])&&c(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},O.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||c(this.input[this.pointer+1])&&c(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=S(e,y))),!0},t.exports.serializeURL=function(e,t){let r=e.scheme+":";if(null!==e.host?(r+="//",(""!==e.username||""!==e.password)&&(r+=e.username,""!==e.password&&(r+=":"+e.password),r+="@"),r+=x(e.host),null!==e.port&&(r+=":"+e.port)):null===e.host&&"file"===e.scheme&&(r+="//"),e.cannotBeABaseURL)r+=e.path[0];else for(let t of e.path)r+="/"+t;return null!==e.query&&(r+="?"+e.query),t||null===e.fragment||(r+="#"+e.fragment),r},t.exports.serializeURLOrigin=function(e){switch(e.scheme){case"blob":try{return t.exports.serializeURLOrigin(t.exports.parseURL(e.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":var r;let n;return n=(r={scheme:e.scheme,host:e.host,port:e.port}).scheme+"://"+x(r.host),null!==r.port&&(n+=":"+r.port),n;case"file":return"file://";default:return"null"}},t.exports.basicURLParse=function(e,t){void 0===t&&(t={});let r=new O(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return r.failure?"failure":r.url},t.exports.setTheUsername=function(e,t){e.username="";let r=n.ucs2.decode(t);for(let t=0;t<r.length;++t)e.username+=S(r[t],w)},t.exports.setThePassword=function(e,t){e.password="";let r=n.ucs2.decode(t);for(let t=0;t<r.length;++t)e.password+=S(r[t],w)},t.exports.serializeHost=x,t.exports.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme},t.exports.serializeInteger=function(e){return String(e)},t.exports.parseURL=function(e,r){return void 0===r&&(r={}),t.exports.basicURLParse(e,{baseURL:r.baseURL,encodingOverride:r.encodingOverride})}},81860,(e,t,r)=>{"use strict";let n=e.r(22216);r.implementation=class{constructor(e){const t=e[0],r=e[1];let a=null;if(void 0!==r&&"failure"===(a=n.basicURLParse(r)))throw TypeError("Invalid base URL");const i=n.basicURLParse(t,{baseURL:a});if("failure"===i)throw TypeError("Invalid URL");this._url=i}get href(){return n.serializeURL(this._url)}set href(e){let t=n.basicURLParse(e);if("failure"===t)throw TypeError("Invalid URL");this._url=t}get origin(){return n.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){n.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,e)}get host(){let e=this._url;return null===e.host?"":null===e.port?n.serializeHost(e.host):n.serializeHost(e.host)+":"+n.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||n.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":n.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||n.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":n.serializeInteger(this._url.port)}set port(e){n.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:n.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){let t=this._url;if(""===e){t.query=null;return}let r="?"===e[0]?e.substring(1):e;t.query="",n.basicURLParse(r,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e){this._url.fragment=null;return}let t="#"===e[0]?e.substring(1):e;this._url.fragment="",n.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},81842,(e,t,r)=>{"use strict";let n=e.r(55283),a=e.r(78289),i=e.r(81860),o=a.implSymbol;function s(e){if(!this||this[o]||!(this instanceof s))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let r=[];for(let e=0;e<arguments.length&&e<2;++e)r[e]=arguments[e];r[0]=n.USVString(r[0]),void 0!==r[1]&&(r[1]=n.USVString(r[1])),t.exports.setup(this,r)}s.prototype.toJSON=function(){if(!this||!t.exports.is(this))throw TypeError("Illegal invocation");let e=[];for(let t=0;t<arguments.length&&t<0;++t)e[t]=arguments[t];return this[o].toJSON.apply(this[o],e)},Object.defineProperty(s.prototype,"href",{get(){return this[o].href},set(e){e=n.USVString(e),this[o].href=e},enumerable:!0,configurable:!0}),s.prototype.toString=function(){if(!this||!t.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(s.prototype,"origin",{get(){return this[o].origin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"protocol",{get(){return this[o].protocol},set(e){e=n.USVString(e),this[o].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"username",{get(){return this[o].username},set(e){e=n.USVString(e),this[o].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"password",{get(){return this[o].password},set(e){e=n.USVString(e),this[o].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"host",{get(){return this[o].host},set(e){e=n.USVString(e),this[o].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hostname",{get(){return this[o].hostname},set(e){e=n.USVString(e),this[o].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"port",{get(){return this[o].port},set(e){e=n.USVString(e),this[o].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pathname",{get(){return this[o].pathname},set(e){e=n.USVString(e),this[o].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"search",{get(){return this[o].search},set(e){e=n.USVString(e),this[o].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hash",{get(){return this[o].hash},set(e){e=n.USVString(e),this[o].hash=e},enumerable:!0,configurable:!0}),t.exports={is:e=>!!e&&e[o]instanceof i.implementation,create(e,t){let r=Object.create(s.prototype);return this.setup(r,e,t),r},setup(e,t,r){r||(r={}),r.wrapper=e,e[o]=new i.implementation(t,r),e[o][a.wrapperSymbol]=e},interface:s,expose:{Window:{URL:s},Worker:{URL:s}}}},18907,(e,t,r)=>{"use strict";r.URL=e.r(81842).interface,r.serializeURL=e.r(22216).serializeURL,r.serializeURLOrigin=e.r(22216).serializeURLOrigin,r.basicURLParse=e.r(22216).basicURLParse,r.setTheUsername=e.r(22216).setTheUsername,r.setThePassword=e.r(22216).setThePassword,r.serializeHost=e.r(22216).serializeHost,r.serializeInteger=e.r(22216).serializeInteger,r.parseURL=e.r(22216).parseURL},6461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},56569,e=>{"use strict";let t;var r=e.i(88947),n=e.i(21517),a=e.i(92509),i=e.i(18907),o=e.i(24836),s=e.i(6461);let l=r.default.Readable,u=Symbol("buffer"),d=Symbol("type");class c{constructor(){this[d]="";const e=arguments[0],t=arguments[1],r=[];if(e){const t=Number(e.length);for(let n=0;n<t;n++){let t;const a=e[n];(t=a instanceof Buffer?a:ArrayBuffer.isView(a)?Buffer.from(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer?Buffer.from(a):a instanceof c?a[u]:Buffer.from("string"==typeof a?a:String(a))).length,r.push(t)}}this[u]=Buffer.concat(r);let n=t&&void 0!==t.type&&String(t.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[d]=n)}get size(){return this[u].length}get type(){return this[d]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){let e=this[u];return Promise.resolve(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}stream(){let e=new l;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e,t=this.size,r=arguments[0],n=arguments[1];e=void 0===r?0:r<0?Math.max(t+r,0):Math.min(r,t);let a=Math.max((void 0===n?t:n<0?Math.max(t+n,0):Math.min(n,t))-e,0),i=this[u].slice(e,e+a),o=new c([],{type:arguments[2]});return o[u]=i,o}}function p(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(c.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="FetchError";try{t=(()=>{let e=Error("Cannot find module 'encoding'");throw e.code="MODULE_NOT_FOUND",e})().convert}catch(e){}let m=Symbol("Body internals"),h=r.default.PassThrough;function f(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.size,i=n.timeout;null==e?e=null:y(e)?e=Buffer.from(e.toString()):v(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r.default||(e=Buffer.from(String(e)))),this[m]={body:e,disturbed:!1,error:null},this.size=void 0===a?0:a,this.timeout=void 0===i?0:i,e instanceof r.default&&e.on("error",function(e){let r="AbortError"===e.name?e:new p(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[m].error=r})}function g(){var e=this;if(this[m].disturbed)return f.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[m].disturbed=!0,this[m].error)return f.Promise.reject(this[m].error);let t=this.body;if(null===t)return f.Promise.resolve(Buffer.alloc(0));if(v(t)&&(t=t.stream()),Buffer.isBuffer(t))return f.Promise.resolve(t);if(!(t instanceof r.default))return f.Promise.resolve(Buffer.alloc(0));let n=[],a=0,i=!1;return new f.Promise(function(r,o){let s;e.timeout&&(s=setTimeout(function(){i=!0,o(new p(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(i=!0,o(t)):o(new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!i&&null!==t){if(e.size&&a+t.length>e.size){i=!0,o(new p(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}a+=t.length,n.push(t)}}),t.on("end",function(){if(!i){clearTimeout(s);try{r(Buffer.concat(n,a))}catch(t){o(new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function v(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function b(e){let t,n,a=e.body;if(e.bodyUsed)throw Error("cannot clone body after it is used");return a instanceof r.default&&"function"!=typeof a.getBoundary&&(t=new h,n=new h,a.pipe(t),a.pipe(n),e[m].body=t,a=n),a}function _(e){if(null===e)return null;if("string"==typeof e)return"text/plain;charset=UTF-8";if(y(e))return"application/x-www-form-urlencoded;charset=UTF-8";if(v(e))return e.type||null;if(Buffer.isBuffer(e))return null;else if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return null;else if(ArrayBuffer.isView(e))return null;else if("function"==typeof e.getBoundary)return`multipart/form-data;boundary=${e.getBoundary()}`;else if(e instanceof r.default)return null;else return"text/plain;charset=UTF-8"}function w(e){let t=e.body;return null===t?0:v(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync?t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null:null}f.prototype={get body(){return this[m].body},get bodyUsed(){return this[m].disturbed},arrayBuffer(){return g.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return g.call(this).then(function(t){return Object.assign(new c([],{type:e.toLowerCase()}),{[u]:t})})},json(){var e=this;return g.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return f.Promise.reject(new p(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return g.call(this).then(function(e){return e.toString()})},buffer(){return g.call(this)},textConverted(){var e=this;return g.call(this).then(function(r){return function(e,r){let n,a;if("function"!=typeof t)throw Error("The package `encoding` must be installed to use the textConverted() function");let i=r.get("content-type"),o="utf-8";return i&&(n=/charset=([^;]*)/i.exec(i)),a=e.slice(0,1024).toString(),!n&&a&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(a)),!n&&a&&(!(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(a))&&(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(a))&&n.pop(),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&a&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(a)),n&&("gb2312"===(o=n.pop())||"gbk"===o)&&(o="gb18030"),t(e,"UTF-8",o).toString()}(r,e.headers)})}},Object.defineProperties(f.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),f.mixIn=function(e){for(let t of Object.getOwnPropertyNames(f.prototype))if(!(t in e)){let r=Object.getOwnPropertyDescriptor(f.prototype,t);Object.defineProperty(e,t,r)}},f.Promise=e.g.Promise;let S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,k=/[^\t\x20-\x7e\x80-\xff]/;function x(e){if(e=`${e}`,S.test(e)||""===e)throw TypeError(`${e} is not a legal HTTP header name`)}function E(e){if(e=`${e}`,k.test(e))throw TypeError(`${e} is not a legal HTTP header value`)}function T(e,t){for(let r in t=t.toLowerCase(),e)if(r.toLowerCase()===t)return r}let O=Symbol("map");class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[O]=Object.create(null),e instanceof I){const t=e.raw();for(const e of Object.keys(t))for(const r of t[e])this.append(e,r);return}if(null==e);else if("object"==typeof e){const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}else throw TypeError("Provided initializer must be an object")}get(e){x(e=`${e}`);let t=T(this[O],e);return void 0===t?null:this[O][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=P(this),n=0;for(;n<r.length;){var a=r[n];let i=a[0],o=a[1];e.call(t,o,i,this),r=P(this),n++}}set(e,t){e=`${e}`,t=`${t}`,x(e),E(t);let r=T(this[O],e);this[O][void 0!==r?r:e]=[t]}append(e,t){e=`${e}`,t=`${t}`,x(e),E(t);let r=T(this[O],e);void 0!==r?this[O][r].push(t):this[O][e]=[t]}has(e){return x(e=`${e}`),void 0!==T(this[O],e)}delete(e){x(e=`${e}`);let t=T(this[O],e);void 0!==t&&delete this[O][t]}raw(){return this[O]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[O]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[O][t].join(", ")}:function(t){return[t.toLowerCase(),e[O][t].join(", ")]})}I.prototype.entries=I.prototype[Symbol.iterator],Object.defineProperty(I.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(I.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let C=Symbol("internal");function A(e,t){let r=Object.create(j);return r[C]={target:e,kind:t,index:0},r}let j=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==j)throw TypeError("Value of `this` is not a HeadersIterator");var e=this[C];let t=e.target,r=e.kind,n=e.index,a=P(t,r);return n>=a.length?{value:void 0,done:!0}:(this[C].index=n+1,{value:a[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(j,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let z=Symbol("Response internals"),R=n.default.STATUS_CODES;class N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.call(this,e,t);const r=t.status||200,n=new I(t.headers);if(null!=e&&!n.has("Content-Type")){const t=_(e);t&&n.append("Content-Type",t)}this[z]={url:t.url,status:r,statusText:t.statusText||R[r],headers:n,counter:t.counter}}get url(){return this[z].url||""}get status(){return this[z].status}get ok(){return this[z].status>=200&&this[z].status<300}get redirected(){return this[z].counter>0}get statusText(){return this[z].statusText}get headers(){return this[z].headers}clone(){return new N(b(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}f.mixIn(N.prototype),Object.defineProperties(N.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(N.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let $=Symbol("Request internals"),M=a.default.URL||i.default.URL,D=a.default.parse,F=a.default.format;function U(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new M(e).toString()),D(e)}let L="destroy"in r.default.Readable.prototype;function q(e){return"object"==typeof e&&"object"==typeof e[$]}class V{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q(e)?t=U(e.url):(t=e&&e.href?U(e.href):U(`${e}`),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||q(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw TypeError("Request with GET/HEAD method cannot have body");let a=null!=r.body?r.body:q(e)&&null!==e.body?b(e):null;f.call(this,a,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new I(r.headers||e.headers||{});if(null!=a&&!i.has("Content-Type")){const e=_(a);e&&i.append("Content-Type",e)}let o=q(e)?e.signal:null;if("signal"in r&&(o=r.signal),null!=o&&!function(e){let t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!!(t&&"AbortSignal"===t.constructor.name)}(o))throw TypeError("Expected signal to be an instanceof AbortSignal");this[$]={method:n,redirect:r.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:o},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[$].method}get url(){return F(this[$].parsedURL)}get headers(){return this[$].headers}get redirect(){return this[$].redirect}get signal(){return this[$].signal}clone(){return new V(this)}}function B(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}f.mixIn(V.prototype),Object.defineProperty(V.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(V.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B.prototype.name="AbortError";let Z=a.default.URL||i.default.URL,H=r.default.PassThrough,G=function(e,t){let r=new Z(t).hostname,n=new Z(e).hostname;return r===n||"."===r[r.length-n.length-1]&&r.endsWith(n)};function W(e,t){if(!W.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return f.Promise=W.Promise,new W.Promise(function(a,i){var l,u;let d,c,m,h=new V(e,t),f=function(e){let t,n,a=e[$].parsedURL,i=new I(e[$].headers);if(i.has("Accept")||i.set("Accept","*/*"),!a.protocol||!a.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(a.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.default.Readable&&!L)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){let t=w(e);"number"==typeof t&&(o=String(t))}o&&i.set("Content-Length",o),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip,deflate");let s=e.agent;return"function"==typeof s&&(s=s(a)),Object.assign({},a,{method:e.method,headers:(t=Object.assign({__proto__:null},i[O]),void 0!==(n=T(i[O],"Host"))&&(t[n]=t[n][0]),t),agent:s})}(h),g=("https:"===f.protocol?o.default:n.default).request,y=h.signal,b=null,_=function(){let e=new B("The user aborted a request.");i(e),h.body&&h.body instanceof r.default.Readable&&J(h.body,e),b&&b.body&&b.body.emit("error",e)};if(y&&y.aborted)return void _();let x=function(){_(),P()},E=g(f);function P(){E.abort(),y&&y.removeEventListener("abort",x),clearTimeout(c)}y&&y.addEventListener("abort",x),h.timeout&&E.once("socket",function(e){c=setTimeout(function(){i(new p(`network timeout at: ${h.url}`,"request-timeout")),P()},h.timeout)}),E.on("error",function(e){i(new p(`request to ${h.url} failed, reason: ${e.message}`,"system",e)),b&&b.body&&J(b.body,e),P()}),l=E,u=function(e){(!y||!y.aborted)&&b&&b.body&&J(b.body,e)},l.on("socket",function(e){d=e}),l.on("response",function(e){let t=e.headers;"chunked"!==t["transfer-encoding"]||t["content-length"]||e.once("close",function(e){if(d&&d.listenerCount("data")>0&&!e){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",u(e)}})}),14>parseInt(process.version.substring(1))&&E.on("socket",function(e){e.addListener("close",function(t){let r=e.listenerCount("data")>0;if(b&&r&&!t&&!(y&&y.aborted)){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",e)}})}),E.on("response",function(e){clearTimeout(c);let t=function(e){let t=new I;for(let r of Object.keys(e))if(!S.test(r))if(Array.isArray(e[r]))for(let n of e[r])k.test(n)||(void 0===t[O][r]?t[O][r]=[n]:t[O][r].push(n));else k.test(e[r])||(t[O][r]=[e[r]]);return t}(e.headers);if(W.isRedirect(e.statusCode)){let n=t.get("Location"),o=null;try{o=null===n?null:new Z(n,h.url).toString()}catch(e){if("manual"!==h.redirect){i(new p(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),P();return}}switch(h.redirect){case"error":i(new p(`uri requested responds with a redirect, redirect mode is set to error: ${h.url}`,"no-redirect")),P();return;case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":var r;if(null===o)break;if(h.counter>=h.follow){i(new p(`maximum redirect reached at: ${h.url}`,"max-redirect")),P();return}let s={headers:new I(h.headers),follow:h.follow,counter:h.counter+1,agent:h.agent,compress:h.compress,method:h.method,body:h.body,signal:h.signal,timeout:h.timeout,size:h.size};if(!G(h.url,o)||(r=h.url,new Z(o).protocol!==new Z(r).protocol))for(let e of["authorization","www-authenticate","cookie","cookie2"])s.headers.delete(e);if(303!==e.statusCode&&h.body&&null===w(h)){i(new p("Cannot follow redirect with body being a readable stream","unsupported-redirect")),P();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===h.method)&&(s.method="GET",s.body=void 0,s.headers.delete("content-length")),a(W(new V(o,s))),P();return}}e.once("end",function(){y&&y.removeEventListener("abort",x)});let n=e.pipe(new H),o={url:h.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:h.size,timeout:h.timeout,counter:h.counter},l=t.get("Content-Encoding");if(!h.compress||"HEAD"===h.method||null===l||204===e.statusCode||304===e.statusCode)return void a(b=new N(n,o));let u={flush:s.default.Z_SYNC_FLUSH,finishFlush:s.default.Z_SYNC_FLUSH};if("gzip"==l||"x-gzip"==l)return void a(b=new N(n=n.pipe(s.default.createGunzip(u)),o));if("deflate"==l||"x-deflate"==l){let t=e.pipe(new H);t.once("data",function(e){a(b=new N(n=(15&e[0])==8?n.pipe(s.default.createInflate()):n.pipe(s.default.createInflateRaw()),o))}),t.on("end",function(){b||a(b=new N(n,o))});return}"br"==l&&"function"==typeof s.default.createBrotliDecompress?a(b=new N(n=n.pipe(s.default.createBrotliDecompress()),o)):a(b=new N(n,o))}),null===(m=h.body)?E.end():v(m)?m.stream().pipe(E):Buffer.isBuffer(m)?(E.write(m),E.end()):m.pipe(E)})}function J(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}W.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},W.Promise=e.g.Promise,e.s(["AbortError",()=>B,"FetchError",()=>p,"Headers",()=>I,"Request",()=>V,"Response",()=>N,"default",0,W])},10671,(e,t,r)=>{let n=e.r(56569),a=n.default||n,i=function(e,t){return/^\/\//.test(e)&&(e="https:"+e),a.call(this,e,t)};i.ponyfill=!0,t.exports=r=i,r.fetch=i,r.Headers=n.Headers,r.Request=n.Request,r.Response=n.Response,r.default=i},60526,(e,t,r)=>{t.exports=e.x("node:os",()=>require("node:os"))},9656,(e,t,r)=>{t.exports=e.x("node:tty",()=>require("node:tty"))},62562,(e,t,r)=>{t.exports=e.x("module",()=>require("module"))},80490,e=>{e.v({name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}})},97289,(e,t,r)=>{let n=e.r(22734),a=e.r(14747),i=e.r(46786),o=e.r(54799),s=e.r(80490).version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}function d(e){console.log(`[dotenv@${s}] ${e}`)}function c(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function p(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)n.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=a.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function m(e){return"~"===e[0]?a.join(i.homedir(),e.slice(1)):e}let h={configDotenv:function(e){let t,r=a.resolve(process.cwd(),".env"),i="utf8",o=!!(e&&e.debug),s=!e||!("quiet"in e)||e.quiet;e&&e.encoding?i=e.encoding:o&&u("No encoding is specified. UTF-8 is used by default");let l=[r];if(e&&e.path)if(Array.isArray(e.path))for(let t of(l=[],e.path))l.push(m(t));else l=[m(e.path)];let c={};for(let r of l)try{let t=h.parse(n.readFileSync(r,{encoding:i}));h.populate(c,t,e)}catch(e){o&&u(`Failed to load ${r} ${e.message}`),t=e}let p=process.env;if(e&&null!=e.processEnv&&(p=e.processEnv),h.populate(p,c,e),o||!s){let e=Object.keys(c).length,r=[];for(let e of l)try{let t=a.relative(process.cwd(),e);r.push(t)}catch(r){o&&u(`Failed to load ${e} ${r.message}`),t=r}d(`injecting env (${e}) from ${r.join(",")}`)}return t?{parsed:c,error:t}:{parsed:c}},_configVault:function(e){let t=!!(e&&e.debug),r=!e||!("quiet"in e)||e.quiet;(t||!r)&&d("Loading env from encrypted .env.vault");let n=h._parseVault(e),a=process.env;return e&&null!=e.processEnv&&(a=e.processEnv),h.populate(a,n,e),{parsed:n}},_parseVault:function(e){let t,r=p(e=e||{});e.path=r;let n=h.configDotenv(e);if(!n.parsed){let e=Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw e.code="MISSING_DATA",e}let a=c(e).split(","),i=a.length;for(let e=0;e<i;e++)try{let r=a[e].trim(),i=function(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let n=r.password;if(!n){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let a=r.searchParams.get("environment");if(!a){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let i=`DOTENV_VAULT_${a.toUpperCase()}`,o=e.parsed[i];if(!o){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:o,key:n}}(n,r);t=h.decrypt(i.ciphertext,i.key);break}catch(t){if(e+1>=i)throw t}return h.parse(t)},config:function(e){if(0===c(e).length)return h.configDotenv(e);let t=p(e);if(!t){var r;return r=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${s}][WARN] ${r}`),h.configDotenv(e)}return h._configVault(e)},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),a=n.subarray(0,12),i=n.subarray(-16);n=n.subarray(12,-16);try{let e=o.createDecipheriv("aes-256-gcm",r,a);return e.setAuthTag(i),`${e.update(n)}${e.final()}`}catch(n){let e=n instanceof RangeError,t="Invalid key length"===n.message,r="Unsupported state or unable to authenticate data"===n.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw n}},parse:function(e){let t,r={},n=e.toString();for(n=n.replace(/\r\n?/mg,"\n");null!=(t=l.exec(n));){let e=t[1],n=t[2]||"",a=(n=n.trim())[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===a&&(n=(n=n.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),r[e]=n}return r},populate:function(e,t,r={}){let n=!!(r&&r.debug),a=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===a&&(e[r]=t[r]),n&&(!0===a?u(`"${r}" is already defined and WAS overwritten`):u(`"${r}" is already defined and was NOT overwritten`))):e[r]=t[r]}};t.exports.configDotenv=h.configDotenv,t.exports._configVault=h._configVault,t.exports._parseVault=h._parseVault,t.exports.config=h.config,t.exports.decrypt=h.decrypt,t.exports.parse=h.parse,t.exports.populate=h.populate,t.exports=h},42945,(e,t,r)=>{let n={};null!=process.env.DOTENV_CONFIG_ENCODING&&(n.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(n.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_QUIET&&(n.quiet=process.env.DOTENV_CONFIG_QUIET),null!=process.env.DOTENV_CONFIG_DEBUG&&(n.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(n.override=process.env.DOTENV_CONFIG_OVERRIDE),null!=process.env.DOTENV_CONFIG_DOTENV_KEY&&(n.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),t.exports=n},92474,(e,t,r)=>{let n=/^dotenv_config_(encoding|path|quiet|debug|override|DOTENV_KEY)=(.+)$/;t.exports=function(e){let t=e.reduce(function(e,t){let r=t.match(n);return r&&(e[r[1]]=r[2]),e},{});return"quiet"in t||(t.quiet="true"),t}},64913,(e,t,r)=>{e.r(97289).config(Object.assign({},e.r(42945),e.r(92474)(process.argv)))},48708,(e,t,r)=>{"use strict";var n,a,i;Object.defineProperty(r,"__esModule",{value:!0}),r.getParsedType=r.ZodParsedType=r.objectUtil=r.util=void 0,(i=n||(r.util=n={})).assertEqual=e=>{},i.assertIs=function(e){},i.assertNever=function(e){throw Error()},i.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},i.getValidEnumValues=e=>{let t=i.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return i.objectValues(r)},i.objectValues=e=>i.objectKeys(e).map(function(t){return e[t]}),i.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},i.find=(e,t)=>{for(let r of e)if(t(r))return r},i.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,i.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},i.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(a||(r.objectUtil=a={})).mergeShapes=(e,t)=>({...e,...t}),r.ZodParsedType=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),r.getParsedType=e=>{switch(typeof e){case"undefined":return r.ZodParsedType.undefined;case"string":return r.ZodParsedType.string;case"number":return Number.isNaN(e)?r.ZodParsedType.nan:r.ZodParsedType.number;case"boolean":return r.ZodParsedType.boolean;case"function":return r.ZodParsedType.function;case"bigint":return r.ZodParsedType.bigint;case"symbol":return r.ZodParsedType.symbol;case"object":if(Array.isArray(e))return r.ZodParsedType.array;if(null===e)return r.ZodParsedType.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return r.ZodParsedType.promise;if("u">typeof Map&&e instanceof Map)return r.ZodParsedType.map;if("u">typeof Set&&e instanceof Set)return r.ZodParsedType.set;if("u">typeof Date&&e instanceof Date)return r.ZodParsedType.date;return r.ZodParsedType.object;default:return r.ZodParsedType.unknown}}},71691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZodError=r.quotelessJson=r.ZodIssueCode=void 0;let n=e.r(48708);r.ZodIssueCode=n.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),r.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof a))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}r.ZodError=a,a.create=e=>new a(e)},45553,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(71691),a=e.r(48708);r.default=(e,t)=>{let r;switch(e.code){case n.ZodIssueCode.invalid_type:r=e.received===a.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,a.util.jsonStringifyReplacer)}`;break;case n.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${a.util.joinValues(e.keys,", ")}`;break;case n.ZodIssueCode.invalid_union:r="Invalid input";break;case n.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${a.util.joinValues(e.options)}`;break;case n.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${a.util.joinValues(e.options)}, received '${e.received}'`;break;case n.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case n.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case n.ZodIssueCode.invalid_date:r="Invalid date";break;case n.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:a.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.ZodIssueCode.custom:r="Invalid input";break;case n.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case n.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case n.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,a.util.assertNever(e)}return{message:r}}},83308,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultErrorMap=void 0,r.setErrorMap=function(e){i=e},r.getErrorMap=function(){return i};let a=n(e.r(45553));r.defaultErrorMap=a.default;let i=a.default},69226,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isAsync=r.isValid=r.isDirty=r.isAborted=r.OK=r.DIRTY=r.INVALID=r.ParseStatus=r.EMPTY_PATH=r.makeIssue=void 0,r.addIssueToContext=function(e,t){let n=(0,a.getErrorMap)(),o=(0,r.makeIssue)({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===i.default?void 0:i.default].filter(e=>!!e)});e.common.issues.push(o)};let a=e.r(83308),i=n(e.r(45553));r.makeIssue=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},r.EMPTY_PATH=[];class o{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let a of t){if("aborted"===a.status)return r.INVALID;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return o.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let n={};for(let a of t){let{key:t,value:i}=a;if("aborted"===t.status||"aborted"===i.status)return r.INVALID;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||a.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}r.ParseStatus=o,r.INVALID=Object.freeze({status:"aborted"}),r.DIRTY=e=>({status:"dirty",value:e}),r.OK=e=>({status:"valid",value:e}),r.isAborted=e=>"aborted"===e.status,r.isDirty=e=>"dirty"===e.status,r.isValid=e=>"valid"===e.status,r.isAsync=e=>"u">typeof Promise&&e instanceof Promise},14745,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},97497,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.errorUtil=void 0,(a=n||(r.errorUtil=n={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},a.toString=e=>"string"==typeof e?e:e?.message},21167,(e,t,r)=>{"use strict";var n,a;let i;Object.defineProperty(r,"__esModule",{value:!0}),r.discriminatedUnion=r.date=r.boolean=r.bigint=r.array=r.any=r.coerce=r.ZodFirstPartyTypeKind=r.late=r.ZodSchema=r.Schema=r.ZodReadonly=r.ZodPipeline=r.ZodBranded=r.BRAND=r.ZodNaN=r.ZodCatch=r.ZodDefault=r.ZodNullable=r.ZodOptional=r.ZodTransformer=r.ZodEffects=r.ZodPromise=r.ZodNativeEnum=r.ZodEnum=r.ZodLiteral=r.ZodLazy=r.ZodFunction=r.ZodSet=r.ZodMap=r.ZodRecord=r.ZodTuple=r.ZodIntersection=r.ZodDiscriminatedUnion=r.ZodUnion=r.ZodObject=r.ZodArray=r.ZodVoid=r.ZodNever=r.ZodUnknown=r.ZodAny=r.ZodNull=r.ZodUndefined=r.ZodSymbol=r.ZodDate=r.ZodBoolean=r.ZodBigInt=r.ZodNumber=r.ZodString=r.ZodType=void 0,r.NEVER=r.void=r.unknown=r.union=r.undefined=r.tuple=r.transformer=r.symbol=r.string=r.strictObject=r.set=r.record=r.promise=r.preprocess=r.pipeline=r.ostring=r.optional=r.onumber=r.oboolean=r.object=r.number=r.nullable=r.null=r.never=r.nativeEnum=r.nan=r.map=r.literal=r.lazy=r.intersection=r.instanceof=r.function=r.enum=r.effect=void 0,r.datetimeRegex=j,r.custom=ev;let o=e.r(71691),s=e.r(83308),l=e.r(97497),u=e.r(69226),d=e.r(48708);class c{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let p=(e,t)=>{if((0,u.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new o.ZodError(e.common.issues);return this._error=t,this._error}}};function m(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:i}=e;return"invalid_enum_value"===t.code?{message:i??a.defaultError}:void 0===a.data?{message:i??n??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:i??r??a.defaultError}},description:a}}class h{get description(){return this._def.description}_getType(e){return(0,d.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new u.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,u.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},n=this._parseSync({data:e,path:r.path,parent:r});return p(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return(0,u.isValid)(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>(0,u.isValid)(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},n=this._parse({data:e,path:r.path,parent:r});return p(r,await ((0,u.isAsync)(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let a=e(r),i=()=>n.addIssue({code:o.ZodIssueCode.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"u">typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new el({schema:this,typeName:n.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eu.create(this,this._def)}nullable(){return ed.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Z.create(this)}promise(){return es.create(this,this._def)}or(e){return G.create([this,e],this._def)}and(e){return K.create(this,e,this._def)}transform(e){return new el({...m(this._def),schema:this,typeName:n.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ec({...m(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:n.ZodDefault})}brand(){return new eh({typeName:n.ZodBranded,type:this,...m(this._def)})}catch(e){return new ep({...m(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:n.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ef.create(this,e)}readonly(){return eg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}r.ZodType=h,r.Schema=h,r.ZodSchema=h;let f=/^c[^\s-]{8,}$/i,g=/^[0-9a-z]+$/,y=/^[0-9A-HJKMNP-TV-Z]{26}$/i,v=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b=/^[a-z0-9_-]{21}$/i,_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,w=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,T=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C=RegExp(`^${P}$`);function A(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function j(e){let t=`${P}T${A(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class z extends h{_parse(e){var t,r,n,a;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==d.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.string,received:t.parsedType}),u.INVALID}let l=new u.ParseStatus;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("max"===c.kind)e.data.length>c.value&&(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("length"===c.kind){let t=e.data.length>c.value,r=e.data.length<c.value;(t||r)&&(s=this._getOrReturnCtx(e,s),t?(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):r&&(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if("email"===c.kind)S.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"email",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("emoji"===c.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"emoji",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("uuid"===c.kind)v.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"uuid",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("nanoid"===c.kind)b.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"nanoid",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("cuid"===c.kind)f.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"cuid",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("cuid2"===c.kind)g.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"cuid2",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("ulid"===c.kind)y.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"ulid",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if("url"===c.kind)try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"url",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"regex",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):"datetime"===c.kind?j(c).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:"datetime",message:c.message}),l.dirty()):"date"===c.kind?C.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:"date",message:c.message}),l.dirty()):"time"===c.kind?RegExp(`^${A(c)}$`).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{code:o.ZodIssueCode.invalid_string,validation:"time",message:c.message}),l.dirty()):"duration"===c.kind?w.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"duration",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty()):"ip"===c.kind?(t=e.data,!(("v4"===(r=c.version)||!r)&&k.test(t)||("v6"===r||!r)&&E.test(t))&&1&&(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"ip",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty())):"jwt"===c.kind?!function(e,t){if(!_.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}(e.data,c.alg)&&(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"jwt",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty()):"cidr"===c.kind?(n=e.data,!(("v4"===(a=c.version)||!a)&&x.test(n)||("v6"===a||!a)&&T.test(n))&&1&&(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"cidr",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty())):"base64"===c.kind?O.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"base64",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty()):"base64url"===c.kind?I.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,u.addIssueToContext)(s,{validation:"base64url",code:o.ZodIssueCode.invalid_string,message:c.message}),l.dirty()):d.util.assertNever(c);return{status:l.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:o.ZodIssueCode.invalid_string,...l.errorUtil.errToObj(r)})}_addCheck(e){return new z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...l.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...l.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...l.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...l.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...l.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...l.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...l.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...l.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...l.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...l.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...l.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...l.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...l.errorUtil.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...l.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...l.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...l.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...l.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...l.errorUtil.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...l.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...l.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...l.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...l.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...l.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,l.errorUtil.errToObj(e))}trim(){return new z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}r.ZodString=z,z.create=e=>new z({checks:[],typeName:n.ZodString,coerce:e?.coerce??!1,...m(e)});class R extends h{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==d.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.number,received:t.parsedType}),u.INVALID}let r=new u.ParseStatus;for(let n of this._def.checks)"int"===n.kind?d.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.not_finite,message:n.message}),r.dirty()):d.util.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.errorUtil.toString(t))}setLimit(e,t,r,n){return new R({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.errorUtil.toString(n)}]})}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:l.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:l.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&d.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}r.ZodNumber=R,R.create=e=>new R({checks:[],typeName:n.ZodNumber,coerce:e?.coerce||!1,...m(e)});class N extends h{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==d.ZodParsedType.bigint)return this._getInvalidInput(e);let r=new u.ParseStatus;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):d.util.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.bigint,received:t.parsedType}),u.INVALID}gte(e,t){return this.setLimit("min",e,!0,l.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.errorUtil.toString(t))}setLimit(e,t,r,n){return new N({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.errorUtil.toString(n)}]})}_addCheck(e){return new N({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}r.ZodBigInt=N,N.create=e=>new N({checks:[],typeName:n.ZodBigInt,coerce:e?.coerce??!1,...m(e)});class $ extends h{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==d.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.boolean,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}r.ZodBoolean=$,$.create=e=>new $({typeName:n.ZodBoolean,coerce:e?.coerce||!1,...m(e)});class M extends h{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==d.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.date,received:t.parsedType}),u.INVALID}if(Number.isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_date}),u.INVALID}let r=new u.ParseStatus;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):d.util.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:l.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:l.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}r.ZodDate=M,M.create=e=>new M({checks:[],coerce:e?.coerce||!1,typeName:n.ZodDate,...m(e)});class D extends h{_parse(e){if(this._getType(e)!==d.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.symbol,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}r.ZodSymbol=D,D.create=e=>new D({typeName:n.ZodSymbol,...m(e)});class F extends h{_parse(e){if(this._getType(e)!==d.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.undefined,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}r.ZodUndefined=F,F.create=e=>new F({typeName:n.ZodUndefined,...m(e)});class U extends h{_parse(e){if(this._getType(e)!==d.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.null,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}r.ZodNull=U,U.create=e=>new U({typeName:n.ZodNull,...m(e)});class L extends h{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,u.OK)(e.data)}}r.ZodAny=L,L.create=e=>new L({typeName:n.ZodAny,...m(e)});class q extends h{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,u.OK)(e.data)}}r.ZodUnknown=q,q.create=e=>new q({typeName:n.ZodUnknown,...m(e)});class V extends h{_parse(e){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.never,received:t.parsedType}),u.INVALID}}r.ZodNever=V,V.create=e=>new V({typeName:n.ZodNever,...m(e)});class B extends h{_parse(e){if(this._getType(e)!==d.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.void,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}r.ZodVoid=B,B.create=e=>new B({typeName:n.ZodVoid,...m(e)});class Z extends h{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==d.ZodParsedType.array)return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:t.parsedType}),u.INVALID;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&((0,u.addIssueToContext)(t,{code:e?o.ZodIssueCode.too_big:o.ZodIssueCode.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&((0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&((0,u.addIssueToContext)(t,{code:o.ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new c(t,e,t.path,r)))).then(e=>u.ParseStatus.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new c(t,e,t.path,r)));return u.ParseStatus.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Z({...this._def,minLength:{value:e,message:l.errorUtil.toString(t)}})}max(e,t){return new Z({...this._def,maxLength:{value:e,message:l.errorUtil.toString(t)}})}length(e,t){return new Z({...this._def,exactLength:{value:e,message:l.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}r.ZodArray=Z,Z.create=(e,t)=>new Z({type:e,minLength:null,maxLength:null,exactLength:null,typeName:n.ZodArray,...m(t)});class H extends h{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=d.util.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==d.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),u.INVALID}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof V&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let s=[];for(let e of a){let t=n[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new c(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof V){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&((0,u.addIssueToContext)(r,{code:o.ZodIssueCode.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new c(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>u.ParseStatus.mergeObjectSync(t,e)):u.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return l.errorUtil.errToObj,new H({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:l.errorUtil.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new H({...this._def,unknownKeys:"strip"})}passthrough(){return new H({...this._def,unknownKeys:"passthrough"})}extend(e){return new H({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new H({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:n.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new H({...this._def,catchall:e})}pick(e){let t={};for(let r of d.util.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new H({...this._def,shape:()=>t})}omit(e){let t={};for(let r of d.util.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new H({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof H){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=eu.create(e(a))}return new H({...t._def,shape:()=>r})}if(t instanceof Z)return new Z({...t._def,type:e(t.element)});if(t instanceof eu)return eu.create(e(t.unwrap()));if(t instanceof ed)return ed.create(e(t.unwrap()));if(t instanceof Y)return Y.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of d.util.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new H({...this._def,shape:()=>t})}required(e){let t={};for(let r of d.util.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eu;)e=e._def.innerType;t[r]=e}return new H({...this._def,shape:()=>t})}keyof(){return ea(d.util.objectKeys(this.shape))}}r.ZodObject=H,H.create=(e,t)=>new H({shape:()=>e,unknownKeys:"strip",catchall:V.create(),typeName:n.ZodObject,...m(t)}),H.strictCreate=(e,t)=>new H({shape:()=>e,unknownKeys:"strict",catchall:V.create(),typeName:n.ZodObject,...m(t)}),H.lazycreate=(e,t)=>new H({shape:e,unknownKeys:"strip",catchall:V.create(),typeName:n.ZodObject,...m(t)});class G extends h{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new o.ZodError(e.ctx.common.issues));return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_union,unionErrors:r}),u.INVALID});{let e,n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new o.ZodError(e));return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_union,unionErrors:a}),u.INVALID}}get options(){return this._def.options}}r.ZodUnion=G,G.create=(e,t)=>new G({options:e,typeName:n.ZodUnion,...m(t)});let W=e=>{if(e instanceof er)return W(e.schema);if(e instanceof el)return W(e.innerType());if(e instanceof en)return[e.value];if(e instanceof ei)return e.options;if(e instanceof eo)return d.util.objectValues(e.enum);else if(e instanceof ec)return W(e._def.innerType);else if(e instanceof F)return[void 0];else if(e instanceof U)return[null];else if(e instanceof eu)return[void 0,...W(e.unwrap())];else if(e instanceof ed)return[null,...W(e.unwrap())];else if(e instanceof eh)return W(e.unwrap());else if(e instanceof eg)return W(e.unwrap());else if(e instanceof ep)return W(e._def.innerType);else return[]};class J extends h{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.object)return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),u.INVALID;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):((0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),u.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let r of t){let t=W(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(a.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);a.set(n,r)}}return new J({typeName:n.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...m(r)})}}r.ZodDiscriminatedUnion=J;class K extends h{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if((0,u.isAborted)(e)||(0,u.isAborted)(n))return u.INVALID;let a=function e(t,r){let n=(0,d.getParsedType)(t),a=(0,d.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(n===d.ZodParsedType.object&&a===d.ZodParsedType.object){let n=d.util.objectKeys(r),a=d.util.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i[n]=a.data}return{valid:!0,data:i}}if(n===d.ZodParsedType.array&&a===d.ZodParsedType.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}if(n===d.ZodParsedType.date&&a===d.ZodParsedType.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return a.valid?(((0,u.isDirty)(e)||(0,u.isDirty)(n))&&t.dirty(),{status:t.value,value:a.data}):((0,u.addIssueToContext)(r,{code:o.ZodIssueCode.invalid_intersection_types}),u.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}r.ZodIntersection=K,K.create=(e,t,r)=>new K({left:e,right:t,typeName:n.ZodIntersection,...m(r)});class Y extends h{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.array)return(0,u.addIssueToContext)(r,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:r.parsedType}),u.INVALID;if(r.data.length<this._def.items.length)return(0,u.addIssueToContext)(r,{code:o.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),u.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,u.addIssueToContext)(r,{code:o.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new c(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>u.ParseStatus.mergeArray(t,e)):u.ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Y({...this._def,rest:e})}}r.ZodTuple=Y,Y.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:e,typeName:n.ZodTuple,rest:null,...m(t)})};class X extends h{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.object)return(0,u.addIssueToContext)(r,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:r.parsedType}),u.INVALID;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new c(r,e,r.path,e)),value:i._parse(new c(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?u.ParseStatus.mergeObjectAsync(t,n):u.ParseStatus.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new X(t instanceof h?{keyType:e,valueType:t,typeName:n.ZodRecord,...m(r)}:{keyType:z.create(),valueType:e,typeName:n.ZodRecord,...m(t)})}}r.ZodRecord=X;class Q extends h{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.map)return(0,u.addIssueToContext)(r,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.map,received:r.parsedType}),u.INVALID;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new c(r,e,r.path,[i,"key"])),value:a._parse(new c(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return u.INVALID;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return u.INVALID;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}r.ZodMap=Q,Q.create=(e,t,r)=>new Q({valueType:t,keyType:e,typeName:n.ZodMap,...m(r)});class ee extends h{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.set)return(0,u.addIssueToContext)(r,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.set,received:r.parsedType}),u.INVALID;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&((0,u.addIssueToContext)(r,{code:o.ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&((0,u.addIssueToContext)(r,{code:o.ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return u.INVALID;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new c(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(e,t){return new ee({...this._def,minSize:{value:e,message:l.errorUtil.toString(t)}})}max(e,t){return new ee({...this._def,maxSize:{value:e,message:l.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}r.ZodSet=ee,ee.create=(e,t)=>new ee({valueType:e,minSize:null,maxSize:null,typeName:n.ZodSet,...m(t)});class et extends h{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.function)return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.function,received:t.parsedType}),u.INVALID;function r(e,r){return(0,u.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,s.getErrorMap)(),s.defaultErrorMap].filter(e=>!!e),issueData:{code:o.ZodIssueCode.invalid_arguments,argumentsError:r}})}function n(e,r){return(0,u.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,s.getErrorMap)(),s.defaultErrorMap].filter(e=>!!e),issueData:{code:o.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof es){let e=this;return(0,u.OK)(async function(...t){let s=new o.ZodError([]),l=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),u=await Reflect.apply(i,this,l);return await e._def.returns._def.type.parseAsync(u,a).catch(e=>{throw s.addIssue(n(u,e)),s})})}{let e=this;return(0,u.OK)(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new o.ZodError([r(t,s.error)]);let l=Reflect.apply(i,this,s.data),u=e._def.returns.safeParse(l,a);if(!u.success)throw new o.ZodError([n(l,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new et({...this._def,args:Y.create(e).rest(q.create())})}returns(e){return new et({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new et({args:e||Y.create([]).rest(q.create()),returns:t||q.create(),typeName:n.ZodFunction,...m(r)})}}r.ZodFunction=et;class er extends h{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}r.ZodLazy=er,er.create=(e,t)=>new er({getter:e,typeName:n.ZodLazy,...m(t)});class en extends h{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{received:t.data,code:o.ZodIssueCode.invalid_literal,expected:this._def.value}),u.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ea(e,t){return new ei({values:e,typeName:n.ZodEnum,...m(t)})}r.ZodLiteral=en,en.create=(e,t)=>new en({value:e,typeName:n.ZodLiteral,...m(t)});class ei extends h{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,u.addIssueToContext)(t,{expected:d.util.joinValues(r),received:t.parsedType,code:o.ZodIssueCode.invalid_type}),u.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,u.addIssueToContext)(t,{received:t.data,code:o.ZodIssueCode.invalid_enum_value,options:r}),u.INVALID}return(0,u.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ei.create(e,{...this._def,...t})}exclude(e,t=this._def){return ei.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}r.ZodEnum=ei,ei.create=ea;class eo extends h{_parse(e){let t=d.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==d.ZodParsedType.string&&r.parsedType!==d.ZodParsedType.number){let e=d.util.objectValues(t);return(0,u.addIssueToContext)(r,{expected:d.util.joinValues(e),received:r.parsedType,code:o.ZodIssueCode.invalid_type}),u.INVALID}if(this._cache||(this._cache=new Set(d.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=d.util.objectValues(t);return(0,u.addIssueToContext)(r,{received:r.data,code:o.ZodIssueCode.invalid_enum_value,options:e}),u.INVALID}return(0,u.OK)(e.data)}get enum(){return this._def.values}}r.ZodNativeEnum=eo,eo.create=(e,t)=>new eo({values:e,typeName:n.ZodNativeEnum,...m(t)});class es extends h{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.promise&&!1===t.common.async)return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.promise,received:t.parsedType}),u.INVALID;let r=t.parsedType===d.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,u.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}r.ZodPromise=es,es.create=(e,t)=>new es({type:e,typeName:n.ZodPromise,...m(t)});class el extends h{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{(0,u.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return u.INVALID;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?u.INVALID:"dirty"===n.status||"dirty"===t.value?(0,u.DIRTY)(n.value):n});{if("aborted"===t.value)return u.INVALID;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?u.INVALID:"dirty"===n.status||"dirty"===t.value?(0,u.DIRTY)(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?u.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?u.INVALID:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,u.isValid)(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):u.INVALID);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,u.isValid)(e))return u.INVALID;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}d.util.assertNever(n)}}r.ZodEffects=el,r.ZodTransformer=el,el.create=(e,t,r)=>new el({schema:e,typeName:n.ZodEffects,effect:t,...m(r)}),el.createWithPreprocess=(e,t,r)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:n.ZodEffects,...m(r)});class eu extends h{_parse(e){return this._getType(e)===d.ZodParsedType.undefined?(0,u.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}r.ZodOptional=eu,eu.create=(e,t)=>new eu({innerType:e,typeName:n.ZodOptional,...m(t)});class ed extends h{_parse(e){return this._getType(e)===d.ZodParsedType.null?(0,u.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}r.ZodNullable=ed,ed.create=(e,t)=>new ed({innerType:e,typeName:n.ZodNullable,...m(t)});class ec extends h{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===d.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}r.ZodDefault=ec,ec.create=(e,t)=>new ec({innerType:e,typeName:n.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...m(t)});class ep extends h{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,u.isAsync)(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new o.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new o.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}r.ZodCatch=ep,ep.create=(e,t)=>new ep({innerType:e,typeName:n.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...m(t)});class em extends h{_parse(e){if(this._getType(e)!==d.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:o.ZodIssueCode.invalid_type,expected:d.ZodParsedType.nan,received:t.parsedType}),u.INVALID}return{status:"valid",value:e.data}}}r.ZodNaN=em,em.create=e=>new em({typeName:n.ZodNaN,...m(e)}),r.BRAND=Symbol("zod_brand");class eh extends h{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}r.ZodBranded=eh;class ef extends h{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?u.INVALID:"dirty"===e.status?(t.dirty(),(0,u.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?u.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ef({in:e,out:t,typeName:n.ZodPipeline})}}r.ZodPipeline=ef;class eg extends h{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,u.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,u.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ey(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ev(e,t={},r){return e?L.create().superRefine((n,a)=>{let i=e(n);if(i instanceof Promise)return i.then(e=>{if(!e){let e=ey(t,n),i=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:i})}});if(!i){let e=ey(t,n),i=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:i})}}):L.create()}r.ZodReadonly=eg,eg.create=(e,t)=>new eg({innerType:e,typeName:n.ZodReadonly,...m(t)}),r.late={object:H.lazycreate},(a=n||(r.ZodFirstPartyTypeKind=n={})).ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly",r.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>ev(t=>t instanceof e,t);let eb=z.create;r.string=eb;let e_=R.create;r.number=e_,r.nan=em.create,r.bigint=N.create;let ew=$.create;r.boolean=ew,r.date=M.create,r.symbol=D.create,r.undefined=F.create,r.null=U.create,r.any=L.create,r.unknown=q.create,r.never=V.create,r.void=B.create,r.array=Z.create,r.object=H.create,r.strictObject=H.strictCreate,r.union=G.create,r.discriminatedUnion=J.create,r.intersection=K.create,r.tuple=Y.create,r.record=X.create,r.map=Q.create,r.set=ee.create,r.function=et.create,r.lazy=er.create,r.literal=en.create,r.enum=ei.create,r.nativeEnum=eo.create,r.promise=es.create;let eS=el.create;r.effect=eS,r.transformer=eS,r.optional=eu.create,r.nullable=ed.create,r.preprocess=el.createWithPreprocess,r.pipeline=ef.create,r.ostring=()=>eb().optional(),r.onumber=()=>e_().optional(),r.oboolean=()=>ew().optional(),r.coerce={string:e=>z.create({...e,coerce:!0}),number:e=>R.create({...e,coerce:!0}),boolean:e=>$.create({...e,coerce:!0}),bigint:e=>N.create({...e,coerce:!0}),date:e=>M.create({...e,coerce:!0})},r.NEVER=u.INVALID},85131,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(83308),r),a(e.r(69226),r),a(e.r(14745),r),a(e.r(48708),r),a(e.r(21167),r),a(e.r(71691),r)},45899,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.z=void 0;let s=i(e.r(85131));r.z=s,o(e.r(85131),r),r.default=s},43629,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let o=i(e.r(45899));a(e.r(45899),r),r.default=o.default},10430,(e,t,r)=>{t.exports=e.x("async_hooks",()=>require("async_hooks"))},5365,(e,t,r)=>{t.exports=e.x("process",()=>require("process"))},33405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},25705,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},l=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},u=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},d=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;else if(o)return o(e,t).value}return e[t]};t.exports=function e(){var t,r,n,a,i,o,c=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof c&&(h=c,c=arguments[1]||{},p=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});p<m;++p)if(t=arguments[p],null!=t)for(r in t)n=d(c,r),c!==(a=d(t,r))&&(h&&a&&(l(a)||(i=s(a)))?(i?(i=!1,o=n&&s(n)?n:[]):o=n&&l(n)?n:{},u(c,{name:r,newValue:e(h,o,a)})):void 0!==a&&u(c,{name:r,newValue:a}));return c}},451,e=>{e.v({name:"gaxios",version:"7.1.3",description:"A simple common HTTP client specifically for Google APIs and services.",main:"build/cjs/src/index.js",types:"build/cjs/src/index.d.ts",files:["build/"],exports:{".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},scripts:{lint:"gts check --no-inline-config",test:"c8 mocha build/esm/test","presystem-test":"npm run compile","system-test":"mocha build/esm/system-test --timeout 80000",compile:"tsc -b ./tsconfig.json ./tsconfig.cjs.json && node utils/enable-esm.mjs",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"jsdoc -c .jsdoc.js","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean"},repository:{type:"git",directory:"packages/gaxios",url:"https://github.com/googleapis/google-cloud-node-core.git"},keywords:["google"],engines:{node:">=18"},author:"Google, LLC",license:"Apache-2.0",devDependencies:{"@babel/plugin-proposal-private-methods":"^7.18.6","@types/cors":"^2.8.6","@types/express":"^5.0.0","@types/extend":"^3.0.1","@types/mocha":"^10.0.10","@types/multiparty":"4.2.1","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","@types/tmp":"0.2.6",assert:"^2.0.0",browserify:"^17.0.0",c8:"^10.0.0",cors:"^2.8.5",express:"^5.0.0",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",linkinator:"^6.1.2",mocha:"^11.1.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.0-beta.13","null-loader":"^4.0.0","pack-n-play":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","stream-browserify":"^3.0.0",tmp:"0.2.5","ts-loader":"^9.5.2",typescript:"^5.8.3",webpack:"^5.35.0","webpack-cli":"^6.0.1"},dependencies:{extend:"^3.0.2","https-proxy-agent":"^7.0.1","node-fetch":"^3.3.2",rimraf:"^5.0.1"},homepage:"https://github.com/googleapis/google-cloud-node-core/tree/main/packages/gaxios"})},61675,(e,t,r)=>{"use strict";t.exports={pkg:e.r(451)}},27078,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GaxiosError=r.GAXIOS_ERROR_SYMBOL=void 0,r.defaultErrorRedactor=function e(t){let r="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function n(e){e&&e.forEach((t,n)=>{(/^authentication$/i.test(n)||/^authorization$/i.test(n)||/secret/i.test(n))&&e.set(n,r)})}function a(e,t){if("object"==typeof e&&null!==e&&"string"==typeof e[t]){let n=e[t];(/grant_type=/i.test(n)||/assertion=/i.test(n)||/secret/i.test(n))&&(e[t]=r)}}function i(e){!e||"object"!=typeof e||(e instanceof FormData||e instanceof URLSearchParams||"forEach"in e&&"set"in e?e.forEach((t,n)=>{(["grant_type","assertion"].includes(n)||/secret/.test(n))&&e.set(n,r)}):("grant_type"in e&&(e.grant_type=r),"assertion"in e&&(e.assertion=r),"client_secret"in e&&(e.client_secret=r)))}return t.config&&(n(t.config.headers),a(t.config,"data"),i(t.config.data),a(t.config,"body"),i(t.config.body),t.config.url.searchParams.has("token")&&t.config.url.searchParams.set("token",r),t.config.url.searchParams.has("client_secret")&&t.config.url.searchParams.set("client_secret",r)),t.response&&(e({config:t.response.config}),n(t.response.headers),t.response.bodyUsed&&(a(t.response,"data"),i(t.response.data))),t};let a=n(e.r(25705)),i=n(e.r(61675)).default.pkg;r.GAXIOS_ERROR_SYMBOL=Symbol.for(`${i.name}-gaxios-error`);class o extends Error{config;response;code;status;error;[r.GAXIOS_ERROR_SYMBOL]=i.version;static[Symbol.hasInstance](e){return!!e&&"object"==typeof e&&r.GAXIOS_ERROR_SYMBOL in e&&e[r.GAXIOS_ERROR_SYMBOL]===i.version||Function.prototype[Symbol.hasInstance].call(o,e)}constructor(e,t,r,n){if(super(e,{cause:n}),this.config=t,this.response=r,this.error=n instanceof Error?n:void 0,this.config=(0,a.default)(!0,{},t),this.response&&(this.response.config=(0,a.default)(!0,{},this.response.config)),this.response){try{this.response.data=function(e,t){switch(e){case"stream":default:return t;case"json":return JSON.parse(JSON.stringify(t));case"arraybuffer":return JSON.parse(Buffer.from(t).toString("utf8"));case"blob":return JSON.parse(t.text())}}(this.config.responseType,this.response?.bodyUsed?this.response?.data:void 0)}catch{}this.status=this.response.status}n instanceof DOMException?this.code=n.name:n&&"object"==typeof n&&"code"in n&&("string"==typeof n.code||"number"==typeof n.code)&&(this.code=n.code)}static extractAPIErrorFromResponse(e,t="The request failed"){let r=t;if("string"==typeof e.data&&(r=e.data),e.data&&"object"==typeof e.data&&"error"in e.data&&e.data.error&&!e.ok){if("string"==typeof e.data.error)return{message:e.data.error,code:e.status,status:e.statusText};if("object"==typeof e.data.error){r="message"in e.data.error&&"string"==typeof e.data.error.message?e.data.error.message:r;let t="status"in e.data.error&&"string"==typeof e.data.error.status?e.data.error.status:e.statusText,n="code"in e.data.error&&"number"==typeof e.data.error.code?e.data.error.code:e.status;if("errors"in e.data.error&&Array.isArray(e.data.error.errors)){let a=[];for(let t of e.data.error.errors)"object"==typeof t&&"message"in t&&"string"==typeof t.message&&a.push(t.message);return Object.assign({message:a.join("\n")||r,code:n,status:t},e.data.error)}return Object.assign({message:r,code:n,status:t},e.data.error)}}return{message:r,code:e.status,status:e.statusText}}}r.GaxiosError=o},35156,(e,t,r)=>{"use strict";async function n(e){var t;let r=i(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};(r=r||{}).currentRetryAttempt=r.currentRetryAttempt||0,r.retry=void 0===r.retry||null===r.retry?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=void 0===r.noResponseRetries||null===r.noResponseRetries?2:r.noResponseRetries,r.retryDelayMultiplier=r.retryDelayMultiplier?r.retryDelayMultiplier:2,r.timeOfFirstRequest=r.timeOfFirstRequest?r.timeOfFirstRequest:Date.now(),r.totalTimeout=r.totalTimeout?r.totalTimeout:Number.MAX_SAFE_INTEGER,r.maxRetryDelay=r.maxRetryDelay?r.maxRetryDelay:Number.MAX_SAFE_INTEGER,r.statusCodesToRetry=r.statusCodesToRetry||[[100,199],[408,408],[429,429],[500,599]],e.config.retryConfig=r;let n=r.shouldRetry||a;if(!await n(e))return{shouldRetry:!1,config:e.config};let o=Math.min(((t=r).currentRetryAttempt?0:t.retryDelay??100)+(Math.pow(t.retryDelayMultiplier,t.currentRetryAttempt)-1)/2*1e3,t.totalTimeout-(Date.now()-t.timeOfFirstRequest),t.maxRetryDelay);e.config.retryConfig.currentRetryAttempt+=1;let s=r.retryBackoff?r.retryBackoff(e,o):new Promise(e=>{setTimeout(e,o)});return r.onRetryAttempt&&await r.onRetryAttempt(e),await s,{shouldRetry:!0,config:e.config}}function a(e){let t=i(e);if(e.config.signal?.aborted&&"TimeoutError"!==e.code||"AbortError"===e.code||!t||0===t.retry||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!t.httpMethodsToRetry||!t.httpMethodsToRetry.includes(e.config.method?.toUpperCase()||"GET"))return!1;if(e.response&&e.response.status){let r=!1;for(let[n,a]of t.statusCodesToRetry){let t=e.response.status;if(t>=n&&t<=a){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function i(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}Object.defineProperty(r,"__esModule",{value:!0}),r.getRetryConfig=n},3137,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GaxiosInterceptorManager=void 0;class n extends Set{}r.GaxiosInterceptorManager=n},80038,(e,t,r)=>{"use strict";var n,a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Gaxios=void 0;let i=a(e.r(25705)),o=e.r(24836),s=e.r(27078),l=e.r(35156),u=e.r(88947),d=e.r(3137),c=async()=>globalThis.crypto?.randomUUID()||(await e.A(85685)).randomUUID();class p{agentCache=new Map;defaults;interceptors;constructor(e){this.defaults=e||{},this.interceptors={request:new d.GaxiosInterceptorManager,response:new d.GaxiosInterceptorManager}}fetch(...e){let t,r=e[0],a=e[1],i=new Headers;return("string"==typeof r?t=new URL(r):r instanceof URL?t=r:r&&r.url&&(t=new URL(r.url)),r&&"object"==typeof r&&"headers"in r&&n.mergeHeaders(i,r.headers),a&&n.mergeHeaders(i,new Headers(a.headers)),"object"!=typeof r||r instanceof URL)?this.request({...a,headers:i,url:t}):this.request({...a,...r,headers:i,url:t})}async request(e={}){let t=await this.#e(e);return t=await this.#t(t),this.#r(this._request(t))}async _defaultAdapter(e){let t=e.fetchImplementation||this.defaults.fetchImplementation||await n.#n(),r={...e};delete r.data;let a=await t(e.url,r),i=await this.getResponseData(e,a);return Object.getOwnPropertyDescriptor(a,"data")?.configurable||Object.defineProperties(a,{data:{configurable:!0,writable:!0,enumerable:!0,value:i}}),Object.assign(a,{config:e,data:i})}async _request(e){try{let t;if(t=e.adapter?await e.adapter(e,this._defaultAdapter.bind(this)):await this._defaultAdapter(e),!e.validateStatus(t.status)){if("stream"===e.responseType){let e=[];for await(let r of t.data)e.push(r);t.data=e.toString()}let r=s.GaxiosError.extractAPIErrorFromResponse(t,`Request failed with status code ${t.status}`);throw new s.GaxiosError(r?.message,e,t,r)}return t}catch(a){let t;t=a instanceof s.GaxiosError?a:a instanceof Error?new s.GaxiosError(a.message,e,void 0,a):new s.GaxiosError("Unexpected Gaxios Error",e,void 0,a);let{shouldRetry:r,config:n}=await (0,l.getRetryConfig)(t);if(r&&n)return t.config.retryConfig.currentRetryAttempt=n.retryConfig.currentRetryAttempt,e.retryConfig=t.config?.retryConfig,this.#a(e),this._request(e);throw e.errorRedactor&&e.errorRedactor(t),t}}async getResponseData(e,t){if(204===t.status)return"";if(e.maxContentLength&&t.headers.has("content-length")&&e.maxContentLength<Number.parseInt(t.headers?.get("content-length")||""))throw new s.GaxiosError("Response's `Content-Length` is over the limit.",e,Object.assign(t,{config:e}));switch(e.responseType){case"stream":return t.body;case"json":{let e=await t.text();try{return JSON.parse(e)}catch{return e}}case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"text":return t.text();default:return this.getResponseDataFromContentType(t)}}#i(e,t=[]){let r=new URL(e),n=[...t];for(let e of(process.env.NO_PROXY??process.env.no_proxy)?.split(",")||[])n.push(e.trim());for(let e of n)if(e instanceof RegExp){if(e.test(r.toString()))return!1}else if(e instanceof URL){if(e.origin===r.origin)return!1}else if(e.startsWith("*.")||e.startsWith(".")){let t=e.replace(/^\*\./,".");if(r.hostname.endsWith(t))return!1}else if(e===r.origin||e===r.hostname||e===r.href)return!1;return!0}async #t(e){let t=Promise.resolve(e);for(let e of this.interceptors.request.values())e&&(t=t.then(e.resolved,e.rejected));return t}async #r(e){let t=Promise.resolve(e);for(let e of this.interceptors.response.values())e&&(t=t.then(e.resolved,e.rejected));return t}async #e(e){let t=new Headers(this.defaults.headers);n.mergeHeaders(t,e.headers);let r=(0,i.default)(!0,{},this.defaults,e);if(!r.url)throw Error("URL is required.");if(r.baseURL&&(r.url=new URL(r.url,r.baseURL)),r.url=new URL(r.url),r.params)if(r.paramsSerializer){let e=r.paramsSerializer(r.params);e.startsWith("?")&&(e=e.slice(1));let t=r.url.toString().includes("?")?"&":"?";r.url=r.url+t+e}else{let e=r.url instanceof URL?r.url:new URL(r.url);for(let[t,n]of new URLSearchParams(r.params))e.searchParams.append(t,n);r.url=e}"number"==typeof e.maxContentLength&&(r.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(r.follow=e.maxRedirects);let a="string"==typeof r.data||r.data instanceof ArrayBuffer||r.data instanceof Blob||globalThis.File&&r.data instanceof File||r.data instanceof FormData||r.data instanceof u.Readable||r.data instanceof ReadableStream||r.data instanceof String||r.data instanceof URLSearchParams||ArrayBuffer.isView(r.data)||["Blob","File","FormData"].includes(r.data?.constructor?.name||"");if(r.multipart?.length){let e=await c();t.set("content-type",`multipart/related; boundary=${e}`),r.body=u.Readable.from(this.getMultipartRequest(r.multipart,e))}else a?r.body=r.data:"object"==typeof r.data?"application/x-www-form-urlencoded"===t.get("Content-Type")?r.body=r.paramsSerializer?r.paramsSerializer(r.data):new URLSearchParams(r.data):(t.has("content-type")||t.set("content-type","application/json"),r.body=JSON.stringify(r.data)):r.data&&(r.body=r.data);r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"unknown",t.has("accept")||"json"!==r.responseType||t.set("accept","application/json");let l=r.proxy||process?.env?.HTTPS_PROXY||process?.env?.https_proxy||process?.env?.HTTP_PROXY||process?.env?.http_proxy;if(r.agent);else if(l&&this.#i(r.url,r.noProxy)){let e=await n.#o();this.agentCache.has(l)?r.agent=this.agentCache.get(l):(r.agent=new e(l,{cert:r.cert,key:r.key}),this.agentCache.set(l,r.agent))}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new o.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return"function"!=typeof r.errorRedactor&&!1!==r.errorRedactor&&(r.errorRedactor=s.defaultErrorRedactor),!r.body||"duplex"in r||(r.duplex="half"),this.#a(r),Object.assign(r,{headers:t,url:r.url instanceof URL?r.url:new URL(r.url)})}#a(e){if(e.timeout){let t=AbortSignal.timeout(e.timeout);e.signal&&!e.signal.aborted?e.signal=AbortSignal.any([e.signal,t]):e.signal=t}}validateStatus(e){return e>=200&&e<300}async getResponseDataFromContentType(e){let t=e.headers.get("Content-Type");if(null===t)return e.text();if((t=t.toLowerCase()).includes("application/json")){let t=await e.text();try{t=JSON.parse(t)}catch{}return t}return t.match(/^text\//)?e.text():e.blob()}async *getMultipartRequest(e,t){let r=`--${t}--`;for(let r of e){let e=r.headers.get("Content-Type")||"application/octet-stream",n=`--${t}\r
Content-Type: ${e}\r
\r
`;yield n,"string"==typeof r.content?yield r.content:yield*r.content,yield"\r\n"}yield r}static #s;static #l;static async #o(){return this.#s||=(await e.A(91961)).HttpsProxyAgent,this.#s}static async #n(){return this.#l||=(await e.A(13499)).default,this.#l}static mergeHeaders(e,...t){for(let r of(e=e instanceof Headers?e:new Headers(e),t))(r instanceof Headers?r:new Headers(r)).forEach((t,r)=>{"set-cookie"===r?e.append(r,t):e.set(r,t)});return e}}r.Gaxios=p,n=p},57612,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.instance=r.Gaxios=r.GaxiosError=void 0,r.request=s;let i=e.r(80038);Object.defineProperty(r,"Gaxios",{enumerable:!0,get:function(){return i.Gaxios}});var o=e.r(27078);async function s(e){return r.instance.request(e)}Object.defineProperty(r,"GaxiosError",{enumerable:!0,get:function(){return o.GaxiosError}}),a(e.r(3137),r),r.instance=new i.Gaxios},29077,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GCE_LINUX_BIOS_PATHS=void 0,r.isGoogleCloudServerless=i,r.isGoogleComputeEngineLinux=o,r.isGoogleComputeEngineMACAddress=s,r.isGoogleComputeEngine=l,r.detectGCPResidency=function(){return i()||l()},e.r(22734);let n=e.r(46786);r.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};let a=/^42:01/;function i(){return!!(process.env.CLOUD_RUN_JOB||process.env.FUNCTION_NAME||process.env.K_SERVICE)}function o(){if("linux"!==(0,n.platform)())return!1}function s(){for(let e of Object.values((0,n.networkInterfaces)()))if(e){for(let{mac:t}of e)if(a.test(t))return!0}return!1}function l(){return o()||s()}},45905,(e,t,r)=>{!function(r){"use strict";var n,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",l=s+"Number primitive has more than 15 significant digits: ",u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function d(e){var t=0|e;return e>0||e===t?t:t-1}function c(e){for(var t,r,n=1,a=e.length,i=e[0]+"";n<a;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);i+=t}for(a=i.length;48===i.charCodeAt(--a););return i.slice(0,a+1||1)}function p(e,t){var r,n,a=e.c,i=t.c,o=e.s,s=t.s,l=e.e,u=t.e;if(!o||!s)return null;if(r=a&&!a[0],n=i&&!i[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=l==u,!a||!i)return n?0:!a^r?1:-1;if(!n)return l>u^r?1:-1;for(o=0,s=(l=a.length)<(u=i.length)?l:u;o<s;o++)if(a[o]!=i[o])return a[o]>i[o]^r?1:-1;return l==u?0:l>u^r?1:-1}function m(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function h(e){var t=e.c.length-1;return d(e.e/14)==t&&e.c[t]%2!=0}function f(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var n,a;if(t<0){for(a=r+".";++t;a+=r);e=a+e}else if(n=e.length,++t>n){for(a=r,t-=n;--t;a+=r);e+=a}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}if((n=function e(t){var r,n,y,v,b,_,w,S,k,x=D.prototype={constructor:D,toString:null,valueOf:null},E=new D(1),T=20,O=4,I=-7,P=21,C=-1e7,A=1e7,j=!1,z=1,R=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",M=!0;function D(e,t){var r,n,i,s,u,d,c,p,h=this;if(!(h instanceof D))return new D(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>A?h.c=h.e=null:e.e<C?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((d="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,u=e;u>=10;u/=10,s++);s>A?h.c=h.e=null:(h.e=s,h.c=[e]);return}p=String(e)}else{if(!a.test(p=String(e)))return k(h,p,d);h.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(s=p.indexOf("."))>-1&&(p=p.replace(".","")),(u=p.search(/e/i))>0?(s<0&&(s=u),s+=+p.slice(u+1),p=p.substring(0,u)):s<0&&(s=p.length)}else{if(m(t,2,$.length,"Base"),10==t&&M)return q(h=new D(e),T+h.e+1,O);if(p=String(e),d="number"==typeof e){if(0*e!=0)return k(h,p,d,t);if(h.s=1/e<0?(p=p.slice(1),-1):1,D.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(l+e)}else h.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=$.slice(0,t),s=u=0,c=p.length;u<c;u++)if(0>r.indexOf(n=p.charAt(u))){if("."==n){if(u>s){s=c;continue}}else if(!i&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){i=!0,u=-1,s=0;continue}return k(h,String(e),d,t)}d=!1,(s=(p=S(p,t,10,h.s)).indexOf("."))>-1?p=p.replace(".",""):s=p.length}for(u=0;48===p.charCodeAt(u);u++);for(c=p.length;48===p.charCodeAt(--c););if(p=p.slice(u,++c)){if(c-=u,d&&D.DEBUG&&c>15&&(e>0x1fffffffffffff||e!==o(e)))throw Error(l+h.s*e);if((s=s-u-1)>A)h.c=h.e=null;else if(s<C)h.c=[h.e=0];else{if(h.e=s,h.c=[],u=(s+1)%14,s<0&&(u+=14),u<c){for(u&&h.c.push(+p.slice(0,u)),c-=14;u<c;)h.c.push(+p.slice(u,u+=14));u=14-(p=p.slice(u)).length}else u-=c;for(;u--;p+="0");h.c.push(+p)}}else h.c=[h.e=0]}function F(e,t,r,n){var a,i,o,s,l;if(null==r?r=O:m(r,0,8),!e.c)return e.toString();if(a=e.c[0],o=e.e,null==t)l=c(e.c),l=1==n||2==n&&(o<=I||o>=P)?f(l,o):g(l,o,"0");else if(i=(e=q(new D(e),t,r)).e,s=(l=c(e.c)).length,1==n||2==n&&(t<=i||i<=I)){for(;s<t;l+="0",s++);l=f(l,i)}else if(t-=o+(2===n&&i>o),l=g(l,i,"0"),i+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-s)>0)for(i+1==s&&(l+=".");t--;l+="0");return e.s<0&&a?"-"+l:l}function U(e,t){for(var r,n,a=1,i=new D(e[0]);a<e.length;a++)(n=new D(e[a])).s&&(r=p(i,n))!==t&&(0!==r||i.s!==t)||(i=n);return i}function L(e,t,r){for(var n=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,n++);return(r=n+14*r-1)>A?e.c=e.e=null:r<C?e.c=[e.e=0]:(e.e=r,e.c=t),e}function q(e,t,r,n){var a,s,l,d,c,p,m,h=e.c;if(h){e:{for(a=1,d=h[0];d>=10;d/=10,a++);if((s=t-a)<0)s+=14,l=t,m=o((c=h[p=0])/u[a-l-1]%10);else if((p=i((s+1)/14))>=h.length)if(n){for(;h.length<=p;h.push(0));c=m=0,a=1,s%=14,l=s-14+1}else break e;else{for(a=1,c=d=h[p];d>=10;d/=10,a++);s%=14,m=(l=s-14+a)<0?0:o(c/u[a-l-1]%10)}if(n=n||t<0||null!=h[p+1]||(l<0?c:c%u[a-l-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(s>0?l>0?c/u[a-l]:0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=u[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=p,d=1,p--):(h.length=p+1,d=u[14-s],h[p]=l>0?o(c/u[a-l]%u[l])*d:0),n)for(;;)if(0==p){for(s=1,l=h[0];l>=10;l/=10,s++);for(l=h[0]+=d,d=1;l>=10;l/=10,d++);s!=d&&(e.e++,1e14==h[0]&&(h[0]=1));break}else{if(h[p]+=d,1e14!=h[p])break;h[p--]=0,d=1}for(s=h.length;0===h[--s];h.pop());}e.e>A?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function V(e){var t,r=e.e;return null===r?e.toString():(t=c(e.c),t=r<=I||r>=P?f(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return D.clone=e,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(r=e[t],0,1e9,t),T=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(r=e[t],0,8,t),O=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(m(r[0],-1e9,0,t),m(r[1],0,1e9,t),I=r[0],P=r[1]):(m(r,-1e9,1e9,t),I=-(P=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)m(r[0],-1e9,-1,t),m(r[1],1,1e9,t),C=r[0],A=r[1];else if(m(r,-1e9,1e9,t),r)C=-(A=r<0?-r:r);else throw Error(s+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))j=r;else throw j=!r,Error(s+"crypto unavailable");else j=r;else throw Error(s+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(m(r=e[t],0,9,t),z=r),e.hasOwnProperty(t="POW_PRECISION")&&(m(r=e[t],0,1e9,t),R=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))N=r;else throw Error(s+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);M="0123456789"==r.slice(0,10),$=r}}else throw Error(s+"Object expected: "+e);return{DECIMAL_PLACES:T,ROUNDING_MODE:O,EXPONENTIAL_AT:[I,P],RANGE:[C,A],CRYPTO:j,MODULO_MODE:z,POW_PRECISION:R,FORMAT:N,ALPHABET:$}},D.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!D.DEBUG)return!0;var t,r,n=e.c,a=e.e,i=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===i||-1===i)&&a>=-1e9&&a<=1e9&&a===o(a)){if(0===n[0]){if(0===a&&1===n.length)return!0;break e}if((t=(a+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===a&&(null===i||1===i||-1===i))return!0;throw Error(s+"Invalid BigNumber: "+e)},D.maximum=D.max=function(){return U(arguments,-1)},D.minimum=D.min=function(){return U(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return o(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},D.random=function(e){var t,n,a,l,d,c=0,p=[],h=new D(E);if(null==e?e=T:m(e,0,1e9),l=i(e/14),j)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));c<l;)(d=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(p.push(d%1e14),c+=2);c=l/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(l*=7);c<l;)(d=(31&t[c])*0x1000000000000+0x10000000000*t[c+1]+0x100000000*t[c+2]+0x1000000*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(p.push(d%1e14),c+=7);c=l/7}else throw j=!1,Error(s+"crypto unavailable");if(!j)for(;c<l;)(d=r())<9e15&&(p[c++]=d%1e14);for(l=p[--c],e%=14,l&&e&&(d=u[14-e],p[c]=o(l/d)*d);0===p[c];p.pop(),c--);if(c<0)p=[a=0];else{for(a=-1;0===p[0];p.splice(0,1),a-=14);for(c=1,d=p[0];d>=10;d/=10,c++);c<14&&(a-=14-c)}return h.e=a,h.c=p,h},D.sum=function(){for(var e=1,t=arguments,r=new D(t[0]);e<t.length;)r=r.plus(t[e++]);return r},S=function(){var e="0123456789";function t(e,t,r,n){for(var a,i,o=[0],s=0,l=e.length;s<l;){for(i=o.length;i--;o[i]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),a=0;a<o.length;a++)o[a]>r-1&&(null==o[a+1]&&(o[a+1]=0),o[a+1]+=o[a]/r|0,o[a]%=r)}return o.reverse()}return function(r,n,a,i,o){var s,l,u,d,p,m,h,f,y=r.indexOf("."),v=T,b=O;for(y>=0&&(d=R,R=0,r=r.replace(".",""),m=(f=new D(n)).pow(r.length-y),R=d,f.c=t(g(c(m.c),m.e,"0"),10,a,e),f.e=f.c.length),u=d=(h=t(r,n,a,o?(s=$,e):(s=e,$))).length;0==h[--d];h.pop());if(!h[0])return s.charAt(0);if(y<0?--u:(m.c=h,m.e=u,m.s=i,h=(m=w(m,f,v,b,a)).c,p=m.r,u=m.e),y=h[l=u+v+1],d=a/2,p=p||l<0||null!=h[l+1],p=b<4?(null!=y||p)&&(0==b||b==(m.s<0?3:2)):y>d||y==d&&(4==b||p||6==b&&1&h[l-1]||b==(m.s<0?8:7)),l<1||!h[0])r=p?g(s.charAt(1),-v,s.charAt(0)):s.charAt(0);else{if(h.length=l,p)for(--a;++h[--l]>a;)h[l]=0,l||(++u,h=[1].concat(h));for(d=h.length;!h[--d];);for(y=0,r="";y<=d;r+=s.charAt(h[y++]));r=g(r,u,s.charAt(0))}return r}}(),w=function(){function e(e,t,r){var n,a,i,o,s=0,l=e.length,u=t%1e7,d=t/1e7|0;for(e=e.slice();l--;)n=d*(i=e[l]%1e7)+(o=e[l]/1e7|0)*u,s=((a=u*i+n%1e7*1e7+s)/r|0)+(n/1e7|0)+d*o,e[l]=a%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r,n){for(var a=0;r--;)e[r]-=a,a=+(e[r]<t[r]),e[r]=a*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,a,i,s,l){var u,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O=n.s==a.s?1:-1,I=n.c,P=a.c;if(!I||!I[0]||!P||!P[0])return new D(!n.s||!a.s||(I?P&&I[0]==P[0]:!P)?NaN:I&&0==I[0]||!P?0*O:O/0);for(v=(y=new D(O)).c=[],O=i+(c=n.e-a.e)+1,l||(l=1e14,c=d(n.e/14)-d(a.e/14),O=O/14|0),p=0;P[p]==(I[p]||0);p++);if(P[p]>(I[p]||0)&&c--,O<0)v.push(1),m=!0;else{for(k=I.length,E=P.length,p=0,O+=2,(h=o(l/(P[0]+1)))>1&&(P=e(P,h,l),I=e(I,h,l),E=P.length,k=I.length),S=E,_=(b=I.slice(0,E)).length;_<E;b[_++]=0);T=[0].concat(T=P.slice()),x=P[0],P[1]>=l/2&&x++;do{if(h=0,(u=t(P,b,E,_))<0){if(w=b[0],E!=_&&(w=w*l+(b[1]||0)),(h=o(w/x))>1)for(h>=l&&(h=l-1),g=(f=e(P,h,l)).length,_=b.length;1==t(f,b,g,_);)h--,r(f,E<g?T:P,g,l),g=f.length,u=1;else 0==h&&(u=h=1),g=(f=P.slice()).length;if(g<_&&(f=[0].concat(f)),r(b,f,_,l),_=b.length,-1==u)for(;1>t(P,b,E,_);)h++,r(b,E<_?T:P,_,l),_=b.length}else 0===u&&(h++,b=[0]);v[p++]=h,b[0]?b[_++]=I[S]||0:(b=[I[S]],_=1)}while((S++<k||null!=b[0])&&O--)m=null!=b[0],v[0]||v.splice(0,1)}if(1e14==l){for(p=1,O=v[0];O>=10;O/=10,p++);q(y,i+(y.e=p+14*c-1)+1,s,m)}else y.e=c,y.r=+m;return y}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,v=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,r,a){var i,o=r?t:t.replace(_,"");if(b.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(n,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,a&&a!=i?e:t}),a&&(i=a,o=o.replace(y,"$1").replace(v,"0.$1")),t!=o))return new D(o,i);if(D.DEBUG)throw Error(s+"Not a"+(a?" base "+a:"")+" number: "+t);e.s=null}e.c=e.e=null},x.absoluteValue=x.abs=function(){var e=new D(this);return e.s<0&&(e.s=1),e},x.comparedTo=function(e,t){return p(this,new D(e,t))},x.decimalPlaces=x.dp=function(e,t){var r,n,a;if(null!=e)return m(e,0,1e9),null==t?t=O:m(t,0,8),q(new D(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((a=r.length-1)-d(this.e/14))*14,a=r[a])for(;a%10==0;a/=10,n--);return n<0&&(n=0),n},x.dividedBy=x.div=function(e,t){return w(this,new D(e,t),T,O)},x.dividedToIntegerBy=x.idiv=function(e,t){return w(this,new D(e,t),0,1)},x.exponentiatedBy=x.pow=function(e,t){var r,n,a,l,u,d,c,p,m,f=this;if((e=new D(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+V(e));if(null!=t&&(t=new D(t)),d=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return m=new D(Math.pow(+V(f),d?e.s*(2-h(e)):+V(e))),t?m.mod(t):m;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new D(NaN);(n=!c&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||d&&f.c[1]>=24e7:f.c[0]<8e13||d&&f.c[0]<=9999975e7)))return l=f.s<0&&h(e)?-0:0,f.e>-1&&(l=1/l),new D(c?1/l:l);R&&(l=i(R/14+2))}for(d?(r=new D(.5),c&&(e.s=1),p=h(e)):p=(a=Math.abs(+V(e)))%2,m=new D(E);;){if(p){if(!(m=m.times(f)).c)break;l?m.c.length>l&&(m.c.length=l):n&&(m=m.mod(t))}if(a){if(0===(a=o(a/2)))break;p=a%2}else if(q(e=e.times(r),e.e+1,1),e.e>14)p=h(e);else{if(0==(a=+V(e)))break;p=a%2}f=f.times(f),l?f.c&&f.c.length>l&&(f.c.length=l):n&&(f=f.mod(t))}return n?m:(c&&(m=E.div(m)),t?m.mod(t):l?q(m,R,O,u):m)},x.integerValue=function(e){var t=new D(this);return null==e?e=O:m(e,0,8),q(t,t.e+1,e)},x.isEqualTo=x.eq=function(e,t){return 0===p(this,new D(e,t))},x.isFinite=function(){return!!this.c},x.isGreaterThan=x.gt=function(e,t){return p(this,new D(e,t))>0},x.isGreaterThanOrEqualTo=x.gte=function(e,t){return 1===(t=p(this,new D(e,t)))||0===t},x.isInteger=function(){return!!this.c&&d(this.e/14)>this.c.length-2},x.isLessThan=x.lt=function(e,t){return 0>p(this,new D(e,t))},x.isLessThanOrEqualTo=x.lte=function(e,t){return -1===(t=p(this,new D(e,t)))||0===t},x.isNaN=function(){return!this.s},x.isNegative=function(){return this.s<0},x.isPositive=function(){return this.s>0},x.isZero=function(){return!!this.c&&0==this.c[0]},x.minus=function(e,t){var r,n,a,i,o=this.s;if(t=(e=new D(e,t)).s,!o||!t)return new D(NaN);if(o!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,u=this.c,c=e.c;if(!s||!l){if(!u||!c)return u?(e.s=-t,e):new D(c?this:NaN);if(!u[0]||!c[0])return c[0]?(e.s=-t,e):new D(u[0]?this:3==O?-0:0)}if(s=d(s),l=d(l),u=u.slice(),o=s-l){for((i=o<0)?(o=-o,a=u):(l=s,a=c),a.reverse(),t=o;t--;a.push(0));a.reverse()}else for(n=(i=(o=u.length)<(t=c.length))?o:t,o=t=0;t<n;t++)if(u[t]!=c[t]){i=u[t]<c[t];break}if(i&&(a=u,u=c,c=a,e.s=-e.s),(t=(n=c.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=1e14-1;n>o;){if(u[--n]<c[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=1e14}u[n]-=c[n]}for(;0==u[0];u.splice(0,1),--l);return u[0]?L(e,u,l):(e.s=3==O?-1:1,e.c=[e.e=0],e)},x.modulo=x.mod=function(e,t){var r,n;return(e=new D(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==z?(n=e.s,e.s=1,r=w(this,e,0,3),e.s=n,r.s*=n):r=w(this,e,0,z),(e=this.minus(r.times(e))).c[0]||1!=z||(e.s=this.s),e):new D(this):new D(NaN)},x.multipliedBy=x.times=function(e,t){var r,n,a,i,o,s,l,u,c,p,m,h,f,g=this.c,y=(e=new D(e,t)).c;if(!g||!y||!g[0]||!y[0])return this.s&&e.s&&(!g||g[0]||y)&&(!y||y[0]||g)?(e.s*=this.s,g&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=d(this.e/14)+d(e.e/14),e.s*=this.s,(l=g.length)<(p=y.length)&&(f=g,g=y,y=f,a=l,l=p,p=a),a=l+p,f=[];a--;f.push(0));for(a=p;--a>=0;){for(r=0,m=y[a]%1e7,h=y[a]/1e7|0,i=a+(o=l);i>a;)s=h*(u=g[--o]%1e7)+(c=g[o]/1e7|0)*m,r=((u=m*u+s%1e7*1e7+f[i]+r)/1e14|0)+(s/1e7|0)+h*c,f[i--]=u%1e14;f[i]=r}return r?++n:f.splice(0,1),L(e,f,n)},x.negated=function(){var e=new D(this);return e.s=-e.s||null,e},x.plus=function(e,t){var r,n=this.s;if(t=(e=new D(e,t)).s,!n||!t)return new D(NaN);if(n!=t)return e.s=-t,this.minus(e);var a=this.e/14,i=e.e/14,o=this.c,s=e.c;if(!a||!i){if(!o||!s)return new D(n/0);if(!o[0]||!s[0])return s[0]?e:new D(o[0]?this:0*n)}if(a=d(a),i=d(i),o=o.slice(),n=a-i){for(n>0?(i=a,r=s):(n=-n,r=o),r.reverse();n--;r.push(0));r.reverse()}for((n=o.length)-(t=s.length)<0&&(r=s,s=o,o=r,t=n),n=0;t;)n=(o[--t]=o[t]+s[t]+n)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return n&&(o=[n].concat(o),++i),L(e,o,i)},x.precision=x.sd=function(e,t){var r,n,a;if(null!=e&&!!e!==e)return m(e,1,1e9),null==t?t=O:m(t,0,8),q(new D(this),e,t);if(!(r=this.c))return null;if(n=14*(a=r.length-1)+1,a=r[a]){for(;a%10==0;a/=10,n--);for(a=r[0];a>=10;a/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},x.shiftedBy=function(e){return m(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},x.squareRoot=x.sqrt=function(){var e,t,r,n,a,i=this.c,o=this.s,s=this.e,l=T+4,u=new D("0.5");if(1!==o||!i||!i[0])return new D(!o||o<0&&(!i||i[0])?NaN:i?this:1/0);if(0==(o=Math.sqrt(+V(this)))||o==1/0?(((t=c(i)).length+s)%2==0&&(t+="0"),o=Math.sqrt(+t),s=d((s+1)/2)-(s<0||s%2),r=new D(t=o==1/0?"5e"+s:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new D(o+""),r.c[0]){for((o=(s=r.e)+l)<3&&(o=0);;)if(a=r,r=u.times(a.plus(w(this,a,l,1))),c(a.c).slice(0,o)===(t=c(r.c)).slice(0,o)){if(r.e<s&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+T+2,1),e=!r.times(r).eq(this));break}if(!n&&(q(a,a.e+T+2,0),a.times(a).eq(this))){r=a;break}l+=4,o+=4,n=1}}return q(r,r.e+T+1,O,e)},x.toExponential=function(e,t){return null!=e&&(m(e,0,1e9),e++),F(this,e,t,1)},x.toFixed=function(e,t){return null!=e&&(m(e,0,1e9),e=e+this.e+1),F(this,e,t)},x.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=N;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var a,i=n.split("."),o=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",d=i[0],c=i[1],p=this.s<0,m=p?d.slice(1):d,h=m.length;if(l&&(a=o,o=l,l=a,h-=a),o>0&&h>0){for(a=h%o||o,d=m.substr(0,a);a<h;a+=o)d+=u+m.substr(a,o);l>0&&(d+=u+m.slice(a)),p&&(d="-"+d)}n=c?d+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?c.replace(RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):c):d}return(r.prefix||"")+n+(r.suffix||"")},x.toFraction=function(e){var t,r,n,a,i,o,l,d,p,m,h,f,g=this.c;if(null!=e&&(!(l=new D(e)).isInteger()&&(l.c||1!==l.s)||l.lt(E)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+V(l));if(!g)return new D(this);for(t=new D(E),p=r=new D(E),n=d=new D(E),f=c(g),i=t.e=f.length-this.e-1,t.c[0]=u[(o=i%14)<0?14+o:o],e=!e||l.comparedTo(t)>0?i>0?t:p:l,o=A,A=1/0,l=new D(f),d.c[0]=0;m=w(l,t,0,1),1!=(a=r.plus(m.times(n))).comparedTo(e);)r=n,n=a,p=d.plus(m.times(a=p)),d=a,t=l.minus(m.times(a=t)),l=a;return a=w(e.minus(r),n,0,1),d=d.plus(a.times(p)),r=r.plus(a.times(n)),d.s=p.s=this.s,i*=2,h=1>w(p,n,i,O).minus(this).abs().comparedTo(w(d,r,i,O).minus(this).abs())?[p,n]:[d,r],A=o,h},x.toNumber=function(){return+V(this)},x.toPrecision=function(e,t){return null!=e&&m(e,1,1e9),F(this,e,t,2)},x.toString=function(e){var t,r=this,n=r.s,a=r.e;return null===a?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=a<=I||a>=P?f(c(r.c),a):g(c(r.c),a,"0"):10===e&&M?t=g(c((r=q(new D(r),T+a+1,O)).c),r.e,"0"):(m(e,2,$.length,"Base"),t=S(g(c(r.c),a,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},x.valueOf=x.toJSON=function(){return V(this)},x._isBigNumber=!0,null!=t&&D.set(t),D}()).default=n.BigNumber=n,"function"==typeof define&&define.amd)e.r,void 0!==n&&e.v(n);else t.exports?t.exports=n:(r||(r="u">typeof self&&self?self:window),r.BigNumber=n)}(e.e)},64349,(e,t,r)=>{var n=e.r(45905),a=t.exports;!function(){"use strict";var e,t,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=o[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof a.stringify&&(a.stringify=function(a,i,o){var l;if(e="",t="","number"==typeof o)for(l=0;l<o;l+=1)t+=" ";else"string"==typeof o&&(t=o);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw Error("JSON.stringify");return function a(i,o){var l,u,d,c,p,m=e,h=o[i],f=null!=h&&(h instanceof n||n.isBigNumber(h));switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(i)),"function"==typeof r&&(h=r.call(o,i,h)),typeof h){case"string":if(f)return h;return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":case"bigint":return String(h);case"object":if(!h)return"null";if(e+=t,p=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=0,c=h.length;l<c;l+=1)p[l]=a(l,h)||"null";return d=0===p.length?"[]":e?"[\n"+e+p.join(",\n"+e)+"\n"+m+"]":"["+p.join(",")+"]",e=m,d}if(r&&"object"==typeof r)for(l=0,c=r.length;l<c;l+=1)"string"==typeof r[l]&&(d=a(u=r[l],h))&&p.push(s(u)+(e?": ":":")+d);else Object.keys(h).forEach(function(t){var r=a(t,h);r&&p.push(s(t)+(e?": ":":")+r)});return d=0===p.length?"{}":e?"{\n"+e+p.join(",\n"+e)+"\n"+m+"}":"{"+p.join(",")+"}",e=m,d}}("",{"":a})})}()},67104,(e,t,r)=>{var n=null;let a=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){"use strict";var r={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(r.strict=!0),!0===t.storeAsString&&(r.storeAsString=!0),r.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,r.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction)if("error"===t.constructorAction||"ignore"===t.constructorAction||"preserve"===t.constructorAction)r.constructorAction=t.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(void 0!==t.protoAction)if("error"===t.protoAction||"ignore"===t.protoAction||"preserve"===t.protoAction)r.protoAction=t.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var o,s,l,u,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},c=function(e){throw{name:"SyntaxError",message:e,at:o,text:l}},p=function(e){return e&&e!==s&&c("Expected '"+e+"' instead of '"+s+"'"),s=l.charAt(o),o+=1,s},m=function(){var t,a="";for("-"===s&&(a="-",p("-"));s>="0"&&s<="9";)a+=s,p();if("."===s)for(a+=".";p()&&s>="0"&&s<="9";)a+=s;if("e"===s||"E"===s)for(a+=s,p(),("-"===s||"+"===s)&&(a+=s,p());s>="0"&&s<="9";)a+=s,p();if(isFinite(t=+a))return(null==n&&(n=e.r(45905)),a.length>15)?r.storeAsString?a:r.useNativeBigInt?BigInt(a):new n(a):r.alwaysParseAsBig?r.useNativeBigInt?BigInt(t):new n(t):t;c("Bad number")},h=function(){var e,t,r,n="";if('"'===s)for(var a=o;p();){if('"'===s)return o-1>a&&(n+=l.substring(a,o-1)),p(),n;if("\\"===s){if(o-1>a&&(n+=l.substring(a,o-1)),p(),"u"===s){for(t=0,r=0;t<4&&isFinite(e=parseInt(p(),16));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else if("string"==typeof d[s])n+=d[s];else break;a=o}}c("Bad string")},f=function(){for(;s&&s<=" ";)p()},g=function(){switch(s){case"t":return p("t"),p("r"),p("u"),p("e"),!0;case"f":return p("f"),p("a"),p("l"),p("s"),p("e"),!1;case"n":return p("n"),p("u"),p("l"),p("l"),null}c("Unexpected '"+s+"'")},y=function(){var e=[];if("["===s){if(p("["),f(),"]"===s)return p("]"),e;for(;s;){if(e.push(u()),f(),"]"===s)return p("]"),e;p(","),f()}}c("Bad array")},v=function(){var e,t=Object.create(null);if("{"===s){if(p("{"),f(),"}"===s)return p("}"),t;for(;s;){if(e=h(),f(),p(":"),!0===r.strict&&Object.hasOwnProperty.call(t,e)&&c('Duplicate key "'+e+'"'),!0===a.test(e)?"error"===r.protoAction?c("Object contains forbidden prototype property"):"ignore"===r.protoAction?u():t[e]=u():!0===i.test(e)?"error"===r.constructorAction?c("Object contains forbidden constructor property"):"ignore"===r.constructorAction?u():t[e]=u():t[e]=u(),f(),"}"===s)return p("}"),t;p(","),f()}}c("Bad object")};return u=function(){switch(f(),s){case"{":return v();case"[":return y();case'"':return h();case"-":return m();default:return s>="0"&&s<="9"?m():g()}},function(e,t){var r;return l=e+"",o=0,s=" ",r=u(),f(),s&&c("Syntax error"),"function"==typeof t?function e(r,n){var a,i=r[n];return i&&"object"==typeof i&&Object.keys(i).forEach(function(t){void 0!==(a=e(i,t))?i[t]=a:delete i[t]}),t.call(r,n,i)}({"":r},""):r}}},1158,(e,t,r)=>{var n=e.r(64349).stringify,a=e.r(67104);t.exports=function(e){return{parse:a(e),stringify:n}},t.exports.parse=a(),t.exports.stringify=n},27699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},6737,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Colours=void 0;class n{static isEnabled(e){return e&&e.isTTY&&("function"!=typeof e.getColorDepth||e.getColorDepth()>2)}static refresh(){n.enabled=n.isEnabled(null==process?void 0:process.stderr),this.enabled?(n.reset="\x1b[0m",n.bright="\x1b[1m",n.dim="\x1b[2m",n.red="\x1b[31m",n.green="\x1b[32m",n.yellow="\x1b[33m",n.blue="\x1b[34m",n.magenta="\x1b[35m",n.cyan="\x1b[36m",n.white="\x1b[37m",n.grey="\x1b[90m"):(n.reset="",n.bright="",n.dim="",n.red="",n.green="",n.yellow="",n.blue="",n.magenta="",n.cyan="",n.white="",n.grey="")}}r.Colours=n,n.enabled=!1,n.reset="",n.bright="",n.dim="",n.red="",n.green="",n.yellow="",n.blue="",n.magenta="",n.cyan="",n.white="",n.grey="",n.refresh()},90812,(e,t,r)=>{"use strict";let n;var a,i,o,s=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=e.e&&e.e.__importStar||(a=function(e){return(a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),n=0;n<r.length;n++)"default"!==r[n]&&s(t,e,r[n]);return l(t,e),t});Object.defineProperty(r,"__esModule",{value:!0}),r.env=r.DebugLogBackendBase=r.placeholder=r.AdhocDebugLogger=r.LogSeverity=void 0,r.getNodeBackend=y,r.getDebugBackend=function(e){return new v(e)},r.getStructuredBackend=function(e){return new b(e)},r.setBackend=function(e){n=e,_.clear()},r.log=w;let d=e.r(27699),c=u(e.r(5365)),p=u(e.r(24361)),m=e.r(6737);(i=o||(r.LogSeverity=o={})).DEFAULT="DEFAULT",i.DEBUG="DEBUG",i.INFO="INFO",i.WARNING="WARNING",i.ERROR="ERROR";class h extends d.EventEmitter{constructor(e,t){super(),this.namespace=e,this.upstream=t,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(e,t)=>this.on(e,t)}),this.func.debug=(...e)=>this.invokeSeverity(o.DEBUG,...e),this.func.info=(...e)=>this.invokeSeverity(o.INFO,...e),this.func.warn=(...e)=>this.invokeSeverity(o.WARNING,...e),this.func.error=(...e)=>this.invokeSeverity(o.ERROR,...e),this.func.sublog=e=>w(e,this.func)}invoke(e,...t){if(this.upstream)try{this.upstream(e,...t)}catch(e){}try{this.emit("log",e,t)}catch(e){}}invokeSeverity(e,...t){this.invoke({severity:e},...t)}}r.AdhocDebugLogger=h,r.placeholder=new h("",()=>{}).func;class f{constructor(){var e;this.cached=new Map,this.filters=[],this.filtersSet=!1;let t=null!=(e=c.env[r.env.nodeEnables])?e:"*";"all"===t&&(t="*"),this.filters=t.split(",")}log(e,t,...r){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let n=this.cached.get(e);n||(n=this.makeLogger(e),this.cached.set(e,n)),n(t,...r)}catch(e){console.error(e)}}}r.DebugLogBackendBase=f;class g extends f{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(e){return this.enabledRegexp.test(e)}makeLogger(e){return this.enabledRegexp.test(e)?(t,...r)=>{var n;let a,i=`${m.Colours.green}${e}${m.Colours.reset}`,s=`${m.Colours.yellow}${c.pid}${m.Colours.reset}`;switch(t.severity){case o.ERROR:a=`${m.Colours.red}${t.severity}${m.Colours.reset}`;break;case o.INFO:a=`${m.Colours.magenta}${t.severity}${m.Colours.reset}`;break;case o.WARNING:a=`${m.Colours.yellow}${t.severity}${m.Colours.reset}`;break;default:a=null!=(n=t.severity)?n:o.DEFAULT}let l=p.formatWithOptions({colors:m.Colours.enabled},...r),u=Object.assign({},t);delete u.severity;let d=Object.getOwnPropertyNames(u).length?JSON.stringify(u):"",h=d?`${m.Colours.grey}${d}${m.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",s,i,a,l,d?` ${h}`:"")}:()=>{}}setFilters(){let e=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=RegExp(`^${e}$`,"i")}}function y(){return new g}class v extends f{constructor(e){super(),this.debugPkg=e}makeLogger(e){let t=this.debugPkg(e);return(e,...r)=>{t(r[0],...r.slice(1))}}setFilters(){var e;let t=null!=(e=c.env.NODE_DEBUG)?e:"";c.env.NODE_DEBUG=`${t}${t?",":""}${this.filters.join(",")}`}}class b extends f{constructor(e){super(),this.upstream=null!=e?e:void 0}makeLogger(e){var t;let r=null==(t=this.upstream)?void 0:t.makeLogger(e);return(e,...t)=>{var n;let a=JSON.stringify(Object.assign({severity:null!=(n=e.severity)?n:o.INFO,message:p.format(...t)},e));r?r(e,a):console.log("%s",a)}}setFilters(){var e;null==(e=this.upstream)||e.setFilters()}}r.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};let _=new Map;function w(e,t){let a;if(!n&&!c.env[r.env.nodeEnables]||!e)return r.placeholder;t&&(e=`${t.instance.namespace}:${e}`);let i=_.get(e);if(i)return i.func;if(null===n)return r.placeholder;void 0===n&&(n=y());let o=new h(e,(t,...r)=>{if(a!==n){if(null===n)return;void 0===n&&(n=y()),a=n}null==n||n.log(e,t,...r)});return _.set(e,o),o.func}},47637,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(90812),r)},82e3,(e,t,r)=>{"use strict";let n;var a,i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||(a=function(e){return(a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return o(t,e),t}),l=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.gcpResidencyCache=r.METADATA_SERVER_DETECTION=r.HEADERS=r.HEADER_VALUE=r.HEADER_NAME=r.SECONDARY_HOST_ADDRESS=r.HOST_ADDRESS=r.BASE_PATH=void 0,r.instance=function(e){return f("instance",e)},r.project=function(e){return f("project",e)},r.universe=function(e){return f("universe",e)},r.bulk=y,r.isAvailable=v,r.resetIsAvailableCache=function(){n=void 0},r.getGCPResidency=b,r.setGCPResidency=_,r.requestTimeout=w;let u=e.r(57612),d=e.r(1158),c=e.r(29077),p=s(e.r(47637));r.BASE_PATH="/computeMetadata/v1",r.HOST_ADDRESS="http://169.254.169.254",r.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",r.HEADER_NAME="Metadata-Flavor",r.HEADER_VALUE="Google",r.HEADERS=Object.freeze({[r.HEADER_NAME]:r.HEADER_VALUE});let m=p.log("gcp-metadata");function h(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||r.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(r.BASE_PATH,e).href}async function f(e,t={},n=3,a=!1){let i=new Headers(r.HEADERS),o="",s={};("object"==typeof e?(new Headers(e.headers).forEach((e,t)=>i.set(t,e)),o=e.metadataKey,s=e.params||s,n=e.noResponseRetries||n,a=e.fastFail||a):o=e,"string"==typeof t)?o+=`/${t}`:(Object.keys(t).forEach(e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw Error(`'${e}' is not a valid configuration option.`)}}),t.property&&(o+=`/${t.property}`),new Headers(t.headers).forEach((e,t)=>i.set(t,e)),s=t.params||s);let l=a?g:u.request,c={url:`${h()}/${o}`,headers:i,retryConfig:{noResponseRetries:n},params:s,responseType:"text",timeout:w()};m.info("instance request %j",c);let p=await l(c);m.info("instance metadata is %s",p.data);let y=p.headers.get(r.HEADER_NAME);if(y!==r.HEADER_VALUE)throw RangeError(`Invalid response from metadata service: incorrect ${r.HEADER_NAME} header. Expected '${r.HEADER_VALUE}', got ${y?`'${y}'`:"no header"}`);if("string"==typeof p.data)try{return d.parse(p.data)}catch{}return p.data}async function g(e){let t={...e,url:e.url?.toString().replace(h(),h(r.SECONDARY_HOST_ADDRESS))};return Promise.any([(0,u.request)(e),(0,u.request)(t)])}async function y(e){let t={};return await Promise.all(e.map(e=>(async()=>{let r=await f(e);t[e.metadataKey]=r})())),t}async function v(){if(process.env.METADATA_SERVER_DETECTION){let e=process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(e in r.METADATA_SERVER_DETECTION))throw RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${e}\`, but it should be \`${Object.keys(r.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(e){case"assume-present":return!0;case"none":return!1;case"bios-only":return b()}}try{return void 0===n&&(n=f("instance",void 0,process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0,!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),await n,!0}catch(e){if(process.env.DEBUG_AUTH&&console.info(e),"request-timeout"===e.type||e.response&&404===e.response.status)return!1;if(!(e.response&&404===e.response.status)&&(!e.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(e.code.toString()))){let t="UNKNOWN";e.code&&(t=e.code.toString()),process.emitWarning(`received unexpected error = ${e.message} code = ${t}`,"MetadataLookupWarning")}return!1}}function b(){return null===r.gcpResidencyCache&&_(),r.gcpResidencyCache}function _(e=null){r.gcpResidencyCache=null!==e?e:(0,c.detectGCPResidency)()}function w(){return 3e3*!b()}r.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"}),r.gcpResidencyCache=null,l(e.r(29077),r)},6920,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},r.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],l=new i((o+s)*3/4-s),d=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,l[d++]=255&t),1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=0,s=r-a;o<s;o+=16383)i.push(function(e,t,r){for(var a,i=[],o=t;o<r;o+=3)a=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(n[a>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return i.join("")}(e,o,o+16383>s?s:o+16383));return 1===a?i.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===a&&i.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),i.join("")};for(var n=[],a=[],i="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}a[45]=62,a[95]=63},46902,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromArrayBufferToHex=function(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}},69216,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BrowserCrypto=void 0;let n=e.r(6920),a=e.r(46902);class i{constructor(){throw Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(e){let t=new TextEncoder().encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return n.fromByteArray(new Uint8Array(r))}randomBytesBase64(e){let t=new Uint8Array(e);return window.crypto.getRandomValues(t),n.fromByteArray(t)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(e,t,r){let a={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=new TextEncoder().encode(t),s=n.toByteArray(i.padBase64(r)),l=await window.crypto.subtle.importKey("jwk",e,a,!0,["verify"]);return await window.crypto.subtle.verify(a,l,s,o)}async sign(e,t){let r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=new TextEncoder().encode(t),i=await window.crypto.subtle.importKey("jwk",e,r,!0,["sign"]),o=await window.crypto.subtle.sign(r,i,a);return n.fromByteArray(new Uint8Array(o))}decodeBase64StringUtf8(e){let t=n.toByteArray(i.padBase64(e));return new TextDecoder().decode(t)}encodeBase64StringUtf8(e){let t=new TextEncoder().encode(e);return n.fromByteArray(t)}async sha256DigestHex(e){let t=new TextEncoder().encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return(0,a.fromArrayBufferToHex)(r)}async signWithHmacSha256(e,t){let r="string"==typeof e?e:String.fromCharCode(...new Uint16Array(e)),n=new TextEncoder,a=await window.crypto.subtle.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",a,n.encode(t))}}r.BrowserCrypto=i},21962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NodeCrypto=void 0;let n=e.r(54799);r.NodeCrypto=class{async sha256DigestBase64(e){return n.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return n.randomBytes(e).toString("base64")}async verify(e,t,r){let a=n.createVerify("RSA-SHA256");return a.update(t),a.end(),a.verify(e,r,"base64")}async sign(e,t){let r=n.createSign("RSA-SHA256");return r.update(t),r.end(),r.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}async sha256DigestHex(e){return n.createHash("sha256").update(e).digest("hex")}async signWithHmacSha256(e,t){var r,a;let i="string"==typeof e?e:(r=e,Buffer.from(r));return(a=n.createHmac("sha256",i).update(t).digest()).buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}}},59501,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.createCrypto=function(){return function(){;}(),new i.NodeCrypto},r.hasBrowserCrypto=o,e.r(69216);let i=e.r(21962);function o(){return!1}a(e.r(46902),r)},45706,(e,t,r)=>{t.exports=e.x("querystring",()=>require("querystring"))},23469,(e,t,r)=>{var n=e.r(874),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(i(n,r),r.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},65880,(e,t,r)=>{"use strict";function n(e){return(e/8|0)+ +(e%8!=0)}var a={ES256:n(256),ES384:n(384),ES512:n(521)};t.exports=function(e){var t=a[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},32955,(e,t,r)=>{"use strict";var n=e.r(23469).Buffer,a=e.r(65880);function i(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function o(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}t.exports={derToJose:function(e,t){e=i(e);var r=a(t),o=r+1,s=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var u=e[l++];if(129===u&&(u=e[l++]),s-l<u)throw Error('"seq" specified length of "'+u+'", only "'+(s-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var d=e[l++];if(s-l-2<d)throw Error('"r" specified length of "'+d+'", only "'+(s-l-2)+'" available');if(o<d)throw Error('"r" specified length of "'+d+'", max of "'+o+'" is acceptable');var c=l;if(l+=d,2!==e[l++])throw Error('Could not find expected "int" for "s"');var p=e[l++];if(s-l!==p)throw Error('"s" specified length of "'+p+'", expected "'+(s-l)+'"');if(o<p)throw Error('"s" specified length of "'+p+'", max of "'+o+'" is acceptable');var m=l;if((l+=p)!==s)throw Error('Expected to consume entire buffer, but "'+(s-l)+'" bytes remain');var h=r-d,f=r-p,g=n.allocUnsafe(h+d+f+p);for(l=0;l<h;++l)g[l]=0;e.copy(g,l,c+Math.max(-h,0),c+d),l=r;for(var y=l;l<y+f;++l)g[l]=0;return e.copy(g,l,m+Math.max(-f,0),m+p),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=i(e);var r=a(t),s=e.length;if(s!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+s+'"');var l=o(e,0,r),u=o(e,r,e.length),d=r-l,c=r-u,p=2+d+1+1+c,m=p<128,h=n.allocUnsafe((m?2:3)+p),f=0;return h[f++]=48,m?h[f++]=p:(h[f++]=129,h[f++]=255&p),h[f++]=2,h[f++]=d,l<0?(h[f++]=0,f+=e.copy(h,f,0,r)):f+=e.copy(h,f,l,r),h[f++]=2,h[f++]=c,u<0?(h[f++]=0,e.copy(h,f,r)):e.copy(h,f,r+u),h}}},15733,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0,r.snakeToCamel=s,r.originalOrCamelOptions=function(e){return{get:function(t){let r=e||{};return r[t]??r[s(t)]}}},r.removeUndefinedValuesInObject=function(e){return Object.entries(e).forEach(([t,r])=>{(void 0===r||"undefined"===r)&&delete e[t]}),e},r.isValidFile=u,r.getWellKnownCertificateConfigFileLocation=function(){let e=process.env.CLOUDSDK_CONFIG||(a.platform().startsWith("win")?i.join(process.env.APPDATA||"",o):i.join(process.env.HOME||"",".config",o));return i.join(e,"certificate_config.json")};let n=e.r(22734),a=e.r(46786),i=e.r(14747),o="gcloud";function s(e){return e.replace(/([_][^_])/g,e=>e.slice(1).toUpperCase())}class l{capacity;#u=new Map;maxAge;constructor(e){this.capacity=e.capacity,this.maxAge=e.maxAge}#d(e,t){this.#u.delete(e),this.#u.set(e,{value:t,lastAccessed:Date.now()})}set(e,t){this.#d(e,t),this.#c()}get(e){let t=this.#u.get(e);if(t)return this.#d(e,t.value),this.#c(),t.value}#c(){let e=this.maxAge?Date.now()-this.maxAge:0,t=this.#u.entries().next();for(;!t.done&&(this.#u.size>this.capacity||t.value[1].lastAccessed<e);)this.#u.delete(t.value[0]),t=this.#u.entries().next()}}async function u(e){try{return(await n.promises.lstat(e)).isFile()}catch(e){return!1}}r.LRUCache=l},91829,e=>{e.v({name:"google-auth-library",version:"10.5.0",author:"Google Inc.",description:"Google APIs Authentication Client Library for Node.js",engines:{node:">=18"},main:"./build/src/index.js",types:"./build/src/index.d.ts",repository:"googleapis/google-auth-library-nodejs.git",keywords:["google","api","google apis","client","client library"],dependencies:{"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11",gaxios:"^7.0.0","gcp-metadata":"^8.0.0","google-logging-utils":"^1.0.0",gtoken:"^8.0.0",jws:"^4.0.0"},devDependencies:{"@types/base64-js":"^1.2.5","@types/jws":"^3.1.0","@types/mocha":"^10.0.10","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0",c8:"^10.0.0",codecov:"^3.0.2",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",keypair:"^1.0.4",mocha:"^11.1.0",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.5","null-loader":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","ts-loader":"^8.0.0",typescript:"5.8.2",webpack:"^5.21.2","webpack-cli":"^4.0.0"},files:["build/src","!build/src/**/*.map"],scripts:{test:"c8 mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check --no-inline-config",compile:"tsc -p .",fix:"gts fix",pretest:"npm run compile -- --sourceMap",docs:"jsdoc -c .jsdoc.js","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap",webpack:"webpack","browser-test":"karma start","docs-test":"echo 'disabled until linkinator is fixed'","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install"},license:"Apache-2.0"})},93714,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.USER_AGENT=r.PRODUCT_NAME=r.pkg=void 0;let n=e.r(91829);r.pkg=n;let a="google-api-nodejs-client";r.PRODUCT_NAME=a,r.USER_AGENT=`${a}/${n.version}`},11656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AuthClient=r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=r.DEFAULT_UNIVERSE=void 0;let n=e.r(27699),a=e.r(57612),i=e.r(15733),o=e.r(47637),s=e.r(93714);r.DEFAULT_UNIVERSE="googleapis.com",r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=3e5;class l extends n.EventEmitter{apiKey;projectId;quotaProjectId;transporter;credentials={};eagerRefreshThresholdMillis=r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS;forceRefreshOnFailure=!1;universeDomain=r.DEFAULT_UNIVERSE;static RequestMethodNameSymbol=Symbol("request method name");static RequestLogIdSymbol=Symbol("request log id");constructor(e={}){super();const t=(0,i.originalOrCamelOptions)(e);this.apiKey=e.apiKey,this.projectId=t.get("project_id")??null,this.quotaProjectId=t.get("quota_project_id"),this.credentials=t.get("credentials")??{},this.universeDomain=t.get("universe_domain")??r.DEFAULT_UNIVERSE,this.transporter=e.transporter??new a.Gaxios(e.transporterOptions),!1!==t.get("useAuthRequestParameters")&&(this.transporter.interceptors.request.add(l.DEFAULT_REQUEST_INTERCEPTOR),this.transporter.interceptors.response.add(l.DEFAULT_RESPONSE_INTERCEPTOR)),e.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=e.forceRefreshOnFailure??!1}fetch(...e){let t,r=e[0],n=e[1],i=new Headers;return("string"==typeof r?t=new URL(r):r instanceof URL?t=r:r&&r.url&&(t=new URL(r.url)),r&&"object"==typeof r&&"headers"in r&&a.Gaxios.mergeHeaders(i,r.headers),n&&a.Gaxios.mergeHeaders(i,new Headers(n.headers)),"object"!=typeof r||r instanceof URL)?this.request({...n,headers:i,url:t}):this.request({...n,...r,headers:i,url:t})}setCredentials(e){this.credentials=e}addSharedMetadataHeaders(e){return!e.has("x-goog-user-project")&&this.quotaProjectId&&e.set("x-goog-user-project",this.quotaProjectId),e}addUserProjectAndAuthHeaders(e,t){let r=t.get("x-goog-user-project"),n=t.get("authorization");return r&&e.set("x-goog-user-project",r),n&&e.set("authorization",n),e}static log=(0,o.log)("auth");static DEFAULT_REQUEST_INTERCEPTOR={resolved:async e=>{if(!e.headers.has("x-goog-api-client")){let t=process.version.replace(/^v/,"");e.headers.set("x-goog-api-client",`gl-node/${t}`)}let t=e.headers.get("User-Agent");t?t.includes(`${s.PRODUCT_NAME}/`)||e.headers.set("User-Agent",`${t} ${s.USER_AGENT}`):e.headers.set("User-Agent",s.USER_AGENT);try{let t=e[l.RequestMethodNameSymbol],r=`${Math.floor(1e3*Math.random())}`;e[l.RequestLogIdSymbol]=r;let n={url:e.url,headers:e.headers};t?l.log.info("%s [%s] request %j",t,r,n):l.log.info("[%s] request %j",r,n)}catch(e){}return e}};static DEFAULT_RESPONSE_INTERCEPTOR={resolved:async e=>{try{let t=e.config,r=t[l.RequestMethodNameSymbol],n=t[l.RequestLogIdSymbol];r?l.log.info("%s [%s] response %j",r,n,e.data):l.log.info("[%s] response %j",n,e.data)}catch(e){}return e},rejected:async e=>{try{let t=e.config,r=t[l.RequestMethodNameSymbol],n=t[l.RequestLogIdSymbol];r?l.log.info("%s [%s] error %j",r,n,e.response?.data):l.log.error("[%s] error %j",n,e.response?.data)}catch(e){}throw e}};static setMethodName(e,t){try{e[l.RequestMethodNameSymbol]=t}catch(e){}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}r.AuthClient=l},42602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoginTicket=void 0,r.LoginTicket=class{envelope;payload;constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){let e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}},701,(e,t,r)=>{"use strict";var n,a,i,o,s,l;Object.defineProperty(r,"__esModule",{value:!0}),r.OAuth2Client=r.ClientAuthentication=r.CertificateFormat=r.CodeChallengeMethod=void 0;let u=e.r(57612),d=e.r(45706),c=e.r(88947),p=e.r(32955),m=e.r(15733),h=e.r(59501),f=e.r(11656),g=e.r(42602);(o=n||(r.CodeChallengeMethod=n={})).Plain="plain",o.S256="S256",(s=a||(r.CertificateFormat=a={})).PEM="PEM",s.JWK="JWK",(l=i||(r.ClientAuthentication=i={})).ClientSecretPost="ClientSecretPost",l.ClientSecretBasic="ClientSecretBasic",l.None="None";class y extends f.AuthClient{redirectUri;certificateCache={};certificateExpiry=null;certificateCacheFormat=a.PEM;refreshTokenPromises=new Map;endpoints;issuers;clientAuthentication;_clientId;_clientSecret;refreshHandler;constructor(e={},t,r){super("object"==typeof e?e:{}),"object"!=typeof e&&(e={clientId:e,clientSecret:t,redirectUri:r}),this._clientId=e.clientId||e.client_id,this._clientSecret=e.clientSecret||e.client_secret,this.redirectUri=e.redirectUri||e.redirect_uris?.[0],this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...e.endpoints},this.clientAuthentication=e.clientAuthentication||i.ClientSecretPost,this.issuers=e.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}static GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo";static CLOCK_SKEW_SECS_=300;static DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400;generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw Error("If a code_challenge_method is provided, code_challenge must be included.");return e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+d.stringify(e)}generateCodeVerifier(){throw Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){let e=(0,h.createCrypto)(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),r=(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:t,codeChallenge:r}}getToken(e,t){let r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then(e=>t(null,e.tokens,e.res),e=>t(e,null,e.response))}async getTokenAsync(e){let t=this.endpoints.oauth2TokenUrl.toString(),r=new Headers,n={client_id:e.client_id||this._clientId,code_verifier:e.codeVerifier,code:e.code,grant_type:"authorization_code",redirect_uri:e.redirect_uri||this.redirectUri};if(this.clientAuthentication===i.ClientSecretBasic){let e=Buffer.from(`${this._clientId}:${this._clientSecret}`);r.set("authorization",`Basic ${e.toString("base64")}`)}this.clientAuthentication===i.ClientSecretPost&&(n.client_secret=this._clientSecret);let a={...y.RETRY_CONFIG,method:"POST",url:t,data:new URLSearchParams((0,m.removeUndefinedValuesInObject)(n)),headers:r};f.AuthClient.setMethodName(a,"getTokenAsync");let o=await this.transporter.request(a),s=o.data;return o.data&&o.data.expires_in&&(s.expiry_date=new Date().getTime()+1e3*o.data.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:o}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);let t=this.refreshTokenNoCache(e).then(t=>(this.refreshTokenPromises.delete(e),t),t=>{throw this.refreshTokenPromises.delete(e),t});return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(e){let t;if(!e)throw Error("No refresh token is set.");let r=this.endpoints.oauth2TokenUrl.toString(),n={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};try{let e={...y.RETRY_CONFIG,method:"POST",url:r,data:new URLSearchParams((0,m.removeUndefinedValuesInObject)(n))};f.AuthClient.setMethodName(e,"refreshTokenNoCache"),t=await this.transporter.request(e)}catch(e){throw e instanceof u.GaxiosError&&"invalid_grant"===e.message&&e.response?.data&&/ReAuth/i.test(e.response.data.error_description)&&(e.message=JSON.stringify(e.response.data)),e}let a=t.data;return t.data&&t.data.expires_in&&(a.expiry_date=new Date().getTime()+1e3*t.data.expires_in,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:t}}refreshAccessToken(e){if(!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then(t=>e(null,t.credentials,t.res),e)}async refreshAccessTokenAsync(){let e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then(t=>e(null,t.token,t.res),e)}async getAccessTokenAsync(){if(!(!this.credentials.access_token||this.isTokenExpiring()))return{token:this.credentials.access_token};{if(!this.credentials.refresh_token)if(this.refreshHandler){let e=await this.processAndValidateRefreshHandler();if(e?.access_token)return this.setCredentials(e),{token:this.credentials.access_token}}else throw Error("No refresh token or refresh handler callback is set.");let e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){let t=this.credentials;if(!t.access_token&&!t.refresh_token&&!this.apiKey&&!this.refreshHandler)throw Error("No access, refresh token, API key or refresh handler callback is set.");if(t.access_token&&!this.isTokenExpiring()){t.token_type=t.token_type||"Bearer";let e=new Headers({authorization:t.token_type+" "+t.access_token});return{headers:this.addSharedMetadataHeaders(e)}}if(this.refreshHandler){let e=await this.processAndValidateRefreshHandler();if(e?.access_token){this.setCredentials(e);let t=new Headers({authorization:"Bearer "+this.credentials.access_token});return{headers:this.addSharedMetadataHeaders(t)}}}if(this.apiKey)return{headers:new Headers({"X-Goog-Api-Key":this.apiKey})};let r=null,n=null;try{n=(r=await this.refreshToken(t.refresh_token)).tokens}catch(e){throw e.response&&(403===e.response.status||404===e.response.status)&&(e.message=`Could not refresh access token: ${e.message}`),e}let a=this.credentials;a.token_type=a.token_type||"Bearer",n.refresh_token=a.refresh_token,this.credentials=n;let i=new Headers({authorization:a.token_type+" "+n.access_token});return{headers:this.addSharedMetadataHeaders(i),res:r.res}}static getRevokeTokenUrl(e){return new y().getRevokeTokenURL(e).toString()}getRevokeTokenURL(e){let t=new URL(this.endpoints.oauth2RevokeUrl);return t.searchParams.append("token",e),t}revokeToken(e,t){let r={...y.RETRY_CONFIG,url:this.getRevokeTokenURL(e).toString(),method:"POST"};if(f.AuthClient.setMethodName(r,"revokeToken"),!t)return this.transporter.request(r);this.transporter.request(r).then(e=>t(null,e),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then(t=>e(null,t),e)}async revokeCredentialsAsync(){let e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){try{let t=await this.getRequestMetadataAsync();return e.headers=u.Gaxios.mergeHeaders(e.headers),this.addUserProjectAndAuthHeaders(e.headers,t.headers),this.apiKey&&e.headers.set("X-Goog-Api-Key",this.apiKey),await this.transporter.request(e)}catch(n){let r=n.response;if(r){let n=r.status,a=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),i=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,o=r.config.data instanceof c.Readable,s=401===n||403===n;if(!t&&s&&!o&&a)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0);if(!t&&s&&!o&&i){let t=await this.processAndValidateRefreshHandler();return t?.access_token&&this.setCredentials(t),this.requestAsync(e,!0)}}throw n}}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then(e=>t(null,e),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw Error("The verifyIdToken method requires an ID Token");let t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,this.issuers,e.maxExpiry)}async getTokenInfo(e){let{data:t}=await this.transporter.request({...y.RETRY_CONFIG,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8",authorization:`Bearer ${e}`},url:this.endpoints.tokenInfoUrl.toString()}),r=Object.assign({expiry_date:new Date().getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then(t=>e(null,t.certs,t.res),e)}async getFederatedSignonCertsAsync(){let e,t,r=new Date().getTime(),n=(0,h.hasBrowserCrypto)()?a.JWK:a.PEM;if(this.certificateExpiry&&r<this.certificateExpiry.getTime()&&this.certificateCacheFormat===n)return{certs:this.certificateCache,format:n};switch(n){case a.PEM:t=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case a.JWK:t=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw Error(`Unsupported certificate format ${n}`)}try{let r={...y.RETRY_CONFIG,url:t};f.AuthClient.setMethodName(r,"getFederatedSignonCertsAsync"),e=await this.transporter.request(r)}catch(e){throw e instanceof Error&&(e.message=`Failed to retrieve verification certificates: ${e.message}`),e}let i=e?.headers.get("cache-control"),o=-1;if(i){let e=/max-age=(?<maxAge>[0-9]+)/.exec(i)?.groups?.maxAge;e&&(o=1e3*Number(e))}let s={};switch(n){case a.PEM:s=e.data;break;case a.JWK:for(let t of e.data.keys)s[t.kid]=t;break;default:throw Error(`Unsupported certificate format ${n}`)}let l=new Date;return this.certificateExpiry=-1===o?null:new Date(l.getTime()+o),this.certificateCache=s,this.certificateCacheFormat=n,{certs:s,format:n,res:e}}getIapPublicKeys(e){if(!e)return this.getIapPublicKeysAsync();this.getIapPublicKeysAsync().then(t=>e(null,t.pubkeys,t.res),e)}async getIapPublicKeysAsync(){let e,t=this.endpoints.oauth2IapPublicKeyUrl.toString();try{let r={...y.RETRY_CONFIG,url:t};f.AuthClient.setMethodName(r,"getIapPublicKeysAsync"),e=await this.transporter.request(r)}catch(e){throw e instanceof Error&&(e.message=`Failed to retrieve verification certificates: ${e.message}`),e}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,r,n,a){let i,o,s=(0,h.createCrypto)();a||(a=y.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);let l=e.split(".");if(3!==l.length)throw Error("Wrong number of segments in token: "+e);let u=l[0]+"."+l[1],d=l[2];try{i=JSON.parse(s.decodeBase64StringUtf8(l[0]))}catch(e){throw e instanceof Error&&(e.message=`Can't parse token envelope: ${l[0]}': ${e.message}`),e}if(!i)throw Error("Can't parse token envelope: "+l[0]);try{o=JSON.parse(s.decodeBase64StringUtf8(l[1]))}catch(e){throw e instanceof Error&&(e.message=`Can't parse token payload '${l[0]}`),e}if(!o)throw Error("Can't parse token payload: "+l[1]);if(!Object.prototype.hasOwnProperty.call(t,i.kid))throw Error("No pem found for envelope: "+JSON.stringify(i));let c=t[i.kid];if("ES256"===i.alg&&(d=p.joseToDer(d,"ES256").toString("base64")),!await s.verify(c,u,d))throw Error("Invalid token signature: "+e);if(!o.iat)throw Error("No issue time in token: "+JSON.stringify(o));if(!o.exp)throw Error("No expiration time in token: "+JSON.stringify(o));let m=Number(o.iat);if(isNaN(m))throw Error("iat field using invalid format");let f=Number(o.exp);if(isNaN(f))throw Error("exp field using invalid format");let v=new Date().getTime()/1e3;if(f>=v+a)throw Error("Expiration time too far in future: "+JSON.stringify(o));let b=m-y.CLOCK_SKEW_SECS_,_=f+y.CLOCK_SKEW_SECS_;if(v<b)throw Error("Token used too early, "+v+" < "+b+": "+JSON.stringify(o));if(v>_)throw Error("Token used too late, "+v+" > "+_+": "+JSON.stringify(o));if(n&&0>n.indexOf(o.iss))throw Error("Invalid issuer, expected one of ["+n+"], but got "+o.iss);if(null!=r){let e=o.aud;if(!(r.constructor===Array?r.indexOf(e)>-1:e===r))throw Error("Wrong recipient, payload audience != requiredAudience")}return new g.LoginTicket(i,o)}async processAndValidateRefreshHandler(){if(this.refreshHandler){let e=await this.refreshHandler();if(!e.access_token)throw Error("No access token is returned by the refreshHandler callback.");return e}}isTokenExpiring(){let e=this.credentials.expiry_date;return!!e&&e<=new Date().getTime()+this.eagerRefreshThresholdMillis}}r.OAuth2Client=y},70814,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Compute=void 0;let n=e.r(57612),a=e.r(82e3),i=e.r(701);class o extends i.OAuth2Client{serviceAccountEmail;scopes;constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=Array.isArray(e.scopes)?e.scopes:e.scopes?[e.scopes]:[]}async refreshTokenNoCache(){let e,t=`service-accounts/${this.serviceAccountEmail}/token`;try{let r={property:t};this.scopes.length>0&&(r.params={scopes:this.scopes.join(",")}),e=await a.instance(r)}catch(e){throw e instanceof n.GaxiosError&&(e.message=`Could not refresh access token: ${e.message}`,this.wrapError(e)),e}let r=e;return e&&e.expires_in&&(r.expiry_date=new Date().getTime()+1e3*e.expires_in,delete r.expires_in),this.emit("tokens",r),{tokens:r,res:null}}async fetchIdToken(e){let t,r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${e}`;try{t=await a.instance({property:r})}catch(e){throw e instanceof Error&&(e.message=`Could not fetch ID token: ${e.message}`),e}return t}wrapError(e){let t=e.response;t&&t.status&&(e.status=t.status,403===t.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===t.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}r.Compute=o},80732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IdTokenClient=void 0;let n=e.r(701);class a extends n.OAuth2Client{targetAudience;idTokenProvider;constructor(e){super(e),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){let e=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:e,expiry_date:this.getIdTokenExpiryDate(e)}}return{headers:new Headers({authorization:"Bearer "+this.credentials.id_token})}}getIdTokenExpiryDate(e){let t=e.split(".")[1];if(t)return 1e3*JSON.parse(Buffer.from(t,"base64").toString("ascii")).exp}}r.IdTokenClient=a},80243,(e,t,r)=>{"use strict";var n,a;let i;Object.defineProperty(r,"__esModule",{value:!0}),r.GCPEnv=void 0,r.clear=function(){i=void 0},r.getEnv=s;let o=e.r(82e3);async function s(){return i||(i=l())}async function l(){n.NONE;return process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME?n.APP_ENGINE:process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET?n.CLOUD_FUNCTIONS:await d()?await u()?n.KUBERNETES_ENGINE:process.env.K_CONFIGURATION?n.CLOUD_RUN:process.env.CLOUD_RUN_JOB?n.CLOUD_RUN_JOBS:n.COMPUTE_ENGINE:n.NONE}async function u(){try{return await o.instance("attributes/cluster-name"),!0}catch(e){return!1}}async function d(){return o.isAvailable()}(a=n||(r.GCPEnv=n={})).APP_ENGINE="APP_ENGINE",a.KUBERNETES_ENGINE="KUBERNETES_ENGINE",a.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",a.COMPUTE_ENGINE="COMPUTE_ENGINE",a.CLOUD_RUN="CLOUD_RUN",a.CLOUD_RUN_JOBS="CLOUD_RUN_JOBS",a.NONE="NONE"},41949,(e,t,r)=>{var n=e.r(23469).Buffer,a=e.r(88947);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}e.r(24361).inherits(i,a),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},t.exports=i},22691,(e,t,r)=>{"use strict";var n=e.r(874).Buffer,a=e.r(874).SlowBuffer;function i(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,a=0;a<e.length;a++)r|=e[a]^t[a];return 0===r}t.exports=i,i.install=function(){n.prototype.equal=a.prototype.equal=function(e){return i(this,e)}};var o=n.prototype.equal,s=a.prototype.equal;i.restore=function(){n.prototype.equal=o,a.prototype.equal=s}},57067,(e,t,r)=>{var n,a=e.r(23469).Buffer,i=e.r(54799),o=e.r(32955),s=e.r(24361),l="secret must be a string or buffer",u="key must be a string or a buffer",d="function"==typeof i.createPublicKey;function c(e){if(!a.isBuffer(e)&&"string"!=typeof e&&(!d||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw f(u)}function p(e){if(!a.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw f("key must be a string, a buffer or an object")}function m(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function f(e){var t=[].slice.call(arguments,1);return TypeError(s.format.bind(s,e).apply(null,t))}function g(e){var t;return t=e,a.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!a.isBuffer(e)){if("string"!=typeof e){if(!d||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export)throw f(l)}}}(r),t=g(t);var n=i.createHmac("sha"+e,r);return m((n.update(t),n.digest("base64")))}}d&&(u+=" or a KeyObject",l+="or a KeyObject");var v="timingSafeEqual"in i?function(e,t){return e.byteLength===t.byteLength&&i.timingSafeEqual(e,t)}:function(t,r){return n||(n=e.r(22691)),n(t,r)};function b(e){return function(t,r,n){var i=y(e)(t,n);return v(a.from(r),a.from(i))}}function _(e){return function(t,r){p(r),t=g(t);var n=i.createSign("RSA-SHA"+e);return m((n.update(t),n.sign(r,"base64")))}}function w(e){return function(t,r,n){c(n),t=g(t),r=h(r);var a=i.createVerify("RSA-SHA"+e);return a.update(t),a.verify(n,r,"base64")}}function S(e){return function(t,r){p(r),t=g(t);var n=i.createSign("RSA-SHA"+e);return m((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function k(e){return function(t,r,n){c(n),t=g(t),r=h(r);var a=i.createVerify("RSA-SHA"+e);return a.update(t),a.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function x(e){var t=_(e);return function(){var r=t.apply(null,arguments);return o.derToJose(r,"ES"+e)}}function E(e){var t=w(e);return function(r,n,a){return t(r,n=o.joseToDer(n,"ES"+e).toString("base64"),a)}}function T(){return function(){return""}}function O(){return function(e,t){return""===t}}t.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!t)throw f('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:_,ps:S,es:x,none:T})[r](n),verify:({hs:b,rs:w,ps:k,es:E,none:O})[r](n)}}},76872,(e,t,r)=>{var n=e.r(874).Buffer;t.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},14743,(e,t,r)=>{var n=e.r(23469).Buffer,a=e.r(41949),i=e.r(57067),o=e.r(88947),s=e.r(76872),l=e.r(24361);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){var t,r,n,a=e.header,o=e.payload,d=e.secret||e.privateKey,c=e.encoding,p=i(a.alg),m=(t=(t=c)||"utf8",r=u(s(a),"binary"),n=u(s(o),t),l.format("%s.%s",r,n)),h=p.sign(m,d);return l.format("%s.%s",m,h)}function c(e){var t=new a(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new a(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(c,o),c.prototype.sign=function(){try{var e=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},c.sign=d,t.exports=c},48233,(e,t,r)=>{var n=e.r(23469).Buffer,a=e.r(41949),i=e.r(57067),o=e.r(88947),s=e.r(76872),l=e.r(24361),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function d(e){var t=e.split(".",1)[0],r=n.from(t,"base64").toString("binary");if("[object Object]"===Object.prototype.toString.call(r))return r;try{return JSON.parse(r)}catch(e){return}}function c(e){return e.split(".")[2]}function p(e){return u.test(e)&&!!d(e)}function m(e,t,r){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var a=c(e=s(e)),o=e.split(".",2).join(".");return i(t).verify(o,a,r)}function h(e,t){if(t=t||{},!p(e=s(e)))return null;var r,a,i=d(e);if(!i)return null;var o=(r=r||"utf8",a=e.split(".")[1],n.from(a,"base64").toString(r));return("JWT"===i.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:i,payload:o,signature:c(e)}}function f(e){var t=new a((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new a(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(f,o),f.prototype.verify=function(){try{var e=m(this.signature.buffer,this.algorithm,this.key.buffer),t=h(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.decode=h,f.isValid=p,f.verify=m,t.exports=f},58184,(e,t,r)=>{var n=e.r(14743),a=e.r(48233);r.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],r.sign=n.sign,r.verify=a.verify,r.decode=a.decode,r.isValid=a.isValid,r.createSign=function(e){return new n(e)},r.createVerify=function(e){return new a(e)}},66667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleToken=void 0;var n,a=u(e.r(22734)),i=e.r(57612),o=u(e.r(58184)),s=u(e.r(14747)),l=e.r(24361);function u(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,o={__proto__:null,default:e};if(null===e||"object"!=d(e)&&"function"!=typeof e)return o;if(a=t?n:r){if(a.has(e))return a.get(e);a.set(e,o)}for(var s in e)"default"!==s&&({}).hasOwnProperty.call(e,s)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?a(o,s,i):o[s]=e[s]);return o})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t,r){return e.set(m(e,t),r),r}function m(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function f(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(v())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var a=new(e.bind.apply(e,n));return r&&b(a,r.prototype),a}(e,arguments,_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}function k(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function i(r,n,a,i){var l=Object.create((n&&n.prototype instanceof s?n:s).prototype);return x(l,"_invoke",function(r,n,a){var i,s,l,u=0,d=a||[],c=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return i=t,s=0,l=e,p.n=r,o}};function m(r,n){for(s=r,l=n,t=0;!c&&u&&!a&&t<d.length;t++){var a,i=d[t],m=p.p,h=i[2];r>3?(a=h===n)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=m&&((a=r<2&&m<i[1])?(s=0,p.v=n,p.n=i[1]):m<h&&(a=r<3||i[0]>n||n>h)&&(i[4]=r,i[5]=n,p.n=h,s=0))}if(a||r>1)return o;throw c=!0,n}return function(a,d,h){if(u>1)throw TypeError("Generator is already running");for(c&&1===d&&m(d,h),s=d,l=h;(t=s<2?e:l)||!c;){i||(s?s<3?(s>1&&(p.n=-1),m(s,l)):p.n=l:p.v=l);try{if(u=2,i){if(s||(a="next"),t=i[a]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);i=e}else if((t=(c=p.n<0)?l:r.call(n,p))!==o)break}catch(t){i=e,s=1,l=t}finally{u=1}}return{value:t,done:c}}}(r,a,i),!0),l}var o={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var d=u.prototype=s.prototype=Object.create([][n]?t(t([][n]())):(x(t={},n,function(){return this}),t));function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,x(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,x(d,"constructor",u),x(u,"constructor",l),l.displayName="GeneratorFunction",x(u,a,"GeneratorFunction"),x(d),x(d,a,"Generator"),x(d,n,function(){return this}),x(d,"toString",function(){return"[object Generator]"}),(k=function(){return{w:i,m:c}})()}function x(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(x=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){x(e,t,function(e){return this._invoke(t,r,e)})};i("next",0),i("throw",1),i("return",2)}})(e,t,r,n)}function E(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){E(i,n,a,o,s,"next",e)}function s(e){E(i,n,a,o,s,"throw",e)}o(void 0)})}}var O=a.readFile?(0,l.promisify)(a.readFile):T(k().m(function e(){return k().w(function(e){for(;;)switch(e.n){case 0:throw new P("use key rather than keyFile.","MISSING_CREDENTIALS");case 1:return e.a(2)}},e)})),I="https://oauth2.googleapis.com/token",P=function(e){function t(e,r){var n,a,i;return g(this,t),a=t,i=[e],a=_(a),w(n=function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,v()?Reflect.construct(a,i||[],_(this).constructor):a.apply(this,i)),"code",void 0),n.code=r,n}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e),f(t)}(y(Error)),C=new WeakMap,A=new WeakSet;function j(e){return z.apply(this,arguments)}function z(){return(z=T(k().m(function e(t){return k().w(function(e){for(;;)switch(e.n){case 0:if(!C.get(m(C,this))||t.forceRefresh){e.n=1;break}return e.a(2,C.get(m(C,this)));case 1:return e.p=1,e.n=2,p(C,this,m(A,this,R).call(this,t));case 2:return e.a(2,e.v);case 3:return e.p=3,p(C,this,void 0),e.f(3);case 4:return e.a(2)}},e,this,[[1,,3,4]])}))).apply(this,arguments)}function R(e){return N.apply(this,arguments)}function N(){return(N=T(k().m(function e(t){var r;return k().w(function(e){for(;;)switch(e.n){case 0:if(!1!==this.isTokenExpiring()||!1!==t.forceRefresh){e.n=1;break}return e.a(2,Promise.resolve(this.rawToken));case 1:if(!(!this.key&&!this.keyFile)){e.n=2;break}throw Error("No key or keyFile set.");case 2:if(!(!this.key&&this.keyFile)){e.n=4;break}return e.n=3,this.getCredentials(this.keyFile);case 3:r=e.v,this.key=r.privateKey,this.iss=r.clientEmail||this.iss,r.clientEmail||m(A,this,$).call(this);case 4:return e.a(2,m(A,this,U).call(this))}},e,this)}))).apply(this,arguments)}function $(){if(!this.iss)throw new P("email is required.","MISSING_CREDENTIALS")}function M(){return D.apply(this,arguments)}function D(){return(D=T(k().m(function e(){var t;return k().w(function(e){for(;;)switch(e.n){case 0:if(this.accessToken){e.n=1;break}throw Error("No token to revoke.");case 1:return t="https://oauth2.googleapis.com/revoke?token="+this.accessToken,e.n=2,this.transporter.request({url:t,retry:!0});case 2:m(A,this,F).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims});case 3:return e.a(2)}},e,this)}))).apply(this,arguments)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"===d(e.scope)?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis,e.transporter&&(this.transporter=e.transporter)}function U(){return L.apply(this,arguments)}function L(){return(L=T(k().m(function e(){var t,r,n,a,i,s,l,u,d,c;return k().w(function(e){for(;;)switch(e.n){case 0:return t=Math.floor(new Date().getTime()/1e3),r=this.additionalClaims||{},n=Object.assign({iss:this.iss,scope:this.scope,aud:I,exp:t+3600,iat:t,sub:this.sub},r),a=o.sign({header:{alg:"RS256"},payload:n,secret:this.key}),e.p=1,e.n=2,this.transporter.request({method:"POST",url:I,data:new URLSearchParams({grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:a}),responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});case 2:return i=e.v,this.rawToken=i.data,this.expiresAt=null===i.data.expires_in||void 0===i.data.expires_in?void 0:(t+i.data.expires_in)*1e3,e.a(2,this.rawToken);case 3:throw e.p=3,c=e.v,this.rawToken=void 0,this.tokenExpires=void 0,(u=c.response&&null!=(s=c.response)&&s.data?null==(l=c.response)?void 0:l.data:{}).error&&(d=u.error_description?": ".concat(u.error_description):"",c.message="".concat(u.error).concat(d)),c;case 4:return e.a(2)}},e,this,[[1,3]])}))).apply(this,arguments)}r.GoogleToken=f(function e(t){g(this,e),c(this,A),A.add(this),w(this,"expiresAt",void 0),w(this,"key",void 0),w(this,"keyFile",void 0),w(this,"iss",void 0),w(this,"sub",void 0),w(this,"scope",void 0),w(this,"rawToken",void 0),w(this,"tokenExpires",void 0),w(this,"email",void 0),w(this,"additionalClaims",void 0),w(this,"eagerRefreshThresholdMillis",void 0),w(this,"transporter",{request:function(e){return(0,i.request)(e)}}),c(this,C),C.set(this,void 0),m(A,this,F).call(this,t)},[{key:"accessToken",get:function(){return this.rawToken?this.rawToken.access_token:void 0}},{key:"idToken",get:function(){return this.rawToken?this.rawToken.id_token:void 0}},{key:"tokenType",get:function(){return this.rawToken?this.rawToken.token_type:void 0}},{key:"refreshToken",get:function(){return this.rawToken?this.rawToken.refresh_token:void 0}},{key:"hasExpired",value:function(){var e=new Date().getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}},{key:"isTokenExpiring",value:function(){var e,t=new Date().getTime(),r=null!=(e=this.eagerRefreshThresholdMillis)?e:0;return!this.rawToken||!this.expiresAt||this.expiresAt<=t+r}},{key:"getToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===d(e)&&(t=e,e=void 0),t=Object.assign({forceRefresh:!1},t),e){var r=e;m(A,this,j).call(this,t).then(function(e){return r(null,e)},e);return}return m(A,this,j).call(this,t)}},{key:"getCredentials",value:(n=T(k().m(function e(t){var r,n,a,i,o;return k().w(function(e){for(;;)switch(e.n){case 0:e.n=".json"===(o=s.extname(t))?1:".der"===o||".crt"===o||".pem"===o?4:".p12"===o||".pfx"===o?6:7;break;case 1:return e.n=2,O(t,"utf8");case 2:if(n=(r=JSON.parse(e.v)).private_key,a=r.client_email,!(!n||!a)){e.n=3;break}throw new P("private_key and client_email are required.","MISSING_CREDENTIALS");case 3:return e.a(2,{privateKey:n,clientEmail:a});case 4:return e.n=5,O(t,"utf8");case 5:return i=e.v,e.a(2,{privateKey:i});case 6:throw new P("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");case 7:throw new P("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE");case 8:return e.a(2)}},e)})),function(e){return n.apply(this,arguments)})},{key:"revokeToken",value:function(e){return e?void m(A,this,M).call(this).then(function(){return e()},e):m(A,this,M).call(this)}}])},10247,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWTAccess=void 0;let n=e.r(58184),a=e.r(15733),i={alg:"RS256",typ:"JWT"};class o{email;key;keyId;projectId;eagerRefreshThresholdMillis;cache=new a.LRUCache({capacity:500,maxAge:36e5});constructor(e,t,r,n){this.email=e,this.key=t,this.keyId=r,this.eagerRefreshThresholdMillis=n??3e5}getCachedKey(e,t){let r=e;if(t&&Array.isArray(t)&&t.length?r=e?`${e}_${t.join("_")}`:`${t.join("_")}`:"string"==typeof t&&(r=e?`${e}_${t}`:t),!r)throw Error("Scopes or url must be provided");return r}getRequestHeaders(e,t,r){let a,s=this.getCachedKey(e,r),l=this.cache.get(s),u=Date.now();if(l&&l.expiration-u>this.eagerRefreshThresholdMillis)return new Headers(l.headers);let d=Math.floor(Date.now()/1e3),c=o.getExpirationTime(d);if(Array.isArray(r)&&(r=r.join(" ")),a=r?{iss:this.email,sub:this.email,scope:r,exp:c,iat:d}:{iss:this.email,sub:this.email,aud:e,exp:c,iat:d},t){for(let e in a)if(t[e])throw Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}let p=this.keyId?{...i,kid:this.keyId}:i,m=Object.assign(a,t),h=n.sign({header:p,payload:m,secret:this.key}),f=new Headers({authorization:`Bearer ${h}`});return this.cache.set(s,{expiration:1e3*c,headers:f}),f}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{e||r(Error("Must pass in a stream containing the service account auth settings."));let n="";e.setEncoding("utf8").on("data",e=>n+=e).on("error",r).on("end",()=>{try{let e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}}r.JWTAccess=o},24553,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWT=void 0;let n=e.r(66667),a=e.r(10247),i=e.r(701),o=e.r(11656);class s extends i.OAuth2Client{email;keyFile;key;keyId;defaultScopes;scopes;scope;subject;gtoken;additionalClaims;useJWTAccessWithScope;defaultServicePath;access;constructor(e={}){super(e),this.email=e.email,this.keyFile=e.keyFile,this.key=e.key,this.keyId=e.keyId,this.scopes=e.scopes,this.subject=e.subject,this.additionalClaims=e.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){let t=new s(this);return t.scopes=e,t}async getRequestMetadataAsync(e){e=this.defaultServicePath?`https://${this.defaultServicePath}/`:e;let t=!this.hasUserScopes()&&e||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==o.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==o.DEFAULT_UNIVERSE)throw RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${o.DEFAULT_UNIVERSE}`);if(!this.apiKey&&t)if(this.additionalClaims&&this.additionalClaims.target_audience){let{tokens:e}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders(new Headers({authorization:`Bearer ${e.id_token}`}))}}else{let t;this.access||(this.access=new a.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis)),this.hasUserScopes()?t=this.scopes:e||(t=this.defaultScopes);let r=this.useJWTAccessWithScope||this.universeDomain!==o.DEFAULT_UNIVERSE,n=await this.access.getRequestHeaders(e??void 0,this.additionalClaims,r?t:void 0);return{headers:this.addSharedMetadataHeaders(n)}}return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:new Headers}}async fetchIdToken(e){let t=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e},transporter:this.transporter});if(await t.getToken({forceRefresh:!0}),!t.idToken)throw Error("Unknown error: Failed to fetch ID token");return t.idToken}hasUserScopes(){return!!this.scopes&&this.scopes.length>0}hasAnyScopes(){return!!this.scopes&&!!(this.scopes.length>0)||!!this.defaultScopes&&!!(this.defaultScopes.length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then(t=>e(null,t),e)}async authorizeAsync(){let e=await this.refreshToken();if(!e)throw Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(){let e=this.createGToken(),t={access_token:(await e.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:e.expiresAt,id_token:e.idToken};return this.emit("tokens",t),{res:null,tokens:t}}createGToken(){return this.gtoken||(this.gtoken=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{if(!e)throw Error("Must pass in a stream containing the service account auth settings.");let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{let e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}fromAPIKey(e){if("string"!=typeof e)throw Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){let e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw Error("A key or a keyFile must be provided to getCredentials.")}}r.JWT=s},16260,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UserRefreshClient=r.USER_REFRESH_ACCOUNT_TYPE=void 0;let n=e.r(701),a=e.r(11656);r.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class i extends n.OAuth2Client{_refreshToken;constructor(e,t,r,n,a){const i=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,refreshToken:r,eagerRefreshThresholdMillis:n,forceRefreshOnFailure:a};super(i),this._refreshToken=i.refreshToken,this.credentials.refresh_token=i.refreshToken}async refreshTokenNoCache(){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(e){let t={...i.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,method:"POST",data:new URLSearchParams({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:e})};return a.AuthClient.setMethodName(t,"fetchIdToken"),(await this.transporter.request(t)).data.id_token}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}async fromStreamAsync(e){return new Promise((t,r)=>{if(!e)return r(Error("Must pass in a stream containing the user refresh token."));let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{let e=JSON.parse(n);return this.fromJSON(e),t()}catch(e){return r(e)}})})}static fromJSON(e){let t=new i;return t.fromJSON(e),t}}r.UserRefreshClient=i},36126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Impersonated=r.IMPERSONATED_ACCOUNT_TYPE=void 0;let n=e.r(701),a=e.r(57612),i=e.r(15733);r.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class o extends n.OAuth2Client{sourceClient;targetPrincipal;targetScopes;delegates;lifetime;endpoint;constructor(e={}){if(super(e),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=e.sourceClient??new n.OAuth2Client,this.targetPrincipal=e.targetPrincipal??"",this.delegates=e.delegates??[],this.targetScopes=e.targetScopes??[],this.lifetime=e.lifetime??3600,(0,i.originalOrCamelOptions)(e).get("universe_domain")){if(this.sourceClient.universeDomain!==this.universeDomain)throw RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`)}else this.universeDomain=this.sourceClient.universeDomain;this.endpoint=e.endpoint??`https://iamcredentials.${this.universeDomain}`}async sign(e){await this.sourceClient.getAccessToken();let t=`projects/-/serviceAccounts/${this.targetPrincipal}`,r=`${this.endpoint}/v1/${t}:signBlob`,n={delegates:this.delegates,payload:Buffer.from(e).toString("base64")};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:r,data:n,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){try{await this.sourceClient.getAccessToken();let e="projects/-/serviceAccounts/"+this.targetPrincipal,t=`${this.endpoint}/v1/${e}:generateAccessToken`,r={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},n=await this.sourceClient.request({...o.RETRY_CONFIG,url:t,data:r,method:"POST"}),a=n.data;return this.credentials.access_token=a.accessToken,this.credentials.expiry_date=Date.parse(a.expireTime),{tokens:this.credentials,res:n}}catch(r){if(!(r instanceof Error))throw r;let e=0,t="";if(r instanceof a.GaxiosError&&(e=r?.response?.data?.error?.status,t=r?.response?.data?.error?.message),e&&t)throw r.message=`${e}: unable to impersonate: ${t}`,r;throw r.message=`unable to impersonate: ${r}`,r}}async fetchIdToken(e,t){await this.sourceClient.getAccessToken();let r=`projects/-/serviceAccounts/${this.targetPrincipal}`,n=`${this.endpoint}/v1/${r}:generateIdToken`,a={delegates:this.delegates,audience:e,includeEmail:t?.includeEmail??!0,useEmailAzp:t?.includeEmail??!0};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:n,data:a,method:"POST"})).data.token}}r.Impersonated=o},46944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OAuthClientAuthHandler=void 0,r.getErrorFromOAuthErrorResponse=function(e,t){let r=e.error,n=e.error_description,a=e.error_uri,i=`Error code ${r}`;void 0!==n&&(i+=`: ${n}`),void 0!==a&&(i+=` - ${a}`);let o=Error(i);if(t){let e=Object.keys(t);t.stack&&e.push("stack"),e.forEach(e=>{"message"!==e&&Object.defineProperty(o,e,{value:t[e],writable:!1,enumerable:!0})})}return o};let n=e.r(57612),a=e.r(59501),i=["PUT","POST","PATCH"];class o{#p=(0,a.createCrypto)();#m;transporter;constructor(e){e&&"clientId"in e?(this.#m=e,this.transporter=new n.Gaxios):(this.#m=e?.clientAuthentication,this.transporter=e?.transporter||new n.Gaxios)}applyClientAuthenticationOptions(e,t){e.headers=n.Gaxios.mergeHeaders(e.headers),this.injectAuthenticatedHeaders(e,t),t||this.injectAuthenticatedRequestBody(e)}injectAuthenticatedHeaders(e,t){if(t)e.headers=n.Gaxios.mergeHeaders(e.headers,{authorization:`Bearer ${t}`});else if(this.#m?.confidentialClientType==="basic"){e.headers=n.Gaxios.mergeHeaders(e.headers);let t=this.#m.clientId,r=this.#m.clientSecret||"",a=this.#p.encodeBase64StringUtf8(`${t}:${r}`);n.Gaxios.mergeHeaders(e.headers,{authorization:`Basic ${a}`})}}injectAuthenticatedRequestBody(e){if(this.#m?.confidentialClientType==="request-body"){let t=(e.method||"GET").toUpperCase();if(!i.includes(t))throw Error(`${t} HTTP method does not support ${this.#m.confidentialClientType} client authentication`);let r=new Headers(e.headers).get("content-type");if(r?.startsWith("application/x-www-form-urlencoded")||e.data instanceof URLSearchParams){let t=new URLSearchParams(e.data??"");t.append("client_id",this.#m.clientId),t.append("client_secret",this.#m.clientSecret||""),e.data=t}else if(r?.startsWith("application/json"))e.data=e.data||{},Object.assign(e.data,{client_id:this.#m.clientId,client_secret:this.#m.clientSecret||""});else throw Error(`${r} content-types are not supported with ${this.#m.confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}r.OAuthClientAuthHandler=o},5332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StsCredentials=void 0;let n=e.r(57612),a=e.r(11656),i=e.r(46944),o=e.r(15733);class s extends i.OAuthClientAuthHandler{#h;constructor(e={tokenExchangeEndpoint:""},t){("object"!=typeof e||e instanceof URL)&&(e={tokenExchangeEndpoint:e,clientAuthentication:t}),super(e),this.#h=e.tokenExchangeEndpoint}async exchangeToken(e,t,r){let l={grant_type:e.grantType,resource:e.resource,audience:e.audience,scope:e.scope?.join(" "),requested_token_type:e.requestedTokenType,subject_token:e.subjectToken,subject_token_type:e.subjectTokenType,actor_token:e.actingParty?.actorToken,actor_token_type:e.actingParty?.actorTokenType,options:r&&JSON.stringify(r)},u={...s.RETRY_CONFIG,url:this.#h.toString(),method:"POST",headers:t,data:new URLSearchParams((0,o.removeUndefinedValuesInObject)(l))};a.AuthClient.setMethodName(u,"exchangeToken"),this.applyClientAuthenticationOptions(u);try{let e=await this.transporter.request(u),t=e.data;return t.res=e,t}catch(e){if(e instanceof n.GaxiosError&&e.response)throw(0,i.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}r.StsCredentials=s},6560,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BaseExternalAccountClient=r.CLOUD_RESOURCE_MANAGER=r.EXTERNAL_ACCOUNT_TYPE=r.EXPIRATION_TIME_OFFSET=void 0;let n=e.r(57612),a=e.r(88947),i=e.r(11656),o=e.r(5332),s=e.r(15733),l=e.r(93714),u="https://www.googleapis.com/auth/cloud-platform";r.EXPIRATION_TIME_OFFSET=3e5,r.EXTERNAL_ACCOUNT_TYPE="external_account",r.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";class d extends i.AuthClient{scopes;projectNumber;audience;subjectTokenType;stsCredential;clientAuth;credentialSourceType;cachedAccessToken;serviceAccountImpersonationUrl;serviceAccountImpersonationLifetime;workforcePoolUserProject;configLifetimeRequested;tokenUrl;cloudResourceManagerURL;supplierContext;#f=null;constructor(e){super(e);const t=(0,s.originalOrCamelOptions)(e),n=t.get("type");if(n&&n!==r.EXTERNAL_ACCOUNT_TYPE)throw Error(`Expected "${r.EXTERNAL_ACCOUNT_TYPE}" type but received "${e.type}"`);const a=t.get("client_id"),i=t.get("client_secret");this.tokenUrl=t.get("token_url")??"https://sts.{universeDomain}/v1/token".replace("{universeDomain}",this.universeDomain);const l=t.get("subject_token_type"),d=t.get("workforce_pool_user_project"),c=t.get("service_account_impersonation_url"),p=t.get("service_account_impersonation"),m=(0,s.originalOrCamelOptions)(p).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(t.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),a&&(this.clientAuth={confidentialClientType:"basic",clientId:a,clientSecret:i}),this.stsCredential=new o.StsCredentials({tokenExchangeEndpoint:this.tokenUrl,clientAuthentication:this.clientAuth}),this.scopes=t.get("scopes")||[u],this.cachedAccessToken=null,this.audience=t.get("audience"),this.subjectTokenType=l,this.workforcePoolUserProject=d;const h=RegExp("//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+");if(this.workforcePoolUserProject&&!this.audience.match(h))throw Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=c,this.serviceAccountImpersonationLifetime=m,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=3600),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);let e=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return e?.groups?.email||null}return null}setCredentials(e){super.setCredentials(e),this.cachedAccessToken=e}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t=new Headers({authorization:`Bearer ${e.token}`});return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async getProjectId(){let e=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(e){let t=await this.getRequestHeaders(),r={...d.RETRY_CONFIG,headers:t,url:`${this.cloudResourceManagerURL.toString()}${e}`};i.AuthClient.setMethodName(r,"getProjectId");let n=await this.transporter.request(r);return this.projectId=n.data.projectId,this.projectId}return null}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=n.Gaxios.mergeHeaders(e.headers),this.addUserProjectAndAuthHeaders(e.headers,t),r=await this.transporter.request(e)}catch(n){let r=n.response;if(r){let n=r.status,i=r.config.data instanceof a.Readable;if(!t&&(401===n||403===n)&&!i&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw n}return r}async refreshAccessTokenAsync(){this.#f=this.#f||this.#g();try{return await this.#f}finally{this.#f=null}}async #g(){let e=await this.retrieveSubjectToken(),t={grantType:"urn:ietf:params:oauth:grant-type:token-exchange",audience:this.audience,requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:e,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[u]:this.getScopesArray()},r=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,n=new Headers({"x-goog-api-client":this.getMetricsHeaderValue()}),a=await this.stsCredential.exchangeToken(t,n,r);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(a.access_token):a.expires_in?this.cachedAccessToken={access_token:a.access_token,expiry_date:new Date().getTime()+1e3*a.expires_in,res:a.res}:this.cachedAccessToken={access_token:a.access_token,res:a.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}getProjectNumber(e){let t=e.match(/\/projects\/([^/]+)/);return t?t[1]:null}async getImpersonatedAccessToken(e){let t={...d.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${e}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"}};i.AuthClient.setMethodName(t,"getImpersonatedAccessToken");let r=await this.transporter.request(t),n=r.data;return{access_token:n.accessToken,expiry_date:new Date(n.expireTime).getTime(),res:r}}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}getScopesArray(){return"string"==typeof this.scopes?[this.scopes]:this.scopes||[u]}getMetricsHeaderValue(){let e=process.version.replace(/^v/,""),t=void 0!==this.serviceAccountImpersonationUrl,r=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${e} auth/${l.pkg.version} google-byoid-sdk source/${r} sa-impersonation/${t} config-lifetime/${this.configLifetimeRequested}`}getTokenUrl(){return this.tokenUrl}}r.BaseExternalAccountClient=d},37289,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FileSubjectTokenSupplier=void 0;let n=e.r(24361),a=e.r(22734),i=(0,n.promisify)(a.readFile??(()=>{})),o=(0,n.promisify)(a.realpath??(()=>{})),s=(0,n.promisify)(a.lstat??(()=>{}));r.FileSubjectTokenSupplier=class{filePath;formatType;subjectTokenFieldName;constructor(e){this.filePath=e.filePath,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName}async getSubjectToken(){let e,t=this.filePath;try{if(t=await o(t),!(await s(t)).isFile())throw Error()}catch(e){throw e instanceof Error&&(e.message=`The file at ${t} does not exist, or it is not a file. ${e.message}`),e}let r=await i(t,{encoding:"utf8"});if("text"===this.formatType?e=r:"json"===this.formatType&&this.subjectTokenFieldName&&(e=JSON.parse(r)[this.subjectTokenFieldName]),!e)throw Error("Unable to parse the subject_token from the credential_source file");return e}}},63057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UrlSubjectTokenSupplier=void 0;let n=e.r(11656);r.UrlSubjectTokenSupplier=class{url;headers;formatType;subjectTokenFieldName;additionalGaxiosOptions;constructor(e){this.url=e.url,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName,this.headers=e.headers,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getSubjectToken(e){let t,r={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers};if(n.AuthClient.setMethodName(r,"getSubjectToken"),"text"===this.formatType?t=(await e.transporter.request(r)).data:"json"===this.formatType&&this.subjectTokenFieldName&&(t=(await e.transporter.request(r)).data[this.subjectTokenFieldName]),!t)throw Error("Unable to parse the subject_token from the credential_source URL");return t}}},58218,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CertificateSubjectTokenSupplier=r.InvalidConfigurationError=r.CertificateSourceUnavailableError=r.CERTIFICATE_CONFIGURATION_ENV_VARIABLE=void 0;let n=e.r(15733),a=e.r(22734),i=e.r(54799),o=e.r(24836);r.CERTIFICATE_CONFIGURATION_ENV_VARIABLE="GOOGLE_API_CERTIFICATE_CONFIG";class s extends Error{constructor(e){super(e),this.name="CertificateSourceUnavailableError"}}r.CertificateSourceUnavailableError=s;class l extends Error{constructor(e){super(e),this.name="InvalidConfigurationError"}}r.InvalidConfigurationError=l,r.CertificateSubjectTokenSupplier=class{certificateConfigPath;trustChainPath;cert;key;constructor(e){if(!e.useDefaultCertificateConfig&&!e.certificateConfigLocation)throw new l("Either `useDefaultCertificateConfig` must be true or a `certificateConfigLocation` must be provided.");if(e.useDefaultCertificateConfig&&e.certificateConfigLocation)throw new l("Both `useDefaultCertificateConfig` and `certificateConfigLocation` cannot be provided.");this.trustChainPath=e.trustChainPath,this.certificateConfigPath=e.certificateConfigLocation??""}async createMtlsHttpsAgent(){if(!this.key||!this.cert)throw new l("Cannot create mTLS Agent with missing certificate or key");return new o.Agent({key:this.key,cert:this.cert})}async getSubjectToken(){this.certificateConfigPath=await this.#y();let{certPath:e,keyPath:t}=await this.#v();return{cert:this.cert,key:this.key}=await this.#b(e,t),await this.#_(this.cert)}async #y(){let e=this.certificateConfigPath;if(e){if(await (0,n.isValidFile)(e))return e;throw new s(`Provided certificate config path is invalid: ${e}`)}let t=process.env[r.CERTIFICATE_CONFIGURATION_ENV_VARIABLE];if(t){if(await (0,n.isValidFile)(t))return t;throw new s(`Path from environment variable "${r.CERTIFICATE_CONFIGURATION_ENV_VARIABLE}" is invalid: ${t}`)}let a=(0,n.getWellKnownCertificateConfigFileLocation)();if(await (0,n.isValidFile)(a))return a;throw new s(`Could not find certificate configuration file. Searched override path, the "${r.CERTIFICATE_CONFIGURATION_ENV_VARIABLE}" env var, and the gcloud path (${a}).`)}async #v(){let e,t=this.certificateConfigPath;try{e=await a.promises.readFile(t,"utf8")}catch(e){throw new s(`Failed to read certificate config file at: ${t}`)}try{let r=JSON.parse(e),n=r?.cert_configs?.workload?.cert_path,a=r?.cert_configs?.workload?.key_path;if(!n||!a)throw new l(`Certificate config file (${t}) is missing required "cert_path" or "key_path" in the workload config.`);return{certPath:n,keyPath:a}}catch(e){if(e instanceof l)throw e;throw new l(`Failed to parse certificate config from ${t}: ${e.message}`)}}async #b(e,t){let r,n;try{r=await a.promises.readFile(e),new i.X509Certificate(r)}catch(r){let t=r instanceof Error?r.message:String(r);throw new s(`Failed to read certificate file at ${e}: ${t}`)}try{n=await a.promises.readFile(t),(0,i.createPrivateKey)(n)}catch(r){let e=r instanceof Error?r.message:String(r);throw new s(`Failed to read private key file at ${t}: ${e}`)}return{cert:r,key:n}}async #_(e){let t=new i.X509Certificate(e);if(!this.trustChainPath)return JSON.stringify([t.raw.toString("base64")]);try{let e,r=((await a.promises.readFile(this.trustChainPath,"utf8")).match(/-----BEGIN CERTIFICATE-----[^-]+-----END CERTIFICATE-----/g)??[]).map((e,t)=>{try{return new i.X509Certificate(e)}catch(r){let e=r instanceof Error?r.message:String(r);throw new l(`Failed to parse certificate at index ${t} in trust chain file ${this.trustChainPath}: ${e}`)}}),n=r.findIndex(e=>t.raw.equals(e.raw));if(-1===n)e=[t,...r];else if(0===n)e=r;else throw new l(`Leaf certificate exists in the trust chain but is not the first entry (found at index ${n}).`);return JSON.stringify(e.map(e=>e.raw.toString("base64")))}catch(t){if(t instanceof l)throw t;let e=t instanceof Error?t.message:String(t);throw new s(`Failed to process certificate chain from ${this.trustChainPath}: ${e}`)}}}},76868,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IdentityPoolClient=void 0;let n=e.r(6560),a=e.r(15733),i=e.r(37289),o=e.r(63057),s=e.r(58218),l=e.r(5332),u=e.r(57612);class d extends n.BaseExternalAccountClient{subjectTokenSupplier;constructor(e){super(e);const t=(0,a.originalOrCamelOptions)(e),r=t.get("credential_source"),n=t.get("subject_token_supplier");if(!r&&!n)throw Error("A credential source or subject token supplier must be specified.");if(r&&n)throw Error("Only one of credential source or subject token supplier can be specified.");if(n)this.subjectTokenSupplier=n,this.credentialSourceType="programmatic";else{const e=(0,a.originalOrCamelOptions)(r),t=(0,a.originalOrCamelOptions)(e.get("format")),n=t.get("type")||"text",l=t.get("subject_token_field_name");if("json"!==n&&"text"!==n)throw Error(`Invalid credential_source format "${n}"`);if("json"===n&&!l)throw Error("Missing subject_token_field_name for JSON credential_source format");const u=e.get("file"),c=e.get("url"),p=e.get("certificate"),m=e.get("headers");if(u&&c||c&&p||u&&p)throw Error('No valid Identity Pool "credential_source" provided, must be either file, url, or certificate.');if(u)this.credentialSourceType="file",this.subjectTokenSupplier=new i.FileSubjectTokenSupplier({filePath:u,formatType:n,subjectTokenFieldName:l});else if(c)this.credentialSourceType="url",this.subjectTokenSupplier=new o.UrlSubjectTokenSupplier({url:c,formatType:n,subjectTokenFieldName:l,headers:m,additionalGaxiosOptions:d.RETRY_CONFIG});else if(p){this.credentialSourceType="certificate";const e=new s.CertificateSubjectTokenSupplier({useDefaultCertificateConfig:p.use_default_certificate_config,certificateConfigLocation:p.certificate_config_location,trustChainPath:p.trust_chain_path});this.subjectTokenSupplier=e}else throw Error('No valid Identity Pool "credential_source" provided, must be either file, url, or certificate.')}}async retrieveSubjectToken(){let e=await this.subjectTokenSupplier.getSubjectToken(this.supplierContext);if(this.subjectTokenSupplier instanceof s.CertificateSubjectTokenSupplier){let e=await this.subjectTokenSupplier.createMtlsHttpsAgent();this.stsCredential=new l.StsCredentials({tokenExchangeEndpoint:this.getTokenUrl(),clientAuthentication:this.clientAuth,transporter:new u.Gaxios({agent:e})}),this.transporter=new u.Gaxios({...this.transporter.defaults||{},agent:e})}return e}}r.IdentityPoolClient=d},87573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AwsRequestSigner=void 0;let n=e.r(57612),a=e.r(59501),i="AWS4-HMAC-SHA256";async function o(e,t,r){return await e.signWithHmacSha256(t,r)}async function s(e,t,r,n,a){let i=await o(e,`AWS4${t}`,r),s=await o(e,i,n),l=await o(e,s,a);return await o(e,l,"aws4_request")}async function l(e){let t=n.Gaxios.mergeHeaders(e.additionalAmzHeaders),r=e.requestPayload||"",l=e.host.split(".")[0],u=new Date,d=u.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),c=u.toISOString().replace(/[-]/g,"").replace(/T.*/,"");e.securityCredentials.token&&t.set("x-amz-security-token",e.securityCredentials.token);let p=n.Gaxios.mergeHeaders({host:e.host},t.has("date")?{}:{"x-amz-date":d},t),m="",h=[...p.keys()].sort();h.forEach(e=>{m+=`${e}:${p.get(e)}
`});let f=h.join(";"),g=await e.crypto.sha256DigestHex(r),y=`${e.method.toUpperCase()}
${e.canonicalUri}
${e.canonicalQuerystring}
${m}
${f}
${g}`,v=`${c}/${e.region}/${l}/aws4_request`,b=`${i}
${d}
${v}
`+await e.crypto.sha256DigestHex(y),_=await s(e.crypto,e.securityCredentials.secretAccessKey,c,e.region,l),w=await o(e.crypto,_,b),S=`${i} Credential=${e.securityCredentials.accessKeyId}/${v}, SignedHeaders=${f}, Signature=${(0,a.fromArrayBufferToHex)(w)}`;return{amzDate:t.has("date")?void 0:d,authorizationHeader:S,canonicalQuerystring:e.canonicalQuerystring}}r.AwsRequestSigner=class{getCredentials;region;crypto;constructor(e,t){this.getCredentials=e,this.region=t,this.crypto=(0,a.createCrypto)()}async getRequestOptions(e){if(!e.url)throw RangeError('"url" is required in "amzOptions"');let t="object"==typeof e.data?JSON.stringify(e.data):e.data,r=e.url,a=e.method||"GET",i=e.body||t,o=e.headers,s=await this.getCredentials(),u=new URL(r);if("string"!=typeof i&&void 0!==i)throw TypeError(`'requestPayload' is expected to be a string if provided. Got: ${i}`);let d=await l({crypto:this.crypto,host:u.host,canonicalUri:u.pathname,canonicalQuerystring:u.search.slice(1),method:a,region:this.region,securityCredentials:s,requestPayload:i,additionalAmzHeaders:o}),c=n.Gaxios.mergeHeaders(d.amzDate?{"x-amz-date":d.amzDate}:{},{authorization:d.authorizationHeader,host:u.host},o||{});s.token&&n.Gaxios.mergeHeaders(c,{"x-amz-security-token":s.token});let p={url:r,method:a,headers:c};return void 0!==i&&(p.body=i),p}}},41033,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultAwsSecurityCredentialsSupplier=void 0;let n=e.r(11656);r.DefaultAwsSecurityCredentialsSupplier=class{regionUrl;securityCredentialsUrl;imdsV2SessionTokenUrl;additionalGaxiosOptions;constructor(e){this.regionUrl=e.regionUrl,this.securityCredentialsUrl=e.securityCredentialsUrl,this.imdsV2SessionTokenUrl=e.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getAwsRegion(e){if(this.#w)return this.#w;let t=new Headers;if(!this.#w&&this.imdsV2SessionTokenUrl&&t.set("x-aws-ec2-metadata-token",await this.#S(e.transporter)),!this.regionUrl)throw RangeError('Unable to determine AWS region due to missing "options.credential_source.region_url"');let r={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",headers:t};n.AuthClient.setMethodName(r,"getAwsRegion");let a=await e.transporter.request(r);return a.data.substr(0,a.data.length-1)}async getAwsSecurityCredentials(e){if(this.#k)return this.#k;let t=new Headers;this.imdsV2SessionTokenUrl&&t.set("x-aws-ec2-metadata-token",await this.#S(e.transporter));let r=await this.#x(t,e.transporter),n=await this.#E(r,t,e.transporter);return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,token:n.Token}}async #S(e){let t={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return n.AuthClient.setMethodName(t,"#getImdsV2SessionToken"),(await e.request(t)).data}async #x(e,t){if(!this.securityCredentialsUrl)throw Error('Unable to determine AWS role name due to missing "options.credential_source.url"');let r={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",headers:e};return n.AuthClient.setMethodName(r,"#getAwsRoleName"),(await t.request(r)).data}async #E(e,t,r){let a={...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${e}`,headers:t};return n.AuthClient.setMethodName(a,"#retrieveAwsSecurityCredentials"),(await r.request(a)).data}get #w(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||null}get #k(){return process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY?{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN}:null}}},90220,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AwsClient=void 0;let n=e.r(87573),a=e.r(6560),i=e.r(41033),o=e.r(15733),s=e.r(57612);class l extends a.BaseExternalAccountClient{environmentId;awsSecurityCredentialsSupplier;regionalCredVerificationUrl;awsRequestSigner;region;static #T="https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15";static AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254";static AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254";constructor(e){super(e);const t=(0,o.originalOrCamelOptions)(e),r=t.get("credential_source"),n=t.get("aws_security_credentials_supplier");if(!r&&!n)throw Error("A credential source or AWS security credentials supplier must be specified.");if(r&&n)throw Error("Only one of credential source or AWS security credentials supplier can be specified.");if(n)this.awsSecurityCredentialsSupplier=n,this.regionalCredVerificationUrl=l.#T,this.credentialSourceType="programmatic";else{const e=(0,o.originalOrCamelOptions)(r);this.environmentId=e.get("environment_id");const t=e.get("region_url"),n=e.get("url"),a=e.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new i.DefaultAwsSecurityCredentialsSupplier({regionUrl:t,securityCredentialsUrl:n,imdsV2SessionTokenUrl:a}),this.regionalCredVerificationUrl=e.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){let e=this.environmentId?.match(/^(aws)(\d+)$/);if(e&&this.regionalCredVerificationUrl){if(1!==parseInt(e[2],10))throw Error(`aws version "${e[2]}" is not supported in the current build.`)}else throw Error('No valid AWS "credential_source" provided')}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new n.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));let e=await this.awsRequestSigner.getRequestOptions({...l.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),t=[];return s.Gaxios.mergeHeaders({"x-goog-cloud-target-resource":this.audience},e.headers).forEach((e,r)=>t.push({key:r,value:e})),encodeURIComponent(JSON.stringify({url:e.url,method:e.method,headers:t}))}}r.AwsClient=l},71006,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidSubjectTokenError=r.InvalidMessageFieldError=r.InvalidCodeFieldError=r.InvalidTokenTypeFieldError=r.InvalidExpirationTimeFieldError=r.InvalidSuccessFieldError=r.InvalidVersionFieldError=r.ExecutableResponseError=r.ExecutableResponse=void 0;let n="urn:ietf:params:oauth:token-type:saml2",a="urn:ietf:params:oauth:token-type:id_token",i="urn:ietf:params:oauth:token-type:jwt";r.ExecutableResponse=class{version;success;expirationTime;tokenType;errorCode;errorMessage;subjectToken;constructor(e){if(!e.version)throw new s("Executable response must contain a 'version' field.");if(void 0===e.success)throw new l("Executable response must contain a 'success' field.");if(this.version=e.version,this.success=e.success,this.success){if(this.expirationTime=e.expiration_time,this.tokenType=e.token_type,this.tokenType!==n&&this.tokenType!==a&&this.tokenType!==i)throw new u(`Executable response must contain a 'token_type' field when successful and it must be one of ${a}, ${i}, or ${n}.`);if(this.tokenType===n){if(!e.saml_response)throw new p(`Executable response must contain a 'saml_response' field when token_type=${n}.`);this.subjectToken=e.saml_response}else{if(!e.id_token)throw new p(`Executable response must contain a 'id_token' field when token_type=${a} or ${i}.`);this.subjectToken=e.id_token}}else{if(!e.code)throw new d("Executable response must contain a 'code' field when unsuccessful.");if(!e.message)throw new c("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=e.code,this.errorMessage=e.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return void 0!==this.expirationTime&&this.expirationTime<Math.round(Date.now()/1e3)}};class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}r.ExecutableResponseError=o;class s extends o{}r.InvalidVersionFieldError=s;class l extends o{}r.InvalidSuccessFieldError=l,r.InvalidExpirationTimeFieldError=class extends o{};class u extends o{}r.InvalidTokenTypeFieldError=u;class d extends o{}r.InvalidCodeFieldError=d;class c extends o{}r.InvalidMessageFieldError=c;class p extends o{}r.InvalidSubjectTokenError=p},20336,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PluggableAuthHandler=r.ExecutableError=void 0;let n=e.r(71006),a=e.r(33405),i=e.r(22734);class o extends Error{code;constructor(e,t){super(`The executable failed with exit code: ${t} and error message: ${e}.`),this.code=t,Object.setPrototypeOf(this,new.target.prototype)}}r.ExecutableError=o;class s{commandComponents;timeoutMillis;outputFile;constructor(e){if(!e.command)throw Error("No command provided.");if(this.commandComponents=s.parseCommand(e.command),this.timeoutMillis=e.timeoutMillis,!this.timeoutMillis)throw Error("No timeoutMillis provided.");this.outputFile=e.outputFile}retrieveResponseFromExecutable(e){return new Promise((t,r)=>{let i=a.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...process.env,...Object.fromEntries(e)}}),s="";i.stdout.on("data",e=>{s+=e}),i.stderr.on("data",e=>{s+=e});let l=setTimeout(()=>(i.removeAllListeners(),i.kill(),r(Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);i.on("close",e=>{if(clearTimeout(l),0!==e)return r(new o(s,e.toString()));try{let e=JSON.parse(s),r=new n.ExecutableResponse(e);return t(r)}catch(e){if(e instanceof n.ExecutableResponseError)return r(e);return r(new n.ExecutableResponseError(`The executable returned an invalid response: ${s}`))}})})}async retrieveCachedResponse(){let e;if(!this.outputFile||0===this.outputFile.length)return;try{e=await i.promises.realpath(this.outputFile)}catch{return}if(!(await i.promises.lstat(e)).isFile())return;let t=await i.promises.readFile(e,{encoding:"utf8"});if(""!==t)try{let e=JSON.parse(t);if(new n.ExecutableResponse(e).isValid())return new n.ExecutableResponse(e);return}catch(e){if(e instanceof n.ExecutableResponseError)throw e;throw new n.ExecutableResponseError(`The output file contained an invalid response: ${t}`)}}static parseCommand(e){let t=e.match(/(?:[^\s"]+|"[^"]*")+/g);if(!t)throw Error(`Provided command: "${e}" could not be parsed.`);for(let e=0;e<t.length;e++)'"'===t[e][0]&&'"'===t[e].slice(-1)&&(t[e]=t[e].slice(1,-1));return t}}r.PluggableAuthHandler=s},23238,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PluggableAuthClient=r.ExecutableError=void 0;let n=e.r(6560),a=e.r(71006),i=e.r(20336);var o=e.r(20336);Object.defineProperty(r,"ExecutableError",{enumerable:!0,get:function(){return o.ExecutableError}});class s extends n.BaseExternalAccountClient{command;timeoutMillis;outputFile;handler;constructor(e){if(super(e),!e.credential_source.executable||(this.command=e.credential_source.executable.command,!this.command))throw Error('No valid Pluggable Auth "credential_source" provided.');if(void 0===e.credential_source.executable.timeout_millis)this.timeoutMillis=3e4;else if(this.timeoutMillis=e.credential_source.executable.timeout_millis,this.timeoutMillis<5e3||this.timeoutMillis>12e4)throw Error("Timeout must be between 5000120000 milliseconds.");this.outputFile=e.credential_source.executable.output_file,this.handler=new i.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){let e;if("1"!==process.env.GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES)throw Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");if(this.outputFile&&(e=await this.handler.retrieveCachedResponse()),!e){let t=new Map;t.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),t.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),t.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&t.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);let r=this.getServiceAccountEmail();r&&t.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",r),e=await this.handler.retrieveResponseFromExecutable(t)}if(e.version>1)throw Error("Version of executable is not currently supported, maximum supported version is 1.");if(!e.success)throw new i.ExecutableError(e.errorMessage,e.errorCode);if(this.outputFile&&!e.expirationTime)throw new a.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(e.isExpired())throw Error("Executable response is expired.");return e.subjectToken}}r.PluggableAuthClient=s},45037,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalAccountClient=void 0;let n=e.r(6560),a=e.r(76868),i=e.r(90220),o=e.r(23238);r.ExternalAccountClient=class{constructor(){throw Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(e){return e&&e.type===n.EXTERNAL_ACCOUNT_TYPE?e.credential_source?.environment_id?new i.AwsClient(e):e.credential_source?.executable?new o.PluggableAuthClient(e):new a.IdentityPoolClient(e):null}}},74158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalAccountAuthorizedUserClient=r.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;let n=e.r(11656),a=e.r(46944),i=e.r(57612),o=e.r(88947),s=e.r(6560);r.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";class l extends a.OAuthClientAuthHandler{#O;constructor(e){super(e),this.#O=e.tokenRefreshEndpoint}async refreshToken(e,t){let r={...l.RETRY_CONFIG,url:this.#O,method:"POST",headers:t,data:new URLSearchParams({grant_type:"refresh_token",refresh_token:e})};n.AuthClient.setMethodName(r,"refreshToken"),this.applyClientAuthenticationOptions(r);try{let e=await this.transporter.request(r),t=e.data;return t.res=e,t}catch(e){if(e instanceof i.GaxiosError&&e.response)throw(0,a.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}class u extends n.AuthClient{cachedAccessToken;externalAccountAuthorizedUserHandler;refreshToken;constructor(e){super(e),e.universe_domain&&(this.universeDomain=e.universe_domain),this.refreshToken=e.refresh_token;const t={confidentialClientType:"basic",clientId:e.client_id,clientSecret:e.client_secret};this.externalAccountAuthorizedUserHandler=new l({tokenRefreshEndpoint:e.token_url??"https://sts.{universeDomain}/v1/oauthtoken".replace("{universeDomain}",this.universeDomain),transporter:this.transporter,clientAuthentication:t}),this.cachedAccessToken=null,this.quotaProjectId=e.quota_project_id,"number"!=typeof e?.eagerRefreshThresholdMillis?this.eagerRefreshThresholdMillis=s.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!e?.forceRefreshOnFailure}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t=new Headers({authorization:`Bearer ${e.token}`});return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=i.Gaxios.mergeHeaders(e.headers),this.addUserProjectAndAuthHeaders(e.headers,t),r=await this.transporter.request(e)}catch(n){let r=n.response;if(r){let n=r.status,a=r.config.data instanceof o.Readable;if(!t&&(401===n||403===n)&&!a&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw n}return r}async refreshAccessTokenAsync(){let e=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:e.access_token,expiry_date:new Date().getTime()+1e3*e.expires_in,res:e.res},void 0!==e.refresh_token&&(this.refreshToken=e.refresh_token),this.cachedAccessToken}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}r.ExternalAccountAuthorizedUserClient=u},64794,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAuth=r.GoogleAuthExceptionMessages=void 0;let n=e.r(33405),a=e.r(22734),i=e.r(57612),o=e.r(82e3),s=e.r(46786),l=e.r(14747),u=e.r(59501),d=e.r(70814),c=e.r(80732),p=e.r(80243),m=e.r(24553),h=e.r(16260),f=e.r(36126),g=e.r(45037),y=e.r(6560),v=e.r(11656),b=e.r(74158),_=e.r(15733);r.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:"Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_CREDENTIALS_FOUND:"Unable to find credentials in current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:"Unable to detect a Universe Domain in the current environment.\nTo learn more about Universe Domain retrieval, visit: \nhttps://cloud.google.com/compute/docs/metadata/predefined-metadata-keys"},r.GoogleAuth=class{checkIsGCE=void 0;useJWTAccessWithScope;defaultServicePath;get isGCE(){return this.checkIsGCE}_findProjectIdPromise;_cachedProjectId;jsonContent=null;apiKey;cachedCredential=null;#I=null;defaultScopes;keyFilename;scopes;clientOptions={};constructor(e={}){if(this._cachedProjectId=e.projectId||null,this.cachedCredential=e.authClient||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.clientOptions=e.clientOptions||{},this.jsonContent=e.credentials||null,this.apiKey=e.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw RangeError(r.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);e.universeDomain&&(this.clientOptions.universeDomain=e.universeDomain)}setGapicJWTValues(e){e.defaultServicePath=this.defaultServicePath,e.useJWTAccessWithScope=this.useJWTAccessWithScope,e.defaultScopes=this.defaultScopes}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdOptional(){try{return await this.getProjectId()}catch(e){if(e instanceof Error&&e.message===r.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw e}}async findAndCacheProjectId(){let e=null;if(e||=await this.getProductionProjectId(),e||=await this.getFileProjectId(),e||=await this.getDefaultServiceProjectId(),e||=await this.getGCEProjectId(),e||=await this.getExternalAccountClientProjectId())return this._cachedProjectId=e,e;throw Error(r.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){let e;try{e=await o.universe("universe-domain"),e||=v.DEFAULT_UNIVERSE}catch(t){if(t&&t?.response?.status===404)e=v.DEFAULT_UNIVERSE;else throw t}return e}async getUniverseDomain(){let e=(0,_.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{e??=(await this.getClient()).universeDomain}catch{e??=v.DEFAULT_UNIVERSE}return e}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then(e=>t(null,e.credential,e.projectId),t)}async getApplicationDefaultAsync(e={}){let t;if(this.cachedCredential)return await this.#P(this.cachedCredential,null);if((t=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e))||(t=await this._tryGetApplicationCredentialsFromWellKnownFile(e)))return t instanceof m.JWT?t.scopes=this.scopes:t instanceof y.BaseExternalAccountClient&&(t.scopes=this.getAnyScopes()),await this.#P(t);if(await this._checkIsGCE())return e.scopes=this.getAnyScopes(),await this.#P(new d.Compute(e));throw Error(r.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async #P(e,t=process.env.GOOGLE_CLOUD_QUOTA_PROJECT||null){let r=await this.getProjectIdOptional();return t&&(e.quotaProjectId=t),this.cachedCredential=e,{credential:e,projectId:r}}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=o.getGCPResidency()||await o.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){let t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(e){throw e instanceof Error&&(e.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${e.message}`),e}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let t=null;if(this._isWindows())t=process.env.APPDATA;else{let e=process.env.HOME;e&&(t=l.join(e,".config"))}return(t&&(t=l.join(t,"gcloud","application_default_credentials.json"),a.existsSync(t)||(t=null)),t)?await this._getApplicationCredentialsFromFilePath(t,e):null}async _getApplicationCredentialsFromFilePath(e,t={}){if(!e||0===e.length)throw Error("The file path is invalid.");try{if(e=a.realpathSync(e),!a.lstatSync(e).isFile())throw Error()}catch(t){throw t instanceof Error&&(t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`),t}let r=a.createReadStream(e);return this.fromStream(r,t)}fromImpersonatedJSON(e){if(!e)throw Error("Must pass in a JSON object containing an  impersonated refresh token");if(e.type!==f.IMPERSONATED_ACCOUNT_TYPE)throw Error(`The incoming JSON object does not have the "${f.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!e.source_credentials)throw Error("The incoming JSON object does not contain a source_credentials field");if(!e.service_account_impersonation_url)throw Error("The incoming JSON object does not contain a service_account_impersonation_url field");let t=this.fromJSON(e.source_credentials);if(e.service_account_impersonation_url?.length>256)throw RangeError(`Target principal is too long: ${e.service_account_impersonation_url}`);let r=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(e.service_account_impersonation_url)?.groups?.target;if(!r)throw RangeError(`Cannot extract target principal from ${e.service_account_impersonation_url}`);let n=(this.scopes||e.scopes||this.defaultScopes)??[];return new f.Impersonated({...e,sourceClient:t,targetPrincipal:r,targetScopes:Array.isArray(n)?n:[n]})}fromJSON(e,t={}){let r,n=(0,_.originalOrCamelOptions)(t).get("universe_domain");return e.type===h.USER_REFRESH_ACCOUNT_TYPE?(r=new h.UserRefreshClient(t)).fromJSON(e):e.type===f.IMPERSONATED_ACCOUNT_TYPE?r=this.fromImpersonatedJSON(e):e.type===y.EXTERNAL_ACCOUNT_TYPE?(r=g.ExternalAccountClient.fromJSON({...e,...t})).scopes=this.getAnyScopes():e.type===b.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?r=new b.ExternalAccountAuthorizedUserClient({...e,...t}):(t.scopes=this.scopes,r=new m.JWT(t),this.setGapicJWTValues(r),r.fromJSON(e)),n&&(r.universeDomain=n),r}_cacheClientFromJSON(e,t){let r=this.fromJSON(e,t);return this.jsonContent=e,this.cachedCredential=r,r}fromStream(e,t={},r){let n={};if("function"==typeof t?r=t:n=t,!r)return this.fromStreamAsync(e,n);this.fromStreamAsync(e,n).then(e=>r(null,e),r)}fromStreamAsync(e,t){return new Promise((r,n)=>{if(!e)throw Error("Must pass in a stream containing the Google auth settings.");let a=[];e.setEncoding("utf8").on("error",n).on("data",e=>a.push(e)).on("end",()=>{try{try{let e=JSON.parse(a.join("")),n=this._cacheClientFromJSON(e,t);return r(n)}catch(t){if(!this.keyFilename)throw t;let e=new m.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=e,this.setGapicJWTValues(e),r(e)}}catch(e){return n(e)}})})}fromAPIKey(e,t={}){return new m.JWT({...t,apiKey:e})}_isWindows(){let e=s.platform();return!!e&&!!(e.length>=3)&&"win"===e.substring(0,3).toLowerCase()}async getDefaultServiceProjectId(){return new Promise(e=>{(0,n.exec)("gcloud config config-helper --format json",(t,r)=>{if(!t&&r)try{let t=JSON.parse(r).configuration.properties.core.project;e(t);return}catch(e){}e(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){let e=await this.getClient();if(e&&e.projectId)return e.projectId}let e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getExternalAccountClientProjectId(){if(!this.jsonContent||this.jsonContent.type!==y.EXTERNAL_ACCOUNT_TYPE)return null;let e=await this.getClient();return await e.getProjectId()}async getGCEProjectId(){try{return await o.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then(t=>e(null,t),e)}async getCredentialsAsync(){let e=await this.getClient();if(e instanceof f.Impersonated)return{client_email:e.getTargetPrincipal()};if(e instanceof y.BaseExternalAccountClient){let t=e.getServiceAccountEmail();if(t)return{client_email:t,universe_domain:e.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){let[e,t]=await Promise.all([o.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:e,universe_domain:t}}throw Error(r.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;this.#I=this.#I||this.#C();try{return await this.#I}finally{this.#I=null}}async #C(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){let e=l.resolve(this.keyFilename),t=a.createReadStream(e);return await this.fromStreamAsync(t,this.clientOptions)}if(this.apiKey){let e=await this.fromAPIKey(this.apiKey,this.clientOptions);e.scopes=this.scopes;let{credential:t}=await this.#P(e);return t}{let{credential:e}=await this.getApplicationDefaultAsync(this.clientOptions);return e}}async getIdTokenClient(e){let t=await this.getClient();if(!("fetchIdToken"in t))throw Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new c.IdTokenClient({targetAudience:e,idTokenProvider:t})}async getAccessToken(){let e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e={}){let t=e.url,r=await this.getClient(),n=await r.getRequestHeaders(t);return e.headers=i.Gaxios.mergeHeaders(e.headers,n),e}async fetch(...e){return(await this.getClient()).fetch(...e)}async request(e){return(await this.getClient()).request(e)}getEnv(){return(0,p.getEnv)()}async sign(e,t){let r=await this.getClient(),n=await this.getUniverseDomain();if(t=t||`https://iamcredentials.${n}/v1/projects/-/serviceAccounts/`,r instanceof f.Impersonated)return(await r.sign(e)).signedBlob;let a=(0,u.createCrypto)();if(r instanceof m.JWT&&r.key)return await a.sign(r.key,e);let i=await this.getCredentials();if(!i.client_email)throw Error("Cannot sign data without `client_email`.");return this.signBlob(a,i.client_email,e,t)}async signBlob(e,t,r,n){let a=new URL(n+`${t}:signBlob`);return(await this.request({method:"POST",url:a.href,data:{payload:e.encodeBase64StringUtf8(r)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}},3994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IAMAuth=void 0,r.IAMAuth=class{selector;token;constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}},56777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DownscopedClient=r.EXPIRATION_TIME_OFFSET=r.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;let n=e.r(57612),a=e.r(88947),i=e.r(11656),o=e.r(5332);r.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,r.EXPIRATION_TIME_OFFSET=3e5;class s extends i.AuthClient{authClient;credentialAccessBoundary;cachedDownscopedAccessToken;stsCredential;constructor(e,t={accessBoundary:{accessBoundaryRules:[]}}){if(super(e instanceof i.AuthClient?{}:e),e instanceof i.AuthClient?(this.authClient=e,this.credentialAccessBoundary=t):(this.authClient=e.authClient,this.credentialAccessBoundary=e.credentialAccessBoundary),0===this.credentialAccessBoundary.accessBoundary.accessBoundaryRules.length)throw Error("At least one access boundary rule needs to be defined.");if(this.credentialAccessBoundary.accessBoundary.accessBoundaryRules.length>r.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw Error(`The provided access boundary has more than ${r.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const e of this.credentialAccessBoundary.accessBoundary.accessBoundaryRules)if(0===e.availablePermissions.length)throw Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new o.StsCredentials({tokenExchangeEndpoint:`https://sts.${this.universeDomain}/v1/token`}),this.cachedDownscopedAccessToken=null}setCredentials(e){if(!e.expiry_date)throw Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(e),this.cachedDownscopedAccessToken=e}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t=new Headers({authorization:`Bearer ${e.token}`});return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=n.Gaxios.mergeHeaders(e.headers),this.addUserProjectAndAuthHeaders(e.headers,t),r=await this.transporter.request(e)}catch(n){let r=n.response;if(r){let n=r.status,i=r.config.data instanceof a.Readable;if(!t&&(401===n||403===n)&&!i&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw n}return r}async refreshAccessTokenAsync(){let e=(await this.authClient.getAccessToken()).token,t=await this.stsCredential.exchangeToken({grantType:"urn:ietf:params:oauth:grant-type:token-exchange",requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:e,subjectTokenType:"urn:ietf:params:oauth:token-type:access_token"},void 0,this.credentialAccessBoundary),r=this.authClient.credentials?.expiry_date||null,n=t.expires_in?new Date().getTime()+1e3*t.expires_in:r;return this.cachedDownscopedAccessToken={access_token:t.access_token,expiry_date:n,res:t.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}r.DownscopedClient=s},53534,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PassThroughClient=void 0;let n=e.r(11656);class a extends n.AuthClient{async request(e){return this.transporter.request(e)}async getAccessToken(){return{}}async getRequestHeaders(){return new Headers}}r.PassThroughClient=a},47334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAuth=r.auth=r.PassThroughClient=r.ExternalAccountAuthorizedUserClient=r.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=r.ExecutableError=r.PluggableAuthClient=r.DownscopedClient=r.BaseExternalAccountClient=r.ExternalAccountClient=r.IdentityPoolClient=r.AwsRequestSigner=r.AwsClient=r.UserRefreshClient=r.LoginTicket=r.ClientAuthentication=r.OAuth2Client=r.CodeChallengeMethod=r.Impersonated=r.JWT=r.JWTAccess=r.IdTokenClient=r.IAMAuth=r.GCPEnv=r.Compute=r.DEFAULT_UNIVERSE=r.AuthClient=r.gaxios=r.gcpMetadata=void 0;let n=e.r(64794);Object.defineProperty(r,"GoogleAuth",{enumerable:!0,get:function(){return n.GoogleAuth}}),r.gcpMetadata=e.r(82e3),r.gaxios=e.r(57612);var a=e.r(11656);Object.defineProperty(r,"AuthClient",{enumerable:!0,get:function(){return a.AuthClient}}),Object.defineProperty(r,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return a.DEFAULT_UNIVERSE}});var i=e.r(70814);Object.defineProperty(r,"Compute",{enumerable:!0,get:function(){return i.Compute}});var o=e.r(80243);Object.defineProperty(r,"GCPEnv",{enumerable:!0,get:function(){return o.GCPEnv}});var s=e.r(3994);Object.defineProperty(r,"IAMAuth",{enumerable:!0,get:function(){return s.IAMAuth}});var l=e.r(80732);Object.defineProperty(r,"IdTokenClient",{enumerable:!0,get:function(){return l.IdTokenClient}});var u=e.r(10247);Object.defineProperty(r,"JWTAccess",{enumerable:!0,get:function(){return u.JWTAccess}});var d=e.r(24553);Object.defineProperty(r,"JWT",{enumerable:!0,get:function(){return d.JWT}});var c=e.r(36126);Object.defineProperty(r,"Impersonated",{enumerable:!0,get:function(){return c.Impersonated}});var p=e.r(701);Object.defineProperty(r,"CodeChallengeMethod",{enumerable:!0,get:function(){return p.CodeChallengeMethod}}),Object.defineProperty(r,"OAuth2Client",{enumerable:!0,get:function(){return p.OAuth2Client}}),Object.defineProperty(r,"ClientAuthentication",{enumerable:!0,get:function(){return p.ClientAuthentication}});var m=e.r(42602);Object.defineProperty(r,"LoginTicket",{enumerable:!0,get:function(){return m.LoginTicket}});var h=e.r(16260);Object.defineProperty(r,"UserRefreshClient",{enumerable:!0,get:function(){return h.UserRefreshClient}});var f=e.r(90220);Object.defineProperty(r,"AwsClient",{enumerable:!0,get:function(){return f.AwsClient}});var g=e.r(87573);Object.defineProperty(r,"AwsRequestSigner",{enumerable:!0,get:function(){return g.AwsRequestSigner}});var y=e.r(76868);Object.defineProperty(r,"IdentityPoolClient",{enumerable:!0,get:function(){return y.IdentityPoolClient}});var v=e.r(45037);Object.defineProperty(r,"ExternalAccountClient",{enumerable:!0,get:function(){return v.ExternalAccountClient}});var b=e.r(6560);Object.defineProperty(r,"BaseExternalAccountClient",{enumerable:!0,get:function(){return b.BaseExternalAccountClient}});var _=e.r(56777);Object.defineProperty(r,"DownscopedClient",{enumerable:!0,get:function(){return _.DownscopedClient}});var w=e.r(23238);Object.defineProperty(r,"PluggableAuthClient",{enumerable:!0,get:function(){return w.PluggableAuthClient}}),Object.defineProperty(r,"ExecutableError",{enumerable:!0,get:function(){return w.ExecutableError}});var S=e.r(74158);Object.defineProperty(r,"EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE",{enumerable:!0,get:function(){return S.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE}}),Object.defineProperty(r,"ExternalAccountAuthorizedUserClient",{enumerable:!0,get:function(){return S.ExternalAccountAuthorizedUserClient}});var k=e.r(53534);Object.defineProperty(r,"PassThroughClient",{enumerable:!0,get:function(){return k.PassThroughClient}}),r.auth=new n.GoogleAuth},24868,(e,t,r)=>{t.exports=e.x("fs/promises",()=>require("fs/promises"))},88646,(e,t,r)=>{t.exports=e.x("node:stream/promises",()=>require("node:stream/promises"))},74836,(e,t,r)=>{"use strict";let n=["nodebuffer","arraybuffer","fragments"],a="u">typeof Blob;a&&n.push("blob"),t.exports={BINARY_TYPES:n,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:a,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},97970,(e,t,r)=>{"use strict";let{EMPTY_BUFFER:n}=e.r(74836),a=Buffer[Symbol.species];function i(e,t,r,n,a){for(let i=0;i<a;i++)r[n+i]=e[i]^t[3&i]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function s(e){let t;return(s.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=new a(e):ArrayBuffer.isView(e)?t=new a(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),s.readOnly=!1),t)}if(t.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),i=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return i<t?new a(r.buffer,r.byteOffset,i):r},mask:i,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:s,unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{let e=(()=>{let e=Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e})();t.exports.mask=function(t,r,n,a,o){o<48?i(t,r,n,a,o):e.mask(t,r,n,a,o)},t.exports.unmask=function(t,r){t.length<32?o(t,r):e.unmask(t,r)}}catch(e){}},62048,(e,t,r)=>{"use strict";let n=Symbol("kDone"),a=Symbol("kRun");t.exports=class{constructor(e){this[n]=()=>{this.pending--,this[a]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[a]()}[a](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[n])}}}},80295,(e,t,r)=>{"use strict";let n,a=e.r(6461),i=e.r(97970),o=e.r(62048),{kStatusCode:s}=e.r(74836),l=Buffer[Symbol.species],u=Buffer.from([0,0,255,255]),d=Symbol("permessage-deflate"),c=Symbol("total-length"),p=Symbol("callback"),m=Symbol("buffers"),h=Symbol("error");function f(e){this[m].push(e),this[c]+=e.length}function g(e){(this[c]+=e.length,this[d]._maxPayload<1||this[c]<=this[d]._maxPayload)?this[m].push(e):(this[h]=RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][s]=1009,this.removeListener("data",g),this.reset())}function y(e){(this[d]._inflate=null,this[h])?this[p](this[h]):(e[s]=1007,this[p](e))}t.exports=class{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=a.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[d]=this,this._inflate[c]=0,this._inflate[m]=[],this._inflate.on("error",y),this._inflate.on("data",g)}this._inflate[p]=r,this._inflate.write(e),t&&this._inflate.write(u),this._inflate.flush(()=>{let e=this._inflate[h];if(e){this._inflate.close(),this._inflate=null,r(e);return}let a=i.concat(this._inflate[m],this._inflate[c]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[c]=0,this._inflate[m]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,a)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=a.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[c]=0,this._deflate[m]=[],this._deflate.on("data",f)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(a.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=i.concat(this._deflate[m],this._deflate[c]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[p]=null,this._deflate[c]=0,this._deflate[m]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}},58739,(e,t,r)=>{"use strict";let{isUtf8:n}=e.r(874),{hasBlob:a}=e.r(74836);function i(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(t.exports={isBlob:function(e){return a&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:i,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)t.exports.isValidUTF8=function(e){return e.length<24?i(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=(()=>{let e=Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e})();t.exports.isValidUTF8=function(t){return t.length<32?i(t):e(t)}}catch(e){}},29485,(e,t,r)=>{"use strict";let{Writable:n}=e.r(88947),a=e.r(80295),{BINARY_TYPES:i,EMPTY_BUFFER:o,kStatusCode:s,kWebSocket:l}=e.r(74836),{concat:u,toArrayBuffer:d,unmask:c}=e.r(97970),{isValidStatusCode:p,isValidUTF8:m}=e.r(58739),h=Buffer[Symbol.species];t.exports=class extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new h(t.buffer,t.byteOffset+e,t.length-e),new h(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new h(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0)return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop)this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0)return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let r=(64&t[0])==64;if(r&&!this._extensions[a.extensionName])return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7)||!(this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);r>2097151?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&c(t,this._mask)}if(this._opcode>7)return void this.controlMessage(t,e);if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[a.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(r,t):"arraybuffer"===this._binaryType?d(u(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=u(r,t);if(!this._skipUTF8Validation&&!m(n))return void e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let r=e.readUInt16BE(0);if(!p(r))return void t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let n=new h(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!m(n))return void t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,n,a){this._loop=!1,this._errored=!0;let i=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,this.createError),i.code=a,i[s]=n,i}}},16735,(e,t,r)=>{"use strict";let n,{Duplex:a}=e.r(88947),{randomFillSync:i}=e.r(54799),o=e.r(80295),{EMPTY_BUFFER:s,kWebSocket:l,NOOP:u}=e.r(74836),{isBlob:d,isValidStatusCode:c}=e.r(58739),{mask:p,toBuffer:m}=e.r(97970),h=Symbol("kByteLength"),f=Buffer.alloc(4),g=8192;class y{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=u,this[l]=void 0}static frame(e,t){let r,a,o=!1,s=2,l=!1;t.mask&&(r=t.maskBuffer||f,t.generateMask?t.generateMask(r):(8192===g&&(void 0===n&&(n=Buffer.alloc(8192)),i(n,0,8192),g=0),r[0]=n[g++],r[1]=n[g++],r[2]=n[g++],r[3]=n[g++]),l=(r[0]|r[1]|r[2]|r[3])==0,s=6),"string"==typeof e?a=(!t.mask||l)&&void 0!==t[h]?t[h]:(e=Buffer.from(e)).length:(a=e.length,o=t.mask&&t.readOnly&&!l);let u=a;a>=65536?(s+=8,u=127):a>125&&(s+=2,u=126);let d=Buffer.allocUnsafe(o?a+s:s);return(d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=u,126===u?d.writeUInt16BE(a,2):127===u&&(d[2]=d[3]=0,d.writeUIntBE(a,4,6)),t.mask)?(d[1]|=128,d[s-4]=r[0],d[s-3]=r[1],d[s-2]=r[2],d[s-1]=r[3],l)?[d,e]:o?(p(e,r,d,s,a),[d]):(p(e,r,e,0,a),[d,e]):[d,e]}close(e,t,r,n){let a;if(void 0===e)a=s;else if("number"==typeof e&&c(e))if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(a=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?a.write(t,2):a.set(t,2)}else(a=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else throw TypeError("First argument must be a valid error code number");let i={[h]:a.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,a,!1,i,n]):this.sendFrame(y.frame(a,i),n)}ping(e,t,r){let n,a;if("string"==typeof e?(n=Buffer.byteLength(e),a=!1):d(e)?(n=e.size,a=!1):(n=(e=m(e)).length,a=m.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let i={[h]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,i,r]):this.getBlobData(e,!1,i,r):0!==this._state?this.enqueue([this.dispatch,e,!1,i,r]):this.sendFrame(y.frame(e,i),r)}pong(e,t,r){let n,a;if("string"==typeof e?(n=Buffer.byteLength(e),a=!1):d(e)?(n=e.size,a=!1):(n=(e=m(e)).length,a=m.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let i={[h]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,i,r]):this.getBlobData(e,!1,i,r):0!==this._state?this.enqueue([this.dispatch,e,!1,i,r]):this.sendFrame(y.frame(e,i),r)}send(e,t,r){let n,a,i=this._extensions[o.extensionName],s=t.binary?2:1,l=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),a=!1):d(e)?(n=e.size,a=!1):(n=(e=m(e)).length,a=m.readOnly),this._firstFragment?(this._firstFragment=!1,l&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=i._threshold),this._compress=l):(l=!1,s=0),t.fin&&(this._firstFragment=!0);let u={[h]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:a,rsv1:l};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,u,r]):this.getBlobData(e,this._compress,u,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,u,r]):this.dispatch(e,this._compress,u,r)}getBlobData(e,t,r,n){this._bufferedBytes+=r[h],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(v,this,e,n);return}this._bufferedBytes-=r[h];let a=m(e);t?this.dispatch(a,t,r,n):(this._state=0,this.sendFrame(y.frame(a,r),n),this.dequeue())}).catch(e=>{process.nextTick(b,this,e,n)})}dispatch(e,t,r,n){if(!t)return void this.sendFrame(y.frame(e,r),n);let a=this._extensions[o.extensionName];this._bufferedBytes+=r[h],this._state=1,a.compress(e,r.fin,(e,t)=>{this._socket.destroyed?v(this,Error("The socket was closed while data was being compressed"),n):(this._bufferedBytes-=r[h],this._state=0,r.readOnly=!1,this.sendFrame(y.frame(t,r),n),this.dequeue())})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][h],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][h],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function v(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let n=e._queue[r],a=n[n.length-1];"function"==typeof a&&a(t)}}function b(e,t,r){v(e,t,r),e.onerror(t)}t.exports=y},70494,(e,t,r)=>{"use strict";let{kForOnEventAttribute:n,kListener:a}=e.r(74836),i=Symbol("kCode"),o=Symbol("kData"),s=Symbol("kError"),l=Symbol("kMessage"),u=Symbol("kReason"),d=Symbol("kTarget"),c=Symbol("kType"),p=Symbol("kWasClean");class m{constructor(e){this[d]=null,this[c]=e}get target(){return this[d]}get type(){return this[c]}}Object.defineProperty(m.prototype,"target",{enumerable:!0}),Object.defineProperty(m.prototype,"type",{enumerable:!0});class h extends m{constructor(e,t={}){super(e),this[i]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[i]}get reason(){return this[u]}get wasClean(){return this[p]}}Object.defineProperty(h.prototype,"code",{enumerable:!0}),Object.defineProperty(h.prototype,"reason",{enumerable:!0}),Object.defineProperty(h.prototype,"wasClean",{enumerable:!0});class f extends m{constructor(e,t={}){super(e),this[s]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[s]}get message(){return this[l]}}Object.defineProperty(f.prototype,"error",{enumerable:!0}),Object.defineProperty(f.prototype,"message",{enumerable:!0});class g extends m{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),t.exports={CloseEvent:h,ErrorEvent:f,Event:m,EventTarget:{addEventListener(e,t,r={}){let i;for(let i of this.listeners(e))if(!r[n]&&i[a]===t&&!i[n])return;if("message"===e)i=function(e,r){let n=new g("message",{data:r?e:e.toString()});n[d]=this,y(t,this,n)};else if("close"===e)i=function(e,r){let n=new h("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[d]=this,y(t,this,n)};else if("error"===e)i=function(e){let r=new f("error",{error:e,message:e.message});r[d]=this,y(t,this,r)};else{if("open"!==e)return;i=function(){let e=new m("open");e[d]=this,y(t,this,e)}}i[n]=!!r[n],i[a]=t,r.once?this.once(e,i):this.on(e,i)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[a]===t&&!r[n]){this.removeListener(e,r);break}}},MessageEvent:g}},96903,(e,t,r)=>{"use strict";let{tokenChars:n}=e.r(58739);function a(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}t.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r,i=Object.create(null),o=Object.create(null),s=!1,l=!1,u=!1,d=-1,c=-1,p=-1,m=0;for(;m<e.length;m++)if(c=e.charCodeAt(m),void 0===t)if(-1===p&&1===n[c])-1===d&&(d=m);else if(0!==m&&(32===c||9===c))-1===p&&-1!==d&&(p=m);else if(59===c||44===c){if(-1===d)throw SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);let r=e.slice(d,p);44===c?(a(i,r,o),o=Object.create(null)):t=r,d=p=-1}else throw SyntaxError(`Unexpected character at index ${m}`);else if(void 0===r)if(-1===p&&1===n[c])-1===d&&(d=m);else if(32===c||9===c)-1===p&&-1!==d&&(p=m);else if(59===c||44===c){if(-1===d)throw SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m),a(o,e.slice(d,p),!0),44===c&&(a(i,t,o),o=Object.create(null),t=void 0),d=p=-1}else if(61===c&&-1!==d&&-1===p)r=e.slice(d,m),d=p=-1;else throw SyntaxError(`Unexpected character at index ${m}`);else if(l){if(1!==n[c])throw SyntaxError(`Unexpected character at index ${m}`);-1===d?d=m:s||(s=!0),l=!1}else if(u)if(1===n[c])-1===d&&(d=m);else if(34===c&&-1!==d)u=!1,p=m;else if(92===c)l=!0;else throw SyntaxError(`Unexpected character at index ${m}`);else if(34===c&&61===e.charCodeAt(m-1))u=!0;else if(-1===p&&1===n[c])-1===d&&(d=m);else if(-1!==d&&(32===c||9===c))-1===p&&(p=m);else if(59===c||44===c){if(-1===d)throw SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);let n=e.slice(d,p);s&&(n=n.replace(/\\/g,""),s=!1),a(o,r,n),44===c&&(a(i,t,o),o=Object.create(null),t=void 0),r=void 0,d=p=-1}else throw SyntaxError(`Unexpected character at index ${m}`);if(-1===d||u||32===c||9===c)throw SyntaxError("Unexpected end of input");-1===p&&(p=m);let h=e.slice(d,p);return void 0===t?a(i,h,o):(void 0===r?a(o,h,!0):s?a(o,r,h.replace(/\\/g,"")):a(o,r,h),a(i,t,o)),i}}},35065,(e,t,r)=>{"use strict";let n=e.r(27699),a=e.r(24836),i=e.r(21517),o=e.r(4446),s=e.r(55004),{randomBytes:l,createHash:u}=e.r(54799),{Duplex:d,Readable:c}=e.r(88947),{URL:p}=e.r(92509),m=e.r(80295),h=e.r(29485),f=e.r(16735),{isBlob:g}=e.r(58739),{BINARY_TYPES:y,EMPTY_BUFFER:v,GUID:b,kForOnEventAttribute:_,kListener:w,kStatusCode:S,kWebSocket:k,NOOP:x}=e.r(74836),{EventTarget:{addEventListener:E,removeEventListener:T}}=e.r(70494),{format:O,parse:I}=e.r(96903),{toBuffer:P}=e.r(97970),C=Symbol("kAborted"),A=[8,13],j=["CONNECTING","OPEN","CLOSING","CLOSED"],z=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class R extends n{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=v,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=R.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,n,o){let s,d,c,h,f={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:A[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=f.autoPong,!A.includes(f.protocolVersion))throw RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${A.join(", ")})`);if(r instanceof p)s=r;else try{s=new p(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===s.protocol?s.protocol="ws:":"https:"===s.protocol&&(s.protocol="wss:"),t._url=s.href;let g="wss:"===s.protocol,y="ws+unix:"===s.protocol;if("ws:"===s.protocol||g||y?y&&!s.pathname?d="The URL's pathname is empty":s.hash&&(d="The URL contains a fragment identifier"):d='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',d){let e=SyntaxError(d);if(0!==t._redirects)return void N(t,e);throw e}let v=g?443:80,_=l(16).toString("base64"),w=g?a.request:i.request,S=new Set;if(f.createConnection=f.createConnection||(g?M:$),f.defaultPort=f.defaultPort||v,f.port=s.port||v,f.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":_,Connection:"Upgrade",Upgrade:"websocket"},f.path=s.pathname+s.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(c=new m(!0!==f.perMessageDeflate?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=O({[m.extensionName]:c.offer()})),n.length){for(let e of n){if("string"!=typeof e||!z.test(e)||S.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");S.add(e)}f.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(s.username||s.password)&&(f.auth=`${s.username}:${s.password}`),y){let e=f.path.split(":");f.socketPath=e[0],f.path=e[1]}if(f.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?f.socketPath:s.host;let e=o&&o.headers;if(o={...o,headers:{}},e)for(let[t,r]of Object.entries(e))o.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&f.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&s.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete f.headers.authorization,delete f.headers.cookie,e||delete f.headers.host,f.auth=void 0)}f.auth&&!o.headers.authorization&&(o.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),h=t._req=w(f),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=w(f);f.timeout&&h.on("timeout",()=>{D(t,h,"Opening handshake has timed out")}),h.on("error",e=>{null===h||h[C]||(h=t._req=null,N(t,e))}),h.on("response",a=>{let i=a.headers.location,s=a.statusCode;if(i&&f.followRedirects&&s>=300&&s<400){let a;if(++t._redirects>f.maxRedirects)return void D(t,h,"Maximum redirects exceeded");h.abort();try{a=new p(i,r)}catch(e){N(t,SyntaxError(`Invalid URL: ${i}`));return}e(t,a,n,o)}else t.emit("unexpected-response",h,a)||D(t,h,`Unexpected server response: ${a.statusCode}`)}),h.on("upgrade",(e,r,n)=>{let a;if(t.emit("upgrade",e),t.readyState!==R.CONNECTING)return;h=t._req=null;let i=e.headers.upgrade;if(void 0===i||"websocket"!==i.toLowerCase())return void D(t,r,"Invalid Upgrade header");let o=u("sha1").update(_+b).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void D(t,r,"Invalid Sec-WebSocket-Accept header");let s=e.headers["sec-websocket-protocol"];if(void 0!==s?S.size?S.has(s)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":S.size&&(a="Server sent no subprotocol"),a)return void D(t,r,a);s&&(t._protocol=s);let l=e.headers["sec-websocket-extensions"];if(void 0!==l){let e;if(!c)return void D(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{e=I(l)}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==m.extensionName)return void D(t,r,"Server indicated an extension that was not requested");try{c.accept(e[m.extensionName])}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[m.extensionName]=c}t.setSocket(r,n,{allowSynchronousEvents:f.allowSynchronousEvents,generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(h,t):h.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new h({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),a=new f(e,this._extensions,r.generateMask);this._receiver=n,this._sender=a,this._socket=e,n[k]=this,a[k]=this,e[k]=this,n.on("conclude",U),n.on("drain",L),n.on("error",q),n.on("message",B),n.on("ping",Z),n.on("pong",H),a.onerror=W,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",K),e.on("data",Y),e.on("end",X),e.on("error",Q),this._readyState=R.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[m.extensionName]&&this._extensions[m.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return void D(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===R.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=R.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==R.CONNECTING&&this.readyState!==R.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)?F(this,e,r):(void 0===t&&(t=!this._isServer),this._sender.ping(e||v,t,r))}pong(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)?F(this,e,r):(void 0===t&&(t=!this._isServer),this._sender.pong(e||v,t,r))}resume(){this.readyState!==R.CONNECTING&&this.readyState!==R.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)return void F(this,e,r);let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[m.extensionName]||(n.compress=!1),this._sender.send(e||v,n,r)}terminate(){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return void D(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=R.CLOSING,this._socket.destroy())}}}function N(e,t){e._readyState=R.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function $(e){return e.path=e.socketPath,o.connect(e)}function M(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),s.connect(e)}function D(e,t,r){e._readyState=R.CLOSING;let n=Error(r);Error.captureStackTrace(n,D),t.setHeader?(t[C]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(N,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function F(e,t,r){if(t){let r=g(t)?t.size:P(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${j[e.readyState]})`);process.nextTick(r,t)}}function U(e,t){let r=this[k];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[k]&&(r._socket.removeListener("data",Y),process.nextTick(G,r._socket),1005===e?r.close():r.close(e,t))}function L(){let e=this[k];e.isPaused||e._socket.resume()}function q(e){let t=this[k];void 0!==t._socket[k]&&(t._socket.removeListener("data",Y),process.nextTick(G,t._socket),t.close(e[S])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function V(){this[k].emitClose()}function B(e,t){this[k].emit("message",e,t)}function Z(e){let t=this[k];t._autoPong&&t.pong(e,!this._isServer,x),t.emit("ping",e)}function H(e){this[k].emit("pong",e)}function G(e){e.resume()}function W(e){let t=this[k];t.readyState!==R.CLOSED&&(t.readyState===R.OPEN&&(t._readyState=R.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function K(){let e,t=this[k];this.removeListener("close",K),this.removeListener("data",Y),this.removeListener("end",X),t._readyState=R.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[k]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",V),t._receiver.on("finish",V))}function Y(e){this[k]._receiver.write(e)||this.pause()}function X(){let e=this[k];e._readyState=R.CLOSING,e._receiver.end(),this.end()}function Q(){let e=this[k];this.removeListener("error",Q),this.on("error",x),e&&(e._readyState=R.CLOSING,this.destroy())}Object.defineProperty(R,"CONNECTING",{enumerable:!0,value:j.indexOf("CONNECTING")}),Object.defineProperty(R.prototype,"CONNECTING",{enumerable:!0,value:j.indexOf("CONNECTING")}),Object.defineProperty(R,"OPEN",{enumerable:!0,value:j.indexOf("OPEN")}),Object.defineProperty(R.prototype,"OPEN",{enumerable:!0,value:j.indexOf("OPEN")}),Object.defineProperty(R,"CLOSING",{enumerable:!0,value:j.indexOf("CLOSING")}),Object.defineProperty(R.prototype,"CLOSING",{enumerable:!0,value:j.indexOf("CLOSING")}),Object.defineProperty(R,"CLOSED",{enumerable:!0,value:j.indexOf("CLOSED")}),Object.defineProperty(R.prototype,"CLOSED",{enumerable:!0,value:j.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(R.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(R.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[_])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[_]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[_]:!0})}})}),R.prototype.addEventListener=E,R.prototype.removeEventListener=T,t.exports=R},21365,(e,t,r)=>{"use strict";e.r(35065);let{Duplex:n}=e.r(88947);function a(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}t.exports=function(e,t){let r=!0,s=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let n=!r&&s._readableState.objectMode?t.toString():t;s.push(n)||e.pause()}),e.once("error",function(e){s.destroyed||(r=!1,s.destroy(e))}),e.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(a,s);return}let i=!1;e.once("error",function(e){i=!0,n(e)}),e.once("close",function(){i||n(t),process.nextTick(a,s)}),r&&e.terminate()},s._final=function(t){e.readyState===e.CONNECTING?e.once("open",function(){s._final(t)}):null!==e._socket&&(e._socket._writableState.finished?(t(),s._readableState.endEmitted&&s.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},s._read=function(){e.isPaused&&e.resume()},s._write=function(t,r,n){e.readyState===e.CONNECTING?e.once("open",function(){s._write(t,r,n)}):e.send(t,n)},s.on("end",i),s.on("error",o),s}},42977,(e,t,r)=>{"use strict";let{tokenChars:n}=e.r(58739);t.exports={parse:function(e){let t=new Set,r=-1,a=-1,i=0;for(;i<e.length;i++){let o=e.charCodeAt(i);if(-1===a&&1===n[o])-1===r&&(r=i);else if(0!==i&&(32===o||9===o))-1===a&&-1!==r&&(a=i);else if(44===o){if(-1===r)throw SyntaxError(`Unexpected character at index ${i}`);-1===a&&(a=i);let n=e.slice(r,a);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=a=-1}else throw SyntaxError(`Unexpected character at index ${i}`)}if(-1===r||-1!==a)throw SyntaxError("Unexpected end of input");let o=e.slice(r,i);if(t.has(o))throw SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},17198,(e,t,r)=>{"use strict";let n=e.r(27699),a=e.r(21517),{Duplex:i}=e.r(88947),{createHash:o}=e.r(54799),s=e.r(96903),l=e.r(80295),u=e.r(42977),d=e.r(35065),{GUID:c,kWebSocket:p}=e.r(74836),m=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function g(e,t,r,n){r=r||a.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${a.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}function y(e,t,r,n,a,i){if(e.listenerCount("wsClientError")){let n=Error(a);Error.captureStackTrace(n,y),e.emit("wsClientError",n,r,t)}else g(r,n,a,i)}t.exports=class extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:d,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=a.createServer((e,t)=>{let r=a.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(h,this);return}if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{h(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",f);let a=e.headers["sec-websocket-key"],i=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void y(this,e,t,405,"Invalid HTTP method");if(void 0===i||"websocket"!==i.toLowerCase())return void y(this,e,t,400,"Invalid Upgrade header");if(void 0===a||!m.test(a))return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(13!==o&&8!==o)return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});if(!this.shouldHandle(e))return void g(t,400);let d=e.headers["sec-websocket-protocol"],c=new Set;if(void 0!==d)try{c=u.parse(d)}catch(r){y(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let p=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==p){let r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=s.parse(p);e[l.extensionName]&&(r.accept(e[l.extensionName]),h[l.extensionName]=r)}catch(r){y(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let i={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(i,(i,o,s,l)=>{if(!i)return g(t,o||401,s,l);this.completeUpgrade(h,a,c,e,t,r,n)});if(!this.options.verifyClient(i))return g(t,401)}this.completeUpgrade(h,a,c,e,t,r,n)}completeUpgrade(e,t,r,n,a,i,u){if(!a.readable||!a.writable)return a.destroy();if(a[p])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(a,503);let d=o("sha1").update(t+c).digest("base64"),m=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${d}`],y=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(m.push(`Sec-WebSocket-Protocol: ${e}`),y._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,r=s.format({[l.extensionName]:[t]});m.push(`Sec-WebSocket-Extensions: ${r}`),y._extensions=e}this.emit("headers",m,n),a.write(m.concat("\r\n").join("\r\n")),a.removeListener("error",f),y.setSocket(a,i,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on("close",()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)})),u(y,n)}}},58717,(e,t,r)=>{"use strict";let n=e.r(35065);n.createWebSocketStream=e.r(21365),n.Server=e.r(17198),n.Receiver=e.r(29485),n.Sender=e.r(16735),n.WebSocket=n,n.WebSocketServer=n.Server,t.exports=n},42100,(e,t,r)=>{"use strict";let n,a;var i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$,M,D,F,U,L,q,V,B,Z,H,G,W,J,K,Y,X,Q,ee,et,er,en,ea,ei,eo,es=e.r(47334),el=e.r(22734),eu=e.r(24868),ed=e.r(81111),ec=e.r(88646),ep=e.r(58717),em=e.r(14747);function eh(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var ef=eh(eu),eg=eh(ep),ey=eh(em);class ev{}function eb(e,t){return e.replace(/\{([^}]+)\}/g,(e,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){let e=t[r];return null!=e?String(e):""}throw Error(`Key '${r}' not found in valueMap.`)})}function e_(e,t,r){for(let n=0;n<t.length-1;n++){let a=t[n];if(a.endsWith("[]")){let i=a.slice(0,-2);if(!(i in e))if(Array.isArray(r))e[i]=Array.from({length:r.length},()=>({}));else throw Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[i])){let a=e[i];if(Array.isArray(r))for(let e=0;e<a.length;e++)e_(a[e],t.slice(n+1),r[e]);else for(let e of a)e_(e,t.slice(n+1),r)}return}if(a.endsWith("[0]")){let i=a.slice(0,-3);i in e||(e[i]=[{}]),e_(e[i][0],t.slice(n+1),r);return}e[a]&&"object"==typeof e[a]||(e[a]={}),e=e[a]}let n=t[t.length-1],a=e[n];if(void 0!==a){if(!r||"object"==typeof r&&0===Object.keys(r).length||r===a)return;if("object"==typeof a&&"object"==typeof r&&null!==a&&null!==r)Object.assign(a,r);else throw Error(`Cannot set value for an existing key. Key: ${n}`)}else"_self"!==n||"object"!=typeof r||null===r||Array.isArray(r)?e[n]=r:Object.assign(e,r)}function ew(e,t,r){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!=typeof e||null===e)return r;let a=t[n];if(a.endsWith("[]")){let i=a.slice(0,-2);if(!(i in e))return r;{let a=e[i];if(!Array.isArray(a))return r;return a.map(e=>ew(e,t.slice(n+1),r))}}e=e[a]}return e}catch(e){if(e instanceof TypeError)return r;throw e}}function eS(e){if("string"!=typeof e)throw Error("fromImageBytes must be a string");return e}function ek(e){var t;let r,n,a,i,o={},s=ew(e,["name"]);null!=s&&e_(o,["name"],s);let l=ew(e,["metadata"]);null!=l&&e_(o,["metadata"],l);let u=ew(e,["done"]);null!=u&&e_(o,["done"],u);let d=ew(e,["error"]);null!=d&&e_(o,["error"],d);let c=ew(e,["response"]);return null!=c&&e_(o,["response"],(r={},null!=(n=ew(t=c,["sdkHttpResponse"]))&&e_(r,["sdkHttpResponse"],n),null!=(a=ew(t,["parent"]))&&e_(r,["parent"],a),null!=(i=ew(t,["documentName"]))&&e_(r,["documentName"],i),r)),o}function ex(e){return{text:e}}function eE(e){return"object"==typeof e&&null!==e&&("fileData"in e||"text"in e||"functionCall"in e||"functionResponse"in e||"inlineData"in e||"videoMetadata"in e||"codeExecutionResult"in e||"executableCode"in e)}function eT(e){let t=[];if("string"==typeof e)t.push(ex(e));else if(eE(e))t.push(e);else if(Array.isArray(e)){if(0===e.length)throw Error("partOrString cannot be an empty array");for(let r of e)if("string"==typeof r)t.push(ex(r));else if(eE(r))t.push(r);else throw Error("element in PartUnion must be a Part object or string")}else throw Error("partOrString must be a Part object, string, or array");return t}r.Outcome=void 0,(i=r.Outcome||(r.Outcome={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",r.Language=void 0,(o=r.Language||(r.Language={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON",r.FunctionResponseScheduling=void 0,(s=r.FunctionResponseScheduling||(r.FunctionResponseScheduling={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT",r.Type=void 0,(l=r.Type||(r.Type={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL",r.Mode=void 0,(u=r.Mode||(r.Mode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",u.MODE_DYNAMIC="MODE_DYNAMIC",r.ApiSpec=void 0,(d=r.ApiSpec||(r.ApiSpec={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",d.SIMPLE_SEARCH="SIMPLE_SEARCH",d.ELASTIC_SEARCH="ELASTIC_SEARCH",r.AuthType=void 0,(c=r.AuthType||(r.AuthType={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",c.NO_AUTH="NO_AUTH",c.API_KEY_AUTH="API_KEY_AUTH",c.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",c.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",c.OAUTH="OAUTH",c.OIDC_AUTH="OIDC_AUTH",r.HttpElementLocation=void 0,(p=r.HttpElementLocation||(r.HttpElementLocation={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",p.HTTP_IN_QUERY="HTTP_IN_QUERY",p.HTTP_IN_HEADER="HTTP_IN_HEADER",p.HTTP_IN_PATH="HTTP_IN_PATH",p.HTTP_IN_BODY="HTTP_IN_BODY",p.HTTP_IN_COOKIE="HTTP_IN_COOKIE",r.PhishBlockThreshold=void 0,(m=r.PhishBlockThreshold||(r.PhishBlockThreshold={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",m.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",m.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",m.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",m.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",m.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",m.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",r.ThinkingLevel=void 0,(h=r.ThinkingLevel||(r.ThinkingLevel={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",h.LOW="LOW",h.HIGH="HIGH",r.HarmCategory=void 0,(f=r.HarmCategory||(r.HarmCategory={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",f.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",f.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",f.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",f.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",f.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",f.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",f.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",f.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",f.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",f.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",r.HarmBlockMethod=void 0,(g=r.HarmBlockMethod||(r.HarmBlockMethod={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",g.SEVERITY="SEVERITY",g.PROBABILITY="PROBABILITY",r.HarmBlockThreshold=void 0,(y=r.HarmBlockThreshold||(r.HarmBlockThreshold={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",y.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",y.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",y.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",y.BLOCK_NONE="BLOCK_NONE",y.OFF="OFF",r.FinishReason=void 0,(v=r.FinishReason||(r.FinishReason={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",v.STOP="STOP",v.MAX_TOKENS="MAX_TOKENS",v.SAFETY="SAFETY",v.RECITATION="RECITATION",v.LANGUAGE="LANGUAGE",v.OTHER="OTHER",v.BLOCKLIST="BLOCKLIST",v.PROHIBITED_CONTENT="PROHIBITED_CONTENT",v.SPII="SPII",v.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",v.IMAGE_SAFETY="IMAGE_SAFETY",v.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",v.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",v.NO_IMAGE="NO_IMAGE",r.HarmProbability=void 0,(b=r.HarmProbability||(r.HarmProbability={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",b.NEGLIGIBLE="NEGLIGIBLE",b.LOW="LOW",b.MEDIUM="MEDIUM",b.HIGH="HIGH",r.HarmSeverity=void 0,(_=r.HarmSeverity||(r.HarmSeverity={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",_.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",_.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",_.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",_.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",r.UrlRetrievalStatus=void 0,(w=r.UrlRetrievalStatus||(r.UrlRetrievalStatus={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",w.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",w.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",w.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",w.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",r.BlockedReason=void 0,(S=r.BlockedReason||(r.BlockedReason={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",S.SAFETY="SAFETY",S.OTHER="OTHER",S.BLOCKLIST="BLOCKLIST",S.PROHIBITED_CONTENT="PROHIBITED_CONTENT",S.IMAGE_SAFETY="IMAGE_SAFETY",S.MODEL_ARMOR="MODEL_ARMOR",S.JAILBREAK="JAILBREAK",r.TrafficType=void 0,(k=r.TrafficType||(r.TrafficType={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",k.ON_DEMAND="ON_DEMAND",k.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",r.Modality=void 0,(x=r.Modality||(r.Modality={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",x.TEXT="TEXT",x.IMAGE="IMAGE",x.AUDIO="AUDIO",r.MediaResolution=void 0,(E=r.MediaResolution||(r.MediaResolution={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",E.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",E.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",E.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",r.TuningMode=void 0,(T=r.TuningMode||(r.TuningMode={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",T.TUNING_MODE_FULL="TUNING_MODE_FULL",T.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",r.AdapterSize=void 0,(O=r.AdapterSize||(r.AdapterSize={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",O.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",O.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",O.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",O.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",O.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",O.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",r.JobState=void 0,(I=r.JobState||(r.JobState={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",I.JOB_STATE_QUEUED="JOB_STATE_QUEUED",I.JOB_STATE_PENDING="JOB_STATE_PENDING",I.JOB_STATE_RUNNING="JOB_STATE_RUNNING",I.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",I.JOB_STATE_FAILED="JOB_STATE_FAILED",I.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",I.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",I.JOB_STATE_PAUSED="JOB_STATE_PAUSED",I.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",I.JOB_STATE_UPDATING="JOB_STATE_UPDATING",I.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",r.TuningTask=void 0,(P=r.TuningTask||(r.TuningTask={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",P.TUNING_TASK_I2V="TUNING_TASK_I2V",P.TUNING_TASK_T2V="TUNING_TASK_T2V",P.TUNING_TASK_R2V="TUNING_TASK_R2V",r.PartMediaResolutionLevel=void 0,(C=r.PartMediaResolutionLevel||(r.PartMediaResolutionLevel={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",C.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",C.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",C.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",r.FeatureSelectionPreference=void 0,(A=r.FeatureSelectionPreference||(r.FeatureSelectionPreference={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",A.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",A.BALANCED="BALANCED",A.PRIORITIZE_COST="PRIORITIZE_COST",r.Behavior=void 0,(j=r.Behavior||(r.Behavior={})).UNSPECIFIED="UNSPECIFIED",j.BLOCKING="BLOCKING",j.NON_BLOCKING="NON_BLOCKING",r.DynamicRetrievalConfigMode=void 0,(z=r.DynamicRetrievalConfigMode||(r.DynamicRetrievalConfigMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",z.MODE_DYNAMIC="MODE_DYNAMIC",r.Environment=void 0,(R=r.Environment||(r.Environment={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",R.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",r.FunctionCallingConfigMode=void 0,(N=r.FunctionCallingConfigMode||(r.FunctionCallingConfigMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",N.AUTO="AUTO",N.ANY="ANY",N.NONE="NONE",N.VALIDATED="VALIDATED",r.SafetyFilterLevel=void 0,($=r.SafetyFilterLevel||(r.SafetyFilterLevel={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",$.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",$.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",$.BLOCK_NONE="BLOCK_NONE",r.PersonGeneration=void 0,(M=r.PersonGeneration||(r.PersonGeneration={})).DONT_ALLOW="DONT_ALLOW",M.ALLOW_ADULT="ALLOW_ADULT",M.ALLOW_ALL="ALLOW_ALL",r.ImagePromptLanguage=void 0,(D=r.ImagePromptLanguage||(r.ImagePromptLanguage={})).auto="auto",D.en="en",D.ja="ja",D.ko="ko",D.hi="hi",D.zh="zh",D.pt="pt",D.es="es",r.MaskReferenceMode=void 0,(F=r.MaskReferenceMode||(r.MaskReferenceMode={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",F.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",F.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",F.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",F.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",r.ControlReferenceType=void 0,(U=r.ControlReferenceType||(r.ControlReferenceType={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",U.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",U.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",U.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",r.SubjectReferenceType=void 0,(L=r.SubjectReferenceType||(r.SubjectReferenceType={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",L.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",L.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",L.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",r.EditMode=void 0,(q=r.EditMode||(r.EditMode={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",q.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",q.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",q.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",q.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",q.EDIT_MODE_STYLE="EDIT_MODE_STYLE",q.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",q.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",r.SegmentMode=void 0,(V=r.SegmentMode||(r.SegmentMode={})).FOREGROUND="FOREGROUND",V.BACKGROUND="BACKGROUND",V.PROMPT="PROMPT",V.SEMANTIC="SEMANTIC",V.INTERACTIVE="INTERACTIVE",r.VideoGenerationReferenceType=void 0,(B=r.VideoGenerationReferenceType||(r.VideoGenerationReferenceType={})).ASSET="ASSET",B.STYLE="STYLE",r.VideoGenerationMaskMode=void 0,(Z=r.VideoGenerationMaskMode||(r.VideoGenerationMaskMode={})).INSERT="INSERT",Z.REMOVE="REMOVE",Z.REMOVE_STATIC="REMOVE_STATIC",Z.OUTPAINT="OUTPAINT",r.VideoCompressionQuality=void 0,(H=r.VideoCompressionQuality||(r.VideoCompressionQuality={})).OPTIMIZED="OPTIMIZED",H.LOSSLESS="LOSSLESS",r.TuningMethod=void 0,(G=r.TuningMethod||(r.TuningMethod={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",G.PREFERENCE_TUNING="PREFERENCE_TUNING",r.DocumentState=void 0,(W=r.DocumentState||(r.DocumentState={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",W.STATE_PENDING="STATE_PENDING",W.STATE_ACTIVE="STATE_ACTIVE",W.STATE_FAILED="STATE_FAILED",r.FileState=void 0,(J=r.FileState||(r.FileState={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",J.PROCESSING="PROCESSING",J.ACTIVE="ACTIVE",J.FAILED="FAILED",r.FileSource=void 0,(K=r.FileSource||(r.FileSource={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",K.UPLOADED="UPLOADED",K.GENERATED="GENERATED",r.TurnCompleteReason=void 0,(Y=r.TurnCompleteReason||(r.TurnCompleteReason={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",Y.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Y.RESPONSE_REJECTED="RESPONSE_REJECTED",Y.NEED_MORE_INPUT="NEED_MORE_INPUT",r.MediaModality=void 0,(X=r.MediaModality||(r.MediaModality={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",X.TEXT="TEXT",X.IMAGE="IMAGE",X.VIDEO="VIDEO",X.AUDIO="AUDIO",X.DOCUMENT="DOCUMENT",r.StartSensitivity=void 0,(Q=r.StartSensitivity||(r.StartSensitivity={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Q.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Q.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",r.EndSensitivity=void 0,(ee=r.EndSensitivity||(r.EndSensitivity={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",ee.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",ee.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",r.ActivityHandling=void 0,(et=r.ActivityHandling||(r.ActivityHandling={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",et.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",et.NO_INTERRUPTION="NO_INTERRUPTION",r.TurnCoverage=void 0,(er=r.TurnCoverage||(r.TurnCoverage={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",er.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",er.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",r.Scale=void 0,(en=r.Scale||(r.Scale={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",en.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",en.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",en.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",en.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",en.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",en.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",en.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",en.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",en.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",en.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",en.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",en.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",r.MusicGenerationMode=void 0,(ea=r.MusicGenerationMode||(r.MusicGenerationMode={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",ea.QUALITY="QUALITY",ea.DIVERSITY="DIVERSITY",ea.VOCALIZATION="VOCALIZATION",r.LiveMusicPlaybackControl=void 0,(ei=r.LiveMusicPlaybackControl||(r.LiveMusicPlaybackControl={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",ei.PLAY="PLAY",ei.PAUSE="PAUSE",ei.STOP="STOP",ei.RESET_CONTEXT="RESET_CONTEXT";class eO{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class eI{get text(){var e,t,r,n,a,i,o,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1,d=[];for(let e of null!=(s=null==(o=null==(i=null==(a=this.candidates)?void 0:a[0])?void 0:i.content)?void 0:o.parts)?s:[]){for(let[t,r]of Object.entries(e))"text"!==t&&"thought"!==t&&"thoughtSignature"!==t&&(null!==r||void 0!==r)&&d.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;u=!0,l+=e.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,r,n,a,i,o,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="",u=[];for(let e of null!=(s=null==(o=null==(i=null==(a=this.candidates)?void 0:a[0])?void 0:i.content)?void 0:o.parts)?s:[]){for(let[t,r]of Object.entries(e))"inlineData"!==t&&(null!==r||void 0!==r)&&u.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(l+=atob(e.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,r,n,a,i,o,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let l=null==(s=null==(o=null==(i=null==(a=this.candidates)?void 0:a[0])?void 0:i.content)?void 0:o.parts)?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);if((null==l?void 0:l.length)!==0)return l}get executableCode(){var e,t,r,n,a,i,o,s,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let u=null==(s=null==(o=null==(i=null==(a=this.candidates)?void 0:a[0])?void 0:i.content)?void 0:o.parts)?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);if((null==u?void 0:u.length)!==0)return null==(l=null==u?void 0:u[0])?void 0:l.code}get codeExecutionResult(){var e,t,r,n,a,i,o,s,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let u=null==(s=null==(o=null==(i=null==(a=this.candidates)?void 0:a[0])?void 0:i.content)?void 0:o.parts)?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);if((null==u?void 0:u.length)!==0)return null==(l=null==u?void 0:u[0])?void 0:l.output}}class eP{}class eC{}class eA{}class ej{}class ez{}class eR{}class eN{}class e${}class eM{}class eD{}class eF{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let r,n=new eF;if(t){let t,n,a,i,o,s;t={},null!=(n=ew(e,["name"]))&&e_(t,["name"],n),null!=(a=ew(e,["metadata"]))&&e_(t,["metadata"],a),null!=(i=ew(e,["done"]))&&e_(t,["done"],i),null!=(o=ew(e,["error"]))&&e_(t,["error"],o),null!=(s=ew(e,["response"]))&&e_(t,["response"],function(e){let t={},r=ew(e,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s;return r={},null!=(n=ew(e,["_self"]))&&e_(r,["video"],(a={},null!=(i=ew(t=n,["gcsUri"]))&&e_(a,["uri"],i),null!=(o=ew(t,["bytesBase64Encoded"]))&&e_(a,["videoBytes"],eS(o)),null!=(s=ew(t,["mimeType"]))&&e_(a,["mimeType"],s),a)),r})),e_(t,["generatedVideos"],e)}let n=ew(e,["raiMediaFilteredCount"]);null!=n&&e_(t,["raiMediaFilteredCount"],n);let a=ew(e,["raiMediaFilteredReasons"]);return null!=a&&e_(t,["raiMediaFilteredReasons"],a),t}(s)),r=t}else{let t,n,a,i,o,s;t={},null!=(n=ew(e,["name"]))&&e_(t,["name"],n),null!=(a=ew(e,["metadata"]))&&e_(t,["metadata"],a),null!=(i=ew(e,["done"]))&&e_(t,["done"],i),null!=(o=ew(e,["error"]))&&e_(t,["error"],o),null!=(s=ew(e,["response","generateVideoResponse"]))&&e_(t,["response"],function(e){let t={},r=ew(e,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s;return r={},null!=(n=ew(e,["video"]))&&e_(r,["video"],(a={},null!=(i=ew(t=n,["uri"]))&&e_(a,["uri"],i),null!=(o=ew(t,["encodedVideo"]))&&e_(a,["videoBytes"],eS(o)),null!=(s=ew(t,["encoding"]))&&e_(a,["mimeType"],s),a)),r})),e_(t,["generatedVideos"],e)}let n=ew(e,["raiMediaFilteredCount"]);null!=n&&e_(t,["raiMediaFilteredCount"],n);let a=ew(e,["raiMediaFilteredReasons"]);return null!=a&&e_(t,["raiMediaFilteredReasons"],a),t}(s)),r=t}return Object.assign(n,r),n}}class eU{}class eL{}class eq{}class eV{}class eB{}class eZ{}class eH{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){var r;let n,a,i,o,s,l,u,d,c,p,m=new eH;return Object.assign(m,(s={},null!=(l=ew(e,["name"]))&&e_(s,["name"],l),null!=(u=ew(e,["metadata"]))&&e_(s,["metadata"],u),null!=(d=ew(e,["done"]))&&e_(s,["done"],d),null!=(c=ew(e,["error"]))&&e_(s,["error"],c),null!=(p=ew(e,["response"]))&&e_(s,["response"],(n={},null!=(a=ew(r=p,["sdkHttpResponse"]))&&e_(n,["sdkHttpResponse"],a),null!=(i=ew(r,["parent"]))&&e_(n,["parent"],i),null!=(o=ew(r,["documentName"]))&&e_(n,["documentName"],o),n)),s)),m}}class eG{}class eW{}class eJ{}class eK{}class eY{get text(){var e,t,r;let n="",a=!1,i=[];for(let o of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(o))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof o.text){if("boolean"==typeof o.thought&&o.thought)continue;a=!0,n+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?n:void 0}get data(){var e,t,r;let n="",a=[];for(let i of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&a.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(n+=atob(i.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),n.length>0?btoa(n):void 0}}class eX{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class eQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let r=new eQ;return Object.assign(r,ek(e)),r}}function e1(e,t){if(!t||"string"!=typeof t)throw Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw Error("invalid model parameter");if(e.isVertexAI())if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;else{if(!(t.indexOf("/")>=0))return`publishers/google/models/${t}`;let e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function e0(e,t){let r=e1(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function e2(e){return Array.isArray(e)?e.map(e=>e4(e)):[e4(e)]}function e4(e){if("object"==typeof e&&null!==e)return e;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function e6(e){let t=e4(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function e3(e){let t=e4(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function e9(e){if(null==e)throw Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw Error(`Unsupported part type: ${typeof e}`)}function e5(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>e9(e)):[e9(e)]}function e8(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function e7(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function te(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function tt(e){if(null==e)throw Error("ContentUnion is required");return e8(e)?e:{role:"user",parts:e5(e)}}function tr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{let t=tt(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){let e=tt(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>tt(e)):[tt(t)]}function tn(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("contents are required");if(!Array.isArray(e)){if(e7(e)||te(e))throw Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tt(e)]}let t=[],r=[],n=e8(e[0]);for(let a of e){let e=e8(a);if(e!=n)throw Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(a);else if(e7(a)||te(a))throw Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");else r.push(a)}return n||t.push({role:"user",parts:e5(r)}),t}function ta(e){let t={},n=["items"],a=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw Error("type and anyOf cannot be both populated.");let o=e.anyOf;for(let[s,l]of(null!=o&&2==o.length&&("null"===o[0].type?(t.nullable=!0,e=o[1]):"null"===o[1].type&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);let n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(r.Type).includes(n[0].toUpperCase())?n[0].toUpperCase():r.Type.TYPE_UNSPECIFIED;else for(let e of(t.anyOf=[],n))t.anyOf.push({type:Object.values(r.Type).includes(e.toUpperCase())?e.toUpperCase():r.Type.TYPE_UNSPECIFIED})}(e.type,t),Object.entries(e)))if(null!=l)if("type"==s){if("null"===l)throw Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(r.Type).includes(l.toUpperCase())?l.toUpperCase():r.Type.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=ta(l);else if(a.includes(s)){let e=[];for(let r of l){if("null"==r.type){t.nullable=!0;continue}e.push(ta(r))}t[s]=e}else if(i.includes(s)){let e={};for(let[t,r]of Object.entries(l))e[t]=ta(r);t[s]=e}else{if("additionalProperties"===s)continue;t[s]=l}return t}function ti(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw Error(`Unsupported speechConfig type: ${typeof e}`)}function to(e){if("multiSpeakerVoiceConfig"in e)throw Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ts(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ta(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ta(t.response));return e}function tl(e){if(null==e)throw Error("tools is required");if(!Array.isArray(e))throw Error("tools is required and must be an array of Tools");let t=[];for(let r of e)t.push(r);return t}function tu(e,t){if("string"!=typeof t)throw Error("name must be a string");return function(e,t,r,n=1){let a=!t.startsWith(`${r}/`)&&t.split("/").length===n;if(e.isVertexAI())if(t.startsWith("projects/"))return t;else if(t.startsWith("locations/"))return`projects/${e.getProject()}/${t}`;else if(t.startsWith(`${r}/`))return`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`;else if(a)return`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`;else return t;return a?`${r}/${t}`:t}(e,t,"cachedContents")}function td(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function tc(e){return null!=e&&"object"==typeof e&&"video"in e}function tp(e){return null!=e&&"object"==typeof e&&"uri"in e}function tm(e){var t;let r;if(null!=e&&"object"==typeof e&&"name"in e&&(r=e.name),!tp(e)||void 0!==(r=e.uri)){if(!tc(e)||void 0!==(r=null==(t=e.video)?void 0:t.uri)){if("string"==typeof e&&(r=e),void 0===r)throw Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){let e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}}function th(e,t){return e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels"}function tf(e){for(let n of["models","tunedModels","publisherModels"]){var t,r;if(t=e,r=n,null!==t&&"object"==typeof t&&r in t)return e[n]}return[]}function tg(e,t){let r;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;let n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,a=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||1!==n)throw Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||1!==a)throw Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function ty(e){if("object"!=typeof e||null===e)return{};let t=e.inlinedResponses;if("object"!=typeof t||null===t)return e;let r=t.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let n=!1;for(let e of r){if("object"!=typeof e||null===e)continue;let t=e.response;if("object"==typeof t&&null!==t&&void 0!==t.embedding){n=!0;break}}return n&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),e}function tv(e,t){if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw Error(`Invalid batch job name: ${t}.`)}function tb(e){if("BATCH_STATE_UNSPECIFIED"===e)return"JOB_STATE_UNSPECIFIED";if("BATCH_STATE_PENDING"===e)return"JOB_STATE_PENDING";if("BATCH_STATE_RUNNING"===e)return"JOB_STATE_RUNNING";if("BATCH_STATE_SUCCEEDED"===e)return"JOB_STATE_SUCCEEDED";if("BATCH_STATE_FAILED"===e)return"JOB_STATE_FAILED";else if("BATCH_STATE_CANCELLED"===e)return"JOB_STATE_CANCELLED";else if("BATCH_STATE_EXPIRED"===e)return"JOB_STATE_EXPIRED";else return e}function t_(e){let t={},r=ew(e,["name"]);null!=r&&e_(t,["name"],r);let n=ew(e,["metadata","displayName"]);null!=n&&e_(t,["displayName"],n);let a=ew(e,["metadata","state"]);null!=a&&e_(t,["state"],tb(a));let i=ew(e,["metadata","createTime"]);null!=i&&e_(t,["createTime"],i);let o=ew(e,["metadata","endTime"]);null!=o&&e_(t,["endTime"],o);let s=ew(e,["metadata","updateTime"]);null!=s&&e_(t,["updateTime"],s);let l=ew(e,["metadata","model"]);null!=l&&e_(t,["model"],l);let u=ew(e,["metadata","output"]);return null!=u&&e_(t,["dest"],function(e){let t={},r=ew(e,["responsesFile"]);null!=r&&e_(t,["fileName"],r);let n=ew(e,["inlinedResponses","inlinedResponses"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a;return r={},null!=(n=ew(t=e,["response"]))&&e_(r,["response"],function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["content"]);null!=r&&e_(t,["content"],r);let n=ew(e,["citationMetadata"]);null!=n&&e_(t,["citationMetadata"],function(e){let t={},r=ew(e,["citationSources"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["citations"],e)}return t}(n));let a=ew(e,["tokenCount"]);null!=a&&e_(t,["tokenCount"],a);let i=ew(e,["finishReason"]);null!=i&&e_(t,["finishReason"],i);let o=ew(e,["avgLogprobs"]);null!=o&&e_(t,["avgLogprobs"],o);let s=ew(e,["groundingMetadata"]);null!=s&&e_(t,["groundingMetadata"],s);let l=ew(e,["index"]);null!=l&&e_(t,["index"],l);let u=ew(e,["logprobsResult"]);null!=u&&e_(t,["logprobsResult"],u);let d=ew(e,["safetyRatings"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["safetyRatings"],e)}let c=ew(e,["urlContextMetadata"]);return null!=c&&e_(t,["urlContextMetadata"],c),t})(e))),e_(t,["candidates"],e)}let a=ew(e,["modelVersion"]);null!=a&&e_(t,["modelVersion"],a);let i=ew(e,["promptFeedback"]);null!=i&&e_(t,["promptFeedback"],i);let o=ew(e,["responseId"]);null!=o&&e_(t,["responseId"],o);let s=ew(e,["usageMetadata"]);return null!=s&&e_(t,["usageMetadata"],s),t}(n)),null!=(a=ew(t,["error"]))&&e_(r,["error"],a),r})),e_(t,["inlinedResponses"],e)}let a=ew(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["inlinedEmbedContentResponses"],e)}return t}(ty(u))),t}function tw(e){var t,r;let n,a,i,o,s,l,u,d,c={},p=ew(e,["name"]);null!=p&&e_(c,["name"],p);let m=ew(e,["displayName"]);null!=m&&e_(c,["displayName"],m);let h=ew(e,["state"]);null!=h&&e_(c,["state"],tb(h));let f=ew(e,["error"]);null!=f&&e_(c,["error"],f);let g=ew(e,["createTime"]);null!=g&&e_(c,["createTime"],g);let y=ew(e,["startTime"]);null!=y&&e_(c,["startTime"],y);let v=ew(e,["endTime"]);null!=v&&e_(c,["endTime"],v);let b=ew(e,["updateTime"]);null!=b&&e_(c,["updateTime"],b);let _=ew(e,["model"]);null!=_&&e_(c,["model"],_);let w=ew(e,["inputConfig"]);null!=w&&e_(c,["src"],(n={},null!=(a=ew(r=w,["instancesFormat"]))&&e_(n,["format"],a),null!=(i=ew(r,["gcsSource","uris"]))&&e_(n,["gcsUri"],i),null!=(o=ew(r,["bigquerySource","inputUri"]))&&e_(n,["bigqueryUri"],o),n));let S=ew(e,["outputConfig"]);null!=S&&e_(c,["dest"],(t=ty(S),s={},null!=(l=ew(t,["predictionsFormat"]))&&e_(s,["format"],l),null!=(u=ew(t,["gcsDestination","outputUriPrefix"]))&&e_(s,["gcsUri"],u),null!=(d=ew(t,["bigqueryDestination","outputUri"]))&&e_(s,["bigqueryUri"],d),s));let k=ew(e,["completionStats"]);return null!=k&&e_(c,["completionStats"],k),c}function tS(e){let t={},r=ew(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p,m;return r={},null!=(n=ew(t=e,["mediaResolution"]))&&e_(r,["mediaResolution"],n),null!=(a=ew(t,["codeExecutionResult"]))&&e_(r,["codeExecutionResult"],a),null!=(i=ew(t,["executableCode"]))&&e_(r,["executableCode"],i),null!=(o=ew(t,["fileData"]))&&e_(r,["fileData"],function(e){let t={};if(void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=ew(e,["fileUri"]);null!=r&&e_(t,["fileUri"],r);let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(o)),null!=(s=ew(t,["functionCall"]))&&e_(r,["functionCall"],function(e){let t={},r=ew(e,["id"]);null!=r&&e_(t,["id"],r);let n=ew(e,["args"]);null!=n&&e_(t,["args"],n);let a=ew(e,["name"]);if(null!=a&&e_(t,["name"],a),void 0!==ew(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==ew(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(s)),null!=(l=ew(t,["functionResponse"]))&&e_(r,["functionResponse"],l),null!=(u=ew(t,["inlineData"]))&&e_(r,["inlineData"],function(e){let t={},r=ew(e,["data"]);if(null!=r&&e_(t,["data"],r),void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(u)),null!=(d=ew(t,["text"]))&&e_(r,["text"],d),null!=(c=ew(t,["thought"]))&&e_(r,["thought"],c),null!=(p=ew(t,["thoughtSignature"]))&&e_(r,["thoughtSignature"],p),null!=(m=ew(t,["videoMetadata"]))&&e_(r,["videoMetadata"],m),r})),e_(t,["parts"],e)}let n=ew(e,["role"]);return null!=n&&e_(t,["role"],n),t}function tk(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["src"]);null!=a&&e_(r,["batch","inputConfig"],function(e,t){let r={};if(void 0!==ew(t,["format"]))throw Error("format parameter is not supported in Gemini API.");if(void 0!==ew(t,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==ew(t,["bigqueryUri"]))throw Error("bigqueryUri parameter is not supported in Gemini API.");let n=ew(t,["fileName"]);null!=n&&e_(r,["fileName"],n);let a=ew(t,["inlinedRequests"]);if(null!=a){let t=a;Array.isArray(t)&&(t=t.map(t=>(function(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["request","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>tS(e))),e_(r,["request","contents"],e)}let i=ew(t,["metadata"]);null!=i&&e_(r,["metadata"],i);let o=ew(t,["config"]);return null!=o&&e_(r,["request","generationConfig"],function(e,t,r){var n;let a,i,o,s={},l=ew(t,["systemInstruction"]);void 0!==r&&null!=l&&e_(r,["systemInstruction"],tS(tt(l)));let u=ew(t,["temperature"]);null!=u&&e_(s,["temperature"],u);let d=ew(t,["topP"]);null!=d&&e_(s,["topP"],d);let c=ew(t,["topK"]);null!=c&&e_(s,["topK"],c);let p=ew(t,["candidateCount"]);null!=p&&e_(s,["candidateCount"],p);let m=ew(t,["maxOutputTokens"]);null!=m&&e_(s,["maxOutputTokens"],m);let h=ew(t,["stopSequences"]);null!=h&&e_(s,["stopSequences"],h);let f=ew(t,["responseLogprobs"]);null!=f&&e_(s,["responseLogprobs"],f);let g=ew(t,["logprobs"]);null!=g&&e_(s,["logprobs"],g);let y=ew(t,["presencePenalty"]);null!=y&&e_(s,["presencePenalty"],y);let v=ew(t,["frequencyPenalty"]);null!=v&&e_(s,["frequencyPenalty"],v);let b=ew(t,["seed"]);null!=b&&e_(s,["seed"],b);let _=ew(t,["responseMimeType"]);null!=_&&e_(s,["responseMimeType"],_);let w=ew(t,["responseSchema"]);null!=w&&e_(s,["responseSchema"],ta(w));let S=ew(t,["responseJsonSchema"]);if(null!=S&&e_(s,["responseJsonSchema"],S),void 0!==ew(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==ew(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let k=ew(t,["safetySettings"]);if(void 0!==r&&null!=k){let e=k;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["category"]);if(null!=r&&e_(t,["category"],r),void 0!==ew(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let n=ew(e,["threshold"]);return null!=n&&e_(t,["threshold"],n),t})(e))),e_(r,["safetySettings"],e)}let x=ew(t,["tools"]);if(void 0!==r&&null!=x){let e=tl(x);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["functionDeclarations"],e)}if(void 0!==ew(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=ew(e,["googleSearchRetrieval"]);null!=n&&e_(t,["googleSearchRetrieval"],n);let a=ew(e,["computerUse"]);null!=a&&e_(t,["computerUse"],a);let i=ew(e,["fileSearch"]);null!=i&&e_(t,["fileSearch"],i);let o=ew(e,["codeExecution"]);if(null!=o&&e_(t,["codeExecution"],o),void 0!==ew(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=ew(e,["googleMaps"]);null!=s&&e_(t,["googleMaps"],function(e){let t={};if(void 0!==ew(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=ew(e,["enableWidget"]);return null!=r&&e_(t,["enableWidget"],r),t}(s));let l=ew(e,["googleSearch"]);null!=l&&e_(t,["googleSearch"],function(e){let t={};if(void 0!==ew(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==ew(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=ew(e,["timeRangeFilter"]);return null!=r&&e_(t,["timeRangeFilter"],r),t}(l));let u=ew(e,["urlContext"]);return null!=u&&e_(t,["urlContext"],u),t})(ts(e)))),e_(r,["tools"],e)}let E=ew(t,["toolConfig"]);if(void 0!==r&&null!=E&&e_(r,["toolConfig"],(a={},null!=(i=ew(n=E,["functionCallingConfig"]))&&e_(a,["functionCallingConfig"],function(e){let t={},r=ew(e,["mode"]);null!=r&&e_(t,["mode"],r);let n=ew(e,["allowedFunctionNames"]);if(null!=n&&e_(t,["allowedFunctionNames"],n),void 0!==ew(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(i)),null!=(o=ew(n,["retrievalConfig"]))&&e_(a,["retrievalConfig"],o),a)),void 0!==ew(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let T=ew(t,["cachedContent"]);void 0!==r&&null!=T&&e_(r,["cachedContent"],tu(e,T));let O=ew(t,["responseModalities"]);null!=O&&e_(s,["responseModalities"],O);let I=ew(t,["mediaResolution"]);null!=I&&e_(s,["mediaResolution"],I);let P=ew(t,["speechConfig"]);if(null!=P&&e_(s,["speechConfig"],ti(P)),void 0!==ew(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let C=ew(t,["thinkingConfig"]);null!=C&&e_(s,["thinkingConfig"],C);let A=ew(t,["imageConfig"]);return null!=A&&e_(s,["imageConfig"],function(e){let t={},r=ew(e,["aspectRatio"]);null!=r&&e_(t,["aspectRatio"],r);let n=ew(e,["imageSize"]);if(null!=n&&e_(t,["imageSize"],n),void 0!==ew(e,["outputMimeType"]))throw Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==ew(e,["outputCompressionQuality"]))throw Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A)),s}(e,o,ew(r,["request"],{}))),r})(e,t))),e_(r,["requests","requests"],t)}return r}(e,tg(e,a)));let i=ew(t,["config"]);return null!=i&&function(e,t){let r=ew(e,["displayName"]);if(void 0!==t&&null!=r&&e_(t,["batch","displayName"],r),void 0!==ew(e,["dest"]))throw Error("dest parameter is not supported in Gemini API.")}(i,r),r}r.PagedItem=void 0,(eo=r.PagedItem||(r.PagedItem={})).PAGED_ITEM_BATCH_JOBS="batchJobs",eo.PAGED_ITEM_MODELS="models",eo.PAGED_ITEM_TUNING_JOBS="tuningJobs",eo.PAGED_ITEM_FILES="files",eo.PAGED_ITEM_CACHED_CONTENTS="cachedContents",eo.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",eo.PAGED_ITEM_DOCUMENTS="documents";class tx{constructor(e,t,r,n){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,n)}init(e,t,r){var n,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};(i=r&&0!==Object.keys(r).length?"object"==typeof r?Object.assign({},r):r:{config:{}}).config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!=(a=null==(n=i.config)?void 0:n.pageSize)?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(!this.hasNextPage())return{value:void 0,done:!0};else await this.nextPage();let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return(null==(e=this.params.config)?void 0:e.pageToken)!==void 0}}class tE extends ev{constructor(e){super(),this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new tx(r.PagedItem.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}createInlinedGenerateContentRequest(e){let t=tk(this.apiClient,e),r=eb("{model}:batchGenerateContent",t._url),n=t.batch.inputConfig.requests,a=n.requests,i=[];for(let e of a){let t=Object.assign({},e);if(t.systemInstruction){let e=t.systemInstruction;delete t.systemInstruction;let r=t.request;r.systemInstruction=e,t.request=r}i.push(t)}return n.requests=i,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){let r=t?Object.assign({},t):{},n=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${n}`),void 0===r.dest){let t=this.getGcsUri(e),a=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?r.dest=`${t.slice(0,-6)}/dest`:r.dest=`${t}_dest_${n}`;else if(a)r.dest=`${a}_dest_${n}`;else throw Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,n,a,i;let o="",s={};if(this.apiClient.isVertexAI()){let n,a,l,u,d,c,p=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["model"],e1(i,a)),null!=(l=ew(e,["src"]))&&e_(n,["inputConfig"],function(e){let t={},r=ew(e,["format"]);null!=r&&e_(t,["instancesFormat"],r);let n=ew(e,["gcsUri"]);null!=n&&e_(t,["gcsSource","uris"],n);let a=ew(e,["bigqueryUri"]);if(null!=a&&e_(t,["bigquerySource","inputUri"],a),void 0!==ew(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==ew(e,["inlinedRequests"]))throw Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(tg(i,l))),null!=(u=ew(e,["config"]))&&(d=ew(u,["displayName"]),void 0!==n&&null!=d&&e_(n,["displayName"],d),c=ew(u,["dest"]),void 0!==n&&null!=c&&e_(n,["outputConfig"],function(e){let t={},r=ew(e,["format"]);null!=r&&e_(t,["predictionsFormat"],r);let n=ew(e,["gcsUri"]);null!=n&&e_(t,["gcsDestination","outputUriPrefix"],n);let a=ew(e,["bigqueryUri"]);if(null!=a&&e_(t,["bigqueryDestination","outputUri"],a),void 0!==ew(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==ew(e,["inlinedResponses"]))throw Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==ew(e,["inlinedEmbedContentResponses"]))throw Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw Error(`Unsupported destination: ${e}`)}(c)))),n);return o=eb("batchPredictionJobs",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(p),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>tw(e))}{let t=tk(this.apiClient,e);return o=eb("{model}:batchGenerateContent",t._url),s=t._query,delete t._url,delete t._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>t_(e))}}async createEmbeddingsInternal(e){var t,r,n,a,i;let o="",s={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let l,u,d,c,p,m,h,f,g=(n=this.apiClient,c={},null!=(p=ew(e,["model"]))&&e_(c,["_url","model"],e1(n,p)),null!=(m=ew(e,["src"]))&&e_(c,["batch","inputConfig"],(a=n,l={},null!=(u=ew(i=m,["fileName"]))&&e_(l,["file_name"],u),null!=(d=ew(i,["inlinedRequests"]))&&e_(l,["requests"],function(e,t){let r={},n=ew(t,["contents"]);if(null!=n){let t=tr(e,n);Array.isArray(t)&&(t=t.map(e=>e)),e_(r,["requests[]","request","content"],t)}let a=ew(t,["config"]);return null!=a&&(e_(r,["_self"],function(e,t){let r=ew(e,["taskType"]);void 0!==t&&null!=r&&e_(t,["requests[]","taskType"],r);let n=ew(e,["title"]);void 0!==t&&null!=n&&e_(t,["requests[]","title"],n);let a=ew(e,["outputDimensionality"]);if(void 0!==t&&null!=a&&e_(t,["requests[]","outputDimensionality"],a),void 0!==ew(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==ew(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.");return{}}(a,r)),!function(e,t){for(let[r,n]of Object.entries(t)){let t=r.split("."),a=n.split("."),i=new Set,o=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){o=e;break}if(-1!==o&&a.length>o)for(let e=o;e<a.length;e++){let t=a[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}!function e(t,r,n,a,i){if(a>=r.length||"object"!=typeof t||null===t)return;let o=r[a];if(o.endsWith("[]")){let s=o.slice(0,-2);if(s in t&&Array.isArray(t[s]))for(let o of t[s])e(o,r,n,a+1,i)}else if("*"===o){if("object"==typeof t&&null!==t&&!Array.isArray(t)){let e=Object.keys(t).filter(e=>!e.startsWith("_")&&!i.has(e)),r={};for(let n of e)r[n]=t[n];for(let[e,i]of Object.entries(r)){let r=[];for(let t of n.slice(a))"*"===t?r.push(e):r.push(t);e_(t,r,i)}for(let r of e)delete t[r]}}else o in t&&e(t[o],r,n,a+1,i)}(e,t,a,0,i)}}(r,{"requests[].*":"requests[].request.*"})),r}(a,d)),l)),null!=(h=ew(e,["config"]))&&(f=ew(h,["displayName"]),void 0!==c&&null!=f&&e_(c,["batch","displayName"],f)),c);return o=eb("{model}:asyncBatchEmbedContent",g._url),s=g._query,delete g._url,delete g._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(g),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>t_(e))}}async get(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tv(i,a)),n);return s=eb("batchPredictionJobs/{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>tw(e))}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tv(o,r)),t);return s=eb("batches/{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>t_(e))}}async cancel(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tv(i,a)),n);s=eb("batchPredictionJobs/{name}:cancel",o._url),l=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}else{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tv(o,r)),t);s=eb("batches/{name}:cancel",i._url),l=i._query,delete i._url,delete i._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal})}}async listInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s,l,u,d=(n={},null!=(a=ew(e,["config"]))&&(s=ew(a,["pageSize"]),void 0!==n&&null!=s&&e_(n,["_query","pageSize"],s),l=ew(a,["pageToken"]),void 0!==n&&null!=l&&e_(n,["_query","pageToken"],l),u=ew(a,["filter"]),void 0!==n&&null!=u&&e_(n,["_query","filter"],u)),n);return i=eb("batchPredictionJobs",d._url),o=d._query,delete d._url,delete d._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["batchPredictionJobs"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>tw(e))),e_(t,["batchJobs"],e)}return t}(e),r=new eK;return Object.assign(r,t),r})}{let t,r,s=(t={},null!=(r=ew(e,["config"]))&&function(e,t){let r=ew(e,["pageSize"]);void 0!==t&&null!=r&&e_(t,["_query","pageSize"],r);let n=ew(e,["pageToken"]);if(void 0!==t&&null!=n&&e_(t,["_query","pageToken"],n),void 0!==ew(e,["filter"]))throw Error("filter parameter is not supported in Gemini API.")}(r,t),t);return i=eb("batches",s._url),o=s._query,delete s._url,delete s._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["operations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>t_(e))),e_(t,["batchJobs"],e)}return t}(e),r=new eK;return Object.assign(r,t),r})}}async delete(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tv(i,a)),n);return s=eb("batchPredictionJobs/{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,a,i;return t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),null!=(n=ew(e,["name"]))&&e_(t,["name"],n),null!=(a=ew(e,["done"]))&&e_(t,["done"],a),null!=(i=ew(e,["error"]))&&e_(t,["error"],i),t})}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tv(o,r)),t);return s=eb("batches/{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,a,i;return t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),null!=(n=ew(e,["name"]))&&e_(t,["name"],n),null!=(a=ew(e,["done"]))&&e_(t,["done"],a),null!=(i=ew(e,["error"]))&&e_(t,["error"],i),t})}}}function tT(e){let t={},r=ew(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p,m;return r={},null!=(n=ew(t=e,["mediaResolution"]))&&e_(r,["mediaResolution"],n),null!=(a=ew(t,["codeExecutionResult"]))&&e_(r,["codeExecutionResult"],a),null!=(i=ew(t,["executableCode"]))&&e_(r,["executableCode"],i),null!=(o=ew(t,["fileData"]))&&e_(r,["fileData"],function(e){let t={};if(void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=ew(e,["fileUri"]);null!=r&&e_(t,["fileUri"],r);let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(o)),null!=(s=ew(t,["functionCall"]))&&e_(r,["functionCall"],function(e){let t={},r=ew(e,["id"]);null!=r&&e_(t,["id"],r);let n=ew(e,["args"]);null!=n&&e_(t,["args"],n);let a=ew(e,["name"]);if(null!=a&&e_(t,["name"],a),void 0!==ew(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==ew(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(s)),null!=(l=ew(t,["functionResponse"]))&&e_(r,["functionResponse"],l),null!=(u=ew(t,["inlineData"]))&&e_(r,["inlineData"],function(e){let t={},r=ew(e,["data"]);if(null!=r&&e_(t,["data"],r),void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(u)),null!=(d=ew(t,["text"]))&&e_(r,["text"],d),null!=(c=ew(t,["thought"]))&&e_(r,["thought"],c),null!=(p=ew(t,["thoughtSignature"]))&&e_(r,["thoughtSignature"],p),null!=(m=ew(t,["videoMetadata"]))&&e_(r,["videoMetadata"],m),r})),e_(t,["parts"],e)}let n=ew(e,["role"]);return null!=n&&e_(t,["role"],n),t}class tO extends ev{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new tx(r.PagedItem.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o,u=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["model"],e0(i,a)),null!=(o=ew(e,["config"]))&&function(e,t){let r=ew(e,["ttl"]);void 0!==t&&null!=r&&e_(t,["ttl"],r);let n=ew(e,["expireTime"]);void 0!==t&&null!=n&&e_(t,["expireTime"],n);let a=ew(e,["displayName"]);void 0!==t&&null!=a&&e_(t,["displayName"],a);let i=ew(e,["contents"]);if(void 0!==t&&null!=i){let e=tn(i);Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["contents"],e)}let o=ew(e,["systemInstruction"]);void 0!==t&&null!=o&&e_(t,["systemInstruction"],tt(o));let s=ew(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==ew(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=ew(e,["description"]);null!=r&&e_(t,["description"],r);let n=ew(e,["name"]);null!=n&&e_(t,["name"],n);let a=ew(e,["parameters"]);null!=a&&e_(t,["parameters"],a);let i=ew(e,["parametersJsonSchema"]);null!=i&&e_(t,["parametersJsonSchema"],i);let o=ew(e,["response"]);null!=o&&e_(t,["response"],o);let s=ew(e,["responseJsonSchema"]);return null!=s&&e_(t,["responseJsonSchema"],s),t})(e))),e_(t,["functionDeclarations"],e)}let n=ew(e,["retrieval"]);null!=n&&e_(t,["retrieval"],n);let a=ew(e,["googleSearchRetrieval"]);null!=a&&e_(t,["googleSearchRetrieval"],a);let i=ew(e,["computerUse"]);if(null!=i&&e_(t,["computerUse"],i),void 0!==ew(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let o=ew(e,["codeExecution"]);null!=o&&e_(t,["codeExecution"],o);let s=ew(e,["enterpriseWebSearch"]);null!=s&&e_(t,["enterpriseWebSearch"],s);let l=ew(e,["googleMaps"]);null!=l&&e_(t,["googleMaps"],l);let u=ew(e,["googleSearch"]);null!=u&&e_(t,["googleSearch"],u);let d=ew(e,["urlContext"]);return null!=d&&e_(t,["urlContext"],d),t})(e))),e_(t,["tools"],e)}let l=ew(e,["toolConfig"]);void 0!==t&&null!=l&&e_(t,["toolConfig"],l);let u=ew(e,["kmsKeyName"]);void 0!==t&&null!=u&&e_(t,["encryption_spec","kmsKeyName"],u)}(o,n),n);return s=eb("cachedContents",u._url),l=u._query,delete u._url,delete u._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,i,u=(o=this.apiClient,t={},null!=(r=ew(e,["model"]))&&e_(t,["model"],e0(o,r)),null!=(i=ew(e,["config"]))&&function(e,t){var r;let n,a,i,o=ew(e,["ttl"]);void 0!==t&&null!=o&&e_(t,["ttl"],o);let s=ew(e,["expireTime"]);void 0!==t&&null!=s&&e_(t,["expireTime"],s);let l=ew(e,["displayName"]);void 0!==t&&null!=l&&e_(t,["displayName"],l);let u=ew(e,["contents"]);if(void 0!==t&&null!=u){let e=tn(u);Array.isArray(e)&&(e=e.map(e=>tT(e))),e_(t,["contents"],e)}let d=ew(e,["systemInstruction"]);void 0!==t&&null!=d&&e_(t,["systemInstruction"],tT(tt(d)));let c=ew(e,["tools"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["functionDeclarations"],e)}if(void 0!==ew(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=ew(e,["googleSearchRetrieval"]);null!=n&&e_(t,["googleSearchRetrieval"],n);let a=ew(e,["computerUse"]);null!=a&&e_(t,["computerUse"],a);let i=ew(e,["fileSearch"]);null!=i&&e_(t,["fileSearch"],i);let o=ew(e,["codeExecution"]);if(null!=o&&e_(t,["codeExecution"],o),void 0!==ew(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=ew(e,["googleMaps"]);null!=s&&e_(t,["googleMaps"],function(e){let t={};if(void 0!==ew(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=ew(e,["enableWidget"]);return null!=r&&e_(t,["enableWidget"],r),t}(s));let l=ew(e,["googleSearch"]);null!=l&&e_(t,["googleSearch"],function(e){let t={};if(void 0!==ew(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==ew(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=ew(e,["timeRangeFilter"]);return null!=r&&e_(t,["timeRangeFilter"],r),t}(l));let u=ew(e,["urlContext"]);return null!=u&&e_(t,["urlContext"],u),t})(e))),e_(t,["tools"],e)}let p=ew(e,["toolConfig"]);if(void 0!==t&&null!=p&&e_(t,["toolConfig"],(n={},null!=(a=ew(r=p,["functionCallingConfig"]))&&e_(n,["functionCallingConfig"],function(e){let t={},r=ew(e,["mode"]);null!=r&&e_(t,["mode"],r);let n=ew(e,["allowedFunctionNames"]);if(null!=n&&e_(t,["allowedFunctionNames"],n),void 0!==ew(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(a)),null!=(i=ew(r,["retrievalConfig"]))&&e_(n,["retrievalConfig"],i),n)),void 0!==ew(e,["kmsKeyName"]))throw Error("kmsKeyName parameter is not supported in Gemini API.")}(i,t),t);return s=eb("cachedContents",u._url),l=u._query,delete u._url,delete u._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>e)}}async get(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tu(i,a)),n);return s=eb("{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tu(o,r)),t);return s=eb("{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tu(i,a)),n);return s=eb("{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new eL;return Object.assign(a,n),a})}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tu(o,r)),t);return s=eb("{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new eL;return Object.assign(a,n),a})}}async update(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o,u,d,c=(i=this.apiClient,n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],tu(i,a)),null!=(o=ew(e,["config"]))&&(u=ew(o,["ttl"]),void 0!==n&&null!=u&&e_(n,["ttl"],u),d=ew(o,["expireTime"]),void 0!==n&&null!=d&&e_(n,["expireTime"],d)),n);return s=eb("{name}",c._url),l=c._query,delete c._url,delete c._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,i,u,d,c=(o=this.apiClient,t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],tu(o,r)),null!=(i=ew(e,["config"]))&&(u=ew(i,["ttl"]),void 0!==t&&null!=u&&e_(t,["ttl"],u),d=ew(i,["expireTime"]),void 0!==t&&null!=d&&e_(t,["expireTime"],d)),t);return s=eb("{name}",c._url),l=c._query,delete c._url,delete c._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>e)}}async listInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s,l,u=(n={},null!=(a=ew(e,["config"]))&&(s=ew(a,["pageSize"]),void 0!==n&&null!=s&&e_(n,["_query","pageSize"],s),l=ew(a,["pageToken"]),void 0!==n&&null!=l&&e_(n,["_query","pageToken"],l)),n);return i=eb("cachedContents",u._url),o=u._query,delete u._url,delete u._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["cachedContents"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["cachedContents"],e)}return t}(e),r=new eq;return Object.assign(r,t),r})}{let t,r,s,l,u=(t={},null!=(r=ew(e,["config"]))&&(s=ew(r,["pageSize"]),void 0!==t&&null!=s&&e_(t,["_query","pageSize"],s),l=ew(r,["pageToken"]),void 0!==t&&null!=l&&e_(t,["_query","pageToken"],l)),t);return i=eb("cachedContents",u._url),o=u._query,delete u._url,delete u._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["cachedContents"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["cachedContents"],e)}return t}(e),r=new eq;return Object.assign(r,t),r})}}}function tI(e){return this instanceof tI?(this.v=e,this):new tI(e)}function tP(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{var r;(r=a[e](t)).value instanceof tI?Promise.resolve(r.value.v).then(l,u):d(i[0][2],r)}catch(e){d(i[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function tC(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){var i,o,s;i=n,o=a,s=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){i({value:e,done:s})},o)})}}}function tA(e){if(void 0===e.parts||0===e.parts.length)return!1;for(let t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function tj(e){if(void 0===e||0===e.length)return[];let t=[],r=e.length,n=0;for(;n<r;)if("user"===e[n].role)t.push(e[n]),n++;else{let a=[],i=!0;for(;n<r&&"model"===e[n].role;)a.push(e[n]),i&&!tA(e[n])&&(i=!1),n++;i?t.push(...a):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class tz{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new tR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class tR{constructor(e,t,r,n={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=n,this.history=a,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length){for(let t of e)if("user"!==t.role&&"model"!==t.role)throw Error(`Role must be user or model, but got ${t.role}.`)}}(a)}async sendMessage(e){var t;await this.sendPromise;let r=tt(e.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});return this.sendPromise=(async()=>{var e,t,a;let i=await n,o=null==(t=null==(e=i.candidates)?void 0:e[0])?void 0:t.content,s=i.automaticFunctionCallingHistory,l=this.getHistory(!0).length,u=[];null!=s&&(u=null!=(a=s.slice(l))?a:[]),this.recordHistory(r,o?[o]:[],u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(e){var t;await this.sendPromise;let r=tt(e.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});this.sendPromise=n.then(()=>void 0).catch(()=>void 0);let a=await n;return this.processStreamResponse(a,r)}getHistory(e=!1){return structuredClone(e?tj(this.history):this.history)}processStreamResponse(e,t){var r,n;return tP(this,arguments,function*(){var a,i,o,s;let l=[];try{for(var u,d=!0,c=tC(e);!(a=(u=yield tI(c.next())).done);d=!0){if(s=u.value,d=!1,function(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;let r=null==(t=e.candidates[0])?void 0:t.content;return void 0!==r&&tA(r)}(s)){let e=null==(n=null==(r=s.candidates)?void 0:r[0])?void 0:n.content;void 0!==e&&l.push(e)}yield yield tI(s)}}catch(e){i={error:e}}finally{try{!d&&!a&&(o=c.return)&&(yield tI(o.call(c)))}finally{if(i)throw i.error}}this.recordHistory(t,l)})}recordHistory(e,t,r){let n=[];t.length>0&&t.every(e=>void 0!==e.role)?n=t:n.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...tj(r)):this.history.push(e),this.history.push(...n)}}class tN extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tN.prototype)}}class t$ extends ev{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new tx(r.PagedItem.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u=(i={},null!=(o=ew(e,["config"]))&&(s=ew(o,["pageSize"]),void 0!==i&&null!=s&&e_(i,["_query","pageSize"],s),l=ew(o,["pageToken"]),void 0!==i&&null!=l&&e_(i,["_query","pageToken"],l)),i);return n=eb("files",u._url),a=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["files"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["files"],e)}return t}(e),r=new eG;return Object.assign(r,t),r})}}async createInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s=(i={},null!=(o=ew(e,["file"]))&&e_(i,["file"],o),i);return n=eb("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new eW;return Object.assign(a,n),a})}}async get(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","file"],tm(o)),i);return n=eb("files/{file}",s._url),a=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","file"],tm(o)),i);return n=eb("files/{file}",s._url),a=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new eJ;return Object.assign(a,n),a})}}}function tM(e){let t={},r=ew(e,["data"]);if(null!=r&&e_(t,["data"],r),void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}function tD(e){let t={},r=ew(e,["languageCode"]);null!=r&&e_(t,["languageCode"],r);let n=ew(e,["voiceConfig"]);if(null!=n&&e_(t,["voiceConfig"],n),void 0!==ew(e,["multiSpeakerVoiceConfig"]))throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function tF(e){let t={},r=ew(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p,m;return r={},null!=(n=ew(t=e,["mediaResolution"]))&&e_(r,["mediaResolution"],n),null!=(a=ew(t,["codeExecutionResult"]))&&e_(r,["codeExecutionResult"],a),null!=(i=ew(t,["executableCode"]))&&e_(r,["executableCode"],i),null!=(o=ew(t,["fileData"]))&&e_(r,["fileData"],function(e){let t={};if(void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=ew(e,["fileUri"]);null!=r&&e_(t,["fileUri"],r);let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(o)),null!=(s=ew(t,["functionCall"]))&&e_(r,["functionCall"],function(e){let t={},r=ew(e,["id"]);null!=r&&e_(t,["id"],r);let n=ew(e,["args"]);null!=n&&e_(t,["args"],n);let a=ew(e,["name"]);if(null!=a&&e_(t,["name"],a),void 0!==ew(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==ew(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(s)),null!=(l=ew(t,["functionResponse"]))&&e_(r,["functionResponse"],l),null!=(u=ew(t,["inlineData"]))&&e_(r,["inlineData"],function(e){let t={},r=ew(e,["data"]);if(null!=r&&e_(t,["data"],r),void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(u)),null!=(d=ew(t,["text"]))&&e_(r,["text"],d),null!=(c=ew(t,["thought"]))&&e_(r,["thought"],c),null!=(p=ew(t,["thoughtSignature"]))&&e_(r,["thoughtSignature"],p),null!=(m=ew(t,["videoMetadata"]))&&e_(r,["videoMetadata"],m),r})),e_(t,["parts"],e)}let n=ew(e,["role"]);return null!=n&&e_(t,["role"],n),t}function tU(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>tF(e))),e_(r,["contents"],e)}let i=ew(t,["config"]);return null!=i&&e_(r,["generationConfig"],function(e,t,r){var n;let a,i,o,s={},l=ew(t,["systemInstruction"]);void 0!==r&&null!=l&&e_(r,["systemInstruction"],tF(tt(l)));let u=ew(t,["temperature"]);null!=u&&e_(s,["temperature"],u);let d=ew(t,["topP"]);null!=d&&e_(s,["topP"],d);let c=ew(t,["topK"]);null!=c&&e_(s,["topK"],c);let p=ew(t,["candidateCount"]);null!=p&&e_(s,["candidateCount"],p);let m=ew(t,["maxOutputTokens"]);null!=m&&e_(s,["maxOutputTokens"],m);let h=ew(t,["stopSequences"]);null!=h&&e_(s,["stopSequences"],h);let f=ew(t,["responseLogprobs"]);null!=f&&e_(s,["responseLogprobs"],f);let g=ew(t,["logprobs"]);null!=g&&e_(s,["logprobs"],g);let y=ew(t,["presencePenalty"]);null!=y&&e_(s,["presencePenalty"],y);let v=ew(t,["frequencyPenalty"]);null!=v&&e_(s,["frequencyPenalty"],v);let b=ew(t,["seed"]);null!=b&&e_(s,["seed"],b);let _=ew(t,["responseMimeType"]);null!=_&&e_(s,["responseMimeType"],_);let w=ew(t,["responseSchema"]);null!=w&&e_(s,["responseSchema"],ta(w));let S=ew(t,["responseJsonSchema"]);if(null!=S&&e_(s,["responseJsonSchema"],S),void 0!==ew(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==ew(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let k=ew(t,["safetySettings"]);if(void 0!==r&&null!=k){let e=k;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["category"]);if(null!=r&&e_(t,["category"],r),void 0!==ew(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let n=ew(e,["threshold"]);return null!=n&&e_(t,["threshold"],n),t})(e))),e_(r,["safetySettings"],e)}let x=ew(t,["tools"]);if(void 0!==r&&null!=x){let e=tl(x);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["functionDeclarations"],e)}if(void 0!==ew(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=ew(e,["googleSearchRetrieval"]);null!=n&&e_(t,["googleSearchRetrieval"],n);let a=ew(e,["computerUse"]);null!=a&&e_(t,["computerUse"],a);let i=ew(e,["fileSearch"]);null!=i&&e_(t,["fileSearch"],i);let o=ew(e,["codeExecution"]);if(null!=o&&e_(t,["codeExecution"],o),void 0!==ew(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=ew(e,["googleMaps"]);null!=s&&e_(t,["googleMaps"],function(e){let t={};if(void 0!==ew(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=ew(e,["enableWidget"]);return null!=r&&e_(t,["enableWidget"],r),t}(s));let l=ew(e,["googleSearch"]);null!=l&&e_(t,["googleSearch"],function(e){let t={};if(void 0!==ew(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==ew(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=ew(e,["timeRangeFilter"]);return null!=r&&e_(t,["timeRangeFilter"],r),t}(l));let u=ew(e,["urlContext"]);return null!=u&&e_(t,["urlContext"],u),t})(ts(e)))),e_(r,["tools"],e)}let E=ew(t,["toolConfig"]);if(void 0!==r&&null!=E&&e_(r,["toolConfig"],(a={},null!=(i=ew(n=E,["functionCallingConfig"]))&&e_(a,["functionCallingConfig"],function(e){let t={},r=ew(e,["mode"]);null!=r&&e_(t,["mode"],r);let n=ew(e,["allowedFunctionNames"]);if(null!=n&&e_(t,["allowedFunctionNames"],n),void 0!==ew(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(i)),null!=(o=ew(n,["retrievalConfig"]))&&e_(a,["retrievalConfig"],o),a)),void 0!==ew(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let T=ew(t,["cachedContent"]);void 0!==r&&null!=T&&e_(r,["cachedContent"],tu(e,T));let O=ew(t,["responseModalities"]);null!=O&&e_(s,["responseModalities"],O);let I=ew(t,["mediaResolution"]);null!=I&&e_(s,["mediaResolution"],I);let P=ew(t,["speechConfig"]);if(null!=P&&e_(s,["speechConfig"],ti(P)),void 0!==ew(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let C=ew(t,["thinkingConfig"]);null!=C&&e_(s,["thinkingConfig"],C);let A=ew(t,["imageConfig"]);return null!=A&&e_(s,["imageConfig"],function(e){let t={},r=ew(e,["aspectRatio"]);null!=r&&e_(t,["aspectRatio"],r);let n=ew(e,["imageSize"]);if(null!=n&&e_(t,["imageSize"],n),void 0!==ew(e,["outputMimeType"]))throw Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==ew(e,["outputCompressionQuality"]))throw Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A)),s}(e,i,r)),r}function tL(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>e)),e_(r,["contents"],e)}let i=ew(t,["config"]);return null!=i&&e_(r,["generationConfig"],function(e,t,r){var n;let a,i,o,s,l,u={},d=ew(t,["systemInstruction"]);void 0!==r&&null!=d&&e_(r,["systemInstruction"],tt(d));let c=ew(t,["temperature"]);null!=c&&e_(u,["temperature"],c);let p=ew(t,["topP"]);null!=p&&e_(u,["topP"],p);let m=ew(t,["topK"]);null!=m&&e_(u,["topK"],m);let h=ew(t,["candidateCount"]);null!=h&&e_(u,["candidateCount"],h);let f=ew(t,["maxOutputTokens"]);null!=f&&e_(u,["maxOutputTokens"],f);let g=ew(t,["stopSequences"]);null!=g&&e_(u,["stopSequences"],g);let y=ew(t,["responseLogprobs"]);null!=y&&e_(u,["responseLogprobs"],y);let v=ew(t,["logprobs"]);null!=v&&e_(u,["logprobs"],v);let b=ew(t,["presencePenalty"]);null!=b&&e_(u,["presencePenalty"],b);let _=ew(t,["frequencyPenalty"]);null!=_&&e_(u,["frequencyPenalty"],_);let w=ew(t,["seed"]);null!=w&&e_(u,["seed"],w);let S=ew(t,["responseMimeType"]);null!=S&&e_(u,["responseMimeType"],S);let k=ew(t,["responseSchema"]);null!=k&&e_(u,["responseSchema"],ta(k));let x=ew(t,["responseJsonSchema"]);null!=x&&e_(u,["responseJsonSchema"],x);let E=ew(t,["routingConfig"]);null!=E&&e_(u,["routingConfig"],E);let T=ew(t,["modelSelectionConfig"]);null!=T&&e_(u,["modelConfig"],T);let O=ew(t,["safetySettings"]);if(void 0!==r&&null!=O){let e=O;Array.isArray(e)&&(e=e.map(e=>e)),e_(r,["safetySettings"],e)}let I=ew(t,["tools"]);if(void 0!==r&&null!=I){let e=tl(I);Array.isArray(e)&&(e=e.map(e=>tQ(ts(e)))),e_(r,["tools"],e)}let P=ew(t,["toolConfig"]);void 0!==r&&null!=P&&e_(r,["toolConfig"],P);let C=ew(t,["labels"]);void 0!==r&&null!=C&&e_(r,["labels"],C);let A=ew(t,["cachedContent"]);void 0!==r&&null!=A&&e_(r,["cachedContent"],tu(e,A));let j=ew(t,["responseModalities"]);null!=j&&e_(u,["responseModalities"],j);let z=ew(t,["mediaResolution"]);null!=z&&e_(u,["mediaResolution"],z);let R=ew(t,["speechConfig"]);null!=R&&e_(u,["speechConfig"],tX(ti(R)));let N=ew(t,["audioTimestamp"]);null!=N&&e_(u,["audioTimestamp"],N);let $=ew(t,["thinkingConfig"]);null!=$&&e_(u,["thinkingConfig"],$);let M=ew(t,["imageConfig"]);return null!=M&&e_(u,["imageConfig"],(a={},null!=(i=ew(n=M,["aspectRatio"]))&&e_(a,["aspectRatio"],i),null!=(o=ew(n,["imageSize"]))&&e_(a,["imageSize"],o),null!=(s=ew(n,["outputMimeType"]))&&e_(a,["imageOutputOptions","mimeType"],s),null!=(l=ew(n,["outputCompressionQuality"]))&&e_(a,["imageOutputOptions","compressionQuality"],l),a)),u}(e,i,r)),r}function tq(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["content"]);null!=r&&e_(t,["content"],r);let n=ew(e,["citationMetadata"]);null!=n&&e_(t,["citationMetadata"],function(e){let t={},r=ew(e,["citationSources"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["citations"],e)}return t}(n));let a=ew(e,["tokenCount"]);null!=a&&e_(t,["tokenCount"],a);let i=ew(e,["finishReason"]);null!=i&&e_(t,["finishReason"],i);let o=ew(e,["avgLogprobs"]);null!=o&&e_(t,["avgLogprobs"],o);let s=ew(e,["groundingMetadata"]);null!=s&&e_(t,["groundingMetadata"],s);let l=ew(e,["index"]);null!=l&&e_(t,["index"],l);let u=ew(e,["logprobsResult"]);null!=u&&e_(t,["logprobsResult"],u);let d=ew(e,["safetyRatings"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["safetyRatings"],e)}let c=ew(e,["urlContextMetadata"]);return null!=c&&e_(t,["urlContextMetadata"],c),t})(e))),e_(t,["candidates"],e)}let a=ew(e,["modelVersion"]);null!=a&&e_(t,["modelVersion"],a);let i=ew(e,["promptFeedback"]);null!=i&&e_(t,["promptFeedback"],i);let o=ew(e,["responseId"]);null!=o&&e_(t,["responseId"],o);let s=ew(e,["usageMetadata"]);return null!=s&&e_(t,["usageMetadata"],s),t}function tV(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["candidates"],e)}let a=ew(e,["createTime"]);null!=a&&e_(t,["createTime"],a);let i=ew(e,["modelVersion"]);null!=i&&e_(t,["modelVersion"],i);let o=ew(e,["promptFeedback"]);null!=o&&e_(t,["promptFeedback"],o);let s=ew(e,["responseId"]);null!=s&&e_(t,["responseId"],s);let l=ew(e,["usageMetadata"]);return null!=l&&e_(t,["usageMetadata"],l),t}function tB(e){let t={},r=ew(e,["_self"]);null!=r&&e_(t,["image"],tZ(r));let n=ew(e,["raiFilteredReason"]);null!=n&&e_(t,["raiFilteredReason"],n);let a=ew(e,["_self"]);null!=a&&e_(t,["safetyAttributes"],tY(a));let i=ew(e,["prompt"]);return null!=i&&e_(t,["enhancedPrompt"],i),t}function tZ(e){let t={},r=ew(e,["gcsUri"]);null!=r&&e_(t,["gcsUri"],r);let n=ew(e,["bytesBase64Encoded"]);null!=n&&e_(t,["imageBytes"],eS(n));let a=ew(e,["mimeType"]);return null!=a&&e_(t,["mimeType"],a),t}function tH(e){let t={};if(void 0!==ew(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");let r=ew(e,["imageBytes"]);null!=r&&e_(t,["bytesBase64Encoded"],eS(r));let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}function tG(e){let t={},r=ew(e,["gcsUri"]);null!=r&&e_(t,["gcsUri"],r);let n=ew(e,["imageBytes"]);null!=n&&e_(t,["bytesBase64Encoded"],eS(n));let a=ew(e,["mimeType"]);return null!=a&&e_(t,["mimeType"],a),t}function tW(e){var t;let r,n,a,i,o={},s=ew(e,["name"]);null!=s&&e_(o,["name"],s);let l=ew(e,["displayName"]);null!=l&&e_(o,["displayName"],l);let u=ew(e,["description"]);null!=u&&e_(o,["description"],u);let d=ew(e,["version"]);null!=d&&e_(o,["version"],d);let c=ew(e,["_self"]);null!=c&&e_(o,["tunedModelInfo"],(r={},null!=(n=ew(t=c,["baseModel"]))&&e_(r,["baseModel"],n),null!=(a=ew(t,["createTime"]))&&e_(r,["createTime"],a),null!=(i=ew(t,["updateTime"]))&&e_(r,["updateTime"],i),r));let p=ew(e,["inputTokenLimit"]);null!=p&&e_(o,["inputTokenLimit"],p);let m=ew(e,["outputTokenLimit"]);null!=m&&e_(o,["outputTokenLimit"],m);let h=ew(e,["supportedGenerationMethods"]);null!=h&&e_(o,["supportedActions"],h);let f=ew(e,["temperature"]);null!=f&&e_(o,["temperature"],f);let g=ew(e,["maxTemperature"]);null!=g&&e_(o,["maxTemperature"],g);let y=ew(e,["topP"]);null!=y&&e_(o,["topP"],y);let v=ew(e,["topK"]);null!=v&&e_(o,["topK"],v);let b=ew(e,["thinking"]);return null!=b&&e_(o,["thinking"],b),o}function tJ(e){var t;let r,n,a,i,o={},s=ew(e,["name"]);null!=s&&e_(o,["name"],s);let l=ew(e,["displayName"]);null!=l&&e_(o,["displayName"],l);let u=ew(e,["description"]);null!=u&&e_(o,["description"],u);let d=ew(e,["versionId"]);null!=d&&e_(o,["version"],d);let c=ew(e,["deployedModels"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>{let t,r,n;return t={},null!=(r=ew(e,["endpoint"]))&&e_(t,["name"],r),null!=(n=ew(e,["deployedModelId"]))&&e_(t,["deployedModelId"],n),t})),e_(o,["endpoints"],e)}let p=ew(e,["labels"]);null!=p&&e_(o,["labels"],p);let m=ew(e,["_self"]);null!=m&&e_(o,["tunedModelInfo"],(r={},null!=(n=ew(t=m,["labels","google-vertex-llm-tuning-base-model-id"]))&&e_(r,["baseModel"],n),null!=(a=ew(t,["createTime"]))&&e_(r,["createTime"],a),null!=(i=ew(t,["updateTime"]))&&e_(r,["updateTime"],i),r));let h=ew(e,["defaultCheckpointId"]);null!=h&&e_(o,["defaultCheckpointId"],h);let f=ew(e,["checkpoints"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map(e=>e)),e_(o,["checkpoints"],e)}return o}function tK(e){let t={},r=ew(e,["safetyAttributes","categories"]);null!=r&&e_(t,["categories"],r);let n=ew(e,["safetyAttributes","scores"]);null!=n&&e_(t,["scores"],n);let a=ew(e,["contentType"]);return null!=a&&e_(t,["contentType"],a),t}function tY(e){let t={},r=ew(e,["safetyAttributes","categories"]);null!=r&&e_(t,["categories"],r);let n=ew(e,["safetyAttributes","scores"]);null!=n&&e_(t,["scores"],n);let a=ew(e,["contentType"]);return null!=a&&e_(t,["contentType"],a),t}function tX(e){let t={},r=ew(e,["languageCode"]);null!=r&&e_(t,["languageCode"],r);let n=ew(e,["voiceConfig"]);if(null!=n&&e_(t,["voiceConfig"],n),void 0!==ew(e,["multiSpeakerVoiceConfig"]))throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function tQ(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==ew(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=ew(e,["description"]);null!=r&&e_(t,["description"],r);let n=ew(e,["name"]);null!=n&&e_(t,["name"],n);let a=ew(e,["parameters"]);null!=a&&e_(t,["parameters"],a);let i=ew(e,["parametersJsonSchema"]);null!=i&&e_(t,["parametersJsonSchema"],i);let o=ew(e,["response"]);null!=o&&e_(t,["response"],o);let s=ew(e,["responseJsonSchema"]);return null!=s&&e_(t,["responseJsonSchema"],s),t})(e))),e_(t,["functionDeclarations"],e)}let n=ew(e,["retrieval"]);null!=n&&e_(t,["retrieval"],n);let a=ew(e,["googleSearchRetrieval"]);null!=a&&e_(t,["googleSearchRetrieval"],a);let i=ew(e,["computerUse"]);if(null!=i&&e_(t,["computerUse"],i),void 0!==ew(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let o=ew(e,["codeExecution"]);null!=o&&e_(t,["codeExecution"],o);let s=ew(e,["enterpriseWebSearch"]);null!=s&&e_(t,["enterpriseWebSearch"],s);let l=ew(e,["googleMaps"]);null!=l&&e_(t,["googleMaps"],l);let u=ew(e,["googleSearch"]);null!=u&&e_(t,["googleSearch"],u);let d=ew(e,["urlContext"]);return null!=d&&e_(t,["urlContext"],d),t}function t1(e){let t={},r=ew(e,["uri"]);null!=r&&e_(t,["uri"],r);let n=ew(e,["videoBytes"]);null!=n&&e_(t,["encodedVideo"],eS(n));let a=ew(e,["mimeType"]);return null!=a&&e_(t,["encoding"],a),t}function t0(e){let t={},r=ew(e,["uri"]);null!=r&&e_(t,["gcsUri"],r);let n=ew(e,["videoBytes"]);null!=n&&e_(t,["bytesBase64Encoded"],eS(n));let a=ew(e,["mimeType"]);return null!=a&&e_(t,["mimeType"],a),t}let t2="x-goog-api-client",t4=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class t6{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const n={};this.clientOptions.vertexai?(n.apiVersion=null!=(t=this.clientOptions.apiVersion)?t:"v1beta1",n.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(n.apiVersion=null!=(r=this.clientOptions.apiVersion)?r:"v1beta",n.baseUrl="https://generativelanguage.googleapis.com/"),n.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=n,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(n,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return null!=(e=this.clientOptions.vertexai)&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw Error("HTTP options are not correctly set.");let t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=new URL(this.getBaseUrl());return e.protocol="http:"==e.protocol?"ws":"wss",e.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw Error("HTTP options are not correctly set.")}constructUrl(e,t,r){let n=[this.getRequestUrlInternal(t)];return r&&n.push(this.getBaseResourcePath()),""!==e&&n.push(e),new URL(`${n.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),n=this.constructUrl(e.path,t,r);if(e.queryParams)for(let[t,r]of Object.entries(e.queryParams))n.searchParams.append(t,String(r));let a={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,n.toString(),e.abortSignal),this.unaryApiCall(n,a,e.httpMethod)}patchHttpOptions(e,t){let r=JSON.parse(JSON.stringify(e));for(let[e,n]of Object.entries(t))"object"==typeof n?r[e]=Object.assign(Object.assign({},r[e]),n):void 0!==n&&(r[e]=n);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),n=this.constructUrl(e.path,t,r);n.searchParams.has("alt")&&"sse"===n.searchParams.get("alt")||n.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,n.toString(),e.abortSignal),this.streamApiCall(n,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,n){if(t&&t.timeout||n){let r=new AbortController,a=r.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){let e=setTimeout(()=>r.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=a}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let r={};if("string"==typeof e.body&&e.body.length>0)try{let t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");r=t}catch(e){console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}e.body=JSON.stringify(function e(t,r){let n=Object.assign({},t);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){let a=r[t],i=n[t];a&&"object"==typeof a&&!Array.isArray(a)&&i&&"object"==typeof i&&!Array.isArray(i)?n[t]=e(i,a):(i&&a&&typeof i!=typeof a&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${t}". Original type: ${typeof i}, New type: ${typeof a}. Overwriting.`),n[t]=a)}return n}(r,t))}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await t3(e),new eO(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await t3(e),this.processStreamResponse(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}processStreamResponse(e){var t;return tP(this,arguments,function*(){let r=null==(t=null==e?void 0:e.body)?void 0:t.getReader(),n=new TextDecoder("utf-8");if(!r)throw Error("Response body is empty");try{let t="";for(;;){let{done:a,value:i}=yield tI(r.read());if(a){if(t.trim().length>0)throw Error("Incomplete JSON segment at the end");break}let o=n.decode(i,{stream:!0});try{let e=JSON.parse(o);if("error"in e){let t=JSON.parse(JSON.stringify(e.error)),r=t.status,n=t.code,a=`got status: ${r}. ${JSON.stringify(e)}`;if(n>=400&&n<600)throw new tN({message:a,status:n})}}catch(e){if("ApiError"===e.name)throw e}let s=(t+=o).match(t4);for(;s;){let r=s[1];try{let n=new Response(r,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield tI(new eO(n)),s=(t=t.slice(s[0].length)).match(t4)}catch(e){throw Error(`exception parsing stream chunk ${r}. ${e}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw Error(`exception ${e} sending request`)})}getDefaultHeaders(){let e={},t="google-genai-sdk/1.30.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[t2]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){let r=new Headers;if(e&&e.headers){for(let[t,n]of Object.entries(e.headers))r.append(t,n);e.timeout&&e.timeout>0&&r.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return"string"==typeof e&&(r=null!=(t=(r=e.replace(/[/\\]+$/,"")).split(/[/\\]/).pop())?t:""),r}async uploadFile(e,t){var r;let n={};null!=t&&(n.mimeType=t.mimeType,n.name=t.name,n.displayName=t.displayName),n.name&&!n.name.startsWith("files/")&&(n.name=`files/${n.name}`);let a=this.clientOptions.uploader,i=await a.stat(e);n.sizeBytes=String(i.size);let o=null!=(r=null==t?void 0:t.mimeType)?r:i.type;if(void 0===o||""===o)throw Error("Can not determine mimeType. Please provide mimeType in the config.");n.mimeType=o;let s={file:n},l=this.getFileName(e),u=eb("upload/v1beta/files",s._url),d=await this.fetchUploadUrl(u,n.sizeBytes,n.mimeType,l,s,null==t?void 0:t.httpOptions);return a.upload(e,d,this)}async uploadFileToFileSearchStore(e,t,r){var n;let a=this.clientOptions.uploader,i=await a.stat(t),o=String(i.size),s=null!=(n=null==r?void 0:r.mimeType)?n:i.type;if(void 0===s||""===s)throw Error("Can not determine mimeType. Please provide mimeType in the config.");let l=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),d={};(null==r?void 0:r.customMetadata)&&(d.customMetadata=r.customMetadata),(null==r?void 0:r.chunkingConfig)&&(d.chunkingConfig=r.chunkingConfig);let c=await this.fetchUploadUrl(l,o,s,u,d,null==r?void 0:r.httpOptions);return a.uploadToFileSearchStore(t,c,this)}async downloadFile(e){let t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,r,n,a,i){var o;let s={};s=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},n?{"X-Goog-Upload-File-Name":n}:{})};let l=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!l||!(null==l?void 0:l.headers))throw Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let u=null==(o=null==l?void 0:l.headers)?void 0:o["x-goog-upload-url"];if(void 0===u)throw Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function t3(e){var t;if(void 0===e)throw Error("response is undefined");if(!e.ok){let r=e.status,n=JSON.stringify((null==(t=e.headers.get("content-type"))?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}});if(r>=400&&r<600)throw new tN({message:n,status:r});throw Error(n)}}let t9=!1;function t5(e){for(let r of e){var t;if(null!==(t=r)&&"object"==typeof t&&t instanceof t7||"object"==typeof r&&"inputSchema"in r)return!0}return t9}function t8(e){var t;let r=null!=(t=e[t2])?t:"";e[t2]=(r+" mcp_used/unknown").trimStart()}class t7{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new t7(e,t)}async initialize(){var e,t,r,n;if(this.mcpTools.length>0)return;let a={},i=[];for(let u of this.mcpClients)try{for(var o,s=!0,l=(t=void 0,tC(function(e,t=100){return tP(this,arguments,function*(){let r,n=0;for(;n<t;){let t=yield tI(e.listTools({cursor:r}));for(let e of t.tools)yield yield tI(e),n++;if(!t.nextCursor)break;r=t.nextCursor}})}(u)));!(e=(o=await l.next()).done);s=!0){n=o.value,s=!1,i.push(n);let e=n.name;if(a[e])throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);a[e]=u}}catch(e){t={error:e}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),function(e,t={}){let r=[],n=new Set;for(let a of e){let e=a.name;if(n.has(e))throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);n.add(e);let i=function(e,t={}){let r={name:e.name,description:e.description,parametersJsonSchema:e.inputSchema};return e.outputSchema&&(r.responseJsonSchema=e.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}(a,t);i.functionDeclarations&&r.push(...i.functionDeclarations)}return{functionDeclarations:r}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let e,n=this.functionNameToMcpClient[r.name];this.config.timeout&&(e={timeout:this.config.timeout});let a=await n.callTool({name:r.name,arguments:r.args},void 0,e);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}async function re(e,t,r){let n=new eX;Object.assign(n,r.data instanceof Blob?JSON.parse(await r.data.text()):JSON.parse(r.data)),t(n)}class rt{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;let n;if(this.apiClient.isVertexAI())throw Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${s}`,u=()=>{},d=new Promise(e=>{u=e}),c=e.callbacks,p=this.apiClient,m={onopen:function(){u({})},onmessage:e=>{re(p,c.onmessage,e)},onerror:null!=(t=null==c?void 0:c.onerror)?t:function(e){},onclose:null!=(r=null==c?void 0:c.onclose)?r:function(e){}},h=this.webSocketFactory.create(l,(n={},o.forEach((e,t)=>{n[t]=e}),n),m);h.connect(),await d;let f=e1(this.apiClient,e.model);return h.send(JSON.stringify({setup:{model:f}})),new rr(h,this.apiClient)}}class rr{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw Error("Weighted prompts must be set and contain at least one entry.");let t=function(e){let t={},r=ew(e,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){let t,r;e.musicGenerationConfig||(e.musicGenerationConfig={});let n=(t={},null!=(r=ew(e,["musicGenerationConfig"]))&&e_(t,["musicGenerationConfig"],r),t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){this.conn.send(JSON.stringify({playbackControl:e}))}play(){this.sendPlaybackControl(r.LiveMusicPlaybackControl.PLAY)}pause(){this.sendPlaybackControl(r.LiveMusicPlaybackControl.PAUSE)}stop(){this.sendPlaybackControl(r.LiveMusicPlaybackControl.STOP)}resetContext(){this.sendPlaybackControl(r.LiveMusicPlaybackControl.RESET_CONTEXT)}close(){this.conn.close()}}async function rn(e,t,r){let n=new eY,a=JSON.parse(r.data instanceof Blob?await r.data.text():r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data);if(e.isVertexAI()){let e,t,r,i,o,s,l,u;Object.assign(n,(e={},null!=(t=ew(a,["setupComplete"]))&&e_(e,["setupComplete"],t),null!=(r=ew(a,["serverContent"]))&&e_(e,["serverContent"],r),null!=(i=ew(a,["toolCall"]))&&e_(e,["toolCall"],i),null!=(o=ew(a,["toolCallCancellation"]))&&e_(e,["toolCallCancellation"],o),null!=(s=ew(a,["usageMetadata"]))&&e_(e,["usageMetadata"],function(e){let t={},r=ew(e,["promptTokenCount"]);null!=r&&e_(t,["promptTokenCount"],r);let n=ew(e,["cachedContentTokenCount"]);null!=n&&e_(t,["cachedContentTokenCount"],n);let a=ew(e,["candidatesTokenCount"]);null!=a&&e_(t,["responseTokenCount"],a);let i=ew(e,["toolUsePromptTokenCount"]);null!=i&&e_(t,["toolUsePromptTokenCount"],i);let o=ew(e,["thoughtsTokenCount"]);null!=o&&e_(t,["thoughtsTokenCount"],o);let s=ew(e,["totalTokenCount"]);null!=s&&e_(t,["totalTokenCount"],s);let l=ew(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["promptTokensDetails"],e)}let u=ew(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["cacheTokensDetails"],e)}let d=ew(e,["candidatesTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["responseTokensDetails"],e)}let c=ew(e,["toolUsePromptTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["toolUsePromptTokensDetails"],e)}let p=ew(e,["trafficType"]);return null!=p&&e_(t,["trafficType"],p),t}(s)),null!=(l=ew(a,["goAway"]))&&e_(e,["goAway"],l),null!=(u=ew(a,["sessionResumptionUpdate"]))&&e_(e,["sessionResumptionUpdate"],u),e))}else Object.assign(n,a);t(n)}class ra{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new rt(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,a,i,o,s,l,u;let d,c;if(e.config&&e.config.httpOptions)throw Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion(),h=this.apiClient.getHeaders();e.config&&e.config.tools&&t5(e.config.tools)&&t8(h);let f=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(h);if(this.apiClient.isVertexAI())d=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,d);else{let e=this.apiClient.getApiKey(),t="BidiGenerateContent",r="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==m&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",r="access_token"),d=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${t}?${r}=${e}`}let g=()=>{},y=new Promise(e=>{g=e}),v=e.callbacks,b=this.apiClient,_={onopen:function(){var e;null==(e=null==v?void 0:v.onopen)||e.call(v),g({})},onmessage:e=>{rn(b,v.onmessage,e)},onerror:null!=(t=null==v?void 0:v.onerror)?t:function(e){},onclose:null!=(n=null==v?void 0:v.onclose)?n:function(e){}},w=this.webSocketFactory.create(d,(c={},f.forEach((e,t)=>{c[t]=e}),c),_);w.connect(),await y;let S=e1(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){let e=this.apiClient.getProject(),t=this.apiClient.getLocation();S=`projects/${e}/locations/${t}/`+S}let k={};this.apiClient.isVertexAI()&&(null==(a=e.config)?void 0:a.responseModalities)===void 0&&(void 0===e.config?e.config={responseModalities:[r.Modality.AUDIO]}:e.config.responseModalities=[r.Modality.AUDIO]),(null==(i=e.config)?void 0:i.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let x=null!=(s=null==(o=e.config)?void 0:o.tools)?s:[],E=[];for(let e of x)this.isCallableTool(e)?E.push(await e.tool()):E.push(e);E.length>0&&(e.config.tools=E);let T={model:S,config:e.config,callbacks:e.callbacks};if(this.apiClient.isVertexAI()){let e,t,r;l=this.apiClient,e={},null!=(t=ew(T,["model"]))&&e_(e,["setup","model"],e1(l,t)),null!=(r=ew(T,["config"]))&&e_(e,["config"],function(e,t){let r=ew(e,["generationConfig"]);void 0!==t&&null!=r&&e_(t,["setup","generationConfig"],function(e){let t={},r=ew(e,["modelSelectionConfig"]);null!=r&&e_(t,["modelConfig"],r);let n=ew(e,["responseJsonSchema"]);null!=n&&e_(t,["responseJsonSchema"],n);let a=ew(e,["audioTimestamp"]);null!=a&&e_(t,["audioTimestamp"],a);let i=ew(e,["candidateCount"]);null!=i&&e_(t,["candidateCount"],i);let o=ew(e,["enableAffectiveDialog"]);null!=o&&e_(t,["enableAffectiveDialog"],o);let s=ew(e,["frequencyPenalty"]);null!=s&&e_(t,["frequencyPenalty"],s);let l=ew(e,["logprobs"]);null!=l&&e_(t,["logprobs"],l);let u=ew(e,["maxOutputTokens"]);null!=u&&e_(t,["maxOutputTokens"],u);let d=ew(e,["mediaResolution"]);null!=d&&e_(t,["mediaResolution"],d);let c=ew(e,["presencePenalty"]);null!=c&&e_(t,["presencePenalty"],c);let p=ew(e,["responseLogprobs"]);null!=p&&e_(t,["responseLogprobs"],p);let m=ew(e,["responseMimeType"]);null!=m&&e_(t,["responseMimeType"],m);let h=ew(e,["responseModalities"]);null!=h&&e_(t,["responseModalities"],h);let f=ew(e,["responseSchema"]);null!=f&&e_(t,["responseSchema"],f);let g=ew(e,["routingConfig"]);null!=g&&e_(t,["routingConfig"],g);let y=ew(e,["seed"]);null!=y&&e_(t,["seed"],y);let v=ew(e,["speechConfig"]);null!=v&&e_(t,["speechConfig"],tD(v));let b=ew(e,["stopSequences"]);null!=b&&e_(t,["stopSequences"],b);let _=ew(e,["temperature"]);null!=_&&e_(t,["temperature"],_);let w=ew(e,["thinkingConfig"]);null!=w&&e_(t,["thinkingConfig"],w);let S=ew(e,["topK"]);null!=S&&e_(t,["topK"],S);let k=ew(e,["topP"]);if(null!=k&&e_(t,["topP"],k),void 0!==ew(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r));let n=ew(e,["responseModalities"]);void 0!==t&&null!=n&&e_(t,["setup","generationConfig","responseModalities"],n);let a=ew(e,["temperature"]);void 0!==t&&null!=a&&e_(t,["setup","generationConfig","temperature"],a);let i=ew(e,["topP"]);void 0!==t&&null!=i&&e_(t,["setup","generationConfig","topP"],i);let o=ew(e,["topK"]);void 0!==t&&null!=o&&e_(t,["setup","generationConfig","topK"],o);let s=ew(e,["maxOutputTokens"]);void 0!==t&&null!=s&&e_(t,["setup","generationConfig","maxOutputTokens"],s);let l=ew(e,["mediaResolution"]);void 0!==t&&null!=l&&e_(t,["setup","generationConfig","mediaResolution"],l);let u=ew(e,["seed"]);void 0!==t&&null!=u&&e_(t,["setup","generationConfig","seed"],u);let d=ew(e,["speechConfig"]);void 0!==t&&null!=d&&e_(t,["setup","generationConfig","speechConfig"],tD(to(d)));let c=ew(e,["thinkingConfig"]);void 0!==t&&null!=c&&e_(t,["setup","generationConfig","thinkingConfig"],c);let p=ew(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&e_(t,["setup","generationConfig","enableAffectiveDialog"],p);let m=ew(e,["systemInstruction"]);void 0!==t&&null!=m&&e_(t,["setup","systemInstruction"],tt(m));let h=ew(e,["tools"]);if(void 0!==t&&null!=h){let e=tl(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==ew(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=ew(e,["description"]);null!=r&&e_(t,["description"],r);let n=ew(e,["name"]);null!=n&&e_(t,["name"],n);let a=ew(e,["parameters"]);null!=a&&e_(t,["parameters"],a);let i=ew(e,["parametersJsonSchema"]);null!=i&&e_(t,["parametersJsonSchema"],i);let o=ew(e,["response"]);null!=o&&e_(t,["response"],o);let s=ew(e,["responseJsonSchema"]);return null!=s&&e_(t,["responseJsonSchema"],s),t})(e))),e_(t,["functionDeclarations"],e)}let n=ew(e,["retrieval"]);null!=n&&e_(t,["retrieval"],n);let a=ew(e,["googleSearchRetrieval"]);null!=a&&e_(t,["googleSearchRetrieval"],a);let i=ew(e,["computerUse"]);if(null!=i&&e_(t,["computerUse"],i),void 0!==ew(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let o=ew(e,["codeExecution"]);null!=o&&e_(t,["codeExecution"],o);let s=ew(e,["enterpriseWebSearch"]);null!=s&&e_(t,["enterpriseWebSearch"],s);let l=ew(e,["googleMaps"]);null!=l&&e_(t,["googleMaps"],l);let u=ew(e,["googleSearch"]);null!=u&&e_(t,["googleSearch"],u);let d=ew(e,["urlContext"]);return null!=d&&e_(t,["urlContext"],d),t})(ts(e)))),e_(t,["setup","tools"],e)}let f=ew(e,["sessionResumption"]);void 0!==t&&null!=f&&e_(t,["setup","sessionResumption"],f);let g=ew(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&e_(t,["setup","inputAudioTranscription"],g);let y=ew(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&e_(t,["setup","outputAudioTranscription"],y);let v=ew(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&e_(t,["setup","realtimeInputConfig"],v);let b=ew(e,["contextWindowCompression"]);void 0!==t&&null!=b&&e_(t,["setup","contextWindowCompression"],b);let _=ew(e,["proactivity"]);return void 0!==t&&null!=_&&e_(t,["setup","proactivity"],_),{}}(r,e)),k=e}else{let e,t,r;u=this.apiClient,e={},null!=(t=ew(T,["model"]))&&e_(e,["setup","model"],e1(u,t)),null!=(r=ew(T,["config"]))&&e_(e,["config"],function(e,t){let r=ew(e,["generationConfig"]);void 0!==t&&null!=r&&e_(t,["setup","generationConfig"],r);let n=ew(e,["responseModalities"]);void 0!==t&&null!=n&&e_(t,["setup","generationConfig","responseModalities"],n);let a=ew(e,["temperature"]);void 0!==t&&null!=a&&e_(t,["setup","generationConfig","temperature"],a);let i=ew(e,["topP"]);void 0!==t&&null!=i&&e_(t,["setup","generationConfig","topP"],i);let o=ew(e,["topK"]);void 0!==t&&null!=o&&e_(t,["setup","generationConfig","topK"],o);let s=ew(e,["maxOutputTokens"]);void 0!==t&&null!=s&&e_(t,["setup","generationConfig","maxOutputTokens"],s);let l=ew(e,["mediaResolution"]);void 0!==t&&null!=l&&e_(t,["setup","generationConfig","mediaResolution"],l);let u=ew(e,["seed"]);void 0!==t&&null!=u&&e_(t,["setup","generationConfig","seed"],u);let d=ew(e,["speechConfig"]);void 0!==t&&null!=d&&e_(t,["setup","generationConfig","speechConfig"],to(d));let c=ew(e,["thinkingConfig"]);void 0!==t&&null!=c&&e_(t,["setup","generationConfig","thinkingConfig"],c);let p=ew(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&e_(t,["setup","generationConfig","enableAffectiveDialog"],p);let m=ew(e,["systemInstruction"]);void 0!==t&&null!=m&&e_(t,["setup","systemInstruction"],function(e){let t={},r=ew(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p,m;return r={},null!=(n=ew(t=e,["mediaResolution"]))&&e_(r,["mediaResolution"],n),null!=(a=ew(t,["codeExecutionResult"]))&&e_(r,["codeExecutionResult"],a),null!=(i=ew(t,["executableCode"]))&&e_(r,["executableCode"],i),null!=(o=ew(t,["fileData"]))&&e_(r,["fileData"],function(e){let t={};if(void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=ew(e,["fileUri"]);null!=r&&e_(t,["fileUri"],r);let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(o)),null!=(s=ew(t,["functionCall"]))&&e_(r,["functionCall"],function(e){let t={},r=ew(e,["id"]);null!=r&&e_(t,["id"],r);let n=ew(e,["args"]);null!=n&&e_(t,["args"],n);let a=ew(e,["name"]);if(null!=a&&e_(t,["name"],a),void 0!==ew(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==ew(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(s)),null!=(l=ew(t,["functionResponse"]))&&e_(r,["functionResponse"],l),null!=(u=ew(t,["inlineData"]))&&e_(r,["inlineData"],tM(u)),null!=(d=ew(t,["text"]))&&e_(r,["text"],d),null!=(c=ew(t,["thought"]))&&e_(r,["thought"],c),null!=(p=ew(t,["thoughtSignature"]))&&e_(r,["thoughtSignature"],p),null!=(m=ew(t,["videoMetadata"]))&&e_(r,["videoMetadata"],m),r})),e_(t,["parts"],e)}let n=ew(e,["role"]);return null!=n&&e_(t,["role"],n),t}(tt(m)));let h=ew(e,["tools"]);if(void 0!==t&&null!=h){let e=tl(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["functionDeclarations"],e)}if(void 0!==ew(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=ew(e,["googleSearchRetrieval"]);null!=n&&e_(t,["googleSearchRetrieval"],n);let a=ew(e,["computerUse"]);null!=a&&e_(t,["computerUse"],a);let i=ew(e,["fileSearch"]);null!=i&&e_(t,["fileSearch"],i);let o=ew(e,["codeExecution"]);if(null!=o&&e_(t,["codeExecution"],o),void 0!==ew(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=ew(e,["googleMaps"]);null!=s&&e_(t,["googleMaps"],function(e){let t={};if(void 0!==ew(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=ew(e,["enableWidget"]);return null!=r&&e_(t,["enableWidget"],r),t}(s));let l=ew(e,["googleSearch"]);null!=l&&e_(t,["googleSearch"],function(e){let t={};if(void 0!==ew(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==ew(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=ew(e,["timeRangeFilter"]);return null!=r&&e_(t,["timeRangeFilter"],r),t}(l));let u=ew(e,["urlContext"]);return null!=u&&e_(t,["urlContext"],u),t})(ts(e)))),e_(t,["setup","tools"],e)}let f=ew(e,["sessionResumption"]);void 0!==t&&null!=f&&e_(t,["setup","sessionResumption"],function(e){let t={},r=ew(e,["handle"]);if(null!=r&&e_(t,["handle"],r),void 0!==ew(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(f));let g=ew(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&e_(t,["setup","inputAudioTranscription"],g);let y=ew(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&e_(t,["setup","outputAudioTranscription"],y);let v=ew(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&e_(t,["setup","realtimeInputConfig"],v);let b=ew(e,["contextWindowCompression"]);void 0!==t&&null!=b&&e_(t,["setup","contextWindowCompression"],b);let _=ew(e,["proactivity"]);return void 0!==t&&null!=_&&e_(t,["setup","proactivity"],_),{}}(r,e)),k=e}return delete k.config,w.send(JSON.stringify(k)),new ro(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}let ri={turnComplete:!0};class ro{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=tn(t.turns),e.isVertexAI()||(r=r.map(e=>tF(e)))}catch(e){throw Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(null==t.functionResponses||0===(r=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses]).length)throw Error("functionResponses is required.");for(let t of r){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ri),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:function(e){let t={},r=ew(e,["media"]);if(null!=r){let e=e2(r);Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["mediaChunks"],e)}let n=ew(e,["audio"]);null!=n&&e_(t,["audio"],e3(n));let a=ew(e,["audioStreamEnd"]);null!=a&&e_(t,["audioStreamEnd"],a);let i=ew(e,["video"]);null!=i&&e_(t,["video"],e6(i));let o=ew(e,["text"]);null!=o&&e_(t,["text"],o);let s=ew(e,["activityStart"]);null!=s&&e_(t,["activityStart"],s);let l=ew(e,["activityEnd"]);return null!=l&&e_(t,["activityEnd"],l),t}(e)}:{realtimeInput:function(e){let t={},r=ew(e,["media"]);if(null!=r){let e=e2(r);Array.isArray(e)&&(e=e.map(e=>tM(e))),e_(t,["mediaChunks"],e)}let n=ew(e,["audio"]);null!=n&&e_(t,["audio"],tM(e3(n)));let a=ew(e,["audioStreamEnd"]);null!=a&&e_(t,["audioStreamEnd"],a);let i=ew(e,["video"]);null!=i&&e_(t,["video"],tM(e6(i)));let o=ew(e,["text"]);null!=o&&e_(t,["text"],o);let s=ew(e,["activityStart"]);null!=s&&e_(t,["activityStart"],s);let l=ew(e,["activityEnd"]);return null!=l&&e_(t,["activityEnd"],l),t}(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function rs(e){var t,r,n;if(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.disable)return!0;let a=!1;for(let t of null!=(r=null==e?void 0:e.tools)?r:[])if(rl(t)){a=!0;break}if(!a)return!0;let i=null==(n=null==e?void 0:e.automaticFunctionCalling)?void 0:n.maximumRemoteCalls;return(!(!i||!(i<0)&&Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function rl(e){return"callTool"in e&&"function"==typeof e.callTool}function ru(e){var t;let r=[];return(null==(t=null==e?void 0:e.config)?void 0:t.tools)&&e.config.tools.forEach((e,t)=>{rl(e)||e.functionDeclarations&&e.functionDeclarations.length>0&&r.push(t)}),r}function rd(e){var t;return!(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.ignoreCallHistory)}class rc extends ev{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,r,n,a,i,o,s,l;let u,d,c=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!(null!=(l=null==(s=null==(o=e.config)?void 0:o.tools)?void 0:s.some(e=>rl(e)))&&l)||rs(e.config))return await this.generateContentInternal(c);let p=ru(e);if(p.length>0){let e=p.map(e=>`tools[${e}]`).join(", ");throw Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let m=tn(c.contents),h=null!=(n=null==(r=null==(t=c.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,f=0;for(;f<h&&(u=await this.generateContentInternal(c)).functionCalls&&0!==u.functionCalls.length;){let t=u.candidates[0].content,r=[];for(let t of null!=(i=null==(a=e.config)?void 0:a.tools)?i:[])if(rl(t)){let e=await t.callTool(u.functionCalls);r.push(...e)}f++,d={role:"user",parts:r},c.contents=tn(c.contents),c.contents.push(t),c.contents.push(d),rd(c.config)&&(m.push(t),m.push(d))}return rd(c.config)&&(u.automaticFunctionCallingHistory=m),u},this.generateContentStream=async e=>{var t,r,n,a,i;if(this.maybeMoveToResponseJsonSchem(e),rs(e.config)){let t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}let o=ru(e);if(o.length>0){let e=o.map(e=>`tools[${e}]`).join(", ");throw Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let s=null==(n=null==(r=null==(t=null==e?void 0:e.config)?void 0:t.toolConfig)?void 0:r.functionCallingConfig)?void 0:n.streamFunctionCallArguments,l=null==(i=null==(a=null==e?void 0:e.config)?void 0:a.automaticFunctionCalling)?void 0:i.disable;if(s&&!l)throw Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let r,n=[];if(null==e?void 0:e.generatedImages)for(let a of e.generatedImages)a&&(null==a?void 0:a.safetyAttributes)&&(null==(t=null==a?void 0:a.safetyAttributes)?void 0:t.contentType)==="Positive Prompt"?r=null==a?void 0:a.safetyAttributes:n.push(a);return r?{generatedImages:n,positivePromptSafetyAttributes:r,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:e.sdkHttpResponse}}),this.list=async e=>{var t;let n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase)if(null==(t=n.config)?void 0:t.filter)throw Error("Filtering tuned models list for Vertex AI is not currently supported");else n.config.filter="labels.tune-type:*";return new tx(r.PagedItem.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{let t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));let r={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(r)},this.generateVideos=async e=>{var t,r,n,a,i,o;if((e.prompt||e.image||e.video)&&e.source)throw Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return!this.apiClient.isVertexAI()&&((null==(t=e.video)?void 0:t.uri)&&(null==(r=e.video)?void 0:r.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null==(a=null==(n=e.source)?void 0:n.video)?void 0:a.uri)&&(null==(o=null==(i=e.source)?void 0:i.video)?void 0:o.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&!e.config.responseJsonSchema&&Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema)}async processParamsMaybeAddMcpUsage(e){var t,r,n;let a=null==(t=e.config)?void 0:t.tools;if(!a)return e;let i=await Promise.all(a.map(async e=>rl(e)?await e.tool():e)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(o.config.tools=i,e.config&&e.config.tools&&t5(e.config.tools)){let t=Object.assign({},null!=(n=null==(r=e.config.httpOptions)?void 0:r.headers)?n:{});0===Object.keys(t).length&&(t=this.apiClient.getDefaultHeaders()),t8(t),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:t})}return o}async initAfcToolsMap(e){var t,r,n;let a=new Map;for(let i of null!=(r=null==(t=e.config)?void 0:t.tools)?r:[])if(rl(i))for(let e of null!=(n=(await i.tool()).functionDeclarations)?n:[]){if(!e.name)throw Error("Function declaration name is required.");if(a.has(e.name))throw Error(`Duplicate tool declaration name: ${e.name}`);a.set(e.name,i)}return a}async processAfcStream(e){var t,r,n;let a=null!=(n=null==(r=null==(t=e.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,i=!1,o=0;return function(e,t,r){var n,s;return tP(this,arguments,function*(){for(var l,u,d,c;o<a;){i&&(o++,i=!1);let f=yield tI(e.processParamsMaybeAddMcpUsage(r)),g=yield tI(e.generateContentStreamInternal(f)),y=[],v=[];try{for(var p,m=!0,h=(u=void 0,tC(g));!(l=(p=yield tI(h.next())).done);m=!0)if(c=p.value,m=!1,yield yield tI(c),c.candidates&&(null==(n=c.candidates[0])?void 0:n.content)){for(let e of(v.push(c.candidates[0].content),null!=(s=c.candidates[0].content.parts)?s:[]))if(o<a&&e.functionCall){if(!e.functionCall.name)throw Error("Function call name was not returned by the model.");if(t.has(e.functionCall.name)){let r=yield tI(t.get(e.functionCall.name).callTool([e.functionCall]));y.push(...r)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${e.functionCall.name}`)}}}catch(e){u={error:e}}finally{try{!m&&!l&&(d=h.return)&&(yield tI(d.call(h)))}finally{if(u)throw u.error}}if(y.length>0){i=!0;let e=new eI;e.candidates=[{content:{role:"user",parts:y}}],yield yield tI(e);let t=[];t.push(...v),t.push({role:"user",parts:y});let n=tn(r.contents).concat(t);r.contents=n}else break}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n=tL(this.apiClient,e);return i=eb("{model}:generateContent",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=tV(e),r=new eI;return Object.assign(r,t),r})}{let t=tU(this.apiClient,e);return i=eb("{model}:generateContent",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=tq(e),r=new eI;return Object.assign(r,t),r})}}async generateContentStreamInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n=tL(this.apiClient,e);return i=eb("{model}:streamGenerateContent?alt=sse",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.requestStream({path:i,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(function(e){return tP(this,arguments,function*(){var t,r,n,a;try{for(var i,o=!0,s=tC(e);!(t=(i=yield tI(s.next())).done);o=!0){a=i.value,o=!1;let e=tV((yield tI(a.json())));e.sdkHttpResponse={headers:a.headers};let t=new eI;Object.assign(t,e),yield yield tI(t)}}catch(e){r={error:e}}finally{try{!o&&!t&&(n=s.return)&&(yield tI(n.call(s)))}finally{if(r)throw r.error}}})})}{let t=tU(this.apiClient,e);return i=eb("{model}:streamGenerateContent?alt=sse",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.requestStream({path:i,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(function(e){return tP(this,arguments,function*(){var t,r,n,a;try{for(var i,o=!0,s=tC(e);!(t=(i=yield tI(s.next())).done);o=!0){a=i.value,o=!1;let e=tq((yield tI(a.json())));e.sdkHttpResponse={headers:a.headers};let t=new eI;Object.assign(t,e),yield yield tI(t)}}catch(e){r={error:e}}finally{try{!o&&!t&&(n=s.return)&&(yield tI(n.call(s)))}finally{if(r)throw r.error}}})})}}async embedContent(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n=function(e,t){let r,n,a,i,o,s={},l=ew(t,["model"]);null!=l&&e_(s,["_url","model"],e1(e,l));let u=ew(t,["contents"]);if(null!=u){let t=tr(e,u);Array.isArray(t)&&(t=t.map(e=>e)),e_(s,["instances[]","content"],t)}let d=ew(t,["config"]);return null!=d&&(r=ew(d,["taskType"]),void 0!==s&&null!=r&&e_(s,["instances[]","task_type"],r),n=ew(d,["title"]),void 0!==s&&null!=n&&e_(s,["instances[]","title"],n),a=ew(d,["outputDimensionality"]),void 0!==s&&null!=a&&e_(s,["parameters","outputDimensionality"],a),i=ew(d,["mimeType"]),void 0!==s&&null!=i&&e_(s,["instances[]","mimeType"],i),o=ew(d,["autoTruncate"]),void 0!==s&&null!=o&&e_(s,["parameters","autoTruncate"],o)),s}(this.apiClient,e);return i=eb("{model}:predict",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["predictions[]","embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s;return r={},null!=(n=ew(e,["values"]))&&e_(r,["values"],n),null!=(a=ew(e,["statistics"]))&&e_(r,["statistics"],(i={},null!=(o=ew(t=a,["truncated"]))&&e_(i,["truncated"],o),null!=(s=ew(t,["token_count"]))&&e_(i,["tokenCount"],s),i)),r})),e_(t,["embeddings"],e)}let a=ew(e,["metadata"]);return null!=a&&e_(t,["metadata"],a),t}(e),r=new eP;return Object.assign(r,t),r})}{let t=function(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let t=tr(e,a);Array.isArray(t)&&(t=t.map(e=>e)),e_(r,["requests[]","content"],t)}let i=ew(t,["config"]);null!=i&&function(e,t){let r=ew(e,["taskType"]);void 0!==t&&null!=r&&e_(t,["requests[]","taskType"],r);let n=ew(e,["title"]);void 0!==t&&null!=n&&e_(t,["requests[]","title"],n);let a=ew(e,["outputDimensionality"]);if(void 0!==t&&null!=a&&e_(t,["requests[]","outputDimensionality"],a),void 0!==ew(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==ew(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.")}(i,r);let o=ew(t,["model"]);return void 0!==o&&e_(r,["requests[]","model"],e1(e,o)),r}(this.apiClient,e);return i=eb("{model}:batchEmbedContents",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["embeddings"],e)}let a=ew(e,["metadata"]);return null!=a&&e_(t,["metadata"],a),t}(e),r=new eP;return Object.assign(r,t),r})}}async generateImagesInternal(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["_url","model"],e1(i,a)),null!=(o=ew(e,["prompt"]))&&e_(n,["instances[0]","prompt"],o),null!=(u=ew(e,["config"]))&&(d=ew(u,["outputGcsUri"]),void 0!==n&&null!=d&&e_(n,["parameters","storageUri"],d),c=ew(u,["negativePrompt"]),void 0!==n&&null!=c&&e_(n,["parameters","negativePrompt"],c),p=ew(u,["numberOfImages"]),void 0!==n&&null!=p&&e_(n,["parameters","sampleCount"],p),m=ew(u,["aspectRatio"]),void 0!==n&&null!=m&&e_(n,["parameters","aspectRatio"],m),h=ew(u,["guidanceScale"]),void 0!==n&&null!=h&&e_(n,["parameters","guidanceScale"],h),f=ew(u,["seed"]),void 0!==n&&null!=f&&e_(n,["parameters","seed"],f),g=ew(u,["safetyFilterLevel"]),void 0!==n&&null!=g&&e_(n,["parameters","safetySetting"],g),y=ew(u,["personGeneration"]),void 0!==n&&null!=y&&e_(n,["parameters","personGeneration"],y),v=ew(u,["includeSafetyAttributes"]),void 0!==n&&null!=v&&e_(n,["parameters","includeSafetyAttributes"],v),b=ew(u,["includeRaiReason"]),void 0!==n&&null!=b&&e_(n,["parameters","includeRaiReason"],b),_=ew(u,["language"]),void 0!==n&&null!=_&&e_(n,["parameters","language"],_),w=ew(u,["outputMimeType"]),void 0!==n&&null!=w&&e_(n,["parameters","outputOptions","mimeType"],w),S=ew(u,["outputCompressionQuality"]),void 0!==n&&null!=S&&e_(n,["parameters","outputOptions","compressionQuality"],S),k=ew(u,["addWatermark"]),void 0!==n&&null!=k&&e_(n,["parameters","addWatermark"],k),x=ew(u,["labels"]),void 0!==n&&null!=x&&e_(n,["labels"],x),E=ew(u,["imageSize"]),void 0!==n&&null!=E&&e_(n,["parameters","sampleImageSize"],E),T=ew(u,["enhancePrompt"]),void 0!==n&&null!=T&&e_(n,["parameters","enhancePrompt"],T)),n);return s=eb("{model}:predict",O._url),l=O._query,delete O._url,delete O._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(O),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>tB(e))),e_(t,["generatedImages"],e)}let a=ew(e,["positivePromptSafetyAttributes"]);return null!=a&&e_(t,["positivePromptSafetyAttributes"],tY(a)),t}(e),r=new eC;return Object.assign(r,t),r})}{let t,r,i,u,d=(o=this.apiClient,t={},null!=(r=ew(e,["model"]))&&e_(t,["_url","model"],e1(o,r)),null!=(i=ew(e,["prompt"]))&&e_(t,["instances[0]","prompt"],i),null!=(u=ew(e,["config"]))&&function(e,t){if(void 0!==ew(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==ew(e,["negativePrompt"]))throw Error("negativePrompt parameter is not supported in Gemini API.");let r=ew(e,["numberOfImages"]);void 0!==t&&null!=r&&e_(t,["parameters","sampleCount"],r);let n=ew(e,["aspectRatio"]);void 0!==t&&null!=n&&e_(t,["parameters","aspectRatio"],n);let a=ew(e,["guidanceScale"]);if(void 0!==t&&null!=a&&e_(t,["parameters","guidanceScale"],a),void 0!==ew(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let i=ew(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&e_(t,["parameters","safetySetting"],i);let o=ew(e,["personGeneration"]);void 0!==t&&null!=o&&e_(t,["parameters","personGeneration"],o);let s=ew(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&e_(t,["parameters","includeSafetyAttributes"],s);let l=ew(e,["includeRaiReason"]);void 0!==t&&null!=l&&e_(t,["parameters","includeRaiReason"],l);let u=ew(e,["language"]);void 0!==t&&null!=u&&e_(t,["parameters","language"],u);let d=ew(e,["outputMimeType"]);void 0!==t&&null!=d&&e_(t,["parameters","outputOptions","mimeType"],d);let c=ew(e,["outputCompressionQuality"]);if(void 0!==t&&null!=c&&e_(t,["parameters","outputOptions","compressionQuality"],c),void 0!==ew(e,["addWatermark"]))throw Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==ew(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let p=ew(e,["imageSize"]);if(void 0!==t&&null!=p&&e_(t,["parameters","sampleImageSize"],p),void 0!==ew(e,["enhancePrompt"]))throw Error("enhancePrompt parameter is not supported in Gemini API.")}(u,t),t);return s=eb("{model}:predict",d._url),l=d._query,delete d._url,delete d._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t,r;let n,a,i,o,s,l,u;return n={},null!=(a=ew(t=e,["_self"]))&&e_(n,["image"],(i={},null!=(o=ew(r=a,["bytesBase64Encoded"]))&&e_(i,["imageBytes"],eS(o)),null!=(s=ew(r,["mimeType"]))&&e_(i,["mimeType"],s),i)),null!=(l=ew(t,["raiFilteredReason"]))&&e_(n,["raiFilteredReason"],l),null!=(u=ew(t,["_self"]))&&e_(n,["safetyAttributes"],tK(u)),n})),e_(t,["generatedImages"],e)}let a=ew(e,["positivePromptSafetyAttributes"]);return null!=a&&e_(t,["positivePromptSafetyAttributes"],tK(a)),t}(e),r=new eC;return Object.assign(r,t),r})}}async editImageInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI()){let i=function(e,t){let r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b={},_=ew(t,["model"]);null!=_&&e_(b,["_url","model"],e1(e,_));let w=ew(t,["prompt"]);null!=w&&e_(b,["instances[0]","prompt"],w);let S=ew(t,["referenceImages"]);if(null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>(function(e){let t,r,n,a,i,o,s,l={},u=ew(e,["referenceImage"]);null!=u&&e_(l,["referenceImage"],tG(u));let d=ew(e,["referenceId"]);null!=d&&e_(l,["referenceId"],d);let c=ew(e,["referenceType"]);null!=c&&e_(l,["referenceType"],c);let p=ew(e,["maskImageConfig"]);null!=p&&e_(l,["maskImageConfig"],(t={},null!=(r=ew(p,["maskMode"]))&&e_(t,["maskMode"],r),null!=(n=ew(p,["segmentationClasses"]))&&e_(t,["maskClasses"],n),null!=(a=ew(p,["maskDilation"]))&&e_(t,["dilation"],a),t));let m=ew(e,["controlImageConfig"]);null!=m&&e_(l,["controlImageConfig"],(i={},null!=(o=ew(m,["controlType"]))&&e_(i,["controlType"],o),null!=(s=ew(m,["enableControlImageComputation"]))&&e_(i,["computeControl"],s),i));let h=ew(e,["styleImageConfig"]);null!=h&&e_(l,["styleImageConfig"],h);let f=ew(e,["subjectImageConfig"]);return null!=f&&e_(l,["subjectImageConfig"],f),l})(e))),e_(b,["instances[0]","referenceImages"],e)}let k=ew(t,["config"]);return null!=k&&(r=ew(k,["outputGcsUri"]),void 0!==b&&null!=r&&e_(b,["parameters","storageUri"],r),n=ew(k,["negativePrompt"]),void 0!==b&&null!=n&&e_(b,["parameters","negativePrompt"],n),a=ew(k,["numberOfImages"]),void 0!==b&&null!=a&&e_(b,["parameters","sampleCount"],a),i=ew(k,["aspectRatio"]),void 0!==b&&null!=i&&e_(b,["parameters","aspectRatio"],i),o=ew(k,["guidanceScale"]),void 0!==b&&null!=o&&e_(b,["parameters","guidanceScale"],o),s=ew(k,["seed"]),void 0!==b&&null!=s&&e_(b,["parameters","seed"],s),l=ew(k,["safetyFilterLevel"]),void 0!==b&&null!=l&&e_(b,["parameters","safetySetting"],l),u=ew(k,["personGeneration"]),void 0!==b&&null!=u&&e_(b,["parameters","personGeneration"],u),d=ew(k,["includeSafetyAttributes"]),void 0!==b&&null!=d&&e_(b,["parameters","includeSafetyAttributes"],d),c=ew(k,["includeRaiReason"]),void 0!==b&&null!=c&&e_(b,["parameters","includeRaiReason"],c),p=ew(k,["language"]),void 0!==b&&null!=p&&e_(b,["parameters","language"],p),m=ew(k,["outputMimeType"]),void 0!==b&&null!=m&&e_(b,["parameters","outputOptions","mimeType"],m),h=ew(k,["outputCompressionQuality"]),void 0!==b&&null!=h&&e_(b,["parameters","outputOptions","compressionQuality"],h),f=ew(k,["addWatermark"]),void 0!==b&&null!=f&&e_(b,["parameters","addWatermark"],f),g=ew(k,["labels"]),void 0!==b&&null!=g&&e_(b,["labels"],g),y=ew(k,["editMode"]),void 0!==b&&null!=y&&e_(b,["parameters","editMode"],y),v=ew(k,["baseSteps"]),void 0!==b&&null!=v&&e_(b,["parameters","editConfig","baseSteps"],v)),b}(this.apiClient,e);return n=eb("{model}:predict",i._url),a=i._query,delete i._url,delete i._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>tB(e))),e_(t,["generatedImages"],e)}return t}(e),r=new eA;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r,n;let a="",i={};if(this.apiClient.isVertexAI()){let o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S=(n=this.apiClient,o={},null!=(s=ew(e,["model"]))&&e_(o,["_url","model"],e1(n,s)),null!=(l=ew(e,["image"]))&&e_(o,["instances[0]","image"],tG(l)),null!=(u=ew(e,["upscaleFactor"]))&&e_(o,["parameters","upscaleConfig","upscaleFactor"],u),null!=(d=ew(e,["config"]))&&(c=ew(d,["outputGcsUri"]),void 0!==o&&null!=c&&e_(o,["parameters","storageUri"],c),p=ew(d,["safetyFilterLevel"]),void 0!==o&&null!=p&&e_(o,["parameters","safetySetting"],p),m=ew(d,["personGeneration"]),void 0!==o&&null!=m&&e_(o,["parameters","personGeneration"],m),h=ew(d,["includeRaiReason"]),void 0!==o&&null!=h&&e_(o,["parameters","includeRaiReason"],h),f=ew(d,["outputMimeType"]),void 0!==o&&null!=f&&e_(o,["parameters","outputOptions","mimeType"],f),g=ew(d,["outputCompressionQuality"]),void 0!==o&&null!=g&&e_(o,["parameters","outputOptions","compressionQuality"],g),y=ew(d,["enhanceInputImage"]),void 0!==o&&null!=y&&e_(o,["parameters","upscaleConfig","enhanceInputImage"],y),v=ew(d,["imagePreservationFactor"]),void 0!==o&&null!=v&&e_(o,["parameters","upscaleConfig","imagePreservationFactor"],v),b=ew(d,["labels"]),void 0!==o&&null!=b&&e_(o,["labels"],b),_=ew(d,["numberOfImages"]),void 0!==o&&null!=_&&e_(o,["parameters","sampleCount"],_),w=ew(d,["mode"]),void 0!==o&&null!=w&&e_(o,["parameters","mode"],w)),o);return a=eb("{model}:predict",S._url),i=S._query,delete S._url,delete S._query,this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(S),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>tB(e))),e_(t,["generatedImages"],e)}return t}(e),r=new ej;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r,n;let a="",i={};if(this.apiClient.isVertexAI()){let o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w=(n=this.apiClient,o={},null!=(s=ew(e,["model"]))&&e_(o,["_url","model"],e1(n,s)),null!=(l=ew(e,["source"]))&&function(e,t){let r=ew(e,["prompt"]);void 0!==t&&null!=r&&e_(t,["instances[0]","prompt"],r);let n=ew(e,["personImage"]);void 0!==t&&null!=n&&e_(t,["instances[0]","personImage","image"],tG(n));let a=ew(e,["productImages"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>{let t,r;return t={},null!=(r=ew(e,["productImage"]))&&e_(t,["image"],tG(r)),t})),e_(t,["instances[0]","productImages"],e)}}(l,o),null!=(u=ew(e,["config"]))&&(d=ew(u,["numberOfImages"]),void 0!==o&&null!=d&&e_(o,["parameters","sampleCount"],d),c=ew(u,["baseSteps"]),void 0!==o&&null!=c&&e_(o,["parameters","baseSteps"],c),p=ew(u,["outputGcsUri"]),void 0!==o&&null!=p&&e_(o,["parameters","storageUri"],p),m=ew(u,["seed"]),void 0!==o&&null!=m&&e_(o,["parameters","seed"],m),h=ew(u,["safetyFilterLevel"]),void 0!==o&&null!=h&&e_(o,["parameters","safetySetting"],h),f=ew(u,["personGeneration"]),void 0!==o&&null!=f&&e_(o,["parameters","personGeneration"],f),g=ew(u,["addWatermark"]),void 0!==o&&null!=g&&e_(o,["parameters","addWatermark"],g),y=ew(u,["outputMimeType"]),void 0!==o&&null!=y&&e_(o,["parameters","outputOptions","mimeType"],y),v=ew(u,["outputCompressionQuality"]),void 0!==o&&null!=v&&e_(o,["parameters","outputOptions","compressionQuality"],v),b=ew(u,["enhancePrompt"]),void 0!==o&&null!=b&&e_(o,["parameters","enhancePrompt"],b),_=ew(u,["labels"]),void 0!==o&&null!=_&&e_(o,["labels"],_)),o);return a=eb("{model}:predict",w._url),i=w._query,delete w._url,delete w._query,this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(w),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=ew(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>tB(e))),e_(t,["generatedImages"],e)}return t}(e),r=new ez;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r,n,a,i;let o="",s={};if(this.apiClient.isVertexAI()){let l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k=(n=this.apiClient,m={},null!=(h=ew(e,["model"]))&&e_(m,["_url","model"],e1(n,h)),null!=(f=ew(e,["source"]))&&(a=f,i=m,d=ew(a,["prompt"]),void 0!==i&&null!=d&&e_(i,["instances[0]","prompt"],d),c=ew(a,["image"]),void 0!==i&&null!=c&&e_(i,["instances[0]","image"],tG(c)),p=ew(a,["scribbleImage"]),void 0!==i&&null!=p&&e_(i,["instances[0]","scribble"],(l={},null!=(u=ew(p,["image"]))&&e_(l,["image"],tG(u)),l))),null!=(g=ew(e,["config"]))&&(y=ew(g,["mode"]),void 0!==m&&null!=y&&e_(m,["parameters","mode"],y),v=ew(g,["maxPredictions"]),void 0!==m&&null!=v&&e_(m,["parameters","maxPredictions"],v),b=ew(g,["confidenceThreshold"]),void 0!==m&&null!=b&&e_(m,["parameters","confidenceThreshold"],b),_=ew(g,["maskDilation"]),void 0!==m&&null!=_&&e_(m,["parameters","maskDilation"],_),w=ew(g,["binaryColorThreshold"]),void 0!==m&&null!=w&&e_(m,["parameters","binaryColorThreshold"],w),S=ew(g,["labels"]),void 0!==m&&null!=S&&e_(m,["labels"],S)),m);return o=eb("{model}:predict",k._url),s=k._query,delete k._url,delete k._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(k),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=ew(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["_self"]);null!=r&&e_(t,["mask"],tZ(r));let n=ew(e,["labels"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["labels"],e)}return t})(e))),e_(t,["generatedMasks"],e)}return t}(e),r=new eR;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["_url","name"],e1(i,a)),n);return s=eb("{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>tJ(e))}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["model"]))&&e_(t,["_url","name"],e1(o,r)),t);return s=eb("{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>tW(e))}}async listInternal(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o,u,d,c,p=(i=this.apiClient,n={},null!=(a=ew(e,["config"]))&&(o=ew(a,["pageSize"]),void 0!==n&&null!=o&&e_(n,["_query","pageSize"],o),u=ew(a,["pageToken"]),void 0!==n&&null!=u&&e_(n,["_query","pageToken"],u),d=ew(a,["filter"]),void 0!==n&&null!=d&&e_(n,["_query","filter"],d),c=ew(a,["queryBase"]),void 0!==n&&null!=c&&e_(n,["_url","models_url"],th(i,c))),n);return s=eb("{models_url}",p._url),l=p._query,delete p._url,delete p._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(p),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["_self"]);if(null!=a){let e=tf(a);Array.isArray(e)&&(e=e.map(e=>tJ(e))),e_(t,["models"],e)}return t}(e),r=new eN;return Object.assign(r,t),r})}{let t,r,i,u,d,c,p=(o=this.apiClient,t={},null!=(r=ew(e,["config"]))&&(i=ew(r,["pageSize"]),void 0!==t&&null!=i&&e_(t,["_query","pageSize"],i),u=ew(r,["pageToken"]),void 0!==t&&null!=u&&e_(t,["_query","pageToken"],u),d=ew(r,["filter"]),void 0!==t&&null!=d&&e_(t,["_query","filter"],d),c=ew(r,["queryBase"]),void 0!==t&&null!=c&&e_(t,["_url","models_url"],th(o,c))),t);return s=eb("{models_url}",p._url),l=p._query,delete p._url,delete p._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(p),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["_self"]);if(null!=a){let e=tf(a);Array.isArray(e)&&(e=e.map(e=>tW(e))),e_(t,["models"],e)}return t}(e),r=new eN;return Object.assign(r,t),r})}}async update(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o,u,d,c,p=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["_url","model"],e1(i,a)),null!=(o=ew(e,["config"]))&&(u=ew(o,["displayName"]),void 0!==n&&null!=u&&e_(n,["displayName"],u),d=ew(o,["description"]),void 0!==n&&null!=d&&e_(n,["description"],d),c=ew(o,["defaultCheckpointId"]),void 0!==n&&null!=c&&e_(n,["defaultCheckpointId"],c)),n);return s=eb("{model}",p._url),l=p._query,delete p._url,delete p._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>tJ(e))}{let t,r,i,u,d,c,p=(o=this.apiClient,t={},null!=(r=ew(e,["model"]))&&e_(t,["_url","name"],e1(o,r)),null!=(i=ew(e,["config"]))&&(u=ew(i,["displayName"]),void 0!==t&&null!=u&&e_(t,["displayName"],u),d=ew(i,["description"]),void 0!==t&&null!=d&&e_(t,["description"],d),c=ew(i,["defaultCheckpointId"]),void 0!==t&&null!=c&&e_(t,["defaultCheckpointId"],c)),t);return s=eb("{name}",p._url),l=p._query,delete p._url,delete p._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>tW(e))}}async delete(e){var t,r,n,a,i,o;let s="",l={};if(this.apiClient.isVertexAI()){let n,a,o=(i=this.apiClient,n={},null!=(a=ew(e,["model"]))&&e_(n,["_url","name"],e1(i,a)),n);return s=eb("{name}",o._url),l=o._query,delete o._url,delete o._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new e$;return Object.assign(a,n),a})}{let t,r,i=(o=this.apiClient,t={},null!=(r=ew(e,["model"]))&&e_(t,["_url","name"],e1(o,r)),t);return s=eb("{name}",i._url),l=i._query,delete i._url,delete i._query,this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new e$;return Object.assign(a,n),a})}}async countTokens(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n=function(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>e)),e_(r,["contents"],e)}let i=ew(t,["config"]);return null!=i&&function(e,t){let r=ew(e,["systemInstruction"]);void 0!==t&&null!=r&&e_(t,["systemInstruction"],tt(r));let n=ew(e,["tools"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>tQ(e))),e_(t,["tools"],e)}let a=ew(e,["generationConfig"]);void 0!==t&&null!=a&&e_(t,["generationConfig"],function(e){let t={},r=ew(e,["modelSelectionConfig"]);null!=r&&e_(t,["modelConfig"],r);let n=ew(e,["responseJsonSchema"]);null!=n&&e_(t,["responseJsonSchema"],n);let a=ew(e,["audioTimestamp"]);null!=a&&e_(t,["audioTimestamp"],a);let i=ew(e,["candidateCount"]);null!=i&&e_(t,["candidateCount"],i);let o=ew(e,["enableAffectiveDialog"]);null!=o&&e_(t,["enableAffectiveDialog"],o);let s=ew(e,["frequencyPenalty"]);null!=s&&e_(t,["frequencyPenalty"],s);let l=ew(e,["logprobs"]);null!=l&&e_(t,["logprobs"],l);let u=ew(e,["maxOutputTokens"]);null!=u&&e_(t,["maxOutputTokens"],u);let d=ew(e,["mediaResolution"]);null!=d&&e_(t,["mediaResolution"],d);let c=ew(e,["presencePenalty"]);null!=c&&e_(t,["presencePenalty"],c);let p=ew(e,["responseLogprobs"]);null!=p&&e_(t,["responseLogprobs"],p);let m=ew(e,["responseMimeType"]);null!=m&&e_(t,["responseMimeType"],m);let h=ew(e,["responseModalities"]);null!=h&&e_(t,["responseModalities"],h);let f=ew(e,["responseSchema"]);null!=f&&e_(t,["responseSchema"],f);let g=ew(e,["routingConfig"]);null!=g&&e_(t,["routingConfig"],g);let y=ew(e,["seed"]);null!=y&&e_(t,["seed"],y);let v=ew(e,["speechConfig"]);null!=v&&e_(t,["speechConfig"],tX(v));let b=ew(e,["stopSequences"]);null!=b&&e_(t,["stopSequences"],b);let _=ew(e,["temperature"]);null!=_&&e_(t,["temperature"],_);let w=ew(e,["thinkingConfig"]);null!=w&&e_(t,["thinkingConfig"],w);let S=ew(e,["topK"]);null!=S&&e_(t,["topK"],S);let k=ew(e,["topP"]);if(null!=k&&e_(t,["topP"],k),void 0!==ew(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(a))}(i,r),r}(this.apiClient,e);return i=eb("{model}:countTokens",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,a=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),null!=(n=ew(e,["totalTokens"]))&&e_(t,["totalTokens"],n),t),i=new eM;return Object.assign(i,a),i})}{let t=function(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>tF(e))),e_(r,["contents"],e)}let i=ew(t,["config"]);return null!=i&&function(e){if(void 0!==ew(e,["systemInstruction"]))throw Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==ew(e,["tools"]))throw Error("tools parameter is not supported in Gemini API.");if(void 0!==ew(e,["generationConfig"]))throw Error("generationConfig parameter is not supported in Gemini API.")}(i),r}(this.apiClient,e);return i=eb("{model}:countTokens",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,a,i=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),null!=(n=ew(e,["totalTokens"]))&&e_(t,["totalTokens"],n),null!=(a=ew(e,["cachedContentTokenCount"]))&&e_(t,["cachedContentTokenCount"],a),t),o=new eM;return Object.assign(o,i),o})}}async computeTokens(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI()){let i=function(e,t){let r={},n=ew(t,["model"]);null!=n&&e_(r,["_url","model"],e1(e,n));let a=ew(t,["contents"]);if(null!=a){let e=tn(a);Array.isArray(e)&&(e=e.map(e=>e)),e_(r,["contents"],e)}return r}(this.apiClient,e);return n=eb("{model}:computeTokens",i._url),a=i._query,delete i._url,delete i._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["tokensInfo"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["tokensInfo"],e)}return t}(e),r=new eD;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,n,a,i,o,s,l,u,d;let c="",p={};if(this.apiClient.isVertexAI()){let n,a,o,u,d,m,h,f,g,y,v=(i=this.apiClient,u={},null!=(d=ew(e,["model"]))&&e_(u,["_url","model"],e1(i,d)),null!=(m=ew(e,["prompt"]))&&e_(u,["instances[0]","prompt"],m),null!=(h=ew(e,["image"]))&&e_(u,["instances[0]","image"],tG(h)),null!=(f=ew(e,["video"]))&&e_(u,["instances[0]","video"],t0(f)),null!=(g=ew(e,["source"]))&&(s=g,l=u,n=ew(s,["prompt"]),void 0!==l&&null!=n&&e_(l,["instances[0]","prompt"],n),a=ew(s,["image"]),void 0!==l&&null!=a&&e_(l,["instances[0]","image"],tG(a)),o=ew(s,["video"]),void 0!==l&&null!=o&&e_(l,["instances[0]","video"],t0(o))),null!=(y=ew(e,["config"]))&&function(e,t){var r;let n,a,i,o=ew(e,["numberOfVideos"]);void 0!==t&&null!=o&&e_(t,["parameters","sampleCount"],o);let s=ew(e,["outputGcsUri"]);void 0!==t&&null!=s&&e_(t,["parameters","storageUri"],s);let l=ew(e,["fps"]);void 0!==t&&null!=l&&e_(t,["parameters","fps"],l);let u=ew(e,["durationSeconds"]);void 0!==t&&null!=u&&e_(t,["parameters","durationSeconds"],u);let d=ew(e,["seed"]);void 0!==t&&null!=d&&e_(t,["parameters","seed"],d);let c=ew(e,["aspectRatio"]);void 0!==t&&null!=c&&e_(t,["parameters","aspectRatio"],c);let p=ew(e,["resolution"]);void 0!==t&&null!=p&&e_(t,["parameters","resolution"],p);let m=ew(e,["personGeneration"]);void 0!==t&&null!=m&&e_(t,["parameters","personGeneration"],m);let h=ew(e,["pubsubTopic"]);void 0!==t&&null!=h&&e_(t,["parameters","pubsubTopic"],h);let f=ew(e,["negativePrompt"]);void 0!==t&&null!=f&&e_(t,["parameters","negativePrompt"],f);let g=ew(e,["enhancePrompt"]);void 0!==t&&null!=g&&e_(t,["parameters","enhancePrompt"],g);let y=ew(e,["generateAudio"]);void 0!==t&&null!=y&&e_(t,["parameters","generateAudio"],y);let v=ew(e,["lastFrame"]);void 0!==t&&null!=v&&e_(t,["instances[0]","lastFrame"],tG(v));let b=ew(e,["referenceImages"]);if(void 0!==t&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a;return r={},null!=(n=ew(t=e,["image"]))&&e_(r,["image"],tG(n)),null!=(a=ew(t,["referenceType"]))&&e_(r,["referenceType"],a),r})),e_(t,["instances[0]","referenceImages"],e)}let _=ew(e,["mask"]);void 0!==t&&null!=_&&e_(t,["instances[0]","mask"],(n={},null!=(a=ew(r=_,["image"]))&&e_(n,["_self"],tG(a)),null!=(i=ew(r,["maskMode"]))&&e_(n,["maskMode"],i),n));let w=ew(e,["compressionQuality"]);void 0!==t&&null!=w&&e_(t,["parameters","compressionQuality"],w)}(y,u),u);return c=eb("{model}:predictLongRunning",v._url),p=v._query,delete v._url,delete v._query,this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,a,i,o,s=(t={},null!=(r=ew(e,["name"]))&&e_(t,["name"],r),null!=(n=ew(e,["metadata"]))&&e_(t,["metadata"],n),null!=(a=ew(e,["done"]))&&e_(t,["done"],a),null!=(i=ew(e,["error"]))&&e_(t,["error"],i),null!=(o=ew(e,["response"]))&&e_(t,["response"],function(e){let t={},r=ew(e,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s;return r={},null!=(n=ew(e,["_self"]))&&e_(r,["video"],(a={},null!=(i=ew(t=n,["gcsUri"]))&&e_(a,["uri"],i),null!=(o=ew(t,["bytesBase64Encoded"]))&&e_(a,["videoBytes"],eS(o)),null!=(s=ew(t,["mimeType"]))&&e_(a,["mimeType"],s),a)),r})),e_(t,["generatedVideos"],e)}let n=ew(e,["raiMediaFilteredCount"]);null!=n&&e_(t,["raiMediaFilteredCount"],n);let a=ew(e,["raiMediaFilteredReasons"]);return null!=a&&e_(t,["raiMediaFilteredReasons"],a),t}(o)),t),l=new eF;return Object.assign(l,s),l})}{let t,r,i,s,l,m,h,f,g,y,v=(o=this.apiClient,s={},null!=(l=ew(e,["model"]))&&e_(s,["_url","model"],e1(o,l)),null!=(m=ew(e,["prompt"]))&&e_(s,["instances[0]","prompt"],m),null!=(h=ew(e,["image"]))&&e_(s,["instances[0]","image"],tH(h)),null!=(f=ew(e,["video"]))&&e_(s,["instances[0]","video"],t1(f)),null!=(g=ew(e,["source"]))&&(u=g,d=s,t=ew(u,["prompt"]),void 0!==d&&null!=t&&e_(d,["instances[0]","prompt"],t),r=ew(u,["image"]),void 0!==d&&null!=r&&e_(d,["instances[0]","image"],tH(r)),i=ew(u,["video"]),void 0!==d&&null!=i&&e_(d,["instances[0]","video"],t1(i))),null!=(y=ew(e,["config"]))&&function(e,t){let r=ew(e,["numberOfVideos"]);if(void 0!==t&&null!=r&&e_(t,["parameters","sampleCount"],r),void 0!==ew(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==ew(e,["fps"]))throw Error("fps parameter is not supported in Gemini API.");let n=ew(e,["durationSeconds"]);if(void 0!==t&&null!=n&&e_(t,["parameters","durationSeconds"],n),void 0!==ew(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let a=ew(e,["aspectRatio"]);void 0!==t&&null!=a&&e_(t,["parameters","aspectRatio"],a);let i=ew(e,["resolution"]);void 0!==t&&null!=i&&e_(t,["parameters","resolution"],i);let o=ew(e,["personGeneration"]);if(void 0!==t&&null!=o&&e_(t,["parameters","personGeneration"],o),void 0!==ew(e,["pubsubTopic"]))throw Error("pubsubTopic parameter is not supported in Gemini API.");let s=ew(e,["negativePrompt"]);void 0!==t&&null!=s&&e_(t,["parameters","negativePrompt"],s);let l=ew(e,["enhancePrompt"]);if(void 0!==t&&null!=l&&e_(t,["parameters","enhancePrompt"],l),void 0!==ew(e,["generateAudio"]))throw Error("generateAudio parameter is not supported in Gemini API.");let u=ew(e,["lastFrame"]);void 0!==t&&null!=u&&e_(t,["instances[0]","lastFrame"],tH(u));let d=ew(e,["referenceImages"]);if(void 0!==t&&null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a;return r={},null!=(n=ew(t=e,["image"]))&&e_(r,["image"],tH(n)),null!=(a=ew(t,["referenceType"]))&&e_(r,["referenceType"],a),r})),e_(t,["instances[0]","referenceImages"],e)}if(void 0!==ew(e,["mask"]))throw Error("mask parameter is not supported in Gemini API.");if(void 0!==ew(e,["compressionQuality"]))throw Error("compressionQuality parameter is not supported in Gemini API.")}(y,s),s);return c=eb("{model}:predictLongRunning",v._url),p=v._query,delete v._url,delete v._query,this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,a,i,o,s=(t={},null!=(r=ew(e,["name"]))&&e_(t,["name"],r),null!=(n=ew(e,["metadata"]))&&e_(t,["metadata"],n),null!=(a=ew(e,["done"]))&&e_(t,["done"],a),null!=(i=ew(e,["error"]))&&e_(t,["error"],i),null!=(o=ew(e,["response","generateVideoResponse"]))&&e_(t,["response"],function(e){let t={},r=ew(e,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s;return r={},null!=(n=ew(e,["video"]))&&e_(r,["video"],(a={},null!=(i=ew(t=n,["uri"]))&&e_(a,["uri"],i),null!=(o=ew(t,["encodedVideo"]))&&e_(a,["videoBytes"],eS(o)),null!=(s=ew(t,["encoding"]))&&e_(a,["mimeType"],s),a)),r})),e_(t,["generatedVideos"],e)}let n=ew(e,["raiMediaFilteredCount"]);null!=n&&e_(t,["raiMediaFilteredCount"],n);let a=ew(e,["raiMediaFilteredReasons"]);return null!=a&&e_(t,["raiMediaFilteredReasons"],a),t}(o)),t),l=new eF;return Object.assign(l,s),l})}}}class rp extends ev{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s=(n={},null!=(a=ew(e,["operationName"]))&&e_(n,["_url","operationName"],a),n);return i=eb("{operationName}",s._url),o=s._query,delete s._url,delete s._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}{let t,r,s=(t={},null!=(r=ew(e,["operationName"]))&&e_(t,["_url","operationName"],r),t);return i=eb("{operationName}",s._url),o=s._query,delete s._url,delete s._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json())}}async fetchPredictVideosOperationInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI()){let i,o,s,l=(i={},null!=(o=ew(e,["operationName"]))&&e_(i,["operationName"],o),null!=(s=ew(e,["resourceName"]))&&e_(i,["_url","resourceName"],s),i);return n=eb("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}throw Error("This method is only supported by the Vertex AI.")}}class rm extends ev{constructor(e){super(),this.apiClient=e}async create(e){var t,r,n,a,i;let o="",s={};if(this.apiClient.isVertexAI())throw Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l,u,d,c,p,m,h,f,g,y,v=(n=this.apiClient,c={},null!=(p=ew(e,["config"]))&&e_(c,["config"],(m=ew(p,["expireTime"]),void 0!==c&&null!=m&&e_(c,["expireTime"],m),h=ew(p,["newSessionExpireTime"]),void 0!==c&&null!=h&&e_(c,["newSessionExpireTime"],h),f=ew(p,["uses"]),void 0!==c&&null!=f&&e_(c,["uses"],f),g=ew(p,["liveConnectConstraints"]),void 0!==c&&null!=g&&e_(c,["bidiGenerateContentSetup"],(a=n,l={},null!=(u=ew(i=g,["model"]))&&e_(l,["setup","model"],e1(a,u)),null!=(d=ew(i,["config"]))&&e_(l,["config"],function(e,t){let r=ew(e,["generationConfig"]);void 0!==t&&null!=r&&e_(t,["setup","generationConfig"],r);let n=ew(e,["responseModalities"]);void 0!==t&&null!=n&&e_(t,["setup","generationConfig","responseModalities"],n);let a=ew(e,["temperature"]);void 0!==t&&null!=a&&e_(t,["setup","generationConfig","temperature"],a);let i=ew(e,["topP"]);void 0!==t&&null!=i&&e_(t,["setup","generationConfig","topP"],i);let o=ew(e,["topK"]);void 0!==t&&null!=o&&e_(t,["setup","generationConfig","topK"],o);let s=ew(e,["maxOutputTokens"]);void 0!==t&&null!=s&&e_(t,["setup","generationConfig","maxOutputTokens"],s);let l=ew(e,["mediaResolution"]);void 0!==t&&null!=l&&e_(t,["setup","generationConfig","mediaResolution"],l);let u=ew(e,["seed"]);void 0!==t&&null!=u&&e_(t,["setup","generationConfig","seed"],u);let d=ew(e,["speechConfig"]);void 0!==t&&null!=d&&e_(t,["setup","generationConfig","speechConfig"],to(d));let c=ew(e,["thinkingConfig"]);void 0!==t&&null!=c&&e_(t,["setup","generationConfig","thinkingConfig"],c);let p=ew(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&e_(t,["setup","generationConfig","enableAffectiveDialog"],p);let m=ew(e,["systemInstruction"]);void 0!==t&&null!=m&&e_(t,["setup","systemInstruction"],function(e){let t={},r=ew(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p,m;return r={},null!=(n=ew(t=e,["mediaResolution"]))&&e_(r,["mediaResolution"],n),null!=(a=ew(t,["codeExecutionResult"]))&&e_(r,["codeExecutionResult"],a),null!=(i=ew(t,["executableCode"]))&&e_(r,["executableCode"],i),null!=(o=ew(t,["fileData"]))&&e_(r,["fileData"],function(e){let t={};if(void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=ew(e,["fileUri"]);null!=r&&e_(t,["fileUri"],r);let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(o)),null!=(s=ew(t,["functionCall"]))&&e_(r,["functionCall"],function(e){let t={},r=ew(e,["id"]);null!=r&&e_(t,["id"],r);let n=ew(e,["args"]);null!=n&&e_(t,["args"],n);let a=ew(e,["name"]);if(null!=a&&e_(t,["name"],a),void 0!==ew(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==ew(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(s)),null!=(l=ew(t,["functionResponse"]))&&e_(r,["functionResponse"],l),null!=(u=ew(t,["inlineData"]))&&e_(r,["inlineData"],function(e){let t={},r=ew(e,["data"]);if(null!=r&&e_(t,["data"],r),void 0!==ew(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=ew(e,["mimeType"]);return null!=n&&e_(t,["mimeType"],n),t}(u)),null!=(d=ew(t,["text"]))&&e_(r,["text"],d),null!=(c=ew(t,["thought"]))&&e_(r,["thought"],c),null!=(p=ew(t,["thoughtSignature"]))&&e_(r,["thoughtSignature"],p),null!=(m=ew(t,["videoMetadata"]))&&e_(r,["videoMetadata"],m),r})),e_(t,["parts"],e)}let n=ew(e,["role"]);return null!=n&&e_(t,["role"],n),t}(tt(m)));let h=ew(e,["tools"]);if(void 0!==t&&null!=h){let e=tl(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=ew(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["functionDeclarations"],e)}if(void 0!==ew(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=ew(e,["googleSearchRetrieval"]);null!=n&&e_(t,["googleSearchRetrieval"],n);let a=ew(e,["computerUse"]);null!=a&&e_(t,["computerUse"],a);let i=ew(e,["fileSearch"]);null!=i&&e_(t,["fileSearch"],i);let o=ew(e,["codeExecution"]);if(null!=o&&e_(t,["codeExecution"],o),void 0!==ew(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=ew(e,["googleMaps"]);null!=s&&e_(t,["googleMaps"],function(e){let t={};if(void 0!==ew(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=ew(e,["enableWidget"]);return null!=r&&e_(t,["enableWidget"],r),t}(s));let l=ew(e,["googleSearch"]);null!=l&&e_(t,["googleSearch"],function(e){let t={};if(void 0!==ew(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==ew(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=ew(e,["timeRangeFilter"]);return null!=r&&e_(t,["timeRangeFilter"],r),t}(l));let u=ew(e,["urlContext"]);return null!=u&&e_(t,["urlContext"],u),t})(ts(e)))),e_(t,["setup","tools"],e)}let f=ew(e,["sessionResumption"]);void 0!==t&&null!=f&&e_(t,["setup","sessionResumption"],function(e){let t={},r=ew(e,["handle"]);if(null!=r&&e_(t,["handle"],r),void 0!==ew(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(f));let g=ew(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&e_(t,["setup","inputAudioTranscription"],g);let y=ew(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&e_(t,["setup","outputAudioTranscription"],y);let v=ew(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&e_(t,["setup","realtimeInputConfig"],v);let b=ew(e,["contextWindowCompression"]);void 0!==t&&null!=b&&e_(t,["setup","contextWindowCompression"],b);let _=ew(e,["proactivity"]);return void 0!==t&&null!=_&&e_(t,["setup","proactivity"],_),{}}(d,l)),l)),y=ew(p,["lockAdditionalFields"]),void 0!==c&&null!=y&&e_(c,["fieldMask"],y),{})),c);o=eb("auth_tokens",v._url),s=v._query,delete v.config,delete v._url,delete v._query;let b=function(e,t){let r=null,n=e.bidiGenerateContentSetup;if("object"==typeof n&&null!==n&&"setup"in n){let t=n.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,r=t):delete e.bidiGenerateContentSetup}else void 0!==n&&delete e.bidiGenerateContentSetup;let a=e.fieldMask;if(r){let n=function(e){let t=[];for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r];if("object"==typeof n&&null!=n&&Object.keys(n).length>0){let e=Object.keys(n).map(e=>`${r}.${e}`);t.push(...e)}else t.push(r)}return t.join(",")}(r);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&(null==t?void 0:t.lockAdditionalFields.length)===0)n?e.fieldMask=n:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==a&&Array.isArray(a)&&a.length>0){let t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],r=[];a.length>0&&(r=a.map(e=>t.includes(e)?`generationConfig.${e}`:e));let i=[];n&&i.push(n),r.length>0&&i.push(...r),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==a&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}(v,e.config);return this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(b),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}}class rh extends ev{constructor(e){super(),this.apiClient=e,this.list=async e=>new tx(r.PagedItem.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","name"],o),i);return n=eb("{name}",s._url),a=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","name"],o),null!=(s=ew(e,["config"]))&&(l=ew(s,["force"]),void 0!==i&&null!=l&&e_(i,["_query","force"],l)),i);n=eb("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}}async listInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u,d=(i={},null!=(o=ew(e,["parent"]))&&e_(i,["_url","parent"],o),null!=(s=ew(e,["config"]))&&(l=ew(s,["pageSize"]),void 0!==i&&null!=l&&e_(i,["_query","pageSize"],l),u=ew(s,["pageToken"]),void 0!==i&&null!=u&&e_(i,["_query","pageToken"],u)),i);return n=eb("{parent}/documents",d._url),a=d._query,delete d._url,delete d._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["documents"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["documents"],e)}return t}(e),r=new eV;return Object.assign(r,t),r})}}}class rf extends ev{constructor(e,t=new rh(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new tx(r.PagedItem.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l=(i={},null!=(o=ew(e,["config"]))&&(s=ew(o,["displayName"]),void 0!==i&&null!=s&&e_(i,["displayName"],s)),i);return n=eb("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async get(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","name"],o),i);return n=eb("{name}",s._url),a=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u=(i={},null!=(o=ew(e,["name"]))&&e_(i,["_url","name"],o),null!=(s=ew(e,["config"]))&&(l=ew(s,["force"]),void 0!==i&&null!=l&&e_(i,["_query","force"],l)),i);n=eb("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}}async listInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u=(i={},null!=(o=ew(e,["config"]))&&(s=ew(o,["pageSize"]),void 0!==i&&null!=s&&e_(i,["_query","pageSize"],s),l=ew(o,["pageToken"]),void 0!==i&&null!=l&&e_(i,["_query","pageToken"],l)),i);return n=eb("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=ew(e,["sdkHttpResponse"]);null!=r&&e_(t,["sdkHttpResponse"],r);let n=ew(e,["nextPageToken"]);null!=n&&e_(t,["nextPageToken"],n);let a=ew(e,["fileSearchStores"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["fileSearchStores"],e)}return t}(e),r=new eB;return Object.assign(r,t),r})}}async uploadToFileSearchStoreInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l=(i={},null!=(o=ew(e,["fileSearchStoreName"]))&&e_(i,["_url","file_search_store_name"],o),null!=(s=ew(e,["config"]))&&function(e,t){let r=ew(e,["mimeType"]);void 0!==t&&null!=r&&e_(t,["mimeType"],r);let n=ew(e,["displayName"]);void 0!==t&&null!=n&&e_(t,["displayName"],n);let a=ew(e,["customMetadata"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["customMetadata"],e)}let i=ew(e,["chunkingConfig"]);void 0!==t&&null!=i&&e_(t,["chunkingConfig"],i)}(s,i),i);return n=eb("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n=(t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),t),a=new eZ;return Object.assign(a,n),a})}}async importFile(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u=(i={},null!=(o=ew(e,["fileSearchStoreName"]))&&e_(i,["_url","file_search_store_name"],o),null!=(s=ew(e,["fileName"]))&&e_(i,["fileName"],s),null!=(l=ew(e,["config"]))&&function(e,t){let r=ew(e,["customMetadata"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_(t,["customMetadata"],e)}let n=ew(e,["chunkingConfig"]);void 0!==t&&null!=n&&e_(t,["chunkingConfig"],n)}(l,i),i);return n=eb("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{var t;let r,n,a,i,o,s,l,u,d,c,p=(o={},null!=(s=ew(e,["name"]))&&e_(o,["name"],s),null!=(l=ew(e,["metadata"]))&&e_(o,["metadata"],l),null!=(u=ew(e,["done"]))&&e_(o,["done"],u),null!=(d=ew(e,["error"]))&&e_(o,["error"],d),null!=(c=ew(e,["response"]))&&e_(o,["response"],(r={},null!=(n=ew(t=c,["sdkHttpResponse"]))&&e_(r,["sdkHttpResponse"],n),null!=(a=ew(t,["parent"]))&&e_(r,["parent"],a),null!=(i=ew(t,["documentName"]))&&e_(r,["documentName"],i),r)),o),m=new eH;return Object.assign(m,p),m})}}}let rg="x-goog-api-key",ry="https://www.googleapis.com/auth/cloud-platform";class rv{constructor(e){if(void 0!==e.apiKey){this.apiKey=e.apiKey;return}const t=function(e){let t;if(!e)return{scopes:[ry]};if((t=e).scopes){if("string"==typeof t.scopes&&t.scopes!==ry||Array.isArray(t.scopes)&&0>t.scopes.indexOf(ry))throw Error(`Invalid auth scopes. Scopes must include: ${ry}`)}else t.scopes=[ry];return t}(e.googleAuthOptions);this.googleAuth=new es.GoogleAuth(t)}async addAuthHeaders(e,t){if(void 0!==this.apiKey){if(this.apiKey.startsWith("auth_tokens/"))throw Error("Ephemeral tokens are only supported by the live API.");this.addKeyHeader(e);return}return this.addGoogleAuthHeaders(e,t)}addKeyHeader(e){if(null===e.get(rg)){if(void 0===this.apiKey)throw Error("Trying to set API key header but apiKey is not set");e.append(rg,this.apiKey)}}async addGoogleAuthHeaders(e,t){if(void 0===this.googleAuth)throw Error("Trying to set google-auth headers but googleAuth is unset");for(let[r,n]of(await this.googleAuth.getRequestHeaders(t)))null===e.get(r)&&e.append(r,n)}}class rb{async download(e,t){if(e.downloadPath){let r=await r_(e,t);if(r instanceof eO){let t=el.createWriteStream(e.downloadPath);ed.Readable.fromWeb(r.responseInternal.body).pipe(t),await ec.finished(t)}else try{await eu.writeFile(e.downloadPath,r,{encoding:"base64"})}catch(t){throw Error(`Failed to write file to ${e.downloadPath}: ${t}`)}}}}async function r_(e,t){var r,n,a;let i=tm(e.file);if(void 0!==i)return await t.request({path:`files/${i}:download`,httpMethod:"GET",queryParams:{alt:"media"},httpOptions:null==(r=e.config)?void 0:r.httpOptions,abortSignal:null==(n=e.config)?void 0:n.abortSignal});if(tc(e.file)){let t=null==(a=e.file.video)?void 0:a.videoBytes;if("string"==typeof t)return t;throw Error("Failed to download generated video, Uri or videoBytes not found.")}if(tp(e.file)){let t=e.file.videoBytes;if("string"==typeof t)return t;throw Error("Failed to download video, Uri or videoBytes not found.")}throw Error("Unsupported file type")}class rw{create(e,t,r){return new rS(e,t,r)}}class rS{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new eg.WebSocket(this.url,{headers:this.headers}),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.close()}}function rk(e,t){let r,n,a,i={},o=ew(e,["sdkHttpResponse"]);null!=o&&e_(i,["sdkHttpResponse"],o);let s=ew(e,["name"]);null!=s&&e_(i,["name"],s);let l=ew(e,["state"]);null!=l&&e_(i,["state"],td(l));let u=ew(e,["createTime"]);null!=u&&e_(i,["createTime"],u);let d=ew(e,["tuningTask","startTime"]);null!=d&&e_(i,["startTime"],d);let c=ew(e,["tuningTask","completeTime"]);null!=c&&e_(i,["endTime"],c);let p=ew(e,["updateTime"]);null!=p&&e_(i,["updateTime"],p);let m=ew(e,["description"]);null!=m&&e_(i,["description"],m);let h=ew(e,["baseModel"]);null!=h&&e_(i,["baseModel"],h);let f=ew(e,["_self"]);return null!=f&&e_(i,["tunedModel"],(r={},null!=(n=ew(f,["name"]))&&e_(r,["model"],n),null!=(a=ew(f,["name"]))&&e_(r,["endpoint"],a),r)),i}function rx(e,t){let r={},n=ew(e,["sdkHttpResponse"]);null!=n&&e_(r,["sdkHttpResponse"],n);let a=ew(e,["name"]);null!=a&&e_(r,["name"],a);let i=ew(e,["state"]);null!=i&&e_(r,["state"],td(i));let o=ew(e,["createTime"]);null!=o&&e_(r,["createTime"],o);let s=ew(e,["startTime"]);null!=s&&e_(r,["startTime"],s);let l=ew(e,["endTime"]);null!=l&&e_(r,["endTime"],l);let u=ew(e,["updateTime"]);null!=u&&e_(r,["updateTime"],u);let d=ew(e,["error"]);null!=d&&e_(r,["error"],d);let c=ew(e,["description"]);null!=c&&e_(r,["description"],c);let p=ew(e,["baseModel"]);null!=p&&e_(r,["baseModel"],p);let m=ew(e,["tunedModel"]);null!=m&&e_(r,["tunedModel"],m);let h=ew(e,["preTunedModel"]);null!=h&&e_(r,["preTunedModel"],h);let f=ew(e,["supervisedTuningSpec"]);null!=f&&e_(r,["supervisedTuningSpec"],f);let g=ew(e,["preferenceOptimizationSpec"]);null!=g&&e_(r,["preferenceOptimizationSpec"],g);let y=ew(e,["tuningDataStats"]);null!=y&&e_(r,["tuningDataStats"],y);let v=ew(e,["encryptionSpec"]);null!=v&&e_(r,["encryptionSpec"],v);let b=ew(e,["partnerModelTuningSpec"]);null!=b&&e_(r,["partnerModelTuningSpec"],b);let _=ew(e,["customBaseModel"]);null!=_&&e_(r,["customBaseModel"],_);let w=ew(e,["experiment"]);null!=w&&e_(r,["experiment"],w);let S=ew(e,["labels"]);null!=S&&e_(r,["labels"],S);let k=ew(e,["outputUri"]);null!=k&&e_(r,["outputUri"],k);let x=ew(e,["pipelineJob"]);null!=x&&e_(r,["pipelineJob"],x);let E=ew(e,["serviceAccount"]);null!=E&&e_(r,["serviceAccount"],E);let T=ew(e,["tunedModelDisplayName"]);null!=T&&e_(r,["tunedModelDisplayName"],T);let O=ew(e,["veoTuningSpec"]);return null!=O&&e_(r,["veoTuningSpec"],O),r}function rE(e,t){let r={},n=ew(e,["gcsUri"]);null!=n&&e_(r,["validationDatasetUri"],n);let a=ew(e,["vertexDatasetResource"]);return null!=a&&e_(r,["validationDatasetUri"],a),r}class rT extends ev{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new tx(r.PagedItem.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI())if(e.baseModel.startsWith("projects/")){let r={tunedModelName:e.baseModel};(null==(t=e.config)?void 0:t.preTunedModelCheckpointId)&&(r.checkpointId=e.config.preTunedModelCheckpointId);let n=Object.assign(Object.assign({},e),{preTunedModel:r});return n.baseModel=void 0,await this.tuneInternal(n)}else{let t=Object.assign({},e);return await this.tuneInternal(t)}{let t=Object.assign({},e),n=await this.tuneMldevInternal(t),a="";return void 0!==n.metadata&&void 0!==n.metadata.tunedModel?a=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(a=n.name.split("/operations/")[0]),{name:a,state:r.JobState.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s=(n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],a),n);return i=eb("{name}",s._url),o=s._query,delete s._url,delete s._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>rx(e))}{let t,r,s=(t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],r),t);return i=eb("{name}",s._url),o=s._query,delete s._url,delete s._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>rk(e))}}async listInternal(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s,l,u,d=(n={},null!=(a=ew(e,["config"]))&&(s=ew(a,["pageSize"]),void 0!==n&&null!=s&&e_(n,["_query","pageSize"],s),l=ew(a,["pageToken"]),void 0!==n&&null!=l&&e_(n,["_query","pageToken"],l),u=ew(a,["filter"]),void 0!==n&&null!=u&&e_(n,["_query","filter"],u)),n);return i=eb("tuningJobs",d._url),o=d._query,delete d._url,delete d._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=ew(e,["sdkHttpResponse"]);null!=n&&e_(r,["sdkHttpResponse"],n);let a=ew(e,["nextPageToken"]);null!=a&&e_(r,["nextPageToken"],a);let i=ew(e,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>rx(e))),e_(r,["tuningJobs"],e)}return r}(e),r=new eU;return Object.assign(r,t),r})}{let t,r,s,l,u,d=(t={},null!=(r=ew(e,["config"]))&&(s=ew(r,["pageSize"]),void 0!==t&&null!=s&&e_(t,["_query","pageSize"],s),l=ew(r,["pageToken"]),void 0!==t&&null!=l&&e_(t,["_query","pageToken"],l),u=ew(r,["filter"]),void 0!==t&&null!=u&&e_(t,["_query","filter"],u)),t);return i=eb("tunedModels",d._url),o=d._query,delete d._url,delete d._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=ew(e,["sdkHttpResponse"]);null!=n&&e_(r,["sdkHttpResponse"],n);let a=ew(e,["nextPageToken"]);null!=a&&e_(r,["nextPageToken"],a);let i=ew(e,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>rk(e))),e_(r,["tuningJobs"],e)}return r}(e),r=new eU;return Object.assign(r,t),r})}}async cancel(e){var t,r,n,a;let i="",o={};if(this.apiClient.isVertexAI()){let n,a,s=(n={},null!=(a=ew(e,["name"]))&&e_(n,["_url","name"],a),n);i=eb("{name}:cancel",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}else{let t,r,s=(t={},null!=(r=ew(e,["name"]))&&e_(t,["_url","name"],r),t);i=eb("{name}:cancel",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(a=e.config)?void 0:a.abortSignal})}}async tuneInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI()){let i,o,s,l,u,d=(i={},null!=(o=ew(e,["baseModel"]))&&e_(i,["baseModel"],o),null!=(s=ew(e,["preTunedModel"]))&&e_(i,["preTunedModel"],s),null!=(l=ew(e,["trainingDataset"]))&&function(e,t,r){let n=ew(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=ew(e,["gcsUri"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===n){let r=ew(e,["gcsUri"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let a=ew(r,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){let r=ew(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===a){let r=ew(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(void 0!==ew(e,["examples"]))throw Error("examples parameter is not supported in Vertex AI.")}(l,i,e),null!=(u=ew(e,["config"]))&&function(e,t,r){let n=ew(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=ew(e,["validationDataset"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec"],rE(r))}else if("PREFERENCE_TUNING"===n){let r=ew(e,["validationDataset"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec"],rE(r))}let a=ew(e,["tunedModelDisplayName"]);void 0!==t&&null!=a&&e_(t,["tunedModelDisplayName"],a);let i=ew(e,["description"]);void 0!==t&&null!=i&&e_(t,["description"],i);let o=ew(r,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){let r=ew(e,["epochCount"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","hyperParameters","epochCount"],r)}else if("PREFERENCE_TUNING"===o){let r=ew(e,["epochCount"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],r)}let s=ew(r,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){let r=ew(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r)}else if("PREFERENCE_TUNING"===s){let r=ew(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],r)}let l=ew(r,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){let r=ew(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","exportLastCheckpointOnly"],r)}else if("PREFERENCE_TUNING"===l){let r=ew(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],r)}let u=ew(r,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){let r=ew(e,["adapterSize"]);void 0!==t&&null!=r&&e_(t,["supervisedTuningSpec","hyperParameters","adapterSize"],r)}else if("PREFERENCE_TUNING"===u){let r=ew(e,["adapterSize"]);void 0!==t&&null!=r&&e_(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],r)}if(void 0!==ew(e,["batchSize"]))throw Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==ew(e,["learningRate"]))throw Error("learningRate parameter is not supported in Vertex AI.");let d=ew(e,["labels"]);void 0!==t&&null!=d&&e_(t,["labels"],d);let c=ew(e,["beta"]);void 0!==t&&null!=c&&e_(t,["preferenceOptimizationSpec","hyperParameters","beta"],c)}(u,i,e),i);return n=eb("tuningJobs",d._url),a=d._query,delete d._url,delete d._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>rx(e))}throw Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let n="",a={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let i,o,s,l,u,d=(i={},null!=(o=ew(e,["baseModel"]))&&e_(i,["baseModel"],o),null!=(s=ew(e,["preTunedModel"]))&&e_(i,["preTunedModel"],s),null!=(l=ew(e,["trainingDataset"]))&&function(e,t){if(void 0!==ew(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==ew(e,["vertexDatasetResource"]))throw Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=ew(e,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),e_({},["examples","examples"],e)}}(l),null!=(u=ew(e,["config"]))&&function(e,t,r){if(void 0!==ew(e,["validationDataset"]))throw Error("validationDataset parameter is not supported in Gemini API.");let n=ew(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&e_(t,["displayName"],n),void 0!==ew(e,["description"]))throw Error("description parameter is not supported in Gemini API.");let a=ew(e,["epochCount"]);void 0!==t&&null!=a&&e_(t,["tuningTask","hyperparameters","epochCount"],a);let i=ew(e,["learningRateMultiplier"]);if(null!=i&&e_({},["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==ew(e,["exportLastCheckpointOnly"]))throw Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==ew(e,["preTunedModelCheckpointId"]))throw Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==ew(e,["adapterSize"]))throw Error("adapterSize parameter is not supported in Gemini API.");let o=ew(e,["batchSize"]);void 0!==t&&null!=o&&e_(t,["tuningTask","hyperparameters","batchSize"],o);let s=ew(e,["learningRate"]);if(void 0!==t&&null!=s&&e_(t,["tuningTask","hyperparameters","learningRate"],s),void 0!==ew(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");if(void 0!==ew(e,["beta"]))throw Error("beta parameter is not supported in Gemini API.")}(u,i),i);return n=eb("tunedModels",d._url),a=d._query,delete d._url,delete d._query,this.apiClient.request({path:n,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,a,i,o;return t={},null!=(r=ew(e,["sdkHttpResponse"]))&&e_(t,["sdkHttpResponse"],r),null!=(n=ew(e,["name"]))&&e_(t,["name"],n),null!=(a=ew(e,["metadata"]))&&e_(t,["metadata"],a),null!=(i=ew(e,["done"]))&&e_(t,["done"],i),null!=(o=ew(e,["error"]))&&e_(t,["error"],o),t})}}}let rO="x-goog-upload-status";async function rI(e,t,r){var n;let a=await rC(e,t,r),i=await (null==a?void 0:a.json());if((null==(n=null==a?void 0:a.headers)?void 0:n[rO])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");return i.file}async function rP(e,t,r){var n;let a=await rC(e,t,r),i=await (null==a?void 0:a.json());if((null==(n=null==a?void 0:a.headers)?void 0:n[rO])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");let o=ek(i),s=new eQ;return Object.assign(s,o),s}async function rC(e,t,r){var n,a;let i=0,o=0,s=new eO(new Response),l="upload";for(i=e.size;o<i;){let u=Math.min(8388608,i-o),d=e.slice(o,o+u);o+u>=i&&(l+=", finalize");let c=0,p=1e3;for(;c<3&&(null==(n=null==(s=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}))?void 0:s.headers)||!n[rO]);)c++,await rj(p),p*=2;if(o+=u,(null==(a=null==s?void 0:s.headers)?void 0:a[rO])!=="active")break;if(i<=o)throw Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function rA(e){return{size:e.size,type:e.type}}function rj(e){return new Promise(t=>setTimeout(t,e))}class rz{async stat(e){let t={size:0,type:void 0};return"string"==typeof e?(t.size=(await ef.stat(e)).size,t.type=this.inferMimeType(e),t):await rA(e)}async upload(e,t,r){return"string"==typeof e?await this.uploadFileFromPath(e,t,r):rI(e,t,r)}async uploadToFileSearchStore(e,t,r){return"string"==typeof e?await this.uploadFileToFileSearchStoreFromPath(e,t,r):rP(e,t,r)}inferMimeType(e){return({aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz+xml",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"})[e.slice(e.lastIndexOf(".")+1).toLowerCase()]}async uploadFileFromPath(e,t,r){var n;let a=await this.uploadFileFromPathInternal(e,t,r),i=await (null==a?void 0:a.json());if((null==(n=null==a?void 0:a.headers)?void 0:n[rO])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");return i.file}async uploadFileToFileSearchStoreFromPath(e,t,r){var n;let a=await this.uploadFileFromPathInternal(e,t,r),i=await (null==a?void 0:a.json());if((null==(n=null==a?void 0:a.headers)?void 0:n[rO])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");let o=ek(i),s=new eQ;return Object.assign(s,o),s}async uploadFileFromPathInternal(e,t,r){var n,a;let i,o=0,s=0,l=new eO(new Response),u="upload",d=ey.basename(e);try{if(!(i=await ef.open(e,"r")))throw Error("Failed to open file");for(o=(await i.stat()).size;s<o;){let e=Math.min(8388608,o-s);s+e>=o&&(u+=", finalize");let c=new Uint8Array(e),{bytesRead:p}=await i.read(c,0,e,s);if(p!==e)throw Error(`Failed to read ${e} bytes from file at offset ${s}. bytes actually read: ${p}`);let m=new Blob([c]),h=0,f=1e3;for(;h<3&&(null==(n=null==(l=await r.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(p),"X-Goog-Upload-File-Name":d}}}))?void 0:l.headers)||!n[rO]);)h++,await rj(f),f*=2;if(s+=p,(null==(a=null==l?void 0:l.headers)?void 0:a[rO])!=="active")break;if(o<=s)throw Error("All content has been uploaded, but the upload status is not finalized.")}return l}finally{i&&await i.close()}}}function rR(e){var t,r,n;return null!=(n=null==(r=null==(t=null==process?void 0:process.env)?void 0:t[e])?void 0:r.trim())?n:void 0}r.ApiError=tN,r.Batches=tE,r.Caches=tO,r.Chat=tR,r.Chats=tz,r.ComputeTokensResponse=eD,r.ContentReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_CONTENT",referenceImage:this.referenceImage,referenceId:this.referenceId}}},r.ControlReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_CONTROL",referenceImage:this.referenceImage,referenceId:this.referenceId,controlImageConfig:this.config}}},r.CountTokensResponse=eM,r.CreateFileResponse=eW,r.DeleteCachedContentResponse=eL,r.DeleteFileResponse=eJ,r.DeleteModelResponse=e$,r.EditImageResponse=eA,r.EmbedContentResponse=eP,r.Files=t$,r.FunctionResponse=class{},r.FunctionResponseBlob=class{},r.FunctionResponseFileData=class{},r.FunctionResponsePart=class{},r.GenerateContentResponse=eI,r.GenerateContentResponsePromptFeedback=class{},r.GenerateContentResponseUsageMetadata=class{},r.GenerateImagesResponse=eC,r.GenerateVideosOperation=eF,r.GenerateVideosResponse=class{},r.GoogleGenAI=class{constructor(e){var t,r,i,o,s,l;if((e.project||e.location)&&e.apiKey)throw Error("Project/location and API key are mutually exclusive in the client initializer.");this.vertexai=null!=(r=null!=(t=e.vertexai)?t:function(e){var t;return void 0!==(t=rR(e))&&"true"===t.toLowerCase()}("GOOGLE_GENAI_USE_VERTEXAI"))&&r;const u=function(){let e=rR("GOOGLE_API_KEY"),t=rR("GEMINI_API_KEY");return e&&t&&console.warn("Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY."),e||t||void 0}(),d=rR("GOOGLE_CLOUD_PROJECT"),c=rR("GOOGLE_CLOUD_LOCATION");this.apiKey=null!=(i=e.apiKey)?i:u,this.project=null!=(o=e.project)?o:d,this.location=null!=(s=e.location)?s:c,e.vertexai&&((null==(l=e.googleAuthOptions)?void 0:l.credentials)&&(console.debug("The user provided Google Cloud credentials will take precedence over the API key from the environment variable."),this.apiKey=void 0),(d||c)&&e.apiKey?(console.debug("The user provided Vertex AI API key will take precedence over the project/location from the environment variables."),this.project=void 0,this.location=void 0):(e.project||e.location)&&u?(console.debug("The user provided project/location will take precedence over the API key from the environment variables."),this.apiKey=void 0):(d||c)&&u&&(console.debug("The project/location from the environment variables will take precedence over the API key from the environment variables."),this.apiKey=void 0),this.location||this.apiKey||(this.location="global"));const p=function(e,t,r,i){if(!(null==e?void 0:e.baseUrl)){let e=n,o=a;return t?null!=o?o:r:null!=e?e:i}return e.baseUrl}(e.httpOptions,e.vertexai,rR("GOOGLE_VERTEX_BASE_URL"),rR("GOOGLE_GEMINI_BASE_URL"));p&&(e.httpOptions?e.httpOptions.baseUrl=p:e.httpOptions={baseUrl:p}),this.apiVersion=e.apiVersion;const m=new rv({apiKey:this.apiKey,googleAuthOptions:e.googleAuthOptions});this.apiClient=new t6({auth:m,project:this.project,location:this.location,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/"+process.version,uploader:new rz,downloader:new rb}),this.models=new rc(this.apiClient),this.live=new ra(this.apiClient,m,new rw),this.batches=new tE(this.apiClient),this.chats=new tz(this.models,this.apiClient),this.caches=new tO(this.apiClient),this.files=new t$(this.apiClient),this.operations=new rp(this.apiClient),this.authTokens=new rm(this.apiClient),this.tunings=new rT(this.apiClient),this.fileSearchStores=new rf(this.apiClient)}},r.HttpResponse=eO,r.ImportFileOperation=eH,r.ImportFileResponse=class{},r.InlinedEmbedContentResponse=class{},r.InlinedResponse=class{},r.ListBatchJobsResponse=eK,r.ListCachedContentsResponse=eq,r.ListDocumentsResponse=eV,r.ListFileSearchStoresResponse=eB,r.ListFilesResponse=eG,r.ListModelsResponse=eN,r.ListTuningJobsResponse=eU,r.Live=ra,r.LiveClientToolResponse=class{},r.LiveMusicServerMessage=eX,r.LiveSendToolResponseParameters=class{constructor(){this.functionResponses=[]}},r.LiveServerMessage=eY,r.MaskReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_MASK",referenceImage:this.referenceImage,referenceId:this.referenceId,maskImageConfig:this.config}}},r.Models=rc,r.Operations=rp,r.Pager=tx,r.RawReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_RAW",referenceImage:this.referenceImage,referenceId:this.referenceId}}},r.RecontextImageResponse=ez,r.ReplayResponse=class{},r.SegmentImageResponse=eR,r.Session=ro,r.SingleEmbedContentResponse=class{},r.StyleReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_STYLE",referenceImage:this.referenceImage,referenceId:this.referenceId,styleImageConfig:this.config}}},r.SubjectReferenceImage=class{toReferenceImageAPI(){return{referenceType:"REFERENCE_TYPE_SUBJECT",referenceImage:this.referenceImage,referenceId:this.referenceId,subjectImageConfig:this.config}}},r.Tokens=rm,r.UploadToFileSearchStoreOperation=eQ,r.UploadToFileSearchStoreResponse=class{},r.UploadToFileSearchStoreResumableResponse=eZ,r.UpscaleImageResponse=ej,r.createFunctionResponsePartFromBase64=function(e,t){return{inlineData:{data:e,mimeType:t}}},r.createFunctionResponsePartFromUri=function(e,t){return{fileData:{fileUri:e,mimeType:t}}},r.createModelContent=function(e){return{role:"model",parts:eT(e)}},r.createPartFromBase64=function(e,t,r){return Object.assign({inlineData:{data:e,mimeType:t}},r&&{mediaResolution:{level:r}})},r.createPartFromCodeExecutionResult=function(e,t){return{codeExecutionResult:{outcome:e,output:t}}},r.createPartFromExecutableCode=function(e,t){return{executableCode:{code:e,language:t}}},r.createPartFromFunctionCall=function(e,t){return{functionCall:{name:e,args:t}}},r.createPartFromFunctionResponse=function(e,t,r,n=[]){return{functionResponse:Object.assign({id:e,name:t,response:r},n.length>0&&{parts:n})}},r.createPartFromText=ex,r.createPartFromUri=function(e,t,r){return Object.assign({fileData:{fileUri:e,mimeType:t}},r&&{mediaResolution:{level:r}})},r.createUserContent=function(e){return{role:"user",parts:eT(e)}},r.mcpToTool=function(...e){if(t9=!0,0===e.length)throw Error("No MCP clients provided");let t=e[e.length-1];return null!==t&&"object"==typeof t&&"listTools"in t&&"function"==typeof t.listTools?t7.create(e,{}):t7.create(e.slice(0,e.length-1),t)},r.setDefaultBaseUrls=function(e){n=e.geminiUrl,a=e.vertexUrl}},30146,(e,t,r)=>{t.exports=e.x("pino-28069d5257187539",()=>require("pino-28069d5257187539"))},3153,(e,t,r)=>{"use strict";var n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),{})},15926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});class n extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function a(e){}r.ParseError=n,r.createParser=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=a,onError:r=a,onRetry:i=a,onComment:o}=e,s="",l=!0,u,d="",c="";function p(e){if(""===e)return void(d.length>0&&t({id:u,event:c||void 0,data:d.endsWith(`
`)?d.slice(0,-1):d}),u=void 0,d="",c="");if(e.startsWith(":")){o&&o(e.slice(e.startsWith(": ")?2:1));return}let r=e.indexOf(":");if(-1!==r){let t=e.slice(0,r),n=" "===e[r+1]?2:1;m(t,e.slice(r+n),e);return}m(e,"",e)}function m(e,t,a){switch(e){case"event":c=t;break;case"data":d=`${d}${t}
`;break;case"id":u=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?i(parseInt(t,10)):r(new n(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:a}));break;default:r(new n(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){let t=l?e.replace(/^\xEF\xBB\xBF/,""):e,[r,n]=function(e){let t=[],r="",n=0;for(;n<e.length;){let a=e.indexOf("\r",n),i=e.indexOf(`
`,n),o=-1;if(-1!==a&&-1!==i?o=Math.min(a,i):-1!==a?o=a===e.length-1?-1:a:-1!==i&&(o=i),-1===o){r=e.slice(n);break}{let r=e.slice(n,o);t.push(r),"\r"===e[(n=o+1)-1]&&e[n]===`
`&&n++}}return[t,r]}(`${s}${t}`);for(let e of r)p(e);s=n,l=!1},reset:function(e={}){s&&e.consume&&p(s),l=!0,u=void 0,d="",c="",s=""}}}},23882,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(15926);class a extends TransformStream{constructor({onError:e,onRetry:t,onComment:r}={}){let a;super({start(i){a=n.createParser({onEvent:e=>{i.enqueue(e)},onError(t){"terminate"===e?i.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:r})},transform(e){a.feed(e)}})}}r.ParseError=n.ParseError,r.EventSourceParserStream=a},76261,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,w={},S={AISDKError:()=>O,APICallError:()=>A,EmptyResponseBodyError:()=>N,InvalidArgumentError:()=>U,InvalidPromptError:()=>B,InvalidResponseDataError:()=>W,JSONParseError:()=>X,LoadAPIKeyError:()=>er,LoadSettingError:()=>eo,NoContentGeneratedError:()=>ed,NoSuchModelError:()=>eh,TooManyEmbeddingValuesForCallError:()=>ev,TypeValidationError:()=>ek,UnsupportedFunctionalityError:()=>eO,getErrorMessage:()=>$,isJSONArray:()=>eP,isJSONObject:()=>eC,isJSONValue:()=>eI};for(var k in S)y(w,k,{get:S[k],enumerable:!0});t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of b(t))_.call(e,a)||a===r||y(e,a,{get:()=>t[a],enumerable:!(n=v(t,a))||n.enumerable});return e})(y({},"__esModule",{value:!0}),w);var x="vercel.ai.error",E=Symbol.for(x),T=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,x)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=E;var O=T,I="AI_APICallError",P=`vercel.ai.error.${I}`,C=Symbol.for(P),A=class extends O{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:I,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return O.hasMarker(e,P)}};a=C;var j="AI_EmptyResponseBodyError",z=`vercel.ai.error.${j}`,R=Symbol.for(z),N=class extends O{constructor({message:e="Empty response body"}={}){super({name:j,message:e}),this[i]=!0}static isInstance(e){return O.hasMarker(e,z)}};function $(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=R;var M="AI_InvalidArgumentError",D=`vercel.ai.error.${M}`,F=Symbol.for(D),U=class extends O{constructor({message:e,cause:t,argument:r}){super({name:M,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return O.hasMarker(e,D)}};o=F;var L="AI_InvalidPromptError",q=`vercel.ai.error.${L}`,V=Symbol.for(q),B=class extends O{constructor({prompt:e,message:t,cause:r}){super({name:L,message:`Invalid prompt: ${t}`,cause:r}),this[s]=!0,this.prompt=e}static isInstance(e){return O.hasMarker(e,q)}};s=V;var Z="AI_InvalidResponseDataError",H=`vercel.ai.error.${Z}`,G=Symbol.for(H),W=class extends O{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Z,message:t}),this[l]=!0,this.data=e}static isInstance(e){return O.hasMarker(e,H)}};l=G;var J="AI_JSONParseError",K=`vercel.ai.error.${J}`,Y=Symbol.for(K),X=class extends O{constructor({text:e,cause:t}){super({name:J,message:`JSON parsing failed: Text: ${e}.
Error message: ${$(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return O.hasMarker(e,K)}};u=Y;var Q="AI_LoadAPIKeyError",ee=`vercel.ai.error.${Q}`,et=Symbol.for(ee),er=class extends O{constructor({message:e}){super({name:Q,message:e}),this[d]=!0}static isInstance(e){return O.hasMarker(e,ee)}};d=et;var en="AI_LoadSettingError",ea=`vercel.ai.error.${en}`,ei=Symbol.for(ea),eo=class extends O{constructor({message:e}){super({name:en,message:e}),this[c]=!0}static isInstance(e){return O.hasMarker(e,ea)}};c=ei;var es="AI_NoContentGeneratedError",el=`vercel.ai.error.${es}`,eu=Symbol.for(el),ed=class extends O{constructor({message:e="No content generated."}={}){super({name:es,message:e}),this[p]=!0}static isInstance(e){return O.hasMarker(e,el)}};p=eu;var ec="AI_NoSuchModelError",ep=`vercel.ai.error.${ec}`,em=Symbol.for(ep),eh=class extends O{constructor({errorName:e=ec,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[m]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return O.hasMarker(e,ep)}};m=em;var ef="AI_TooManyEmbeddingValuesForCallError",eg=`vercel.ai.error.${ef}`,ey=Symbol.for(eg),ev=class extends O{constructor(e){super({name:ef,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[h]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return O.hasMarker(e,eg)}};h=ey;var eb="AI_TypeValidationError",e_=`vercel.ai.error.${eb}`,ew=Symbol.for(e_),eS=class e extends O{constructor({value:e,cause:t}){super({name:eb,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${$(t)}`,cause:t}),this[f]=!0,this.value=e}static isInstance(e){return O.hasMarker(e,e_)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};f=ew;var ek=eS,ex="AI_UnsupportedFunctionalityError",eE=`vercel.ai.error.${ex}`,eT=Symbol.for(eE),eO=class extends O{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ex,message:t}),this[g]=!0,this.functionality=e}static isInstance(e){return O.hasMarker(e,eE)}};function eI(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eI):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eI(t)))}function eP(e){return Array.isArray(e)&&e.every(eI)}function eC(e){return null!=e&&"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eI(t))}g=eT},21020,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.globalConfig=r.$ZodAsyncError=r.$brand=void 0,r.$constructor=function(e,t,r){function n(r,n){var a;for(let i in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(a=r._zod).traits??(a.traits=new Set),r._zod.traits.add(e),t(r,n),o.prototype)i in r||Object.defineProperty(r,i,{value:o.prototype[i].bind(r)});r._zod.constr=o,r._zod.def=n}let a=r?.Parent??Object;class i extends a{}function o(e){var t;let a=r?.Parent?new i:this;for(let r of(n(a,e),(t=a._zod).deferred??(t.deferred=[]),a._zod.deferred))r();return a}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o},r.config=function(e){return e&&Object.assign(r.globalConfig,e),r.globalConfig},r.$brand=Symbol("zod_brand"),r.$ZodAsyncError=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},r.globalConfig={}},94247,(e,t,r)=>{"use strict";function n(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function a(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function i(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function o(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function s(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function l(e){return"string"==typeof e?e:e?.message}Object.defineProperty(r,"__esModule",{value:!0}),r.Class=r.BIGINT_FORMAT_RANGES=r.NUMBER_FORMAT_RANGES=r.primitiveTypes=r.propertyKeyTypes=r.getParsedType=r.allowsEval=r.captureStackTrace=void 0,r.assertEqual=function(e){return e},r.assertNotEqual=function(e){return e},r.assertIs=function(e){},r.assertNever=function(e){throw Error()},r.assert=function(e){},r.getEnumValues=function(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)},r.joinValues=function(e,t="|"){return e.map(e=>s(e)).join(t)},r.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t},r.cached=n,r.nullish=function(e){return null==e},r.cleanRegex=function(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)},r.floatSafeRemainder=function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a},r.defineLazy=function(e,t,r){Object.defineProperty(e,t,{get(){{let n=r();return e[t]=n,n}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})},r.assignProp=a,r.getElementAtPath=function(e,t){return t?t.reduce((e,t)=>e?.[t],e):e},r.promiseAllObject=function(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})},r.randomString=function(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r},r.esc=function(e){return JSON.stringify(e)},r.isObject=i,r.isPlainObject=function(e){if(!1===i(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==i(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")},r.numKeys=function(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t},r.escapeRegex=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},r.clone=o,r.normalizeParams=function(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e},r.createTransparentProxy=function(e){let t;return new Proxy({},{get:(r,n,a)=>(t??(t=e()),Reflect.get(t,n,a)),set:(r,n,a,i)=>(t??(t=e()),Reflect.set(t,n,a,i)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,a)=>(t??(t=e()),Reflect.defineProperty(t,n,a))})},r.stringifyPrimitive=s,r.optionalKeys=function(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)},r.pick=function(e,t){let r={},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=n.shape[e])}return o(e,{...e._zod.def,shape:r,checks:[]})},r.omit=function(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return o(e,{...e._zod.def,shape:r,checks:[]})},r.extend=function(e,t){let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return a(this,"shape",r),r},checks:[]};return o(e,r)},r.merge=function(e,t){return o(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return a(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})},r.partial=function(e,t,r){let n=t._zod.def.shape,a={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(a[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)a[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return o(t,{...t._zod.def,shape:a,checks:[]})},r.required=function(e,t,r){let n=t._zod.def.shape,a={...n};if(r)for(let t in r){if(!(t in a))throw Error(`Unrecognized key: "${t}"`);r[t]&&(a[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)a[t]=new e({type:"nonoptional",innerType:n[t]});return o(t,{...t._zod.def,shape:a,checks:[]})},r.aborted=function(e,t=0){for(let r=t;r<e.issues.length;r++)if(!0!==e.issues[r].continue)return!0;return!1},r.prefixIssues=function(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))},r.unwrapMessage=l,r.finalizeIssue=function(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=l(e.inst?._zod.def?.error?.(e))??l(t?.error?.(e))??l(r.customError?.(e))??l(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n},r.getSizableOrigin=function(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"},r.getLengthableOrigin=function(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"},r.issue=function(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}},r.cleanEnum=function(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])},r.captureStackTrace=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{},r.allowsEval=n(()=>{if("u">typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}}),r.getParsedType=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("u">typeof Map&&e instanceof Map)return"map";if("u">typeof Set&&e instanceof Set)return"set";if("u">typeof Date&&e instanceof Date)return"date";if("u">typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},r.propertyKeyTypes=new Set(["string","number","symbol"]),r.primitiveTypes=new Set(["string","number","bigint","boolean","symbol","undefined"]),r.NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},r.BIGINT_FORMAT_RANGES={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]},r.Class=class{constructor(...e){}}},82673,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.$ZodRealError=r.$ZodError=void 0,r.flattenError=function(e,t=e=>e.message){let r={},n=[];for(let a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}},r.formatError=function(e,t){let r=t||function(e){return e.message},n={_errors:[]},a=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>a({issues:e}));else if("invalid_key"===t.code)a({issues:t.issues});else if("invalid_element"===t.code)a({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,a=0;for(;a<t.path.length;){let n=t.path[a];a===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(e),n},r.treeifyError=function(e,t){let r=t||function(e){return e.message},n={errors:[]},a=(e,t=[])=>{var i,o;for(let s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>a({issues:e},s.path));else if("invalid_key"===s.code)a({issues:s.issues},s.path);else if("invalid_element"===s.code)a({issues:s.issues},s.path);else{let e=[...t,...s.path];if(0===e.length){n.errors.push(r(s));continue}let a=n,l=0;for(;l<e.length;){let t=e[l],n=l===e.length-1;"string"==typeof t?(a.properties??(a.properties={}),(i=a.properties)[t]??(i[t]={errors:[]}),a=a.properties[t]):(a.items??(a.items=[]),(o=a.items)[t]??(o[t]={errors:[]}),a=a.items[t]),n&&a.errors.push(r(s)),l++}}};return a(e),n},r.toDotPath=u,r.prettifyError=function(e){let t=[];for(let r of[...e.issues].sort((e,t)=>e.path.length-t.path.length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${u(r.path)}`);return t.join("\n")};let o=e.r(21020),s=i(e.r(94247)),l=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,s.jsonStringifyReplacer,2),enumerable:!0})};function u(e){let t=[];for(let r of e)"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}r.$ZodError=(0,o.$constructor)("$ZodError",l),r.$ZodRealError=(0,o.$constructor)("$ZodError",l,{Parent:Error})},11009,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.safeParseAsync=r._safeParseAsync=r.safeParse=r._safeParse=r.parseAsync=r._parseAsync=r.parse=r._parse=void 0;let o=i(e.r(21020)),s=i(e.r(82673)),l=i(e.r(94247));r._parse=e=>(t,r,n,a)=>{let i=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new o.$ZodAsyncError;if(s.issues.length){let t=new(a?.Err??e)(s.issues.map(e=>l.finalizeIssue(e,i,o.config())));throw l.captureStackTrace(t,a?.callee),t}return s.value},r.parse=(0,r._parse)(s.$ZodRealError),r._parseAsync=e=>async(t,r,n,a)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(a?.Err??e)(s.issues.map(e=>l.finalizeIssue(e,i,o.config())));throw l.captureStackTrace(t,a?.callee),t}return s.value},r.parseAsync=(0,r._parseAsync)(s.$ZodRealError),r._safeParse=e=>(t,r,n)=>{let a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new o.$ZodAsyncError;return i.issues.length?{success:!1,error:new(e??s.$ZodError)(i.issues.map(e=>l.finalizeIssue(e,a,o.config())))}:{success:!0,data:i.value}},r.safeParse=(0,r._safeParse)(s.$ZodRealError),r._safeParseAsync=e=>async(t,r,n)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(e=>l.finalizeIssue(e,a,o.config())))}:{success:!0,data:i.value}},r.safeParseAsync=(0,r._safeParseAsync)(s.$ZodRealError)},58458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uppercase=r.lowercase=r.undefined=r.null=r.boolean=r.number=r.integer=r.bigint=r.string=r.date=r.e164=r.domain=r.hostname=r.base64url=r.base64=r.cidrv6=r.cidrv4=r.ipv6=r.ipv4=r._emoji=r.browserEmail=r.unicodeEmail=r.rfc5322Email=r.html5Email=r.email=r.uuid7=r.uuid6=r.uuid4=r.uuid=r.guid=r.extendedDuration=r.duration=r.nanoid=r.ksuid=r.xid=r.ulid=r.cuid2=r.cuid=void 0,r.emoji=function(){return RegExp(r._emoji,"u")},r.time=function(e){return RegExp(`^${a(e)}$`)},r.datetime=function(e){let t=a({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${n}T(?:${i})$`)},r.cuid=/^[cC][^\s-]{8,}$/,r.cuid2=/^[0-9a-z]+$/,r.ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,r.xid=/^[0-9a-vA-V]{20}$/,r.ksuid=/^[A-Za-z0-9]{27}$/,r.nanoid=/^[a-zA-Z0-9_-]{21}$/,r.duration=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,r.extendedDuration=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r.guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,r.uuid=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,r.uuid4=(0,r.uuid)(4),r.uuid6=(0,r.uuid)(6),r.uuid7=(0,r.uuid)(7),r.email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,r.html5Email=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r.rfc5322Email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r.unicodeEmail=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,r.browserEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r._emoji="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,r.ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,r.cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r.cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r.base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,r.base64url=/^[A-Za-z0-9_-]*$/,r.hostname=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,r.domain=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,r.e164=/^\+(?:[0-9]){6,14}[0-9]$/;let n="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";function a(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}r.date=RegExp(`^${n}$`),r.string=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},r.bigint=/^\d+n?$/,r.integer=/^\d+$/,r.number=/^-?\d+(?:\.\d+)?/i,r.boolean=/true|false/i,r.null=/null/i,r.undefined=/undefined/i,r.lowercase=/^[^A-Z]*$/,r.uppercase=/^[^a-z]*$/},48185,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.$ZodCheckOverwrite=r.$ZodCheckMimeType=r.$ZodCheckProperty=r.$ZodCheckEndsWith=r.$ZodCheckStartsWith=r.$ZodCheckIncludes=r.$ZodCheckUpperCase=r.$ZodCheckLowerCase=r.$ZodCheckRegex=r.$ZodCheckStringFormat=r.$ZodCheckLengthEquals=r.$ZodCheckMinLength=r.$ZodCheckMaxLength=r.$ZodCheckSizeEquals=r.$ZodCheckMinSize=r.$ZodCheckMaxSize=r.$ZodCheckBigIntFormat=r.$ZodCheckNumberFormat=r.$ZodCheckMultipleOf=r.$ZodCheckGreaterThan=r.$ZodCheckLessThan=r.$ZodCheck=void 0;let o=i(e.r(21020)),s=i(e.r(58458)),l=i(e.r(94247));r.$ZodCheck=o.$constructor("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])});let u={number:"number",bigint:"bigint",object:"date"};function d(e,t,r){e.issues.length&&t.issues.push(...l.prefixIssues(r,e.issues))}r.$ZodCheckLessThan=o.$constructor("$ZodCheckLessThan",(e,t)=>{r.$ZodCheck.init(e,t);let n=u[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<n&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),r.$ZodCheckGreaterThan=o.$constructor("$ZodCheckGreaterThan",(e,t)=>{r.$ZodCheck.init(e,t);let n=u[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>n&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),r.$ZodCheckMultipleOf=o.$constructor("$ZodCheckMultipleOf",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===l.floatSafeRemainder(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckNumberFormat=o.$constructor("$ZodCheckNumberFormat",(e,t)=>{r.$ZodCheck.init(e,t),t.format=t.format||"float64";let n=t.format?.includes("int"),a=n?"int":"number",[i,o]=l.NUMBER_FORMAT_RANGES[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=o,n&&(r.pattern=s.integer)}),e._zod.check=r=>{let s=r.value;if(n){if(!Number.isInteger(s))return void r.issues.push({expected:a,format:t.format,code:"invalid_type",input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?r.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):r.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}))}s<i&&r.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>o&&r.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),r.$ZodCheckBigIntFormat=o.$constructor("$ZodCheckBigIntFormat",(e,t)=>{r.$ZodCheck.init(e,t);let[n,a]=l.BIGINT_FORMAT_RANGES[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=n,r.maximum=a}),e._zod.check=r=>{let i=r.value;i<n&&r.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),i>a&&r.issues.push({origin:"bigint",input:i,code:"too_big",maximum:a,inst:e})}}),r.$ZodCheckMaxSize=o.$constructor("$ZodCheckMaxSize",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;n.size<=t.maximum||r.issues.push({origin:l.getSizableOrigin(n),code:"too_big",maximum:t.maximum,input:n,inst:e,continue:!t.abort})}}),r.$ZodCheckMinSize=o.$constructor("$ZodCheckMinSize",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;n.size>=t.minimum||r.issues.push({origin:l.getSizableOrigin(n),code:"too_small",minimum:t.minimum,input:n,inst:e,continue:!t.abort})}}),r.$ZodCheckSizeEquals=o.$constructor("$ZodCheckSizeEquals",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let n=r.value,a=n.size;if(a===t.size)return;let i=a>t.size;r.issues.push({origin:l.getSizableOrigin(n),...i?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckMaxLength=o.$constructor("$ZodCheckMaxLength",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let a=l.getLengthableOrigin(n);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),r.$ZodCheckMinLength=o.$constructor("$ZodCheckMinLength",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let a=l.getLengthableOrigin(n);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),r.$ZodCheckLengthEquals=o.$constructor("$ZodCheckLengthEquals",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,a=n.length;if(a===t.length)return;let i=l.getLengthableOrigin(n),o=a>t.length;r.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckStringFormat=o.$constructor("$ZodCheckStringFormat",(e,t)=>{var n;r.$ZodCheck.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),(n=e._zod).check??(n.check=r=>{if(!t.pattern)throw Error("Not implemented.");t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})})}),r.$ZodCheckRegex=o.$constructor("$ZodCheckRegex",(e,t)=>{r.$ZodCheckStringFormat.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),r.$ZodCheckLowerCase=o.$constructor("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=s.lowercase),r.$ZodCheckStringFormat.init(e,t)}),r.$ZodCheckUpperCase=o.$constructor("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=s.uppercase),r.$ZodCheckStringFormat.init(e,t)}),r.$ZodCheckIncludes=o.$constructor("$ZodCheckIncludes",(e,t)=>{r.$ZodCheck.init(e,t);let n=l.escapeRegex(t.includes),a=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=a,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(a)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckStartsWith=o.$constructor("$ZodCheckStartsWith",(e,t)=>{r.$ZodCheck.init(e,t);let n=RegExp(`^${l.escapeRegex(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckEndsWith=o.$constructor("$ZodCheckEndsWith",(e,t)=>{r.$ZodCheck.init(e,t);let n=RegExp(`.*${l.escapeRegex(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),r.$ZodCheckProperty=o.$constructor("$ZodCheckProperty",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>d(r,e,t.property));d(r,e,t.property)}}),r.$ZodCheckMimeType=o.$constructor("$ZodCheckMimeType",(e,t)=>{r.$ZodCheck.init(e,t);let n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e})}}),r.$ZodCheckOverwrite=o.$constructor("$ZodCheckOverwrite",(e,t)=>{r.$ZodCheck.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}})},99432,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Doc=void 0,r.Doc=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}},99795,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version={major:4,minor:0,patch:0}},38306,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.$ZodEnum=r.$ZodSet=r.$ZodMap=r.$ZodRecord=r.$ZodTuple=r.$ZodIntersection=r.$ZodDiscriminatedUnion=r.$ZodUnion=r.$ZodObject=r.$ZodArray=r.$ZodDate=r.$ZodVoid=r.$ZodNever=r.$ZodUnknown=r.$ZodAny=r.$ZodNull=r.$ZodUndefined=r.$ZodSymbol=r.$ZodBigIntFormat=r.$ZodBigInt=r.$ZodBoolean=r.$ZodNumberFormat=r.$ZodNumber=r.$ZodJWT=r.$ZodE164=r.$ZodBase64URL=r.$ZodBase64=r.$ZodCIDRv6=r.$ZodCIDRv4=r.$ZodIPv6=r.$ZodIPv4=r.$ZodISODuration=r.$ZodISOTime=r.$ZodISODate=r.$ZodISODateTime=r.$ZodKSUID=r.$ZodXID=r.$ZodULID=r.$ZodCUID2=r.$ZodCUID=r.$ZodNanoID=r.$ZodEmoji=r.$ZodURL=r.$ZodEmail=r.$ZodUUID=r.$ZodGUID=r.$ZodStringFormat=r.$ZodString=r.clone=r.$ZodType=void 0,r.$ZodCustom=r.$ZodLazy=r.$ZodPromise=r.$ZodTemplateLiteral=r.$ZodReadonly=r.$ZodPipe=r.$ZodNaN=r.$ZodCatch=r.$ZodSuccess=r.$ZodNonOptional=r.$ZodPrefault=r.$ZodDefault=r.$ZodNullable=r.$ZodOptional=r.$ZodTransform=r.$ZodFile=r.$ZodLiteral=void 0,r.isValidBase64=h,r.isValidBase64URL=f,r.isValidJWT=g;let o=i(e.r(48185)),s=i(e.r(21020)),l=e.r(99432),u=e.r(11009),d=i(e.r(58458)),c=i(e.r(94247)),p=e.r(99795);r.$ZodType=s.$constructor("$ZodType",(e,t)=>{var r;e??(e={}),c.defineLazy(e._zod,"id",()=>t.type+"_"+c.randomString(10)),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=p.version;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,a=c.aborted(e);for(let i of t){if(i._zod.when){if(!i._zod.when(e))continue}else if(a)continue;let t=e.issues.length,o=i._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new s.$ZodAsyncError;if(n||o instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(a||(a=c.aborted(e,t)))});else{if(e.issues.length===t)continue;a||(a=c.aborted(e,t))}}return n?n.then(()=>e):e};e._zod.run=(r,a)=>{let i=e._zod.parse(r,a);if(i instanceof Promise){if(!1===a.async)throw new s.$ZodAsyncError;return i.then(e=>t(e,n,a))}return t(i,n,a)}}e["~standard"]={validate:t=>{try{let r=(0,u.safeParse)(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return(0,u.safeParseAsync)(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}});var m=e.r(94247);function h(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}function f(e){if(!d.base64url.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return h(t.padEnd(4*Math.ceil(t.length/4),"="))}function g(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r,a=JSON.parse(atob(n));if("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))return!1;return!0}catch{return!1}}function y(e,t,r){e.issues.length&&t.issues.push(...c.prefixIssues(r,e.issues)),t.value[r]=e.value}function v(e,t,r){e.issues.length&&t.issues.push(...c.prefixIssues(r,e.issues)),t.value[r]=e.value}function b(e,t,r,n){e.issues.length?void 0===n[r]?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...c.prefixIssues(r,e.issues)):void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function _(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>c.finalizeIssue(e,n,s.config())))}),t}function w(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),c.aborted(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(c.isPlainObject(t)&&c.isPlainObject(r)){let n=Object.keys(r),a=Object.keys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i[n]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let a=0;a<t.length;a++){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}function S(e,t,r){e.issues.length&&t.issues.push(...c.prefixIssues(r,e.issues)),t.value[r]=e.value}function k(e,t,r,n,a,i,o){e.issues.length&&(c.propertyKeyTypes.has(typeof n)?r.issues.push(...c.prefixIssues(n,e.issues)):r.issues.push({origin:"map",code:"invalid_key",input:a,inst:i,issues:e.issues.map(e=>c.finalizeIssue(e,o,s.config()))})),t.issues.length&&(c.propertyKeyTypes.has(typeof n)?r.issues.push(...c.prefixIssues(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:a,inst:i,key:n,issues:t.issues.map(e=>c.finalizeIssue(e,o,s.config()))})),r.value.set(e.value,t.value)}function x(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}function E(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}function T(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}function O(e,t,r){return c.aborted(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}function I(e){return e.value=Object.freeze(e.value),e}function P(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(c.issue(e))}}Object.defineProperty(r,"clone",{enumerable:!0,get:function(){return m.clone}}),r.$ZodString=s.$constructor("$ZodString",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??d.string(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),r.$ZodStringFormat=s.$constructor("$ZodStringFormat",(e,t)=>{o.$ZodCheckStringFormat.init(e,t),r.$ZodString.init(e,t)}),r.$ZodGUID=s.$constructor("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=d.guid),r.$ZodStringFormat.init(e,t)}),r.$ZodUUID=s.$constructor("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=d.uuid(e))}else t.pattern??(t.pattern=d.uuid());r.$ZodStringFormat.init(e,t)}),r.$ZodEmail=s.$constructor("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=d.email),r.$ZodStringFormat.init(e,t)}),r.$ZodURL=s.$constructor("$ZodURL",(e,t)=>{r.$ZodStringFormat.init(e,t),e._zod.check=r=>{try{let n=new URL(r.value);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:d.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort}));return}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),r.$ZodEmoji=s.$constructor("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=d.emoji()),r.$ZodStringFormat.init(e,t)}),r.$ZodNanoID=s.$constructor("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=d.nanoid),r.$ZodStringFormat.init(e,t)}),r.$ZodCUID=s.$constructor("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=d.cuid),r.$ZodStringFormat.init(e,t)}),r.$ZodCUID2=s.$constructor("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=d.cuid2),r.$ZodStringFormat.init(e,t)}),r.$ZodULID=s.$constructor("$ZodULID",(e,t)=>{t.pattern??(t.pattern=d.ulid),r.$ZodStringFormat.init(e,t)}),r.$ZodXID=s.$constructor("$ZodXID",(e,t)=>{t.pattern??(t.pattern=d.xid),r.$ZodStringFormat.init(e,t)}),r.$ZodKSUID=s.$constructor("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=d.ksuid),r.$ZodStringFormat.init(e,t)}),r.$ZodISODateTime=s.$constructor("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=d.datetime(t)),r.$ZodStringFormat.init(e,t),e._zod.check}),r.$ZodISODate=s.$constructor("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=d.date),r.$ZodStringFormat.init(e,t)}),r.$ZodISOTime=s.$constructor("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=d.time(t)),r.$ZodStringFormat.init(e,t),e._zod.check}),r.$ZodISODuration=s.$constructor("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=d.duration),r.$ZodStringFormat.init(e,t)}),r.$ZodIPv4=s.$constructor("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=d.ipv4),r.$ZodStringFormat.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),r.$ZodIPv6=s.$constructor("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=d.ipv6),r.$ZodStringFormat.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),r.$ZodCIDRv4=s.$constructor("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=d.cidrv4),r.$ZodStringFormat.init(e,t)}),r.$ZodCIDRv6=s.$constructor("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=d.cidrv6),r.$ZodStringFormat.init(e,t),e._zod.check=r=>{let[n,a]=r.value.split("/");try{if(!a)throw Error();let e=Number(a);if(`${e}`!==a||e<0||e>128)throw Error();new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}}),r.$ZodBase64=s.$constructor("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=d.base64),r.$ZodStringFormat.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{h(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}}),r.$ZodBase64URL=s.$constructor("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=d.base64url),r.$ZodStringFormat.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{f(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),r.$ZodE164=s.$constructor("$ZodE164",(e,t)=>{t.pattern??(t.pattern=d.e164),r.$ZodStringFormat.init(e,t)}),r.$ZodJWT=s.$constructor("$ZodJWT",(e,t)=>{r.$ZodStringFormat.init(e,t),e._zod.check=r=>{g(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),r.$ZodNumber=s.$constructor("$ZodNumber",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=e._zod.bag.pattern??d.number,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let a=r.value;if("number"==typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return r;let i="number"==typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),r.$ZodNumberFormat=s.$constructor("$ZodNumber",(e,t)=>{o.$ZodCheckNumberFormat.init(e,t),r.$ZodNumber.init(e,t)}),r.$ZodBoolean=s.$constructor("$ZodBoolean",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=d.boolean,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let a=r.value;return"boolean"==typeof a||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),r.$ZodBigInt=s.$constructor("$ZodBigInt",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=d.bigint,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}let{value:a}=r;return"bigint"==typeof a||r.issues.push({expected:"bigint",code:"invalid_type",input:a,inst:e}),r}}),r.$ZodBigIntFormat=s.$constructor("$ZodBigInt",(e,t)=>{o.$ZodCheckBigIntFormat.init(e,t),r.$ZodBigInt.init(e,t)}),r.$ZodSymbol=s.$constructor("$ZodSymbol",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(t,r)=>{let{value:n}=t;return"symbol"==typeof n||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),r.$ZodUndefined=s.$constructor("$ZodUndefined",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=d.undefined,e._zod.values=new Set([void 0]),e._zod.parse=(t,r)=>{let{value:n}=t;return void 0===n||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),r.$ZodNull=s.$constructor("$ZodNull",(e,t)=>{r.$ZodType.init(e,t),e._zod.pattern=d.null,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let{value:n}=t;return null===n||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),r.$ZodAny=s.$constructor("$ZodAny",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=e=>e}),r.$ZodUnknown=s.$constructor("$ZodUnknown",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=e=>e}),r.$ZodNever=s.$constructor("$ZodNever",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),r.$ZodVoid=s.$constructor("$ZodVoid",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(t,r)=>{let{value:n}=t;return void 0===n||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),r.$ZodDate=s.$constructor("$ZodDate",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let a=r.value,i=a instanceof Date;return i&&!Number.isNaN(a.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:a,...i?{received:"Invalid Date"}:{},inst:e}),r}}),r.$ZodArray=s.$constructor("$ZodArray",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(r,n)=>{let a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);let i=[];for(let e=0;e<a.length;e++){let o=a[e],s=t.element._zod.run({value:o,issues:[]},n);s instanceof Promise?i.push(s.then(t=>y(t,r,e))):y(s,r,e)}return i.length?Promise.all(i).then(()=>r):r}}),r.$ZodObject=s.$constructor("$ZodObject",(e,t)=>{let n,a;r.$ZodType.init(e,t);let i=c.cached(()=>{let e=Object.keys(t.shape);for(let n of e)if(!(t.shape[n]instanceof r.$ZodType))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=c.optionalKeys(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}});c.defineLazy(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let o=c.isObject,u=!s.globalConfig.jitless,d=c.allowsEval,p=u&&d.value,{catchall:m}=t;e._zod.parse=(r,s)=>{a??(a=i.value);let d=r.value;if(!o(d))return r.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),r;let h=[];if(u&&p&&s?.async===!1&&!0!==s.jitless)n||(n=(e=>{let t=new l.Doc(["shape","payload","ctx"]),{keys:r,optionalKeys:n}=i.value,a=e=>{let t=c.esc(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let o=Object.create(null);for(let e of r)o[e]=c.randomString(15);for(let e of(t.write("const newResult = {}"),r))if(n.has(e)){let r=o[e];t.write(`const ${r} = ${a(e)};`);let n=c.esc(e);t.write(`
        if (${r}.issues.length) {
          if (input[${n}] === undefined) {
            if (${n} in input) {
              newResult[${n}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${n}, ...iss.path] : [${n}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${n} in input) newResult[${n}] = undefined;
        } else {
          newResult[${n}] = ${r}.value;
        }
        `)}else{let r=o[e];t.write(`const ${r} = ${a(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${c.esc(e)}, ...iss.path] : [${c.esc(e)}]
          })));`),t.write(`newResult[${c.esc(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)})(t.shape)),r=n(r,s);else{r.value={};let e=a.shape;for(let t of a.keys){let n=e[t],a=n._zod.run({value:d[t],issues:[]},s),i="optional"===n._zod.optin&&"optional"===n._zod.optout;a instanceof Promise?h.push(a.then(e=>i?b(e,r,t,d):v(e,r,t))):i?b(a,r,t,d):v(a,r,t)}}if(!m)return h.length?Promise.all(h).then(()=>r):r;let f=[],g=a.keySet,y=m._zod,_=y.def.type;for(let e of Object.keys(d)){if(g.has(e))continue;if("never"===_){f.push(e);continue}let t=y.run({value:d[e],issues:[]},s);t instanceof Promise?h.push(t.then(t=>v(t,r,e))):v(t,r,e)}return(f.length&&r.issues.push({code:"unrecognized_keys",keys:f,input:d,inst:e}),h.length)?Promise.all(h).then(()=>r):r}}),r.$ZodUnion=s.$constructor("$ZodUnion",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),c.defineLazy(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>c.cleanRegex(e.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let a=!1,i=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},n);if(t instanceof Promise)i.push(t),a=!0;else{if(0===t.issues.length)return t;i.push(t)}}return a?Promise.all(i).then(t=>_(t,r,e,n)):_(i,r,e,n)}}),r.$ZodDiscriminatedUnion=s.$constructor("$ZodDiscriminatedUnion",(e,t)=>{r.$ZodUnion.init(e,t);let n=e._zod.parse;c.defineLazy(e._zod,"propValues",()=>{let e={};for(let r of t.options){let n=r._zod.propValues;if(!n||0===Object.keys(n).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(n))for(let n of(e[t]||(e[t]=new Set),r))e[t].add(n)}return e});let a=c.cached(()=>{let e=t.options,r=new Map;for(let n of e){let e=n._zod.propValues[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,n)}}return r});e._zod.parse=(r,i)=>{let o=r.value;if(!c.isObject(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),r;let s=a.value.get(o?.[t.discriminator]);return s?s._zod.run(r,i):t.unionFallback?n(r,i):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),r)}}),r.$ZodIntersection=s.$constructor("$ZodIntersection",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(e,r)=>{let{value:n}=e,a=t.left._zod.run({value:n,issues:[]},r),i=t.right._zod.run({value:n,issues:[]},r);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([t,r])=>w(e,t,r)):w(e,a,i)}}),r.$ZodTuple=s.$constructor("$ZodTuple",(e,t)=>{r.$ZodType.init(e,t);let n=t.items,a=n.length-[...n].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(r,i)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];let s=[];if(!t.rest){let t=o.length>n.length,i=o.length<a-1;if(t||i)return r.issues.push({input:o,inst:e,origin:"array",...t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),r}let l=-1;for(let e of n){if(++l>=o.length&&l>=a)continue;let t=e._zod.run({value:o[l],issues:[]},i);t instanceof Promise?s.push(t.then(e=>S(e,r,l))):S(t,r,l)}if(t.rest)for(let e of o.slice(n.length)){l++;let n=t.rest._zod.run({value:e,issues:[]},i);n instanceof Promise?s.push(n.then(e=>S(e,r,l))):S(n,r,l)}return s.length?Promise.all(s).then(()=>r):r}}),r.$ZodRecord=s.$constructor("$ZodRecord",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(r,n)=>{let a=r.value;if(!c.isPlainObject(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;let i=[];if(t.keyType._zod.values){let o,s=t.keyType._zod.values;for(let e of(r.value={},s))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let o=t.valueType._zod.run({value:a[e],issues:[]},n);o instanceof Promise?i.push(o.then(t=>{t.issues.length&&r.issues.push(...c.prefixIssues(e,t.issues)),r.value[e]=t.value})):(o.issues.length&&r.issues.push(...c.prefixIssues(e,o.issues)),r.value[e]=o.value)}for(let e in a)s.has(e)||(o=o??[]).push(e);o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:o})}else for(let o of(r.value={},Reflect.ownKeys(a))){if("__proto__"===o)continue;let l=t.keyType._zod.run({value:o,issues:[]},n);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:l.issues.map(e=>c.finalizeIssue(e,n,s.config())),input:o,path:[o],inst:e}),r.value[l.value]=l.value;continue}let u=t.valueType._zod.run({value:a[o],issues:[]},n);u instanceof Promise?i.push(u.then(e=>{e.issues.length&&r.issues.push(...c.prefixIssues(o,e.issues)),r.value[l.value]=e.value})):(u.issues.length&&r.issues.push(...c.prefixIssues(o,u.issues)),r.value[l.value]=u.value)}return i.length?Promise.all(i).then(()=>r):r}}),r.$ZodMap=s.$constructor("$ZodMap",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(r,n)=>{let a=r.value;if(!(a instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:a,inst:e}),r;let i=[];for(let[o,s]of(r.value=new Map,a)){let l=t.keyType._zod.run({value:o,issues:[]},n),u=t.valueType._zod.run({value:s,issues:[]},n);l instanceof Promise||u instanceof Promise?i.push(Promise.all([l,u]).then(([t,i])=>{k(t,i,r,o,a,e,n)})):k(l,u,r,o,a,e,n)}return i.length?Promise.all(i).then(()=>r):r}}),r.$ZodSet=s.$constructor("$ZodSet",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(r,n)=>{let a=r.value;if(!(a instanceof Set))return r.issues.push({input:a,inst:e,expected:"set",code:"invalid_type"}),r;let i=[];for(let e of(r.value=new Set,a)){let a=t.valueType._zod.run({value:e,issues:[]},n);a instanceof Promise?i.push(a.then(e=>x(e,r))):x(a,r)}return i.length?Promise.all(i).then(()=>r):r}}),r.$ZodEnum=s.$constructor("$ZodEnum",(e,t)=>{r.$ZodType.init(e,t);let n=c.getEnumValues(t.entries);e._zod.values=new Set(n),e._zod.pattern=RegExp(`^(${n.filter(e=>c.propertyKeyTypes.has(typeof e)).map(e=>"string"==typeof e?c.escapeRegex(e):e.toString()).join("|")})$`),e._zod.parse=(t,r)=>{let a=t.value;return e._zod.values.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}}),r.$ZodLiteral=s.$constructor("$ZodLiteral",(e,t)=>{r.$ZodType.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?c.escapeRegex(e):e?e.toString():String(e)).join("|")})$`),e._zod.parse=(r,n)=>{let a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),r.$ZodFile=s.$constructor("$ZodFile",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),r.$ZodTransform=s.$constructor("$ZodTransform",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(e,r)=>{let n=t.transform(e.value,e);if(r.async)return(n instanceof Promise?n:Promise.resolve(n)).then(t=>(e.value=t,e));if(n instanceof Promise)throw new s.$ZodAsyncError;return e.value=n,e}}),r.$ZodOptional=s.$constructor("$ZodOptional",(e,t)=>{r.$ZodType.init(e,t),e._zod.optin="optional",e._zod.optout="optional",c.defineLazy(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),c.defineLazy(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${c.cleanRegex(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>void 0===e.value?e:t.innerType._zod.run(e,r)}),r.$ZodNullable=s.$constructor("$ZodNullable",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"optin",()=>t.innerType._zod.optin),c.defineLazy(e._zod,"optout",()=>t.innerType._zod.optout),c.defineLazy(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${c.cleanRegex(e.source)}|null)$`):void 0}),c.defineLazy(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),r.$ZodDefault=s.$constructor("$ZodDefault",(e,t)=>{r.$ZodType.init(e,t),e._zod.optin="optional",c.defineLazy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>E(e,t)):E(n,t)}}),r.$ZodPrefault=s.$constructor("$ZodPrefault",(e,t)=>{r.$ZodType.init(e,t),e._zod.optin="optional",c.defineLazy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),r.$ZodNonOptional=s.$constructor("$ZodNonOptional",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(t=>T(t,e)):T(a,e)}}),r.$ZodSuccess=s.$constructor("$ZodSuccess",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===n.issues.length,e)}}),r.$ZodCatch=s.$constructor("$ZodCatch",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"optin",()=>t.innerType._zod.optin),c.defineLazy(e._zod,"optout",()=>t.innerType._zod.optout),c.defineLazy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>c.finalizeIssue(e,r,s.config()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>c.finalizeIssue(e,r,s.config()))},input:e.value}),e.issues=[]),e)}}),r.$ZodNaN=s.$constructor("$ZodNaN",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),r.$ZodPipe=s.$constructor("$ZodPipe",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"values",()=>t.in._zod.values),c.defineLazy(e._zod,"optin",()=>t.in._zod.optin),c.defineLazy(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,r)=>{let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>O(e,t,r)):O(n,t,r)}}),r.$ZodReadonly=s.$constructor("$ZodReadonly",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"propValues",()=>t.innerType._zod.propValues),c.defineLazy(e._zod,"optin",()=>t.innerType._zod.optin),c.defineLazy(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(I):I(n)}}),r.$ZodTemplateLiteral=s.$constructor("$ZodTemplateLiteral",(e,t)=>{r.$ZodType.init(e,t);let n=[];for(let e of t.parts)if(e instanceof r.$ZodType){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let r=+!!t.startsWith("^"),a=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,a))}else if(null===e||c.primitiveTypes.has(typeof e))n.push(c.escapeRegex(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${n.join("")}$`),e._zod.parse=(t,r)=>("string"!=typeof t.value?t.issues.push({input:t.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(t.value)||t.issues.push({input:t.value,inst:e,code:"invalid_format",format:"template_literal",pattern:e._zod.pattern.source})),t)}),r.$ZodPromise=s.$constructor("$ZodPromise",(e,t)=>{r.$ZodType.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),r.$ZodLazy=s.$constructor("$ZodLazy",(e,t)=>{r.$ZodType.init(e,t),c.defineLazy(e._zod,"innerType",()=>t.getter()),c.defineLazy(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),c.defineLazy(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),c.defineLazy(e._zod,"optin",()=>e._zod.innerType._zod.optin),c.defineLazy(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),r.$ZodCustom=s.$constructor("$ZodCustom",(e,t)=>{o.$ZodCheck.init(e,t),r.$ZodType.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(t=>P(t,r,n,e));P(a,r,n,e)}})},84457,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${o.stringifyPrimitive(r.values[0])}`;return`  :     : ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${n.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${o.joinValues(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}};let o=i(e.r(94247))},66589,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${o.stringifyPrimitive(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}};let o=i(e.r(94247))},46428,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])}`;return` :    ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=s(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin??""}  ${n.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=s(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin}  ${n.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}};let o=i(e.r(94247));function s(e,t,r,n){let a=Math.abs(e),i=a%10,o=a%100;return o>=11&&o<=19?n:1===i?t:i>=2&&i<=4?r:n}},61219,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${o.stringifyPrimitive(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${o.joinValues(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",n=e[r.origin]??null;if(n)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",n=e[r.origin]??null;if(n)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}};let o=i(e.r(94247))},40251,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${o.stringifyPrimitive(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}};let o=i(e.r(94247))},22428,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${o.stringifyPrimitive(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}};let o=i(e.r(94247))},82284,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.parsedType=void 0,r.default=function(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${(0,r.parsedType)(n.input)}`;case"invalid_value":if(1===n.values.length)return`Invalid input: expected ${o.stringifyPrimitive(n.values[0])}`;return`Invalid option: expected one of ${o.joinValues(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",r=e[n.origin]??null;if(r)return`Too big: expected ${n.origin??"value"} to have ${t}${n.maximum.toString()} ${r.unit??"elements"}`;return`Too big: expected ${n.origin??"value"} to be ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",r=e[n.origin]??null;if(r)return`Too small: expected ${n.origin} to have ${t}${n.minimum.toString()} ${r.unit}`;return`Too small: expected ${n.origin} to be ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Invalid string: must start with "${n.prefix}"`;if("ends_with"===n.format)return`Invalid string: must end with "${n.suffix}"`;if("includes"===n.format)return`Invalid string: must include "${n.includes}"`;if("regex"===n.format)return`Invalid string: must match pattern ${n.pattern}`;return`Invalid ${t[n.format]??n.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${o.joinValues(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`}})}};let o=i(e.r(94247));r.parsedType=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t}},90975,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r.expected}, recibido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"arreglo";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: se esperaba ${o.stringifyPrimitive(r.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Demasiado grande: se esperaba que ${r.origin??"valor"} tuviera ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${r.origin??"valor"} fuera ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Demasiado peque\xf1o: se esperaba que ${r.origin} tuviera ${t}${r.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${r.origin} fuera ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cadena inv\xe1lida: debe comenzar con "${r.prefix}"`;if("ends_with"===r.format)return`Cadena inv\xe1lida: debe terminar en "${r.suffix}"`;if("includes"===r.format)return`Cadena inv\xe1lida: debe incluir "${r.includes}"`;if("regex"===r.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${r.pattern}`;return`Inv\xe1lido ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Llave${r.keys.length>1?"s":""} desconocida${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r.origin}`;default:return`Entrada inv\xe1lida`}})}};let o=i(e.r(94247))},37098,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])} `;return` :    ${o.joinValues(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}};let o=i(e.r(94247))},94262,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${o.stringifyPrimitive(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}};let o=i(e.r(94247))},83940,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${o.stringifyPrimitive(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${o.joinValues(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Trop grand : ${r.origin??"valeur"} doit ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Trop petit : ${r.origin} doit ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}};let o=i(e.r(94247))},19161,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${o.stringifyPrimitive(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",n=e[r.origin]??null;if(n)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",n=e[r.origin]??null;if(n)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}};let o=i(e.r(94247))},50758,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${o.stringifyPrimitive(r.values[0])}`;return`  :     ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??"value"}   ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return` : ${r.origin??"value"}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` : ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :   "${r.prefix}"`;if("ends_with"===r.format)return`  :    "${r.suffix}"`;if("includes"===r.format)return`  :   "${r.includes}"`;if("regex"===r.format)return`  :    ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :     ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}  ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}};let o=i(e.r(94247))},97993,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${o.stringifyPrimitive(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}};let o=i(e.r(94247))},10325,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${o.stringifyPrimitive(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}};let o=i(e.r(94247))},29513,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${o.stringifyPrimitive(r.values[0])}`;return`Opzione non valida: atteso uno tra ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}};let o=i(e.r(94247))},67260,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${o.stringifyPrimitive(r.values[0])}`;return`: ${o.joinValues(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""}${r.maximum.toString()}${n.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin}${r.minimum.toString()}${n.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${o.joinValues(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}};let o=i(e.r(94247))},79111,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${o.stringifyPrimitive(r.values[0])}`;return`  ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${o.joinValues(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}};let o=i(e.r(94247))},85556,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])}  `;return` : ${o.joinValues(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",n=""===t?" ":" ",a=e[r.origin]??null,i=a?.unit??"";if(a)return`${r.origin??""}  : ${r.maximum.toString()}${i} ${t}${n}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${n}`}case"too_small":{let t=r.inclusive?"":"",n=""===t?" ":" ",a=e[r.origin]??null,i=a?.unit??"";if(a)return`${r.origin??""}  : ${r.minimum.toString()}${i} ${t}${n}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${n}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${o.joinValues(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}};let o=i(e.r(94247))},85081,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${o.stringifyPrimitive(r.values[0])}`;return` :    ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}};let o=i(e.r(94247))},58983,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${o.stringifyPrimitive(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: dijangka ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}};let o=i(e.r(94247))},47774,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${o.stringifyPrimitive(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} ${n.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} ${n.unit} bevat`;return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}};let o=i(e.r(94247))},94373,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${o.stringifyPrimitive(r.values[0])}`;return`Ugyldig valg: forventet en av ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}};let o=i(e.r(94247))},79712,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${o.stringifyPrimitive(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${n.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${n.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}};let o=i(e.r(94247))},85449,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])} `;return` :    ${o.joinValues(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}};let o=i(e.r(94247))},50219,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${o.stringifyPrimitive(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${n.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${n.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}};let o=i(e.r(94247))},40867,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${o.stringifyPrimitive(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}};let o=i(e.r(94247))},14936,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])}`;return` :    ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=s(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=s(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}};let o=i(e.r(94247));function s(e,t,r,n){let a=Math.abs(e),i=a%10,o=a%100;return o>=11&&o<=19?n:1===i?t:i>=2&&i<=4?r:n}},20838,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${o.stringifyPrimitive(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${n.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}};let o=i(e.r(94247))},43269,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${o.stringifyPrimitive(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}};let o=i(e.r(94247))},20194,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${o.stringifyPrimitive(r.values[0])}`;return` :  ${o.joinValues(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${t}${r.minimum.toString()} ${n.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}};let o=i(e.r(94247))},1506,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${o.stringifyPrimitive(r.values[0])}`;return`:  ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}};let o=i(e.r(94247))},94299,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.parsedType=void 0,r.default=function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},n=>{switch(n.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${n.expected}, alnan ${(0,r.parsedType)(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ge\xe7ersiz deer: beklenen ${o.stringifyPrimitive(n.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${o.joinValues(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",r=e[n.origin]??null;if(r)return`\xc7ok b\xfcy\xfck: beklenen ${n.origin??"deer"} ${t}${n.maximum.toString()} ${r.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${n.origin??"deer"} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",r=e[n.origin]??null;if(r)return`\xc7ok k\xfc\xe7\xfck: beklenen ${n.origin} ${t}${n.minimum.toString()} ${r.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ge\xe7ersiz metin: "${n.prefix}" ile balamal`;if("ends_with"===n.format)return`Ge\xe7ersiz metin: "${n.suffix}" ile bitmeli`;if("includes"===n.format)return`Ge\xe7ersiz metin: "${n.includes}" i\xe7ermeli`;if("regex"===n.format)return`Ge\xe7ersiz metin: ${n.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[n.format]??n.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${n.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${o.joinValues(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}};let o=i(e.r(94247));r.parsedType=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t}},55702,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${o.stringifyPrimitive(r.values[0])}`;return` :    ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ,  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ,  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}};let o=i(e.r(94247))},28218,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${o.stringifyPrimitive(r.values[0])}  `;return` : ${o.joinValues(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${o.joinValues(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}};let o=i(e.r(94247))},81635,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${o.stringifyPrimitive(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Qu\xe1 nh: mong i ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}};let o=i(e.r(94247))},74862,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${o.stringifyPrimitive(r.values[0])}`;return` ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${o.joinValues(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}};let o=i(e.r(94247))},94485,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${o.stringifyPrimitive(r.values[0])}`;return` ${o.joinValues(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${o.joinValues(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}};let o=i(e.r(94247))},30803,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.zhTW=r.zhCN=r.vi=r.ur=r.ua=r.tr=r.th=r.ta=r.sv=r.sl=r.ru=r.pt=r.pl=r.ps=r.ota=r.no=r.nl=r.ms=r.mk=r.ko=r.kh=r.ja=r.it=r.id=r.hu=r.he=r.frCA=r.fr=r.fi=r.fa=r.es=r.en=r.de=r.cs=r.ca=r.be=r.az=r.ar=void 0;var a=e.r(84457);Object.defineProperty(r,"ar",{enumerable:!0,get:function(){return n(a).default}});var i=e.r(66589);Object.defineProperty(r,"az",{enumerable:!0,get:function(){return n(i).default}});var o=e.r(46428);Object.defineProperty(r,"be",{enumerable:!0,get:function(){return n(o).default}});var s=e.r(61219);Object.defineProperty(r,"ca",{enumerable:!0,get:function(){return n(s).default}});var l=e.r(40251);Object.defineProperty(r,"cs",{enumerable:!0,get:function(){return n(l).default}});var u=e.r(22428);Object.defineProperty(r,"de",{enumerable:!0,get:function(){return n(u).default}});var d=e.r(82284);Object.defineProperty(r,"en",{enumerable:!0,get:function(){return n(d).default}});var c=e.r(90975);Object.defineProperty(r,"es",{enumerable:!0,get:function(){return n(c).default}});var p=e.r(37098);Object.defineProperty(r,"fa",{enumerable:!0,get:function(){return n(p).default}});var m=e.r(94262);Object.defineProperty(r,"fi",{enumerable:!0,get:function(){return n(m).default}});var h=e.r(83940);Object.defineProperty(r,"fr",{enumerable:!0,get:function(){return n(h).default}});var f=e.r(19161);Object.defineProperty(r,"frCA",{enumerable:!0,get:function(){return n(f).default}});var g=e.r(50758);Object.defineProperty(r,"he",{enumerable:!0,get:function(){return n(g).default}});var y=e.r(97993);Object.defineProperty(r,"hu",{enumerable:!0,get:function(){return n(y).default}});var v=e.r(10325);Object.defineProperty(r,"id",{enumerable:!0,get:function(){return n(v).default}});var b=e.r(29513);Object.defineProperty(r,"it",{enumerable:!0,get:function(){return n(b).default}});var _=e.r(67260);Object.defineProperty(r,"ja",{enumerable:!0,get:function(){return n(_).default}});var w=e.r(79111);Object.defineProperty(r,"kh",{enumerable:!0,get:function(){return n(w).default}});var S=e.r(85556);Object.defineProperty(r,"ko",{enumerable:!0,get:function(){return n(S).default}});var k=e.r(85081);Object.defineProperty(r,"mk",{enumerable:!0,get:function(){return n(k).default}});var x=e.r(58983);Object.defineProperty(r,"ms",{enumerable:!0,get:function(){return n(x).default}});var E=e.r(47774);Object.defineProperty(r,"nl",{enumerable:!0,get:function(){return n(E).default}});var T=e.r(94373);Object.defineProperty(r,"no",{enumerable:!0,get:function(){return n(T).default}});var O=e.r(79712);Object.defineProperty(r,"ota",{enumerable:!0,get:function(){return n(O).default}});var I=e.r(85449);Object.defineProperty(r,"ps",{enumerable:!0,get:function(){return n(I).default}});var P=e.r(50219);Object.defineProperty(r,"pl",{enumerable:!0,get:function(){return n(P).default}});var C=e.r(40867);Object.defineProperty(r,"pt",{enumerable:!0,get:function(){return n(C).default}});var A=e.r(14936);Object.defineProperty(r,"ru",{enumerable:!0,get:function(){return n(A).default}});var j=e.r(20838);Object.defineProperty(r,"sl",{enumerable:!0,get:function(){return n(j).default}});var z=e.r(43269);Object.defineProperty(r,"sv",{enumerable:!0,get:function(){return n(z).default}});var R=e.r(20194);Object.defineProperty(r,"ta",{enumerable:!0,get:function(){return n(R).default}});var N=e.r(1506);Object.defineProperty(r,"th",{enumerable:!0,get:function(){return n(N).default}});var $=e.r(94299);Object.defineProperty(r,"tr",{enumerable:!0,get:function(){return n($).default}});var M=e.r(55702);Object.defineProperty(r,"ua",{enumerable:!0,get:function(){return n(M).default}});var D=e.r(28218);Object.defineProperty(r,"ur",{enumerable:!0,get:function(){return n(D).default}});var F=e.r(81635);Object.defineProperty(r,"vi",{enumerable:!0,get:function(){return n(F).default}});var U=e.r(74862);Object.defineProperty(r,"zhCN",{enumerable:!0,get:function(){return n(U).default}});var L=e.r(94485);Object.defineProperty(r,"zhTW",{enumerable:!0,get:function(){return n(L).default}})},77168,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.globalRegistry=r.$ZodRegistry=r.$input=r.$output=void 0,r.registry=a,r.$output=Symbol("ZodOutput"),r.$input=Symbol("ZodInput");class n{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function a(){return new n}r.$ZodRegistry=n,r.globalRegistry=a()},19480,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.TimePrecision=void 0,r._string=function(e,t){return new e({type:"string",...l.normalizeParams(t)})},r._coercedString=function(e,t){return new e({type:"string",coerce:!0,...l.normalizeParams(t)})},r._email=function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._guid=function(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._uuid=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._uuidv4=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...l.normalizeParams(t)})},r._uuidv6=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...l.normalizeParams(t)})},r._uuidv7=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...l.normalizeParams(t)})},r._url=function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._emoji=function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._nanoid=function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._cuid=function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._cuid2=function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._ulid=function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._xid=function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._ksuid=function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._ipv4=function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._ipv6=function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._cidrv4=function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._cidrv6=function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._base64=function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._base64url=function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._e164=function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._jwt=function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...l.normalizeParams(t)})},r._isoDateTime=function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...l.normalizeParams(t)})},r._isoDate=function(e,t){return new e({type:"string",format:"date",check:"string_format",...l.normalizeParams(t)})},r._isoTime=function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...l.normalizeParams(t)})},r._isoDuration=function(e,t){return new e({type:"string",format:"duration",check:"string_format",...l.normalizeParams(t)})},r._number=function(e,t){return new e({type:"number",checks:[],...l.normalizeParams(t)})},r._coercedNumber=function(e,t){return new e({type:"number",coerce:!0,checks:[],...l.normalizeParams(t)})},r._int=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...l.normalizeParams(t)})},r._float32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...l.normalizeParams(t)})},r._float64=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...l.normalizeParams(t)})},r._int32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...l.normalizeParams(t)})},r._uint32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...l.normalizeParams(t)})},r._boolean=function(e,t){return new e({type:"boolean",...l.normalizeParams(t)})},r._coercedBoolean=function(e,t){return new e({type:"boolean",coerce:!0,...l.normalizeParams(t)})},r._bigint=function(e,t){return new e({type:"bigint",...l.normalizeParams(t)})},r._coercedBigint=function(e,t){return new e({type:"bigint",coerce:!0,...l.normalizeParams(t)})},r._int64=function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...l.normalizeParams(t)})},r._uint64=function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...l.normalizeParams(t)})},r._symbol=function(e,t){return new e({type:"symbol",...l.normalizeParams(t)})},r._undefined=function(e,t){return new e({type:"undefined",...l.normalizeParams(t)})},r._null=function(e,t){return new e({type:"null",...l.normalizeParams(t)})},r._any=function(e){return new e({type:"any"})},r._unknown=function(e){return new e({type:"unknown"})},r._never=function(e,t){return new e({type:"never",...l.normalizeParams(t)})},r._void=function(e,t){return new e({type:"void",...l.normalizeParams(t)})},r._date=function(e,t){return new e({type:"date",...l.normalizeParams(t)})},r._coercedDate=function(e,t){return new e({type:"date",coerce:!0,...l.normalizeParams(t)})},r._nan=function(e,t){return new e({type:"nan",...l.normalizeParams(t)})},r._lt=u,r._lte=d,r._max=d,r._lte=d,r._max=d,r._gt=c,r._gte=p,r._min=p,r._gte=p,r._min=p,r._positive=function(e){return c(0,e)},r._negative=function(e){return u(0,e)},r._nonpositive=function(e){return d(0,e)},r._nonnegative=function(e){return p(0,e)},r._multipleOf=function(e,t){return new o.$ZodCheckMultipleOf({check:"multiple_of",...l.normalizeParams(t),value:e})},r._maxSize=function(e,t){return new o.$ZodCheckMaxSize({check:"max_size",...l.normalizeParams(t),maximum:e})},r._minSize=function(e,t){return new o.$ZodCheckMinSize({check:"min_size",...l.normalizeParams(t),minimum:e})},r._size=function(e,t){return new o.$ZodCheckSizeEquals({check:"size_equals",...l.normalizeParams(t),size:e})},r._maxLength=function(e,t){return new o.$ZodCheckMaxLength({check:"max_length",...l.normalizeParams(t),maximum:e})},r._minLength=function(e,t){return new o.$ZodCheckMinLength({check:"min_length",...l.normalizeParams(t),minimum:e})},r._length=function(e,t){return new o.$ZodCheckLengthEquals({check:"length_equals",...l.normalizeParams(t),length:e})},r._regex=function(e,t){return new o.$ZodCheckRegex({check:"string_format",format:"regex",...l.normalizeParams(t),pattern:e})},r._lowercase=function(e){return new o.$ZodCheckLowerCase({check:"string_format",format:"lowercase",...l.normalizeParams(e)})},r._uppercase=function(e){return new o.$ZodCheckUpperCase({check:"string_format",format:"uppercase",...l.normalizeParams(e)})},r._includes=function(e,t){return new o.$ZodCheckIncludes({check:"string_format",format:"includes",...l.normalizeParams(t),includes:e})},r._startsWith=function(e,t){return new o.$ZodCheckStartsWith({check:"string_format",format:"starts_with",...l.normalizeParams(t),prefix:e})},r._endsWith=function(e,t){return new o.$ZodCheckEndsWith({check:"string_format",format:"ends_with",...l.normalizeParams(t),suffix:e})},r._property=function(e,t,r){return new o.$ZodCheckProperty({check:"property",property:e,schema:t,...l.normalizeParams(r)})},r._mime=function(e,t){return new o.$ZodCheckMimeType({check:"mime_type",mime:e,...l.normalizeParams(t)})},r._overwrite=m,r._normalize=function(e){return m(t=>t.normalize(e))},r._trim=function(){return m(e=>e.trim())},r._toLowerCase=function(){return m(e=>e.toLowerCase())},r._toUpperCase=function(){return m(e=>e.toUpperCase())},r._array=function(e,t,r){return new e({type:"array",element:t,...l.normalizeParams(r)})},r._union=function(e,t,r){return new e({type:"union",options:t,...l.normalizeParams(r)})},r._discriminatedUnion=function(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...l.normalizeParams(n)})},r._intersection=function(e,t,r){return new e({type:"intersection",left:t,right:r})},r._tuple=function(e,t,r,n){let a=r instanceof s.$ZodType,i=a?n:r;return new e({type:"tuple",items:t,rest:a?r:null,...l.normalizeParams(i)})},r._record=function(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...l.normalizeParams(n)})},r._map=function(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...l.normalizeParams(n)})},r._set=function(e,t,r){return new e({type:"set",valueType:t,...l.normalizeParams(r)})},r._enum=function(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...l.normalizeParams(r)})},r._nativeEnum=function(e,t,r){return new e({type:"enum",entries:t,...l.normalizeParams(r)})},r._literal=function(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...l.normalizeParams(r)})},r._file=function(e,t){return new e({type:"file",...l.normalizeParams(t)})},r._transform=function(e,t){return new e({type:"transform",transform:t})},r._optional=function(e,t){return new e({type:"optional",innerType:t})},r._nullable=function(e,t){return new e({type:"nullable",innerType:t})},r._default=function(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():r}})},r._nonoptional=function(e,t,r){return new e({type:"nonoptional",innerType:t,...l.normalizeParams(r)})},r._success=function(e,t){return new e({type:"success",innerType:t})},r._catch=function(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})},r._pipe=function(e,t,r){return new e({type:"pipe",in:t,out:r})},r._readonly=function(e,t){return new e({type:"readonly",innerType:t})},r._templateLiteral=function(e,t,r){return new e({type:"template_literal",parts:t,...l.normalizeParams(r)})},r._lazy=function(e,t){return new e({type:"lazy",getter:t})},r._promise=function(e,t){return new e({type:"promise",innerType:t})},r._custom=function(e,t,r){let n=l.normalizeParams(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})},r._refine=function(e,t,r){return new e({type:"custom",check:"custom",fn:t,...l.normalizeParams(r)})},r._stringbool=function(e,t){let{case:r,error:n,truthy:a,falsy:i}=l.normalizeParams(t),o=a??["true","1","yes","on","y","enabled"],u=i??["false","0","no","off","n","disabled"];"sensitive"!==r&&(o=o.map(e=>"string"==typeof e?e.toLowerCase():e),u=u.map(e=>"string"==typeof e?e.toLowerCase():e));let d=new Set(o),c=new Set(u),p=e.Pipe??s.$ZodPipe,m=e.Boolean??s.$ZodBoolean,h=e.String??s.$ZodString,f=new(e.Transform??s.$ZodTransform)({type:"transform",transform:(e,t)=>{let n=e;return"sensitive"!==r&&(n=n.toLowerCase()),!!d.has(n)||!c.has(n)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...d,...c],input:t.value,inst:f}),{})},error:n}),g=new p({type:"pipe",in:new h({type:"string",error:n}),out:f,error:n});return new p({type:"pipe",in:g,out:new m({type:"boolean",error:n}),error:n})};let o=i(e.r(48185)),s=i(e.r(38306)),l=i(e.r(94247));function u(e,t){return new o.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!1})}function d(e,t){return new o.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!0})}function c(e,t){return new o.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!1})}function p(e,t){return new o.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!0})}function m(e){return new o.$ZodCheckOverwrite({check:"overwrite",tx:e})}r.TimePrecision={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6}},98179,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.$ZodFunction=void 0,r.function=function(e){return new d({type:"function",input:Array.isArray(e?.input)?(0,o._tuple)(l.$ZodTuple,e?.input):e?.input??(0,o._array)(l.$ZodArray,(0,o._unknown)(l.$ZodUnknown)),output:e?.output??(0,o._unknown)(l.$ZodUnknown)})};let o=e.r(19480),s=e.r(11009),l=i(e.r(38306)),u=e.r(38306);class d{constructor(e){this._def=e,this.def=e}implement(e){if("function"!=typeof e)throw Error("implement() must be called with a function");let t=(...r)=>{let n=this._def.input?(0,s.parse)(this._def.input,r,void 0,{callee:t}):r;if(!Array.isArray(n))throw Error("Invalid arguments schema: not an array or tuple schema.");let a=e(...n);return this._def.output?(0,s.parse)(this._def.output,a,void 0,{callee:t}):a};return t}implementAsync(e){if("function"!=typeof e)throw Error("implement() must be called with a function");let t=async(...r)=>{let n=this._def.input?await (0,s.parseAsync)(this._def.input,r,void 0,{callee:t}):r;if(!Array.isArray(n))throw Error("Invalid arguments schema: not an array or tuple schema.");let a=await e(...n);return this._def.output?(0,s.parseAsync)(this._def.output,a,void 0,{callee:t}):a};return t}input(...e){let t=this.constructor;return new t(Array.isArray(e[0])?{type:"function",input:new u.$ZodTuple({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}:{type:"function",input:e[0],output:this._def.output})}output(e){return new this.constructor({type:"function",input:this._def.input,output:e})}}r.$ZodFunction=d},34628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JSONSchemaGenerator=void 0,r.toJSONSchema=function(e,t){if(e instanceof n.$ZodRegistry){let r=new i(t),n={};for(let t of e._idmap.entries()){let[e,n]=t;r.process(n)}let a={},o={registry:e,uri:t?.uri||(e=>e),defs:n};for(let n of e._idmap.entries()){let[e,i]=n;a[e]=r.emit(i,{...t,external:o})}return Object.keys(n).length>0&&(a.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:n}),{schemas:a}}let r=new i(t);return r.process(e),r.emit(e,t)};let n=e.r(77168),a=e.r(94247);class i{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??n.globalRegistry,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let n=e._zod.def,i=this.seen.get(e);if(i)return i.count++,t.schemaPath.includes(e)&&(i.cycle=t.path),i.schema;let o={schema:{},count:1,cycle:void 0};this.seen.set(e,o);let s=e._zod.toJSONSchema?.();if(s)o.schema=s;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},i=e._zod.parent;if(i)o.ref=i,this.process(i,r),this.seen.get(i).isParent=!0;else{let t=o.schema;switch(n.type){case"string":{t.type="string";let{minimum:r,maximum:n,format:a,patterns:i,contentEncoding:s}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof n&&(t.maxLength=n),a&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[a]??a,""===t.format&&delete t.format),s&&(t.contentEncoding=s),i&&i.size>0){let e=[...i];1===e.length?t.pattern=e[0].source:e.length>1&&(o.schema.allOf=[...e.map(e=>({..."draft-7"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:n,format:a,multipleOf:i,exclusiveMaximum:o,exclusiveMinimum:s}=e._zod.bag;"string"==typeof a&&a.includes("int")?t.type="integer":t.type="number","number"==typeof s&&(t.exclusiveMinimum=s),"number"==typeof r&&(t.minimum=r,"number"==typeof s&&(s>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof o&&(t.exclusiveMaximum=o),"number"==typeof n&&(t.maximum=n,"number"==typeof o&&(o<=n?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof i&&(t.multipleOf=i);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"undefined":case"null":t.type="null";break;case"any":case"unknown":break;case"never":t.not={};break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:a,maximum:i}=e._zod.bag;"number"==typeof a&&(t.minItems=a),"number"==typeof i&&(t.maxItems=i),t.type="array",t.items=this.process(n.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=n.shape;for(let n in e)t.properties[n]=this.process(e[n],{...r,path:[...r.path,"properties",n]});let a=new Set([...new Set(Object.keys(e))].filter(e=>{let t=n.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));a.size>0&&(t.required=Array.from(a)),n.catchall?._zod.def.type==="never"?t.additionalProperties=!1:n.catchall?n.catchall&&(t.additionalProperties=this.process(n.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":t.anyOf=n.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=this.process(n.left,{...r,path:[...r.path,"allOf",0]}),a=this.process(n.right,{...r,path:[...r.path,"allOf",1]}),i=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...i(e)?e.allOf:[e],...i(a)?a.allOf:[a]];break}case"tuple":{t.type="array";let a=n.items.map((e,t)=>this.process(e,{...r,path:[...r.path,"prefixItems",t]}));if("draft-2020-12"===this.target?t.prefixItems=a:t.items=a,n.rest){let e=this.process(n.rest,{...r,path:[...r.path,"items"]});"draft-2020-12"===this.target?t.items=e:t.additionalItems=e}n.rest&&(t.items=this.process(n.rest,{...r,path:[...r.path,"items"]}));let{minimum:i,maximum:o}=e._zod.bag;"number"==typeof i&&(t.minItems=i),"number"==typeof o&&(t.maxItems=o);break}case"record":t.type="object",t.propertyNames=this.process(n.keyType,{...r,path:[...r.path,"propertyNames"]}),t.additionalProperties=this.process(n.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=(0,a.getEnumValues)(n.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of n.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:n,maximum:a,mime:i}=e._zod.bag;void 0!==n&&(r.minLength=n),void 0!==a&&(r.maxLength=a),i?1===i.length?(r.contentMediaType=i[0],Object.assign(t,r)):t.anyOf=i.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":t.anyOf=[this.process(n.innerType,r),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(n.innerType,r),o.ref=n.innerType;break;case"default":this.process(n.innerType,r),o.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue));break;case"prefault":this.process(n.innerType,r),o.ref=n.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break;case"catch":{let e;this.process(n.innerType,r),o.ref=n.innerType;try{e=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===n.in._zod.def.type?n.out:n.in:n.out;this.process(e,r),o.ref=e;break}case"readonly":this.process(n.innerType,r),o.ref=n.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),o.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let l=this.metadataRegistry.get(e);return l&&Object.assign(o.schema,l),"input"===this.io&&function e(t,r){let n=r??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let a=t._zod.def;switch(a.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return e(a.element,n);case"object":for(let t in a.shape)if(e(a.shape[t],n))return!0;return!1;case"union":for(let t of a.options)if(e(t,n))return!0;return!1;case"intersection":return e(a.left,n)||e(a.right,n);case"tuple":for(let t of a.items)if(e(t,n))return!0;if(a.rest&&e(a.rest,n))return!0;return!1;case"record":case"map":return e(a.keyType,n)||e(a.valueType,n);case"set":return e(a.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return e(a.innerType,n);case"lazy":return e(a.getter(),n);case"transform":return!0;case"pipe":return e(a.in,n)||e(a.out,n)}throw Error(`Unknown schema type: ${a.type}`)}(e)&&(delete o.schema.examples,delete o.schema.default),"input"===this.io&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},n=this.seen.get(e);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let a=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let n=r.external.registry.get(e[0])?.id;if(n)return{ref:r.external.uri(n)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${r.external.uri("__shared")}#/${t}/${a}`}}if(e[1]===n)return{ref:"#"};let a=`#/${t}/`,i=e[1].schema.id??`__schema${this.counter++}`;return{defId:i,ref:a+i}},i=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:n}=a(e);t.def={...t.schema},n&&(t.defId=n);let i=t.schema;for(let e in i)delete i[e];i.$ref=r};for(let t of this.seen.entries()){let n=t[1];if(e===t[0]){i(t);continue}if(r.external){let n=r.external.registry.get(t[0])?.id;if(e!==t[0]&&n){i(t);continue}}if(this.metadataRegistry.get(t[0])?.id){i(t);continue}if(n.cycle){if("throw"===r.cycles)throw Error(`Cycle detected: #/${n.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);"ref"===r.cycles&&i(t);continue}if(n.count>1&&"ref"===r.reused){i(t);continue}}let o=(e,t)=>{let r=this.seen.get(e),n=r.def??r.schema,a={...n};if(null===r.ref)return;let i=r.ref;if(r.ref=null,i){o(i,t);let e=this.seen.get(i).schema;e.$ref&&"draft-7"===t.target?(n.allOf=n.allOf??[],n.allOf.push(e)):(Object.assign(n,e),Object.assign(n,a))}r.isParent||this.override({zodSchema:e,jsonSchema:n})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let s={};"draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(s,n.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}!r.external&&Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(e){throw Error("Error converting schema to JSON.")}}}r.JSONSchemaGenerator=i},80656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},60541,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.JSONSchema=r.locales=r.regexes=r.util=void 0,i(e.r(21020),r),i(e.r(11009),r),i(e.r(82673),r),i(e.r(38306),r),i(e.r(48185),r),i(e.r(99795),r),r.util=o(e.r(94247)),r.regexes=o(e.r(58458)),r.locales=o(e.r(30803)),i(e.r(77168),r),i(e.r(99432),r),i(e.r(98179),r),i(e.r(19480),r),i(e.r(34628),r),r.JSONSchema=o(e.r(80656))},58980,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toUpperCase=r.toLowerCase=r.trim=r.normalize=r.overwrite=r.mime=r.property=r.endsWith=r.startsWith=r.includes=r.uppercase=r.lowercase=r.regex=r.length=r.minLength=r.maxLength=r.size=r.minSize=r.maxSize=r.multipleOf=r.nonnegative=r.nonpositive=r.negative=r.positive=r.gte=r.gt=r.lte=r.lt=void 0;var n=e.r(60541);Object.defineProperty(r,"lt",{enumerable:!0,get:function(){return n._lt}}),Object.defineProperty(r,"lte",{enumerable:!0,get:function(){return n._lte}}),Object.defineProperty(r,"gt",{enumerable:!0,get:function(){return n._gt}}),Object.defineProperty(r,"gte",{enumerable:!0,get:function(){return n._gte}}),Object.defineProperty(r,"positive",{enumerable:!0,get:function(){return n._positive}}),Object.defineProperty(r,"negative",{enumerable:!0,get:function(){return n._negative}}),Object.defineProperty(r,"nonpositive",{enumerable:!0,get:function(){return n._nonpositive}}),Object.defineProperty(r,"nonnegative",{enumerable:!0,get:function(){return n._nonnegative}}),Object.defineProperty(r,"multipleOf",{enumerable:!0,get:function(){return n._multipleOf}}),Object.defineProperty(r,"maxSize",{enumerable:!0,get:function(){return n._maxSize}}),Object.defineProperty(r,"minSize",{enumerable:!0,get:function(){return n._minSize}}),Object.defineProperty(r,"size",{enumerable:!0,get:function(){return n._size}}),Object.defineProperty(r,"maxLength",{enumerable:!0,get:function(){return n._maxLength}}),Object.defineProperty(r,"minLength",{enumerable:!0,get:function(){return n._minLength}}),Object.defineProperty(r,"length",{enumerable:!0,get:function(){return n._length}}),Object.defineProperty(r,"regex",{enumerable:!0,get:function(){return n._regex}}),Object.defineProperty(r,"lowercase",{enumerable:!0,get:function(){return n._lowercase}}),Object.defineProperty(r,"uppercase",{enumerable:!0,get:function(){return n._uppercase}}),Object.defineProperty(r,"includes",{enumerable:!0,get:function(){return n._includes}}),Object.defineProperty(r,"startsWith",{enumerable:!0,get:function(){return n._startsWith}}),Object.defineProperty(r,"endsWith",{enumerable:!0,get:function(){return n._endsWith}}),Object.defineProperty(r,"property",{enumerable:!0,get:function(){return n._property}}),Object.defineProperty(r,"mime",{enumerable:!0,get:function(){return n._mime}}),Object.defineProperty(r,"overwrite",{enumerable:!0,get:function(){return n._overwrite}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return n._normalize}}),Object.defineProperty(r,"trim",{enumerable:!0,get:function(){return n._trim}}),Object.defineProperty(r,"toLowerCase",{enumerable:!0,get:function(){return n._toLowerCase}}),Object.defineProperty(r,"toUpperCase",{enumerable:!0,get:function(){return n._toUpperCase}})},94957,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ZodISODuration=r.ZodISOTime=r.ZodISODate=r.ZodISODateTime=void 0,r.datetime=function(e){return o._isoDateTime(r.ZodISODateTime,e)},r.date=function(e){return o._isoDate(r.ZodISODate,e)},r.time=function(e){return o._isoTime(r.ZodISOTime,e)},r.duration=function(e){return o._isoDuration(r.ZodISODuration,e)};let o=i(e.r(60541)),s=i(e.r(60871));r.ZodISODateTime=o.$constructor("ZodISODateTime",(e,t)=>{o.$ZodISODateTime.init(e,t),s.ZodStringFormat.init(e,t)}),r.ZodISODate=o.$constructor("ZodISODate",(e,t)=>{o.$ZodISODate.init(e,t),s.ZodStringFormat.init(e,t)}),r.ZodISOTime=o.$constructor("ZodISOTime",(e,t)=>{o.$ZodISOTime.init(e,t),s.ZodStringFormat.init(e,t)}),r.ZodISODuration=o.$constructor("ZodISODuration",(e,t)=>{o.$ZodISODuration.init(e,t),s.ZodStringFormat.init(e,t)})},27706,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ZodRealError=r.ZodError=void 0;let o=i(e.r(60541)),s=e.r(60541),l=(e,t)=>{s.$ZodError.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>o.formatError(e,t)},flatten:{value:t=>o.flattenError(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})};r.ZodError=o.$constructor("ZodError",l),r.ZodRealError=o.$constructor("ZodError",l,{Parent:Error})},50433,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.safeParseAsync=r.safeParse=r.parseAsync=r.parse=void 0;let o=i(e.r(60541)),s=e.r(27706);r.parse=o._parse(s.ZodRealError),r.parseAsync=o._parseAsync(s.ZodRealError),r.safeParse=o._safeParse(s.ZodRealError),r.safeParseAsync=o._safeParseAsync(s.ZodRealError)},60871,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ZodOptional=r.ZodTransform=r.ZodFile=r.ZodLiteral=r.ZodEnum=r.ZodSet=r.ZodMap=r.ZodRecord=r.ZodTuple=r.ZodIntersection=r.ZodDiscriminatedUnion=r.ZodUnion=r.ZodObject=r.ZodArray=r.ZodDate=r.ZodVoid=r.ZodNever=r.ZodUnknown=r.ZodAny=r.ZodNull=r.ZodUndefined=r.ZodSymbol=r.ZodBigIntFormat=r.ZodBigInt=r.ZodBoolean=r.ZodNumberFormat=r.ZodNumber=r.ZodJWT=r.ZodE164=r.ZodBase64URL=r.ZodBase64=r.ZodCIDRv6=r.ZodCIDRv4=r.ZodIPv6=r.ZodIPv4=r.ZodKSUID=r.ZodXID=r.ZodULID=r.ZodCUID2=r.ZodCUID=r.ZodNanoID=r.ZodEmoji=r.ZodURL=r.ZodUUID=r.ZodGUID=r.ZodEmail=r.ZodStringFormat=r.ZodString=r._ZodString=r.ZodType=void 0,r.stringbool=r.ZodCustom=r.ZodPromise=r.ZodLazy=r.ZodTemplateLiteral=r.ZodReadonly=r.ZodPipe=r.ZodNaN=r.ZodCatch=r.ZodSuccess=r.ZodNonOptional=r.ZodPrefault=r.ZodDefault=r.ZodNullable=void 0,r.string=c,r.email=function(e){return o._email(r.ZodEmail,e)},r.guid=function(e){return o._guid(r.ZodGUID,e)},r.uuid=function(e){return o._uuid(r.ZodUUID,e)},r.uuidv4=function(e){return o._uuidv4(r.ZodUUID,e)},r.uuidv6=function(e){return o._uuidv6(r.ZodUUID,e)},r.uuidv7=function(e){return o._uuidv7(r.ZodUUID,e)},r.url=function(e){return o._url(r.ZodURL,e)},r.emoji=function(e){return o._emoji(r.ZodEmoji,e)},r.nanoid=function(e){return o._nanoid(r.ZodNanoID,e)},r.cuid=function(e){return o._cuid(r.ZodCUID,e)},r.cuid2=function(e){return o._cuid2(r.ZodCUID2,e)},r.ulid=function(e){return o._ulid(r.ZodULID,e)},r.xid=function(e){return o._xid(r.ZodXID,e)},r.ksuid=function(e){return o._ksuid(r.ZodKSUID,e)},r.ipv4=function(e){return o._ipv4(r.ZodIPv4,e)},r.ipv6=function(e){return o._ipv6(r.ZodIPv6,e)},r.cidrv4=function(e){return o._cidrv4(r.ZodCIDRv4,e)},r.cidrv6=function(e){return o._cidrv6(r.ZodCIDRv6,e)},r.base64=function(e){return o._base64(r.ZodBase64,e)},r.base64url=function(e){return o._base64url(r.ZodBase64URL,e)},r.e164=function(e){return o._e164(r.ZodE164,e)},r.jwt=function(e){return o._jwt(r.ZodJWT,e)},r.number=p,r.int=m,r.float32=function(e){return o._float32(r.ZodNumberFormat,e)},r.float64=function(e){return o._float64(r.ZodNumberFormat,e)},r.int32=function(e){return o._int32(r.ZodNumberFormat,e)},r.uint32=function(e){return o._uint32(r.ZodNumberFormat,e)},r.boolean=h,r.bigint=function(e){return o._bigint(r.ZodBigInt,e)},r.int64=function(e){return o._int64(r.ZodBigIntFormat,e)},r.uint64=function(e){return o._uint64(r.ZodBigIntFormat,e)},r.symbol=function(e){return o._symbol(r.ZodSymbol,e)},r.undefined=function(e){return o._undefined(r.ZodUndefined,e)},r.null=f,r.any=function(){return o._any(r.ZodAny)},r.unknown=g,r.never=y,r.void=function(e){return o._void(r.ZodVoid,e)},r.date=function(e){return o._date(r.ZodDate,e)},r.array=v,r.keyof=function(e){return k(Object.keys(e._zod.def.shape))},r.object=function(e,t){let n={type:"object",get shape(){return s.util.assignProp(this,"shape",{...e}),this.shape},...s.util.normalizeParams(t)};return new r.ZodObject(n)},r.strictObject=function(e,t){return new r.ZodObject({type:"object",get shape(){return s.util.assignProp(this,"shape",{...e}),this.shape},catchall:y(),...s.util.normalizeParams(t)})},r.looseObject=function(e,t){return new r.ZodObject({type:"object",get shape(){return s.util.assignProp(this,"shape",{...e}),this.shape},catchall:g(),...s.util.normalizeParams(t)})},r.union=b,r.discriminatedUnion=function(e,t,n){return new r.ZodDiscriminatedUnion({type:"union",options:t,discriminator:e,...s.util.normalizeParams(n)})},r.intersection=_,r.tuple=function(e,t,n){let a=t instanceof o.$ZodType,i=a?n:t,l=a?t:null;return new r.ZodTuple({type:"tuple",items:e,rest:l,...s.util.normalizeParams(i)})},r.record=w,r.partialRecord=function(e,t,n){return new r.ZodRecord({type:"record",keyType:b([e,y()]),valueType:t,...s.util.normalizeParams(n)})},r.map=function(e,t,n){return new r.ZodMap({type:"map",keyType:e,valueType:t,...s.util.normalizeParams(n)})},r.set=function(e,t){return new r.ZodSet({type:"set",valueType:e,...s.util.normalizeParams(t)})},r.enum=S,r.nativeEnum=function(e,t){return new r.ZodEnum({type:"enum",entries:e,...s.util.normalizeParams(t)})},r.literal=k,r.file=function(e){return o._file(r.ZodFile,e)},r.transform=x,r.optional=E,r.nullable=T,r.nullish=function(e){return E(T(e))},r._default=O,r.prefault=I,r.nonoptional=P,r.success=function(e){return new r.ZodSuccess({type:"success",innerType:e})},r.catch=C,r.nan=function(e){return o._nan(r.ZodNaN,e)},r.pipe=A,r.readonly=j,r.templateLiteral=function(e,t){return new r.ZodTemplateLiteral({type:"template_literal",parts:e,...s.util.normalizeParams(t)})},r.lazy=z,r.promise=function(e){return new r.ZodPromise({type:"promise",innerType:e})},r.check=R,r.custom=function(e,t){return o._custom(r.ZodCustom,e??(()=>!0),t)},r.refine=N,r.superRefine=$,r.instanceof=function(e,t={error:`Input not instance of ${e.name}`}){let n=new r.ZodCustom({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...s.util.normalizeParams(t)});return n._zod.bag.Class=e,n},r.json=function(e){let t=z(()=>b([c(e),p(),h(),f(),v(t),w(c(),t)]));return t},r.preprocess=function(e,t){return A(x(e),t)};let o=i(e.r(60541)),s=e.r(60541),l=i(e.r(58980)),u=i(e.r(94957)),d=i(e.r(50433));function c(e){return o._string(r.ZodString,e)}function p(e){return o._number(r.ZodNumber,e)}function m(e){return o._int(r.ZodNumberFormat,e)}function h(e){return o._boolean(r.ZodBoolean,e)}function f(e){return o._null(r.ZodNull,e)}function g(){return o._unknown(r.ZodUnknown)}function y(e){return o._never(r.ZodNever,e)}function v(e,t){return o._array(r.ZodArray,e,t)}function b(e,t){return new r.ZodUnion({type:"union",options:e,...s.util.normalizeParams(t)})}function _(e,t){return new r.ZodIntersection({type:"intersection",left:e,right:t})}function w(e,t,n){return new r.ZodRecord({type:"record",keyType:e,valueType:t,...s.util.normalizeParams(n)})}function S(e,t){let n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new r.ZodEnum({type:"enum",entries:n,...s.util.normalizeParams(t)})}function k(e,t){return new r.ZodLiteral({type:"literal",values:Array.isArray(e)?e:[e],...s.util.normalizeParams(t)})}function x(e){return new r.ZodTransform({type:"transform",transform:e})}function E(e){return new r.ZodOptional({type:"optional",innerType:e})}function T(e){return new r.ZodNullable({type:"nullable",innerType:e})}function O(e,t){return new r.ZodDefault({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})}function I(e,t){return new r.ZodPrefault({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})}function P(e,t){return new r.ZodNonOptional({type:"nonoptional",innerType:e,...s.util.normalizeParams(t)})}function C(e,t){return new r.ZodCatch({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}function A(e,t){return new r.ZodPipe({type:"pipe",in:e,out:t})}function j(e){return new r.ZodReadonly({type:"readonly",innerType:e})}function z(e){return new r.ZodLazy({type:"lazy",getter:e})}function R(e,t){let r=new o.$ZodCheck({check:"custom",...s.util.normalizeParams(t)});return r._zod.check=e,r}function N(e,t={}){return o._refine(r.ZodCustom,e,t)}function $(e,t){let r=R(t=>(t.addIssue=e=>{"string"==typeof e?t.issues.push(s.util.issue(e,t.value,r._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=t.value),e.inst??(e.inst=r),e.continue??(e.continue=!r._zod.def.abort),t.issues.push(s.util.issue(e)))},e(t.value,t)),t);return r}r.ZodType=o.$constructor("ZodType",(e,t)=>(o.$ZodType.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>o.clone(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>d.parse(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>d.safeParse(e,t,r),e.parseAsync=async(t,r)=>d.parseAsync(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>d.safeParseAsync(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(N(t,r)),e.superRefine=t=>e.check($(t)),e.overwrite=t=>e.check(l.overwrite(t)),e.optional=()=>E(e),e.nullable=()=>T(e),e.nullish=()=>E(T(e)),e.nonoptional=t=>P(e,t),e.array=()=>v(e),e.or=t=>b([e,t]),e.and=t=>_(e,t),e.transform=t=>A(e,x(t)),e.default=t=>O(e,t),e.prefault=t=>I(e,t),e.catch=t=>C(e,t),e.pipe=t=>A(e,t),e.readonly=()=>j(e),e.describe=t=>{let r=e.clone();return o.globalRegistry.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>o.globalRegistry.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return o.globalRegistry.get(e);let r=e.clone();return o.globalRegistry.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),r._ZodString=o.$constructor("_ZodString",(e,t)=>{o.$ZodString.init(e,t),r.ZodType.init(e,t);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(l.regex(...t)),e.includes=(...t)=>e.check(l.includes(...t)),e.startsWith=(...t)=>e.check(l.startsWith(...t)),e.endsWith=(...t)=>e.check(l.endsWith(...t)),e.min=(...t)=>e.check(l.minLength(...t)),e.max=(...t)=>e.check(l.maxLength(...t)),e.length=(...t)=>e.check(l.length(...t)),e.nonempty=(...t)=>e.check(l.minLength(1,...t)),e.lowercase=t=>e.check(l.lowercase(t)),e.uppercase=t=>e.check(l.uppercase(t)),e.trim=()=>e.check(l.trim()),e.normalize=(...t)=>e.check(l.normalize(...t)),e.toLowerCase=()=>e.check(l.toLowerCase()),e.toUpperCase=()=>e.check(l.toUpperCase())}),r.ZodString=o.$constructor("ZodString",(e,t)=>{o.$ZodString.init(e,t),r._ZodString.init(e,t),e.email=t=>e.check(o._email(r.ZodEmail,t)),e.url=t=>e.check(o._url(r.ZodURL,t)),e.jwt=t=>e.check(o._jwt(r.ZodJWT,t)),e.emoji=t=>e.check(o._emoji(r.ZodEmoji,t)),e.guid=t=>e.check(o._guid(r.ZodGUID,t)),e.uuid=t=>e.check(o._uuid(r.ZodUUID,t)),e.uuidv4=t=>e.check(o._uuidv4(r.ZodUUID,t)),e.uuidv6=t=>e.check(o._uuidv6(r.ZodUUID,t)),e.uuidv7=t=>e.check(o._uuidv7(r.ZodUUID,t)),e.nanoid=t=>e.check(o._nanoid(r.ZodNanoID,t)),e.guid=t=>e.check(o._guid(r.ZodGUID,t)),e.cuid=t=>e.check(o._cuid(r.ZodCUID,t)),e.cuid2=t=>e.check(o._cuid2(r.ZodCUID2,t)),e.ulid=t=>e.check(o._ulid(r.ZodULID,t)),e.base64=t=>e.check(o._base64(r.ZodBase64,t)),e.base64url=t=>e.check(o._base64url(r.ZodBase64URL,t)),e.xid=t=>e.check(o._xid(r.ZodXID,t)),e.ksuid=t=>e.check(o._ksuid(r.ZodKSUID,t)),e.ipv4=t=>e.check(o._ipv4(r.ZodIPv4,t)),e.ipv6=t=>e.check(o._ipv6(r.ZodIPv6,t)),e.cidrv4=t=>e.check(o._cidrv4(r.ZodCIDRv4,t)),e.cidrv6=t=>e.check(o._cidrv6(r.ZodCIDRv6,t)),e.e164=t=>e.check(o._e164(r.ZodE164,t)),e.datetime=t=>e.check(u.datetime(t)),e.date=t=>e.check(u.date(t)),e.time=t=>e.check(u.time(t)),e.duration=t=>e.check(u.duration(t))}),r.ZodStringFormat=o.$constructor("ZodStringFormat",(e,t)=>{o.$ZodStringFormat.init(e,t),r._ZodString.init(e,t)}),r.ZodEmail=o.$constructor("ZodEmail",(e,t)=>{o.$ZodEmail.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodGUID=o.$constructor("ZodGUID",(e,t)=>{o.$ZodGUID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodUUID=o.$constructor("ZodUUID",(e,t)=>{o.$ZodUUID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodURL=o.$constructor("ZodURL",(e,t)=>{o.$ZodURL.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodEmoji=o.$constructor("ZodEmoji",(e,t)=>{o.$ZodEmoji.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodNanoID=o.$constructor("ZodNanoID",(e,t)=>{o.$ZodNanoID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodCUID=o.$constructor("ZodCUID",(e,t)=>{o.$ZodCUID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodCUID2=o.$constructor("ZodCUID2",(e,t)=>{o.$ZodCUID2.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodULID=o.$constructor("ZodULID",(e,t)=>{o.$ZodULID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodXID=o.$constructor("ZodXID",(e,t)=>{o.$ZodXID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodKSUID=o.$constructor("ZodKSUID",(e,t)=>{o.$ZodKSUID.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodIPv4=o.$constructor("ZodIPv4",(e,t)=>{o.$ZodIPv4.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodIPv6=o.$constructor("ZodIPv6",(e,t)=>{o.$ZodIPv6.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodCIDRv4=o.$constructor("ZodCIDRv4",(e,t)=>{o.$ZodCIDRv4.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodCIDRv6=o.$constructor("ZodCIDRv6",(e,t)=>{o.$ZodCIDRv6.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodBase64=o.$constructor("ZodBase64",(e,t)=>{o.$ZodBase64.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodBase64URL=o.$constructor("ZodBase64URL",(e,t)=>{o.$ZodBase64URL.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodE164=o.$constructor("ZodE164",(e,t)=>{o.$ZodE164.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodJWT=o.$constructor("ZodJWT",(e,t)=>{o.$ZodJWT.init(e,t),r.ZodStringFormat.init(e,t)}),r.ZodNumber=o.$constructor("ZodNumber",(e,t)=>{o.$ZodNumber.init(e,t),r.ZodType.init(e,t),e.gt=(t,r)=>e.check(l.gt(t,r)),e.gte=(t,r)=>e.check(l.gte(t,r)),e.min=(t,r)=>e.check(l.gte(t,r)),e.lt=(t,r)=>e.check(l.lt(t,r)),e.lte=(t,r)=>e.check(l.lte(t,r)),e.max=(t,r)=>e.check(l.lte(t,r)),e.int=t=>e.check(m(t)),e.safe=t=>e.check(m(t)),e.positive=t=>e.check(l.gt(0,t)),e.nonnegative=t=>e.check(l.gte(0,t)),e.negative=t=>e.check(l.lt(0,t)),e.nonpositive=t=>e.check(l.lte(0,t)),e.multipleOf=(t,r)=>e.check(l.multipleOf(t,r)),e.step=(t,r)=>e.check(l.multipleOf(t,r)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??-1/0,n.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(n.maximum??1/0,n.exclusiveMaximum??1/0)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null}),r.ZodNumberFormat=o.$constructor("ZodNumberFormat",(e,t)=>{o.$ZodNumberFormat.init(e,t),r.ZodNumber.init(e,t)}),r.ZodBoolean=o.$constructor("ZodBoolean",(e,t)=>{o.$ZodBoolean.init(e,t),r.ZodType.init(e,t)}),r.ZodBigInt=o.$constructor("ZodBigInt",(e,t)=>{o.$ZodBigInt.init(e,t),r.ZodType.init(e,t),e.gte=(t,r)=>e.check(l.gte(t,r)),e.min=(t,r)=>e.check(l.gte(t,r)),e.gt=(t,r)=>e.check(l.gt(t,r)),e.gte=(t,r)=>e.check(l.gte(t,r)),e.min=(t,r)=>e.check(l.gte(t,r)),e.lt=(t,r)=>e.check(l.lt(t,r)),e.lte=(t,r)=>e.check(l.lte(t,r)),e.max=(t,r)=>e.check(l.lte(t,r)),e.positive=t=>e.check(l.gt(BigInt(0),t)),e.negative=t=>e.check(l.lt(BigInt(0),t)),e.nonpositive=t=>e.check(l.lte(BigInt(0),t)),e.nonnegative=t=>e.check(l.gte(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(l.multipleOf(t,r));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null}),r.ZodBigIntFormat=o.$constructor("ZodBigIntFormat",(e,t)=>{o.$ZodBigIntFormat.init(e,t),r.ZodBigInt.init(e,t)}),r.ZodSymbol=o.$constructor("ZodSymbol",(e,t)=>{o.$ZodSymbol.init(e,t),r.ZodType.init(e,t)}),r.ZodUndefined=o.$constructor("ZodUndefined",(e,t)=>{o.$ZodUndefined.init(e,t),r.ZodType.init(e,t)}),r.ZodNull=o.$constructor("ZodNull",(e,t)=>{o.$ZodNull.init(e,t),r.ZodType.init(e,t)}),r.ZodAny=o.$constructor("ZodAny",(e,t)=>{o.$ZodAny.init(e,t),r.ZodType.init(e,t)}),r.ZodUnknown=o.$constructor("ZodUnknown",(e,t)=>{o.$ZodUnknown.init(e,t),r.ZodType.init(e,t)}),r.ZodNever=o.$constructor("ZodNever",(e,t)=>{o.$ZodNever.init(e,t),r.ZodType.init(e,t)}),r.ZodVoid=o.$constructor("ZodVoid",(e,t)=>{o.$ZodVoid.init(e,t),r.ZodType.init(e,t)}),r.ZodDate=o.$constructor("ZodDate",(e,t)=>{o.$ZodDate.init(e,t),r.ZodType.init(e,t),e.min=(t,r)=>e.check(l.gte(t,r)),e.max=(t,r)=>e.check(l.lte(t,r));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null}),r.ZodArray=o.$constructor("ZodArray",(e,t)=>{o.$ZodArray.init(e,t),r.ZodType.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(l.minLength(t,r)),e.nonempty=t=>e.check(l.minLength(1,t)),e.max=(t,r)=>e.check(l.maxLength(t,r)),e.length=(t,r)=>e.check(l.length(t,r)),e.unwrap=()=>e.element}),r.ZodObject=o.$constructor("ZodObject",(e,t)=>{o.$ZodObject.init(e,t),r.ZodType.init(e,t),s.util.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>S(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:g()}),e.loose=()=>e.clone({...e._zod.def,catchall:g()}),e.strict=()=>e.clone({...e._zod.def,catchall:y()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>s.util.extend(e,t),e.merge=t=>s.util.merge(e,t),e.pick=t=>s.util.pick(e,t),e.omit=t=>s.util.omit(e,t),e.partial=(...t)=>s.util.partial(r.ZodOptional,e,t[0]),e.required=(...t)=>s.util.required(r.ZodNonOptional,e,t[0])}),r.ZodUnion=o.$constructor("ZodUnion",(e,t)=>{o.$ZodUnion.init(e,t),r.ZodType.init(e,t),e.options=t.options}),r.ZodDiscriminatedUnion=o.$constructor("ZodDiscriminatedUnion",(e,t)=>{r.ZodUnion.init(e,t),o.$ZodDiscriminatedUnion.init(e,t)}),r.ZodIntersection=o.$constructor("ZodIntersection",(e,t)=>{o.$ZodIntersection.init(e,t),r.ZodType.init(e,t)}),r.ZodTuple=o.$constructor("ZodTuple",(e,t)=>{o.$ZodTuple.init(e,t),r.ZodType.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})}),r.ZodRecord=o.$constructor("ZodRecord",(e,t)=>{o.$ZodRecord.init(e,t),r.ZodType.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}),r.ZodMap=o.$constructor("ZodMap",(e,t)=>{o.$ZodMap.init(e,t),r.ZodType.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}),r.ZodSet=o.$constructor("ZodSet",(e,t)=>{o.$ZodSet.init(e,t),r.ZodType.init(e,t),e.min=(...t)=>e.check(o._minSize(...t)),e.nonempty=t=>e.check(o._minSize(1,t)),e.max=(...t)=>e.check(o._maxSize(...t)),e.size=(...t)=>e.check(o._size(...t))}),r.ZodEnum=o.$constructor("ZodEnum",(e,t)=>{o.$ZodEnum.init(e,t),r.ZodType.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(e,a)=>{let i={};for(let r of e)if(n.has(r))i[r]=t.entries[r];else throw Error(`Key ${r} not found in enum`);return new r.ZodEnum({...t,checks:[],...s.util.normalizeParams(a),entries:i})},e.exclude=(e,a)=>{let i={...t.entries};for(let t of e)if(n.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new r.ZodEnum({...t,checks:[],...s.util.normalizeParams(a),entries:i})}}),r.ZodLiteral=o.$constructor("ZodLiteral",(e,t)=>{o.$ZodLiteral.init(e,t),r.ZodType.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}),r.ZodFile=o.$constructor("ZodFile",(e,t)=>{o.$ZodFile.init(e,t),r.ZodType.init(e,t),e.min=(t,r)=>e.check(o._minSize(t,r)),e.max=(t,r)=>e.check(o._maxSize(t,r)),e.mime=(t,r)=>e.check(o._mime(Array.isArray(t)?t:[t],r))}),r.ZodTransform=o.$constructor("ZodTransform",(e,t)=>{o.$ZodTransform.init(e,t),r.ZodType.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=n=>{"string"==typeof n?r.issues.push(s.util.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!0),r.issues.push(s.util.issue(n)))};let a=t.transform(r.value,r);return a instanceof Promise?a.then(e=>(r.value=e,r)):(r.value=a,r)}}),r.ZodOptional=o.$constructor("ZodOptional",(e,t)=>{o.$ZodOptional.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodNullable=o.$constructor("ZodNullable",(e,t)=>{o.$ZodNullable.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodDefault=o.$constructor("ZodDefault",(e,t)=>{o.$ZodDefault.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),r.ZodPrefault=o.$constructor("ZodPrefault",(e,t)=>{o.$ZodPrefault.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodNonOptional=o.$constructor("ZodNonOptional",(e,t)=>{o.$ZodNonOptional.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodSuccess=o.$constructor("ZodSuccess",(e,t)=>{o.$ZodSuccess.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodCatch=o.$constructor("ZodCatch",(e,t)=>{o.$ZodCatch.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),r.ZodNaN=o.$constructor("ZodNaN",(e,t)=>{o.$ZodNaN.init(e,t),r.ZodType.init(e,t)}),r.ZodPipe=o.$constructor("ZodPipe",(e,t)=>{o.$ZodPipe.init(e,t),r.ZodType.init(e,t),e.in=t.in,e.out=t.out}),r.ZodReadonly=o.$constructor("ZodReadonly",(e,t)=>{o.$ZodReadonly.init(e,t),r.ZodType.init(e,t)}),r.ZodTemplateLiteral=o.$constructor("ZodTemplateLiteral",(e,t)=>{o.$ZodTemplateLiteral.init(e,t),r.ZodType.init(e,t)}),r.ZodLazy=o.$constructor("ZodLazy",(e,t)=>{o.$ZodLazy.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.getter()}),r.ZodPromise=o.$constructor("ZodPromise",(e,t)=>{o.$ZodPromise.init(e,t),r.ZodType.init(e,t),e.unwrap=()=>e._zod.def.innerType}),r.ZodCustom=o.$constructor("ZodCustom",(e,t)=>{o.$ZodCustom.init(e,t),r.ZodType.init(e,t)}),r.stringbool=(...e)=>o._stringbool({Pipe:r.ZodPipe,Boolean:r.ZodBoolean,String:r.ZodString,Transform:r.ZodTransform},...e)},87311,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.config=r.$brand=r.NEVER=r.ZodIssueCode=void 0,r.setErrorMap=function(e){o.config({customError:e})},r.getErrorMap=function(){return o.config().customError};let o=i(e.r(60541));r.ZodIssueCode={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"},r.NEVER=Object.freeze({status:"aborted"});var s=e.r(60541);Object.defineProperty(r,"$brand",{enumerable:!0,get:function(){return s.$brand}}),Object.defineProperty(r,"config",{enumerable:!0,get:function(){return s.config}})},92499,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.string=function(e){return o._coercedString(s.ZodString,e)},r.number=function(e){return o._coercedNumber(s.ZodNumber,e)},r.boolean=function(e){return o._coercedBoolean(s.ZodBoolean,e)},r.bigint=function(e){return o._coercedBigint(s.ZodBigInt,e)},r.date=function(e){return o._coercedDate(s.ZodDate,e)};let o=i(e.r(60541)),s=i(e.r(60871))},94564,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.coerce=r.iso=r.ZodISODuration=r.ZodISOTime=r.ZodISODate=r.ZodISODateTime=r.locales=r.TimePrecision=r.toJSONSchema=r.flattenError=r.formatError=r.prettifyError=r.treeifyError=r.regexes=r.clone=r.$brand=r.$input=r.$output=r.function=r.config=r.registry=r.globalRegistry=r.core=void 0,r.core=i(e.r(60541)),o(e.r(60871),r),o(e.r(58980),r),o(e.r(27706),r),o(e.r(50433),r),o(e.r(87311),r);let l=e.r(60541),u=s(e.r(82284));(0,l.config)((0,u.default)());var d=e.r(60541);Object.defineProperty(r,"globalRegistry",{enumerable:!0,get:function(){return d.globalRegistry}}),Object.defineProperty(r,"registry",{enumerable:!0,get:function(){return d.registry}}),Object.defineProperty(r,"config",{enumerable:!0,get:function(){return d.config}}),Object.defineProperty(r,"function",{enumerable:!0,get:function(){return d.function}}),Object.defineProperty(r,"$output",{enumerable:!0,get:function(){return d.$output}}),Object.defineProperty(r,"$input",{enumerable:!0,get:function(){return d.$input}}),Object.defineProperty(r,"$brand",{enumerable:!0,get:function(){return d.$brand}}),Object.defineProperty(r,"clone",{enumerable:!0,get:function(){return d.clone}}),Object.defineProperty(r,"regexes",{enumerable:!0,get:function(){return d.regexes}}),Object.defineProperty(r,"treeifyError",{enumerable:!0,get:function(){return d.treeifyError}}),Object.defineProperty(r,"prettifyError",{enumerable:!0,get:function(){return d.prettifyError}}),Object.defineProperty(r,"formatError",{enumerable:!0,get:function(){return d.formatError}}),Object.defineProperty(r,"flattenError",{enumerable:!0,get:function(){return d.flattenError}}),Object.defineProperty(r,"toJSONSchema",{enumerable:!0,get:function(){return d.toJSONSchema}}),Object.defineProperty(r,"TimePrecision",{enumerable:!0,get:function(){return d.TimePrecision}}),r.locales=i(e.r(30803));var c=e.r(94957);Object.defineProperty(r,"ZodISODateTime",{enumerable:!0,get:function(){return c.ZodISODateTime}}),Object.defineProperty(r,"ZodISODate",{enumerable:!0,get:function(){return c.ZodISODate}}),Object.defineProperty(r,"ZodISOTime",{enumerable:!0,get:function(){return c.ZodISOTime}}),Object.defineProperty(r,"ZodISODuration",{enumerable:!0,get:function(){return c.ZodISODuration}}),r.iso=i(e.r(94957)),r.coerce=i(e.r(92499))},83367,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.z=void 0;let s=i(e.r(94564));r.z=s,o(e.r(94564),r),r.default=s},72358,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let o=i(e.r(83367));a(e.r(83367),r),r.default=o.default},32782,(e,t,r)=>{"use strict";let n,a,i,o,s;var l=Object.create,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,h=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of c(t))m.call(e,a)||a===r||u(e,a,{get:()=>t[a],enumerable:!(n=d(t,a))||n.enumerable});return e},f={},g={EventSourceParserStream:()=>td.EventSourceParserStream,VERSION:()=>N,asSchema:()=>tr,asValidator:()=>en,combineHeaders:()=>v,convertAsyncIteratorToReadableStream:()=>b,convertBase64ToUint8Array:()=>ti,convertToBase64:()=>ts,convertUint8ArrayToBase64:()=>to,createBinaryResponseHandler:()=>eC,createEventSourceResponseHandler:()=>eO,createIdGenerator:()=>x,createJsonErrorResponseHandler:()=>eT,createJsonResponseHandler:()=>eP,createJsonStreamResponseHandler:()=>eI,createProviderDefinedToolFactory:()=>ew,createProviderDefinedToolFactoryWithOutputSchema:()=>eS,createStatusCodeErrorResponseHandler:()=>eA,delay:()=>_,dynamicTool:()=>e_,executeTool:()=>tu,extractResponseHeaders:()=>S,generateId:()=>E,getErrorMessage:()=>T,getFromApi:()=>M,getRuntimeEnvironmentUserAgent:()=>j,injectJsonInstructionIntoMessages:()=>D,isAbortError:()=>P,isParsableJson:()=>eu,isUrlSupported:()=>F,isValidator:()=>et,jsonSchema:()=>tt,lazySchema:()=>te,lazyValidator:()=>er,loadApiKey:()=>L,loadOptionalSetting:()=>q,loadSetting:()=>B,mediaTypeToExtension:()=>Z,normalizeHeaders:()=>z,parseJSON:()=>es,parseJsonEventStream:()=>ec,parseProviderOptions:()=>em,postFormDataToApi:()=>ey,postJsonToApi:()=>eg,postToApi:()=>ev,removeUndefinedEntries:()=>ek,resolve:()=>ex,safeParseJSON:()=>el,safeValidateTypes:()=>eo,standardSchemaValidator:()=>ea,tool:()=>eb,validateTypes:()=>ei,validator:()=>ee,withUserAgentSuffix:()=>R,withoutTrailingSlash:()=>tl,zodSchema:()=>e8};for(var y in g)u(f,y,{get:g[y],enumerable:!0});function v(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function b(e){let t=!1;return new ReadableStream({async pull(r){if(!t)try{let{value:t,done:n}=await e.next();n?r.close():r.enqueue(t)}catch(e){r.error(e)}},async cancel(r){if(t=!0,e.return)try{await e.return(r)}catch(e){}}})}async function _(e,t){if(null==e)return Promise.resolve();let r=null==t?void 0:t.abortSignal;return new Promise((t,n)=>{if(null==r?void 0:r.aborted)return void n(w());let a=setTimeout(()=>{i(),t()},e),i=()=>{clearTimeout(a),null==r||r.removeEventListener("abort",o)},o=()=>{i(),n(w())};null==r||r.addEventListener("abort",o)})}function w(){return new DOMException("Delay was aborted","AbortError")}function S(e){return Object.fromEntries([...e.headers])}t.exports=h(u({},"__esModule",{value:!0}),f);var k=e.r(76261),x=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=()=>{let e=r.length,n=Array(t);for(let a=0;a<t;a++)n[a]=r[Math.random()*e|0];return n.join("")};if(null==e)return a;if(r.includes(n))throw new k.InvalidArgumentError({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${a()}`},E=x();function T(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var O=e.r(76261),I=e.r(76261);function P(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var C=["fetch failed","failed to fetch"];function A({error:e,url:t,requestBodyValues:r}){if(P(e))return e;if(e instanceof TypeError&&C.includes(e.message.toLowerCase())){let n=e.cause;if(null!=n)return new I.APICallError({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}function j(e=globalThis){var t,r,n;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(n=null==(r=e.process)?void 0:r.versions)?void 0:n.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function z(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,r)=>{t[r.toLowerCase()]=e});else for(let[r,n]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=n&&(t[r.toLowerCase()]=n);return t}function R(e,...t){let r=new Headers(z(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var N="3.0.17",$=()=>globalThis.fetch,M=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:n,abortSignal:a,fetch:i=$()})=>{try{let o=await i(e,{method:"GET",headers:R(t,`ai-sdk/provider-utils/${N}`,j()),signal:a}),s=S(o);if(!o.ok){let t;try{t=await n({response:o,url:e,requestBodyValues:{}})}catch(t){if(P(t)||O.APICallError.isInstance(t))throw t;throw new O.APICallError({message:"Failed to process error response",cause:t,statusCode:o.status,url:e,responseHeaders:s,requestBodyValues:{}})}throw t.value}try{return await r({response:o,url:e,requestBodyValues:{}})}catch(t){if(t instanceof Error&&(P(t)||O.APICallError.isInstance(t)))throw t;throw new O.APICallError({message:"Failed to process successful response",cause:t,statusCode:o.status,url:e,responseHeaders:s,requestBodyValues:{}})}}catch(t){throw A({error:t,url:e,requestBodyValues:{}})}};function D({messages:e,schema:t,schemaPrefix:r,schemaSuffix:n}){var a,i;let o=(null==(a=e[0])?void 0:a.role)==="system"?{...e[0]}:{role:"system",content:""};return o.content=function({prompt:e,schema:t,schemaPrefix:r=null!=t?"JSON schema:":void 0,schemaSuffix:n=null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON."}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,r,null!=t?JSON.stringify(t):void 0,n].filter(e=>null!=e).join("\n")}({prompt:o.content,schema:t,schemaPrefix:r,schemaSuffix:n}),[o,...(null==(i=e[0])?void 0:i.role)==="system"?e.slice(1):e]}function F({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([e,t])=>{let r=e.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:t}:{mediaTypePrefix:r.replace(/\*/,""),regexes:t}}).filter(({mediaTypePrefix:t})=>e.startsWith(t)).flatMap(({regexes:e})=>e).some(e=>e.test(t))}var U=e.r(76261);function L({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new U.LoadAPIKeyError({message:`${n} API key must be a string.`});if("u"<typeof process)throw new U.LoadAPIKeyError({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new U.LoadAPIKeyError({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new U.LoadAPIKeyError({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function q({settingValue:e,environmentVariableName:t}){return"string"==typeof e?e:null!=e||"u"<typeof process?void 0:null!=(e=process.env[t])&&"string"==typeof e?e:void 0}var V=e.r(76261);function B({settingValue:e,environmentVariableName:t,settingName:r,description:n}){if("string"==typeof e)return e;if(null!=e)throw new V.LoadSettingError({message:`${n} setting must be a string.`});if("u"<typeof process)throw new V.LoadSettingError({message:`${n} setting is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new V.LoadSettingError({message:`${n} setting is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new V.LoadSettingError({message:`${n} setting must be a string. The value of the ${t} environment variable is not a string.`});return e}function Z(e){var t;let[r,n=""]=e.toLowerCase().split("/");return null!=(t=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[n])?t:n}var H=e.r(76261),G=/"__proto__"\s*:/,W=/"constructor"\s*:/;function J(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===G.test(e)&&!1===W.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let r of(t=[],e)){if(Object.prototype.hasOwnProperty.call(r,"__proto__")||Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in r){let n=r[e];n&&"object"==typeof n&&t.push(n)}}}return e}(t)}function K(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return J(e)}try{return J(e)}finally{Error.stackTraceLimit=t}}var Y=e.r(76261),X=e.r(76261),Q=Symbol.for("vercel.ai.validator");function ee(e){return{[Q]:!0,validate:e}}function et(e){return"object"==typeof e&&null!==e&&Q in e&&!0===e[Q]&&"validate"in e}function er(e){let t;return()=>(null==t&&(t=e()),t)}function en(e){return et(e)?e:"function"==typeof e?e():ea(e)}function ea(e){return ee(async t=>{let r=await e["~standard"].validate(t);return null==r.issues?{success:!0,value:r.value}:{success:!1,error:new X.TypeValidationError({value:t,cause:r.issues})}})}async function ei({value:e,schema:t}){let r=await eo({value:e,schema:t});if(!r.success)throw Y.TypeValidationError.wrap({value:e,cause:r.error});return r.value}async function eo({value:e,schema:t}){let r=en(t);try{if(null==r.validate)return{success:!0,value:e,rawValue:e};let t=await r.validate(e);if(t.success)return{success:!0,value:t.value,rawValue:e};return{success:!1,error:Y.TypeValidationError.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:Y.TypeValidationError.wrap({value:e,cause:t}),rawValue:e}}}async function es({text:e,schema:t}){try{let r=K(e);if(null==t)return r;return ei({value:r,schema:t})}catch(t){if(H.JSONParseError.isInstance(t)||H.TypeValidationError.isInstance(t))throw t;throw new H.JSONParseError({text:e,cause:t})}}async function el({text:e,schema:t}){try{let r=K(e);if(null==t)return{success:!0,value:r,rawValue:r};return await eo({value:r,schema:t})}catch(t){return{success:!1,error:H.JSONParseError.isInstance(t)?t:new H.JSONParseError({text:e,cause:t}),rawValue:void 0}}}function eu(e){try{return K(e),!0}catch(e){return!1}}var ed=e.r(23882);function ec({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new ed.EventSourceParserStream).pipeThrough(new TransformStream({async transform({data:e},r){"[DONE]"!==e&&r.enqueue(await el({text:e,schema:t}))}}))}var ep=e.r(76261);async function em({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=await eo({value:t[e],schema:r});if(!n.success)throw new ep.InvalidArgumentError({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var eh=e.r(76261),ef=()=>globalThis.fetch,eg=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>ev({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),ey=async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>ev({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),ev=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=ef()})=>{try{let s=await o(e,{method:"POST",headers:R(t,`ai-sdk/provider-utils/${N}`,j()),body:r.content,signal:i}),l=S(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(P(t)||eh.APICallError.isInstance(t))throw t;throw new eh.APICallError({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(P(t)||eh.APICallError.isInstance(t)))throw t;throw new eh.APICallError({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){throw A({error:t,url:e,requestBodyValues:r.values})}};function eb(e){return e}function e_(e){return{...e,type:"dynamic"}}function ew({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:a,toModelOutput:i,onInputStart:o,onInputDelta:s,onInputAvailable:l,...u})=>({type:"provider-defined",id:e,name:t,args:u,inputSchema:r,outputSchema:a,execute:n,toModelOutput:i,onInputStart:o,onInputDelta:s,onInputAvailable:l})}function eS({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:a,toModelOutput:i,onInputStart:o,onInputDelta:s,onInputAvailable:l,...u})=>({type:"provider-defined",id:e,name:t,args:u,inputSchema:r,outputSchema:n,execute:a,toModelOutput:i,onInputStart:o,onInputDelta:s,onInputAvailable:l})}function ek(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}async function ex(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var eE=e.r(76261),eT=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=S(n);if(""===o.trim())return{responseHeaders:s,value:new eE.APICallError({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=await es({text:o,schema:e});return{responseHeaders:s,value:new eE.APICallError({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new eE.APICallError({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eO=e=>async({response:t})=>{let r=S(t);if(null==t.body)throw new eE.EmptyResponseBodyError({});return{responseHeaders:r,value:ec({stream:t.body,schema:e})}},eI=e=>async({response:t})=>{let r=S(t);if(null==t.body)throw new eE.EmptyResponseBodyError({});let n="";return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({async transform(t,r){t.endsWith("\n")?(r.enqueue(await el({text:n+t,schema:e})),n=""):n+=t}}))}},eP=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=await el({text:a,schema:e}),o=S(t);if(!i.success)throw new eE.APICallError({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},eC=()=>async({response:e,url:t,requestBodyValues:r})=>{let n=S(e);if(!e.body)throw new eE.APICallError({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(t)}}catch(a){throw new eE.APICallError({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:a})}},eA=()=>async({response:e,url:t,requestBodyValues:r})=>{let n=S(e),a=await e.text();return{responseHeaders:n,value:new eE.APICallError({message:e.statusText,url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:a})}},ej=(i=null!=(n=e.r(72358))?l(p(n)):{},h(!a&&n&&n.__esModule?i:u(i,"default",{value:n,enumerable:!0}),n)),ez=Symbol("Let zodToJsonSchema decide on which parser to use"),eR={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},eN=e.r(43629),e$=e.r(43629);function eM(e,t){return e3(e.type._def,t)}var eD=e.r(43629),eF=void 0,eU=/^[cC][^\s-]{8,}$/,eL=/^[0-9a-z]+$/,eq=/^[0-9A-HJKMNP-TV-Z]{26}$/,eV=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,eB=()=>(void 0===eF&&(eF=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),eF),eZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eJ=/^[a-zA-Z0-9_-]{21}$/,eK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function eY(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":e1(r,"email",n.message,t);break;case"format:idn-email":e1(r,"idn-email",n.message,t);break;case"pattern:zod":e0(r,eV,n.message,t)}break;case"url":e1(r,"uri",n.message,t);break;case"uuid":e1(r,"uuid",n.message,t);break;case"regex":e0(r,n.regex,n.message,t);break;case"cuid":e0(r,eU,n.message,t);break;case"cuid2":e0(r,eL,n.message,t);break;case"startsWith":e0(r,RegExp(`^${eX(n.value,t)}`),n.message,t);break;case"endsWith":e0(r,RegExp(`${eX(n.value,t)}$`),n.message,t);break;case"datetime":e1(r,"date-time",n.message,t);break;case"date":e1(r,"date",n.message,t);break;case"time":e1(r,"time",n.message,t);break;case"duration":e1(r,"duration",n.message,t);break;case"length":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value;break;case"includes":e0(r,RegExp(eX(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&e1(r,"ipv4",n.message,t),"v4"!==n.version&&e1(r,"ipv6",n.message,t);break;case"base64url":e0(r,eW,n.message,t);break;case"jwt":e0(r,eK,n.message,t);break;case"cidr":"v6"!==n.version&&e0(r,eZ,n.message,t),"v4"!==n.version&&e0(r,eH,n.message,t);break;case"emoji":e0(r,eB(),n.message,t);break;case"ulid":e0(r,eq,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":e1(r,"binary",n.message,t);break;case"contentEncoding:base64":r.contentEncoding="base64";break;case"pattern:zod":e0(r,eG,n.message,t)}break;case"nanoid":e0(r,eJ,n.message,t)}return r}function eX(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)eQ.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}var eQ=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function e1(e,t,r,n){var a;e.format||(null==(a=e.anyOf)?void 0:a.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function e0(e,t,r,n){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:e2(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=e2(t,n)}function e2(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source,i="",o=!1,s=!1,l=!1;for(let e=0;e<a.length;e++){if(o){i+=a[e],o=!1;continue}if(n.i){if(s){if(a[e].match(/[a-z]/)){l?(i+=a[e],i+=`${a[e-2]}-${a[e]}`.toUpperCase(),l=!1):"-"===a[e+1]&&(null==(r=a[e+2])?void 0:r.match(/[a-z]/))?(i+=a[e],l=!0):i+=`${a[e]}${a[e].toUpperCase()}`;continue}}else if(a[e].match(/[a-z]/)){i+=`[${a[e]}${a[e].toUpperCase()}]`;continue}}if(n.m){if("^"===a[e]){i+=`(^|(?<=[\r
]))`;continue}else if("$"===a[e]){i+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===a[e]){i+=s?`${a[e]}\r
`:`[${a[e]}\r
]`;continue}i+=a[e],"\\"===a[e]?o=!0:s&&"]"===a[e]?s=!1:s||"["!==a[e]||(s=!0)}try{new RegExp(i)}catch(r){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function e4(e,t){var r,n,a,i,o,s;let l={type:"object",additionalProperties:null!=(r=e3(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?r:t.allowedAdditionalProperties};if((null==(n=e.keyType)?void 0:n._def.typeName)===eD.ZodFirstPartyTypeKind.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){let{type:r,...n}=eY(e.keyType._def,t);return{...l,propertyNames:n}}if((null==(i=e.keyType)?void 0:i._def.typeName)===eD.ZodFirstPartyTypeKind.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if((null==(o=e.keyType)?void 0:o._def.typeName)===eD.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===eD.ZodFirstPartyTypeKind.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){let{type:r,...n}=eM(e.keyType._def,t);return{...l,propertyNames:n}}return l}var e6={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function e3(e,t,r=!1){var n;let a=t.seen.get(e);if(t.override){let i=null==(n=t.override)?void 0:n.call(t,e,t,a,r);if(i!==ez)return i}if(a&&!r){let e=e9(a,t);if(void 0!==e)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let o=((e,t,r)=>{var n,a,i,o,s,l;switch(t){case eN.ZodFirstPartyTypeKind.ZodString:return eY(e,r);case eN.ZodFirstPartyTypeKind.ZodNumber:let u={type:"number"};if(!e.checks)return u;for(let t of e.checks)switch(t.kind){case"int":u.type="integer";break;case"min":t.inclusive?u.minimum=t.value:u.exclusiveMinimum=t.value;break;case"max":t.inclusive?u.maximum=t.value:u.exclusiveMaximum=t.value;break;case"multipleOf":u.multipleOf=t.value}return u;case eN.ZodFirstPartyTypeKind.ZodObject:return function(e,t){let r={type:"object",properties:{}},n=[],a=e.shape();for(let e in a){let i=a[e];if(void 0===i||void 0===i._def)continue;let o=function(e){try{return e.isOptional()}catch(e){return!0}}(i),s=e3(i._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==s&&(r.properties[e]=s,o||n.push(e))}n.length&&(r.required=n);let i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return e3(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(r.additionalProperties=i),r}(e,r);case eN.ZodFirstPartyTypeKind.ZodBigInt:let d={type:"integer",format:"int64"};if(!e.checks)return d;for(let t of e.checks)switch(t.kind){case"min":t.inclusive?d.minimum=t.value:d.exclusiveMinimum=t.value;break;case"max":t.inclusive?d.maximum=t.value:d.exclusiveMaximum=t.value;break;case"multipleOf":d.multipleOf=t.value}return d;case eN.ZodFirstPartyTypeKind.ZodBoolean:return{type:"boolean"};case eN.ZodFirstPartyTypeKind.ZodDate:return function e(t,r,n){let a=null!=n?n:r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var i=t;let o={type:"integer",format:"unix-time"};for(let e of i.checks)switch(e.kind){case"min":o.minimum=e.value;break;case"max":o.maximum=e.value}return o}}(e,r);case eN.ZodFirstPartyTypeKind.ZodUndefined:return{not:{}};case eN.ZodFirstPartyTypeKind.ZodNull:return{type:"null"};case eN.ZodFirstPartyTypeKind.ZodArray:let c;return c={type:"array"},(null==(i=e.type)?void 0:i._def)&&(null==(s=null==(o=e.type)?void 0:o._def)?void 0:s.typeName)!==e$.ZodFirstPartyTypeKind.ZodAny&&(c.items=e3(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&(c.minItems=e.minLength.value),e.maxLength&&(c.maxItems=e.maxLength.value),e.exactLength&&(c.minItems=e.exactLength.value,c.maxItems=e.exactLength.value),c;case eN.ZodFirstPartyTypeKind.ZodUnion:case eN.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:let p,m=e.options instanceof Map?Array.from(e.options.values()):e.options;if(m.every(e=>e._def.typeName in e6&&(!e._def.checks||!e._def.checks.length))){let e=m.reduce((e,t)=>{let r=e6[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(m.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=m.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===m.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:m.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(m.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:m.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return n=e,a=r,(p=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((e,t)=>e3(e._def,{...a,currentPath:[...a.currentPath,"anyOf",`${t}`]})).filter(e=>!!e&&(!a.strictUnions||"object"==typeof e&&Object.keys(e).length>0))).length?{anyOf:p}:void 0;case eN.ZodFirstPartyTypeKind.ZodIntersection:let h,f;return h=[e3(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),e3(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),f=[],h.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)f.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}f.push(t)}}),f.length?{allOf:f}:void 0;case eN.ZodFirstPartyTypeKind.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>e3(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:e3(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>e3(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case eN.ZodFirstPartyTypeKind.ZodRecord:return e4(e,r);case eN.ZodFirstPartyTypeKind.ZodLiteral:let g;return"bigint"!=(g=typeof e.value)&&"number"!==g&&"boolean"!==g&&"string"!==g?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===g?"integer":g,const:e.value};case eN.ZodFirstPartyTypeKind.ZodEnum:return{type:"string",enum:Array.from(e.values)};case eN.ZodFirstPartyTypeKind.ZodNativeEnum:let y,v,b;return y=e.values,{type:1===(b=Array.from(new Set((v=Object.keys(e.values).filter(e=>"number"!=typeof y[y[e]]).map(e=>y[e])).map(e=>typeof e)))).length?"string"===b[0]?"string":"number":["string","number"],enum:v};case eN.ZodFirstPartyTypeKind.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[e6[e.innerType._def.typeName],"null"]};let _=e3(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return _&&{anyOf:[_,{type:"null"}]};case eN.ZodFirstPartyTypeKind.ZodOptional:if(r.currentPath.toString()===(null==(l=r.propertyPath)?void 0:l.toString()))return e3(e.innerType._def,r);let w=e3(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return w?{anyOf:[{not:{}},w]}:{};case eN.ZodFirstPartyTypeKind.ZodMap:if("record"===r.mapStrategy)return e4(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[e3(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||{},e3(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case eN.ZodFirstPartyTypeKind.ZodSet:let S;return S={type:"array",uniqueItems:!0,items:e3(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&(S.minItems=e.minSize.value),e.maxSize&&(S.maxItems=e.maxSize.value),S;case eN.ZodFirstPartyTypeKind.ZodLazy:return()=>e.getter()._def;case eN.ZodFirstPartyTypeKind.ZodPromise:return e3(e.type._def,r);case eN.ZodFirstPartyTypeKind.ZodNaN:case eN.ZodFirstPartyTypeKind.ZodNever:return{not:{}};case eN.ZodFirstPartyTypeKind.ZodEffects:return"input"===r.effectStrategy?e3(e.schema._def,r):{};case eN.ZodFirstPartyTypeKind.ZodAny:case eN.ZodFirstPartyTypeKind.ZodUnknown:return{};case eN.ZodFirstPartyTypeKind.ZodDefault:return{...e3(e.innerType._def,r),default:e.defaultValue()};case eN.ZodFirstPartyTypeKind.ZodBranded:return eM(e,r);case eN.ZodFirstPartyTypeKind.ZodReadonly:case eN.ZodFirstPartyTypeKind.ZodCatch:return e3(e.innerType._def,r);case eN.ZodFirstPartyTypeKind.ZodPipeline:if("input"===r.pipeStrategy)return e3(e.in._def,r);if("output"===r.pipeStrategy)return e3(e.out._def,r);let k=e3(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),x=e3(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",k?"1":"0"]});return{allOf:[k,x].filter(e=>void 0!==e)};case eN.ZodFirstPartyTypeKind.ZodFunction:case eN.ZodFirstPartyTypeKind.ZodVoid:case eN.ZodFirstPartyTypeKind.ZodSymbol:default:return}})(e,e.typeName,t),s="function"==typeof o?e3(o(),t):o;if(s&&e5(e,t,s),t.postProcess){let r=t.postProcess(s,e,t);return i.jsonSchema=s,r}return i.jsonSchema=s,s}var e9=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},e5=(e,t,r)=>(e.description&&(r.description=e.description),r);function e8(e,t){var r,n;let a;if("_zod"in e){let n;return n=null!=(r=null==t?void 0:t.useReferences)&&r,tt(()=>ej.toJSONSchema(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:async t=>{let r=await ej.safeParseAsync(e,t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}return a=null!=(n=null==t?void 0:t.useReferences)&&n,tt(()=>((e,t)=>{var r;let n,a,i=(a=void 0!==(n="string"==typeof t?{...eR,name:t}:{...eR,...t}).name?[...n.basePath,n.definitionPath,n.name]:n.basePath,{...n,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...n.basePath,n.definitionPath,e],jsonSchema:void 0}]))}),o="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>{var n;return{...e,[t]:null!=(n=e3(r._def,{...i,currentPath:[...i.basePath,i.definitionPath,t]},!0))?n:{}}},{}):void 0,s="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,l=null!=(r=e3(e._def,void 0===s?i:{...i,currentPath:[...i.basePath,i.definitionPath,s]},!1))?r:{},u="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==u&&(l.title=u);let d=void 0===s?o?{...l,[i.definitionPath]:o}:l:{$ref:[..."relative"===i.$refStrategy?[]:i.basePath,i.definitionPath,s].join("/"),[i.definitionPath]:{...o,[s]:l}};return d.$schema="http://json-schema.org/draft-07/schema#",d})(e,{$refStrategy:a?"root":"none"}),{validate:async t=>{let r=await e.safeParseAsync(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var e7=Symbol.for("vercel.ai.schema");function te(e){let t;return()=>(null==t&&(t=e()),t)}function tt(e,{validate:t}={}){return{[e7]:!0,_type:void 0,[Q]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}function tr(e){return null==e?tt({properties:{},additionalProperties:!1}):"object"==typeof e&&null!==e&&e7 in e&&!0===e[e7]&&"jsonSchema"in e&&"validate"in e?e:"function"==typeof e?e():e8(e)}var{btoa:tn,atob:ta}=globalThis;function ti(e){let t=ta(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function to(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return tn(t)}function ts(e){return e instanceof Uint8Array?to(e):e}function tl(e){return null==e?void 0:e.replace(/\/$/,"")}async function*tu({execute:e,input:t,options:r}){let n=e(t,r);if(null!=n&&"function"==typeof n[Symbol.asyncIterator]){let e;for await(let t of n)e=t,yield{type:"preliminary",output:t};yield{type:"final",output:e}}else yield{type:"final",output:await n}}o=e.r(3153),s=t.exports,h(f,o,"default"),s&&h(s,o,"default");var td=e.r(23882)},83938,(e,t,r)=>{"use strict";var n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},l={SYMBOL_FOR_REQ_CONTEXT:()=>d,getContext:()=>c};for(var u in l)n(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);let d=Symbol.for("@vercel/request-context");function c(){let e=globalThis;return e[d]?.get?.()??{}}},90229,(e,t,r)=>{"use strict";var n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},l={getVercelOidcToken:()=>p,getVercelOidcTokenSync:()=>m};for(var u in l)n(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var d=e.r(83938),c=e.r(84199);async function p(){let t,r="";try{r=m()}catch(e){t=e}try{let[{getTokenPayload:t,isExpired:n},{refreshToken:a}]=await Promise.all([await e.A(67030),await e.A(83671)]);(!r||n(t(r)))&&(await a(),r=m())}catch(e){throw t?.message&&e instanceof Error&&(e.message=`${t.message}
${e.message}`),new c.VercelOidcTokenError("Failed to refresh OIDC token",e)}return r}function m(){let e=(0,d.getContext)().headers?.["x-vercel-oidc-token"]??process.env.VERCEL_OIDC_TOKEN;if(!e)throw Error("The 'x-vercel-oidc-token' header is missing from the request. Do you have the OIDC option enabled in the Vercel project settings?");return e}},90536,(e,t,r)=>{"use strict";var n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},l={getContext:()=>c.getContext,getVercelOidcToken:()=>d.getVercelOidcToken,getVercelOidcTokenSync:()=>d.getVercelOidcTokenSync};for(var u in l)n(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var d=e.r(90229),c=e.r(83938)},75015,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,w={},S={GatewayAuthenticationError:()=>A,GatewayError:()=>I,GatewayInternalServerError:()=>H,GatewayInvalidRequestError:()=>R,GatewayModelNotFoundError:()=>V,GatewayRateLimitError:()=>M,GatewayResponseError:()=>J,createGateway:()=>eT,createGatewayProvider:()=>eT,gateway:()=>eO};for(var k in S)y(w,k,{get:S[k],enumerable:!0});t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of b(t))_.call(e,a)||a===r||y(e,a,{get:()=>t[a],enumerable:!(n=v(t,a))||n.enumerable});return e})(y({},"__esModule",{value:!0}),w);var x=e.r(32782),E=e.r(76261),T=e.r(72358),O=Symbol.for("vercel.ai.gateway.error"),I=class e extends(a=Error,n=O,a){constructor({message:e,statusCode:t=500,cause:r}){super(e),this[n]=!0,this.statusCode=t,this.cause=r}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"==typeof e&&null!==e&&O in e&&!0===e[O]}},P="GatewayAuthenticationError",C=Symbol.for(`vercel.ai.gateway.error.${P}`),A=class e extends(o=I,i=C,o){constructor({message:e="Authentication failed",statusCode:t=401,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[i]=!0,this.name=P,this.type="authentication_error"}static isInstance(e){return I.hasMarker(e)&&C in e}static createContextualError({apiKeyProvided:t,oidcTokenProvided:r,message:n="Authentication failed",statusCode:a=401,cause:i}){return new e({message:t?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:r?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,statusCode:a,cause:i})}},j="GatewayInvalidRequestError",z=Symbol.for(`vercel.ai.gateway.error.${j}`),R=class extends(l=I,s=z,l){constructor({message:e="Invalid request",statusCode:t=400,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[s]=!0,this.name=j,this.type="invalid_request_error"}static isInstance(e){return I.hasMarker(e)&&z in e}},N="GatewayRateLimitError",$=Symbol.for(`vercel.ai.gateway.error.${N}`),M=class extends(d=I,u=$,d){constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[u]=!0,this.name=N,this.type="rate_limit_exceeded"}static isInstance(e){return I.hasMarker(e)&&$ in e}},D=e.r(72358),F=e.r(32782),U="GatewayModelNotFoundError",L=Symbol.for(`vercel.ai.gateway.error.${U}`),q=(0,F.lazyValidator)(()=>(0,F.zodSchema)(D.z.object({modelId:D.z.string()}))),V=class extends(p=I,c=L,p){constructor({message:e="Model not found",statusCode:t=404,modelId:r,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[c]=!0,this.name=U,this.type="model_not_found",this.modelId=r}static isInstance(e){return I.hasMarker(e)&&L in e}},B="GatewayInternalServerError",Z=Symbol.for(`vercel.ai.gateway.error.${B}`),H=class extends(h=I,m=Z,h){constructor({message:e="Internal server error",statusCode:t=500,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[m]=!0,this.name=B,this.type="internal_server_error"}static isInstance(e){return I.hasMarker(e)&&Z in e}},G="GatewayResponseError",W=Symbol.for(`vercel.ai.gateway.error.${G}`),J=class extends(g=I,f=W,g){constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:r,validationError:n,cause:a}={}){super({message:e,statusCode:t,cause:a}),this[f]=!0,this.name=G,this.type="response_error",this.response=r,this.validationError=n}static isInstance(e){return I.hasMarker(e)&&W in e}},K=e.r(32782);async function Y({response:e,statusCode:t,defaultMessage:r="Gateway request failed",cause:n,authMethod:a}){let i=await (0,K.safeValidateTypes)({value:e,schema:X});if(!i.success)return new J({message:`Invalid error response format: ${r}`,statusCode:t,response:e,validationError:i.error,cause:n});let o=i.value,s=o.error.type,l=o.error.message;switch(s){case"authentication_error":return A.createContextualError({apiKeyProvided:"api-key"===a,oidcTokenProvided:"oidc"===a,statusCode:t,cause:n});case"invalid_request_error":return new R({message:l,statusCode:t,cause:n});case"rate_limit_exceeded":return new M({message:l,statusCode:t,cause:n});case"model_not_found":{let e=await (0,K.safeValidateTypes)({value:o.error.param,schema:q});return new V({message:l,statusCode:t,modelId:e.success?e.value.modelId:void 0,cause:n})}default:return new H({message:l,statusCode:t,cause:n})}}var X=(0,K.lazyValidator)(()=>(0,K.zodSchema)(T.z.object({error:T.z.object({message:T.z.string(),type:T.z.string().nullish(),param:T.z.unknown().nullish(),code:T.z.union([T.z.string(),T.z.number()]).nullish()})})));function Q(e,t){var r;return I.isInstance(e)?e:E.APICallError.isInstance(e)?Y({response:function(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(t){return e.responseBody}return{}}(e),statusCode:null!=(r=e.statusCode)?r:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):Y({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:"Unknown Gateway error",cause:e,authMethod:t})}var ee=e.r(72358),et=e.r(32782),er="ai-gateway-auth-method";async function en(e){let t=await (0,et.safeValidateTypes)({value:e[er],schema:ea});return t.success?t.value:void 0}var ea=(0,et.lazyValidator)(()=>(0,et.zodSchema)(ee.z.union([ee.z.literal("api-key"),ee.z.literal("oidc")]))),ei=e.r(32782),eo=e.r(72358),es=class{constructor(e){this.config=e}async getAvailableModels(){try{let{value:e}=await (0,ei.getFromApi)({url:`${this.config.baseURL}/config`,headers:await (0,ei.resolve)(this.config.headers()),successfulResponseHandler:(0,ei.createJsonResponseHandler)(el),failedResponseHandler:(0,ei.createJsonErrorResponseHandler)({errorSchema:eo.z.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await Q(e)}}async getCredits(){try{let e=new URL(this.config.baseURL),{value:t}=await (0,ei.getFromApi)({url:`${e.origin}/v1/credits`,headers:await (0,ei.resolve)(this.config.headers()),successfulResponseHandler:(0,ei.createJsonResponseHandler)(eu),failedResponseHandler:(0,ei.createJsonErrorResponseHandler)({errorSchema:eo.z.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await Q(e)}}},el=(0,ei.lazyValidator)(()=>(0,ei.zodSchema)(eo.z.object({models:eo.z.array(eo.z.object({id:eo.z.string(),name:eo.z.string(),description:eo.z.string().nullish(),pricing:eo.z.object({input:eo.z.string(),output:eo.z.string(),input_cache_read:eo.z.string().nullish(),input_cache_write:eo.z.string().nullish()}).transform(({input:e,output:t,input_cache_read:r,input_cache_write:n})=>({input:e,output:t,...r?{cachedInputTokens:r}:{},...n?{cacheCreationInputTokens:n}:{}})).nullish(),specification:eo.z.object({specificationVersion:eo.z.literal("v2"),provider:eo.z.string(),modelId:eo.z.string()}),modelType:eo.z.enum(["language","embedding","image"]).nullish()}))}))),eu=(0,ei.lazyValidator)(()=>(0,ei.zodSchema)(eo.z.object({balance:eo.z.string(),total_used:eo.z.string()}).transform(({balance:e,total_used:t})=>({balance:e,totalUsed:t})))),ed=e.r(32782),ec=e.r(72358),ep=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){let{abortSignal:t,...r}=e;return{args:this.maybeEncodeFileParts(r),warnings:[]}}async doGenerate(e){let{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,a=await (0,ed.resolve)(this.config.headers());try{let{responseHeaders:i,value:o,rawValue:s}=await (0,ed.postJsonToApi)({url:this.getUrl(),headers:(0,ed.combineHeaders)(a,e.headers,this.getModelConfigHeaders(this.modelId,!1),await (0,ed.resolve)(this.config.o11yHeaders)),body:t,successfulResponseHandler:(0,ed.createJsonResponseHandler)(ec.z.any()),failedResponseHandler:(0,ed.createJsonErrorResponseHandler)({errorSchema:ec.z.any(),errorToMessage:e=>e}),...n&&{abortSignal:n},fetch:this.config.fetch});return{...o,request:{body:t},response:{headers:i,body:s},warnings:r}}catch(e){throw await Q(e,await en(a))}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,a=await (0,ed.resolve)(this.config.headers());try{let{value:i,responseHeaders:o}=await (0,ed.postJsonToApi)({url:this.getUrl(),headers:(0,ed.combineHeaders)(a,e.headers,this.getModelConfigHeaders(this.modelId,!0),await (0,ed.resolve)(this.config.o11yHeaders)),body:t,successfulResponseHandler:(0,ed.createEventSourceResponseHandler)(ec.z.any()),failedResponseHandler:(0,ed.createJsonErrorResponseHandler)({errorSchema:ec.z.any(),errorToMessage:e=>e}),...n&&{abortSignal:n},fetch:this.config.fetch});return{stream:i.pipeThrough(new TransformStream({start(e){r.length>0&&e.enqueue({type:"stream-start",warnings:r})},transform(t,r){if(t.success){let n=t.value;("raw"!==n.type||e.includeRawChunks)&&("response-metadata"===n.type&&n.timestamp&&"string"==typeof n.timestamp&&(n.timestamp=new Date(n.timestamp)),r.enqueue(n))}else r.error(t.error)}})),request:{body:t},response:{headers:o}}}catch(e){throw await Q(e,await en(a))}}isFilePart(e){return e&&"object"==typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(let t of e.prompt)for(let e of t.content)if(this.isFilePart(e)&&e.data instanceof Uint8Array){let t=Uint8Array.from(e.data),r=Buffer.from(t).toString("base64");e.data=new URL(`data:${e.mediaType||"application/octet-stream"};base64,${r}`)}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},em=e.r(32782),eh=e.r(72358),ef=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var a;let i=await (0,em.resolve)(this.config.headers());try{let{responseHeaders:o,value:s,rawValue:l}=await (0,em.postJsonToApi)({url:this.getUrl(),headers:(0,em.combineHeaders)(i,null!=t?t:{},this.getModelConfigHeaders(),await (0,em.resolve)(this.config.o11yHeaders)),body:{input:1===e.length?e[0]:e,...n?{providerOptions:n}:{}},successfulResponseHandler:(0,em.createJsonResponseHandler)(eg),failedResponseHandler:(0,em.createJsonErrorResponseHandler)({errorSchema:eh.z.any(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{embeddings:s.embeddings,usage:null!=(a=s.usage)?a:void 0,providerMetadata:s.providerMetadata,response:{headers:o,body:l}}}catch(e){throw await Q(e,await en(i))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},eg=(0,em.lazyValidator)(()=>(0,em.zodSchema)(eh.z.object({embeddings:eh.z.array(eh.z.array(eh.z.number())),usage:eh.z.object({tokens:eh.z.number()}).nullish(),providerMetadata:eh.z.record(eh.z.string(),eh.z.record(eh.z.string(),eh.z.unknown())).optional()}))),ey=e.r(32782),ev=e.r(72358),eb=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=4}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l;let u=await (0,ey.resolve)(this.config.headers());try{let{responseHeaders:d,value:c,rawValue:p}=await (0,ey.postJsonToApi)({url:this.getUrl(),headers:(0,ey.combineHeaders)(u,null!=o?o:{},this.getModelConfigHeaders(),await (0,ey.resolve)(this.config.o11yHeaders)),body:{prompt:e,n:t,...r&&{size:r},...n&&{aspectRatio:n},...a&&{seed:a},...null!=i?i:{}},successfulResponseHandler:(0,ey.createJsonResponseHandler)(ew),failedResponseHandler:(0,ey.createJsonErrorResponseHandler)({errorSchema:ev.z.any(),errorToMessage:e=>e}),...s&&{abortSignal:s},fetch:this.config.fetch});return{images:c.images,warnings:null!=(l=c.warnings)?l:[],providerMetadata:c.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:d}}}catch(e){throw Q(e,await en(u))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"2","ai-model-id":this.modelId}}},e_=ev.z.object({images:ev.z.array(ev.z.unknown()).optional()}).catchall(ev.z.unknown()),ew=ev.z.object({images:ev.z.array(ev.z.string()),warnings:ev.z.array(ev.z.object({type:ev.z.literal("other"),message:ev.z.string()})).optional(),providerMetadata:ev.z.record(ev.z.string(),e_).optional()}),eS=e.r(90536),ek=e.r(90536);async function ex(){var e;return null==(e=(0,eS.getContext)().headers)?void 0:e["x-vercel-id"]}var eE=e.r(32782);function eT(e={}){var t,r;let n=null,a=null,i=null!=(t=e.metadataCacheRefreshMillis)?t:3e5,o=0,s=null!=(r=(0,x.withoutTrailingSlash)(e.baseURL))?r:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{let t=await eI(e);if(t)return(0,eE.withUserAgentSuffix)({Authorization:`Bearer ${t.token}`,"ai-gateway-protocol-version":"0.0.1",[er]:t.authMethod,...e.headers},"ai-sdk/gateway/2.0.12");throw A.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},u=()=>{let e=(0,x.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=(0,x.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),r=(0,x.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let n=await ex();return{...e&&{"ai-o11y-deployment-id":e},...t&&{"ai-o11y-environment":t},...r&&{"ai-o11y-region":r},...n&&{"ai-o11y-request-id":n}}}},d=t=>new ep(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),c=async()=>new es({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch(async e=>{throw await Q(e,await en(await l()))}),p=function(e){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};return p.getAvailableModels=async()=>{var t,r,u;let d=null!=(u=null==(r=null==(t=e._internal)?void 0:t.currentDate)?void 0:r.call(t).getTime())?u:Date.now();return(!n||d-o>i)&&(o=d,n=new es({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then(e=>(a=e,e)).catch(async e=>{throw await Q(e,await en(await l()))})),a?Promise.resolve(a):n},p.getCredits=c,p.imageModel=t=>new eb(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p.languageModel=d,p.textEmbeddingModel=t=>new ef(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p}var eO=eT();async function eI(e){let t=(0,x.loadOptionalSetting)({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await (0,ek.getVercelOidcToken)(),authMethod:"oidc"}}catch(e){return null}}},28595,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v=Object.defineProperty,b=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,S=(e,t)=>{for(var r in t)v(e,r,{get:t[r],enumerable:!0})},k={};S(k,{AISDKError:()=>N.AISDKError,APICallError:()=>N.APICallError,AbstractChat:()=>ao,DefaultChatTransport:()=>ai,DownloadError:()=>eZ,EmptyResponseBodyError:()=>N.EmptyResponseBodyError,Experimental_Agent:()=>r1,HttpChatTransport:()=>aa,InvalidArgumentError:()=>U,InvalidDataContentError:()=>eC,InvalidMessageRoleError:()=>eN,InvalidPromptError:()=>N.InvalidPromptError,InvalidResponseDataError:()=>N.InvalidResponseDataError,InvalidStreamPartError:()=>Z,InvalidToolInputError:()=>K,JSONParseError:()=>N.JSONParseError,JsonToSseTransformStream:()=>rb,LoadAPIKeyError:()=>N.LoadAPIKeyError,LoadSettingError:()=>N.LoadSettingError,MessageConversionError:()=>eU,NoContentGeneratedError:()=>N.NoContentGeneratedError,NoImageGeneratedError:()=>et,NoObjectGeneratedError:()=>eo,NoOutputGeneratedError:()=>ec,NoOutputSpecifiedError:()=>A,NoSpeechGeneratedError:()=>em,NoSuchModelError:()=>N.NoSuchModelError,NoSuchProviderError:()=>nY,NoSuchToolError:()=>ev,Output:()=>nP,RetryError:()=>eK,SerialJobExecutor:()=>nb,TextStreamChatTransport:()=>al,TooManyEmbeddingValuesForCallError:()=>N.TooManyEmbeddingValuesForCallError,ToolCallRepairError:()=>ek,TypeValidationError:()=>N.TypeValidationError,UI_MESSAGE_STREAM_HEADERS:()=>r_,UnsupportedFunctionalityError:()=>N.UnsupportedFunctionalityError,UnsupportedModelVersionError:()=>eE,asSchema:()=>E.asSchema,assistantModelMessageSchema:()=>tI,callCompletionApi:()=>n7,consumeStream:()=>rV,convertFileListToFileUIParts:()=>at,convertToCoreMessages:()=>rQ,convertToModelMessages:()=>rX,coreAssistantMessageSchema:()=>tP,coreMessageSchema:()=>tz,coreSystemMessageSchema:()=>tE,coreToolMessageSchema:()=>tA,coreUserMessageSchema:()=>tO,cosineSimilarity:()=>ng,createGateway:()=>x.createGateway,createIdGenerator:()=>E.createIdGenerator,createProviderRegistry:()=>nQ,createTextStreamResponse:()=>rg,createUIMessageStream:()=>ag,createUIMessageStreamResponse:()=>rw,customProvider:()=>nZ,defaultSettingsMiddleware:()=>nD,dynamicTool:()=>E.dynamicTool,embed:()=>r2,embedMany:()=>r9,experimental_createProviderRegistry:()=>n1,experimental_customProvider:()=>nH,experimental_generateImage:()=>r7,experimental_generateSpeech:()=>nO,experimental_transcribe:()=>n3,extractReasoningMiddleware:()=>nF,gateway:()=>x.gateway,generateId:()=>E.generateId,generateObject:()=>nm,generateText:()=>ru,getTextFromDataUrl:()=>ny,getToolName:()=>r$,getToolOrDynamicToolName:()=>rM,hasToolCall:()=>rr,isDataUIPart:()=>rP,isDeepEqualData:()=>nv,isFileUIPart:()=>rA,isReasoningUIPart:()=>rj,isTextUIPart:()=>rC,isToolOrDynamicToolUIPart:()=>rN,isToolUIPart:()=>rz,jsonSchema:()=>E.jsonSchema,lastAssistantMessageIsCompleteWithToolCalls:()=>as,modelMessageSchema:()=>tj,parseJsonEventStream:()=>E.parseJsonEventStream,parsePartialJson:()=>rI,pipeTextStreamToResponse:()=>rv,pipeUIMessageStreamToResponse:()=>rL,pruneMessages:()=>nz,readUIMessageStream:()=>ay,safeValidateUIMessages:()=>am,simulateReadableStream:()=>nw,simulateStreamingMiddleware:()=>nU,smoothStream:()=>nM,stepCountIs:()=>rt,streamObject:()=>nk,streamText:()=>rK,systemModelMessageSchema:()=>tx,tool:()=>E.tool,toolModelMessageSchema:()=>tC,uiMessageChunkSchema:()=>rE,userModelMessageSchema:()=>tT,validateUIMessages:()=>ah,wrapLanguageModel:()=>nL,wrapProvider:()=>nV,zodSchema:()=>E.zodSchema}),t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of _(t))w.call(e,a)||a===r||v(e,a,{get:()=>t[a],enumerable:!(n=b(t,a))||n.enumerable});return e})(v({},"__esModule",{value:!0}),k);var x=e.r(75015),E=e.r(32782),T=e.r(32782),O=e.r(76261),I="AI_NoOutputSpecifiedError",P=`vercel.ai.error.${I}`,C=Symbol.for(P),A=class extends O.AISDKError{constructor({message:e="No output specified."}={}){super({name:I,message:e}),this[n]=!0}static isInstance(e){return O.AISDKError.hasMarker(e,P)}};n=C;var j=!1,z=e=>{if(0===e.length)return;let t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t){if("function"==typeof t)return void t(e);for(let t of(j||(j=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.")),e))console.warn(function(e){let t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let r=`${t} The "${e.setting}" setting is not supported by this model`;return e.details&&(r+=` - ${e.details}`),r}case"unsupported-tool":{let r="name"in e.tool?e.tool.name:"unknown tool",n=`${t} The tool "${r}" is not supported by this model`;return e.details&&(n+=` - ${e.details}`),n}case"other":return`${t} ${e.message}`;default:return`${t} ${JSON.stringify(e,null,2)}`}}(t))}},R=e.r(75015),N=e.r(76261),$=e.r(76261),M="AI_InvalidArgumentError",D=`vercel.ai.error.${M}`,F=Symbol.for(D),U=class extends $.AISDKError{constructor({parameter:e,value:t,message:r}){super({name:M,message:`Invalid argument for parameter ${e}: ${r}`}),this[a]=!0,this.parameter=e,this.value=t}static isInstance(e){return $.AISDKError.hasMarker(e,D)}};a=F;var L=e.r(76261),q="AI_InvalidStreamPartError",V=`vercel.ai.error.${q}`,B=Symbol.for(V),Z=class extends L.AISDKError{constructor({chunk:e,message:t}){super({name:q,message:t}),this[i]=!0,this.chunk=e}static isInstance(e){return L.AISDKError.hasMarker(e,V)}};i=B;var H=e.r(76261),G="AI_InvalidToolInputError",W=`vercel.ai.error.${G}`,J=Symbol.for(W),K=class extends H.AISDKError{constructor({toolInput:e,toolName:t,cause:r,message:n=`Invalid input for tool ${t}: ${(0,H.getErrorMessage)(r)}`}){super({name:G,message:n,cause:r}),this[o]=!0,this.toolInput=e,this.toolName=t}static isInstance(e){return H.AISDKError.hasMarker(e,W)}};o=J;var Y=e.r(76261),X="AI_NoImageGeneratedError",Q=`vercel.ai.error.${X}`,ee=Symbol.for(Q),et=class extends Y.AISDKError{constructor({message:e="No image generated.",cause:t,responses:r}){super({name:X,message:e,cause:t}),this[s]=!0,this.responses=r}static isInstance(e){return Y.AISDKError.hasMarker(e,Q)}};s=ee;var er=e.r(76261),en="AI_NoObjectGeneratedError",ea=`vercel.ai.error.${en}`,ei=Symbol.for(ea),eo=class extends er.AISDKError{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:a,finishReason:i}){super({name:en,message:e,cause:t}),this[l]=!0,this.text=r,this.response=n,this.usage=a,this.finishReason=i}static isInstance(e){return er.AISDKError.hasMarker(e,ea)}};l=ei;var es=e.r(76261),el="AI_NoOutputGeneratedError",eu=`vercel.ai.error.${el}`,ed=Symbol.for(eu),ec=class extends es.AISDKError{constructor({message:e="No output generated.",cause:t}={}){super({name:el,message:e,cause:t}),this[u]=!0}static isInstance(e){return es.AISDKError.hasMarker(e,eu)}};u=ed;var ep=e.r(76261),em=class extends ep.AISDKError{constructor(e){super({name:"AI_NoSpeechGeneratedError",message:"No speech audio generated."}),this.responses=e.responses}},eh=e.r(76261),ef="AI_NoSuchToolError",eg=`vercel.ai.error.${ef}`,ey=Symbol.for(eg),ev=class extends eh.AISDKError{constructor({toolName:e,availableTools:t,message:r=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:ef,message:r}),this[d]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return eh.AISDKError.hasMarker(e,eg)}};d=ey;var eb=e.r(76261),e_="AI_ToolCallRepairError",ew=`vercel.ai.error.${e_}`,eS=Symbol.for(ew),ek=class extends eb.AISDKError{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${(0,eb.getErrorMessage)(e)}`}){super({name:e_,message:r,cause:e}),this[c]=!0,this.originalError=t}static isInstance(e){return eb.AISDKError.hasMarker(e,ew)}};c=eS;var ex=e.r(76261),eE=class extends ex.AISDKError{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${e.version} for provider "${e.provider}" and model "${e.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},eT=e.r(76261),eO="AI_InvalidDataContentError",eI=`vercel.ai.error.${eO}`,eP=Symbol.for(eI),eC=class extends eT.AISDKError{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:eO,message:r,cause:t}),this[p]=!0,this.content=e}static isInstance(e){return eT.AISDKError.hasMarker(e,eI)}};p=eP;var eA=e.r(76261),ej="AI_InvalidMessageRoleError",ez=`vercel.ai.error.${ej}`,eR=Symbol.for(ez),eN=class extends eA.AISDKError{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ej,message:t}),this[m]=!0,this.role=e}static isInstance(e){return eA.AISDKError.hasMarker(e,ez)}};m=eR;var e$=e.r(76261),eM="AI_MessageConversionError",eD=`vercel.ai.error.${eM}`,eF=Symbol.for(eD),eU=class extends e$.AISDKError{constructor({originalMessage:e,message:t}){super({name:eM,message:t}),this[h]=!0,this.originalMessage=e}static isInstance(e){return e$.AISDKError.hasMarker(e,eD)}};h=eF;var eL=e.r(76261),eq="AI_DownloadError",eV=`vercel.ai.error.${eq}`,eB=Symbol.for(eV),eZ=class extends eL.AISDKError{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=null==n?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:eq,message:a,cause:n}),this[f]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return eL.AISDKError.hasMarker(e,eV)}};f=eB;var eH=e.r(76261),eG="AI_RetryError",eW=`vercel.ai.error.${eG}`,eJ=Symbol.for(eW),eK=class extends eH.AISDKError{constructor({message:e,reason:t,errors:r}){super({name:eG,message:e}),this[g]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return eH.AISDKError.hasMarker(e,eW)}};function eY(e){if("string"!=typeof e){if("v2"!==e.specificationVersion)throw new eE({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return eQ().languageModel(e)}function eX(e){if("string"!=typeof e){if("v2"!==e.specificationVersion)throw new eE({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return eQ().textEmbeddingModel(e)}function eQ(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:R.gateway}g=eJ;var e1=e.r(32782),e0=e.r(32782),e2=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],e4=[{mediaType:"audio/mpeg",bytesPrefix:[255,251]},{mediaType:"audio/mpeg",bytesPrefix:[255,250]},{mediaType:"audio/mpeg",bytesPrefix:[255,243]},{mediaType:"audio/mpeg",bytesPrefix:[255,242]},{mediaType:"audio/mpeg",bytesPrefix:[255,227]},{mediaType:"audio/mpeg",bytesPrefix:[255,226]},{mediaType:"audio/wav",bytesPrefix:[82,73,70,70,null,null,null,null,87,65,86,69]},{mediaType:"audio/ogg",bytesPrefix:[79,103,103,83]},{mediaType:"audio/flac",bytesPrefix:[102,76,97,67]},{mediaType:"audio/aac",bytesPrefix:[64,21,0,0]},{mediaType:"audio/mp4",bytesPrefix:[102,116,121,112]},{mediaType:"audio/webm",bytesPrefix:[26,69,223,163]}];function e6({data:e,signatures:t}){let r,n,a="string"==typeof e&&e.startsWith("SUQz")||"string"!=typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?(n=(127&(r="string"==typeof e?(0,e0.convertBase64ToUint8Array)(e):e)[6])<<21|(127&r[7])<<14|(127&r[8])<<7|127&r[9],r.slice(n+10)):e,i="string"==typeof a?(0,e0.convertBase64ToUint8Array)(a.substring(0,Math.min(a.length,24))):a;for(let e of t)if(i.length>=e.bytesPrefix.length&&e.bytesPrefix.every((e,t)=>null===e||i[t]===e))return e.mediaType}var e3=e.r(32782),e9="5.0.97",e5=async({url:e})=>{var t;let r=e.toString();try{let e=await fetch(r,{headers:(0,e3.withUserAgentSuffix)({},`ai-sdk/${e9}`,(0,e3.getRuntimeEnvironmentUserAgent)())});if(!e.ok)throw new eZ({url:r,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(t=e.headers.get("content-type"))?t:void 0}}catch(e){if(eZ.isInstance(e))throw e;throw new eZ({url:r,cause:e})}},e8=e.r(76261),e7=e.r(32782),te=e.r(72358),tt=te.z.union([te.z.string(),te.z.instanceof(Uint8Array),te.z.instanceof(ArrayBuffer),te.z.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]);function tr(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"==typeof e)try{e=new URL(e)}catch(e){}if(e instanceof URL&&"data:"===e.protocol){let{mediaType:t,base64Content:r}=function(e){try{let[t,r]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:r}}catch(e){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==t||null==r)throw new e8.AISDKError({name:"InvalidDataContentError",message:`Invalid data URL format in content ${e.toString()}`});return{data:r,mediaType:t}}return{data:e,mediaType:void 0}}async function tn({prompt:e,supportedUrls:t,download:r=((e=e5)=>t=>Promise.all(t.map(async t=>t.isUrlSupportedByModel?null:e(t))))()}){let n=await ta(e.messages,r,t);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function({message:e,downloadedAssets:t}){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerOptions:e.providerOptions};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions};return{role:"user",content:e.content.map(e=>(function(e,t){var r;let n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let a=e.type;switch(a){case"image":n=e.image;break;case"file":n=e.data;break;default:throw Error(`Unsupported part type: ${a}`)}let{data:i,mediaType:o}=tr(n),s=null!=o?o:e.mediaType,l=i;if(l instanceof URL){let e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(a){case"image":return(l instanceof Uint8Array||"string"==typeof l)&&(s=null!=(r=e6({data:l,signatures:e2}))?r:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerOptions:e.providerOptions};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text||null!=e.providerOptions).map(e=>{let t=e.providerOptions;switch(e.type){case"file":{let{data:r,mediaType:n}=tr(e.data);return{type:"file",data:r,filename:e.filename,mediaType:null!=n?n:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}}),providerOptions:e.providerOptions};case"tool":return{role:"tool",content:e.content.map(e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions})),providerOptions:e.providerOptions};default:throw new eN({role:r})}})({message:e,downloadedAssets:n}))]}async function ta(e,t,r){let n=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).map(e=>{var t;let r=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0,n="image"===e.type?e.image:e.data;if("string"==typeof n)try{n=new URL(n)}catch(e){}return{mediaType:r,data:n}}).filter(e=>e.data instanceof URL).map(e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&(0,e1.isUrlSupported)({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:r})}));return Object.fromEntries((await t(n)).map((e,t)=>null==e?null:[n[t].url.toString(),{data:e.data,mediaType:e.mediaType}]).filter(e=>null!=e))}function ti({maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,seed:o,stopSequences:s}){if(null!=e){if(!Number.isInteger(e))throw new U({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be an integer"});if(e<1)throw new U({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new U({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=r&&"number"!=typeof r)throw new U({parameter:"topP",value:r,message:"topP must be a number"});if(null!=n&&"number"!=typeof n)throw new U({parameter:"topK",value:n,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new U({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=i&&"number"!=typeof i)throw new U({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(null!=o&&!Number.isInteger(o))throw new U({parameter:"seed",value:o,message:"seed must be an integer"});return{maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,stopSequences:s,seed:o}}var to=e.r(32782);function ts({tools:e,toolChoice:t,activeTools:r}){return null!=e&&Object.keys(e).length>0?{tools:(null!=r?Object.entries(e).filter(([e])=>r.includes(e)):Object.entries(e)).map(([e,t])=>{let r=t.type;switch(r){case void 0:case"dynamic":case"function":return{type:"function",name:e,description:t.description,inputSchema:(0,to.asSchema)(t.inputSchema).jsonSchema,providerOptions:t.providerOptions};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${r}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var tl=e.r(76261),tu=e.r(32782),td=e.r(72358),tc=e.r(72358),tp=e.r(72358),tm=e.r(72358),th=tm.z.lazy(()=>tm.z.union([tm.z.null(),tm.z.string(),tm.z.number(),tm.z.boolean(),tm.z.record(tm.z.string(),th),tm.z.array(th)])),tf=tp.z.record(tp.z.string(),tp.z.record(tp.z.string(),th)),tg=e.r(72358),ty=tg.z.object({type:tg.z.literal("text"),text:tg.z.string(),providerOptions:tf.optional()}),tv=tg.z.object({type:tg.z.literal("image"),image:tg.z.union([tt,tg.z.instanceof(URL)]),mediaType:tg.z.string().optional(),providerOptions:tf.optional()}),tb=tg.z.object({type:tg.z.literal("file"),data:tg.z.union([tt,tg.z.instanceof(URL)]),filename:tg.z.string().optional(),mediaType:tg.z.string(),providerOptions:tf.optional()}),t_=tg.z.object({type:tg.z.literal("reasoning"),text:tg.z.string(),providerOptions:tf.optional()}),tw=tg.z.object({type:tg.z.literal("tool-call"),toolCallId:tg.z.string(),toolName:tg.z.string(),input:tg.z.unknown(),providerOptions:tf.optional(),providerExecuted:tg.z.boolean().optional()}),tS=tg.z.discriminatedUnion("type",[tg.z.object({type:tg.z.literal("text"),value:tg.z.string()}),tg.z.object({type:tg.z.literal("json"),value:th}),tg.z.object({type:tg.z.literal("error-text"),value:tg.z.string()}),tg.z.object({type:tg.z.literal("error-json"),value:th}),tg.z.object({type:tg.z.literal("content"),value:tg.z.array(tg.z.union([tg.z.object({type:tg.z.literal("text"),text:tg.z.string()}),tg.z.object({type:tg.z.literal("media"),data:tg.z.string(),mediaType:tg.z.string()})]))})]),tk=tg.z.object({type:tg.z.literal("tool-result"),toolCallId:tg.z.string(),toolName:tg.z.string(),output:tS,providerOptions:tf.optional()}),tx=tc.z.object({role:tc.z.literal("system"),content:tc.z.string(),providerOptions:tf.optional()}),tE=tx,tT=tc.z.object({role:tc.z.literal("user"),content:tc.z.union([tc.z.string(),tc.z.array(tc.z.union([ty,tv,tb]))]),providerOptions:tf.optional()}),tO=tT,tI=tc.z.object({role:tc.z.literal("assistant"),content:tc.z.union([tc.z.string(),tc.z.array(tc.z.union([ty,tb,t_,tw,tk]))]),providerOptions:tf.optional()}),tP=tI,tC=tc.z.object({role:tc.z.literal("tool"),content:tc.z.array(tk),providerOptions:tf.optional()}),tA=tC,tj=tc.z.union([tx,tT,tI,tC]),tz=tj;async function tR(e){let t;if(null==e.prompt&&null==e.messages)throw new tl.InvalidPromptError({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new tl.InvalidPromptError({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new tl.InvalidPromptError({prompt:e,message:"system must be a string"});if(null!=e.prompt&&"string"==typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else if(null!=e.messages)t=e.messages;else throw new tl.InvalidPromptError({prompt:e,message:"prompt or messages must be defined"});if(0===t.length)throw new tl.InvalidPromptError({prompt:e,message:"messages must not be empty"});let r=await (0,tu.safeValidateTypes)({value:t,schema:td.z.array(tj)});if(!r.success)throw new tl.InvalidPromptError({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:r.error});return{messages:t,system:e.system}}var tN=e.r(75015),t$=e.r(76261);function tM(e){return tN.GatewayAuthenticationError.isInstance(e)||tN.GatewayModelNotFoundError.isInstance(e)?new t$.AISDKError({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function tD({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}function tF({model:e,settings:t,telemetry:r,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,r])=>(e[`ai.settings.${t}`]=r,e),{}),...Object.entries(null!=(a=null==r?void 0:r.metadata)?a:{}).reduce((e,[t,r])=>(e[`ai.telemetry.metadata.${t}`]=r,e),{}),...Object.entries(null!=n?n:{}).reduce((e,[t,r])=>(void 0!==r&&(e[`ai.request.headers.${t}`]=r),e),{})}}var tU=e.r(7896),tL={startSpan:()=>tq,startActiveSpan:(e,t,r,n)=>"function"==typeof t?t(tq):"function"==typeof r?r(tq):"function"==typeof n?n(tq):void 0},tq={spanContext:()=>tV,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},tV={traceId:"",spanId:"",traceFlags:0};function tB({isEnabled:e=!1,tracer:t}={}){return e?t||tU.trace.getTracer("ai"):tL}var tZ=e.r(7896);function tH({name:e,tracer:t,attributes:r,fn:n,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:r},async e=>{try{let t=await n(e);return a&&e.end(),t}catch(t){try{tG(e,t)}finally{e.end()}throw t}})}function tG(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:tZ.SpanStatusCode.ERROR,message:t.message})):e.setStatus({code:tZ.SpanStatusCode.ERROR})}function tW({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[r,n])=>{if(null==n)return t;if("object"==typeof n&&"input"in n&&"function"==typeof n.input){if((null==e?void 0:e.recordInputs)===!1)return t;let a=n.input();return null==a?t:{...t,[r]:a}}if("object"==typeof n&&"output"in n&&"function"==typeof n.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let a=n.output();return null==a?t:{...t,[r]:a}}return{...t,[r]:n}},{})}function tJ(e){return JSON.stringify(e.map(e=>({...e,content:"string"==typeof e.content?e.content:e.content.map(e=>{var t;return"file"===e.type?{...e,data:e.data instanceof Uint8Array?"string"==typeof(t=e.data)?t:t instanceof ArrayBuffer?(0,e7.convertUint8ArrayToBase64)(new Uint8Array(t)):(0,e7.convertUint8ArrayToBase64)(t):e.data}:e})})))}function tK(e,t){return{inputTokens:tY(e.inputTokens,t.inputTokens),outputTokens:tY(e.outputTokens,t.outputTokens),totalTokens:tY(e.totalTokens,t.totalTokens),reasoningTokens:tY(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:tY(e.cachedInputTokens,t.cachedInputTokens)}}function tY(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function tX(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var tQ=e.r(76261),t1=e.r(32782);async function t0(e,{maxRetries:t,delayInMs:r,backoffFactor:n,abortSignal:a},i=[]){try{return await e()}catch(u){if((0,t1.isAbortError)(u)||0===t)throw u;let o=(0,t1.getErrorMessage)(u),s=[...i,u],l=s.length;if(l>t)throw new eK({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:s});if(u instanceof Error&&tQ.APICallError.isInstance(u)&&!0===u.isRetryable&&l<=t)return await (0,t1.delay)(function({error:e,exponentialBackoffDelay:t}){let r,n=e.responseHeaders;if(!n)return t;let a=n["retry-after-ms"];if(a){let e=parseFloat(a);Number.isNaN(e)||(r=e)}let i=n["retry-after"];if(i&&void 0===r){let e=parseFloat(i);r=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}return null!=r&&!Number.isNaN(r)&&0<=r&&(r<6e4||r<t)?r:t}({error:u,exponentialBackoffDelay:r}),{abortSignal:a}),t0(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n,abortSignal:a},s);if(1===l)throw u;throw new eK({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:s})}}function t2({maxRetries:e,abortSignal:t}){if(null!=e){if(!Number.isInteger(e))throw new U({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new U({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let r=null!=e?e:2;return{maxRetries:r,retry:(({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2,abortSignal:n}={})=>async a=>t0(a,{maxRetries:e,delayInMs:t,backoffFactor:r,abortSignal:n}))({maxRetries:r,abortSignal:t})}}function t4(e){let t=e.filter(e=>"text"===e.type);if(0!==t.length)return t.map(e=>e.text).join("")}var t6=e.r(32782),t3=class{constructor({data:e,mediaType:t}){const r=e instanceof Uint8Array;this.base64Data=r?void 0:e,this.uint8ArrayData=r?e:void 0,this.mediaType=t}get base64(){return null==this.base64Data&&(this.base64Data=(0,t6.convertUint8ArrayToBase64)(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=(0,t6.convertBase64ToUint8Array)(this.base64Data)),this.uint8ArrayData}},t9=class extends t3{constructor(e){super(e),this.type="file"}},t5=e.r(32782);async function t8({toolCall:e,tools:t,repairToolCall:r,system:n,messages:a}){try{if(null==t)throw new ev({toolName:e.toolName});try{return await t7({toolCall:e,tools:t})}catch(o){if(null==r||!(ev.isInstance(o)||K.isInstance(o)))throw o;let i=null;try{i=await r({toolCall:e,tools:t,inputSchema:({toolName:e})=>{let{inputSchema:r}=t[e];return(0,t5.asSchema)(r).jsonSchema},system:n,messages:a,error:o})}catch(e){throw new ek({cause:e,originalError:o})}if(null==i)throw o;return await t7({toolCall:i,tools:t})}}catch(n){let t=await (0,t5.safeParseJSON)({text:e.input}),r=t.success?t.value:e.input;return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:r,dynamic:!0,invalid:!0,error:n}}}async function t7({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(null==n)throw new ev({toolName:e.toolName,availableTools:Object.keys(t)});let a=(0,t5.asSchema)(n.inputSchema),i=""===e.input.trim()?await (0,t5.safeValidateTypes)({value:{},schema:a}):await (0,t5.safeParseJSON)({text:e.input,schema:a});if(!1===i.success)throw new K({toolName:r,toolInput:e.input,cause:i.error});return"dynamic"===n.type?{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:i.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:e.toolCallId,toolName:r,input:i.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}}var re=class{constructor({content:e,finishReason:t,usage:r,warnings:n,request:a,response:i,providerMetadata:o}){this.content=e,this.finishReason=t,this.usage=r,this.warnings=n,this.request=a,this.response=i,this.providerMetadata=o}get text(){return this.content.filter(e=>"text"===e.type).map(e=>e.text).join("")}get reasoning(){return this.content.filter(e=>"reasoning"===e.type)}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map(e=>e.text).join("")}get files(){return this.content.filter(e=>"file"===e.type).map(e=>e.file)}get sources(){return this.content.filter(e=>"source"===e.type)}get toolCalls(){return this.content.filter(e=>"tool-call"===e.type)}get staticToolCalls(){return this.toolCalls.filter(e=>!0!==e.dynamic)}get dynamicToolCalls(){return this.toolCalls.filter(e=>!0===e.dynamic)}get toolResults(){return this.content.filter(e=>"tool-result"===e.type)}get staticToolResults(){return this.toolResults.filter(e=>!0!==e.dynamic)}get dynamicToolResults(){return this.toolResults.filter(e=>!0===e.dynamic)}};function rt(e){return({steps:t})=>t.length===e}function rr(e){return({steps:t})=>{var r,n,a;return null!=(a=null==(n=null==(r=t[t.length-1])?void 0:r.toolCalls)?void 0:n.some(t=>t.toolName===e))&&a}}async function rn({stopConditions:e,steps:t}){return(await Promise.all(e.map(e=>e({steps:t})))).some(e=>e)}var ra=e.r(76261);function ri({output:e,tool:t,errorMode:r}){return"text"===r?{type:"error-text",value:(0,ra.getErrorMessage)(e)}:"json"===r?{type:"error-json",value:ro(e)}:(null==t?void 0:t.toModelOutput)?t.toModelOutput(e):"string"==typeof e?{type:"text",value:e}:{type:"json",value:ro(e)}}function ro(e){return void 0===e?null:e}function rs({content:e,tools:t}){let r=[],n=e.filter(e=>"source"!==e.type).filter(e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted)).filter(e=>"text"!==e.type||e.text.length>0).map(e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ri({tool:null==t?void 0:t[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ri({tool:null==t?void 0:t[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}});n.length>0&&r.push({role:"assistant",content:n});let a=e.filter(e=>"tool-result"===e.type||"tool-error"===e.type).filter(e=>!e.providerExecuted).map(e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ri({tool:null==t?void 0:t[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"}),...null!=e.providerMetadata?{providerOptions:e.providerMetadata}:{}}));return a.length>0&&r.push({role:"tool",content:a}),r}var rl=(0,T.createIdGenerator)({prefix:"aitxt",size:24});async function ru({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,stopWhen:u=rt(1),experimental_output:d,experimental_telemetry:c,providerOptions:p,experimental_activeTools:m,activeTools:h=m,experimental_prepareStep:f,prepareStep:g=f,experimental_repairToolCall:y,experimental_download:v,experimental_context:b,_internal:{generateId:_=rl,currentDate:w=()=>new Date}={},onStepFinish:S,...k}){let x=eY(e),E=tX(u),{maxRetries:O,retry:I}=t2({maxRetries:o,abortSignal:s}),P=ti(k),C=(0,T.withUserAgentSuffix)(null!=l?l:{},`ai/${e9}`),A=tF({model:x,telemetry:c,headers:C,settings:{...P,maxRetries:O}}),j=await tR({system:n,prompt:a,messages:i}),R=tB(c);try{return await tH({name:"ai.generateText",attributes:tW({telemetry:c,attributes:{...tD({operationId:"ai.generateText",telemetry:c}),...A,"ai.model.provider":x.provider,"ai.model.id":x.modelId,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:i})}}}),tracer:R,fn:async e=>{var a,i,o,l,u,m,f;let O,P,N=ti(k),$=[],M=[],D=[],F=[];do{let e=[...j.messages,...D],E=await (null==g?void 0:g({model:x,steps:F,stepNumber:F.length,messages:e})),P=eY(null!=(a=null==E?void 0:E.model)?a:x),U=await tn({prompt:{system:null!=(i=null==E?void 0:E.system)?i:j.system,messages:null!=(o=null==E?void 0:E.messages)?o:e},supportedUrls:await P.supportedUrls,download:v}),{toolChoice:L,tools:q}=ts({tools:t,toolChoice:null!=(l=null==E?void 0:E.toolChoice)?l:r,activeTools:null!=(u=null==E?void 0:E.activeTools)?u:h});O=await I(()=>{var e;return tH({name:"ai.generateText.doGenerate",attributes:tW({telemetry:c,attributes:{...tD({operationId:"ai.generateText.doGenerate",telemetry:c}),...A,"ai.model.provider":P.provider,"ai.model.id":P.modelId,"ai.prompt.messages":{input:()=>tJ(U)},"ai.prompt.tools":{input:()=>null==q?void 0:q.map(e=>JSON.stringify(e))},"ai.prompt.toolChoice":{input:()=>null!=L?JSON.stringify(L):void 0},"gen_ai.system":P.provider,"gen_ai.request.model":P.modelId,"gen_ai.request.frequency_penalty":k.frequencyPenalty,"gen_ai.request.max_tokens":k.maxOutputTokens,"gen_ai.request.presence_penalty":k.presencePenalty,"gen_ai.request.stop_sequences":k.stopSequences,"gen_ai.request.temperature":null!=(e=k.temperature)?e:void 0,"gen_ai.request.top_k":k.topK,"gen_ai.request.top_p":k.topP}}),tracer:R,fn:async e=>{var t,r,n,a,i,o,l,u;let m=await P.doGenerate({...N,tools:q,toolChoice:L,responseFormat:null==d?void 0:d.responseFormat,prompt:U,providerOptions:p,abortSignal:s,headers:C}),h={id:null!=(r=null==(t=m.response)?void 0:t.id)?r:_(),timestamp:null!=(a=null==(n=m.response)?void 0:n.timestamp)?a:w(),modelId:null!=(o=null==(i=m.response)?void 0:i.modelId)?o:P.modelId,headers:null==(l=m.response)?void 0:l.headers,body:null==(u=m.response)?void 0:u.body};return e.setAttributes(tW({telemetry:c,attributes:{"ai.response.finishReason":m.finishReason,"ai.response.text":{output:()=>t4(m.content)},"ai.response.toolCalls":{output:()=>{let e=rp(m.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":h.id,"ai.response.model":h.modelId,"ai.response.timestamp":h.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(m.providerMetadata),"ai.usage.promptTokens":m.usage.inputTokens,"ai.usage.completionTokens":m.usage.outputTokens,"gen_ai.response.finish_reasons":[m.finishReason],"gen_ai.response.id":h.id,"gen_ai.response.model":h.modelId,"gen_ai.usage.input_tokens":m.usage.inputTokens,"gen_ai.usage.output_tokens":m.usage.outputTokens}})),{...m,response:h}}})});let V=await Promise.all(O.content.filter(e=>"tool-call"===e.type).map(r=>t8({toolCall:r,tools:t,repairToolCall:y,system:n,messages:e})));for(let r of V){if(r.invalid)continue;let n=t[r.toolName];(null==n?void 0:n.onInputAvailable)!=null&&await n.onInputAvailable({input:r.input,toolCallId:r.toolCallId,messages:e,abortSignal:s,experimental_context:b})}let B=V.filter(e=>e.invalid&&e.dynamic);for(let e of(M=[],B))M.push({type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,error:(0,T.getErrorMessage)(e.error),dynamic:!0});$=V.filter(e=>!e.providerExecuted),null!=t&&M.push(...await rd({toolCalls:$.filter(e=>!e.invalid),tools:t,tracer:R,telemetry:c,messages:e,abortSignal:s,experimental_context:b}));let Z=function({content:e,toolCalls:t,toolOutputs:r}){return[...e.map(e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new t3(e)};case"tool-call":return t.find(t=>t.toolCallId===e.toolCallId);case"tool-result":{let r=t.find(t=>t.toolCallId===e.toolCallId);if(null==r)throw Error(`Tool call ${e.toolCallId} not found.`);if(e.isError)return{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:r.input,error:e.result,providerExecuted:!0,dynamic:r.dynamic};return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:r.input,output:e.result,providerExecuted:!0,dynamic:r.dynamic}}}}),...r]}({content:O.content,toolCalls:V,toolOutputs:M});D.push(...rs({content:Z,tools:t}));let H=new re({content:Z,finishReason:O.finishReason,usage:O.usage,warnings:O.warnings,providerMetadata:O.providerMetadata,request:null!=(m=O.request)?m:{},response:{...O.response,messages:structuredClone(D)}});z(null!=(f=O.warnings)?f:[]),F.push(H),await (null==S?void 0:S(H))}while($.length>0&&M.length===$.length&&!await rn({stopConditions:E,steps:F}))e.setAttributes(tW({telemetry:c,attributes:{"ai.response.finishReason":O.finishReason,"ai.response.text":{output:()=>t4(O.content)},"ai.response.toolCalls":{output:()=>{let e=rp(O.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(O.providerMetadata),"ai.usage.promptTokens":O.usage.inputTokens,"ai.usage.completionTokens":O.usage.outputTokens}}));let U=F[F.length-1];return"stop"===U.finishReason&&(P=await (null==d?void 0:d.parseOutput({text:U.text},{response:U.response,usage:U.usage,finishReason:U.finishReason}))),new rc({steps:F,resolvedOutput:P})}})}catch(e){throw tM(e)}}async function rd({toolCalls:e,tools:t,tracer:r,telemetry:n,messages:a,abortSignal:i,experimental_context:o}){return(await Promise.all(e.map(async({toolCallId:e,toolName:s,input:l})=>{let u=t[s];if((null==u?void 0:u.execute)!=null)return tH({name:"ai.toolCall",attributes:tW({telemetry:n,attributes:{...tD({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":s,"ai.toolCall.id":e,"ai.toolCall.args":{output:()=>JSON.stringify(l)}}}),tracer:r,fn:async t=>{try{let r;for await(let t of(0,T.executeTool)({execute:u.execute.bind(u),input:l,options:{toolCallId:e,messages:a,abortSignal:i,experimental_context:o}}))"final"===t.type&&(r=t.output);try{t.setAttributes(tW({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(r)}}}))}catch(e){}return{type:"tool-result",toolCallId:e,toolName:s,input:l,output:r,dynamic:"dynamic"===u.type}}catch(r){return tG(t,r),{type:"tool-error",toolCallId:e,toolName:s,input:l,error:r,dynamic:"dynamic"===u.type}}}})}))).filter(e=>null!=e)}var rc=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce((e,t)=>tK(e,t.usage),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new A;return this.resolvedOutput}};function rp(e){let t=e.filter(e=>"tool-call"===e.type);if(0!==t.length)return t.map(e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input}))}var rm=e.r(76261),rh=e.r(32782);function rf(e,t){let r=new Headers(null!=e?e:{});for(let[e,n]of Object.entries(t))r.has(e)||r.set(e,n);return r}function rg({status:e,statusText:t,headers:r,textStream:n}){return new Response(n.pipeThrough(new TextEncoderStream),{status:null!=e?e:200,statusText:t,headers:rf(r,{"content-type":"text/plain; charset=utf-8"})})}function ry({response:e,status:t,statusText:r,headers:n,stream:a}){e.writeHead(null!=t?t:200,r,n);let i=a.getReader();(async()=>{try{for(;;){let{done:t,value:r}=await i.read();if(t)break;e.write(r)||await new Promise(t=>{e.once("drain",t)})}}catch(e){throw e}finally{e.end()}})()}function rv({response:e,status:t,statusText:r,headers:n,textStream:a}){ry({response:e,status:t,statusText:r,headers:Object.fromEntries(rf(n,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:a.pipeThrough(new TextEncoderStream)})}var rb=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue("data: [DONE]\n\n")}})}},r_={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function rw({status:e,statusText:t,headers:r,stream:n,consumeSseStream:a}){let i=n.pipeThrough(new rb);if(a){let[e,t]=i.tee();i=e,a({stream:t})}return new Response(i.pipeThrough(new TextEncoderStream),{status:e,statusText:t,headers:rf(r,r_)})}var rS=e.r(32782),rk=e.r(72358),rx=e.r(32782),rE=(0,rx.lazyValidator)(()=>(0,rx.zodSchema)(rk.z.union([rk.z.strictObject({type:rk.z.literal("text-start"),id:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("text-delta"),id:rk.z.string(),delta:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("text-end"),id:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("error"),errorText:rk.z.string()}),rk.z.strictObject({type:rk.z.literal("tool-input-start"),toolCallId:rk.z.string(),toolName:rk.z.string(),providerExecuted:rk.z.boolean().optional(),dynamic:rk.z.boolean().optional()}),rk.z.strictObject({type:rk.z.literal("tool-input-delta"),toolCallId:rk.z.string(),inputTextDelta:rk.z.string()}),rk.z.strictObject({type:rk.z.literal("tool-input-available"),toolCallId:rk.z.string(),toolName:rk.z.string(),input:rk.z.unknown(),providerExecuted:rk.z.boolean().optional(),providerMetadata:tf.optional(),dynamic:rk.z.boolean().optional()}),rk.z.strictObject({type:rk.z.literal("tool-input-error"),toolCallId:rk.z.string(),toolName:rk.z.string(),input:rk.z.unknown(),providerExecuted:rk.z.boolean().optional(),providerMetadata:tf.optional(),dynamic:rk.z.boolean().optional(),errorText:rk.z.string()}),rk.z.strictObject({type:rk.z.literal("tool-output-available"),toolCallId:rk.z.string(),output:rk.z.unknown(),providerExecuted:rk.z.boolean().optional(),dynamic:rk.z.boolean().optional(),preliminary:rk.z.boolean().optional()}),rk.z.strictObject({type:rk.z.literal("tool-output-error"),toolCallId:rk.z.string(),errorText:rk.z.string(),providerExecuted:rk.z.boolean().optional(),dynamic:rk.z.boolean().optional()}),rk.z.strictObject({type:rk.z.literal("reasoning-start"),id:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("reasoning-delta"),id:rk.z.string(),delta:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("reasoning-end"),id:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("source-url"),sourceId:rk.z.string(),url:rk.z.string(),title:rk.z.string().optional(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("source-document"),sourceId:rk.z.string(),mediaType:rk.z.string(),title:rk.z.string(),filename:rk.z.string().optional(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.literal("file"),url:rk.z.string(),mediaType:rk.z.string(),providerMetadata:tf.optional()}),rk.z.strictObject({type:rk.z.custom(e=>"string"==typeof e&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:rk.z.string().optional(),data:rk.z.unknown(),transient:rk.z.boolean().optional()}),rk.z.strictObject({type:rk.z.literal("start-step")}),rk.z.strictObject({type:rk.z.literal("finish-step")}),rk.z.strictObject({type:rk.z.literal("start"),messageId:rk.z.string().optional(),messageMetadata:rk.z.unknown().optional()}),rk.z.strictObject({type:rk.z.literal("finish"),finishReason:rk.z.enum(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:rk.z.unknown().optional()}),rk.z.strictObject({type:rk.z.literal("abort")}),rk.z.strictObject({type:rk.z.literal("message-metadata"),messageMetadata:rk.z.unknown()})])));function rT(e,t){if(void 0===e&&void 0===t)return;if(void 0===e)return t;if(void 0===t)return e;let r={...e};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let a=t[n];if(void 0===a)continue;let i=n in e?e[n]:void 0,o=null!==a&&"object"==typeof a&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),s=null!=i&&"object"==typeof i&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp);o&&s?r[n]=rT(i,a):r[n]=a}return r}var rO=e.r(32782);async function rI(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await (0,rO.safeParseJSON)({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await (0,rO.safeParseJSON)({text:function(e){let t=["ROOT"],r=-1,n=null;function a(e,a,i){switch(e){case'"':r=a,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=a,n=a,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=a,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=a,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=a,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function o(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let s=0;s<e.length;s++){let l=e[s];switch(t[t.length-1]){case"ROOT":a(l,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(l,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(l,s);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=s}break;case"INSIDE_ARRAY_START":"]"===l?(r=s,t.pop()):(r=s,a(l,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=s,t.pop();break;default:r=s}break;case"INSIDE_ARRAY_AFTER_COMMA":a(l,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=s;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{let a=e.substring(n,s+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?r=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(l,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s))}}}let s=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}function rP(e){return e.type.startsWith("data-")}function rC(e){return"text"===e.type}function rA(e){return"file"===e.type}function rj(e){return"reasoning"===e.type}function rz(e){return e.type.startsWith("tool-")}function rR(e){return"dynamic-tool"===e.type}function rN(e){return rz(e)||rR(e)}function r$(e){return e.type.split("-").slice(1).join("-")}function rM(e){return rR(e)?e.toolName:r$(e)}function rD({lastMessage:e,messageId:t}){return{message:(null==e?void 0:e.role)==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function rF({stream:e,messageMetadataSchema:t,dataPartSchemas:r,runUpdateMessageJob:n,onError:a,onToolCall:i,onData:o}){return e.pipeThrough(new TransformStream({async transform(e,s){await n(async({state:n,write:l})=>{var u,d,c,p;function m(e){let t=n.message.parts.filter(rz).find(t=>t.toolCallId===e);if(null==t)throw Error("tool-output-error must be preceded by a tool-input-available");return t}function h(e){let t=n.message.parts.filter(e=>"dynamic-tool"===e.type).find(t=>t.toolCallId===e);if(null==t)throw Error("tool-output-error must be preceded by a tool-input-available");return t}function f(e){var t;let r=n.message.parts.find(t=>rz(t)&&t.toolCallId===e.toolCallId);null!=r?(r.state=e.state,r.input=e.input,r.output=e.output,r.errorText=e.errorText,r.rawInput=e.rawInput,r.preliminary=e.preliminary,r.providerExecuted=null!=(t=e.providerExecuted)?t:r.providerExecuted,null!=e.providerMetadata&&"input-available"===r.state&&(r.callProviderMetadata=e.providerMetadata)):n.message.parts.push({type:`tool-${e.toolName}`,toolCallId:e.toolCallId,state:e.state,input:e.input,output:e.output,rawInput:e.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted,preliminary:e.preliminary,...null!=e.providerMetadata?{callProviderMetadata:e.providerMetadata}:{}})}function g(e){var t,r;let a=n.message.parts.find(t=>"dynamic-tool"===t.type&&t.toolCallId===e.toolCallId);null!=a?(a.state=e.state,a.toolName=e.toolName,a.input=e.input,a.output=e.output,a.errorText=e.errorText,a.rawInput=null!=(t=e.rawInput)?t:a.rawInput,a.preliminary=e.preliminary,a.providerExecuted=null!=(r=e.providerExecuted)?r:a.providerExecuted,null!=e.providerMetadata&&"input-available"===a.state&&(a.callProviderMetadata=e.providerMetadata)):n.message.parts.push({type:"dynamic-tool",toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:e.input,output:e.output,errorText:e.errorText,preliminary:e.preliminary,providerExecuted:e.providerExecuted,...null!=e.providerMetadata?{callProviderMetadata:e.providerMetadata}:{}})}async function y(e){if(null!=e){let r=null!=n.message.metadata?rT(n.message.metadata,e):e;null!=t&&await (0,rS.validateTypes)({value:r,schema:t}),n.message.metadata=r}}switch(e.type){case"text-start":{let t={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};n.activeTextParts[e.id]=t,n.message.parts.push(t),l();break}case"text-delta":{let t=n.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(u=e.providerMetadata)?u:t.providerMetadata,l();break}case"text-end":{let t=n.activeTextParts[e.id];t.state="done",t.providerMetadata=null!=(d=e.providerMetadata)?d:t.providerMetadata,delete n.activeTextParts[e.id],l();break}case"reasoning-start":{let t={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};n.activeReasoningParts[e.id]=t,n.message.parts.push(t),l();break}case"reasoning-delta":{let t=n.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(c=e.providerMetadata)?c:t.providerMetadata,l();break}case"reasoning-end":{let t=n.activeReasoningParts[e.id];t.providerMetadata=null!=(p=e.providerMetadata)?p:t.providerMetadata,t.state="done",delete n.activeReasoningParts[e.id],l();break}case"file":n.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),l();break;case"source-url":n.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),l();break;case"source-document":n.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),l();break;case"tool-input-start":{let t=n.message.parts.filter(rz);n.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}):f({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}),l();break}case"tool-input-delta":{let t=n.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;let{value:r}=await rI(t.text);t.dynamic?g({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:r}):f({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:r}),l();break}case"tool-input-available":e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):f({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),l(),i&&!e.providerExecuted&&await i({toolCall:e});break;case"tool-input-error":e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):f({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),l();break;case"tool-output-available":if(e.dynamic){let t=h(e.toolCallId);g({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-available",input:t.input,output:e.output,preliminary:e.preliminary})}else{let t=m(e.toolCallId);f({toolCallId:e.toolCallId,toolName:r$(t),state:"output-available",input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}l();break;case"tool-output-error":if(e.dynamic){let t=h(e.toolCallId);g({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-error",input:t.input,errorText:e.errorText,providerExecuted:e.providerExecuted})}else{let t=m(e.toolCallId);f({toolCallId:e.toolCallId,toolName:r$(t),state:"output-error",input:t.input,rawInput:t.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted})}l();break;case"start-step":n.message.parts.push({type:"step-start"});break;case"finish-step":n.activeTextParts={},n.activeReasoningParts={};break;case"start":null!=e.messageId&&(n.message.id=e.messageId),await y(e.messageMetadata),(null!=e.messageId||null!=e.messageMetadata)&&l();break;case"finish":null!=e.finishReason&&(n.finishReason=e.finishReason),await y(e.messageMetadata),null!=e.messageMetadata&&l();break;case"message-metadata":await y(e.messageMetadata),null!=e.messageMetadata&&l();break;case"error":null==a||a(Error(e.errorText));break;default:if(e.type.startsWith("data-")){if((null==r?void 0:r[e.type])!=null&&await (0,rS.validateTypes)({value:e.data,schema:r[e.type]}),e.transient){null==o||o(e);break}let t=null!=e.id?n.message.parts.find(t=>e.type===t.type&&e.id===t.id):void 0;null!=t?t.data=e.data:n.message.parts.push(e),null==o||o(e),l()}}s.enqueue(e)})}}))}function rU({messageId:e,originalMessages:t=[],onFinish:r,onError:n,stream:a}){let i=null==t?void 0:t[t.length-1];(null==i?void 0:i.role)!=="assistant"?i=void 0:e=i.id;let o=!1,s=a.pipeThrough(new TransformStream({transform(t,r){"start"===t.type&&null==t.messageId&&null!=e&&(t.messageId=e),"abort"===t.type&&(o=!0),r.enqueue(t)}}));if(null==r)return s;let l=rD({lastMessage:i?structuredClone(i):void 0,messageId:null!=e?e:""}),u=!1,d=async()=>{if(u||!r)return;u=!0;let e=l.message.id===(null==i?void 0:i.id);await r({isAborted:o,isContinuation:e,responseMessage:l.message,messages:[...e?t.slice(0,-1):t,l.message],finishReason:l.finishReason})};return rF({stream:s,runUpdateMessageJob:async e=>{await e({state:l,write:()=>{}})},onError:n}).pipeThrough(new TransformStream({transform(e,t){t.enqueue(e)},async cancel(){await d()},async flush(){await d()}}))}function rL({response:e,status:t,statusText:r,headers:n,stream:a,consumeSseStream:i}){let o=a.pipeThrough(new rb);if(i){let[e,t]=o.tee();o=e,i({stream:t})}ry({response:e,status:t,statusText:r,headers:Object.fromEntries(rf(n,r_).entries()),stream:o.pipeThrough(new TextEncoderStream)})}function rq(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=function(){let e=this.getReader(),t=!1;async function r(r){var n;t=!0;try{r&&await (null==(n=e.cancel)?void 0:n.call(e))}finally{try{e.releaseLock()}catch(e){}}}return{async next(){if(t)return{done:!0,value:void 0};let{done:n,value:a}=await e.read();return n?(await r(!0),{done:!0,value:void 0}):{done:!1,value:a}},return:async()=>(await r(!0),{done:!0,value:void 0}),async throw(e){throw await r(!0),e}}},t}async function rV({stream:e,onError:t}){let r=e.getReader();try{for(;;){let{done:e}=await r.read();if(e)break}}catch(e){null==t||t(e)}finally{r.releaseLock()}}function rB(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}function rZ(){let e=[],t=null,r=!1,n=rB(),a=()=>{r=!0,n.resolve(),e.forEach(e=>e.cancel()),e=[],null==t||t.close()},i=async()=>{if(r&&0===e.length){null==t||t.close();return}if(0===e.length)return n=rB(),await n.promise,i();try{let{value:n,done:a}=await e[0].read();a?(e.shift(),e.length>0?await i():r&&(null==t||t.close())):null==t||t.enqueue(n)}catch(r){null==t||t.error(r),e.shift(),a()}};return{stream:new ReadableStream({start(e){t=e},pull:i,async cancel(){for(let t of e)await t.cancel();e=[],r=!0}}),addStream:t=>{if(r)throw Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),0===e.length&&(null==t||t.close())},terminate:a}}var rH=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise||(this._promise=new Promise((e,t)=>{"resolved"===this.status.type?e(this.status.value):"rejected"===this.status.type&&t(this.status.error),this._resolve=e,this._reject=t})),this._promise}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&(null==(t=this._resolve)||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&(null==(t=this._reject)||t.call(this,e))}};function rG(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()}var rW=e.r(32782),rJ=(0,rh.createIdGenerator)({prefix:"aitxt",size:24});function rK({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,stopWhen:u=rt(1),experimental_output:d,experimental_telemetry:c,prepareStep:p,providerOptions:m,experimental_activeTools:h,activeTools:f=h,experimental_repairToolCall:g,experimental_transform:y,experimental_download:v,includeRawChunks:b=!1,onChunk:_,onError:w=({error:e})=>{console.error(e)},onFinish:S,onAbort:k,onStepFinish:x,experimental_context:E,_internal:{now:T=rG,generateId:O=rJ,currentDate:I=()=>new Date}={},...P}){return new rY({model:eY(e),telemetry:c,headers:l,settings:P,maxRetries:o,abortSignal:s,system:n,prompt:a,messages:i,tools:t,toolChoice:r,transforms:tX(y),activeTools:f,repairToolCall:g,stopConditions:tX(u),output:d,providerOptions:m,prepareStep:p,includeRawChunks:b,onChunk:_,onError:w,onFinish:S,onAbort:k,onStepFinish:x,now:T,currentDate:I,generateId:O,experimental_context:E,download:v})}var rY=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:a,abortSignal:i,system:o,prompt:s,messages:l,tools:u,toolChoice:d,transforms:c,activeTools:p,repairToolCall:m,stopConditions:h,output:f,providerOptions:g,prepareStep:y,includeRawChunks:v,now:b,currentDate:_,generateId:w,onChunk:S,onError:k,onFinish:x,onAbort:E,onStepFinish:T,experimental_context:O,download:I}){let P,C,A,j;this._totalUsage=new rH,this._finishReason=new rH,this._steps=new rH,this.output=f,this.includeRawChunks=v,this.tools=u;let R=[];const N=[];let $={},M=[];const D=[];let F={},U={};const L=new TransformStream({async transform(e,t){var r,n,a,i;t.enqueue(e);let{part:o}=e;if(("text-delta"===o.type||"reasoning-delta"===o.type||"source"===o.type||"tool-call"===o.type||"tool-result"===o.type||"tool-input-start"===o.type||"tool-input-delta"===o.type||"raw"===o.type)&&await (null==S?void 0:S({chunk:o})),"error"===o.type&&await k({error:tM(o.error)}),"text-start"===o.type&&(F[o.id]={type:"text",text:"",providerMetadata:o.providerMetadata},R.push(F[o.id])),"text-delta"===o.type){let e=F[o.id];if(null==e)return void t.enqueue({part:{type:"error",error:`text part ${o.id} not found`},partialOutput:void 0});e.text+=o.text,e.providerMetadata=null!=(r=o.providerMetadata)?r:e.providerMetadata}if("text-end"===o.type){let e=F[o.id];if(null==e)return void t.enqueue({part:{type:"error",error:`text part ${o.id} not found`},partialOutput:void 0});e.providerMetadata=null!=(n=o.providerMetadata)?n:e.providerMetadata,delete F[o.id]}if("reasoning-start"===o.type&&(U[o.id]={type:"reasoning",text:"",providerMetadata:o.providerMetadata},R.push(U[o.id])),"reasoning-delta"===o.type){let e=U[o.id];if(null==e)return void t.enqueue({part:{type:"error",error:`reasoning part ${o.id} not found`},partialOutput:void 0});e.text+=o.text,e.providerMetadata=null!=(a=o.providerMetadata)?a:e.providerMetadata}if("reasoning-end"===o.type){let e=U[o.id];if(null==e)return void t.enqueue({part:{type:"error",error:`reasoning part ${o.id} not found`},partialOutput:void 0});e.providerMetadata=null!=(i=o.providerMetadata)?i:e.providerMetadata,delete U[o.id]}if("file"===o.type&&R.push({type:"file",file:o.file}),"source"===o.type&&R.push(o),"tool-call"===o.type&&R.push(o),"tool-result"!==o.type||o.preliminary||R.push(o),"tool-error"===o.type&&R.push(o),"start-step"===o.type&&($=o.request,M=o.warnings),"finish-step"===o.type){let e=rs({content:R,tools:u}),t=new re({content:R,finishReason:o.finishReason,usage:o.usage,warnings:M,request:$,response:{...o.response,messages:[...N,...e]},providerMetadata:o.providerMetadata});await (null==T?void 0:T(t)),z(M),D.push(t),R=[],U={},F={},N.push(...e),P.resolve()}"finish"===o.type&&(j=o.totalUsage,A=o.finishReason)},async flush(e){try{if(0===D.length){let e=new ec({message:"No output generated. Check the stream for errors."});K._finishReason.reject(e),K._totalUsage.reject(e),K._steps.reject(e);return}let e=null!=A?A:"unknown",r=null!=j?j:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};K._finishReason.resolve(e),K._totalUsage.resolve(r),K._steps.resolve(D);let n=D[D.length-1];await (null==x?void 0:x({finishReason:e,totalUsage:r,usage:n.usage,content:n.content,text:n.text,reasoningText:n.reasoningText,reasoning:n.reasoning,files:n.files,sources:n.sources,toolCalls:n.toolCalls,staticToolCalls:n.staticToolCalls,dynamicToolCalls:n.dynamicToolCalls,toolResults:n.toolResults,staticToolResults:n.staticToolResults,dynamicToolResults:n.dynamicToolResults,request:n.request,response:n.response,warnings:n.warnings,providerMetadata:n.providerMetadata,steps:D})),C.setAttributes(tW({telemetry:t,attributes:{"ai.response.finishReason":e,"ai.response.text":{output:()=>n.text},"ai.response.toolCalls":{output:()=>{var e;return(null==(e=n.toolCalls)?void 0:e.length)?JSON.stringify(n.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(n.providerMetadata),"ai.usage.inputTokens":r.inputTokens,"ai.usage.outputTokens":r.outputTokens,"ai.usage.totalTokens":r.totalTokens,"ai.usage.reasoningTokens":r.reasoningTokens,"ai.usage.cachedInputTokens":r.cachedInputTokens}}))}catch(t){e.error(t)}finally{C.end()}}}),q=rZ();this.addStream=q.addStream,this.closeStream=q.close;const V=q.stream.getReader();let B=new ReadableStream({async start(e){e.enqueue({type:"start"})},async pull(e){function t(){null==E||E({steps:D}),e.enqueue({type:"abort"}),e.close()}try{let{done:r,value:n}=await V.read();if(r)return void e.close();if(null==i?void 0:i.aborted)return void t();e.enqueue(n)}catch(r){(0,rh.isAbortError)(r)&&(null==i?void 0:i.aborted)?t():e.error(r)}},cancel:e=>q.stream.cancel(e)});for(const e of c)B=B.pipeThrough(e({tools:u,stopStream(){q.terminate()}}));this.baseStream=B.pipeThrough(function(e){let t;if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let r="",n="",a="";function i({controller:e,partialOutput:r}){e.enqueue({part:{type:"text-delta",id:t,text:n},partialOutput:r}),n=""}return new TransformStream({async transform(o,s){if("finish-step"===o.type&&n.length>0&&i({controller:s}),"text-delta"!==o.type&&"text-start"!==o.type&&"text-end"!==o.type)return void s.enqueue({part:o,partialOutput:void 0});if(null==t)t=o.id;else if(o.id!==t)return void s.enqueue({part:o,partialOutput:void 0});if("text-start"===o.type)return void s.enqueue({part:o,partialOutput:void 0});if("text-end"===o.type){n.length>0&&i({controller:s}),s.enqueue({part:o,partialOutput:void 0});return}r+=o.text,n+=o.text;let l=await e.parsePartial({text:r});if(null!=l){let e=JSON.stringify(l.partial);e!==a&&(i({controller:s,partialOutput:l.partial}),a=e)}}})}(f)).pipeThrough(L);const{maxRetries:Z,retry:H}=t2({maxRetries:a,abortSignal:i}),G=tB(t),W=ti(n),J=tF({model:e,telemetry:t,headers:r,settings:{...W,maxRetries:Z}}),K=this;tH({name:"ai.streamText",attributes:tW({telemetry:t,attributes:{...tD({operationId:"ai.streamText",telemetry:t}),...J,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:s,messages:l})}}}),tracer:G,endWhenDone:!1,fn:async n=>{async function a({currentStep:n,responseMessages:c,usage:v}){var S,k,x,E,T;let C,A,j=K.includeRawChunks;P=new rH;let z=await tR({system:o,prompt:s,messages:l}),R=[...z.messages,...c],N=await (null==y?void 0:y({model:e,steps:D,stepNumber:D.length,messages:R})),$=eY(null!=(S=null==N?void 0:N.model)?S:e),M=await tn({prompt:{system:null!=(k=null==N?void 0:N.system)?k:z.system,messages:null!=(x=null==N?void 0:N.messages)?x:R},supportedUrls:await $.supportedUrls,download:I}),{toolChoice:F,tools:U}=ts({tools:u,toolChoice:null!=(E=null==N?void 0:N.toolChoice)?E:d,activeTools:null!=(T=null==N?void 0:N.activeTools)?T:p}),{result:{stream:L,response:q,request:V},doStreamSpan:B,startTimestampMs:Z}=await H(()=>tH({name:"ai.streamText.doStream",attributes:tW({telemetry:t,attributes:{...tD({operationId:"ai.streamText.doStream",telemetry:t}),...J,"ai.model.provider":$.provider,"ai.model.id":$.modelId,"ai.prompt.messages":{input:()=>tJ(M)},"ai.prompt.tools":{input:()=>null==U?void 0:U.map(e=>JSON.stringify(e))},"ai.prompt.toolChoice":{input:()=>null!=F?JSON.stringify(F):void 0},"gen_ai.system":$.provider,"gen_ai.request.model":$.modelId,"gen_ai.request.frequency_penalty":W.frequencyPenalty,"gen_ai.request.max_tokens":W.maxOutputTokens,"gen_ai.request.presence_penalty":W.presencePenalty,"gen_ai.request.stop_sequences":W.stopSequences,"gen_ai.request.temperature":W.temperature,"gen_ai.request.top_k":W.topK,"gen_ai.request.top_p":W.topP}}),tracer:G,endWhenDone:!1,fn:async e=>({startTimestampMs:b(),doStreamSpan:e,result:await $.doStream({...W,tools:U,toolChoice:F,responseFormat:null==f?void 0:f.responseFormat,prompt:M,providerOptions:g,abortSignal:i,headers:r,includeRawChunks:j})})})),Y=function({tools:e,generatorStream:t,tracer:r,telemetry:n,system:a,messages:i,abortSignal:o,repairToolCall:s,experimental_context:l}){let u,d=null,c=new ReadableStream({start(e){d=e}}),p=new Set,m=new Map,h=!1;function f(){h&&0===p.size&&(null!=u&&d.enqueue(u),d.close())}let g=new TransformStream({async transform(t,c){let h=t.type;switch(h){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":c.enqueue(t);break;case"file":c.enqueue({type:"file",file:new t9({data:t.data,mediaType:t.mediaType})});break;case"finish":u={type:"finish",finishReason:t.finishReason,usage:t.usage,providerMetadata:t.providerMetadata};break;case"tool-call":try{let u=await t8({toolCall:t,tools:e,repairToolCall:s,system:a,messages:i});if(c.enqueue(u),u.invalid){d.enqueue({type:"tool-error",toolCallId:u.toolCallId,toolName:u.toolName,input:u.input,error:(0,rW.getErrorMessage)(u.error),dynamic:!0});break}let h=e[u.toolName];if(m.set(u.toolCallId,u.input),null!=h.onInputAvailable&&await h.onInputAvailable({input:u.input,toolCallId:u.toolCallId,messages:i,abortSignal:o,experimental_context:l}),null!=h.execute&&!0!==u.providerExecuted){let e=(0,rW.generateId)();p.add(e),tH({name:"ai.toolCall",attributes:tW({telemetry:n,attributes:{...tD({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":u.toolName,"ai.toolCall.id":u.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(u.input)}}}),tracer:r,fn:async t=>{let r;try{for await(let e of(0,rW.executeTool)({execute:h.execute.bind(h),input:u.input,options:{toolCallId:u.toolCallId,messages:i,abortSignal:o,experimental_context:l}}))d.enqueue({...u,type:"tool-result",output:e.output,..."preliminary"===e.type&&{preliminary:!0}}),"final"===e.type&&(r=e.output)}catch(r){tG(t,r),d.enqueue({...u,type:"tool-error",error:r}),p.delete(e),f();return}p.delete(e),f();try{t.setAttributes(tW({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(r)}}}))}catch(e){}}})}}catch(e){d.enqueue({type:"error",error:e})}break;case"tool-result":{let e=t.toolName;t.isError?d.enqueue({type:"tool-error",toolCallId:t.toolCallId,toolName:e,input:m.get(t.toolCallId),providerExecuted:t.providerExecuted,error:t.result}):c.enqueue({type:"tool-result",toolCallId:t.toolCallId,toolName:e,input:m.get(t.toolCallId),output:t.result,providerExecuted:t.providerExecuted});break}default:throw Error(`Unhandled chunk type: ${h}`)}},flush(){h=!0,f()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),c.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}({tools:u,generatorStream:L,tracer:G,telemetry:t,system:o,messages:R,repairToolCall:m,abortSignal:i,experimental_context:O}),X=null!=V?V:{},Q=[],ee=[],et={},er="unknown",en={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},ea=!0,ei={id:w(),timestamp:_(),modelId:e.modelId},eo="";K.addStream(Y.pipeThrough(new TransformStream({async transform(e,t){var r,n,a,o;if("stream-start"===e.type){C=e.warnings;return}if(ea){let e=b()-Z;ea=!1,B.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e}),B.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:"start-step",request:X,warnings:null!=C?C:[]})}let s=e.type;switch(s){case"text-start":case"text-end":case"reasoning-start":case"reasoning-end":case"file":case"source":t.enqueue(e);break;case"text-delta":e.delta.length>0&&(t.enqueue({type:"text-delta",id:e.id,text:e.delta,providerMetadata:e.providerMetadata}),eo+=e.delta);break;case"reasoning-delta":t.enqueue({type:"reasoning-delta",id:e.id,text:e.delta,providerMetadata:e.providerMetadata});break;case"tool-call":t.enqueue(e),Q.push(e);break;case"tool-result":t.enqueue(e),e.preliminary||ee.push(e);break;case"tool-error":t.enqueue(e),ee.push(e);break;case"response-metadata":ei={id:null!=(r=e.id)?r:ei.id,timestamp:null!=(n=e.timestamp)?n:ei.timestamp,modelId:null!=(a=e.modelId)?a:ei.modelId};break;case"finish":{en=e.usage,er=e.finishReason,A=e.providerMetadata;let t=b()-Z;B.addEvent("ai.stream.finish"),B.setAttributes({"ai.response.msToFinish":t,"ai.response.avgOutputTokensPerSecond":1e3*(null!=(o=en.outputTokens)?o:0)/t});break}case"tool-input-start":{et[e.id]=e.toolName;let r=null==u?void 0:u[e.toolName];(null==r?void 0:r.onInputStart)!=null&&await r.onInputStart({toolCallId:e.id,messages:R,abortSignal:i,experimental_context:O}),t.enqueue({...e,dynamic:(null==r?void 0:r.type)==="dynamic"});break}case"tool-input-end":delete et[e.id],t.enqueue(e);break;case"tool-input-delta":{let r=et[e.id],n=null==u?void 0:u[r];(null==n?void 0:n.onInputDelta)!=null&&await n.onInputDelta({inputTextDelta:e.delta,toolCallId:e.id,messages:R,abortSignal:i,experimental_context:O}),t.enqueue(e);break}case"error":t.enqueue(e),er="error";break;case"raw":j&&t.enqueue(e);break;default:throw Error(`Unknown chunk type: ${s}`)}},async flush(e){let r=Q.length>0?JSON.stringify(Q):void 0;try{B.setAttributes(tW({telemetry:t,attributes:{"ai.response.finishReason":er,"ai.response.text":{output:()=>eo},"ai.response.toolCalls":{output:()=>r},"ai.response.id":ei.id,"ai.response.model":ei.modelId,"ai.response.timestamp":ei.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(A),"ai.usage.inputTokens":en.inputTokens,"ai.usage.outputTokens":en.outputTokens,"ai.usage.totalTokens":en.totalTokens,"ai.usage.reasoningTokens":en.reasoningTokens,"ai.usage.cachedInputTokens":en.cachedInputTokens,"gen_ai.response.finish_reasons":[er],"gen_ai.response.id":ei.id,"gen_ai.response.model":ei.modelId,"gen_ai.usage.input_tokens":en.inputTokens,"gen_ai.usage.output_tokens":en.outputTokens}}))}catch(e){}finally{B.end()}e.enqueue({type:"finish-step",finishReason:er,usage:en,providerMetadata:A,response:{...ei,headers:null==q?void 0:q.headers}});let i=tK(v,en);await P.promise;let o=Q.filter(e=>!0!==e.providerExecuted),s=ee.filter(e=>!0!==e.providerExecuted);if(o.length>0&&s.length===o.length&&!await rn({stopConditions:h,steps:D})){c.push(...rs({content:D[D.length-1].content,tools:u}));try{await a({currentStep:n+1,responseMessages:c,usage:i})}catch(t){e.enqueue({type:"error",error:t}),K.closeStream()}}else e.enqueue({type:"finish",finishReason:er,totalUsage:i}),K.closeStream()}})))}C=n,await a({currentStep:0,responseMessages:[],usage:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0}})}}).catch(e=>{K.addStream(new ReadableStream({start(t){t.enqueue({type:"error",error:e}),t.close()}})),K.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(e=>e[e.length-1])}get content(){return this.finalStep.then(e=>e.content)}get warnings(){return this.finalStep.then(e=>e.warnings)}get providerMetadata(){return this.finalStep.then(e=>e.providerMetadata)}get text(){return this.finalStep.then(e=>e.text)}get reasoningText(){return this.finalStep.then(e=>e.reasoningText)}get reasoning(){return this.finalStep.then(e=>e.reasoning)}get sources(){return this.finalStep.then(e=>e.sources)}get files(){return this.finalStep.then(e=>e.files)}get toolCalls(){return this.finalStep.then(e=>e.toolCalls)}get staticToolCalls(){return this.finalStep.then(e=>e.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(e=>e.dynamicToolCalls)}get toolResults(){return this.finalStep.then(e=>e.toolResults)}get staticToolResults(){return this.finalStep.then(e=>e.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(e=>e.dynamicToolResults)}get usage(){return this.finalStep.then(e=>e.usage)}get request(){return this.finalStep.then(e=>e.request)}get response(){return this.finalStep.then(e=>e.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return rq(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){"text-delta"===e.type&&t.enqueue(e.text)}})))}get fullStream(){return rq(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await rV({stream:this.fullStream,onError:null==e?void 0:e.onError})}catch(r){null==(t=null==e?void 0:e.onError)||t.call(e,r)}}get experimental_partialOutputStream(){if(null==this.output)throw new A;return rq(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){null!=e&&t.enqueue(e)}})))}toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a=!0,sendSources:i=!1,sendStart:o=!0,sendFinish:s=!0,onError:l=rm.getErrorMessage}={}){let u=null!=t?function({originalMessages:e,responseMessageId:t}){if(null==e)return;let r=e[e.length-1];return(null==r?void 0:r.role)==="assistant"?r.id:"function"==typeof t?t():t}({originalMessages:e,responseMessageId:t}):void 0,d={},c=e=>{var t,r;let n=d[e];return(null==(r=null==(t=this.tools)?void 0:t[n])?void 0:r.type)==="dynamic"||void 0};return rq(rU({stream:this.fullStream.pipeThrough(new TransformStream({transform:async(e,t)=>{let r=null==n?void 0:n({part:e}),p=e.type;switch(p){case"text-start":t.enqueue({type:"text-start",id:e.id,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"text-delta":t.enqueue({type:"text-delta",id:e.id,delta:e.text,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"text-end":t.enqueue({type:"text-end",id:e.id,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"reasoning-start":t.enqueue({type:"reasoning-start",id:e.id,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"reasoning-delta":a&&t.enqueue({type:"reasoning-delta",id:e.id,delta:e.text,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"reasoning-end":t.enqueue({type:"reasoning-end",id:e.id,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"file":t.enqueue({type:"file",mediaType:e.file.mediaType,url:`data:${e.file.mediaType};base64,${e.file.base64}`});break;case"source":i&&"url"===e.sourceType&&t.enqueue({type:"source-url",sourceId:e.id,url:e.url,title:e.title,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}}),i&&"document"===e.sourceType&&t.enqueue({type:"source-document",sourceId:e.id,mediaType:e.mediaType,title:e.title,filename:e.filename,...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{}});break;case"tool-input-start":{d[e.id]=e.toolName;let r=c(e.id);t.enqueue({type:"tool-input-start",toolCallId:e.id,toolName:e.toolName,...null!=e.providerExecuted?{providerExecuted:e.providerExecuted}:{},...null!=r?{dynamic:r}:{}});break}case"tool-input-delta":t.enqueue({type:"tool-input-delta",toolCallId:e.id,inputTextDelta:e.delta});break;case"tool-call":{d[e.toolCallId]=e.toolName;let r=c(e.toolCallId);e.invalid?t.enqueue({type:"tool-input-error",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,...null!=e.providerExecuted?{providerExecuted:e.providerExecuted}:{},...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{},...null!=r?{dynamic:r}:{},errorText:l(e.error)}):t.enqueue({type:"tool-input-available",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,...null!=e.providerExecuted?{providerExecuted:e.providerExecuted}:{},...null!=e.providerMetadata?{providerMetadata:e.providerMetadata}:{},...null!=r?{dynamic:r}:{}});break}case"tool-result":{let r=c(e.toolCallId);t.enqueue({type:"tool-output-available",toolCallId:e.toolCallId,output:e.output,...null!=e.providerExecuted?{providerExecuted:e.providerExecuted}:{},...null!=e.preliminary?{preliminary:e.preliminary}:{},...null!=r?{dynamic:r}:{}});break}case"tool-error":{let r=c(e.toolCallId);t.enqueue({type:"tool-output-error",toolCallId:e.toolCallId,errorText:l(e.error),...null!=e.providerExecuted?{providerExecuted:e.providerExecuted}:{},...null!=r?{dynamic:r}:{}});break}case"error":t.enqueue({type:"error",errorText:l(e.error)});break;case"start-step":t.enqueue({type:"start-step"});break;case"finish-step":t.enqueue({type:"finish-step"});break;case"start":o&&t.enqueue({type:"start",...null!=r?{messageMetadata:r}:{},...null!=u?{messageId:u}:{}});break;case"finish":s&&t.enqueue({type:"finish",finishReason:e.finishReason,...null!=r?{messageMetadata:r}:{}});break;case"abort":t.enqueue(e);break;case"tool-input-end":case"raw":break;default:throw Error(`Unknown chunk type: ${p}`)}null!=r&&"start"!==p&&"finish"!==p&&t.enqueue({type:"message-metadata",messageMetadata:r})}})),messageId:null!=u?u:null==t?void 0:t(),originalMessages:e,onFinish:r,onError:l}))}pipeUIMessageStreamToResponse(e,{originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:a,sendReasoning:i,sendSources:o,sendFinish:s,sendStart:l,onError:u,...d}={}){rL({response:e,stream:this.toUIMessageStream({originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:a,sendReasoning:i,sendSources:o,sendFinish:s,sendStart:l,onError:u}),...d})}pipeTextStreamToResponse(e,t){rv({response:e,textStream:this.textStream,...t})}toUIMessageStreamResponse({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a,sendSources:i,sendFinish:o,sendStart:s,onError:l,...u}={}){return rw({stream:this.toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a,sendSources:i,sendFinish:o,sendStart:s,onError:l}),...u})}toTextStreamResponse(e){return rg({textStream:this.textStream,...e})}};function rX(e,t){let r=[];for(let n of((null==t?void 0:t.ignoreIncompleteToolCalls)&&(e=e.map(e=>({...e,parts:e.parts.filter(e=>!rN(e)||"input-streaming"!==e.state&&"input-available"!==e.state)}))),e))switch(n.role){case"system":{let e=n.parts.filter(e=>"text"===e.type),t=e.reduce((e,t)=>null!=t.providerMetadata?{...e,...t.providerMetadata}:e,{});r.push({role:"system",content:e.map(e=>e.text).join(""),...Object.keys(t).length>0?{providerOptions:t}:{}});break}case"user":r.push({role:"user",content:n.parts.map(e=>{var r;return rC(e)?{type:"text",text:e.text,...null!=e.providerMetadata?{providerOptions:e.providerMetadata}:{}}:rA(e)?{type:"file",mediaType:e.mediaType,filename:e.filename,data:e.url,...null!=e.providerMetadata?{providerOptions:e.providerMetadata}:{}}:rP(e)?null==(r=null==t?void 0:t.convertDataPart)?void 0:r.call(t,e):void 0}).filter(e=>null!=e)});break;case"assistant":if(null!=n.parts){let e=function(){var e,n,i;if(0===a.length)return;let o=[];for(let r of a)if(rC(r))o.push({type:"text",text:r.text,...null!=r.providerMetadata?{providerOptions:r.providerMetadata}:{}});else if(rA(r))o.push({type:"file",mediaType:r.mediaType,filename:r.filename,data:r.url});else if(rj(r))o.push({type:"reasoning",text:r.text,providerOptions:r.providerMetadata});else if(rR(r)){let e=r.toolName;"input-streaming"!==r.state&&o.push({type:"tool-call",toolCallId:r.toolCallId,toolName:e,input:r.input,...null!=r.callProviderMetadata?{providerOptions:r.callProviderMetadata}:{}})}else if(rz(r)){let a=r$(r);"input-streaming"!==r.state&&(o.push({type:"tool-call",toolCallId:r.toolCallId,toolName:a,input:"output-error"===r.state?null!=(e=r.input)?e:r.rawInput:r.input,providerExecuted:r.providerExecuted,...null!=r.callProviderMetadata?{providerOptions:r.callProviderMetadata}:{}}),!0===r.providerExecuted&&("output-available"===r.state||"output-error"===r.state)&&o.push({type:"tool-result",toolCallId:r.toolCallId,toolName:a,output:ri({output:"output-error"===r.state?r.errorText:r.output,tool:null==(n=null==t?void 0:t.tools)?void 0:n[a],errorMode:"output-error"===r.state?"json":"none"})}))}else if(rP(r)){let e=null==(i=null==t?void 0:t.convertDataPart)?void 0:i.call(t,r);null!=e&&o.push(e)}else throw Error(`Unsupported part: ${r}`);r.push({role:"assistant",content:o});let s=a.filter(e=>rz(e)&&!0!==e.providerExecuted||"dynamic-tool"===e.type);s.length>0&&r.push({role:"tool",content:s.map(e=>{var r;switch(e.state){case"output-error":case"output-available":{let n=rM(e);return{type:"tool-result",toolCallId:e.toolCallId,toolName:n,output:ri({output:"output-error"===e.state?e.errorText:e.output,tool:null==(r=null==t?void 0:t.tools)?void 0:r[n],errorMode:"output-error"===e.state?"text":"none"})}}default:return null}}).filter(e=>null!=e)}),a=[]},a=[];for(let t of n.parts)rC(t)||rj(t)||rA(t)||rN(t)||rP(t)?a.push(t):"step-start"===t.type&&e();e()}break;default:{let e=n.role;throw new eU({originalMessage:n,message:`Unsupported role: ${e}`})}}return r}var rQ=rX,r1=class{constructor(e){this.settings=e}get tools(){return this.settings.tools}async generate(e){return ru({...this.settings,...e})}stream(e){return rK({...this.settings,...e})}respond(e){return this.stream({prompt:rX(e.messages)}).toUIMessageStreamResponse()}},r0=e.r(32782);async function r2({model:e,value:t,providerOptions:r,maxRetries:n,abortSignal:a,headers:i,experimental_telemetry:o}){let s=eX(e),{maxRetries:l,retry:u}=t2({maxRetries:n,abortSignal:a}),d=(0,r0.withUserAgentSuffix)(null!=i?i:{},`ai/${e9}`),c=tF({model:s,telemetry:o,headers:d,settings:{maxRetries:l}}),p=tB(o);return tH({name:"ai.embed",attributes:tW({telemetry:o,attributes:{...tD({operationId:"ai.embed",telemetry:o}),...c,"ai.value":{input:()=>JSON.stringify(t)}}}),tracer:p,fn:async e=>{let{embedding:n,usage:i,response:l,providerMetadata:m}=await u(()=>tH({name:"ai.embed.doEmbed",attributes:tW({telemetry:o,attributes:{...tD({operationId:"ai.embed.doEmbed",telemetry:o}),...c,"ai.values":{input:()=>[JSON.stringify(t)]}}}),tracer:p,fn:async e=>{var n;let i=await s.doEmbed({values:[t],abortSignal:a,headers:d,providerOptions:r}),l=i.embeddings[0],u=null!=(n=i.usage)?n:{tokens:NaN};return e.setAttributes(tW({telemetry:o,attributes:{"ai.embeddings":{output:()=>i.embeddings.map(e=>JSON.stringify(e))},"ai.usage.tokens":u.tokens}})),{embedding:l,usage:u,providerMetadata:i.providerMetadata,response:i.response}}}));return e.setAttributes(tW({telemetry:o,attributes:{"ai.embedding":{output:()=>JSON.stringify(n)},"ai.usage.tokens":i.tokens}})),new r4({value:t,embedding:n,usage:i,providerMetadata:m,response:l})}})}var r4=class{constructor(e){this.value=e.value,this.embedding=e.embedding,this.usage=e.usage,this.providerMetadata=e.providerMetadata,this.response=e.response}},r6=e.r(32782);function r3(e,t){if(t<=0)throw Error("chunkSize must be greater than 0");let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}async function r9({model:e,values:t,maxParallelCalls:r=1/0,maxRetries:n,abortSignal:a,headers:i,providerOptions:o,experimental_telemetry:s}){let l=eX(e),{maxRetries:u,retry:d}=t2({maxRetries:n,abortSignal:a}),c=(0,r6.withUserAgentSuffix)(null!=i?i:{},`ai/${e9}`),p=tF({model:l,telemetry:s,headers:c,settings:{maxRetries:u}}),m=tB(s);return tH({name:"ai.embedMany",attributes:tW({telemetry:s,attributes:{...tD({operationId:"ai.embedMany",telemetry:s}),...p,"ai.values":{input:()=>t.map(e=>JSON.stringify(e))}}}),tracer:m,fn:async e=>{var n;let i,[u,h]=await Promise.all([l.maxEmbeddingsPerCall,l.supportsParallelCalls]);if(null==u||u===1/0){let{embeddings:r,usage:n,response:i,providerMetadata:u}=await d(()=>tH({name:"ai.embedMany.doEmbed",attributes:tW({telemetry:s,attributes:{...tD({operationId:"ai.embedMany.doEmbed",telemetry:s}),...p,"ai.values":{input:()=>t.map(e=>JSON.stringify(e))}}}),tracer:m,fn:async e=>{var r;let n=await l.doEmbed({values:t,abortSignal:a,headers:c,providerOptions:o}),i=n.embeddings,u=null!=(r=n.usage)?r:{tokens:NaN};return e.setAttributes(tW({telemetry:s,attributes:{"ai.embeddings":{output:()=>i.map(e=>JSON.stringify(e))},"ai.usage.tokens":u.tokens}})),{embeddings:i,usage:u,providerMetadata:n.providerMetadata,response:n.response}}}));return e.setAttributes(tW({telemetry:s,attributes:{"ai.embeddings":{output:()=>r.map(e=>JSON.stringify(e))},"ai.usage.tokens":n.tokens}})),new r5({values:t,embeddings:r,usage:n,providerMetadata:u,responses:[i]})}let f=r3(t,u),g=[],y=[],v=0;for(let e of r3(f,h?r:1))for(let t of(await Promise.all(e.map(e=>d(()=>tH({name:"ai.embedMany.doEmbed",attributes:tW({telemetry:s,attributes:{...tD({operationId:"ai.embedMany.doEmbed",telemetry:s}),...p,"ai.values":{input:()=>e.map(e=>JSON.stringify(e))}}}),tracer:m,fn:async t=>{var r;let n=await l.doEmbed({values:e,abortSignal:a,headers:c,providerOptions:o}),i=n.embeddings,u=null!=(r=n.usage)?r:{tokens:NaN};return t.setAttributes(tW({telemetry:s,attributes:{"ai.embeddings":{output:()=>i.map(e=>JSON.stringify(e))},"ai.usage.tokens":u.tokens}})),{embeddings:i,usage:u,providerMetadata:n.providerMetadata,response:n.response}}}))))))if(g.push(...t.embeddings),y.push(t.response),v+=t.usage.tokens,t.providerMetadata)if(i)for(let[e,r]of Object.entries(t.providerMetadata))i[e]={...null!=(n=i[e])?n:{},...r};else i={...t.providerMetadata};return e.setAttributes(tW({telemetry:s,attributes:{"ai.embeddings":{output:()=>g.map(e=>JSON.stringify(e))},"ai.usage.tokens":v}})),new r5({values:t,embeddings:g,usage:{tokens:v},providerMetadata:i,responses:y})}})}var r5=class{constructor(e){this.values=e.values,this.embeddings=e.embeddings,this.usage=e.usage,this.providerMetadata=e.providerMetadata,this.responses=e.responses}},r8=e.r(32782);async function r7({model:e,prompt:t,n:r=1,maxImagesPerCall:n,size:a,aspectRatio:i,seed:o,providerOptions:s,maxRetries:l,abortSignal:u,headers:d}){var c;let p=function(e){if("string"!=typeof e){if("v2"!==e.specificationVersion)throw new eE({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return eQ().imageModel(e)}(e),m=(0,r8.withUserAgentSuffix)(null!=d?d:{},`ai/${e9}`),{retry:h}=t2({maxRetries:l,abortSignal:u}),f=null!=(c=null!=n?n:await nt(p))?c:1,g=Math.ceil(r/f),y=Array.from({length:g},(e,t)=>{if(t<g-1)return f;let n=r%f;return 0===n?f:n}),v=await Promise.all(y.map(async e=>h(()=>p.doGenerate({prompt:t,n:e,abortSignal:u,headers:m,size:a,aspectRatio:i,seed:o,providerOptions:null!=s?s:{}})))),b=[],_=[],w=[],S={};for(let e of v){if(b.push(...e.images.map(e=>{var t;return new t3({data:e,mediaType:null!=(t=e6({data:e,signatures:e2}))?t:"image/png"})})),_.push(...e.warnings),e.providerMetadata)for(let[t,r]of Object.entries(e.providerMetadata))if("gateway"===t){let e=S[t];null!=e&&"object"==typeof e?S[t]={...e,...r}:S[t]=r;let n=S[t].images;Array.isArray(n)&&0===n.length&&delete S[t].images}else null!=S[t]||(S[t]={images:[]}),S[t].images.push(...e.providerMetadata[t].images);w.push(e.response)}if(z(_),!b.length)throw new et({responses:w});return new ne({images:b,warnings:_,responses:w,providerMetadata:S})}var ne=class{constructor(e){this.images=e.images,this.warnings=e.warnings,this.responses=e.responses,this.providerMetadata=e.providerMetadata}get image(){return this.images[0]}};async function nt(e){return e.maxImagesPerCall instanceof Function?e.maxImagesPerCall({modelId:e.modelId}):e.maxImagesPerCall}var nr=e.r(32782),nn=e.r(76261),na=e.r(32782),ni={type:"no-schema",jsonSchema:void 0,validatePartialResult:async({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:async(e,t)=>void 0===e?{success:!1,error:new eo({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage,finishReason:t.finishReason})}:{success:!0,value:e},createElementStream(){throw new nn.UnsupportedFunctionalityError({functionality:"element streams in no-schema mode"})}};function no({output:e,schema:t,enumValues:r}){switch(e){case"object":let n;return{type:"object",jsonSchema:(n=(0,na.asSchema)(t)).jsonSchema,validatePartialResult:async({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:async e=>(0,na.safeValidateTypes)({value:e,schema:n}),createElementStream(){throw new nn.UnsupportedFunctionalityError({functionality:"element streams in object mode"})}};case"array":return(e=>{let{$schema:t,...r}=e.jsonSchema;return{type:"array",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:r}},required:["elements"],additionalProperties:!1},async validatePartialResult({value:t,latestObject:r,isFirstDelta:n,isFinalDelta:a}){var i;if(!(0,nn.isJSONObject)(t)||!(0,nn.isJSONArray)(t.elements))return{success:!1,error:new nn.TypeValidationError({value:t,cause:"value must be an object that contains an array of elements"})};let o=t.elements,s=[];for(let t=0;t<o.length;t++){let r=o[t],n=await (0,na.safeValidateTypes)({value:r,schema:e});if(t!==o.length-1||a){if(!n.success)return n;s.push(n.value)}}let l=null!=(i=null==r?void 0:r.length)?i:0,u="";return n&&(u+="["),l>0&&(u+=","),u+=s.slice(l).map(e=>JSON.stringify(e)).join(","),a&&(u+="]"),{success:!0,value:{partial:s,textDelta:u}}},async validateFinalResult(t){if(!(0,nn.isJSONObject)(t)||!(0,nn.isJSONArray)(t.elements))return{success:!1,error:new nn.TypeValidationError({value:t,cause:"value must be an object that contains an array of elements"})};let r=t.elements;for(let t of r){let r=await (0,na.safeValidateTypes)({value:t,schema:e});if(!r.success)return r}return{success:!0,value:r}},createElementStream(e){let t=0;return rq(e.pipeThrough(new TransformStream({transform(e,r){switch(e.type){case"object":{let n=e.object;for(;t<n.length;t++)r.enqueue(n[t]);break}case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${e}`)}}})))}}})((0,na.asSchema)(t));case"enum":return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:r}},required:["result"],additionalProperties:!1},async validateFinalResult(e){if(!(0,nn.isJSONObject)(e)||"string"!=typeof e.result)return{success:!1,error:new nn.TypeValidationError({value:e,cause:'value must be an object that contains a string in the "result" property.'})};let t=e.result;return r.includes(t)?{success:!0,value:t}:{success:!1,error:new nn.TypeValidationError({value:e,cause:"value must be a string in the enum"})}},async validatePartialResult({value:e,textDelta:t}){if(!(0,nn.isJSONObject)(e)||"string"!=typeof e.result)return{success:!1,error:new nn.TypeValidationError({value:e,cause:'value must be an object that contains a string in the "result" property.'})};let n=e.result,a=r.filter(e=>e.startsWith(n));return 0===e.result.length||0===a.length?{success:!1,error:new nn.TypeValidationError({value:e,cause:"value must be a string in the enum"})}:{success:!0,value:{partial:a.length>1?n:a[0],textDelta:t}}},createElementStream(){throw new nn.UnsupportedFunctionalityError({functionality:"element streams in enum mode"})}};case"no-schema":return ni;default:throw Error(`Unsupported output: ${e}`)}}var ns=e.r(76261),nl=e.r(32782);async function nu(e,t,r){let n=await (0,nl.safeParseJSON)({text:e});if(!n.success)throw new eo({message:"No object generated: could not parse the response.",cause:n.error,text:e,response:r.response,usage:r.usage,finishReason:r.finishReason});let a=await t.validateFinalResult(n.value,{text:e,response:r.response,usage:r.usage});if(!a.success)throw new eo({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:r.response,usage:r.usage,finishReason:r.finishReason});return a.value}async function nd(e,t,r,n){try{return await nu(e,t,n)}catch(a){if(null!=r&&eo.isInstance(a)&&(ns.JSONParseError.isInstance(a.cause)||ns.TypeValidationError.isInstance(a.cause))){let i=await r({text:e,error:a.cause});if(null===i)throw a;return await nu(i,t,n)}throw a}}function nc({output:e,schema:t,schemaName:r,schemaDescription:n,enumValues:a}){if(null!=e&&"object"!==e&&"array"!==e&&"enum"!==e&&"no-schema"!==e)throw new U({parameter:"output",value:e,message:"Invalid output type."});if("no-schema"===e){if(null!=t)throw new U({parameter:"schema",value:t,message:"Schema is not supported for no-schema output."});if(null!=n)throw new U({parameter:"schemaDescription",value:n,message:"Schema description is not supported for no-schema output."});if(null!=r)throw new U({parameter:"schemaName",value:r,message:"Schema name is not supported for no-schema output."});if(null!=a)throw new U({parameter:"enumValues",value:a,message:"Enum values are not supported for no-schema output."})}if("object"===e){if(null==t)throw new U({parameter:"schema",value:t,message:"Schema is required for object output."});if(null!=a)throw new U({parameter:"enumValues",value:a,message:"Enum values are not supported for object output."})}if("array"===e){if(null==t)throw new U({parameter:"schema",value:t,message:"Element schema is required for array output."});if(null!=a)throw new U({parameter:"enumValues",value:a,message:"Enum values are not supported for array output."})}if("enum"===e){if(null!=t)throw new U({parameter:"schema",value:t,message:"Schema is not supported for enum output."});if(null!=n)throw new U({parameter:"schemaDescription",value:n,message:"Schema description is not supported for enum output."});if(null!=r)throw new U({parameter:"schemaName",value:r,message:"Schema name is not supported for enum output."});if(null==a)throw new U({parameter:"enumValues",value:a,message:"Enum values are required for enum output."});for(let e of a)if("string"!=typeof e)throw new U({parameter:"enumValues",value:e,message:"Enum values must be strings."})}}var np=(0,nr.createIdGenerator)({prefix:"aiobj",size:24});async function nm(e){let{model:t,output:r="object",system:n,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,experimental_repairText:u,experimental_telemetry:d,experimental_download:c,providerOptions:p,_internal:{generateId:m=np,currentDate:h=()=>new Date}={},...f}=e,g=eY(t),y="enum"in e?e.enum:void 0,{schema:v,schemaDescription:b,schemaName:_}="schema"in e?e:{};nc({output:r,schema:v,schemaName:_,schemaDescription:b,enumValues:y});let{maxRetries:w,retry:S}=t2({maxRetries:o,abortSignal:s}),k=no({output:r,schema:v,enumValues:y}),x=ti(f),E=(0,nr.withUserAgentSuffix)(null!=l?l:{},`ai/${e9}`),T=tF({model:g,telemetry:d,headers:E,settings:{...x,maxRetries:w}}),O=tB(d);try{return await tH({name:"ai.generateObject",attributes:tW({telemetry:d,attributes:{...tD({operationId:"ai.generateObject",telemetry:d}),...T,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:i})},"ai.schema":null!=k.jsonSchema?{input:()=>JSON.stringify(k.jsonSchema)}:void 0,"ai.schema.name":_,"ai.schema.description":b,"ai.settings.output":k.type}}),tracer:O,fn:async e=>{var t;let r,o,l,y,v,w,I,P,C=await tR({system:n,prompt:a,messages:i}),A=await tn({prompt:C,supportedUrls:await g.supportedUrls,download:c}),j=await S(()=>tH({name:"ai.generateObject.doGenerate",attributes:tW({telemetry:d,attributes:{...tD({operationId:"ai.generateObject.doGenerate",telemetry:d}),...T,"ai.prompt.messages":{input:()=>tJ(A)},"gen_ai.system":g.provider,"gen_ai.request.model":g.modelId,"gen_ai.request.frequency_penalty":x.frequencyPenalty,"gen_ai.request.max_tokens":x.maxOutputTokens,"gen_ai.request.presence_penalty":x.presencePenalty,"gen_ai.request.temperature":x.temperature,"gen_ai.request.top_k":x.topK,"gen_ai.request.top_p":x.topP}}),tracer:O,fn:async e=>{var t,r,n,a,i,o,l,u;let c,y=await g.doGenerate({responseFormat:{type:"json",schema:k.jsonSchema,name:_,description:b},...ti(f),prompt:A,providerOptions:p,abortSignal:s,headers:E}),v={id:null!=(r=null==(t=y.response)?void 0:t.id)?r:m(),timestamp:null!=(a=null==(n=y.response)?void 0:n.timestamp)?a:h(),modelId:null!=(o=null==(i=y.response)?void 0:i.modelId)?o:g.modelId,headers:null==(l=y.response)?void 0:l.headers,body:null==(u=y.response)?void 0:u.body},w=t4(y.content),S=(c=y.content.filter(e=>"reasoning"===e.type),0===c.length?void 0:c.map(e=>e.text).join("\n"));if(void 0===w)throw new eo({message:"No object generated: the model did not return a response.",response:v,usage:y.usage,finishReason:y.finishReason});return e.setAttributes(tW({telemetry:d,attributes:{"ai.response.finishReason":y.finishReason,"ai.response.object":{output:()=>w},"ai.response.id":v.id,"ai.response.model":v.modelId,"ai.response.timestamp":v.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(y.providerMetadata),"ai.usage.promptTokens":y.usage.inputTokens,"ai.usage.completionTokens":y.usage.outputTokens,"gen_ai.response.finish_reasons":[y.finishReason],"gen_ai.response.id":v.id,"gen_ai.response.model":v.modelId,"gen_ai.usage.input_tokens":y.usage.inputTokens,"gen_ai.usage.output_tokens":y.usage.outputTokens}})),{...y,objectText:w,reasoning:S,responseData:v}}}));r=j.objectText,o=j.finishReason,l=j.usage,y=j.warnings,I=j.providerMetadata,w=null!=(t=j.request)?t:{},v=j.responseData,P=j.reasoning,z(y);let R=await nd(r,k,u,{response:v,usage:l,finishReason:o});return e.setAttributes(tW({telemetry:d,attributes:{"ai.response.finishReason":o,"ai.response.object":{output:()=>JSON.stringify(R)},"ai.response.providerMetadata":JSON.stringify(I),"ai.usage.promptTokens":l.inputTokens,"ai.usage.completionTokens":l.outputTokens}})),new nh({object:R,reasoning:P,finishReason:o,usage:l,warnings:y,request:w,response:v,providerMetadata:I})}})}catch(e){throw tM(e)}}var nh=class{constructor(e){this.object=e.object,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.providerMetadata=e.providerMetadata,this.response=e.response,this.request=e.request,this.reasoning=e.reasoning}toJsonResponse(e){var t;return new Response(JSON.stringify(this.object),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:rf(null==e?void 0:e.headers,{"content-type":"application/json; charset=utf-8"})})}},nf=e.r(32782);function ng(e,t){if(e.length!==t.length)throw new U({parameter:"vector1,vector2",value:{vector1Length:e.length,vector2Length:t.length},message:"Vectors must have the same length"});let r=e.length;if(0===r)return 0;let n=0,a=0,i=0;for(let o=0;o<r;o++){let r=e[o],s=t[o];n+=r*r,a+=s*s,i+=r*s}return 0===n||0===a?0:i/(Math.sqrt(n)*Math.sqrt(a))}function ny(e){let[t,r]=e.split(",");if(null==t.split(";")[0].split(":")[1]||null==r)throw Error("Invalid data URL format");try{return window.atob(r)}catch(e){throw Error("Error decoding data URL")}}function nv(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if("object"!=typeof e&&"object"!=typeof t)return e===t;if(e.constructor!==t.constructor)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!nv(e[r],t[r]))return!1;return!0}let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a of r)if(!n.includes(a)||!nv(e[a],t[a]))return!1;return!0}var nb=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,r)=>{this.queue.push(async()=>{try{await e(),t()}catch(e){r(e)}}),this.processQueue()})}},n_=e.r(32782);function nw({chunks:e,initialDelayInMs:t=0,chunkDelayInMs:r=0,_internal:n}){var a;let i=null!=(a=null==n?void 0:n.delay)?a:n_.delay,o=0;return new ReadableStream({async pull(n){o<e.length?(await i(0===o?t:r),n.enqueue(e[o++])):n.close()}})}var nS=(0,nf.createIdGenerator)({prefix:"aiobj",size:24});function nk(e){let{model:t,output:r="object",system:n,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,experimental_repairText:u,experimental_telemetry:d,experimental_download:c,providerOptions:p,onError:m=({error:e})=>{console.error(e)},onFinish:h,_internal:{generateId:f=nS,currentDate:g=()=>new Date,now:y=rG}={},...v}=e,b="enum"in e&&e.enum?e.enum:void 0,{schema:_,schemaDescription:w,schemaName:S}="schema"in e?e:{};return nc({output:r,schema:_,schemaName:S,schemaDescription:w,enumValues:b}),new nx({model:t,telemetry:d,headers:l,settings:v,maxRetries:o,abortSignal:s,outputStrategy:no({output:r,schema:_,enumValues:b}),system:n,prompt:a,messages:i,schemaName:S,schemaDescription:w,providerOptions:p,repairText:u,onError:m,onFinish:h,download:c,generateId:f,currentDate:g,now:y})}var nx=class{constructor({model:e,headers:t,telemetry:r,settings:n,maxRetries:a,abortSignal:i,outputStrategy:o,system:s,prompt:l,messages:u,schemaName:d,schemaDescription:c,providerOptions:p,repairText:m,onError:h,onFinish:f,download:g,generateId:y,currentDate:v,now:b}){this._object=new rH,this._usage=new rH,this._providerMetadata=new rH,this._warnings=new rH,this._request=new rH,this._response=new rH,this._finishReason=new rH;const _=eY(e),{maxRetries:w,retry:S}=t2({maxRetries:a,abortSignal:i}),k=ti(n),x=tF({model:_,telemetry:r,headers:t,settings:{...k,maxRetries:w}}),E=tB(r),T=this,O=rZ(),I=new TransformStream({transform(e,t){t.enqueue(e),"error"===e.type&&h({error:tM(e.error)})}});this.baseStream=O.stream.pipeThrough(I),tH({name:"ai.streamObject",attributes:tW({telemetry:r,attributes:{...tD({operationId:"ai.streamObject",telemetry:r}),...x,"ai.prompt":{input:()=>JSON.stringify({system:s,prompt:l,messages:u})},"ai.schema":null!=o.jsonSchema?{input:()=>JSON.stringify(o.jsonSchema)}:void 0,"ai.schema.name":d,"ai.schema.description":c,"ai.settings.output":o.type}}),tracer:E,endWhenDone:!1,fn:async e=>{let a,h,w,I,P,C,A,j=await tR({system:s,prompt:l,messages:u}),R={responseFormat:{type:"json",schema:o.jsonSchema,name:d,description:c},...ti(n),prompt:await tn({prompt:j,supportedUrls:await _.supportedUrls,download:g}),providerOptions:p,abortSignal:i,headers:t,includeRawChunks:!1},{result:{stream:N,response:$,request:M},doStreamSpan:D,startTimestampMs:F}=await S(()=>tH({name:"ai.streamObject.doStream",attributes:tW({telemetry:r,attributes:{...tD({operationId:"ai.streamObject.doStream",telemetry:r}),...x,"ai.prompt.messages":{input:()=>tJ(R.prompt)},"gen_ai.system":_.provider,"gen_ai.request.model":_.modelId,"gen_ai.request.frequency_penalty":k.frequencyPenalty,"gen_ai.request.max_tokens":k.maxOutputTokens,"gen_ai.request.presence_penalty":k.presencePenalty,"gen_ai.request.temperature":k.temperature,"gen_ai.request.top_k":k.topK,"gen_ai.request.top_p":k.topP}}),tracer:E,endWhenDone:!1,fn:async e=>({startTimestampMs:b(),doStreamSpan:e,result:await _.doStream(R)})}));T._request.resolve(null!=M?M:{});let U={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},L="",q="",V={id:y(),timestamp:v(),modelId:_.modelId},B=!0,Z=!0,H=N.pipeThrough(new TransformStream({transform:(e,t)=>{switch(e.type){case"text-delta":t.enqueue(e.delta);break;case"response-metadata":case"finish":case"error":case"stream-start":t.enqueue(e)}}})).pipeThrough(new TransformStream({async transform(e,t){var r,n,i;if("object"==typeof e&&"stream-start"===e.type){a=e.warnings;return}if(B){let e=b()-F;B=!1,D.addEvent("ai.stream.firstChunk",{"ai.stream.msToFirstChunk":e}),D.setAttributes({"ai.stream.msToFirstChunk":e})}if("string"==typeof e){L+=e,q+=e;let{value:r,state:n}=await rI(L);if(void 0!==r&&!nv(C,r)){let e=await o.validatePartialResult({value:r,textDelta:q,latestObject:A,isFirstDelta:Z,isFinalDelta:"successful-parse"===n});e.success&&!nv(A,e.value.partial)&&(C=r,A=e.value.partial,t.enqueue({type:"object",object:A}),t.enqueue({type:"text-delta",textDelta:e.value.textDelta}),q="",Z=!1)}return}switch(e.type){case"response-metadata":V={id:null!=(r=e.id)?r:V.id,timestamp:null!=(n=e.timestamp)?n:V.timestamp,modelId:null!=(i=e.modelId)?i:V.modelId};break;case"finish":""!==q&&t.enqueue({type:"text-delta",textDelta:q}),h=e.finishReason,U=e.usage,w=e.providerMetadata,t.enqueue({...e,usage:U,response:V}),z(null!=a?a:[]),T._usage.resolve(U),T._providerMetadata.resolve(w),T._warnings.resolve(a),T._response.resolve({...V,headers:null==$?void 0:$.headers}),T._finishReason.resolve(null!=h?h:"unknown");try{I=await nd(L,o,m,{response:V,usage:U,finishReason:h}),T._object.resolve(I)}catch(e){P=e,T._object.reject(e)}break;default:t.enqueue(e)}},async flush(t){try{let t=null!=U?U:{promptTokens:NaN,completionTokens:NaN,totalTokens:NaN};D.setAttributes(tW({telemetry:r,attributes:{"ai.response.finishReason":h,"ai.response.object":{output:()=>JSON.stringify(I)},"ai.response.id":V.id,"ai.response.model":V.modelId,"ai.response.timestamp":V.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(w),"ai.usage.inputTokens":t.inputTokens,"ai.usage.outputTokens":t.outputTokens,"ai.usage.totalTokens":t.totalTokens,"ai.usage.reasoningTokens":t.reasoningTokens,"ai.usage.cachedInputTokens":t.cachedInputTokens,"gen_ai.response.finish_reasons":[h],"gen_ai.response.id":V.id,"gen_ai.response.model":V.modelId,"gen_ai.usage.input_tokens":t.inputTokens,"gen_ai.usage.output_tokens":t.outputTokens}})),D.end(),e.setAttributes(tW({telemetry:r,attributes:{"ai.usage.inputTokens":t.inputTokens,"ai.usage.outputTokens":t.outputTokens,"ai.usage.totalTokens":t.totalTokens,"ai.usage.reasoningTokens":t.reasoningTokens,"ai.usage.cachedInputTokens":t.cachedInputTokens,"ai.response.object":{output:()=>JSON.stringify(I)},"ai.response.providerMetadata":JSON.stringify(w)}})),await (null==f?void 0:f({usage:t,object:I,error:P,response:{...V,headers:null==$?void 0:$.headers},warnings:a,providerMetadata:w}))}catch(e){t.enqueue({type:"error",error:e})}finally{e.end()}}}));O.addStream(H)}}).catch(e=>{O.addStream(new ReadableStream({start(t){t.enqueue({type:"error",error:e}),t.close()}}))}).finally(()=>{O.close()}),this.outputStrategy=o}get object(){return this._object.promise}get usage(){return this._usage.promise}get providerMetadata(){return this._providerMetadata.promise}get warnings(){return this._warnings.promise}get request(){return this._request.promise}get response(){return this._response.promise}get finishReason(){return this._finishReason.promise}get partialObjectStream(){return rq(this.baseStream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"object":t.enqueue(e.object);break;case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${e}`)}}})))}get elementStream(){return this.outputStrategy.createElementStream(this.baseStream)}get textStream(){return rq(this.baseStream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"text-delta":t.enqueue(e.textDelta);break;case"object":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${e}`)}}})))}get fullStream(){return rq(this.baseStream)}pipeTextStreamToResponse(e,t){rv({response:e,textStream:this.textStream,...t})}toTextStreamResponse(e){return rg({textStream:this.textStream,...e})}},nE=e.r(32782),nT=class extends t3{constructor({data:e,mediaType:t}){super({data:e,mediaType:t});let r="mp3";if(t){const e=t.split("/");2===e.length&&"audio/mpeg"!==t&&(r=e[1])}if(!r)throw Error("Audio format must be provided or determinable from media type");this.format=r}};async function nO({model:e,text:t,voice:r,outputFormat:n,instructions:a,speed:i,language:o,providerOptions:s={},maxRetries:l,abortSignal:u,headers:d}){var c;if("v2"!==e.specificationVersion)throw new eE({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});let p=(0,nE.withUserAgentSuffix)(null!=d?d:{},`ai/${e9}`),{retry:m}=t2({maxRetries:l,abortSignal:u}),h=await m(()=>e.doGenerate({text:t,voice:r,outputFormat:n,instructions:a,speed:i,language:o,abortSignal:u,headers:p,providerOptions:s}));if(!h.audio||0===h.audio.length)throw new em({responses:[h.response]});return z(h.warnings),new nI({audio:new nT({data:h.audio,mediaType:null!=(c=e6({data:h.audio,signatures:e4}))?c:"audio/mp3"}),warnings:h.warnings,responses:[h.response],providerMetadata:h.providerMetadata})}var nI=class{constructor(e){var t;this.audio=e.audio,this.warnings=e.warnings,this.responses=e.responses,this.providerMetadata=null!=(t=e.providerMetadata)?t:{}}},nP={};S(nP,{object:()=>nj,text:()=>nA});var nC=e.r(32782),nA=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:e})=>({partial:e}),parseOutput:async({text:e})=>e}),nj=({schema:e})=>{let t=(0,nC.asSchema)(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:e}){let t=await rI(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},r){let n=await (0,nC.safeParseJSON)({text:e});if(!n.success)throw new eo({message:"No object generated: could not parse the response.",cause:n.error,text:e,response:r.response,usage:r.usage,finishReason:r.finishReason});let a=await (0,nC.safeValidateTypes)({value:n.value,schema:t});if(!a.success)throw new eo({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:r.response,usage:r.usage,finishReason:r.finishReason});return a.value}}};function nz({messages:e,reasoning:t="none",toolCalls:r=[],emptyMessages:n="remove"}){for(let n of(("all"===t||"before-last-message"===t)&&(e=e.map((r,n)=>"assistant"!==r.role||"string"==typeof r.content||"before-last-message"===t&&n===e.length-1?r:{...r,content:r.content.filter(e=>"reasoning"!==e.type)})),"none"===r?r=[]:"all"===r?r=[{type:"all"}]:"before-last-message"===r?r=[{type:"before-last-message"}]:"string"==typeof r&&(r=[{type:r}]),r)){let t="all"===n.type?void 0:"before-last-message"===n.type?1:Number(n.type.slice(12).slice(0,-9)),r=new Set;if(null!=t){for(let n of e.slice(0,-t))if(("assistant"===n.role||"tool"===n.role)&&"string"!=typeof n.content)for(let e of n.content)("tool-call"===e.type||"tool-result"===e.type)&&r.add(e.toolCallId)}e=e.map((a,i)=>{if("assistant"!==a.role&&"tool"!==a.role||"string"==typeof a.content||t&&i>=e.length-t)return a;let o={};return{...a,content:a.content.filter(e=>"tool-call"!==e.type&&"tool-result"!==e.type||("tool-call"===e.type&&(o[e.toolCallId]=e.toolName),!!(("tool-call"===e.type||"tool-result"===e.type)&&r.has(e.toolCallId))||null!=n.tools&&!n.tools.includes(e.toolName)))}})}return"remove"===n&&(e=e.filter(e=>e.content.length>0)),e}var nR=e.r(32782),nN=e.r(76261),n$={word:/\S+\s+/m,line:/\n+/m};function nM({delayInMs:e=10,chunking:t="word",_internal:{delay:r=nR.delay}={}}={}){let n;if("function"==typeof t)n=e=>{let r=t(e);if(null==r)return null;if(!r.length)throw Error("Chunking function must return a non-empty string.");if(!e.startsWith(r))throw Error(`Chunking function must return a match that is a prefix of the buffer. Received: "${r}" expected to start with "${e}"`);return r};else{let e="string"==typeof t?n$[t]:t;if(null==e)throw new nN.InvalidArgumentError({argument:"chunking",message:`Chunking must be "word" or "line" or a RegExp. Received: ${t}`});n=t=>{let r=e.exec(t);return r?t.slice(0,r.index)+(null==r?void 0:r[0]):null}}return()=>{let t="",a="";return new TransformStream({async transform(i,o){let s;if("text-delta"!==i.type){t.length>0&&(o.enqueue({type:"text-delta",text:t,id:a}),t=""),o.enqueue(i);return}for(i.id!==a&&t.length>0&&(o.enqueue({type:"text-delta",text:t,id:a}),t=""),t+=i.text,a=i.id;null!=(s=n(t));)o.enqueue({type:"text-delta",text:s,id:a}),t=t.slice(s.length),await r(e)}})}}function nD({settings:e}){return{middlewareVersion:"v2",transformParams:async({params:t})=>rT(e,t)}}function nF({tagName:e,separator:t="\n",startWithReasoning:r=!1}){let n=`<${e}>`,a=`</${e}>`;return{middlewareVersion:"v2",wrapGenerate:async({doGenerate:e})=>{let{content:i,...o}=await e(),s=[];for(let e of i){if("text"!==e.type){s.push(e);continue}let i=r?n+e.text:e.text,o=RegExp(`${n}(.*?)${a}`,"gs"),l=Array.from(i.matchAll(o));if(!l.length){s.push(e);continue}let u=l.map(e=>e[1]).join(t),d=i;for(let e=l.length-1;e>=0;e--){let r=l[e],n=d.slice(0,r.index),a=d.slice(r.index+r[0].length);d=n+(n.length>0&&a.length>0?t:"")+a}s.push({type:"reasoning",text:u}),s.push({type:"text",text:d})}return{content:s,...o}},wrapStream:async({doStream:e})=>{let i,{stream:o,...s}=await e(),l={};return{stream:o.pipeThrough(new TransformStream({transform:(e,o)=>{if("text-start"===e.type){i=e;return}if("text-end"===e.type&&i&&(o.enqueue(i),i=void 0),"text-delta"!==e.type)return void o.enqueue(e);null==l[e.id]&&(l[e.id]={isFirstReasoning:!0,isFirstText:!0,afterSwitch:!1,isReasoning:r,buffer:"",idCounter:0,textId:e.id});let s=l[e.id];function u(e){if(e.length>0){let r=!s.afterSwitch||(s.isReasoning?s.isFirstReasoning:s.isFirstText)?"":t;s.isReasoning&&(s.afterSwitch||s.isFirstReasoning)&&o.enqueue({type:"reasoning-start",id:`reasoning-${s.idCounter}`}),s.isReasoning?o.enqueue({type:"reasoning-delta",delta:r+e,id:`reasoning-${s.idCounter}`}):(i&&(o.enqueue(i),i=void 0),o.enqueue({type:"text-delta",delta:r+e,id:s.textId})),s.afterSwitch=!1,s.isReasoning?s.isFirstReasoning=!1:s.isFirstText=!1}}for(s.buffer+=e.delta;;){let e=s.isReasoning?a:n,t=function(e,t){if(0===t.length)return null;let r=e.indexOf(t);if(-1!==r)return r;for(let r=e.length-1;r>=0;r--){let n=e.substring(r);if(t.startsWith(n))return r}return null}(s.buffer,e);if(null==t){u(s.buffer),s.buffer="";break}if(u(s.buffer.slice(0,t)),t+e.length<=s.buffer.length)s.buffer=s.buffer.slice(t+e.length),s.isReasoning&&o.enqueue({type:"reasoning-end",id:`reasoning-${s.idCounter++}`}),s.isReasoning=!s.isReasoning,s.afterSwitch=!0;else{s.buffer=s.buffer.slice(t);break}}}})),...s}}}}function nU(){return{middlewareVersion:"v2",wrapStream:async({doGenerate:e})=>{let t=await e(),r=0;return{stream:new ReadableStream({start(e){for(let n of(e.enqueue({type:"stream-start",warnings:t.warnings}),e.enqueue({type:"response-metadata",...t.response}),t.content))switch(n.type){case"text":n.text.length>0&&(e.enqueue({type:"text-start",id:String(r)}),e.enqueue({type:"text-delta",id:String(r),delta:n.text}),e.enqueue({type:"text-end",id:String(r)}),r++);break;case"reasoning":e.enqueue({type:"reasoning-start",id:String(r),providerMetadata:n.providerMetadata}),e.enqueue({type:"reasoning-delta",id:String(r),delta:n.text}),e.enqueue({type:"reasoning-end",id:String(r)}),r++;break;default:e.enqueue(n)}e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,providerMetadata:t.providerMetadata}),e.close()}}),request:t.request,response:t.response}}}}var nL=({model:e,middleware:t,modelId:r,providerId:n})=>[...tX(t)].reverse().reduce((e,t)=>nq({model:e,middleware:t,modelId:r,providerId:n}),e),nq=({model:e,middleware:{transformParams:t,wrapGenerate:r,wrapStream:n,overrideProvider:a,overrideModelId:i,overrideSupportedUrls:o},modelId:s,providerId:l})=>{var u,d,c;async function p({params:r,type:n}){return t?await t({params:r,type:n,model:e}):r}return{specificationVersion:"v2",provider:null!=(u=null!=l?l:null==a?void 0:a({model:e}))?u:e.provider,modelId:null!=(d=null!=s?s:null==i?void 0:i({model:e}))?d:e.modelId,supportedUrls:null!=(c=null==o?void 0:o({model:e}))?c:e.supportedUrls,async doGenerate(t){let n=await p({params:t,type:"generate"}),a=async()=>e.doGenerate(n),i=async()=>e.doStream(n);return r?r({doGenerate:a,doStream:i,params:n,model:e}):a()},async doStream(t){let r=await p({params:t,type:"stream"}),a=async()=>e.doGenerate(r),i=async()=>e.doStream(r);return n?n({doGenerate:a,doStream:i,params:r,model:e}):i()}}};function nV({provider:e,languageModelMiddleware:t}){return{languageModel(r){let n=e.languageModel(r);return nL({model:n,middleware:t})},textEmbeddingModel:e.textEmbeddingModel,imageModel:e.imageModel,transcriptionModel:e.transcriptionModel,speechModel:e.speechModel}}var nB=e.r(76261);function nZ({languageModels:e,textEmbeddingModels:t,imageModels:r,transcriptionModels:n,speechModels:a,fallbackProvider:i}){return{languageModel(t){if(null!=e&&t in e)return e[t];if(i)return i.languageModel(t);throw new nB.NoSuchModelError({modelId:t,modelType:"languageModel"})},textEmbeddingModel(e){if(null!=t&&e in t)return t[e];if(i)return i.textEmbeddingModel(e);throw new nB.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},imageModel(e){if(null!=r&&e in r)return r[e];if(null==i?void 0:i.imageModel)return i.imageModel(e);throw new nB.NoSuchModelError({modelId:e,modelType:"imageModel"})},transcriptionModel(e){if(null!=n&&e in n)return n[e];if(null==i?void 0:i.transcriptionModel)return i.transcriptionModel(e);throw new nB.NoSuchModelError({modelId:e,modelType:"transcriptionModel"})},speechModel(e){if(null!=a&&e in a)return a[e];if(null==i?void 0:i.speechModel)return i.speechModel(e);throw new nB.NoSuchModelError({modelId:e,modelType:"speechModel"})}}}var nH=nZ,nG=e.r(76261),nW="AI_NoSuchProviderError",nJ=`vercel.ai.error.${nW}`,nK=Symbol.for(nJ),nY=class extends nG.NoSuchModelError{constructor({modelId:e,modelType:t,providerId:r,availableProviders:n,message:a=`No such provider: ${r} (available providers: ${n.join()})`}){super({errorName:nW,modelId:e,modelType:t,message:a}),this[y]=!0,this.providerId=r,this.availableProviders=n}static isInstance(e){return nG.AISDKError.hasMarker(e,nJ)}};y=nK;var nX=e.r(76261);function nQ(e,{separator:t=":",languageModelMiddleware:r}={}){let n=new n0({separator:t,languageModelMiddleware:r});for(let[t,r]of Object.entries(e))n.registerProvider({id:t,provider:r});return n}var n1=nQ,n0=class{constructor({separator:e,languageModelMiddleware:t}){this.providers={},this.separator=e,this.languageModelMiddleware=t}registerProvider({id:e,provider:t}){this.providers[e]=t}getProvider(e,t){let r=this.providers[e];if(null==r)throw new nY({modelId:e,modelType:t,providerId:e,availableProviders:Object.keys(this.providers)});return r}splitId(e,t){let r=e.indexOf(this.separator);if(-1===r)throw new nX.NoSuchModelError({modelId:e,modelType:t,message:`Invalid ${t} id for registry: ${e} (must be in the format "providerId${this.separator}modelId")`});return[e.slice(0,r),e.slice(r+this.separator.length)]}languageModel(e){var t,r;let[n,a]=this.splitId(e,"languageModel"),i=null==(r=(t=this.getProvider(n,"languageModel")).languageModel)?void 0:r.call(t,a);if(null==i)throw new nX.NoSuchModelError({modelId:e,modelType:"languageModel"});return null!=this.languageModelMiddleware&&(i=nL({model:i,middleware:this.languageModelMiddleware})),i}textEmbeddingModel(e){var t;let[r,n]=this.splitId(e,"textEmbeddingModel"),a=this.getProvider(r,"textEmbeddingModel"),i=null==(t=a.textEmbeddingModel)?void 0:t.call(a,n);if(null==i)throw new nX.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"});return i}imageModel(e){var t;let[r,n]=this.splitId(e,"imageModel"),a=this.getProvider(r,"imageModel"),i=null==(t=a.imageModel)?void 0:t.call(a,n);if(null==i)throw new nX.NoSuchModelError({modelId:e,modelType:"imageModel"});return i}transcriptionModel(e){var t;let[r,n]=this.splitId(e,"transcriptionModel"),a=this.getProvider(r,"transcriptionModel"),i=null==(t=a.transcriptionModel)?void 0:t.call(a,n);if(null==i)throw new nX.NoSuchModelError({modelId:e,modelType:"transcriptionModel"});return i}speechModel(e){var t;let[r,n]=this.splitId(e,"speechModel"),a=this.getProvider(r,"speechModel"),i=null==(t=a.speechModel)?void 0:t.call(a,n);if(null==i)throw new nX.NoSuchModelError({modelId:e,modelType:"speechModel"});return i}},n2=e.r(32782),n4=e.r(76261),n6=class extends n4.AISDKError{constructor(e){super({name:"AI_NoTranscriptGeneratedError",message:"No transcript generated."}),this.responses=e.responses}};async function n3({model:e,audio:t,providerOptions:r={},maxRetries:n,abortSignal:a,headers:i}){if("v2"!==e.specificationVersion)throw new eE({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});let{retry:o}=t2({maxRetries:n,abortSignal:a}),s=(0,n2.withUserAgentSuffix)(null!=i?i:{},`ai/${e9}`),l=t instanceof URL?(await e5({url:t})).data:function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return(0,e7.convertBase64ToUint8Array)(e)}catch(t){throw new eC({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new eC({content:e})}(t),u=await o(()=>{var t;return e.doGenerate({audio:l,abortSignal:a,headers:s,providerOptions:r,mediaType:null!=(t=e6({data:l,signatures:e4}))?t:"audio/wav"})});if(z(u.warnings),!u.text)throw new n6({responses:[u.response]});return new n9({text:u.text,segments:u.segments,language:u.language,durationInSeconds:u.durationInSeconds,warnings:u.warnings,responses:[u.response],providerMetadata:u.providerMetadata})}var n9=class{constructor(e){var t;this.text=e.text,this.segments=e.segments,this.language=e.language,this.durationInSeconds=e.durationInSeconds,this.warnings=e.warnings,this.responses=e.responses,this.providerMetadata=null!=(t=e.providerMetadata)?t:{}}},n5=e.r(32782);async function n8({stream:e,onTextPart:t}){let r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:e,value:n}=await r.read();if(e)break;await t(n)}}async function n7({api:e,prompt:t,credentials:r,headers:n,body:a,streamProtocol:i="data",setCompletion:o,setLoading:s,setError:l,setAbortController:u,onFinish:d,onError:c,fetch:p=fetch}){var m;try{s(!0),l(void 0);let c=new AbortController;u(c),o("");let h=await p(e,{method:"POST",body:JSON.stringify({prompt:t,...a}),credentials:r,headers:(0,n5.withUserAgentSuffix)({"Content-Type":"application/json",...n},`ai-sdk/${e9}`,(0,n5.getRuntimeEnvironmentUserAgent)()),signal:c.signal}).catch(e=>{throw e});if(!h.ok)throw Error(null!=(m=await h.text())?m:"Failed to fetch the chat response.");if(!h.body)throw Error("The response body is empty.");let f="";switch(i){case"text":await n8({stream:h.body,onTextPart:e=>{f+=e,o(f)}});break;case"data":await rV({stream:(0,n5.parseJsonEventStream)({stream:h.body,schema:rE}).pipeThrough(new TransformStream({async transform(e){if(!e.success)throw e.error;let t=e.value;if("text-delta"===t.type)f+=t.delta,o(f);else if("error"===t.type)throw Error(t.errorText)}})),onError:e=>{throw e}});break;default:throw Error(`Unknown stream protocol: ${i}`)}return d&&d(t,f),u(null),f}catch(e){if("AbortError"===e.name)return u(null),null;e instanceof Error&&c&&c(e),l(e)}finally{s(!1)}}var ae=e.r(32782);async function at(e){if(null==e)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async e=>{let{name:t,type:r}=e;return{type:"file",mediaType:r,filename:t,url:await new Promise((t,r)=>{let n=new FileReader;n.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result)},n.onerror=e=>r(e),n.readAsDataURL(e)})}}))}var ar=e.r(32782),an=e.r(32782),aa=class{constructor({api:e="/api/chat",credentials:t,headers:r,body:n,fetch:a,prepareSendMessagesRequest:i,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=r,this.body=n,this.fetch=a,this.prepareSendMessagesRequest=i,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var r,n,a,i,o;let s=await (0,an.resolve)(this.body),l=await (0,an.resolve)(this.headers),u=await (0,an.resolve)(this.credentials),d={...(0,an.normalizeHeaders)(l),...(0,an.normalizeHeaders)(t.headers)},c=await (null==(r=this.prepareSendMessagesRequest)?void 0:r.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...s,...t.body},headers:d,credentials:u,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),p=null!=(n=null==c?void 0:c.api)?n:this.api,m=(null==c?void 0:c.headers)!==void 0?(0,an.normalizeHeaders)(c.headers):d,h=(null==c?void 0:c.body)!==void 0?c.body:{...s,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},f=null!=(a=null==c?void 0:c.credentials)?a:u,g=null!=(i=this.fetch)?i:globalThis.fetch,y=await g(p,{method:"POST",headers:(0,an.withUserAgentSuffix)({"Content-Type":"application/json",...m},`ai-sdk/${e9}`,(0,an.getRuntimeEnvironmentUserAgent)()),body:JSON.stringify(h),credentials:f,signal:e});if(!y.ok)throw Error(null!=(o=await y.text())?o:"Failed to fetch the chat response.");if(!y.body)throw Error("The response body is empty.");return this.processResponseStream(y.body)}async reconnectToStream(e){var t,r,n,a,i;let o=await (0,an.resolve)(this.body),s=await (0,an.resolve)(this.headers),l=await (0,an.resolve)(this.credentials),u={...(0,an.normalizeHeaders)(s),...(0,an.normalizeHeaders)(e.headers)},d=await (null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:u,credentials:l,requestMetadata:e.metadata})),c=null!=(r=null==d?void 0:d.api)?r:`${this.api}/${e.chatId}/stream`,p=(null==d?void 0:d.headers)!==void 0?(0,an.normalizeHeaders)(d.headers):u,m=null!=(n=null==d?void 0:d.credentials)?n:l,h=null!=(a=this.fetch)?a:globalThis.fetch,f=await h(c,{method:"GET",headers:(0,an.withUserAgentSuffix)(p,`ai-sdk/${e9}`,(0,an.getRuntimeEnvironmentUserAgent)()),credentials:m});if(204===f.status)return null;if(!f.ok)throw Error(null!=(i=await f.text())?i:"Failed to fetch the chat response.");if(!f.body)throw Error("The response body is empty.");return this.processResponseStream(f.body)}},ai=class extends aa{constructor(e={}){super(e)}processResponseStream(e){return(0,ar.parseJsonEventStream)({stream:e,schema:rE}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}},ao=class{constructor({generateId:e=ae.generateId,id:t=e(),transport:r=new ai,messageMetadataSchema:n,dataPartSchemas:a,state:i,onError:o,onToolCall:s,onFinish:l,onData:u,sendAutomaticallyWhen:d}){this.activeResponse=void 0,this.jobExecutor=new nb,this.sendMessage=async(e,t)=>{var r,n,a,i;let o;if(null==e)return void await this.makeRequest({trigger:"submit-message",messageId:null==(r=this.lastMessage)?void 0:r.id,...t});if(o="text"in e||"files"in e?{parts:[...Array.isArray(e.files)?e.files:await at(e.files),..."text"in e&&null!=e.text?[{type:"text",text:e.text}]:[]]}:e,null!=e.messageId){let t=this.state.messages.findIndex(t=>t.id===e.messageId);if(-1===t)throw Error(`message with id ${e.messageId} not found`);if("user"!==this.state.messages[t].role)throw Error(`message with id ${e.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,t+1),this.state.replaceMessage(t,{...o,id:e.messageId,role:null!=(n=o.role)?n:"user",metadata:e.metadata})}else this.state.pushMessage({...o,id:null!=(a=o.id)?a:this.generateId(),role:null!=(i=o.role)?i:"user",metadata:e.metadata});await this.makeRequest({trigger:"submit-message",messageId:e.messageId,...t})},this.regenerate=async({messageId:e,...t}={})=>{let r=null==e?this.state.messages.length-1:this.state.messages.findIndex(t=>t.id===e);if(-1===r)throw Error(`message ${e} not found`);this.state.messages=this.state.messages.slice(0,"assistant"===this.messages[r].role?r:r+1),await this.makeRequest({trigger:"regenerate-message",messageId:e,...t})},this.resumeStream=async(e={})=>{await this.makeRequest({trigger:"resume-stream",...e})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async({state:e="output-available",tool:t,toolCallId:r,output:n,errorText:a})=>this.jobExecutor.run(async()=>{var t,i;let o=this.state.messages,s=o[o.length-1];this.state.replaceMessage(o.length-1,{...s,parts:s.parts.map(t=>rN(t)&&t.toolCallId===r?{...t,state:e,output:n,errorText:a}:t)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(t=>rN(t)&&t.toolCallId===r?{...t,state:e,output:n,errorText:a}:t)),"streaming"!==this.status&&"submitted"!==this.status&&(null==(t=this.sendAutomaticallyWhen)?void 0:t.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(i=this.lastMessage)?void 0:i.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var e;("streaming"===this.status||"submitted"===this.status)&&(null==(e=this.activeResponse)?void 0:e.abortController)&&this.activeResponse.abortController.abort()},this.id=t,this.transport=r,this.generateId=e,this.messageMetadataSchema=n,this.dataPartSchemas=a,this.state=i,this.onError=o,this.onToolCall=s,this.onFinish=l,this.onData=u,this.sendAutomaticallyWhen=d}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:r,body:n,messageId:a}){var i,o,s,l;this.setStatus({status:"submitted",error:void 0});let u=this.lastMessage,d=!1,c=!1,p=!1;try{let i,o={state:rD({lastMessage:this.state.snapshot(u),messageId:this.generateId()}),abortController:new AbortController};if(o.abortController.signal.addEventListener("abort",()=>{d=!0}),this.activeResponse=o,"resume-stream"===e){let e=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:r,body:n});if(null==e)return void this.setStatus({status:"ready"});i=e}else i=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:o.abortController.signal,metadata:t,headers:r,body:n,trigger:e,messageId:a});let s=e=>this.jobExecutor.run(()=>e({state:o.state,write:()=>{var e;this.setStatus({status:"streaming"}),o.state.message.id===(null==(e=this.lastMessage)?void 0:e.id)?this.state.replaceMessage(this.state.messages.length-1,o.state.message):this.state.pushMessage(o.state.message)}}));await rV({stream:rF({stream:i,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:s,onError:e=>{throw e}}),onError:e=>{throw e}}),this.setStatus({status:"ready"})}catch(e){if(d||"AbortError"===e.name)return d=!0,this.setStatus({status:"ready"}),null;p=!0,e instanceof TypeError&&(e.message.toLowerCase().includes("fetch")||e.message.toLowerCase().includes("network"))&&(c=!0),this.onError&&e instanceof Error&&this.onError(e),this.setStatus({status:"error",error:e})}finally{try{null==(o=this.onFinish)||o.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:d,isDisconnect:c,isError:p,finishReason:null==(i=this.activeResponse)?void 0:i.state.finishReason})}catch(e){console.error(e)}this.activeResponse=void 0}(null==(s=this.sendAutomaticallyWhen)?void 0:s.call(this,{messages:this.state.messages}))&&!p&&await this.makeRequest({trigger:"submit-message",messageId:null==(l=this.lastMessage)?void 0:l.id,metadata:t,headers:r,body:n})}};function as({messages:e}){let t=e[e.length-1];if(!t||"assistant"!==t.role)return!1;let r=t.parts.reduce((e,t,r)=>"step-start"===t.type?r:e,-1),n=t.parts.slice(r+1).filter(rN).filter(e=>!e.providerExecuted);return n.length>0&&n.every(e=>"output-available"===e.state||"output-error"===e.state)}var al=class extends aa{constructor(e={}){super(e)}processResponseStream(e){return function({stream:e}){return e.pipeThrough(new TransformStream({start(e){e.enqueue({type:"start"}),e.enqueue({type:"start-step"}),e.enqueue({type:"text-start",id:"text-1"})},async transform(e,t){t.enqueue({type:"text-delta",id:"text-1",delta:e})},async flush(e){e.enqueue({type:"text-end",id:"text-1"}),e.enqueue({type:"finish-step"}),e.enqueue({type:"finish"})}}))}({stream:e.pipeThrough(new TextDecoderStream)})}},au=e.r(76261),ad=e.r(32782),ac=e.r(72358),ap=(0,ad.lazyValidator)(()=>(0,ad.zodSchema)(ac.z.array(ac.z.object({id:ac.z.string(),role:ac.z.enum(["system","user","assistant"]),metadata:ac.z.unknown().optional(),parts:ac.z.array(ac.z.union([ac.z.object({type:ac.z.literal("text"),text:ac.z.string(),state:ac.z.enum(["streaming","done"]).optional(),providerMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("reasoning"),text:ac.z.string(),state:ac.z.enum(["streaming","done"]).optional(),providerMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("source-url"),sourceId:ac.z.string(),url:ac.z.string(),title:ac.z.string().optional(),providerMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("source-document"),sourceId:ac.z.string(),mediaType:ac.z.string(),title:ac.z.string(),filename:ac.z.string().optional(),providerMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("file"),mediaType:ac.z.string(),filename:ac.z.string().optional(),url:ac.z.string(),providerMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("step-start")}),ac.z.object({type:ac.z.string().startsWith("data-"),id:ac.z.string().optional(),data:ac.z.unknown()}),ac.z.object({type:ac.z.literal("dynamic-tool"),toolName:ac.z.string(),toolCallId:ac.z.string(),state:ac.z.literal("input-streaming"),input:ac.z.unknown().optional(),providerExecuted:ac.z.boolean().optional(),output:ac.z.never().optional(),errorText:ac.z.never().optional()}),ac.z.object({type:ac.z.literal("dynamic-tool"),toolName:ac.z.string(),toolCallId:ac.z.string(),state:ac.z.literal("input-available"),input:ac.z.unknown(),providerExecuted:ac.z.boolean().optional(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional()}),ac.z.object({type:ac.z.literal("dynamic-tool"),toolName:ac.z.string(),toolCallId:ac.z.string(),state:ac.z.literal("output-available"),input:ac.z.unknown(),providerExecuted:ac.z.boolean().optional(),output:ac.z.unknown(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),preliminary:ac.z.boolean().optional()}),ac.z.object({type:ac.z.literal("dynamic-tool"),toolName:ac.z.string(),toolCallId:ac.z.string(),state:ac.z.literal("output-error"),input:ac.z.unknown(),providerExecuted:ac.z.boolean().optional(),output:ac.z.never().optional(),errorText:ac.z.string(),callProviderMetadata:tf.optional()}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("input-streaming"),providerExecuted:ac.z.boolean().optional(),input:ac.z.unknown().optional(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),approval:ac.z.never().optional()}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("input-available"),providerExecuted:ac.z.boolean().optional(),input:ac.z.unknown(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),approval:ac.z.never().optional()}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("approval-requested"),input:ac.z.unknown(),providerExecuted:ac.z.boolean().optional(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),approval:ac.z.object({id:ac.z.string(),approved:ac.z.never().optional(),reason:ac.z.never().optional()})}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("approval-responded"),input:ac.z.unknown(),providerExecuted:ac.z.boolean().optional(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),approval:ac.z.object({id:ac.z.string(),approved:ac.z.boolean(),reason:ac.z.string().optional()})}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("output-available"),providerExecuted:ac.z.boolean().optional(),input:ac.z.unknown(),output:ac.z.unknown(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),preliminary:ac.z.boolean().optional(),approval:ac.z.object({id:ac.z.string(),approved:ac.z.literal(!0),reason:ac.z.string().optional()}).optional()}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("output-error"),providerExecuted:ac.z.boolean().optional(),input:ac.z.unknown(),output:ac.z.never().optional(),errorText:ac.z.string(),callProviderMetadata:tf.optional(),approval:ac.z.object({id:ac.z.string(),approved:ac.z.literal(!0),reason:ac.z.string().optional()}).optional()}),ac.z.object({type:ac.z.string().startsWith("tool-"),toolCallId:ac.z.string(),state:ac.z.literal("output-denied"),providerExecuted:ac.z.boolean().optional(),input:ac.z.unknown(),output:ac.z.never().optional(),errorText:ac.z.never().optional(),callProviderMetadata:tf.optional(),approval:ac.z.object({id:ac.z.string(),approved:ac.z.literal(!1),reason:ac.z.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));async function am({messages:e,metadataSchema:t,dataSchemas:r,tools:n}){try{if(null==e)return{success:!1,error:new U({parameter:"messages",value:e,message:"messages parameter must be provided"})};let a=await (0,ad.validateTypes)({value:e,schema:ap});if(t)for(let e of a)await (0,ad.validateTypes)({value:e.metadata,schema:t});if(r)for(let e of a)for(let t of e.parts.filter(e=>e.type.startsWith("data-"))){let e=t.type.slice(5),n=r[e];if(!n)return{success:!1,error:new au.TypeValidationError({value:t.data,cause:`No data schema found for data part ${e}`})};await (0,ad.validateTypes)({value:t.data,schema:n})}if(n)for(let e of a)for(let t of e.parts.filter(e=>e.type.startsWith("tool-"))){let e=t.type.slice(5),r=n[e];if(!r)return{success:!1,error:new au.TypeValidationError({value:t.input,cause:`No tool schema found for tool part ${e}`})};("input-available"===t.state||"output-available"===t.state||"output-error"===t.state)&&await (0,ad.validateTypes)({value:t.input,schema:r.inputSchema}),"output-available"===t.state&&r.outputSchema&&await (0,ad.validateTypes)({value:t.output,schema:r.outputSchema})}return{success:!0,data:a}}catch(e){return{success:!1,error:e}}}async function ah({messages:e,metadataSchema:t,dataSchemas:r,tools:n}){let a=await am({messages:e,metadataSchema:t,dataSchemas:r,tools:n});if(!a.success)throw a.error;return a.data}var af=e.r(32782);function ag({execute:e,onError:t=af.getErrorMessage,originalMessages:r,onFinish:n,generateId:a=af.generateId}){let i,o=[],s=new ReadableStream({start(e){i=e}});function l(e){try{i.enqueue(e)}catch(e){}}try{let r=e({writer:{write(e){l(e)},merge(e){o.push((async()=>{let t=e.getReader();for(;;){let{done:e,value:r}=await t.read();if(e)break;l(r)}})().catch(e=>{l({type:"error",errorText:t(e)})}))},onError:t}});r&&o.push(r.catch(e=>{l({type:"error",errorText:t(e)})}))}catch(e){l({type:"error",errorText:t(e)})}return new Promise(async e=>{for(;o.length>0;)await o.shift();e()}).finally(()=>{try{i.close()}catch(e){}}),rU({stream:s,messageId:a(),originalMessages:r,onFinish:n,onError:t})}function ay({message:e,stream:t,onError:r,terminateOnError:n=!1}){var a;let i,o=!1,s=new ReadableStream({start(e){i=e}}),l=rD({messageId:null!=(a=null==e?void 0:e.id)?a:"",lastMessage:e}),u=e=>{null==r||r(e),!o&&n&&(o=!0,null==i||i.error(e))};return rV({stream:rF({stream:t,runUpdateMessageJob:e=>e({state:l,write:()=>{null==i||i.enqueue(structuredClone(l.message))}}),onError:u}),onError:u}).finally(()=>{o||null==i||i.close()}),rq(s)}},15379,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="0.39.0"},60497,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setShims=r.isFsReadStream=r.fileFromPath=r.getDefaultAgent=r.getMultipartRequestOptions=r.ReadableStream=r.File=r.Blob=r.FormData=r.Headers=r.Response=r.Request=r.fetch=r.kind=r.auto=void 0,r.auto=!1,r.kind=void 0,r.fetch=void 0,r.Request=void 0,r.Response=void 0,r.Headers=void 0,r.FormData=void 0,r.Blob=void 0,r.File=void 0,r.ReadableStream=void 0,r.getMultipartRequestOptions=void 0,r.getDefaultAgent=void 0,r.fileFromPath=void 0,r.isFsReadStream=void 0,r.setShims=function(e,t={auto:!1}){if(r.auto)throw Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(r.kind)throw Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${r.kind}'\``);r.auto=t.auto,r.kind=e.kind,r.fetch=e.fetch,r.Request=e.Request,r.Response=e.Response,r.Headers=e.Headers,r.FormData=e.FormData,r.Blob=e.Blob,r.File=e.File,r.ReadableStream=e.ReadableStream,r.getMultipartRequestOptions=e.getMultipartRequestOptions,r.getDefaultAgent=e.getDefaultAgent,r.fileFromPath=e.fileFromPath,r.isFsReadStream=e.isFsReadStream}},79212,(e,t,r)=>{e.e,function(e){"use strict";let t,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function n(){}function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}function i(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}let o=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(o),u=Promise.reject.bind(o);function d(e){return new o(e)}function c(e,t,r){return s.call(e,t,r)}function p(e,t,r){c(c(e,t,r),void 0,n)}function m(e){c(e,void 0,n)}let h=e=>{if("function"==typeof queueMicrotask)h=queueMicrotask;else{let e=l(void 0);h=t=>c(e,t)}return h(e)};function f(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function g(e,t,r){try{var n;return n=f(e,t,r),l(n)}catch(e){return u(e)}}class y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,n=r+1,a=e._elements,i=a[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),a[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(n=(r=r._next)._elements,t=0,0===n.length));)e(n[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}let v=r("[[AbortSteps]]"),b=r("[[ErrorSteps]]"),_=r("[[CancelSteps]]"),w=r("[[PullSteps]]"),S=r("[[ReleaseSteps]]");function k(e,t){var r,n;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?O(e):"closed"===t._state?(O(e),P(e)):(r=e,n=t._storedError,O(r),I(r,n))}function x(e,t){return tE(e._ownerReadableStream,t)}function E(e){var t,r;let n=e._ownerReadableStream;"readable"===n._state?I(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),O(t),I(t,r)),n._readableStreamController[S](),n._reader=void 0,e._ownerReadableStream=void 0}function T(e){return TypeError("Cannot "+e+" a stream using a released reader")}function O(e){e._closedPromise=d((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function I(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function P(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let C=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},A=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function j(e,t){var r;if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw TypeError(`${t} is not an object.`)}function z(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function R(e,t){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw TypeError(`${t} is not an object.`)}function N(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function $(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function M(e){return Number(e)}function D(e,t){var r,n;let a=Number.MAX_SAFE_INTEGER,i=Number(e);if(!C(i=0===(r=i)?0:r))throw TypeError(`${t} is not a finite number`);if((i=0===(n=A(i))?0:n)<0||i>a)throw TypeError(`${t} is outside the accepted range of 0 to ${a}, inclusive`);return C(i)&&0!==i?i:0}function F(e){if(!a(e)||"function"!=typeof e.getReader)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function U(e){if(!a(e)||"function"!=typeof e.getWriter)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function L(e,t){if(!tk(e))throw TypeError(`${t} is not a ReadableStream.`)}function q(e,t){e._reader._readRequests.push(t)}function V(e,t,r){let n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function B(e){return e._reader._readRequests.length}function Z(e){let t=e._reader;return void 0!==t&&!!G(t)}class H{constructor(e){if(N(e,1,"ReadableStreamDefaultReader"),L(e,"First parameter"),tx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");k(this,e),this._readRequests=new y}get closed(){return G(this)?this._closedPromise:u(J("closed"))}cancel(e){return G(this)?void 0===this._ownerReadableStream?u(T("cancel")):x(this,e):u(J("cancel"))}read(){var e;let t,r,n;if(!G(this))return u(J("read"));if(void 0===this._ownerReadableStream)return u(T("read from"));let a=d((e,n)=>{t=e,r=n});return e={_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:e=>r(e)},(n=this._ownerReadableStream)._disturbed=!0,"closed"===n._state?e._closeSteps():"errored"===n._state?e._errorSteps(n._storedError):n._readableStreamController[w](e),a}releaseLock(){if(!G(this))throw J("releaseLock");void 0!==this._ownerReadableStream&&(E(this),W(this,TypeError("Reader was released")))}}function G(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof H}function W(e,t){let r=e._readRequests;e._readRequests=new y,r.forEach(e=>{e._errorSteps(t)})}function J(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(H.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(H.prototype.cancel,"cancel"),i(H.prototype.read,"read"),i(H.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(H.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class K{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?c(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?c(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return void 0===e?u(T("iterate")):c(e.read(),e=>{var t;return this._ongoingPromise=void 0,e.done&&(this._isFinished=!0,null==(t=this._reader)||t.releaseLock(),this._reader=void 0),e},e=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,null==(t=this._reader)||t.releaseLock(),this._reader=void 0,e})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t)return u(T("finish iterating"));if(this._reader=void 0,!this._preventCancel){let r=t.cancel(e);return t.releaseLock(),c(r,()=>({value:e,done:!0}),void 0)}return t.releaseLock(),l({value:e,done:!0})}}let Y={next(){return X(this)?this._asyncIteratorImpl.next():u(Q("next"))},return(e){return X(this)?this._asyncIteratorImpl.return(e):u(Q("return"))}};function X(e){if(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof K}catch(e){return!1}}function Q(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof r.asyncIterator&&Object.defineProperty(Y,r.asyncIterator,{value(){return this},writable:!0,configurable:!0});let ee=Number.isNaN||function(e){return e!=e};function et(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function er(e){return new Uint8Array(function(e,t,r){if(e.slice)return e.slice(t,r);let n=r-t,a=new ArrayBuffer(n);return et(a,0,e,t,n),a}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function en(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ea(e,t,r){if("number"!=typeof r||ee(r)||r<0||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ei(e){e._queue=new y,e._queueTotalSize=0}class eo{constructor(){throw TypeError("Illegal constructor")}get view(){if(!eu(this))throw eI("view");return this._view}respond(e){if(!eu(this))throw eI("respond");if(N(e,1,"respond"),e=D(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,eS(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!eu(this))throw eI("respondWithNewView");if(N(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,function(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let n=t.byteLength;r.buffer=t.buffer,eS(e,n)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(eo.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(eo.prototype.respond,"respond"),i(eo.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof r.toStringTag&&Object.defineProperty(eo.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class es{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!el(this))throw eP("byobRequest");return function(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(eo.prototype);n._associatedReadableByteStreamController=e,n._view=r,e._byobRequest=n}return e._byobRequest}(this)}get desiredSize(){if(!el(this))throw eP("desiredSize");return eO(this)}close(){if(!el(this))throw eP("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0)return e._closeRequested=!0;if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eE(e,t),t}ex(e),tT(t)}}(this)}enqueue(e){if(!el(this))throw eP("enqueue");if(N(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let n=t.buffer,a=t.byteOffset,i=t.byteLength;if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();t.buffer,e_(e),t.buffer=t.buffer,"none"===t.readerType&&eg(e,t)}Z(r)?(function(e){let t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;eT(e,t._readRequests.shift())}}(e),0===B(r))?eh(e,n,a,i):(e._pendingPullIntos.length>0&&ek(e),V(r,new Uint8Array(n,a,i),!1)):ej(r)?(eh(e,n,a,i),ew(e)):eh(e,n,a,i),ed(e)}(this,e)}error(e){if(!el(this))throw eP("error");eE(this,e)}[_](e){ec(this),ei(this);let t=this._cancelAlgorithm(e);return ex(this),t}[w](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void eT(this,e);let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}let n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}q(t,e),ed(this)}[S](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new y,this._pendingPullIntos.push(e)}}}function el(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof es}function eu(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof eo}function ed(e){let t;if("readable"===(t=e._controlledReadableByteStream)._state&&!e._closeRequested&&e._started&&(Z(t)&&B(t)>0||ej(t)&&eA(t)>0||eO(e)>0)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,p(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ed(e)),null),t=>(eE(e,t),null))}}function ec(e){e_(e),e._pendingPullIntos=new y}function ep(e,t){var r;let n,a=!1;"closed"===e._state&&(a=!0);let i=em(t);"default"===t.readerType?V(e,i,a):(r=a,n=e._reader._readIntoRequests.shift(),r?n._closeSteps(i):n._chunkSteps(i))}function em(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function eh(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function ef(e,t,r,n){let a;try{a=t.slice(r,r+n)}catch(t){throw eE(e,t),t}eh(e,a,0,n)}function eg(e,t){t.bytesFilled>0&&ef(e,t.buffer,t.byteOffset,t.bytesFilled),ek(e)}function ey(e,t){let r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+a,o=i-i%r,s=a,l=!1;o>n&&(s=o-t.bytesFilled,l=!0);let u=e._queue;for(;s>0;){let r=u.peek(),n=Math.min(s,r.byteLength),a=t.byteOffset+t.bytesFilled;et(t.buffer,a,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,ev(e,n,t),s-=n}return l}function ev(e,t,r){r.bytesFilled+=t}function eb(e){0===e._queueTotalSize&&e._closeRequested?(ex(e),tT(e._controlledReadableByteStream)):ed(e)}function e_(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ew(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();ey(e,t)&&(ek(e),ep(e._controlledReadableByteStream,t))}}function eS(e,t){let r=e._pendingPullIntos.peek();e_(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&ek(e);let r=e._controlledReadableByteStream;if(ej(r))for(;eA(r)>0;)ep(r,ek(e))}(e,r):function(e,t,r){if(ev(0,t,r),"none"===r.readerType)return eg(e,r),ew(e);if(r.bytesFilled<r.elementSize)return;ek(e);let n=r.bytesFilled%r.elementSize;if(n>0){let t=r.byteOffset+r.bytesFilled;ef(e,r.buffer,t-n,n)}r.bytesFilled-=n,ep(e._controlledReadableByteStream,r),ew(e)}(e,t,r),ed(e)}function ek(e){return e._pendingPullIntos.shift()}function ex(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eE(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ec(e),ei(e),ex(e),tO(r,t))}function eT(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,eb(e);let n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function eO(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eI(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function eP(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eC(e,t){e._reader._readIntoRequests.push(t)}function eA(e){return e._reader._readIntoRequests.length}function ej(e){let t=e._reader;return void 0!==t&&!!eR(t)}Object.defineProperties(es.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(es.prototype.close,"close"),i(es.prototype.enqueue,"enqueue"),i(es.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(es.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ez{constructor(e){if(N(e,1,"ReadableStreamBYOBReader"),L(e,"First parameter"),tx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!el(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");k(this,e),this._readIntoRequests=new y}get closed(){return eR(this)?this._closedPromise:u(e$("closed"))}cancel(e){return eR(this)?void 0===this._ownerReadableStream?u(T("cancel")):x(this,e):u(e$("cancel"))}read(e){var t;let r,n,a;if(!eR(this))return u(e$("read"));if(!ArrayBuffer.isView(e))return u(TypeError("view must be an array buffer view"));if(0===e.byteLength)return u(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return u(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return u(T("read from"));let i=d((e,t)=>{r=e,n=t});return t={_chunkSteps:e=>r({value:e,done:!1}),_closeSteps:e=>r({value:e,done:!0}),_errorSteps:e=>n(e)},(a=this._ownerReadableStream)._disturbed=!0,"errored"===a._state?t._errorSteps(a._storedError):function(e,t,r){let n=e._controlledReadableByteStream,a=1;t.constructor!==DataView&&(a=t.constructor.BYTES_PER_ELEMENT);let i=t.constructor,o=t.buffer,s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),eC(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(ey(e,s)){let t=em(s);return eb(e),r._chunkSteps(t)}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");return eE(e,t),r._errorSteps(t)}}e._pendingPullIntos.push(s),eC(n,r),ed(e)}else{let e=new i(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(a._readableStreamController,e,t),i}releaseLock(){if(!eR(this))throw e$("releaseLock");void 0!==this._ownerReadableStream&&(E(this),eN(this,TypeError("Reader was released")))}}function eR(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ez}function eN(e,t){let r=e._readIntoRequests;e._readIntoRequests=new y,r.forEach(e=>{e._errorSteps(t)})}function e$(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function eM(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ee(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function eD(e){let{size:t}=e;return t||(()=>1)}function eF(e,t){var r;j(e,t);let n=null==e?void 0:e.highWaterMark,a=null==e?void 0:e.size;return{highWaterMark:void 0===n?void 0:M(n),size:void 0===a?void 0:(z(r=a,`${t} has member 'size' that`),e=>M(r(e)))}}Object.defineProperties(ez.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(ez.prototype.cancel,"cancel"),i(ez.prototype.read,"read"),i(ez.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(ez.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let eU="function"==typeof AbortController;class eL{constructor(e={},t={}){void 0===e?e=null:R(e,"First parameter");const r=eF(t,"Second parameter"),n=function(e,t){j(e,t);let r=null==e?void 0:e.abort,n=null==e?void 0:e.close,a=null==e?void 0:e.start,i=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:(z(r,`${t} has member 'abort' that`),t=>g(r,e,[t])),close:void 0===n?void 0:(z(n,`${t} has member 'close' that`),()=>g(n,e,[])),start:void 0===a?void 0:(z(a,`${t} has member 'start' that`),t=>f(a,e,[t])),write:void 0===o?void 0:(z(o,`${t} has member 'write' that`),(t,r)=>g(o,e,[t,r])),type:i}}(e,"First parameter");if(this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=new y,this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==n.type)throw RangeError("Invalid type is specified");const a=eD(r);!function(e,t,r,n){let a,i,o,s,u=Object.create(e2.prototype);a=void 0!==t.start?()=>t.start(u):()=>{},i=void 0!==t.write?e=>t.write(e,u):()=>l(void 0),o=void 0!==t.close?()=>t.close():()=>l(void 0),s=void 0!==t.abort?e=>t.abort(e):()=>l(void 0),u._controlledWritableStream=e,e._writableStreamController=u,u._queue=void 0,u._queueTotalSize=void 0,ei(u),u._abortReason=void 0,u._abortController=function(){if(eU)return new AbortController}(),u._started=!1,u._strategySizeAlgorithm=n,u._strategyHWM=r,u._writeAlgorithm=i,u._closeAlgorithm=o,u._abortAlgorithm=s,eY(e,0>=e3(u)),p(l(a()),()=>(u._started=!0,e9(u),null),t=>(u._started=!0,eH(e,t),null))}(this,n,eM(r,1),a)}get locked(){if(!eq(this))throw e7("locked");return eV(this)}abort(e){return eq(this)?eV(this)?u(TypeError("Cannot abort a stream that already has a writer")):eB(this,e):u(e7("abort"))}close(){return eq(this)?eV(this)?u(TypeError("Cannot close a stream that already has a writer")):eJ(this)?u(TypeError("Cannot close an already-closing stream")):eZ(this):u(e7("close"))}getWriter(){if(!eq(this))throw e7("getWriter");return new eX(this)}}function eq(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof eL}function eV(e){return void 0!==e._writer}function eB(e,t){var r;if("closed"===e._state||"errored"===e._state)return l(void 0);e._writableStreamController._abortReason=t,null==(r=e._writableStreamController._abortController)||r.abort(t);let n=e._state;if("closed"===n||"errored"===n)return l(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let a=!1;"erroring"===n&&(a=!0,t=void 0);let i=d((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:a}});return e._pendingAbortRequest._promise=i,a||eG(e,t),i}function eZ(e){var t;let r=e._state;if("closed"===r||"errored"===r)return u(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let n=d((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),a=e._writer;return void 0!==a&&e._backpressure&&"writable"===r&&tu(a),ea(t=e._writableStreamController,e0,0),e9(t),n}function eH(e,t){"writable"!==e._state?eW(e):eG(e,t)}function eG(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;void 0!==n&&e1(n,t),void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest&&r._started&&eW(e)}function eW(e){e._state="errored",e._writableStreamController[b]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new y,void 0===e._pendingAbortRequest)return void eK(e);let r=e._pendingAbortRequest;(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)?(r._reject(t),eK(e)):p(e._writableStreamController[v](r._reason),()=>(r._resolve(),eK(e),null),t=>(r._reject(t),eK(e),null))}function eJ(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function eK(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&ta(t,e._storedError)}function eY(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?to(r):tu(r)),e._backpressure=t}Object.defineProperties(eL.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(eL.prototype.abort,"abort"),i(eL.prototype.close,"close"),i(eL.prototype.getWriter,"getWriter"),"symbol"==typeof r.toStringTag&&Object.defineProperty(eL.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});class eX{constructor(e){if(N(e,1,"WritableStreamDefaultWriter"),function(e,t){if(!eq(e))throw TypeError(`${t} is not a WritableStream.`)}(e,"First parameter"),eV(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!eJ(e)&&e._backpressure?to(this):function(e){to(e),tu(e)}(this),tn(this);else if("erroring"===t)ts(this,e._storedError),tn(this);else if("closed"===t)(function(e){to(e),tu(e)})(this),tn(this),ti(this);else{const t=e._storedError;ts(this,t),function(e,t){tn(e),ta(e,t)}(this,t)}}get closed(){return eQ(this)?this._closedPromise:u(tt("closed"))}get desiredSize(){let e,t;if(!eQ(this))throw tt("desiredSize");if(void 0===this._ownerWritableStream)throw tr("desiredSize");return"errored"===(t=(e=this._ownerWritableStream)._state)||"erroring"===t?null:"closed"===t?0:e3(e._writableStreamController)}get ready(){return eQ(this)?this._readyPromise:u(tt("ready"))}abort(e){return eQ(this)?void 0===this._ownerWritableStream?u(tr("abort")):eB(this._ownerWritableStream,e):u(tt("abort"))}close(){if(!eQ(this))return u(tt("close"));let e=this._ownerWritableStream;return void 0===e?u(tr("close")):eJ(e)?u(TypeError("Cannot close an already-closing stream")):eZ(this._ownerWritableStream)}releaseLock(){var e,t;let r,n;if(!eQ(this))throw tt("releaseLock");void 0!==this._ownerWritableStream&&(r=this._ownerWritableStream,e1(this,n=TypeError("Writer was released and can no longer be used to monitor the stream's closedness")),"pending"===this._closedPromiseState?ta(this,n):(e=this,t=n,tn(e),ta(e,t)),r._writer=void 0,this._ownerWritableStream=void 0)}write(e){return eQ(this)?void 0===this._ownerWritableStream?u(tr("write to")):function(e,t){let r=e._ownerWritableStream,n=r._writableStreamController,a=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return e5(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return u(tr("write to"));let i=r._state;if("errored"===i)return u(r._storedError);if(eJ(r)||"closed"===i)return u(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return u(r._storedError);let o=d((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{ea(e,t,r)}catch(t){return void e5(e,t)}let n=e._controlledWritableStream;eJ(n)||"writable"!==n._state||eY(n,0>=e3(e)),e9(e)}(n,t,a),o}(this,e):u(tt("write"))}}function eQ(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof eX}function e1(e,t){"pending"===e._readyPromiseState?tl(e,t):ts(e,t)}Object.defineProperties(eX.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(eX.prototype.abort,"abort"),i(eX.prototype.close,"close"),i(eX.prototype.releaseLock,"releaseLock"),i(eX.prototype.write,"write"),"symbol"==typeof r.toStringTag&&Object.defineProperty(eX.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let e0={};class e2{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!e4(this))throw te("abortReason");return this._abortReason}get signal(){if(!e4(this))throw te("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!e4(this))throw te("error");"writable"===this._controlledWritableStream._state&&e8(this,e)}[v](e){let t=this._abortAlgorithm(e);return e6(this),t}[b](){ei(this)}}function e4(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof e2}function e6(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function e3(e){return e._strategyHWM-e._queueTotalSize}function e9(e){let t,r,n,a=e._controlledWritableStream;if(!e._started||void 0!==a._inFlightWriteRequest)return;if("erroring"===a._state)return void eW(a);if(0===e._queue.length)return;let i=e._queue.peek().value;i===e0?((t=e._controlledWritableStream)._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,en(e),r=e._closeAlgorithm(),e6(e),p(r,()=>{let e;return t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed",void 0!==(e=t._writer)&&ti(e),null},e=>(t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eH(t,e),null))):((n=e._controlledWritableStream)._inFlightWriteRequest=n._writeRequests.shift(),p(e._writeAlgorithm(i),()=>{n._inFlightWriteRequest._resolve(void 0),n._inFlightWriteRequest=void 0;let t=n._state;return en(e),eJ(n)||"writable"!==t||eY(n,0>=e3(e)),e9(e),null},t=>("writable"===n._state&&e6(e),n._inFlightWriteRequest._reject(t),n._inFlightWriteRequest=void 0,eH(n,t),null)))}function e5(e,t){"writable"===e._controlledWritableStream._state&&e8(e,t)}function e8(e,t){let r=e._controlledWritableStream;e6(e),eG(r,t)}function e7(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function te(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function tt(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tr(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tn(e){e._closedPromise=d((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function ta(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ti(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function to(e){e._readyPromise=d((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function ts(e,t){to(e),tl(e,t)}function tl(e,t){void 0!==e._readyPromise_reject&&(m(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tu(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(e2.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(e2.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let td="u">typeof DOMException?DOMException:void 0,tc=!function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(td)?((t=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t):td;function tp(e,t,r,n,a,i){let o=e.getReader(),s=t.getWriter();tk(e)&&(e._disturbed=!0);let f,g,y,v=!1,b=!1,_="readable",w="writable",S=!1,k=!1,x=d(e=>{y=e}),E=Promise.resolve(void 0);return d((T,O)=>{let I;function P(){if(v)return;let e=d((e,t)=>{!function r(n){n?e():c(v?l(!0):c(s.ready,()=>c(o.read(),e=>!!e.done||(m(E=s.write(e.value)),!1))),r,t)}(!1)});m(e)}function C(){return _="closed",r?R():z(()=>(eq(t)&&(S=eJ(t),w=t._state),S||"closed"===w?l(void 0):"erroring"===w||"errored"===w?u(g):(S=!0,s.close())),!1,void 0),null}function A(e){return v||(_="errored",f=e,n?R(!0,e):z(()=>s.abort(e),!0,e)),null}function j(e){return b||(w="errored",g=e,a?R(!0,e):z(()=>o.cancel(e),!0,e)),null}if(void 0!==i&&(I=()=>{let e=void 0!==i.reason?i.reason:new tc("Aborted","AbortError"),t=[];n||t.push(()=>"writable"===w?s.abort(e):l(void 0)),a||t.push(()=>"readable"===_?o.cancel(e):l(void 0)),z(()=>Promise.all(t.map(e=>e())),!0,e)},i.aborted?I():i.addEventListener("abort",I)),tk(e)&&(_=e._state,f=e._storedError),eq(t)&&(w=t._state,g=t._storedError,S=eJ(t)),tk(e)&&eq(t)&&(k=!0,y()),"errored"===_)A(f);else if("erroring"===w||"errored"===w)j(g);else if("closed"===_)C();else if(S||"closed"===w){let e=TypeError("the destination writable stream closed before all data could be piped to it");a?R(!0,e):z(()=>o.cancel(e),!0,e)}function z(e,t,r){function n(){let e;return"writable"!==w||S?a():p(l(function t(){if(e!==E)return e=E,c(E,t,t)}()),a),null}function a(){return e?p(e(),()=>N(t,r),e=>N(!0,e)):N(t,r),null}v||(v=!0,k?n():p(x,n))}function R(e,t){z(void 0,e,t)}function N(e,t){return b=!0,s.releaseLock(),o.releaseLock(),void 0!==i&&i.removeEventListener("abort",I),e?O(t):T(void 0),null}v||(p(o.closed,C,A),p(s.closed,function(){return b||(w="closed"),null},j)),k?P():h(()=>{k=!0,y(),P()})})}class tm{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!th(this))throw t_("desiredSize");return tv(this)}close(){if(!th(this))throw t_("close");if(!tb(this))throw TypeError("The stream is not in a state that permits close");!function(e){if(!tb(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tg(e),tT(t))}(this)}enqueue(e){if(!th(this))throw t_("enqueue");if(!tb(this))throw TypeError("The stream is not in a state that permits enqueue");if(!tb(this))return;let t=this._controlledReadableStream;if(tx(t)&&B(t)>0)V(t,e,!1);else{let t;try{t=this._strategySizeAlgorithm(e)}catch(e){throw ty(this,e),e}try{ea(this,e,t)}catch(e){throw ty(this,e),e}}tf(this)}error(e){if(!th(this))throw t_("error");ty(this,e)}[_](e){ei(this);let t=this._cancelAlgorithm(e);return tg(this),t}[w](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=en(this);this._closeRequested&&0===this._queue.length?(tg(this),tT(t)):tf(this),e._chunkSteps(r)}else q(t,e),tf(this)}[S](){}}function th(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof tm}function tf(e){let t;if(t=e._controlledReadableStream,tb(e)&&e._started&&(tx(t)&&B(t)>0||tv(e)>0||0)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,p(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tf(e)),null),t=>(ty(e,t),null))}}function tg(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ty(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(ei(e),tg(e),tO(r,t))}function tv(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tb(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function t_(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tw(e,t){j(e,t);let r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,a=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!a,signal:i}}Object.defineProperties(tm.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i(tm.prototype.close,"close"),i(tm.prototype.enqueue,"enqueue"),i(tm.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(tm.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tS{constructor(e={},t={}){void 0===e?e=null:R(e,"First parameter");const r=eF(t,"Second parameter"),n=function(e,t){j(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,n=null==e?void 0:e.cancel,a=null==e?void 0:e.pull,i=null==e?void 0:e.start,o=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:D(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:(z(n,`${t} has member 'cancel' that`),t=>g(n,e,[t])),pull:void 0===a?void 0:(z(a,`${t} has member 'pull' that`),t=>g(a,e,[t])),start:void 0===i?void 0:(z(i,`${t} has member 'start' that`),t=>f(i,e,[t])),type:void 0===o?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(o,`${t} has member 'type' that`)}}(e,"First parameter");if(this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,"bytes"===n.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let n,a,i,o=Object.create(es.prototype);n=void 0!==t.start?()=>t.start(o):()=>{},a=void 0!==t.pull?()=>t.pull(o):()=>l(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>l(void 0);let s=t.autoAllocateChunkSize;if(0===s)throw TypeError("autoAllocateChunkSize must be greater than 0");o._controlledReadableByteStream=e,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,ei(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=r,o._pullAlgorithm=a,o._cancelAlgorithm=i,o._autoAllocateChunkSize=s,o._pendingPullIntos=new y,e._readableStreamController=o,p(l(n()),()=>(o._started=!0,ed(o),null),e=>(eE(o,e),null))}(this,n,eM(r,0))}else{const e=eD(r);!function(e,t,r,n){let a,i,o,s=Object.create(tm.prototype);a=void 0!==t.start?()=>t.start(s):()=>{},i=void 0!==t.pull?()=>t.pull(s):()=>l(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>l(void 0),s._controlledReadableStream=e,s._queue=void 0,s._queueTotalSize=void 0,ei(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=n,s._strategyHWM=r,s._pullAlgorithm=i,s._cancelAlgorithm=o,e._readableStreamController=s,p(l(a()),()=>(s._started=!0,tf(s),null),e=>(ty(s,e),null))}(this,n,eM(r,1),e)}}get locked(){if(!tk(this))throw tI("locked");return tx(this)}cancel(e){return tk(this)?tx(this)?u(TypeError("Cannot cancel a stream that already has a reader")):tE(this,e):u(tI("cancel"))}getReader(e){var t;let r;if(!tk(this))throw tI("getReader");return void 0===(j(e,t="First parameter"),{mode:void 0===(r=null==e?void 0:e.mode)?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}).mode?new H(this):new ez(this)}pipeThrough(e,t={}){var r;let n,a;if(!F(this))throw tI("pipeThrough");N(e,1,"pipeThrough");let i=(j(e,r="First parameter"),$(n=null==e?void 0:e.readable,"readable","ReadableWritablePair"),function(e,t){if(!F(e))throw TypeError(`${t} is not a ReadableStream.`)}(n,`${r} has member 'readable' that`),$(a=null==e?void 0:e.writable,"writable","ReadableWritablePair"),function(e,t){if(!U(e))throw TypeError(`${t} is not a WritableStream.`)}(a,`${r} has member 'writable' that`),{readable:n,writable:a}),o=tw(t,"Second parameter");if(this.locked)throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(i.writable.locked)throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(tp(this,i.writable,o.preventClose,o.preventAbort,o.preventCancel,o.signal)),i.readable}pipeTo(e,t={}){let r;if(!F(this))return u(tI("pipeTo"));if(void 0===e)return u("Parameter 1 is required in 'pipeTo'.");if(!U(e))return u(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tw(t,"Second parameter")}catch(e){return u(e)}return this.locked?u(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?u(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tp(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!F(this))throw tI("tee");if(this.locked)throw TypeError("Cannot tee a stream that already has a reader");return!function(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}(this)?function(e,t){let r=e.getReader(),n,a,i,o,s,u=!1,c=!1,m=!1,h=!1,f=d(e=>{s=e});function g(){return u?c=!0:(u=!0,p(r.read(),e=>{if(c=!1,e.done)return m||i.close(),h||o.close(),m&&h||s(void 0),null;let t=e.value;return m||i.enqueue(t),h||o.enqueue(t),u=!1,c&&g(),null},()=>(u=!1,null))),l(void 0)}let y=new tS({start(e){i=e},pull:g,cancel:function(e){if(m=!0,n=e,h){let e=[n,a],t=r.cancel(e);s(t)}return f}}),v=new tS({start(e){o=e},pull:g,cancel:function(e){if(h=!0,a=e,m){let e=[n,a],t=r.cancel(e);s(t)}return f}});return p(r.closed,void 0,e=>(i.error(e),o.error(e),m&&h||s(void 0),null)),[y,v]}(this):function(e){let t,r,n,a,i,o=e.getReader(),s=!1,u=!1,c=!1,m=!1,h=!1,f=!1,g=d(e=>{i=e});function y(e){p(e.closed,void 0,t=>(e!==o||(n.error(t),a.error(t),h&&f||i(void 0)),null))}function v(){s&&(o.releaseLock(),y(o=e.getReader()),s=!1),p(o.read(),e=>{var t,r;if(c=!1,m=!1,e.done)return h||n.close(),f||a.close(),null==(t=n.byobRequest)||t.respond(0),null==(r=a.byobRequest)||r.respond(0),h&&f||i(void 0),null;let s=e.value,l=s;if(!h&&!f)try{l=er(s)}catch(e){return n.error(e),a.error(e),i(o.cancel(e)),null}return h||n.enqueue(s),f||a.enqueue(l),u=!1,c?_():m&&w(),null},()=>(u=!1,null))}function b(t,r){s||(o.releaseLock(),y(o=e.getReader({mode:"byob"})),s=!0);let l=r?a:n,d=r?n:a;p(o.read(t),e=>{var t;c=!1,m=!1;let n=r?f:h,a=r?h:f;if(e.done){n||l.close(),a||d.close();let r=e.value;return void 0!==r&&(n||l.byobRequest.respondWithNewView(r),a||null==(t=d.byobRequest)||t.respond(0)),n&&a||i(void 0),null}let s=e.value;if(a)n||l.byobRequest.respondWithNewView(s);else{let e;try{e=er(s)}catch(e){return l.error(e),d.error(e),i(o.cancel(e)),null}n||l.byobRequest.respondWithNewView(s),d.enqueue(e)}return u=!1,c?_():m&&w(),null},()=>(u=!1,null))}function _(){if(u)return c=!0,l(void 0);u=!0;let e=n.byobRequest;return null===e?v():b(e.view,!1),l(void 0)}function w(){if(u)return m=!0,l(void 0);u=!0;let e=a.byobRequest;return null===e?v():b(e.view,!0),l(void 0)}let S=new tS({type:"bytes",start(e){n=e},pull:_,cancel:function(e){if(h=!0,t=e,f){let e=[t,r],n=o.cancel(e);i(n)}return g}}),k=new tS({type:"bytes",start(e){a=e},pull:w,cancel:function(e){if(f=!0,r=e,h){let e=[t,r],n=o.cancel(e);i(n)}return g}});return y(o),[S,k]}(this)}values(e){var t;let r,n;if(!F(this))throw tI("values");return t=(j(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel,r=new K(this.getReader(),t),(n=Object.create(Y))._asyncIteratorImpl=r,n}}function tk(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof tS}function tx(e){return void 0!==e._reader}function tE(e,t){if(e._disturbed=!0,"closed"===e._state)return l(void 0);if("errored"===e._state)return u(e._storedError);tT(e);let r=e._reader;if(void 0!==r&&eR(r)){let e=r._readIntoRequests;r._readIntoRequests=new y,e.forEach(e=>{e._closeSteps(void 0)})}return c(e._readableStreamController[_](t),n,void 0)}function tT(e){e._state="closed";let t=e._reader;if(void 0!==t&&(P(t),G(t))){let e=t._readRequests;t._readRequests=new y,e.forEach(e=>{e._closeSteps()})}}function tO(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(I(r,t),G(r)?W(r,t):eN(r,t))}function tI(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function tP(e,t){j(e,t);let r=null==e?void 0:e.highWaterMark;return $(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:M(r)}}Object.defineProperties(tS.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(tS.prototype.cancel,"cancel"),i(tS.prototype.getReader,"getReader"),i(tS.prototype.pipeThrough,"pipeThrough"),i(tS.prototype.pipeTo,"pipeTo"),i(tS.prototype.tee,"tee"),i(tS.prototype.values,"values"),"symbol"==typeof r.toStringTag&&Object.defineProperty(tS.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof r.asyncIterator&&Object.defineProperty(tS.prototype,r.asyncIterator,{value:tS.prototype.values,writable:!0,configurable:!0});let tC=e=>e.byteLength;i(tC,"size");class tA{constructor(e){N(e,1,"ByteLengthQueuingStrategy"),e=tP(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tz(this))throw tj("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!tz(this))throw tj("size");return tC}}function tj(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function tz(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof tA}Object.defineProperties(tA.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(tA.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let tR=()=>1;i(tR,"size");class tN{constructor(e){N(e,1,"CountQueuingStrategy"),e=tP(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tM(this))throw t$("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!tM(this))throw t$("size");return tR}}function t$(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function tM(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof tN}Object.defineProperties(tN.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(tN.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class tD{constructor(e={},t={},r={}){let n;void 0===e&&(e=null);const a=eF(t,"Second parameter"),i=eF(r,"Third parameter"),o=function(e,t){j(e,t);let r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,a=null==e?void 0:e.start,i=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:(z(r,`${t} has member 'flush' that`),t=>g(r,e,[t])),readableType:n,start:void 0===a?void 0:(z(a,`${t} has member 'start' that`),t=>f(a,e,[t])),transform:void 0===i?void 0:(z(i,`${t} has member 'transform' that`),(t,r)=>g(i,e,[t,r])),writableType:o}}(e,"First parameter");if(void 0!==o.readableType)throw RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw RangeError("Invalid writableType specified");const s=eM(i,0),p=eD(i),m=eM(a,1),h=eD(a);!function(e,t,r,n,a,i){var o,s,u;function d(){return t}e._writableState="writable",e._writableStoredError=void 0,e._writableHasInFlightOperation=!1,e._writableStarted=!1,o=function(t){let r=e._transformStreamController;return e._backpressure?c(e._backpressureChangePromise,()=>{if("erroring"===(eq(e._writable)?e._writable._state:e._writableState))throw eq(e._writable)?e._writable._storedError:e._writableStoredError;return tG(r,t)},void 0):tG(r,t)},s=function(){let t,r;return r=(t=e._transformStreamController)._flushAlgorithm(),tZ(t),c(r,()=>{if("errored"===e._readableState)throw e._readableStoredError;tK(e)&&tY(e)},t=>{throw tU(e,t),e._readableStoredError})},e._writable=new eL({start(t){e._writableController=t;try{let r=t.signal;void 0!==r&&r.addEventListener("abort",()=>{"writable"===e._writableState&&(e._writableState="erroring",r.reason&&(e._writableStoredError=r.reason))})}catch(e){}return c(d(),()=>(e._writableStarted=!0,t4(e),null),t=>{throw e._writableStarted=!0,t1(e,t),t})},write:t=>(e._writableHasInFlightOperation=!0,c(o(t),()=>(e._writableHasInFlightOperation=!1,t4(e),null),t=>{throw e._writableHasInFlightOperation=!1,t1(e,t),t})),close:()=>(e._writableHasInFlightOperation=!0,c(s(),()=>(e._writableHasInFlightOperation=!1,"erroring"===e._writableState&&(e._writableStoredError=void 0),e._writableState="closed",null),t=>{throw e._writableHasInFlightOperation=!1,e._writableState,t1(e,t),t})),abort:t=>(e._writableState="errored",e._writableStoredError=t,function(t){return tU(e,t),l(void 0)}(t))},{highWaterMark:r,size:n}),e._readableState="readable",e._readableStoredError=void 0,e._readableCloseRequested=!1,e._readablePulling=!1,u=function(){return tq(e,!1),e._backpressureChangePromise},e._readable=new tS({start:t=>(e._readableController=t,d().catch(t=>{tX(e,t)})),pull:()=>(e._readablePulling=!0,u().catch(t=>{tX(e,t)})),cancel:t=>(e._readableState="closed",function(t){return tL(e,t),l(void 0)}(t))},{highWaterMark:a,size:i}),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,tq(e,!0),e._transformStreamController=void 0}(this,d(e=>{n=e}),m,h,s,p),function(e,t){let r,n,a=Object.create(tV.prototype);r=void 0!==t.transform?e=>t.transform(e,a):e=>{try{var t;return tH(a,e),t=void 0,l(t)}catch(e){return u(e)}},n=void 0!==t.flush?()=>t.flush(a):()=>l(void 0),a._controlledTransformStream=e,e._transformStreamController=a,a._transformAlgorithm=r,a._flushAlgorithm=n}(this,o),void 0!==o.start?n(o.start(this._transformStreamController)):n(void 0)}get readable(){if(!tF(this))throw tJ("readable");return this._readable}get writable(){if(!tF(this))throw tJ("writable");return this._writable}}function tF(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof tD}function tU(e,t){tX(e,t),tL(e,t)}function tL(e,t){tZ(e._transformStreamController),e._writableController.error(t),"writable"===e._writableState&&t0(e,t),e._backpressure&&tq(e,!1)}function tq(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=d(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(tD.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(tD.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});class tV{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tB(this))throw tW("desiredSize");return tQ(this._controlledTransformStream)}enqueue(e){if(!tB(this))throw tW("enqueue");tH(this,e)}error(e){if(!tB(this))throw tW("error");tU(this._controlledTransformStream,e)}terminate(){let e;if(!tB(this))throw tW("terminate");tK(e=this._controlledTransformStream)&&tY(e),tL(e,TypeError("TransformStream terminated"))}}function tB(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof tV}function tZ(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function tH(e,t){let r=e._controlledTransformStream;if(!tK(r))throw TypeError("Readable side is not in a state that permits enqueue");try{r._readablePulling=!1;try{r._readableController.enqueue(t)}catch(e){throw tX(r,e),e}}catch(e){throw tL(r,e),r._readableStoredError}!(tK(r)&&(r._readablePulling||tQ(r)>0))!==r._backpressure&&tq(r,!0)}function tG(e,t){return c(e._transformAlgorithm(t),void 0,t=>{throw tU(e._controlledTransformStream,t),t})}function tW(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function tJ(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function tK(e){return!e._readableCloseRequested&&"readable"===e._readableState}function tY(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function tX(e,t){"readable"===e._readableState&&(e._readableState="errored",e._readableStoredError=t),e._readableController.error(t)}function tQ(e){return e._readableController.desiredSize}function t1(e,t){"writable"!==e._writableState?t2(e):t0(e,t)}function t0(e,t){e._writableState="erroring",e._writableStoredError=t,!e._writableHasInFlightOperation&&e._writableStarted&&t2(e)}function t2(e){e._writableState="errored"}function t4(e){"erroring"===e._writableState&&t2(e)}Object.defineProperties(tV.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(tV.prototype.enqueue,"enqueue"),i(tV.prototype.error,"error"),i(tV.prototype.terminate,"terminate"),"symbol"==typeof r.toStringTag&&Object.defineProperty(tV.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=tA,e.CountQueuingStrategy=tN,e.ReadableByteStreamController=es,e.ReadableStream=tS,e.ReadableStreamBYOBReader=ez,e.ReadableStreamBYOBRequest=eo,e.ReadableStreamDefaultController=tm,e.ReadableStreamDefaultReader=H,e.TransformStream=tD,e.TransformStreamDefaultController=tV,e.WritableStream=eL,e.WritableStreamDefaultController=e2,e.WritableStreamDefaultWriter=eX,Object.defineProperty(e,"__esModule",{value:!0})}(r)},53212,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=void 0,r.isFunction=e=>"function"==typeof e},9067,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sliceBlob=r.consumeBlobParts=void 0;let n=e.r(53212);async function*a(e){let t=e.byteOffset+e.byteLength,r=e.byteOffset;for(;r!==t;){let n=Math.min(t-r,65536),a=e.buffer.slice(r,r+n);r+=a.byteLength,yield new Uint8Array(a)}}async function*i(e){let t=0;for(;t!==e.size;){let r=e.slice(t,Math.min(e.size,t+65536)),n=await r.arrayBuffer();t+=n.byteLength,yield new Uint8Array(n)}}r.consumeBlobParts=async function*(e,t=!1){for(let r of e)ArrayBuffer.isView(r)?t?yield*a(r):yield r:(0,n.isFunction)(r.stream)?yield*r.stream():yield*i(r)},r.sliceBlob=function*(e,t,r=0,n){null!=n||(n=t);let a=r<0?Math.max(t+r,0):Math.min(r,t),i=n<0?Math.max(t+n,0):Math.min(n,t),o=Math.max(i-a,0),s=0;for(let t of e){if(s>=o)break;let e=ArrayBuffer.isView(t)?t.byteLength:t.size;if(a&&e<=a)a-=e,i-=e;else{let r;ArrayBuffer.isView(t)?s+=(r=t.subarray(a,Math.min(e,i))).byteLength:s+=(r=t.slice(a,Math.min(e,i))).size,i-=e,a=0,yield r}}}},3542,(e,t,r)=>{"use strict";var n,a,i,o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.Blob=void 0;let l=e.r(79212),u=e.r(53212),d=e.r(9067);class c{constructor(e=[],t={}){if(n.set(this,[]),a.set(this,""),i.set(this,0),null!=t||(t={}),"object"!=typeof e||null===e)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!(0,u.isFunction)(e[Symbol.iterator]))throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof t&&!(0,u.isFunction)(t))throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");const r=new TextEncoder;for(const t of e){let e;e=ArrayBuffer.isView(t)?new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t instanceof ArrayBuffer?new Uint8Array(t.slice(0)):t instanceof c?t:r.encode(String(t)),s(this,i,o(this,i,"f")+(ArrayBuffer.isView(e)?e.byteLength:e.size),"f"),o(this,n,"f").push(e)}const l=void 0===t.type?"":String(t.type);s(this,a,/^[\x20-\x7E]*$/.test(l)?l:"","f")}static[(n=new WeakMap,a=new WeakMap,i=new WeakMap,Symbol.hasInstance)](e){return!!(e&&"object"==typeof e&&(0,u.isFunction)(e.constructor)&&((0,u.isFunction)(e.stream)||(0,u.isFunction)(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return o(this,a,"f")}get size(){return o(this,i,"f")}slice(e,t,r){return new c((0,d.sliceBlob)(o(this,n,"f"),this.size,e,t),{type:r})}async text(){let e=new TextDecoder,t="";for await(let r of(0,d.consumeBlobParts)(o(this,n,"f")))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of(0,d.consumeBlobParts)(o(this,n,"f")))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=(0,d.consumeBlobParts)(o(this,n,"f"),!0);return new l.ReadableStream({async pull(t){let{value:r,done:n}=await e.next();if(n)return queueMicrotask(()=>t.close());t.enqueue(r)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}}r.Blob=c,Object.defineProperties(c.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}})},23408,(e,t,r)=>{"use strict";var n,a,i=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.File=void 0;let s=e.r(3542);class l extends s.Blob{constructor(e,t,r={}){if(super(e,r),n.set(this,void 0),a.set(this,0),arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);i(this,n,String(t),"f");const o=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(o)||i(this,a,o,"f")}static[(n=new WeakMap,a=new WeakMap,Symbol.hasInstance)](e){return e instanceof s.Blob&&"File"===e[Symbol.toStringTag]&&"string"==typeof e.name}get name(){return o(this,n,"f")}get lastModified(){return o(this,a,"f")}get webkitRelativePath(){return""}get[Symbol.toStringTag](){return"File"}}r.File=l},95086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFile=void 0;let n=e.r(23408);r.isFile=e=>e instanceof n.File},81946,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isBlob=void 0;let n=e.r(3542);r.isBlob=e=>e instanceof n.Blob},69240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deprecateConstructorEntries=void 0,r.deprecateConstructorEntries=(0,e.r(24361).deprecate)(()=>{},'Constructor "entries" argument is not spec-compliant and will be removed in next major release.')},73164,(e,t,r)=>{"use strict";var n,a,i,o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.FormData=void 0;let s=e.r(24361),l=e.r(23408),u=e.r(95086),d=e.r(81946),c=e.r(53212),p=e.r(69240);class m{constructor(e){n.add(this),a.set(this,new Map),e&&((0,p.deprecateConstructorEntries)(),e.forEach(({name:e,value:t,fileName:r})=>this.append(e,t,r)))}static[(a=new WeakMap,n=new WeakSet,Symbol.hasInstance)](e){return!!(e&&(0,c.isFunction)(e.constructor)&&"FormData"===e[Symbol.toStringTag]&&(0,c.isFunction)(e.append)&&(0,c.isFunction)(e.set)&&(0,c.isFunction)(e.get)&&(0,c.isFunction)(e.getAll)&&(0,c.isFunction)(e.has)&&(0,c.isFunction)(e.delete)&&(0,c.isFunction)(e.entries)&&(0,c.isFunction)(e.values)&&(0,c.isFunction)(e.keys)&&(0,c.isFunction)(e[Symbol.iterator])&&(0,c.isFunction)(e.forEach))}append(e,t,r){o(this,n,"m",i).call(this,{name:e,fileName:r,append:!0,rawValue:t,argsLength:arguments.length})}set(e,t,r){o(this,n,"m",i).call(this,{name:e,fileName:r,append:!1,rawValue:t,argsLength:arguments.length})}get(e){let t=o(this,a,"f").get(String(e));return t?t[0]:null}getAll(e){let t=o(this,a,"f").get(String(e));return t?t.slice():[]}has(e){return o(this,a,"f").has(String(e))}delete(e){o(this,a,"f").delete(String(e))}*keys(){for(let e of o(this,a,"f").keys())yield e}*entries(){for(let e of this.keys())for(let t of this.getAll(e))yield[e,t]}*values(){for(let[,e]of this)yield e}[(i=function({name:e,rawValue:t,append:r,fileName:n,argsLength:i}){let s,c=r?"append":"set";if(i<2)throw TypeError(`Failed to execute '${c}' on 'FormData': 2 arguments required, but only ${i} present.`);if(e=String(e),(0,u.isFile)(t))s=void 0===n?t:new l.File([t],n,{type:t.type,lastModified:t.lastModified});else if((0,d.isBlob)(t))s=new l.File([t],void 0===n?"blob":n,{type:t.type});else if(n)throw TypeError(`Failed to execute '${c}' on 'FormData': parameter 2 is not of type 'Blob'.`);else s=String(t);let p=o(this,a,"f").get(e);p&&r?p.push(s):o(this,a,"f").set(e,[s])},Symbol.iterator)](){return this.entries()}forEach(e,t){for(let[r,n]of this)e.call(t,n,r,this)}get[Symbol.toStringTag](){return"FormData"}[s.inspect.custom](){return this[Symbol.toStringTag]}}r.FormData=m},52840,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(73164),r),a(e.r(3542),r),a(e.r(23408),r)},76088,(e,t,r)=>{"use strict";var n=e.r(24361),a=e.r(41528);t.exports=function(e){if("number"==typeof e)return e;var t=a(e);return void 0===t&&console.warn(Error(n.format("humanize-ms(%j) result undefined",e)).stack),t}},39586,(e,t,r)=>{"use strict";t.exports={CURRENT_ID:Symbol("agentkeepalive#currentId"),CREATE_ID:Symbol("agentkeepalive#createId"),INIT_SOCKET:Symbol("agentkeepalive#initSocket"),CREATE_HTTPS_CONNECTION:Symbol("agentkeepalive#createHttpsConnection"),SOCKET_CREATED_TIME:Symbol("agentkeepalive#socketCreatedTime"),SOCKET_NAME:Symbol("agentkeepalive#socketName"),SOCKET_REQUEST_COUNT:Symbol("agentkeepalive#socketRequestCount"),SOCKET_REQUEST_FINISHED_COUNT:Symbol("agentkeepalive#socketRequestFinishedCount")}},5809,(e,t,r)=>{"use strict";let n=e.r(21517).Agent,a=e.r(76088),i=e.r(24361).debuglog("agentkeepalive"),{INIT_SOCKET:o,CURRENT_ID:s,CREATE_ID:l,SOCKET_CREATED_TIME:u,SOCKET_NAME:d,SOCKET_REQUEST_COUNT:c,SOCKET_REQUEST_FINISHED_COUNT:p}=e.r(39586),m=1,h=parseInt(process.version.split(".",1)[0].substring(1));function f(e){console.log("[agentkeepalive:deprecated] %s",e)}function g(e){return e.timeout||e._idleTimeout}function y(e){let t={};for(let r in e)t[r]=e[r].length;return t}h>=11&&h<=12?m=2:h>=13&&(m=3),t.exports=class extends n{constructor(e){(e=e||{}).keepAlive=!1!==e.keepAlive,void 0===e.freeSocketTimeout&&(e.freeSocketTimeout=4e3),e.keepAliveTimeout&&(f("options.keepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.keepAliveTimeout,delete e.keepAliveTimeout),e.freeSocketKeepAliveTimeout&&(f("options.freeSocketKeepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.freeSocketKeepAliveTimeout,delete e.freeSocketKeepAliveTimeout),void 0===e.timeout&&(e.timeout=Math.max(2*e.freeSocketTimeout,8e3)),e.timeout=a(e.timeout),e.freeSocketTimeout=a(e.freeSocketTimeout),e.socketActiveTTL=e.socketActiveTTL?a(e.socketActiveTTL):0,super(e),this[s]=0,this.createSocketCount=0,this.createSocketCountLastCheck=0,this.createSocketErrorCount=0,this.createSocketErrorCountLastCheck=0,this.closeSocketCount=0,this.closeSocketCountLastCheck=0,this.errorSocketCount=0,this.errorSocketCountLastCheck=0,this.requestCount=0,this.requestCountLastCheck=0,this.timeoutSocketCount=0,this.timeoutSocketCountLastCheck=0,this.on("free",e=>{let t=this.calcSocketTimeout(e);t>0&&e.timeout!==t&&e.setTimeout(t)})}get freeSocketKeepAliveTimeout(){return f("agent.freeSocketKeepAliveTimeout is deprecated, please use agent.options.freeSocketTimeout instead"),this.options.freeSocketTimeout}get timeout(){return f("agent.timeout is deprecated, please use agent.options.timeout instead"),this.options.timeout}get socketActiveTTL(){return f("agent.socketActiveTTL is deprecated, please use agent.options.socketActiveTTL instead"),this.options.socketActiveTTL}calcSocketTimeout(e){let t=this.options.freeSocketTimeout,r=this.options.socketActiveTTL;if(r){let n=r-(Date.now()-e[u]);if(n<=0)return n;t&&n<t&&(t=n)}if(t)return e.freeSocketTimeout||e.freeSocketKeepAliveTimeout||t}keepSocketAlive(e){let t=super.keepSocketAlive(e);if(!t)return t;let r=this.calcSocketTimeout(e);return void 0===r||(r<=0?(i("%s(requests: %s, finished: %s) free but need to destroy by TTL, request count %s, diff is %s",e[d],e[c],e[p],r),!1):(e.timeout!==r&&e.setTimeout(r),!0))}reuseSocket(...e){super.reuseSocket(...e);let t=e[0];e[1].reusedSocket=!0;let r=this.options.timeout;g(t)!==r&&(t.setTimeout(r),i("%s reset timeout to %sms",t[d],r)),t[c]++,i("%s(requests: %s, finished: %s) reuse on addRequest, timeout %sms",t[d],t[c],t[p],g(t))}[l](){let e=this[s]++;return this[s]===Number.MAX_SAFE_INTEGER&&(this[s]=0),e}[o](e,t){t.timeout&&(g(e)||e.setTimeout(t.timeout)),this.options.keepAlive&&e.setNoDelay(!0),this.createSocketCount++,this.options.socketActiveTTL&&(e[u]=Date.now()),e[d]=`sock[${this[l]()}#${t._agentKey}]`.split("-----BEGIN",1)[0],e[c]=1,e[p]=0,function(e,t,r){function n(){if(!t._httpMessage&&1===t[c])return;t[p]++,e.requestCount++,i("%s(requests: %s, finished: %s) free",t[d],t[c],t[p]);let n=e.getName(r);t.writable&&e.requests[n]&&e.requests[n].length&&(t[c]++,i("%s(requests: %s, finished: %s) will be reuse on agent free event",t[d],t[c],t[p]))}function a(r){i("%s(requests: %s, finished: %s) close, isError: %s",t[d],t[c],t[p],r),e.closeSocketCount++}function o(){let n=t.listeners("timeout").length,a=g(t),o=t._httpMessage,s=o&&o.listeners("timeout").length||0;i("%s(requests: %s, finished: %s) timeout after %sms, listeners %s, defaultTimeoutListenerCount %s, hasHttpRequest %s, HttpRequest timeoutListenerCount %s",t[d],t[c],t[p],a,n,m,!!o,s),i.enabled&&i("timeout listeners: %s",t.listeners("timeout").map(e=>e.name).join(", ")),e.timeoutSocketCount++;let l=e.getName(r);if(e.freeSockets[l]&&-1!==e.freeSockets[l].indexOf(t))t.destroy(),e.removeSocket(t,r),i("%s is free, destroy quietly",t[d]);else if(0===s){let n=Error("Socket timeout");n.code="ERR_SOCKET_TIMEOUT",n.timeout=a,t.destroy(n),e.removeSocket(t,r),i("%s destroy with timeout error",t[d])}}function s(r){let n=t.listeners("error").length;i("%s(requests: %s, finished: %s) error: %s, listenerCount: %s",t[d],t[c],t[p],r,n),e.errorSocketCount++,1===n&&(i("%s emit uncaught error event",t[d]),t.removeListener("error",s),t.emit("error",r))}i("%s create, timeout %sms",t[d],g(t)),t.on("free",n),t.on("close",a),t.on("timeout",o),t.on("error",s),t.on("agentRemove",function e(){i("%s(requests: %s, finished: %s) agentRemove",t[d],t[c],t[p]),t.removeListener("close",a),t.removeListener("error",s),t.removeListener("free",n),t.removeListener("timeout",o),t.removeListener("agentRemove",e)})}(this,e,t)}createConnection(e,t){let r=!1,n=(n,a)=>{if(!r){if(r=!0,n)return this.createSocketErrorCount++,t(n);this[o](a,e),t(n,a)}},a=super.createConnection(e,n);return a&&n(null,a),a}get statusChanged(){let e=this.createSocketCount!==this.createSocketCountLastCheck||this.createSocketErrorCount!==this.createSocketErrorCountLastCheck||this.closeSocketCount!==this.closeSocketCountLastCheck||this.errorSocketCount!==this.errorSocketCountLastCheck||this.timeoutSocketCount!==this.timeoutSocketCountLastCheck||this.requestCount!==this.requestCountLastCheck;return e&&(this.createSocketCountLastCheck=this.createSocketCount,this.createSocketErrorCountLastCheck=this.createSocketErrorCount,this.closeSocketCountLastCheck=this.closeSocketCount,this.errorSocketCountLastCheck=this.errorSocketCount,this.timeoutSocketCountLastCheck=this.timeoutSocketCount,this.requestCountLastCheck=this.requestCount),e}getCurrentStatus(){return{createSocketCount:this.createSocketCount,createSocketErrorCount:this.createSocketErrorCount,closeSocketCount:this.closeSocketCount,errorSocketCount:this.errorSocketCount,timeoutSocketCount:this.timeoutSocketCount,requestCount:this.requestCount,freeSockets:y(this.freeSockets),sockets:y(this.sockets),requests:y(this.requests)}}}},28751,(e,t,r)=>{"use strict";let n=e.r(24836).Agent,a=e.r(5809),{INIT_SOCKET:i,CREATE_HTTPS_CONNECTION:o}=e.r(39586);class s extends a{constructor(e){super(e),this.defaultPort=443,this.protocol="https:",this.maxCachedSessions=this.options.maxCachedSessions,void 0===this.maxCachedSessions&&(this.maxCachedSessions=100),this._sessionCache={map:{},list:[]}}createConnection(e,t){let r=this[o](e,t);return this[i](r,e),r}}s.prototype[o]=n.prototype.createConnection,["getName","_getSession","_cacheSession","_evictSession"].forEach(function(e){"function"==typeof n.prototype[e]&&(s.prototype[e]=n.prototype[e])}),t.exports=s},63345,(e,t,r)=>{"use strict";let n=e.r(5809);t.exports=n,t.exports.HttpAgent=n,t.exports.HttpsAgent=e.r(28751),t.exports.constants=e.r(39586)},77538,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=new WeakMap,a=new WeakMap;function i(e){let t=n.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"u">typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function s(e,t){n.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,l(t))}}function l(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function u(e,t){i(e).passiveListener=t}s.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){let e=i(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){let e=i(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=i(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!i(this).event.bubbles},get cancelable(){return!!i(this).event.cancelable},preventDefault(){o(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return!!i(this).event.composed},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(value){if(!value)return;let e=i(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(value){value||o(i(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0});let d=new WeakMap;function c(e){return null!==e&&"object"==typeof e}function p(e){let t=d.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function m(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=p(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||c(e)||(e=null);let r=p(this),n=null,a=r.get(t);for(;null!=a;)3===a.listenerType?null!==n?n.next=a.next:null!==a.next?r.set(t,a.next):r.delete(t):n=a,a=a.next;if(null!==e){let a={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,a):n.next=a}},configurable:!0,enumerable:!0})}function h(e){function t(){f.call(this)}t.prototype=Object.create(f.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)m(t.prototype,e[r]);return t}function f(){if(this instanceof f)return void d.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return h(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return h(e)}throw TypeError("Cannot call a class as a function")}f.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!c(t))throw TypeError("'listener' should be a function or an object.");let n=p(this),a=c(r),i=(a?r.capture:r)?1:2,o={listener:t,listenerType:i,passive:a&&!!r.passive,once:a&&!!r.once,next:null},s=n.get(e);if(void 0===s)return void n.set(e,o);let l=null;for(;null!=s;){if(s.listener===t&&s.listenerType===i)return;l=s,s=s.next}l.next=o},removeEventListener(e,t,r){if(null==t)return;let n=p(this),a=(c(r)?r.capture:r)?1:2,i=null,o=n.get(e);for(;null!=o;){if(o.listener===t&&o.listenerType===a)return void(null!==i?i.next=o.next:null!==o.next?n.set(e,o.next):n.delete(e));i=o,o=o.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=p(this),r=e.type,n=t.get(r);if(null==n)return!0;let o=new(function e(t){if(null==t||t===Object.prototype)return s;let r=a.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let a=0;a<r.length;++a){let o=r[a];if(!(o in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(n.prototype,o,e?function(e){return{value(){let t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(o):l(o))}}return n}(e(Object.getPrototypeOf(t)),t),a.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),d=null;for(;null!=n;){if(n.once?null!==d?d.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):d=n,u(o,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,o)}catch(e){"u">typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(o);if(i(o).immediateStopped)break;n=n.next}return u(o,null),i(o).eventPhase=0,i(o).currentTarget=null,!o.defaultPrevented}},Object.defineProperty(f.prototype,"constructor",{value:f,configurable:!0,writable:!0}),r.defineEventAttribute=m,r.EventTarget=f,r.default=f,t.exports=f,t.exports.EventTarget=t.exports.default=f,t.exports.defineEventAttribute=m},37282,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(77538);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=a.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}n.defineEventAttribute(AbortSignal.prototype,"abort");let a=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class i{constructor(){o.set(this,function(){let e=Object.create(AbortSignal.prototype);return n.EventTarget.call(e),a.set(e,!1),e}())}get signal(){return s(this)}abort(){var e;e=s(this),!1===a.get(e)&&(a.set(e,!0),e.dispatchEvent({type:"abort"}))}}let o=new WeakMap;function s(e){let t=o.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(i.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(i.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),r.AbortController=i,r.AbortSignal=AbortSignal,r.default=i,t.exports=i,t.exports.AbortController=t.exports.default=i,t.exports.AbortSignal=AbortSignal},31608,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n="abcdefghijklmnopqrstuvwxyz0123456789";r.default=function(){let e=16,t="";for(;e--;)t+=n[Math.random()*n.length|0];return t}},98949,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!==Object.prototype.toString.call(e).slice(8,-1).toLowerCase())return!1;let t=Object.getPrototypeOf(e);return null==t||(t.constructor&&t.constructor.toString())===Object.toString()}},20459,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>String(e).replace(/\r|\n/g,(e,t,r)=>"\r"===e&&"\n"!==r[t+1]||"\n"===e&&"\r"!==r[t-1]?"\r\n":e)},73955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22")},31076,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>"function"==typeof e},77160,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isFileLike=void 0;let a=n(e.r(31076));r.isFileLike=e=>!!(e&&"object"==typeof e&&(0,a.default)(e.constructor)&&"File"===e[Symbol.toStringTag]&&(0,a.default)(e.stream)&&null!=e.name&&null!=e.size&&null!=e.lastModified)},99351,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isFormDataLike=r.isFormData=void 0;let a=n(e.r(31076));r.isFormData=e=>!!(e&&(0,a.default)(e.constructor)&&"FormData"===e[Symbol.toStringTag]&&(0,a.default)(e.append)&&(0,a.default)(e.getAll)&&(0,a.default)(e.entries)&&(0,a.default)(e[Symbol.iterator])),r.isFormDataLike=r.isFormData},84869,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},h=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},f=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Encoder=r.FormDataEncoder=void 0;let g=f(e.r(31608)),y=f(e.r(98949)),v=f(e.r(20459)),b=f(e.r(73955)),_=e.r(77160),w=e.r(99351),S={enableAdditionalHeaders:!1};class k{constructor(e,t,r){let p;if(n.add(this),a.set(this,"\r\n"),i.set(this,void 0),o.set(this,void 0),s.set(this,"-".repeat(2)),l.set(this,new TextEncoder),u.set(this,void 0),d.set(this,void 0),c.set(this,void 0),!(0,w.isFormData)(e))throw TypeError("Expected first argument to be a FormData instance.");if((0,y.default)(t)?r=t:p=t,p||(p=(0,g.default)()),"string"!=typeof p)throw TypeError("Expected boundary argument to be a string.");if(r&&!(0,y.default)(r))throw TypeError("Expected options argument to be an object.");m(this,d,e,"f"),m(this,c,{...S,...r},"f"),m(this,i,h(this,l,"f").encode(h(this,a,"f")),"f"),m(this,o,h(this,i,"f").byteLength,"f"),this.boundary=`form-data-boundary-${p}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,m(this,u,h(this,l,"f").encode(`${h(this,s,"f")}${this.boundary}${h(this,s,"f")}${h(this,a,"f").repeat(2)}`),"f"),this.contentLength=String(this.getContentLength()),this.headers=Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength}),Object.defineProperties(this,{boundary:{writable:!1,configurable:!1},contentType:{writable:!1,configurable:!1},contentLength:{writable:!1,configurable:!1},headers:{writable:!1,configurable:!1}})}getContentLength(){let e=0;for(let[t,r]of h(this,d,"f")){let a=(0,_.isFileLike)(r)?r:h(this,l,"f").encode((0,v.default)(r));e+=h(this,n,"m",p).call(this,t,a).byteLength,e+=(0,_.isFileLike)(a)?a.size:a.byteLength,e+=h(this,o,"f")}return e+h(this,u,"f").byteLength}*values(){for(let[e,t]of h(this,d,"f").entries()){let r=(0,_.isFileLike)(t)?t:h(this,l,"f").encode((0,v.default)(t));yield h(this,n,"m",p).call(this,e,r),yield r,yield h(this,i,"f")}yield h(this,u,"f")}async *encode(){for(let e of this.values())(0,_.isFileLike)(e)?yield*e.stream():yield e}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,n=new WeakSet,p=function(e,t){let r="";return r+=`${h(this,s,"f")}${this.boundary}${h(this,a,"f")}Content-Disposition: form-data; name="${(0,b.default)(e)}"`,(0,_.isFileLike)(t)&&(r+=`; filename="${(0,b.default)(t.name)}"${h(this,a,"f")}Content-Type: ${t.type||"application/octet-stream"}`),!0===h(this,c,"f").enableAdditionalHeaders&&(r+=`${h(this,a,"f")}Content-Length: ${(0,_.isFileLike)(t)?t.size:t.byteLength}`),h(this,l,"f").encode(`${r}${h(this,a,"f").repeat(2)}`)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}}r.FormDataEncoder=k,r.Encoder=k},4827,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},18041,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},67262,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(84869),r),a(e.r(4827),r),a(e.r(18041),r),a(e.r(77160),r),a(e.r(99351),r)},37203,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultipartBody=void 0;class n{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}r.MultipartBody=n},13290,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!==Object.prototype.toString.call(e).slice(8,-1).toLowerCase())return!1;let t=Object.getPrototypeOf(e);return null==t||(t.constructor&&t.constructor.toString())===Object.toString()}},17144,(e,t,r)=>{"use strict";var n,a,i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},s=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},l=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.fileFromPath=r.fileFromPathSync=void 0;let d=e.r(22734),c=e.r(14747),p=u(e.r(39802)),m=e.r(23408),h=u(e.r(13290));o(e.r(95086),r);class f{constructor(e){n.set(this,void 0),a.set(this,void 0),s(this,n,e.path,"f"),s(this,a,e.start||0,"f"),this.name=(0,c.basename)(l(this,n,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new f({path:l(this,n,"f"),lastModified:this.lastModified,size:t-e,start:e})}async *stream(){let{mtimeMs:e}=await d.promises.stat(l(this,n,"f"));if(e>this.lastModified)throw new p.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");this.size&&(yield*(0,d.createReadStream)(l(this,n,"f"),{start:l(this,a,"f"),end:l(this,a,"f")+this.size-1}))}get[(n=new WeakMap,a=new WeakMap,Symbol.toStringTag)](){return"File"}}function g(e,{mtimeMs:t,size:r},n,a={}){let i;(0,h.default)(n)?[a,i]=[n,void 0]:i=n;let o=new f({path:e,size:r,lastModified:t});return i||(i=o.name),new m.File([o],i,{...a,lastModified:o.lastModified})}r.fileFromPathSync=function(e,t,r={}){let n=(0,d.statSync)(e);return g(e,n,t,r)},r.fileFromPath=async function(e,t,r){let n=await d.promises.stat(e);return g(e,n,t,r)}},83627,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getRuntime=void 0;let s=i(e.r(56569)),l=i(e.r(52840)),u=o(e.r(63345)),d=e.r(37282),c=e.r(2157),p=e.r(67262),m=e.r(81111),h=e.r(37203),f=e.r(18352),g=!1;async function y(t,...r){let{fileFromPath:n}=await Promise.resolve().then(()=>i(e.r(17144)));return g||(console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(t)}) instead`),g=!0),await n(t,...r)}let v=new u.default({keepAlive:!0,timeout:3e5}),b=new u.default.HttpsAgent({keepAlive:!0,timeout:3e5});async function _(e,t){let r=new p.FormDataEncoder(e),n=m.Readable.from(r),a=new h.MultipartBody(n),i={...t.headers,...r.headers,"Content-Length":r.contentLength};return{...t,body:a,headers:i}}r.getRuntime=function(){return"u"<typeof AbortController&&(globalThis.AbortController=d.AbortController),{kind:"node",fetch:s.default,Request:s.Request,Response:s.Response,Headers:s.Headers,FormData:l.FormData,Blob:l.Blob,File:l.File,ReadableStream:f.ReadableStream,getMultipartRequestOptions:_,getDefaultAgent:e=>e.startsWith("https")?b:v,fileFromPath:y,isFsReadStream:e=>e instanceof c.ReadStream}}},81173,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(83627),r)},34265,(e,t,r)=>{let n=e.r(60497),a=e.r(81173);for(let e of(n.kind||n.setShims(a.getRuntime(),{auto:!0}),Object.keys(n)))Object.defineProperty(r,e,{get:()=>n[e]})},59529,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InternalServerError=r.RateLimitError=r.UnprocessableEntityError=r.ConflictError=r.NotFoundError=r.PermissionDeniedError=r.AuthenticationError=r.BadRequestError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIUserAbortError=r.APIError=r.AnthropicError=void 0;let n=e.r(10028);class a extends Error{}r.AnthropicError=a;class i extends a{constructor(e,t,r,n){super(`${i.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.request_id=n?.["request-id"],this.error=t}static makeMessage(e,t,r){let n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,a){return e&&a?400===e?new s(e,t,r,a):401===e?new l(e,t,r,a):403===e?new u(e,t,r,a):404===e?new d(e,t,r,a):409===e?new c(e,t,r,a):422===e?new p(e,t,r,a):429===e?new m(e,t,r,a):e>=500?new h(e,t,r,a):new i(e,t,r,a):new o({message:r,cause:(0,n.castToError)(t)})}}r.APIError=i,r.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class o extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}r.APIConnectionError=o,r.APIConnectionTimeoutError=class extends o{constructor({message:e}={}){super({message:e??"Request timed out."})}};class s extends i{}r.BadRequestError=s;class l extends i{}r.AuthenticationError=l;class u extends i{}r.PermissionDeniedError=u;class d extends i{}r.NotFoundError=d;class c extends i{}r.ConflictError=c;class p extends i{}r.UnprocessableEntityError=p;class m extends i{}r.RateLimitError=m;class h extends i{}r.InternalServerError=h},85687,(e,t,r)=>{"use strict";var n,a=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},i=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.findDoubleNewlineIndex=r.LineDecoder=void 0;let o=e.r(59529);class s{constructor(){n.set(this,void 0),this.buffer=new Uint8Array,a(this,n,null,"f")}decode(e){let t;if(null==e)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?new TextEncoder().encode(e):e,o=new Uint8Array(this.buffer.length+r.length);o.set(this.buffer),o.set(r,this.buffer.length),this.buffer=o;let s=[];for(;null!=(t=function(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}(this.buffer,i(this,n,"f")));){if(t.carriage&&null==i(this,n,"f")){a(this,n,t.index,"f");continue}if(null!=i(this,n,"f")&&(t.index!==i(this,n,"f")+1||t.carriage)){s.push(this.decodeText(this.buffer.slice(0,i(this,n,"f")-1))),this.buffer=this.buffer.slice(i(this,n,"f")),a(this,n,null,"f");continue}let e=null!==i(this,n,"f")?t.preceding-1:t.preceding,r=this.decodeText(this.buffer.slice(0,e));s.push(r),this.buffer=this.buffer.slice(t.index),a(this,n,null,"f")}return s}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("u">typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new o.AnthropicError(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("u">typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new o.AnthropicError(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new o.AnthropicError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}r.LineDecoder=s,n=new WeakMap,s.NEWLINE_CHARS=new Set(["\n","\r"]),s.NEWLINE_REGEXP=/\r\n|[\n\r]/g,r.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}},60560,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReadableStreamToAsyncIterable=void 0,r.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}},17478,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._iterSSEMessages=r.Stream=void 0;let n=e.r(34265),a=e.r(59529),i=e.r(85687),o=e.r(60560),s=e.r(10028),l=e.r(59529);class u{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;async function*n(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(let r of d(e,t)){if("completion"===r.event)try{yield JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("message_start"===r.event||"message_delta"===r.event||"message_stop"===r.event||"content_block_start"===r.event||"content_block_delta"===r.event||"content_block_stop"===r.event)try{yield JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("ping"!==r.event&&"error"===r.event)throw l.APIError.generate(void 0,`SSE Error: ${r.data}`,r.data,(0,s.createResponseHeaders)(e.headers))}n=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{n||t.abort()}}return new u(n,t)}static fromReadableStream(e,t){let r=!1;async function*n(){let t=new i.LineDecoder;for await(let r of(0,o.ReadableStreamToAsyncIterable)(e))for(let e of t.decode(r))yield e;for(let e of t.flush())yield e}return new u(async function*(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let e=!1;try{for await(let t of n())!e&&t&&(yield JSON.parse(t));e=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{e||t.abort()}},t)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),n=n=>({next:()=>{if(0===n.length){let n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new u(()=>n(e),this.controller),new u(()=>n(t),this.controller)]}toReadableStream(){let e,t=this,r=new TextEncoder;return new n.ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:n,done:a}=await e.next();if(a)return t.close();let i=r.encode(JSON.stringify(n)+"\n");t.enqueue(i)}catch(e){t.error(e)}},async cancel(){await e.return?.()}})}}async function*d(e,t){if(!e.body)throw t.abort(),new a.AnthropicError("Attempted to iterate over a response with no body");let r=new p,n=new i.LineDecoder;for await(let t of c((0,o.ReadableStreamToAsyncIterable)(e.body)))for(let e of n.decode(t)){let t=r.decode(e);t&&(yield t)}for(let e of n.flush()){let t=r.decode(e);t&&(yield t)}}async function*c(e){let t=new Uint8Array;for await(let r of e){let e;if(null==r)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?new TextEncoder().encode(r):r,a=new Uint8Array(t.length+n.length);for(a.set(t),a.set(n,t.length),t=a;-1!==(e=(0,i.findDoubleNewlineIndex)(t));)yield t.slice(0,e),t=t.slice(e)}t.length>0&&(yield t)}r.Stream=u,r._iterSSEMessages=d;class p{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){var t;let r;if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,a,i]=-1!==(r=(t=e).indexOf(":"))?[t.substring(0,r),":",t.substring(r+1)]:[t,"",""];return i.startsWith(" ")&&(i=i.substring(1)),"event"===n?this.event=i:"data"===n&&this.data.push(i),null}}},66733,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=r.isMultipartBody=r.toFile=r.isUploadable=r.isBlobLike=r.isFileLike=r.isResponseLike=r.fileFromPath=void 0;let n=e.r(34265);var a=e.r(34265);async function i(e,t,a){var i;if(e=await e,(0,r.isFileLike)(e))return e;if((0,r.isResponseLike)(e)){let i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let o=(0,r.isBlobLike)(i)?[await i.arrayBuffer()]:[i];return new n.File(o,t,a)}let l=await o(e);if(t||(t=(s((i=e).name)||s(i.filename)||s(i.path)?.split(/[\\/]/).pop())??"unknown_file"),!a?.type){let e=l[0]?.type;"string"==typeof e&&(a={...a,type:e})}return new n.File(l,t,a)}async function o(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if((0,r.isBlobLike)(e))t.push(await e.arrayBuffer());else if(l(e))for await(let r of e)t.push(r);else{let t;throw Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${(t=Object.getOwnPropertyNames(e),`[${t.map(e=>`"${e}"`).join(", ")}]`)}`)}return t}Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return a.fileFromPath}}),r.isResponseLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,r.isFileLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&(0,r.isBlobLike)(e),r.isBlobLike=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,r.isUploadable=e=>(0,r.isFileLike)(e)||(0,r.isResponseLike)(e)||(0,n.isFsReadStream)(e),r.toFile=i;let s=e=>"string"==typeof e?e:"u">typeof Buffer&&e instanceof Buffer?String(e):void 0,l=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];r.isMultipartBody=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag];let u=async e=>{if(!c(e.body))return e;let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.maybeMultipartFormRequestOptions=u;let d=async e=>{let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.multipartFormRequestOptions=d,r.createForm=async e=>{let t=new n.FormData;return await Promise.all(Object.entries(e||{}).map(([e,r])=>p(t,e,r))),t};let c=e=>{if((0,r.isUploadable)(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e){for(let t in e)if(c(e[t]))return!0}return!1},p=async(e,t,n)=>{if(void 0!==n){if(null==n)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if((0,r.isUploadable)(n)){let r=await i(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>p(e,t+"[]",r)));else if("object"==typeof n)await Promise.all(Object.entries(n).map(([r,n])=>p(e,`${t}[${r}]`,n)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}}},10028,(e,t,r)=>{"use strict";let n;var a,i=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.isObj=r.toBase64=r.getHeader=r.getRequiredHeader=r.isHeadersProtocol=r.isRunningInBrowser=r.debug=r.hasOwn=r.isEmptyObj=r.maybeCoerceBoolean=r.maybeCoerceFloat=r.maybeCoerceInteger=r.coerceBoolean=r.coerceFloat=r.coerceInteger=r.readEnv=r.ensurePresent=r.castToError=r.sleep=r.safeJSON=r.isRequestOptions=r.createResponseHeaders=r.PagePromise=r.AbstractPage=r.APIClient=r.APIPromise=r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=void 0;let s=e.r(15379),l=e.r(17478),u=e.r(59529),d=e.r(34265),c=e.r(66733);var p=e.r(66733);async function m(e){let{response:t}=e;if(e.options.stream)return(I("response",t.status,t.url,t.headers,t.body),e.options.__streamClass)?e.options.__streamClass.fromSSEResponse(t,e.controller):l.Stream.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let e=await t.json();return I("response",t.status,t.url,t.headers,e),h(e,t)}let n=await t.text();return I("response",t.status,t.url,t.headers,n),n}function h(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}Object.defineProperty(r,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return p.maybeMultipartFormRequestOptions}}),Object.defineProperty(r,"multipartFormRequestOptions",{enumerable:!0,get:function(){return p.multipartFormRequestOptions}}),Object.defineProperty(r,"createForm",{enumerable:!0,get:function(){return p.createForm}});class f extends Promise{constructor(e,t=m){super(e=>{e(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new f(this.responsePromise,async t=>h(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}r.APIPromise=f,r.APIClient=class{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:n,fetch:a}){this.baseURL=e,this.maxRetries=x("maxRetries",t),this.timeout=x("timeout",r),this.httpAgent=n,this.fetch=a??d.fetch}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...w(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${P()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async r=>{let n=r&&(0,c.isBlobLike)(r?.body)?new DataView(await r.body.arrayBuffer()):r?.body instanceof DataView?r.body:r?.body instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r?.body)?new DataView(r.body.buffer):r?.body;return{method:e,path:t,...r,body:n}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if("string"==typeof e){if("u">typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("u">typeof TextEncoder)return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){let{method:r,path:n,query:a,headers:i={}}=e={...e},o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:(0,c.isMultipartBody)(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(o),l=this.buildURL(n,a);"timeout"in e&&x("timeout",e.timeout),e.timeout=e.timeout??this.timeout;let u=e.httpAgent??this.httpAgent??(0,d.getDefaultAgent)(l),p=e.timeout+1e3;"number"==typeof u?.options?.timeout&&p>(u.options.timeout??0)&&(u.options.timeout=p),this.idempotencyHeader&&"get"!==r&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let m=this.buildHeaders({options:e,headers:i,contentLength:s,retryCount:t});return{req:{method:r,...o&&{body:o},headers:m,...u&&{agent:u},signal:e.signal??null},url:l,timeout:e.timeout}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:a}){let i={};n&&(i["content-length"]=n);let o=this.defaultHeaders(e);return O(i,o),O(i,t),(0,c.isMultipartBody)(e.body)&&"node"!==d.kind&&delete i["content-type"],void 0===(0,r.getHeader)(o,"x-stainless-retry-count")&&void 0===(0,r.getHeader)(t,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(a)),void 0===(0,r.getHeader)(o,"x-stainless-timeout")&&void 0===(0,r.getHeader)(t,"x-stainless-timeout")&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,t),i}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new u.AnthropicError("Streaming is strongly recommended for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-python#streaming-responses for more details");return 6e5}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(e=>[...e])):{...e}:{}}makeStatusError(e,t,r,n){return u.APIError.generate(e,t,r,n)}request(e,t=null){return new f(this.makeRequest(e,t))}async makeRequest(e,t){let n=await e,a=n.maxRetries??this.maxRetries;null==t&&(t=a),await this.prepareOptions(n);let{req:i,url:o,timeout:s}=this.buildRequest(n,{retryCount:a-t});if(await this.prepareRequest(i,{url:o,options:n}),I("request",o,n,i.headers),n.signal?.aborted)throw new u.APIUserAbortError;let l=new AbortController,d=await this.fetchWithTimeout(o,i,s,l).catch(r.castToError);if(d instanceof Error){if(n.signal?.aborted)throw new u.APIUserAbortError;if(t)return this.retryRequest(n,t);if("AbortError"===d.name)throw new u.APIConnectionTimeoutError;throw new u.APIConnectionError({cause:d})}let c=(0,r.createResponseHeaders)(d.headers);if(!d.ok){if(t&&this.shouldRetry(d)){let e=`retrying, ${t} attempts remaining`;return I(`response (error; ${e})`,d.status,o,c),this.retryRequest(n,t,c)}let e=await d.text().catch(e=>(0,r.castToError)(e).message),a=(0,r.safeJSON)(e),i=a?void 0:e,s=t?"(error; no more retries left)":"(error; not retryable)";throw I(`response (error; ${s})`,d.status,o,c,i),this.makeStatusError(d.status,a,i,c)}return{response:d,options:n,controller:l}}requestAPIList(e,t){return new y(this,this.makeRequest(t,null),e)}buildURL(e,t){let r=new URL(k(e)?e:this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return E(n)||(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new u.AnthropicError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,n){let{signal:a,...i}=t||{};a&&a.addEventListener("abort",()=>n.abort());let o=setTimeout(()=>n.abort(),r),s={signal:n.signal,...i};s.method&&(s.method=s.method.toUpperCase());let l=setTimeout(()=>{if(s&&s?.agent?.sockets)for(let e of Object.values(s?.agent?.sockets).flat())e?.setKeepAlive&&e.setKeepAlive(!0,6e4)},6e4);return this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(o),clearTimeout(l)})}shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,n){let a,i=n?.["retry-after-ms"];if(i){let e=parseFloat(i);Number.isNaN(e)||(a=e)}let o=n?.["retry-after"];if(o&&!a){let e=parseFloat(o);a=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){let r=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,r)}return await (0,r.sleep)(a),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${s.VERSION}`}};class g{constructor(e,t,r,n){a.set(this,void 0),i(this,a,e,"f"),this.options=n,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new u.AnthropicError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){for(let[r,n]of[...Object.entries(t.query||{}),...e.url.searchParams.entries()])e.url.searchParams.set(r,n);t.query=void 0,t.path=e.url.toString()}return await o(this,a,"f").requestAPIList(this.constructor,t)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(a=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}r.AbstractPage=g;class y extends f{constructor(e,t,r){super(t,async t=>new r(e,t.response,await m(t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}r.PagePromise=y,r.createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){let r=t.toString();return e[r.toLowerCase()]||e[r]}});let v={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0};r.isRequestOptions=e=>"object"==typeof e&&null!==e&&!E(e)&&Object.keys(e).every(e=>T(v,e));let b=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",_=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown",w=()=>n??(n=(()=>{if("u">typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":_(Deno.build.os),"X-Stainless-Arch":b(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("u">typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("u">typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":_(process.platform),"X-Stainless-Arch":b(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=function(){if("u"<typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,n=r[2]||0,a=r[3]||0;return{browser:e,version:`${t}.${n}.${a}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());r.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}};let S=/^[a-z][a-z0-9+.-]*:/i,k=e=>S.test(e);r.sleep=e=>new Promise(t=>setTimeout(t,e));let x=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new u.AnthropicError(`${e} must be an integer`);if(t<0)throw new u.AnthropicError(`${e} must be a positive integer`);return t};function E(e){if(!e)return!0;for(let t in e)return!1;return!0}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){for(let r in t){if(!T(t,r))continue;let n=r.toLowerCase();if(!n)continue;let a=t[r];null===a?delete e[n]:void 0!==a&&(e[n]=a)}}function I(e,...t){"u">typeof process&&process?.env?.DEBUG==="true"&&console.log(`Anthropic:DEBUG:${e}`,...t)}r.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return Error(JSON.stringify(e))}catch{}return Error(String(e))},r.ensurePresent=e=>{if(null==e)throw new u.AnthropicError(`Expected a value to be given but received ${e} instead.`);return e},r.readEnv=e=>"u">typeof process?process.env?.[e]?.trim()??void 0:"u">typeof Deno?Deno.env?.get?.(e)?.trim():void 0,r.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new u.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new u.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:!!e,r.maybeCoerceInteger=e=>{if(void 0!==e)return(0,r.coerceInteger)(e)},r.maybeCoerceFloat=e=>{if(void 0!==e)return(0,r.coerceFloat)(e)},r.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,r.coerceBoolean)(e)},r.isEmptyObj=E,r.hasOwn=T,r.debug=I;let P=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});r.isRunningInBrowser=()=>!1,r.isHeadersProtocol=e=>"function"==typeof e?.get,r.getRequiredHeader=(e,t)=>{let n=(0,r.getHeader)(e,t);if(void 0===n)throw Error(`Could not find ${t} header`);return n},r.getHeader=(e,t)=>{let n=t.toLowerCase();if((0,r.isHeadersProtocol)(e)){let r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(e,t,r)=>t+r.toUpperCase());for(let a of[t,n,t.toUpperCase(),r]){let t=e.get(a);if(t)return t}}for(let[r,a]of Object.entries(e))if(r.toLowerCase()===n){if(Array.isArray(a)){if(a.length<=1)return a[0];return console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]}return a}},r.toBase64=e=>{if(!e)return"";if("u">typeof Buffer)return Buffer.from(e).toString("base64");if("u">typeof btoa)return btoa(e);throw new u.AnthropicError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")},r.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}},9295,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Page=void 0;let n=e.r(10028);class a extends n.AbstractPage{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageParams(){let e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;let t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){if(this.options.query?.before_id){let e=this.first_id;return e?{params:{before_id:e}}:null}let e=this.last_id;return e?{params:{after_id:e}}:null}}r.Page=a},47038,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},55156,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.APIResource=void 0,r.APIResource=class{constructor(e){this._client=e}}},94857,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BetaModelInfosPage=r.Models=void 0;let n=e.r(55156),a=e.r(10028),i=e.r(9295);class o extends n.APIResource{retrieve(e,t){return this._client.get(`/v1/models/${e}?beta=true`,t)}list(e={},t){return(0,a.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/v1/models?beta=true",s,{query:e,...t})}}r.Models=o;class s extends i.Page{}r.BetaModelInfosPage=s,o.BetaModelInfosPage=s},71926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JSONLDecoder=void 0;let n=e.r(59529),a=e.r(60560),i=e.r(85687);class o{constructor(e,t){this.iterator=e,this.controller=t}async *decoder(){let e=new i.LineDecoder;for await(let t of this.iterator)for(let r of e.decode(t))yield JSON.parse(r);for(let t of e.flush())yield JSON.parse(t)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,t){if(!e.body)throw t.abort(),new n.AnthropicError("Attempted to iterate over a response with no body");return new o((0,a.ReadableStreamToAsyncIterable)(e.body),t)}}r.JSONLDecoder=o},36899,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BetaMessageBatchesPage=r.Batches=void 0;let n=e.r(55156),a=e.r(10028),i=e.r(9295),o=e.r(71926),s=e.r(59529);class l extends n.APIResource{create(e,t){let{betas:r,...n}=e;return this._client.post("/v1/messages/batches?beta=true",{body:n,...t,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...t?.headers}})}retrieve(e,t={},r){if((0,a.isRequestOptions)(t))return this.retrieve(e,{},t);let{betas:n}=t;return this._client.get(`/v1/messages/batches/${e}?beta=true`,{...r,headers:{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}list(e={},t){if((0,a.isRequestOptions)(e))return this.list({},e);let{betas:r,...n}=e;return this._client.getAPIList("/v1/messages/batches?beta=true",u,{query:n,...t,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...t?.headers}})}delete(e,t={},r){if((0,a.isRequestOptions)(t))return this.delete(e,{},t);let{betas:n}=t;return this._client.delete(`/v1/messages/batches/${e}?beta=true`,{...r,headers:{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}cancel(e,t={},r){if((0,a.isRequestOptions)(t))return this.cancel(e,{},t);let{betas:n}=t;return this._client.post(`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}async results(e,t={},r){if((0,a.isRequestOptions)(t))return this.results(e,{},t);let n=await this.retrieve(e);if(!n.results_url)throw new s.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);let{betas:i}=t;return this._client.get(n.results_url,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary",...r?.headers},__binaryResponse:!0})._thenUnwrap((e,t)=>o.JSONLDecoder.fromResponse(t.response,t.controller))}}r.Batches=l;class u extends i.Page{}r.BetaMessageBatchesPage=u,l.BetaMessageBatchesPage=u},57585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.partialParse=void 0;let n=e=>{if(0===e.length)return e;let t=e[e.length-1];switch(t.type){case"separator":return n(e=e.slice(0,e.length-1));case"number":let r=t.value[t.value.length-1];if("."===r||"-"===r)return n(e=e.slice(0,e.length-1));case"string":let a=e[e.length-2];if(a?.type==="delimiter"||a?.type==="brace"&&"{"===a.value)return n(e=e.slice(0,e.length-1));break;case"delimiter":return n(e=e.slice(0,e.length-1))}return e};r.partialParse=e=>{var t;let r,a;return JSON.parse((t=n((e=>{let t=0,r=[];for(;t<e.length;){let n=e[t];if("\\"===n){t++;continue}if("{"===n){r.push({type:"brace",value:"{"}),t++;continue}if("}"===n){r.push({type:"brace",value:"}"}),t++;continue}if("["===n){r.push({type:"paren",value:"["}),t++;continue}if("]"===n){r.push({type:"paren",value:"]"}),t++;continue}if(":"===n){r.push({type:"separator",value:":"}),t++;continue}if(","===n){r.push({type:"delimiter",value:","}),t++;continue}if('"'===n){let a="",i=!1;for(n=e[++t];'"'!==n;){if(t===e.length){i=!0;break}if("\\"===n){if(++t===e.length){i=!0;break}a+=n+e[t],n=e[++t]}else a+=n,n=e[++t]}n=e[++t],i||r.push({type:"string",value:a});continue}let a=/\s/;if(n&&a.test(n)){t++;continue}let i=/[0-9]/;if(n&&i.test(n)||"-"===n||"."===n){let a="";for("-"===n&&(a+=n,n=e[++t]);n&&i.test(n)||"."===n;)a+=n,n=e[++t];r.push({type:"number",value:a});continue}let o=/[a-z]/i;if(n&&o.test(n)){let a="";for(;n&&o.test(n)&&t!==e.length;)a+=n,n=e[++t];"true"==a||"false"==a||"null"===a?r.push({type:"name",value:a}):t++;continue}t++}return r})(e)),r=[],t.map(e=>{"brace"===e.type&&("{"===e.value?r.push("}"):r.splice(r.lastIndexOf("}"),1)),"paren"===e.type&&("["===e.value?r.push("]"):r.splice(r.lastIndexOf("]"),1))}),r.length>0&&r.reverse().map(e=>{"}"===e?t.push({type:"brace",value:"}"}):"]"===e&&t.push({type:"paren",value:"]"})}),a="",t.map(e=>{"string"===e.type?a+='"'+e.value+'"':a+=e.value}),a))}},999,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},T=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.BetaMessageStream=void 0;let O=e.r(59529),I=e.r(17478),P=e.r(57585),C="__json_buf";class A{constructor(){n.add(this),this.messages=[],this.receivedMessages=[],a.set(this,void 0),this.controller=new AbortController,i.set(this,void 0),o.set(this,()=>{}),s.set(this,()=>{}),l.set(this,void 0),u.set(this,()=>{}),d.set(this,()=>{}),c.set(this,{}),p.set(this,!1),m.set(this,!1),h.set(this,!1),f.set(this,!1),g.set(this,void 0),y.set(this,void 0),_.set(this,e=>{if(E(this,m,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new O.APIUserAbortError),e instanceof O.APIUserAbortError)return E(this,h,!0,"f"),this._emit("abort",e);if(e instanceof O.AnthropicError)return this._emit("error",e);if(e instanceof Error){let t=new O.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new O.AnthropicError(String(e)))}),E(this,i,new Promise((e,t)=>{E(this,o,e,"f"),E(this,s,t,"f")}),"f"),E(this,l,new Promise((e,t)=>{E(this,u,e,"f"),E(this,d,t,"f")}),"f"),T(this,i,"f").catch(()=>{}),T(this,l,"f").catch(()=>{})}get response(){return T(this,g,"f")}get request_id(){return T(this,y,"f")}async withResponse(){let e=await T(this,i,"f");if(!e)throw Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let t=new A;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){let n=new A;for(let e of t.messages)n._addMessageParam(e);return n._run(()=>n._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},T(this,_,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){let a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),T(this,n,"m",w).call(this);let{response:i,data:o}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();for await(let e of(this._connected(i),o))T(this,n,"m",S).call(this,e);if(o.controller.signal?.aborted)throw new O.APIUserAbortError;T(this,n,"m",k).call(this)}_connected(e){this.ended||(E(this,g,e,"f"),E(this,y,e?.headers.get("request-id"),"f"),T(this,o,"f").call(this,e),this._emit("connect"))}get ended(){return T(this,p,"f")}get errored(){return T(this,m,"f")}get aborted(){return T(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(T(this,c,"f")[e]||(T(this,c,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=T(this,c,"f")[e];if(!r)return this;let n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(T(this,c,"f")[e]||(T(this,c,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{E(this,f,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){E(this,f,!0,"f"),await T(this,l,"f")}get currentMessage(){return T(this,a,"f")}async finalMessage(){return await this.done(),T(this,n,"m",v).call(this)}async finalText(){return await this.done(),T(this,n,"m",b).call(this)}_emit(e,...t){if(T(this,p,"f"))return;"end"===e&&(E(this,p,!0,"f"),T(this,u,"f").call(this));let r=T(this,c,"f")[e];if(r&&(T(this,c,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];T(this,f,"f")||r?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];T(this,f,"f")||r?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",T(this,n,"m",v).call(this))}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),T(this,n,"m",w).call(this),this._connected(null);let a=I.Stream.fromReadableStream(e,this.controller);for await(let e of a)T(this,n,"m",S).call(this,e);if(a.controller.signal?.aborted)throw new O.APIUserAbortError;T(this,n,"m",k).call(this)}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,n=new WeakSet,v=function(){if(0===this.receivedMessages.length)throw new O.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},b=function(){if(0===this.receivedMessages.length)throw new O.AnthropicError("stream ended without producing a Message with role=assistant");let e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new O.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},w=function(){this.ended||E(this,a,void 0,"f")},S=function(e){if(this.ended)return;let t=T(this,n,"m",x).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{let r=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===r.type&&this._emit("text",e.delta.text,r.text||"");break;case"citations_delta":"text"===r.type&&this._emit("citation",e.delta.citation,r.citations??[]);break;case"input_json_delta":"tool_use"===r.type&&r.input&&this._emit("inputJson",e.delta.partial_json,r.input);break;case"thinking_delta":"thinking"===r.type&&this._emit("thinking",e.delta.thinking,r.thinking);break;case"signature_delta":"thinking"===r.type&&this._emit("signature",r.signature);break;default:j(e.delta)}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":E(this,a,t,"f")}},k=function(){if(this.ended)throw new O.AnthropicError("stream has ended, this shouldn't happen");let e=T(this,a,"f");if(!e)throw new O.AnthropicError("request ended without sending any chunks");return E(this,a,void 0,"f"),e},x=function(e){let t=T(this,a,"f");if("message_start"===e.type){if(t)throw new O.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new O.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{let r=t.content.at(e.index);switch(e.delta.type){case"text_delta":r?.type==="text"&&(r.text+=e.delta.text);break;case"citations_delta":r?.type==="text"&&(r.citations??(r.citations=[]),r.citations.push(e.delta.citation));break;case"input_json_delta":if(r?.type==="tool_use"){let t=r[C]||"";Object.defineProperty(r,C,{value:t+=e.delta.partial_json,enumerable:!1,writable:!0}),t&&(r.input=(0,P.partialParse)(t))}break;case"thinking_delta":r?.type==="thinking"&&(r.thinking+=e.delta.thinking);break;case"signature_delta":r?.type==="thinking"&&(r.signature=e.delta.signature);break;default:j(e.delta)}return t}}},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("streamEvent",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new I.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function j(e){}r.BetaMessageStream=A},50752,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=void 0;let o=e.r(55156),s=i(e.r(36899)),l=e.r(36899),u=e.r(999),d={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};class c extends o.APIResource{constructor(){super(...arguments),this.batches=new s.Batches(this._client)}create(e,t){let{betas:r,...n}=e;return n.model in d&&console.warn(`The model '${n.model}' is deprecated and will reach end-of-life on ${d[n.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages?beta=true",{body:n,timeout:this._client._options.timeout??(n.stream?6e5:this._client._calculateNonstreamingTimeout(n.max_tokens)),...t,headers:{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0,...t?.headers},stream:e.stream??!1})}stream(e,t){return u.BetaMessageStream.createMessage(this,e,t)}countTokens(e,t){let{betas:r,...n}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:n,...t,headers:{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString(),...t?.headers}})}}r.Messages=c,c.Batches=l.Batches,c.BetaMessageBatchesPage=l.BetaMessageBatchesPage},319,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Beta=void 0;let o=e.r(55156),s=i(e.r(94857)),l=e.r(94857),u=i(e.r(50752)),d=e.r(50752);class c extends o.APIResource{constructor(){super(...arguments),this.models=new s.Models(this._client),this.messages=new u.Messages(this._client)}}r.Beta=c,c.Models=l.Models,c.BetaModelInfosPage=l.BetaModelInfosPage,c.Messages=d.Messages},50451,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Completions=void 0;let n=e.r(55156);class a extends n.APIResource{create(e,t){return this._client.post("/v1/complete",{body:e,timeout:this._client._options.timeout??6e5,...t,stream:e.stream??!1})}}r.Completions=a},59379,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageBatchesPage=r.Batches=void 0;let n=e.r(55156),a=e.r(10028),i=e.r(9295),o=e.r(71926),s=e.r(59529);class l extends n.APIResource{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/v1/messages/batches/${e}`,t)}list(e={},t){return(0,a.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/v1/messages/batches",u,{query:e,...t})}delete(e,t){return this._client.delete(`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){let r=await this.retrieve(e);if(!r.results_url)throw new s.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...t,headers:{Accept:"application/binary",...t?.headers},__binaryResponse:!0})._thenUnwrap((e,t)=>o.JSONLDecoder.fromResponse(t.response,t.controller))}}r.Batches=l;class u extends i.Page{}r.MessageBatchesPage=u,l.MessageBatchesPage=u},86954,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},T=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.MessageStream=void 0;let O=e.r(59529),I=e.r(17478),P=e.r(57585),C="__json_buf";class A{constructor(){n.add(this),this.messages=[],this.receivedMessages=[],a.set(this,void 0),this.controller=new AbortController,i.set(this,void 0),o.set(this,()=>{}),s.set(this,()=>{}),l.set(this,void 0),u.set(this,()=>{}),d.set(this,()=>{}),c.set(this,{}),p.set(this,!1),m.set(this,!1),h.set(this,!1),f.set(this,!1),g.set(this,void 0),y.set(this,void 0),_.set(this,e=>{if(E(this,m,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new O.APIUserAbortError),e instanceof O.APIUserAbortError)return E(this,h,!0,"f"),this._emit("abort",e);if(e instanceof O.AnthropicError)return this._emit("error",e);if(e instanceof Error){let t=new O.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new O.AnthropicError(String(e)))}),E(this,i,new Promise((e,t)=>{E(this,o,e,"f"),E(this,s,t,"f")}),"f"),E(this,l,new Promise((e,t)=>{E(this,u,e,"f"),E(this,d,t,"f")}),"f"),T(this,i,"f").catch(()=>{}),T(this,l,"f").catch(()=>{})}get response(){return T(this,g,"f")}get request_id(){return T(this,y,"f")}async withResponse(){let e=await T(this,i,"f");if(!e)throw Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let t=new A;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){let n=new A;for(let e of t.messages)n._addMessageParam(e);return n._run(()=>n._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},T(this,_,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){let a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),T(this,n,"m",w).call(this);let{response:i,data:o}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();for await(let e of(this._connected(i),o))T(this,n,"m",S).call(this,e);if(o.controller.signal?.aborted)throw new O.APIUserAbortError;T(this,n,"m",k).call(this)}_connected(e){this.ended||(E(this,g,e,"f"),E(this,y,e?.headers.get("request-id"),"f"),T(this,o,"f").call(this,e),this._emit("connect"))}get ended(){return T(this,p,"f")}get errored(){return T(this,m,"f")}get aborted(){return T(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(T(this,c,"f")[e]||(T(this,c,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=T(this,c,"f")[e];if(!r)return this;let n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(T(this,c,"f")[e]||(T(this,c,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{E(this,f,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){E(this,f,!0,"f"),await T(this,l,"f")}get currentMessage(){return T(this,a,"f")}async finalMessage(){return await this.done(),T(this,n,"m",v).call(this)}async finalText(){return await this.done(),T(this,n,"m",b).call(this)}_emit(e,...t){if(T(this,p,"f"))return;"end"===e&&(E(this,p,!0,"f"),T(this,u,"f").call(this));let r=T(this,c,"f")[e];if(r&&(T(this,c,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];T(this,f,"f")||r?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];T(this,f,"f")||r?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",T(this,n,"m",v).call(this))}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),T(this,n,"m",w).call(this),this._connected(null);let a=I.Stream.fromReadableStream(e,this.controller);for await(let e of a)T(this,n,"m",S).call(this,e);if(a.controller.signal?.aborted)throw new O.APIUserAbortError;T(this,n,"m",k).call(this)}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,n=new WeakSet,v=function(){if(0===this.receivedMessages.length)throw new O.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},b=function(){if(0===this.receivedMessages.length)throw new O.AnthropicError("stream ended without producing a Message with role=assistant");let e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new O.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},w=function(){this.ended||E(this,a,void 0,"f")},S=function(e){if(this.ended)return;let t=T(this,n,"m",x).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{let r=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===r.type&&this._emit("text",e.delta.text,r.text||"");break;case"citations_delta":"text"===r.type&&this._emit("citation",e.delta.citation,r.citations??[]);break;case"input_json_delta":"tool_use"===r.type&&r.input&&this._emit("inputJson",e.delta.partial_json,r.input);break;case"thinking_delta":"thinking"===r.type&&this._emit("thinking",e.delta.thinking,r.thinking);break;case"signature_delta":"thinking"===r.type&&this._emit("signature",r.signature);break;default:j(e.delta)}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":E(this,a,t,"f")}},k=function(){if(this.ended)throw new O.AnthropicError("stream has ended, this shouldn't happen");let e=T(this,a,"f");if(!e)throw new O.AnthropicError("request ended without sending any chunks");return E(this,a,void 0,"f"),e},x=function(e){let t=T(this,a,"f");if("message_start"===e.type){if(t)throw new O.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new O.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{let r=t.content.at(e.index);switch(e.delta.type){case"text_delta":r?.type==="text"&&(r.text+=e.delta.text);break;case"citations_delta":r?.type==="text"&&(r.citations??(r.citations=[]),r.citations.push(e.delta.citation));break;case"input_json_delta":if(r?.type==="tool_use"){let t=r[C]||"";Object.defineProperty(r,C,{value:t+=e.delta.partial_json,enumerable:!1,writable:!0}),t&&(r.input=(0,P.partialParse)(t))}break;case"thinking_delta":r?.type==="thinking"&&(r.thinking+=e.delta.thinking);break;case"signature_delta":r?.type==="thinking"&&(r.signature=e.delta.signature);break;default:j(e.delta)}return t}}},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("streamEvent",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new I.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function j(e){}r.MessageStream=A},59584,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=r.MessageStream=void 0;let o=e.r(55156),s=i(e.r(59379)),l=e.r(59379),u=e.r(86954);var d=e.r(86954);Object.defineProperty(r,"MessageStream",{enumerable:!0,get:function(){return d.MessageStream}});class c extends o.APIResource{constructor(){super(...arguments),this.batches=new s.Batches(this._client)}create(e,t){return e.model in p&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${p[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:e,timeout:this._client._options.timeout??(e.stream?6e5:this._client._calculateNonstreamingTimeout(e.max_tokens)),...t,stream:e.stream??!1})}stream(e,t){return u.MessageStream.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}}r.Messages=c;let p={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};c.Batches=l.Batches,c.MessageBatchesPage=l.MessageBatchesPage},77133,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ModelInfosPage=r.Models=void 0;let n=e.r(55156),a=e.r(10028),i=e.r(9295);class o extends n.APIResource{retrieve(e,t){return this._client.get(`/v1/models/${e}`,t)}list(e={},t){return(0,a.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/v1/models",s,{query:e,...t})}}r.Models=o;class s extends i.Page{}r.ModelInfosPage=s,o.ModelInfosPage=s},77016,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.Models=r.ModelInfosPage=r.Messages=r.Completions=r.Beta=void 0,a(e.r(47038),r);var i=e.r(319);Object.defineProperty(r,"Beta",{enumerable:!0,get:function(){return i.Beta}});var o=e.r(50451);Object.defineProperty(r,"Completions",{enumerable:!0,get:function(){return o.Completions}});var s=e.r(59584);Object.defineProperty(r,"Messages",{enumerable:!0,get:function(){return s.Messages}});var l=e.r(77133);Object.defineProperty(r,"ModelInfosPage",{enumerable:!0,get:function(){return l.ModelInfosPage}}),Object.defineProperty(r,"Models",{enumerable:!0,get:function(){return l.Models}})},49051,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.UnprocessableEntityError=r.PermissionDeniedError=r.InternalServerError=r.AuthenticationError=r.BadRequestError=r.RateLimitError=r.ConflictError=r.NotFoundError=r.APIUserAbortError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIError=r.AnthropicError=r.fileFromPath=r.toFile=r.AI_PROMPT=r.HUMAN_PROMPT=r.Anthropic=void 0;let o=i(e.r(10028)),s=i(e.r(59529));i(e.r(9295));let l=i(e.r(66733)),u=i(e.r(77016)),d=e.r(50451),c=e.r(77133),p=e.r(319),m=e.r(59584);class h extends o.APIClient{constructor({baseURL:e=o.readEnv("ANTHROPIC_BASE_URL"),apiKey:t=o.readEnv("ANTHROPIC_API_KEY")??null,authToken:r=o.readEnv("ANTHROPIC_AUTH_TOKEN")??null,...n}={}){const a={apiKey:t,authToken:r,...n,baseURL:e||"https://api.anthropic.com"};if(!a.dangerouslyAllowBrowser&&o.isRunningInBrowser())throw new s.AnthropicError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new u.Completions(this),this.messages=new u.Messages(this),this.models=new u.Models(this),this.beta=new u.Beta(this),this._options=a,this.apiKey=t,this.authToken=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(e,t){if((!this.apiKey||!e["x-api-key"])&&null!==t["x-api-key"]&&(!this.authToken||!e.authorization)&&null!==t.authorization)throw Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(e){let t=this.apiKeyAuth(e),r=this.bearerAuth(e);return null==t||o.isEmptyObj(t)?null==r||o.isEmptyObj(r)?{}:r:t}apiKeyAuth(e){return null==this.apiKey?{}:{"X-Api-Key":this.apiKey}}bearerAuth(e){return null==this.authToken?{}:{Authorization:`Bearer ${this.authToken}`}}}r.Anthropic=h,h.Anthropic=h,h.HUMAN_PROMPT="\n\nHuman:",h.AI_PROMPT="\n\nAssistant:",h.DEFAULT_TIMEOUT=6e5,h.AnthropicError=s.AnthropicError,h.APIError=s.APIError,h.APIConnectionError=s.APIConnectionError,h.APIConnectionTimeoutError=s.APIConnectionTimeoutError,h.APIUserAbortError=s.APIUserAbortError,h.NotFoundError=s.NotFoundError,h.ConflictError=s.ConflictError,h.RateLimitError=s.RateLimitError,h.BadRequestError=s.BadRequestError,h.AuthenticationError=s.AuthenticationError,h.InternalServerError=s.InternalServerError,h.PermissionDeniedError=s.PermissionDeniedError,h.UnprocessableEntityError=s.UnprocessableEntityError,h.toFile=l.toFile,h.fileFromPath=l.fileFromPath,h.Completions=d.Completions,h.Messages=m.Messages,h.Models=c.Models,h.ModelInfosPage=c.ModelInfosPage,h.Beta=p.Beta,r.HUMAN_PROMPT=h.HUMAN_PROMPT,r.AI_PROMPT=h.AI_PROMPT;var f=e.r(66733);Object.defineProperty(r,"toFile",{enumerable:!0,get:function(){return f.toFile}}),Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return f.fileFromPath}});var g=e.r(59529);Object.defineProperty(r,"AnthropicError",{enumerable:!0,get:function(){return g.AnthropicError}}),Object.defineProperty(r,"APIError",{enumerable:!0,get:function(){return g.APIError}}),Object.defineProperty(r,"APIConnectionError",{enumerable:!0,get:function(){return g.APIConnectionError}}),Object.defineProperty(r,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return g.APIConnectionTimeoutError}}),Object.defineProperty(r,"APIUserAbortError",{enumerable:!0,get:function(){return g.APIUserAbortError}}),Object.defineProperty(r,"NotFoundError",{enumerable:!0,get:function(){return g.NotFoundError}}),Object.defineProperty(r,"ConflictError",{enumerable:!0,get:function(){return g.ConflictError}}),Object.defineProperty(r,"RateLimitError",{enumerable:!0,get:function(){return g.RateLimitError}}),Object.defineProperty(r,"BadRequestError",{enumerable:!0,get:function(){return g.BadRequestError}}),Object.defineProperty(r,"AuthenticationError",{enumerable:!0,get:function(){return g.AuthenticationError}}),Object.defineProperty(r,"InternalServerError",{enumerable:!0,get:function(){return g.InternalServerError}}),Object.defineProperty(r,"PermissionDeniedError",{enumerable:!0,get:function(){return g.PermissionDeniedError}}),Object.defineProperty(r,"UnprocessableEntityError",{enumerable:!0,get:function(){return g.UnprocessableEntityError}}),(r=t.exports=h).default=h},86331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.defaultOptions=r.jsonDescription=r.ignoreOverride=void 0,r.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),r.jsonDescription=(e,t)=>{if(t.description)try{return{...e,...JSON.parse(t.description)}}catch{}return e},r.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},r.getDefaultOptions=e=>"string"==typeof e?{...r.defaultOptions,name:e}:{...r.defaultOptions,...e}},22166,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRefs=void 0;let n=e.r(86331);r.getRefs=e=>{let t=(0,n.getDefaultOptions)(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}}},38707,(e,t,r)=>{"use strict";function n(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}Object.defineProperty(r,"__esModule",{value:!0}),r.setResponseValueAndErrors=r.addErrorMessage=void 0,r.addErrorMessage=n,r.setResponseValueAndErrors=function(e,t,r,a,i){e[t]=r,n(e,t,a,i)}},81228,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRelativePath=void 0,r.getRelativePath=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")}},51830,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAnyDef=void 0;let n=e.r(81228);r.parseAnyDef=function(e){if("openAi"!==e.target)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?(0,n.getRelativePath)(t,e.currentPath):t.join("/")}}},10731,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseArrayDef=void 0;let n=e.r(43629),a=e.r(38707),i=e.r(62876);r.parseArrayDef=function(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==n.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,i.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,a.setResponseValueAndErrors)(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,a.setResponseValueAndErrors)(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,a.setResponseValueAndErrors)(r,"minItems",e.exactLength.value,e.exactLength.message,t),(0,a.setResponseValueAndErrors)(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}},75052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBigintDef=void 0;let n=e.r(38707);r.parseBigintDef=function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let a of e.checks)switch(a.kind){case"min":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,t)}return r}},55158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBooleanDef=void 0,r.parseBooleanDef=function(){return{type:"boolean"}}},5971,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBrandedDef=void 0;let n=e.r(62876);r.parseBrandedDef=function(e,t){return(0,n.parseDef)(e.type._def,t)}},68897,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseCatchDef=void 0;let n=e.r(62876);r.parseCatchDef=(e,t)=>(0,n.parseDef)(e.innerType._def,t)},81734,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDateDef=void 0;let n=e.r(38707);r.parseDateDef=function e(t,r,n){let i=n??r.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((n,a)=>e(t,r,n))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return a(t,r)}};let a=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let a of e.checks)switch(a.kind){case"min":(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t);break;case"max":(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t)}return r}},52857,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDefaultDef=void 0;let n=e.r(62876);r.parseDefaultDef=function(e,t){return{...(0,n.parseDef)(e.innerType._def,t),default:e.defaultValue()}}},86265,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseEffectsDef=void 0;let n=e.r(62876),a=e.r(51830);r.parseEffectsDef=function(e,t){return"input"===t.effectStrategy?(0,n.parseDef)(e.schema._def,t):(0,a.parseAnyDef)(t)}},59537,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseEnumDef=void 0,r.parseEnumDef=function(e){return{type:"string",enum:Array.from(e.values)}}},74566,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseIntersectionDef=void 0;let n=e.r(62876);r.parseIntersectionDef=function(e,t){let r=[(0,n.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,n.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),a="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)i.push(...e.allOf),void 0===e.unevaluatedProperties&&(a=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else a=void 0;i.push(t)}}),i.length?{allOf:i,...a}:void 0}},52421,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseLiteralDef=void 0,r.parseLiteralDef=function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}},44905,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.zodPatterns=void 0;let a=e.r(38707);function i(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)o.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}r.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/},r.parseStringDef=function(e,t){let n={type:"string"};if(e.checks)for(let o of e.checks)switch(o.kind){case"min":(0,a.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,o.value):o.value,o.message,t);break;case"max":(0,a.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,o.value):o.value,o.message,t);break;case"email":switch(t.emailStrategy){case"format:email":s(n,"email",o.message,t);break;case"format:idn-email":s(n,"idn-email",o.message,t);break;case"pattern:zod":l(n,r.zodPatterns.email,o.message,t)}break;case"url":s(n,"uri",o.message,t);break;case"uuid":s(n,"uuid",o.message,t);break;case"regex":l(n,o.regex,o.message,t);break;case"cuid":l(n,r.zodPatterns.cuid,o.message,t);break;case"cuid2":l(n,r.zodPatterns.cuid2,o.message,t);break;case"startsWith":l(n,RegExp(`^${i(o.value,t)}`),o.message,t);break;case"endsWith":l(n,RegExp(`${i(o.value,t)}$`),o.message,t);break;case"datetime":s(n,"date-time",o.message,t);break;case"date":s(n,"date",o.message,t);break;case"time":s(n,"time",o.message,t);break;case"duration":s(n,"duration",o.message,t);break;case"length":(0,a.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,o.value):o.value,o.message,t),(0,a.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,o.value):o.value,o.message,t);break;case"includes":l(n,RegExp(i(o.value,t)),o.message,t);break;case"ip":"v6"!==o.version&&s(n,"ipv4",o.message,t),"v4"!==o.version&&s(n,"ipv6",o.message,t);break;case"base64url":l(n,r.zodPatterns.base64url,o.message,t);break;case"jwt":l(n,r.zodPatterns.jwt,o.message,t);break;case"cidr":"v6"!==o.version&&l(n,r.zodPatterns.ipv4Cidr,o.message,t),"v4"!==o.version&&l(n,r.zodPatterns.ipv6Cidr,o.message,t);break;case"emoji":l(n,r.zodPatterns.emoji(),o.message,t);break;case"ulid":l(n,r.zodPatterns.ulid,o.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":s(n,"binary",o.message,t);break;case"contentEncoding:base64":(0,a.setResponseValueAndErrors)(n,"contentEncoding","base64",o.message,t);break;case"pattern:zod":l(n,r.zodPatterns.base64,o.message,t)}break;case"nanoid":l(n,r.zodPatterns.nanoid,o.message,t)}return n};let o=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function s(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):(0,a.setResponseValueAndErrors)(e,"format",t,r,n)}function l(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:u(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):(0,a.setResponseValueAndErrors)(e,"pattern",u(t,n),r,n)}function u(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",i=!1,o=!1,s=!1;for(let e=0;e<n.length;e++){if(i){a+=n[e],i=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){s?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),s=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],s=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?i=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}},63404,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseRecordDef=void 0;let n=e.r(43629),a=e.r(62876),i=e.r(44905),o=e.r(5971),s=e.r(51830);r.parseRecordDef=function(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??(0,s.parseAnyDef)(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=(0,i.parseStringDef)(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===n.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=(0,o.parseBrandedDef)(e.keyType._def,t);return{...r,propertyNames:a}}return r}},86526,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseMapDef=void 0;let n=e.r(62876),a=e.r(63404),i=e.r(51830);r.parseMapDef=function(e,t){return"record"===t.mapStrategy?(0,a.parseRecordDef)(e,t):{type:"array",maxItems:125,items:{type:"array",items:[(0,n.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||(0,i.parseAnyDef)(t),(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||(0,i.parseAnyDef)(t)],minItems:2,maxItems:2}}}},7248,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNativeEnumDef=void 0,r.parseNativeEnumDef=function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}},92660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNeverDef=void 0;let n=e.r(51830);r.parseNeverDef=function(e){return"openAi"===e.target?void 0:{not:(0,n.parseAnyDef)({...e,currentPath:[...e.currentPath,"not"]})}}},78589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNullDef=void 0,r.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}},34477,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;let n=e.r(62876);r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},r.parseUnionDef=function(e,t){if("openApi3"===t.target)return a(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in r.primitiveMappings&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=r.primitiveMappings[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return a(e,t)};let a=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0}},23786,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNullableDef=void 0;let n=e.r(62876),a=e.r(34477);r.parseNullableDef=function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:a.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[a.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}},30717,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNumberDef=void 0;let n=e.r(38707);r.parseNumberDef=function(e,t){let r={type:"number"};if(!e.checks)return r;for(let a of e.checks)switch(a.kind){case"int":r.type="integer",(0,n.addErrorMessage)(r,"type",a.message,t);break;case"min":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,t)}return r}},25507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseObjectDef=void 0;let n=e.r(62876);r.parseObjectDef=function(e,t){let r="openAi"===t.target,a={type:"object",properties:{}},i=[],o=e.shape();for(let e in o){let s=o[e];if(void 0===s||void 0===s._def)continue;let l=function(e){try{return e.isOptional()}catch{return!0}}(s);l&&r&&("ZodOptional"===s._def.typeName&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),l=!1);let u=(0,n.parseDef)(s._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==u&&(a.properties[e]=u,l||i.push(e))}i.length&&(a.required=i);let s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return(0,n.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(a.additionalProperties=s),a}},95721,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseOptionalDef=void 0;let n=e.r(62876),a=e.r(51830);r.parseOptionalDef=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,n.parseDef)(e.innerType._def,t);let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:(0,a.parseAnyDef)(t)},r]}:(0,a.parseAnyDef)(t)}},24755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePipelineDef=void 0;let n=e.r(62876);r.parsePipelineDef=(e,t)=>{if("input"===t.pipeStrategy)return(0,n.parseDef)(e.in._def,t);if("output"===t.pipeStrategy)return(0,n.parseDef)(e.out._def,t);let r=(0,n.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),a=(0,n.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,a].filter(e=>void 0!==e)}}},95881,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePromiseDef=void 0;let n=e.r(62876);r.parsePromiseDef=function(e,t){return(0,n.parseDef)(e.type._def,t)}},58400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseSetDef=void 0;let n=e.r(38707),a=e.r(62876);r.parseSetDef=function(e,t){let r={type:"array",uniqueItems:!0,items:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,n.setResponseValueAndErrors)(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,n.setResponseValueAndErrors)(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}},94471,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseTupleDef=void 0;let n=e.r(62876);r.parseTupleDef=function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:(0,n.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}},35543,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUndefinedDef=void 0;let n=e.r(51830);r.parseUndefinedDef=function(e){return{not:(0,n.parseAnyDef)(e)}}},33362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnknownDef=void 0;let n=e.r(51830);r.parseUnknownDef=function(e){return(0,n.parseAnyDef)(e)}},53223,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseReadonlyDef=void 0;let n=e.r(62876);r.parseReadonlyDef=(e,t)=>(0,n.parseDef)(e.innerType._def,t)},24619,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.selectParser=void 0;let n=e.r(43629),a=e.r(51830),i=e.r(10731),o=e.r(75052),s=e.r(55158),l=e.r(5971),u=e.r(68897),d=e.r(81734),c=e.r(52857),p=e.r(86265),m=e.r(59537),h=e.r(74566),f=e.r(52421),g=e.r(86526),y=e.r(7248),v=e.r(92660),b=e.r(78589),_=e.r(23786),w=e.r(30717),S=e.r(25507),k=e.r(95721),x=e.r(24755),E=e.r(95881),T=e.r(63404),O=e.r(58400),I=e.r(44905),P=e.r(94471),C=e.r(35543),A=e.r(34477),j=e.r(33362),z=e.r(53223);r.selectParser=(e,t,r)=>{switch(t){case n.ZodFirstPartyTypeKind.ZodString:return(0,I.parseStringDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNumber:return(0,w.parseNumberDef)(e,r);case n.ZodFirstPartyTypeKind.ZodObject:return(0,S.parseObjectDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBigInt:return(0,o.parseBigintDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBoolean:return(0,s.parseBooleanDef)();case n.ZodFirstPartyTypeKind.ZodDate:return(0,d.parseDateDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUndefined:return(0,C.parseUndefinedDef)(r);case n.ZodFirstPartyTypeKind.ZodNull:return(0,b.parseNullDef)(r);case n.ZodFirstPartyTypeKind.ZodArray:return(0,i.parseArrayDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUnion:case n.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,A.parseUnionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodIntersection:return(0,h.parseIntersectionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodTuple:return(0,P.parseTupleDef)(e,r);case n.ZodFirstPartyTypeKind.ZodRecord:return(0,T.parseRecordDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLiteral:return(0,f.parseLiteralDef)(e,r);case n.ZodFirstPartyTypeKind.ZodEnum:return(0,m.parseEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,y.parseNativeEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNullable:return(0,_.parseNullableDef)(e,r);case n.ZodFirstPartyTypeKind.ZodOptional:return(0,k.parseOptionalDef)(e,r);case n.ZodFirstPartyTypeKind.ZodMap:return(0,g.parseMapDef)(e,r);case n.ZodFirstPartyTypeKind.ZodSet:return(0,O.parseSetDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLazy:return()=>e.getter()._def;case n.ZodFirstPartyTypeKind.ZodPromise:return(0,E.parsePromiseDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNaN:case n.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)(r);case n.ZodFirstPartyTypeKind.ZodEffects:return(0,p.parseEffectsDef)(e,r);case n.ZodFirstPartyTypeKind.ZodAny:return(0,a.parseAnyDef)(r);case n.ZodFirstPartyTypeKind.ZodUnknown:return(0,j.parseUnknownDef)(r);case n.ZodFirstPartyTypeKind.ZodDefault:return(0,c.parseDefaultDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBranded:return(0,l.parseBrandedDef)(e,r);case n.ZodFirstPartyTypeKind.ZodReadonly:return(0,z.parseReadonlyDef)(e,r);case n.ZodFirstPartyTypeKind.ZodCatch:return(0,u.parseCatchDef)(e,r);case n.ZodFirstPartyTypeKind.ZodPipeline:return(0,x.parsePipelineDef)(e,r);case n.ZodFirstPartyTypeKind.ZodFunction:case n.ZodFirstPartyTypeKind.ZodVoid:case n.ZodFirstPartyTypeKind.ZodSymbol:default:return}}},62876,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDef=void 0;let n=e.r(86331),a=e.r(24619),i=e.r(81228),o=e.r(51830);r.parseDef=function e(t,r,i=!1){let o=r.seen.get(t);if(r.override){let e=r.override?.(t,r,o,i);if(e!==n.ignoreOverride)return e}if(o&&!i){let e=s(o,r);if(void 0!==e)return e}let u={def:t,path:r.currentPath,jsonSchema:void 0};r.seen.set(t,u);let d=(0,a.selectParser)(t,t.typeName,r),c="function"==typeof d?e(d(),r):d;if(c&&l(t,r,c),r.postProcess){let e=r.postProcess(c,t,r);return u.jsonSchema=c,e}return u.jsonSchema=c,c};let s=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:(0,i.getRelativePath)(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),(0,o.parseAnyDef)(t);return"seen"===t.$refStrategy?(0,o.parseAnyDef)(t):void 0}},l=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)},83116,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},83550,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;let n=e.r(62876),a=e.r(22166),i=e.r(51830);r.zodToJsonSchema=(e,t)=>{let r=(0,a.getRefs)(t),o="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,a])=>({...e,[t]:(0,n.parseDef)(a._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??(0,i.parseAnyDef)(r)}),{}):void 0,s="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,l=(0,n.parseDef)(e._def,void 0===s?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??(0,i.parseAnyDef)(r),u="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==u&&(l.title=u),r.flags.hasReferencedOpenAiAnyType&&(o||(o={}),o[r.openAiAnyTypeName]||(o[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===r.$refStrategy?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let d=void 0===s?o?{...l,[r.definitionPath]:o}:l:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...o,[s]:l}};return"jsonSchema7"===r.target?d.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(d.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in d||"oneOf"in d||"allOf"in d||"type"in d&&Array.isArray(d.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),d}},78017,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(86331),r),a(e.r(22166),r),a(e.r(38707),r),a(e.r(81228),r),a(e.r(62876),r),a(e.r(83116),r),a(e.r(51830),r),a(e.r(10731),r),a(e.r(75052),r),a(e.r(55158),r),a(e.r(5971),r),a(e.r(68897),r),a(e.r(81734),r),a(e.r(52857),r),a(e.r(86265),r),a(e.r(59537),r),a(e.r(74566),r),a(e.r(52421),r),a(e.r(86526),r),a(e.r(7248),r),a(e.r(92660),r),a(e.r(78589),r),a(e.r(23786),r),a(e.r(30717),r),a(e.r(25507),r),a(e.r(95721),r),a(e.r(24755),r),a(e.r(95881),r),a(e.r(53223),r),a(e.r(63404),r),a(e.r(58400),r),a(e.r(44905),r),a(e.r(94471),r),a(e.r(35543),r),a(e.r(34477),r),a(e.r(33362),r),a(e.r(24619),r),a(e.r(83550),r),r.default=e.r(83550).zodToJsonSchema},47298,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RFC3986=r.RFC1738=r.formatters=r.default_format=void 0,r.default_format="RFC3986",r.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},r.RFC1738="RFC1738",r.RFC3986="RFC3986"},79602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.maybe_map=r.combine=r.is_buffer=r.is_regexp=r.compact=r.encode=r.decode=r.assign_single_source=r.merge=void 0;let n=e.r(47298),a=Object.prototype.hasOwnProperty,i=Array.isArray,o=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();r.merge=function e(t,r,n={}){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!a.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);let o=t;return(i(t)&&!i(r)&&(o=function(e,t){let r=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(r[t]=e[t]);return r}(t,n)),i(t)&&i(r))?(r.forEach(function(r,i){if(a.call(t,i)){let a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){let o=r[i];return a.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t},o)},r.assign_single_source=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},r.decode=function(e,t,r){let n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},r.encode=(e,t,r,a,i)=>{if(0===e.length)return e;let s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let l="";for(let e=0;e<s.length;e+=1024){let t=s.length>=1024?s.slice(e,e+1024):s,r=[];for(let e=0;e<t.length;++e){let a=t.charCodeAt(e);if(45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||i===n.RFC1738&&(40===a||41===a)){r[r.length]=t.charAt(e);continue}if(a<128){r[r.length]=o[a];continue}if(a<2048){r[r.length]=o[192|a>>6]+o[128|63&a];continue}if(a<55296||a>=57344){r[r.length]=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a];continue}e+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(e)),r[r.length]=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a]}l+=r.join("")}return l},r.compact=function(e){let t=[{obj:{o:e},prop:"o"}],r=[];for(let e=0;e<t.length;++e){let n=t[e],a=n.obj[n.prop],i=Object.keys(a);for(let e=0;e<i.length;++e){let n=i[e],o=a[n];"object"==typeof o&&null!==o&&-1===r.indexOf(o)&&(t.push({obj:a,prop:n}),r.push(o))}}for(;t.length>1;){let e=t.pop();if(!e)continue;let r=e.obj[e.prop];if(i(r)){let t=[];for(let e=0;e<r.length;++e)void 0!==r[e]&&t.push(r[e]);e.obj[e.prop]=t}}return e},r.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},r.is_buffer=function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},r.combine=function(e,t){return[].concat(e,t)},r.maybe_map=function(e,t){if(i(e)){let r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}},90046,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stringify=void 0;let n=e.r(79602),a=e.r(47298),i=Object.prototype.hasOwnProperty,o={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},s=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,s(t)?t:[t])},d=Date.prototype.toISOString,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n.encode,encodeValuesOnly:!1,format:a.default_format,formatter:a.formatters[a.default_format],indices:!1,serializeDate:e=>d.call(e),skipNulls:!1,strictNullHandling:!1},p={};r.stringify=function(e,t={}){let r,l=e,d=function(e=c){let t;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||c.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=a.default_format;if(void 0!==e.format){if(!i.call(a.formatters,e.format))throw TypeError("Unknown format option provided.");n=e.format}let l=a.formatters[n],u=c.filter;if(("function"==typeof e.filter||s(e.filter))&&(u=e.filter),t=e.arrayFormat&&e.arrayFormat in o?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":c.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let d=void 0===e.allowDots?!0==!!e.encodeDotInKeys||c.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:c.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:c.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?c.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:c.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:c.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:c.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:c.encodeValuesOnly,filter:u,format:n,formatter:l,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:c.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:c.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:c.strictNullHandling}}(t);"function"==typeof d.filter?l=(0,d.filter)("",l):s(d.filter)&&(r=d.filter);let m=[];if("object"!=typeof l||null===l)return"";let h=o[d.arrayFormat],f="comma"===h&&d.commaRoundTrip;r||(r=Object.keys(l)),d.sort&&r.sort(d.sort);let g=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];d.skipNulls&&null===l[t]||u(m,function e(t,r,a,i,o,l,d,m,h,f,g,y,v,b,_,w,S,k){var x;let E,T=t,O=k,I=0,P=!1;for(;void 0!==(O=O.get(p))&&!P;){let e=O.get(t);if(I+=1,void 0!==e)if(e===I)throw RangeError("Cyclic object value");else P=!0;void 0===O.get(p)&&(I=0)}if("function"==typeof f?T=f(r,T):T instanceof Date?T=v?.(T):"comma"===a&&s(T)&&(T=(0,n.maybe_map)(T,function(e){return e instanceof Date?v?.(e):e})),null===T){if(l)return h&&!w?h(r,c.encoder,S,"key",b):r;T=""}if("string"==typeof(x=T)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||(0,n.is_buffer)(T)){if(h){let e=w?r:h(r,c.encoder,S,"key",b);return[_?.(e)+"="+_?.(h(T,c.encoder,S,"value",b))]}return[_?.(r)+"="+_?.(String(T))]}let C=[];if(void 0===T)return C;if("comma"===a&&s(T))w&&h&&(T=(0,n.maybe_map)(T,h)),E=[{value:T.length>0?T.join(",")||null:void 0}];else if(s(f))E=f;else{let e=Object.keys(T);E=g?e.sort(g):e}let A=m?String(r).replace(/\./g,"%2E"):String(r),j=i&&s(T)&&1===T.length?A+"[]":A;if(o&&s(T)&&0===T.length)return j+"[]";for(let r=0;r<E.length;++r){let n=E[r],c="object"==typeof n&&void 0!==n.value?n.value:T[n];if(d&&null===c)continue;let x=y&&m?n.replace(/\./g,"%2E"):n,O=s(T)?"function"==typeof a?a(j,x):j:j+(y?"."+x:"["+x+"]");k.set(t,I);let P=new WeakMap;P.set(p,k),u(C,e(c,O,a,i,o,l,d,m,"comma"===a&&w&&s(T)?null:h,f,g,y,v,b,_,w,S,P))}return C}(l[t],t,h,f,d.allowEmptyArrays,d.strictNullHandling,d.skipNulls,d.encodeDotInKeys,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,g))}let y=m.join(d.delimiter),v=!0===d.addQueryPrefix?"?":"";return d.charsetSentinel&&("iso-8859-1"===d.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),y.length>0?v+y:""}},22093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.stringify=void 0;let n=e.r(47298);r.formats={formatters:n.formatters,RFC1738:n.RFC1738,RFC3986:n.RFC3986,default:n.default_format};var a=e.r(90046);Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return a.stringify}})},4287,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="4.104.0"},64661,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setShims=r.isFsReadStream=r.fileFromPath=r.getDefaultAgent=r.getMultipartRequestOptions=r.ReadableStream=r.File=r.Blob=r.FormData=r.Headers=r.Response=r.Request=r.fetch=r.kind=r.auto=void 0,r.auto=!1,r.kind=void 0,r.fetch=void 0,r.Request=void 0,r.Response=void 0,r.Headers=void 0,r.FormData=void 0,r.Blob=void 0,r.File=void 0,r.ReadableStream=void 0,r.getMultipartRequestOptions=void 0,r.getDefaultAgent=void 0,r.fileFromPath=void 0,r.isFsReadStream=void 0,r.setShims=function(e,t={auto:!1}){if(r.auto)throw Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(r.kind)throw Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${r.kind}'\``);r.auto=t.auto,r.kind=e.kind,r.fetch=e.fetch,r.Request=e.Request,r.Response=e.Response,r.Headers=e.Headers,r.FormData=e.FormData,r.Blob=e.Blob,r.File=e.File,r.ReadableStream=e.ReadableStream,r.getMultipartRequestOptions=e.getMultipartRequestOptions,r.getDefaultAgent=e.getDefaultAgent,r.fileFromPath=e.fileFromPath,r.isFsReadStream=e.isFsReadStream}},68209,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultipartBody=void 0;class n{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}r.MultipartBody=n},24923,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getRuntime=void 0;let s=i(e.r(56569)),l=i(e.r(52840)),u=o(e.r(63345)),d=e.r(37282),c=e.r(2157),p=e.r(67262),m=e.r(81111),h=e.r(68209),f=e.r(18352),g=!1;async function y(t,...r){let{fileFromPath:n}=await Promise.resolve().then(()=>i(e.r(17144)));return g||(console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(t)}) instead`),g=!0),await n(t,...r)}let v=new u.default({keepAlive:!0,timeout:3e5}),b=new u.default.HttpsAgent({keepAlive:!0,timeout:3e5});async function _(e,t){let r=new p.FormDataEncoder(e),n=m.Readable.from(r),a=new h.MultipartBody(n),i={...t.headers,...r.headers,"Content-Length":r.contentLength};return{...t,body:a,headers:i}}r.getRuntime=function(){return"u"<typeof AbortController&&(globalThis.AbortController=d.AbortController),{kind:"node",fetch:s.default,Request:s.Request,Response:s.Response,Headers:s.Headers,FormData:l.FormData,Blob:l.Blob,File:l.File,ReadableStream:f.ReadableStream,getMultipartRequestOptions:_,getDefaultAgent:e=>e.startsWith("https")?b:v,fileFromPath:y,isFsReadStream:e=>e instanceof c.ReadStream}}},48097,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(24923),r)},91318,(e,t,r)=>{let n=e.r(64661),a=e.r(48097);for(let e of(r.init=()=>{n.kind||n.setShims(a.getRuntime(),{auto:!0})},Object.keys(n)))Object.defineProperty(r,e,{get:()=>n[e]});r.init()},43163,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ContentFilterFinishReasonError=r.LengthFinishReasonError=r.InternalServerError=r.RateLimitError=r.UnprocessableEntityError=r.ConflictError=r.NotFoundError=r.PermissionDeniedError=r.AuthenticationError=r.BadRequestError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIUserAbortError=r.APIError=r.OpenAIError=void 0;let n=e.r(64490);class a extends Error{}r.OpenAIError=a;class i extends a{constructor(e,t,r,n){super(`${i.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.request_id=n?.["x-request-id"],this.error=t,this.code=t?.code,this.param=t?.param,this.type=t?.type}static makeMessage(e,t,r){let n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,a){if(!e||!a)return new o({message:r,cause:(0,n.castToError)(t)});let f=t?.error;return 400===e?new s(e,f,r,a):401===e?new l(e,f,r,a):403===e?new u(e,f,r,a):404===e?new d(e,f,r,a):409===e?new c(e,f,r,a):422===e?new p(e,f,r,a):429===e?new m(e,f,r,a):e>=500?new h(e,f,r,a):new i(e,f,r,a)}}r.APIError=i,r.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class o extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}r.APIConnectionError=o,r.APIConnectionTimeoutError=class extends o{constructor({message:e}={}){super({message:e??"Request timed out."})}};class s extends i{}r.BadRequestError=s;class l extends i{}r.AuthenticationError=l;class u extends i{}r.PermissionDeniedError=u;class d extends i{}r.NotFoundError=d;class c extends i{}r.ConflictError=c;class p extends i{}r.UnprocessableEntityError=p;class m extends i{}r.RateLimitError=m;class h extends i{}r.InternalServerError=h,r.LengthFinishReasonError=class extends a{constructor(){super("Could not parse response content as the length limit was reached")}},r.ContentFilterFinishReasonError=class extends a{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}},13736,(e,t,r)=>{"use strict";var n,a=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},i=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.findDoubleNewlineIndex=r.LineDecoder=void 0;let o=e.r(43163);class s{constructor(){n.set(this,void 0),this.buffer=new Uint8Array,a(this,n,null,"f")}decode(e){let t;if(null==e)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?new TextEncoder().encode(e):e,o=new Uint8Array(this.buffer.length+r.length);o.set(this.buffer),o.set(r,this.buffer.length),this.buffer=o;let s=[];for(;null!=(t=function(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}(this.buffer,i(this,n,"f")));){if(t.carriage&&null==i(this,n,"f")){a(this,n,t.index,"f");continue}if(null!=i(this,n,"f")&&(t.index!==i(this,n,"f")+1||t.carriage)){s.push(this.decodeText(this.buffer.slice(0,i(this,n,"f")-1))),this.buffer=this.buffer.slice(i(this,n,"f")),a(this,n,null,"f");continue}let e=null!==i(this,n,"f")?t.preceding-1:t.preceding,r=this.decodeText(this.buffer.slice(0,e));s.push(r),this.buffer=this.buffer.slice(t.index),a(this,n,null,"f")}return s}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("u">typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new o.OpenAIError(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("u">typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new o.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new o.OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}r.LineDecoder=s,n=new WeakMap,s.NEWLINE_CHARS=new Set(["\n","\r"]),s.NEWLINE_REGEXP=/\r\n|[\n\r]/g,r.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}},16529,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReadableStreamToAsyncIterable=void 0,r.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}},40680,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._iterSSEMessages=r.Stream=void 0;let n=e.r(91318),a=e.r(43163),i=e.r(13736),o=e.r(16529),s=e.r(64490),l=e.r(43163);class u{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;async function*n(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(let r of d(e,t))if(!n){if(r.data.startsWith("[DONE]")){n=!0;continue}if(null===r.event||r.event.startsWith("response.")||r.event.startsWith("transcript.")){let t;try{t=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if(t&&t.error)throw new l.APIError(void 0,t.error,void 0,(0,s.createResponseHeaders)(e.headers));yield t}else{let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("error"==r.event)throw new l.APIError(void 0,e.error,e.message,void 0);yield{event:r.event,data:e}}}n=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{n||t.abort()}}return new u(n,t)}static fromReadableStream(e,t){let r=!1;async function*n(){let t=new i.LineDecoder;for await(let r of(0,o.ReadableStreamToAsyncIterable)(e))for(let e of t.decode(r))yield e;for(let e of t.flush())yield e}return new u(async function*(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let e=!1;try{for await(let t of n())!e&&t&&(yield JSON.parse(t));e=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{e||t.abort()}},t)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),n=n=>({next:()=>{if(0===n.length){let n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new u(()=>n(e),this.controller),new u(()=>n(t),this.controller)]}toReadableStream(){let e,t=this,r=new TextEncoder;return new n.ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:n,done:a}=await e.next();if(a)return t.close();let i=r.encode(JSON.stringify(n)+"\n");t.enqueue(i)}catch(e){t.error(e)}},async cancel(){await e.return?.()}})}}async function*d(e,t){if(!e.body)throw t.abort(),new a.OpenAIError("Attempted to iterate over a response with no body");let r=new p,n=new i.LineDecoder;for await(let t of c((0,o.ReadableStreamToAsyncIterable)(e.body)))for(let e of n.decode(t)){let t=r.decode(e);t&&(yield t)}for(let e of n.flush()){let t=r.decode(e);t&&(yield t)}}async function*c(e){let t=new Uint8Array;for await(let r of e){let e;if(null==r)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?new TextEncoder().encode(r):r,a=new Uint8Array(t.length+n.length);for(a.set(t),a.set(n,t.length),t=a;-1!==(e=(0,i.findDoubleNewlineIndex)(t));)yield t.slice(0,e),t=t.slice(e)}t.length>0&&(yield t)}r.Stream=u,r._iterSSEMessages=d;class p{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){var t;let r;if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,a,i]=-1!==(r=(t=e).indexOf(":"))?[t.substring(0,r),":",t.substring(r+1)]:[t,"",""];return i.startsWith(" ")&&(i=i.substring(1)),"event"===n?this.event=i:"data"===n&&this.data.push(i),null}}},27393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=r.isMultipartBody=r.toFile=r.isUploadable=r.isBlobLike=r.isFileLike=r.isResponseLike=r.fileFromPath=void 0;let n=e.r(91318);var a=e.r(91318);async function i(e,t,a){var i;if(e=await e,(0,r.isFileLike)(e))return e;if((0,r.isResponseLike)(e)){let i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let o=(0,r.isBlobLike)(i)?[await i.arrayBuffer()]:[i];return new n.File(o,t,a)}let l=await o(e);if(t||(t=(s((i=e).name)||s(i.filename)||s(i.path)?.split(/[\\/]/).pop())??"unknown_file"),!a?.type){let e=l[0]?.type;"string"==typeof e&&(a={...a,type:e})}return new n.File(l,t,a)}async function o(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if((0,r.isBlobLike)(e))t.push(await e.arrayBuffer());else if(l(e))for await(let r of e)t.push(r);else{let t;throw Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${(t=Object.getOwnPropertyNames(e),`[${t.map(e=>`"${e}"`).join(", ")}]`)}`)}return t}Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return a.fileFromPath}}),r.isResponseLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,r.isFileLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&(0,r.isBlobLike)(e),r.isBlobLike=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,r.isUploadable=e=>(0,r.isFileLike)(e)||(0,r.isResponseLike)(e)||(0,n.isFsReadStream)(e),r.toFile=i;let s=e=>"string"==typeof e?e:"u">typeof Buffer&&e instanceof Buffer?String(e):void 0,l=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];r.isMultipartBody=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag];let u=async e=>{if(!c(e.body))return e;let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.maybeMultipartFormRequestOptions=u;let d=async e=>{let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.multipartFormRequestOptions=d,r.createForm=async e=>{let t=new n.FormData;return await Promise.all(Object.entries(e||{}).map(([e,r])=>p(t,e,r))),t};let c=e=>{if((0,r.isUploadable)(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e){for(let t in e)if(c(e[t]))return!0}return!1},p=async(e,t,n)=>{if(void 0!==n){if(null==n)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if((0,r.isUploadable)(n)){let r=await i(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>p(e,t+"[]",r)));else if("object"==typeof n)await Promise.all(Object.entries(n).map(([r,n])=>p(e,`${t}[${r}]`,n)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}}},64490,(e,t,r)=>{"use strict";let n;var a,i=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.isObj=r.toFloat32Array=r.toBase64=r.getHeader=r.getRequiredHeader=r.isHeadersProtocol=r.isRunningInBrowser=r.debug=r.hasOwn=r.isEmptyObj=r.maybeCoerceBoolean=r.maybeCoerceFloat=r.maybeCoerceInteger=r.coerceBoolean=r.coerceFloat=r.coerceInteger=r.readEnv=r.ensurePresent=r.castToError=r.sleep=r.safeJSON=r.isRequestOptions=r.createResponseHeaders=r.PagePromise=r.AbstractPage=r.APIClient=r.APIPromise=r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=void 0;let s=e.r(4287),l=e.r(40680),u=e.r(43163),d=e.r(91318);(0,d.init)();let c=e.r(27393);var p=e.r(27393);async function m(e){let{response:t}=e;if(e.options.stream)return(P("response",t.status,t.url,t.headers,t.body),e.options.__streamClass)?e.options.__streamClass.fromSSEResponse(t,e.controller):l.Stream.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type"),n=r?.split(";")[0]?.trim();if(n?.includes("application/json")||n?.endsWith("+json")){let e=await t.json();return P("response",t.status,t.url,t.headers,e),h(e,t)}let a=await t.text();return P("response",t.status,t.url,t.headers,a),a}function h(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}Object.defineProperty(r,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return p.maybeMultipartFormRequestOptions}}),Object.defineProperty(r,"multipartFormRequestOptions",{enumerable:!0,get:function(){return p.multipartFormRequestOptions}}),Object.defineProperty(r,"createForm",{enumerable:!0,get:function(){return p.createForm}});class f extends Promise{constructor(e,t=m){super(e=>{e(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new f(this.responsePromise,async t=>h(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}r.APIPromise=f,r.APIClient=class{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:n,fetch:a}){this.baseURL=e,this.maxRetries=x("maxRetries",t),this.timeout=x("timeout",r),this.httpAgent=n,this.fetch=a??d.fetch}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...w(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${C()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async r=>{let n=r&&(0,c.isBlobLike)(r?.body)?new DataView(await r.body.arrayBuffer()):r?.body instanceof DataView?r.body:r?.body instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r?.body)?new DataView(r.body.buffer):r?.body;return{method:e,path:t,...r,body:n}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if("string"==typeof e){if("u">typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("u">typeof TextEncoder)return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){let r={...e},{method:n,path:a,query:i,headers:o={}}=r,s=ArrayBuffer.isView(r.body)||r.__binaryRequest&&"string"==typeof r.body?r.body:(0,c.isMultipartBody)(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,l=this.calculateContentLength(s),u=this.buildURL(a,i);"timeout"in r&&x("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let p=r.httpAgent??this.httpAgent??(0,d.getDefaultAgent)(u),m=r.timeout+1e3;"number"==typeof p?.options?.timeout&&m>(p.options.timeout??0)&&(p.options.timeout=m),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let h=this.buildHeaders({options:r,headers:o,contentLength:l,retryCount:t});return{req:{method:n,...s&&{body:s},headers:h,...p&&{agent:p},signal:r.signal??null},url:u,timeout:r.timeout}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:a}){let i={};n&&(i["content-length"]=n);let o=this.defaultHeaders(e);return O(i,o),O(i,t),(0,c.isMultipartBody)(e.body)&&"node"!==d.kind&&delete i["content-type"],void 0===(0,r.getHeader)(o,"x-stainless-retry-count")&&void 0===(0,r.getHeader)(t,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(a)),void 0===(0,r.getHeader)(o,"x-stainless-timeout")&&void 0===(0,r.getHeader)(t,"x-stainless-timeout")&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,t),i}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(e=>[...e])):{...e}:{}}makeStatusError(e,t,r,n){return u.APIError.generate(e,t,r,n)}request(e,t=null){return new f(this.makeRequest(e,t))}async makeRequest(e,t){let n=await e,a=n.maxRetries??this.maxRetries;null==t&&(t=a),await this.prepareOptions(n);let{req:i,url:o,timeout:s}=this.buildRequest(n,{retryCount:a-t});if(await this.prepareRequest(i,{url:o,options:n}),P("request",o,n,i.headers),n.signal?.aborted)throw new u.APIUserAbortError;let l=new AbortController,d=await this.fetchWithTimeout(o,i,s,l).catch(r.castToError);if(d instanceof Error){if(n.signal?.aborted)throw new u.APIUserAbortError;if(t)return this.retryRequest(n,t);if("AbortError"===d.name)throw new u.APIConnectionTimeoutError;throw new u.APIConnectionError({cause:d})}let c=(0,r.createResponseHeaders)(d.headers);if(!d.ok){if(t&&this.shouldRetry(d)){let e=`retrying, ${t} attempts remaining`;return P(`response (error; ${e})`,d.status,o,c),this.retryRequest(n,t,c)}let e=await d.text().catch(e=>(0,r.castToError)(e).message),a=(0,r.safeJSON)(e),i=a?void 0:e,s=t?"(error; no more retries left)":"(error; not retryable)";throw P(`response (error; ${s})`,d.status,o,c,i),this.makeStatusError(d.status,a,i,c)}return{response:d,options:n,controller:l}}requestAPIList(e,t){return new y(this,this.makeRequest(t,null),e)}buildURL(e,t){let r=new URL(k(e)?e:this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return E(n)||(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new u.OpenAIError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,n){let{signal:a,...i}=t||{};a&&a.addEventListener("abort",()=>n.abort());let o=setTimeout(()=>n.abort(),r),s={signal:n.signal,...i};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(o)})}shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,n){let a,i=n?.["retry-after-ms"];if(i){let e=parseFloat(i);Number.isNaN(e)||(a=e)}let o=n?.["retry-after"];if(o&&!a){let e=parseFloat(o);a=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){let r=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,r)}return await (0,r.sleep)(a),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${s.VERSION}`}};class g{constructor(e,t,r,n){a.set(this,void 0),i(this,a,e,"f"),this.options=n,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new u.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){for(let[r,n]of[...Object.entries(t.query||{}),...e.url.searchParams.entries()])e.url.searchParams.set(r,n);t.query=void 0,t.path=e.url.toString()}return await o(this,a,"f").requestAPIList(this.constructor,t)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(a=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}r.AbstractPage=g;class y extends f{constructor(e,t,r){super(t,async t=>new r(e,t.response,await m(t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}r.PagePromise=y,r.createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){let r=t.toString();return e[r.toLowerCase()]||e[r]}});let v={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0};r.isRequestOptions=e=>"object"==typeof e&&null!==e&&!E(e)&&Object.keys(e).every(e=>T(v,e));let b=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",_=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown",w=()=>n??(n=(()=>{if("u">typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":_(Deno.build.os),"X-Stainless-Arch":b(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("u">typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("u">typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":_(process.platform),"X-Stainless-Arch":b(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=function(){if("u"<typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,n=r[2]||0,a=r[3]||0;return{browser:e,version:`${t}.${n}.${a}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());r.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}};let S=/^[a-z][a-z0-9+.-]*:/i,k=e=>S.test(e);r.sleep=e=>new Promise(t=>setTimeout(t,e));let x=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new u.OpenAIError(`${e} must be an integer`);if(t<0)throw new u.OpenAIError(`${e} must be a positive integer`);return t};function E(e){if(!e)return!0;for(let t in e)return!1;return!0}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){for(let r in t){if(!T(t,r))continue;let n=r.toLowerCase();if(!n)continue;let a=t[r];null===a?delete e[n]:void 0!==a&&(e[n]=a)}}r.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return Error(JSON.stringify(e))}catch{}return Error(e)},r.ensurePresent=e=>{if(null==e)throw new u.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e},r.readEnv=e=>"u">typeof process?process.env?.[e]?.trim()??void 0:"u">typeof Deno?Deno.env?.get?.(e)?.trim():void 0,r.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new u.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new u.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:!!e,r.maybeCoerceInteger=e=>{if(void 0!==e)return(0,r.coerceInteger)(e)},r.maybeCoerceFloat=e=>{if(void 0!==e)return(0,r.coerceFloat)(e)},r.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,r.coerceBoolean)(e)},r.isEmptyObj=E,r.hasOwn=T;let I=new Set(["authorization","api-key"]);function P(e,...t){"u">typeof process&&process?.env?.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t.map(e=>{if(!e)return e;if(e.headers){let t={...e,headers:{...e.headers}};for(let r in e.headers)I.has(r.toLowerCase())&&(t.headers[r]="REDACTED");return t}let t=null;for(let r in e)I.has(r.toLowerCase())&&(t??(t={...e}),t[r]="REDACTED");return t??e}))}r.debug=P;let C=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});r.isRunningInBrowser=()=>!1,r.isHeadersProtocol=e=>"function"==typeof e?.get,r.getRequiredHeader=(e,t)=>{let n=(0,r.getHeader)(e,t);if(void 0===n)throw Error(`Could not find ${t} header`);return n},r.getHeader=(e,t)=>{let n=t.toLowerCase();if((0,r.isHeadersProtocol)(e)){let r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(e,t,r)=>t+r.toUpperCase());for(let a of[t,n,t.toUpperCase(),r]){let t=e.get(a);if(t)return t}}for(let[r,a]of Object.entries(e))if(r.toLowerCase()===n){if(Array.isArray(a)){if(a.length<=1)return a[0];return console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]}return a}},r.toBase64=e=>{if(!e)return"";if("u">typeof Buffer)return Buffer.from(e).toString("base64");if("u">typeof btoa)return btoa(e);throw new u.OpenAIError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")},r.toFloat32Array=e=>{if("u">typeof Buffer){let t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return Array.from(new Float32Array(n.buffer))}},r.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}},33229,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CursorPage=r.Page=void 0;let n=e.r(64490);class a extends n.AbstractPage{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}r.Page=a;class i extends n.AbstractPage{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageParams(){let e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;let t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){let e=this.getPaginatedItems();if(!e.length)return null;let t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}r.CursorPage=i},8557,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.APIResource=void 0,r.APIResource=class{constructor(e){this._client=e}}},36239,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChatCompletionStoreMessagesPage=r.Messages=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(31392);Object.defineProperty(r,"ChatCompletionStoreMessagesPage",{enumerable:!0,get:function(){return i.ChatCompletionStoreMessagesPage}});class o extends n.APIResource{list(e,t={},r){return(0,a.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,i.ChatCompletionStoreMessagesPage,{query:t,...r})}}r.Messages=o},31392,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ChatCompletionStoreMessagesPage=r.ChatCompletionsPage=r.Completions=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(36239)),u=e.r(36239),d=e.r(33229);class c extends o.APIResource{constructor(){super(...arguments),this.messages=new l.Messages(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/chat/completions",p,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}}r.Completions=c;class p extends d.CursorPage{}r.ChatCompletionsPage=p;class m extends d.CursorPage{}r.ChatCompletionStoreMessagesPage=m,c.ChatCompletionsPage=p,c.Messages=u.Messages},93685,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Chat=void 0;let o=e.r(8557),s=i(e.r(31392)),l=e.r(31392);class u extends o.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}r.Chat=u,u.Completions=l.Completions,u.ChatCompletionsPage=l.ChatCompletionsPage},64634,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=r.Completions=r.ChatCompletionsPage=r.ChatCompletionStoreMessagesPage=void 0;var n=e.r(31392);Object.defineProperty(r,"ChatCompletionStoreMessagesPage",{enumerable:!0,get:function(){return n.ChatCompletionStoreMessagesPage}}),Object.defineProperty(r,"ChatCompletionsPage",{enumerable:!0,get:function(){return n.ChatCompletionsPage}}),Object.defineProperty(r,"Completions",{enumerable:!0,get:function(){return n.Completions}});var a=e.r(36239);Object.defineProperty(r,"Messages",{enumerable:!0,get:function(){return a.Messages}})},56379,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Completions=r.ChatCompletionsPage=r.ChatCompletionStoreMessagesPage=r.Chat=void 0;var n=e.r(93685);Object.defineProperty(r,"Chat",{enumerable:!0,get:function(){return n.Chat}});var a=e.r(64634);Object.defineProperty(r,"ChatCompletionStoreMessagesPage",{enumerable:!0,get:function(){return a.ChatCompletionStoreMessagesPage}}),Object.defineProperty(r,"ChatCompletionsPage",{enumerable:!0,get:function(){return a.ChatCompletionsPage}}),Object.defineProperty(r,"Completions",{enumerable:!0,get:function(){return a.Completions}})},55362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},19778,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Speech=void 0;let n=e.r(8557);class a extends n.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t?.headers},__binaryResponse:!0})}}r.Speech=a},985,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Transcriptions=void 0;let o=e.r(8557),s=i(e.r(64490));class l extends o.APIResource{create(e,t){return this._client.post("/audio/transcriptions",s.multipartFormRequestOptions({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}}))}}r.Transcriptions=l},25968,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Translations=void 0;let o=e.r(8557),s=i(e.r(64490));class l extends o.APIResource{create(e,t){return this._client.post("/audio/translations",s.multipartFormRequestOptions({body:e,...t,__metadata:{model:e.model}}))}}r.Translations=l},50479,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Audio=void 0;let o=e.r(8557),s=i(e.r(19778)),l=e.r(19778),u=i(e.r(985)),d=e.r(985),c=i(e.r(25968)),p=e.r(25968);class m extends o.APIResource{constructor(){super(...arguments),this.transcriptions=new u.Transcriptions(this._client),this.translations=new c.Translations(this._client),this.speech=new s.Speech(this._client)}}r.Audio=m,m.Transcriptions=d.Transcriptions,m.Translations=p.Translations,m.Speech=l.Speech},89274,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BatchesPage=r.Batches=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return(0,a.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/batches",s,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}r.Batches=o;class s extends i.CursorPage{}r.BatchesPage=s,o.BatchesPage=s},56132,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},y=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.EventStream=void 0;let v=e.r(43163);r.EventStream=class{constructor(){n.add(this),this.controller=new AbortController,a.set(this,void 0),i.set(this,()=>{}),o.set(this,()=>{}),s.set(this,void 0),l.set(this,()=>{}),u.set(this,()=>{}),d.set(this,{}),c.set(this,!1),p.set(this,!1),m.set(this,!1),h.set(this,!1),g(this,a,new Promise((e,t)=>{g(this,i,e,"f"),g(this,o,t,"f")}),"f"),g(this,s,new Promise((e,t)=>{g(this,l,e,"f"),g(this,u,t,"f")}),"f"),y(this,a,"f").catch(()=>{}),y(this,s,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},y(this,n,"m",f).bind(this))},0)}_connected(){this.ended||(y(this,i,"f").call(this),this._emit("connect"))}get ended(){return y(this,c,"f")}get errored(){return y(this,p,"f")}get aborted(){return y(this,m,"f")}abort(){this.controller.abort()}on(e,t){return(y(this,d,"f")[e]||(y(this,d,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=y(this,d,"f")[e];if(!r)return this;let n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(y(this,d,"f")[e]||(y(this,d,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{g(this,h,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){g(this,h,!0,"f"),await y(this,s,"f")}_emit(e,...t){if(y(this,c,"f"))return;"end"===e&&(g(this,c,!0,"f"),y(this,l,"f").call(this));let r=y(this,d,"f")[e];if(r&&(y(this,d,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];y(this,h,"f")||r?.length||Promise.reject(e),y(this,o,"f").call(this,e),y(this,u,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];y(this,h,"f")||r?.length||Promise.reject(e),y(this,o,"f").call(this,e),y(this,u,"f").call(this,e),this._emit("end")}}_emitFinal(){}},a=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,n=new WeakSet,f=function(e){if(g(this,p,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new v.APIUserAbortError),e instanceof v.APIUserAbortError)return g(this,m,!0,"f"),this._emit("abort",e);if(e instanceof v.OpenAIError)return this._emit("error",e);if(e instanceof Error){let t=new v.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new v.OpenAIError(String(e)))}},44754,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),T=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&E(t,e,r);return T(t,e),t},I=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},P=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.AssistantStream=void 0;let C=O(e.r(64490)),A=e.r(40680),j=e.r(43163),z=e.r(56132);class R extends z.EventStream{constructor(){super(...arguments),n.add(this),a.set(this,[]),i.set(this,{}),o.set(this,{}),s.set(this,void 0),l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),c.set(this,void 0),p.set(this,void 0),m.set(this,void 0),h.set(this,void 0),f.set(this,void 0)}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,n=new WeakSet,Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let t=new R;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let a=A.Stream.fromReadableStream(e,this.controller);for await(let e of a)I(this,n,"m",g).call(this,e);if(a.controller.signal?.aborted)throw new j.APIUserAbortError;return this._addRun(I(this,n,"m",y).call(this))}toReadableStream(){return new A.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,n,a){let i=new R;return i._run(()=>i._runToolAssistantStream(e,t,r,n,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,t,r,a,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...a,stream:!0},l=await e.submitToolOutputs(t,r,s,{...i,signal:this.controller.signal});for await(let e of(this._connected(),l))I(this,n,"m",g).call(this,e);if(l.controller.signal?.aborted)throw new j.APIUserAbortError;return this._addRun(I(this,n,"m",y).call(this))}static createThreadAssistantStream(e,t,r){let n=new R;return n._run(()=>n._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(e,t,r,n){let a=new R;return a._run(()=>a._runAssistantStream(e,t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return I(this,m,"f")}currentRun(){return I(this,h,"f")}currentMessageSnapshot(){return I(this,s,"f")}currentRunStepSnapshot(){return I(this,f,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,o,"f"))}async finalRun(){if(await this.done(),!I(this,l,"f"))throw Error("Final run was not received.");return I(this,l,"f")}async _createThreadAssistantStream(e,t,r){let a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let i={...t,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});for await(let e of(this._connected(),o))I(this,n,"m",g).call(this,e);if(o.controller.signal?.aborted)throw new j.APIUserAbortError;return this._addRun(I(this,n,"m",y).call(this))}async _createAssistantStream(e,t,r,a){let i=a?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let o={...r,stream:!0},s=await e.create(t,o,{...a,signal:this.controller.signal});for await(let e of(this._connected(),s))I(this,n,"m",g).call(this,e);if(s.controller.signal?.aborted)throw new j.APIUserAbortError;return this._addRun(I(this,n,"m",y).call(this))}static accumulateDelta(e,t){for(let[r,n]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=n;continue}let t=e[r];if(null==t||"index"===r||"type"===r){e[r]=n;continue}if("string"==typeof t&&"string"==typeof n)t+=n;else if("number"==typeof t&&"number"==typeof n)t+=n;else if(C.isObj(t)&&C.isObj(n))t=this.accumulateDelta(t,n);else if(Array.isArray(t)&&Array.isArray(n)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...n);continue}for(let e of n){if(!C.isObj(e))throw Error(`Expected array delta entry to be an object but got: ${e}`);let r=e.index;if(null==r)throw console.error(e),Error("Expected array delta entry to have an `index` property");if("number"!=typeof r)throw Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);let n=t[r];null==n?t.push(e):t[r]=this.accumulateDelta(n,e)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${n}, accValue: ${t}`);e[r]=t}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,n){return await this._createAssistantStream(t,e,r,n)}async _runToolAssistantStream(e,t,r,n,a){return await this._createToolAssistantStream(r,e,t,n,a)}}r.AssistantStream=R,g=function(e){if(!this.ended)switch(P(this,m,e,"f"),I(this,n,"m",_).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,n,"m",x).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,n,"m",b).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,n,"m",v).call(this,e);break;case"error":throw Error("Encountered an error event in event processing - errors should be processed earlier")}},y=function(){if(this.ended)throw new j.OpenAIError("stream has ended, this shouldn't happen");if(!I(this,l,"f"))throw Error("Final run has not been received");return I(this,l,"f")},v=function(e){let[t,r]=I(this,n,"m",S).call(this,e,I(this,s,"f"));for(let e of(P(this,s,t,"f"),I(this,o,"f")[t.id]=t,r)){let r=t.content[e.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(let r of e.data.delta.content){if("text"==r.type&&r.text){let e=r.text,n=t.content[r.index];if(n&&"text"==n.type)this._emit("textDelta",e,n.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=I(this,u,"f")){if(I(this,d,"f"))switch(I(this,d,"f").type){case"text":this._emit("textDone",I(this,d,"f").text,I(this,s,"f"));break;case"image_file":this._emit("imageFileDone",I(this,d,"f").image_file,I(this,s,"f"))}P(this,u,r.index,"f")}P(this,d,t.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==I(this,u,"f")){let t=e.data.content[I(this,u,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,I(this,s,"f"));break;case"text":this._emit("textDone",t.text,I(this,s,"f"))}}I(this,s,"f")&&this._emit("messageDone",e.data),P(this,s,void 0,"f")}},b=function(e){let t=I(this,n,"m",w).call(this,e);switch(P(this,f,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let r=e.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(let e of r.step_details.tool_calls)e.index==I(this,c,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(I(this,p,"f")&&this._emit("toolCallDone",I(this,p,"f")),P(this,c,e.index,"f"),P(this,p,t.step_details.tool_calls[e.index],"f"),I(this,p,"f")&&this._emit("toolCallCreated",I(this,p,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":P(this,f,void 0,"f"),"tool_calls"==e.data.step_details.type&&I(this,p,"f")&&(this._emit("toolCallDone",I(this,p,"f")),P(this,p,void 0,"f")),this._emit("runStepDone",e.data,t)}},_=function(e){I(this,a,"f").push(e),this._emit("event",e)},w=function(e){switch(e.event){case"thread.run.step.created":return I(this,i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=I(this,i,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){let n=R.accumulateDelta(t,r.delta);I(this,i,"f")[e.data.id]=n}return I(this,i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,i,"f")[e.data.id]=e.data}if(I(this,i,"f")[e.data.id])return I(this,i,"f")[e.data.id];throw Error("No snapshot available")},S=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(let e of a.delta.content)if(e.index in t.content){let r=t.content[e.index];t.content[e.index]=I(this,n,"m",k).call(this,e,r)}else t.content[e.index]=e,r.push(e);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},k=function(e,t){return R.accumulateDelta(t,e)},x=function(e){switch(P(this,h,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":P(this,l,e.data,"f"),I(this,p,"f")&&(this._emit("toolCallDone",I(this,p,"f")),P(this,p,void 0,"f"))}}},84159,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AssistantsPage=r.Assistants=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);e.r(44754);class o extends n.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/assistants/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},t){return(0,a.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/assistants",s,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}r.Assistants=o;class s extends i.CursorPage{}r.AssistantsPage=s,o.AssistantsPage=s},43443,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParsingToolFunction=r.ParsingFunction=r.isRunnableFunctionWithParse=void 0,r.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse},r.ParsingFunction=class{constructor(e){this.function=e.function,this.parse=e.parse,this.parameters=e.parameters,this.description=e.description,this.name=e.name}},r.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},42147,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPresent=r.isToolMessage=r.isFunctionMessage=r.isAssistantMessage=void 0,r.isAssistantMessage=e=>e?.role==="assistant",r.isFunctionMessage=e=>e?.role==="function",r.isToolMessage=e=>e?.role==="tool",r.isPresent=function(e){return null!=e}},26636,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateInputTools=r.hasAutoParseableInput=r.shouldParseToolCall=r.parseChatCompletion=r.maybeParseChatCompletion=r.isAutoParsableTool=r.makeParseableTool=r.isAutoParsableResponseFormat=r.makeParseableTextFormat=r.makeParseableResponseFormat=void 0;let n=e.r(43163);function a(e){return e?.$brand==="auto-parseable-response-format"}function i(e){return e?.$brand==="auto-parseable-tool"}function o(e,t){let r=e.choices.map(e=>{var r,a;if("length"===e.finish_reason)throw new n.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new n.ContentFilterFinishReasonError;return{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>{var r,n;let a;return r=t,n=e,a=r.tools?.find(e=>e.function?.name===n.function.name),{...n,function:{...n.function,parsed_arguments:i(a)?a.$parseRaw(n.function.arguments):a?.function.strict?JSON.parse(n.function.arguments):null}}})??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?(r=t,a=e.message.content,r.response_format?.type!=="json_schema"?null:r.response_format?.type==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(a):JSON.parse(a):null):null}}});return{...e,choices:r}}function s(e){return!!a(e.response_format)||(e.tools?.some(e=>i(e)||"function"===e.type&&!0===e.function.strict)??!1)}r.makeParseableResponseFormat=function(e,t){let r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r},r.makeParseableTextFormat=function(e,t){let r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r},r.isAutoParsableResponseFormat=a,r.makeParseableTool=function(e,{parser:t,callback:r}){let n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n},r.isAutoParsableTool=i,r.maybeParseChatCompletion=function(e,t){return t&&s(t)?o(e,t):{...e,choices:e.choices.map(e=>({...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))}},r.parseChatCompletion=o,r.shouldParseToolCall=function(e,t){if(!e)return!1;let r=e.tools?.find(e=>e.function?.name===t.function.name);return i(r)||r?.function.strict||!1},r.hasAutoParseableInput=s,r.validateInputTools=function(e){for(let t of e??[]){if("function"!==t.type)throw new n.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new n.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}},96746,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.AbstractChatCompletionRunner=void 0;let p=e.r(43163),m=e.r(43443),h=e.r(42147),f=e.r(56132),g=e.r(26636);class y extends f.EventStream{constructor(){super(...arguments),n.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),((0,h.isFunctionMessage)(e)||(0,h.isToolMessage)(e))&&e.content)this._emit("functionCallResult",e.content);else if((0,h.isAssistantMessage)(e)&&e.function_call)this._emit("functionCall",e.function_call);else if((0,h.isAssistantMessage)(e)&&e.tool_calls)for(let t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),c(this,n,"m",a).call(this)}async finalMessage(){return await this.done(),c(this,n,"m",i).call(this)}async finalFunctionCall(){return await this.done(),c(this,n,"m",o).call(this)}async finalFunctionCallResult(){return await this.done(),c(this,n,"m",s).call(this)}async totalUsage(){return await this.done(),c(this,n,"m",l).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let t=c(this,n,"m",i).call(this);t&&this._emit("finalMessage",t);let r=c(this,n,"m",a).call(this);r&&this._emit("finalContent",r);let u=c(this,n,"m",o).call(this);u&&this._emit("finalFunctionCall",u);let d=c(this,n,"m",s).call(this);null!=d&&this._emit("finalFunctionCallResult",d),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",c(this,n,"m",l).call(this))}async _createChatCompletion(e,t,r){let a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),c(this,n,"m",u).call(this,t);let i=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,g.parseChatCompletion)(i,t))}async _runChatCompletion(e,t,r){for(let e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,r)}async _runFunctions(e,t,r){let a="function",{function_call:i="auto",stream:o,...s}=t,l="string"!=typeof i&&i?.name,{maxChatCompletions:u=10}=r||{},h={};for(let e of t.functions)h[e.name||e.function.name]=e;let f=t.functions.map(e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description}));for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<u;++t){let t,o=await this._createChatCompletion(e,{...s,function_call:i,functions:f,messages:[...this.messages]},r),u=o.choices[0]?.message;if(!u)throw new p.OpenAIError("missing message in ChatCompletion response");if(!u.function_call)return;let{name:g,arguments:y}=u.function_call,v=h[g];if(v){if(l&&l!==g){let e=`Invalid function_call: ${JSON.stringify(g)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,name:g,content:e});continue}}else{let e=`Invalid function_call: ${JSON.stringify(g)}. Available options are: ${f.map(e=>JSON.stringify(e.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:g,content:e});continue}try{t=(0,m.isRunnableFunctionWithParse)(v)?await v.parse(y):y}catch(e){this._addMessage({role:a,name:g,content:e instanceof Error?e.message:String(e)});continue}let b=await v.function(t,this),_=c(this,n,"m",d).call(this,b);if(this._addMessage({role:a,name:g,content:_}),l)return}}async _runTools(e,t,r){let a="tool",{tool_choice:i="auto",stream:o,...s}=t,l="string"!=typeof i&&i?.function?.name,{maxChatCompletions:u=10}=r||{},h=t.tools.map(e=>{if((0,g.isAutoParsableTool)(e)){if(!e.$callback)throw new p.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),f={};for(let e of h)"function"===e.type&&(f[e.function.name||e.function.function.name]=e.function);let y="tools"in t?h.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<u;++t){let t=await this._createChatCompletion(e,{...s,tool_choice:i,tools:y,messages:[...this.messages]},r),o=t.choices[0]?.message;if(!o)throw new p.OpenAIError("missing message in ChatCompletion response");if(!o.tool_calls?.length)break;for(let e of o.tool_calls){let t;if("function"!==e.type)continue;let r=e.id,{name:i,arguments:o}=e.function,s=f[i];if(s){if(l&&l!==i){let e=`Invalid tool_call: ${JSON.stringify(i)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,tool_call_id:r,content:e});continue}}else{let e=`Invalid tool_call: ${JSON.stringify(i)}. Available options are: ${Object.keys(f).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:r,content:e});continue}try{t=(0,m.isRunnableFunctionWithParse)(s)?await s.parse(o):o}catch(t){let e=t instanceof Error?t.message:String(t);this._addMessage({role:a,tool_call_id:r,content:e});continue}let u=await s.function(t,this),p=c(this,n,"m",d).call(this,u);if(this._addMessage({role:a,tool_call_id:r,content:p}),l)return}}}}r.AbstractChatCompletionRunner=y,n=new WeakSet,a=function(){return c(this,n,"m",i).call(this).content??null},i=function(){let e=this.messages.length;for(;e-- >0;){let t=this.messages[e];if((0,h.isAssistantMessage)(t)){let{function_call:e,...r}=t,n={...r,content:t.content??null,refusal:t.refusal??null};return e&&(n.function_call=e),n}}throw new p.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},o=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if((0,h.isAssistantMessage)(t)&&t?.function_call)return t.function_call;if((0,h.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},s=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if((0,h.isFunctionMessage)(t)&&null!=t.content||(0,h.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},l=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},u=function(e){if(null!=e.n&&e.n>1)throw new p.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},78051,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChatCompletionRunner=void 0;let n=e.r(96746),a=e.r(42147);class i extends n.AbstractChatCompletionRunner{static runFunctions(e,t,r){let n=new i,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,a)),n}static runTools(e,t,r){let n=new i,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,a)),n}_addMessage(e,t=!0){super._addMessage(e,t),(0,a.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}r.ChatCompletionRunner=i},67552,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MalformedJSON=r.PartialJSON=r.partialParse=void 0;let n=511;class a extends Error{}r.PartialJSON=a;class i extends Error{}r.MalformedJSON=i;r.partialParse=e=>(function(e,t=n){var r,o;let s,l,u,d,c,p,m,h,f,g;if("string"!=typeof e)throw TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw Error(`${e} is empty`);return r=e.trim(),o=t,s=r.length,l=0,u=e=>{throw new a(`${e} at position ${l}`)},d=e=>{throw new i(`${e} at position ${l}`)},c=()=>(g(),l>=s&&u("Unexpected end of input"),'"'===r[l])?p():"{"===r[l]?m():"["===r[l]?h():"null"===r.substring(l,l+4)||16&o&&s-l<4&&"null".startsWith(r.substring(l))?(l+=4,null):"true"===r.substring(l,l+4)||32&o&&s-l<4&&"true".startsWith(r.substring(l))?(l+=4,!0):"false"===r.substring(l,l+5)||32&o&&s-l<5&&"false".startsWith(r.substring(l))?(l+=5,!1):"Infinity"===r.substring(l,l+8)||128&o&&s-l<8&&"Infinity".startsWith(r.substring(l))?(l+=8,1/0):"-Infinity"===r.substring(l,l+9)||256&o&&1<s-l&&s-l<9&&"-Infinity".startsWith(r.substring(l))?(l+=9,-1/0):"NaN"===r.substring(l,l+3)||64&o&&s-l<3&&"NaN".startsWith(r.substring(l))?(l+=3,NaN):f(),p=()=>{let e=l,t=!1;for(l++;l<s&&('"'!==r[l]||t&&"\\"===r[l-1]);)t="\\"===r[l]&&!t,l++;if('"'==r.charAt(l))try{return JSON.parse(r.substring(e,++l-Number(t)))}catch(e){d(String(e))}else if(1&o)try{return JSON.parse(r.substring(e,l-Number(t))+'"')}catch(t){return JSON.parse(r.substring(e,r.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},m=()=>{l++,g();let e={};try{for(;"}"!==r[l];){if(g(),l>=s&&8&o)return e;let t=p();g(),l++;try{let r=c();Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(t){if(8&o)return e;throw t}g(),","===r[l]&&l++}}catch(t){if(8&o)return e;u("Expected '}' at end of object")}return l++,e},h=()=>{l++;let e=[];try{for(;"]"!==r[l];)e.push(c()),g(),","===r[l]&&l++}catch(t){if(4&o)return e;u("Expected ']' at end of array")}return l++,e},f=()=>{if(0===l){"-"===r&&2&o&&u("Not sure what '-' is");try{return JSON.parse(r)}catch(e){if(2&o)try{if("."===r[r.length-1])return JSON.parse(r.substring(0,r.lastIndexOf(".")));return JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch(e){}d(String(e))}}let e=l;for("-"===r[l]&&l++;r[l]&&!",]}".includes(r[l]);)l++;l!=s||2&o||u("Unterminated number literal");try{return JSON.parse(r.substring(e,l))}catch(t){"-"===r.substring(e,l)&&2&o&&u("Not sure what '-' is");try{return JSON.parse(r.substring(e,r.lastIndexOf("e")))}catch(e){d(String(e))}}},g=()=>{for(;l<s&&" \n\r	".includes(r[l]);)l++},c()})(e,2^n)},46386,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c,p,m,h,f=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},g=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.ChatCompletionStream=void 0;let y=e.r(43163),v=e.r(96746),b=e.r(40680),_=e.r(26636),w=e.r(67552);class S extends v.AbstractChatCompletionRunner{constructor(e){super(),n.add(this),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),f(this,a,e,"f"),f(this,i,[],"f")}get currentChatCompletionSnapshot(){return g(this,o,"f")}static fromReadableStream(e){let t=new S(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){let n=new S(t);return n._run(()=>n._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(e,t,r){super._createChatCompletion;let a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),g(this,n,"m",s).call(this);let i=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});for await(let e of(this._connected(),i))g(this,n,"m",u).call(this,e);if(i.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(g(this,n,"m",p).call(this))}async _fromReadableStream(e,t){let r,a=t?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),g(this,n,"m",s).call(this),this._connected();let i=b.Stream.fromReadableStream(e,this.controller);for await(let e of i)r&&r!==e.id&&this._addChatCompletion(g(this,n,"m",p).call(this)),g(this,n,"m",u).call(this,e),r=e.id;if(i.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(g(this,n,"m",p).call(this))}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,n=new WeakSet,s=function(){this.ended||f(this,o,void 0,"f")},l=function(e){let t=g(this,i,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},g(this,i,"f")[e.index]=t),t},u=function(e){if(this.ended)return;let t=g(this,n,"m",h).call(this,e);for(let r of(this._emit("chunk",e,t),e.choices)){let e=t.choices[r.index];null!=r.delta.content&&e.message?.role==="assistant"&&e.message?.content&&(this._emit("content",r.delta.content,e.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=r.delta.refusal&&e.message?.role==="assistant"&&e.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:e.message.refusal}),r.logprobs?.content!=null&&e.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:e.logprobs?.content??[]}),r.logprobs?.refusal!=null&&e.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});let a=g(this,n,"m",l).call(this,e);for(let t of(e.finish_reason&&(g(this,n,"m",c).call(this,e),null!=a.current_tool_call_index&&g(this,n,"m",d).call(this,e,a.current_tool_call_index)),r.delta.tool_calls??[]))a.current_tool_call_index!==t.index&&(g(this,n,"m",c).call(this,e),null!=a.current_tool_call_index&&g(this,n,"m",d).call(this,e,a.current_tool_call_index)),a.current_tool_call_index=t.index;for(let t of r.delta.tool_calls??[]){let r=e.message.tool_calls?.[t.index];r?.type&&(r?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:r.function?.name,index:t.index,arguments:r.function.arguments,parsed_arguments:r.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):E(r?.type))}}},d=function(e,t){if(g(this,n,"m",l).call(this,e).done_tool_calls.has(t))return;let r=e.message.tool_calls?.[t];if(!r)throw Error("no tool call snapshot");if(!r.type)throw Error("tool call snapshot missing `type`");if("function"===r.type){let e=g(this,a,"f")?.tools?.find(e=>"function"===e.type&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:(0,_.isAutoParsableTool)(e)?e.$parseRaw(r.function.arguments):e?.function.strict?JSON.parse(r.function.arguments):null})}else E(r.type)},c=function(e){let t=g(this,n,"m",l).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;let r=g(this,n,"m",m).call(this);this._emit("content.done",{content:e.message.content,parsed:r?r.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},p=function(){if(this.ended)throw new y.OpenAIError("stream has ended, this shouldn't happen");let e=g(this,o,"f");if(!e)throw new y.OpenAIError("request ended without sending any chunks");return f(this,o,void 0,"f"),f(this,i,[],"f"),function(e,t){let{id:r,choices:n,created:a,model:i,system_fingerprint:o,...s}=e,l={...s,id:r,choices:n.map(({message:t,finish_reason:r,index:n,logprobs:a,...i})=>{if(!r)throw new y.OpenAIError(`missing finish_reason for choice ${n}`);let{content:o=null,function_call:s,tool_calls:l,...u}=t,d=t.role;if(!d)throw new y.OpenAIError(`missing role for choice ${n}`);if(s){let{arguments:e,name:l}=s;if(null==e)throw new y.OpenAIError(`missing function_call.arguments for choice ${n}`);if(!l)throw new y.OpenAIError(`missing function_call.name for choice ${n}`);return{...i,message:{content:o,function_call:{arguments:e,name:l},role:d,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:a}}return l?{...i,index:n,finish_reason:r,logprobs:a,message:{...u,role:d,content:o,refusal:t.refusal??null,tool_calls:l.map((t,r)=>{let{function:a,type:i,id:o,...s}=t,{arguments:l,name:u,...d}=a||{};if(null==o)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].id
${k(e)}`);if(null==i)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].type
${k(e)}`);if(null==u)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].function.name
${k(e)}`);if(null==l)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].function.arguments
${k(e)}`);return{...s,id:o,type:i,function:{...d,name:u,arguments:l}}})}}:{...i,message:{...u,content:o,role:d,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:a}}),created:a,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return(0,_.maybeParseChatCompletion)(l,t)}(e,g(this,a,"f"))},m=function(){let e=g(this,a,"f")?.response_format;return(0,_.isAutoParsableResponseFormat)(e)?e:null},h=function(e){var t,r,i,s;let l=g(this,o,"f"),{choices:u,...d}=e;for(let{delta:u,finish_reason:c,index:p,logprobs:h=null,...v}of(l?Object.assign(l,d):l=f(this,o,{...d,choices:[]},"f"),e.choices)){let e=l.choices[p];if(e||(e=l.choices[p]={finish_reason:c,index:p,message:{},logprobs:h,...v}),h)if(e.logprobs){let{content:n,refusal:a,...i}=h;x(i),Object.assign(e.logprobs,i),n&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...n)),a&&((r=e.logprobs).refusal??(r.refusal=[]),e.logprobs.refusal.push(...a))}else e.logprobs=Object.assign({},h);if(c&&(e.finish_reason=c,g(this,a,"f")&&(0,_.hasAutoParseableInput)(g(this,a,"f")))){if("length"===c)throw new y.LengthFinishReasonError;if("content_filter"===c)throw new y.ContentFilterFinishReasonError}if(Object.assign(e,v),!u)continue;let{content:o,refusal:d,function_call:f,role:b,tool_calls:S,...k}=u;if(x(k),Object.assign(e.message,k),d&&(e.message.refusal=(e.message.refusal||"")+d),b&&(e.message.role=b),f&&(e.message.function_call?(f.name&&(e.message.function_call.name=f.name),f.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=f.arguments)):e.message.function_call=f),o&&(e.message.content=(e.message.content||"")+o,!e.message.refusal&&g(this,n,"m",m).call(this)&&(e.message.parsed=(0,w.partialParse)(e.message.content))),S)for(let{index:t,id:r,type:n,function:i,...o}of(e.message.tool_calls||(e.message.tool_calls=[]),S)){let l=(s=e.message.tool_calls)[t]??(s[t]={});Object.assign(l,o),r&&(l.id=r),n&&(l.type=n),i&&(l.function??(l.function={name:i.name??"",arguments:""})),i?.name&&(l.function.name=i.name),i?.arguments&&(l.function.arguments+=i.arguments,(0,_.shouldParseToolCall)(g(this,a,"f"),l)&&(l.function.parsed_arguments=(0,w.partialParse)(l.function.arguments)))}}return l},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("chunk",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new b.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function k(e){return JSON.stringify(e)}function x(e){}function E(e){}r.ChatCompletionStream=S},46704,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChatCompletionStreamingRunner=void 0;let n=e.r(46386);class a extends n.ChatCompletionStream{static fromReadableStream(e){let t=new a(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,r){let n=new a(null),i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,i)),n}static runTools(e,t,r){let n=new a(t),i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,i)),n}}r.ChatCompletionStreamingRunner=a},5174,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Completions=r.ChatCompletionRunner=r.ChatCompletionStream=r.ParsingToolFunction=r.ParsingFunction=r.ChatCompletionStreamingRunner=void 0;let n=e.r(8557),a=e.r(78051),i=e.r(46704),o=e.r(46386),s=e.r(26636);var l=e.r(46704);Object.defineProperty(r,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return l.ChatCompletionStreamingRunner}});var u=e.r(43443);Object.defineProperty(r,"ParsingFunction",{enumerable:!0,get:function(){return u.ParsingFunction}}),Object.defineProperty(r,"ParsingToolFunction",{enumerable:!0,get:function(){return u.ParsingToolFunction}});var d=e.r(46386);Object.defineProperty(r,"ChatCompletionStream",{enumerable:!0,get:function(){return d.ChatCompletionStream}});var c=e.r(78051);Object.defineProperty(r,"ChatCompletionRunner",{enumerable:!0,get:function(){return c.ChatCompletionRunner}});class p extends n.APIResource{parse(e,t){return(0,s.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(t=>(0,s.parseChatCompletion)(t,e))}runFunctions(e,t){return e.stream?i.ChatCompletionStreamingRunner.runFunctions(this._client,e,t):a.ChatCompletionRunner.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?i.ChatCompletionStreamingRunner.runTools(this._client,e,t):a.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return o.ChatCompletionStream.createChatCompletion(this._client,e,t)}}r.Completions=p},93458,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Chat=void 0;let o=e.r(8557),s=i(e.r(5174));class l extends o.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}r.Chat=l,(l=r.Chat||(r.Chat={})).Completions=s.Completions},29334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Sessions=void 0;let n=e.r(8557);class a extends n.APIResource{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}r.Sessions=a},60587,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TranscriptionSessions=void 0;let n=e.r(8557);class a extends n.APIResource{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}r.TranscriptionSessions=a},82318,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Realtime=void 0;let o=e.r(8557),s=i(e.r(29334)),l=e.r(29334),u=i(e.r(60587)),d=e.r(60587);class c extends o.APIResource{constructor(){super(...arguments),this.sessions=new s.Sessions(this._client),this.transcriptionSessions=new u.TranscriptionSessions(this._client)}}r.Realtime=c,c.Sessions=l.Sessions,c.TranscriptionSessions=d.TranscriptionSessions},38935,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessagesPage=r.Messages=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{create(e,t,r){return this._client.post(`/threads/${e}/messages`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,t,r,n){return this._client.post(`/threads/${e}/messages/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},r){return(0,a.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,s,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t,r){return this._client.delete(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}r.Messages=o;class s extends i.CursorPage{}r.MessagesPage=s,o.MessagesPage=s},26035,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RunStepsPage=r.Steps=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{retrieve(e,t,r,n={},i){return(0,a.isRequestOptions)(n)?this.retrieve(e,t,r,{},n):this._client.get(`/threads/${e}/runs/${t}/steps/${r}`,{query:n,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(e,t,r={},n){return(0,a.isRequestOptions)(r)?this.list(e,t,{},r):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,s,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}r.Steps=o;class s extends i.CursorPage{}r.RunStepsPage=s,o.RunStepsPage=s},18068,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.RunsPage=r.Runs=void 0;let o=e.r(8557),s=e.r(64490),l=e.r(44754),u=e.r(64490),d=i(e.r(26035)),c=e.r(26035),p=e.r(33229);class m extends o.APIResource{constructor(){super(...arguments),this.steps=new d.Steps(this._client)}create(e,t,r){let{include:n,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:n},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:t.stream??!1})}retrieve(e,t,r){return this._client.get(`/threads/${e}/runs/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,t,r,n){return this._client.post(`/threads/${e}/runs/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},r){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,h,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,t,r){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t,r);return await this.poll(e,n.id,r)}createAndStream(e,t,r){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:a,response:i}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...n}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{let e=i.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(o=t)}}await (0,u.sleep)(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,r){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r,n){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,t,r,n){let a=await this.submitToolOutputs(e,t,r,n);return await this.poll(e,a.id,n)}submitToolOutputsStream(e,t,r,n){return l.AssistantStream.createToolAssistantStream(e,t,this._client.beta.threads.runs,r,n)}}r.Runs=m;class h extends p.CursorPage{}r.RunsPage=h,m.RunsPage=h,m.Steps=c.Steps,m.RunStepsPage=c.RunStepsPage},12597,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Threads=void 0;let o=e.r(8557),s=e.r(64490),l=e.r(44754),u=i(e.r(38935)),d=e.r(38935),c=i(e.r(18068)),p=e.r(18068);class m extends o.APIResource{constructor(){super(...arguments),this.runs=new c.Runs(this._client),this.messages=new u.Messages(this._client)}create(e={},t){return(0,s.isRequestOptions)(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/threads/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){let r=await this.createAndRun(e,t);return await this.runs.poll(r.thread_id,r.id,t)}createAndRunStream(e,t){return l.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}r.Threads=m,m.Runs=p.Runs,m.RunsPage=p.RunsPage,m.Messages=d.Messages,m.MessagesPage=d.MessagesPage},29912,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Beta=void 0;let o=e.r(8557),s=i(e.r(84159)),l=i(e.r(93458)),u=e.r(84159),d=i(e.r(82318)),c=e.r(82318),p=i(e.r(12597)),m=e.r(12597);e.r(93458);class h extends o.APIResource{constructor(){super(...arguments),this.realtime=new d.Realtime(this._client),this.chat=new l.Chat(this._client),this.assistants=new s.Assistants(this._client),this.threads=new p.Threads(this._client)}}r.Beta=h,h.Realtime=c.Realtime,h.Assistants=u.Assistants,h.AssistantsPage=u.AssistantsPage,h.Threads=m.Threads},90825,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Completions=void 0;let n=e.r(8557);class a extends n.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}r.Completions=a},45457,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Content=void 0;let n=e.r(8557);class a extends n.APIResource{retrieve(e,t,r){return this._client.get(`/containers/${e}/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r?.headers},__binaryResponse:!0})}}r.Content=a},66740,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.FileListResponsesPage=r.Files=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(64490)),u=i(e.r(45457)),d=e.r(45457),c=e.r(33229);class p extends o.APIResource{constructor(){super(...arguments),this.content=new u.Content(this._client)}create(e,t,r){return this._client.post(`/containers/${e}/files`,l.multipartFormRequestOptions({body:t,...r}))}retrieve(e,t,r){return this._client.get(`/containers/${e}/files/${t}`,r)}list(e,t={},r){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/containers/${e}/files`,m,{query:t,...r})}del(e,t,r){return this._client.delete(`/containers/${e}/files/${t}`,{...r,headers:{Accept:"*/*",...r?.headers}})}}r.Files=p;class m extends c.CursorPage{}r.FileListResponsesPage=m,p.FileListResponsesPage=m,p.Content=d.Content},62577,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ContainerListResponsesPage=r.Containers=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(66740)),u=e.r(66740),d=e.r(33229);class c extends o.APIResource{constructor(){super(...arguments),this.files=new l.Files(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(`/containers/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/containers",p,{query:e,...t})}del(e,t){return this._client.delete(`/containers/${e}`,{...t,headers:{Accept:"*/*",...t?.headers}})}}r.Containers=c;class p extends d.CursorPage{}r.ContainerListResponsesPage=p,c.ContainerListResponsesPage=p,c.Files=u.Files,c.FileListResponsesPage=u.FileListResponsesPage},3593,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Embeddings=void 0;let o=e.r(8557),s=i(e.r(64490));class l extends o.APIResource{create(e,t){let r=!!e.encoding_format,n=r?e.encoding_format:"base64";r&&s.debug("Request","User defined encoding_format:",e.encoding_format);let a=this._client.post("/embeddings",{body:{...e,encoding_format:n},...t});return r?a:(s.debug("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{let t=e.embedding;e.embedding=s.toFloat32Array(t)}),e)))}}r.Embeddings=l},48559,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OutputItemListResponsesPage=r.OutputItems=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{retrieve(e,t,r,n){return this._client.get(`/evals/${e}/runs/${t}/output_items/${r}`,n)}list(e,t,r={},n){return(0,a.isRequestOptions)(r)?this.list(e,t,{},r):this._client.getAPIList(`/evals/${e}/runs/${t}/output_items`,s,{query:r,...n})}}r.OutputItems=o;class s extends i.CursorPage{}r.OutputItemListResponsesPage=s,o.OutputItemListResponsesPage=s},83250,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.RunListResponsesPage=r.Runs=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(48559)),u=e.r(48559),d=e.r(33229);class c extends o.APIResource{constructor(){super(...arguments),this.outputItems=new l.OutputItems(this._client)}create(e,t,r){return this._client.post(`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){return this._client.get(`/evals/${e}/runs/${t}`,r)}list(e,t={},r){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/evals/${e}/runs`,p,{query:t,...r})}del(e,t,r){return this._client.delete(`/evals/${e}/runs/${t}`,r)}cancel(e,t,r){return this._client.post(`/evals/${e}/runs/${t}`,r)}}r.Runs=c;class p extends d.CursorPage{}r.RunListResponsesPage=p,c.RunListResponsesPage=p,c.OutputItems=u.OutputItems,c.OutputItemListResponsesPage=u.OutputItemListResponsesPage},5531,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.EvalListResponsesPage=r.Evals=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(83250)),u=e.r(83250),d=e.r(33229);class c extends o.APIResource{constructor(){super(...arguments),this.runs=new l.Runs(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(`/evals/${e}`,t)}update(e,t,r){return this._client.post(`/evals/${e}`,{body:t,...r})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/evals",p,{query:e,...t})}del(e,t){return this._client.delete(`/evals/${e}`,t)}}r.Evals=c;class p extends d.CursorPage{}r.EvalListResponsesPage=p,c.EvalListResponsesPage=p,c.Runs=u.Runs,c.RunListResponsesPage=u.RunListResponsesPage},58549,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.FileObjectsPage=r.Files=void 0;let o=e.r(8557),s=e.r(64490),l=e.r(64490),u=e.r(43163),d=i(e.r(64490)),c=e.r(33229);class p extends o.APIResource{create(e,t){return this._client.post("/files",d.multipartFormRequestOptions({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/files",m,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t?.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=18e5}={}){let n=new Set(["processed","error","deleted"]),a=Date.now(),i=await this.retrieve(e);for(;!i.status||!n.has(i.status);)if(await (0,l.sleep)(t),i=await this.retrieve(e),Date.now()-a>r)throw new u.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return i}}r.Files=p;class m extends c.CursorPage{}r.FileObjectsPage=m,p.FileObjectsPage=m},68767,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Methods=void 0;let n=e.r(8557);class a extends n.APIResource{}r.Methods=a},85621,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Graders=void 0;let n=e.r(8557);class a extends n.APIResource{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}r.Graders=a},92757,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Alpha=void 0;let o=e.r(8557),s=i(e.r(85621)),l=e.r(85621);class u extends o.APIResource{constructor(){super(...arguments),this.graders=new s.Graders(this._client)}}r.Alpha=u,u.Graders=l.Graders},25297,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionCreateResponsesPage=r.Permissions=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{create(e,t,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,s,{body:t,method:"post",...r})}retrieve(e,t={},r){return(0,a.isRequestOptions)(t)?this.retrieve(e,{},t):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}del(e,t,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${t}`,r)}}r.Permissions=o;class s extends i.Page{}r.PermissionCreateResponsesPage=s,o.PermissionCreateResponsesPage=s},13122,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Checkpoints=void 0;let o=e.r(8557),s=i(e.r(25297)),l=e.r(25297);class u extends o.APIResource{constructor(){super(...arguments),this.permissions=new s.Permissions(this._client)}}r.Checkpoints=u,u.Permissions=l.Permissions,u.PermissionCreateResponsesPage=l.PermissionCreateResponsesPage},86201,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FineTuningJobCheckpointsPage=r.Checkpoints=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{list(e,t={},r){return(0,a.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,s,{query:t,...r})}}r.Checkpoints=o;class s extends i.CursorPage{}r.FineTuningJobCheckpointsPage=s,o.FineTuningJobCheckpointsPage=s},52382,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.FineTuningJobEventsPage=r.FineTuningJobsPage=r.Jobs=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(86201)),u=e.r(86201),d=e.r(33229);class c extends o.APIResource{constructor(){super(...arguments),this.checkpoints=new l.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",p,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return(0,s.isRequestOptions)(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,m,{query:t,...r})}pause(e,t){return this._client.post(`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(`/fine_tuning/jobs/${e}/resume`,t)}}r.Jobs=c;class p extends d.CursorPage{}r.FineTuningJobsPage=p;class m extends d.CursorPage{}r.FineTuningJobEventsPage=m,c.FineTuningJobsPage=p,c.FineTuningJobEventsPage=m,c.Checkpoints=u.Checkpoints,c.FineTuningJobCheckpointsPage=u.FineTuningJobCheckpointsPage},59472,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.FineTuning=void 0;let o=e.r(8557),s=i(e.r(68767)),l=e.r(68767),u=i(e.r(92757)),d=e.r(92757),c=i(e.r(13122)),p=e.r(13122),m=i(e.r(52382)),h=e.r(52382);class f extends o.APIResource{constructor(){super(...arguments),this.methods=new s.Methods(this._client),this.jobs=new m.Jobs(this._client),this.checkpoints=new c.Checkpoints(this._client),this.alpha=new u.Alpha(this._client)}}r.FineTuning=f,f.Methods=l.Methods,f.Jobs=h.Jobs,f.FineTuningJobsPage=h.FineTuningJobsPage,f.FineTuningJobEventsPage=h.FineTuningJobEventsPage,f.Checkpoints=p.Checkpoints,f.Alpha=d.Alpha},18648,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GraderModels=void 0;let n=e.r(8557);class a extends n.APIResource{}r.GraderModels=a},36575,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Graders=void 0;let o=e.r(8557),s=i(e.r(18648)),l=e.r(18648);class u extends o.APIResource{constructor(){super(...arguments),this.graderModels=new s.GraderModels(this._client)}}r.Graders=u,u.GraderModels=l.GraderModels},8869,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Images=void 0;let o=e.r(8557),s=i(e.r(64490));class l extends o.APIResource{createVariation(e,t){return this._client.post("/images/variations",s.multipartFormRequestOptions({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",s.multipartFormRequestOptions({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}r.Images=l},94709,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ModelsPage=r.Models=void 0;let n=e.r(8557),a=e.r(33229);class i extends n.APIResource{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",o,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}r.Models=i;class o extends a.Page{}r.ModelsPage=o,i.ModelsPage=o},78321,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Moderations=void 0;let n=e.r(8557);class a extends n.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}r.Moderations=a},4368,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addOutputText=r.validateInputTools=r.shouldParseToolCall=r.isAutoParsableTool=r.makeParseableResponseTool=r.hasAutoParseableInput=r.parseResponse=r.maybeParseResponse=void 0;let n=e.r(43163),a=e.r(26636);function i(e,t){let r=e.output.map(e=>{if("function_call"===e.type){var r,n;let a;return{...e,parsed_arguments:(r=t,n=e,a=l(r.tools??[],n.name),{...n,...n,parsed_arguments:s(a)?a.$parseRaw(n.arguments):a?.strict?JSON.parse(n.arguments):null})}}if("message"===e.type){let r=e.content.map(e=>{var r,n;return"output_text"===e.type?{...e,parsed:(r=t,n=e.text,r.text?.format?.type!=="json_schema"?null:"$parseRaw"in r.text?.format?(r.text?.format).$parseRaw(n):JSON.parse(n))}:e});return{...e,content:r}}return e}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||u(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let e of n.output)if("message"===e.type){for(let t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed}return null}}),n}function o(e){return!!(0,a.isAutoParsableResponseFormat)(e.text?.format)}function s(e){return e?.$brand==="auto-parseable-tool"}function l(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function u(e){let t=[];for(let r of e.output)if("message"===r.type)for(let e of r.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}r.maybeParseResponse=function(e,t){return t&&o(t)?i(e,t):{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)}},r.parseResponse=i,r.hasAutoParseableInput=o,r.makeParseableResponseTool=function(e,{parser:t,callback:r}){let n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n},r.isAutoParsableTool=s,r.shouldParseToolCall=function(e,t){if(!e)return!1;let r=l(e.tools??[],t.name);return s(r)||r?.strict||!1},r.validateInputTools=function(e){for(let t of e??[]){if("function"!==t.type)throw new n.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new n.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}},r.addOutputText=u},75588,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseItemsPage=r.InputItems=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(2198);Object.defineProperty(r,"ResponseItemsPage",{enumerable:!0,get:function(){return i.ResponseItemsPage}});class o extends n.APIResource{list(e,t={},r){return(0,a.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/responses/${e}/input_items`,i.ResponseItemsPage,{query:t,...r})}}r.InputItems=o},93571,(e,t,r)=>{"use strict";var n,a,i,o,s,l,u,d,c=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},p=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseStream=void 0;let m=e.r(43163),h=e.r(56132),f=e.r(4368);class g extends h.EventStream{constructor(e){super(),n.add(this),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c(this,a,e,"f")}static createResponse(e,t,r){let n=new g(t);return n._run(()=>n._createOrRetrieveResponse(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createOrRetrieveResponse(e,t,r){let a,i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),p(this,n,"m",s).call(this);let o=null;for await(let i of("response_id"in t?(a=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=t.starting_after??null):a=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected(),a))p(this,n,"m",l).call(this,i,o);if(a.controller.signal?.aborted)throw new m.APIUserAbortError;return p(this,n,"m",u).call(this)}[(a=new WeakMap,i=new WeakMap,o=new WeakMap,n=new WeakSet,s=function(){this.ended||c(this,i,void 0,"f")},l=function(e,t){if(this.ended)return;let r=(e,r)=>{(null==t||r.sequence_number>t)&&this._emit(e,r)},a=p(this,n,"m",d).call(this,e);switch(r("event",e),e.type){case"response.output_text.delta":{let t=a.output[e.output_index];if(!t)throw new m.OpenAIError(`missing output at index ${e.output_index}`);if("message"===t.type){let n=t.content[e.content_index];if(!n)throw new m.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==n.type)throw new m.OpenAIError(`expected content to be 'output_text', got ${n.type}`);r("response.output_text.delta",{...e,snapshot:n.text})}break}case"response.function_call_arguments.delta":{let t=a.output[e.output_index];if(!t)throw new m.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===t.type&&r("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:r(e.type,e)}},u=function(){var e,t;if(this.ended)throw new m.OpenAIError("stream has ended, this shouldn't happen");let r=p(this,i,"f");if(!r)throw new m.OpenAIError("request ended without sending any events");c(this,i,void 0,"f");let n=(e=r,t=p(this,a,"f"),(0,f.maybeParseResponse)(e,t));return c(this,o,n,"f"),n},d=function(e){let t=p(this,i,"f");if(!t){if("response.created"!==e.type)throw new m.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return c(this,i,e.response,"f")}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{let r=t.output[e.output_index];if(!r)throw new m.OpenAIError(`missing output at index ${e.output_index}`);"message"===r.type&&r.content.push(e.part);break}case"response.output_text.delta":{let r=t.output[e.output_index];if(!r)throw new m.OpenAIError(`missing output at index ${e.output_index}`);if("message"===r.type){let t=r.content[e.content_index];if(!t)throw new m.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new m.OpenAIError(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{let r=t.output[e.output_index];if(!r)throw new m.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===r.type&&(r.arguments+=e.delta);break}case"response.completed":c(this,i,e.response,"f")}return t},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=p(this,o,"f");if(!e)throw new m.OpenAIError("stream ended without producing a ChatCompletion");return e}}r.ResponseStream=g},2198,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseItemsPage=r.Responses=void 0;let o=e.r(4368),s=e.r(8557),l=i(e.r(75588)),u=e.r(75588),d=e.r(93571),c=e.r(33229);class p extends s.APIResource{constructor(){super(...arguments),this.inputItems=new l.InputItems(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,o.addOutputText)(e),e))}retrieve(e,t={},r){return this._client.get(`/responses/${e}`,{query:t,...r,stream:t?.stream??!1})}del(e,t){return this._client.delete(`/responses/${e}`,{...t,headers:{Accept:"*/*",...t?.headers}})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>(0,o.parseResponse)(t,e))}stream(e,t){return d.ResponseStream.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(`/responses/${e}/cancel`,{...t,headers:{Accept:"*/*",...t?.headers}})}}r.Responses=p;class m extends c.CursorPage{}r.ResponseItemsPage=m,p.InputItems=u.InputItems},93617,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Parts=void 0;let o=e.r(8557),s=i(e.r(64490));class l extends o.APIResource{create(e,t,r){return this._client.post(`/uploads/${e}/parts`,s.multipartFormRequestOptions({body:t,...r}))}}r.Parts=l},41516,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Uploads=void 0;let o=e.r(8557),s=i(e.r(93617)),l=e.r(93617);class u extends o.APIResource{constructor(){super(...arguments),this.parts=new s.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(`/uploads/${e}/complete`,{body:t,...r})}}r.Uploads=u,u.Parts=l.Parts},36195,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.allSettledWithThrow=void 0,r.allSettledWithThrow=async e=>{let t=await Promise.allSettled(e),r=t.filter(e=>"rejected"===e.status);if(r.length){for(let e of r)console.error(e.reason);throw Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let e of t)"fulfilled"===e.status&&n.push(e.value);return n}},49269,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FileContentResponsesPage=r.VectorStoreFilesPage=r.Files=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(33229);class o extends n.APIResource{create(e,t,r){return this._client.post(`/vector_stores/${e}/files`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,t,r,n){return this._client.post(`/vector_stores/${e}/files/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},r){return(0,a.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,s,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t,r){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t,r);return await this.poll(e,n.id,r)}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let i=await this.retrieve(e,t,{...r,headers:n}).withResponse(),o=i.data;switch(o.status){case"in_progress":let s=5e3;if(r?.pollIntervalMs)s=r.pollIntervalMs;else{let e=i.response.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(s=t)}}await (0,a.sleep)(s);break;case"failed":case"completed":return o}}}async upload(e,t,r){let n=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:n.id},r)}async uploadAndPoll(e,t,r){let n=await this.upload(e,t,r);return await this.poll(e,n.id,r)}content(e,t,r){return this._client.getAPIList(`/vector_stores/${e}/files/${t}/content`,l,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}r.Files=o;class s extends i.CursorPage{}r.VectorStoreFilesPage=s;class l extends i.Page{}r.FileContentResponsesPage=l,o.VectorStoreFilesPage=s,o.FileContentResponsesPage=l},90270,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VectorStoreFilesPage=r.FileBatches=void 0;let n=e.r(8557),a=e.r(64490),i=e.r(64490),o=e.r(36195),s=e.r(49269);Object.defineProperty(r,"VectorStoreFilesPage",{enumerable:!0,get:function(){return s.VectorStoreFilesPage}});class l extends n.APIResource{create(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t);return await this.poll(e,n.id,r)}listFiles(e,t,r={},n){return(0,a.isRequestOptions)(r)?this.listFiles(e,t,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,s.VectorStoreFilesPage,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:a,response:o}=await this.retrieve(e,t,{...r,headers:n}).withResponse();switch(a.status){case"in_progress":let s=5e3;if(r?.pollIntervalMs)s=r.pollIntervalMs;else{let e=o.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(s=t)}}await (0,i.sleep)(s);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},n){if(null==t||0==t.length)throw Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let a=Math.min(n?.maxConcurrency??5,t.length),i=this._client,s=t.values(),l=[...r];async function u(e){for(let t of e){let e=await i.files.create({file:t,purpose:"assistants"},n);l.push(e.id)}}let d=Array(a).fill(s).map(u);return await (0,o.allSettledWithThrow)(d),await this.createAndPoll(e,{file_ids:l})}}r.FileBatches=l},51147,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.VectorStoreSearchResponsesPage=r.VectorStoresPage=r.VectorStores=void 0;let o=e.r(8557),s=e.r(64490),l=i(e.r(90270)),u=e.r(90270),d=i(e.r(49269)),c=e.r(49269),p=e.r(33229);class m extends o.APIResource{constructor(){super(...arguments),this.files=new d.Files(this._client),this.fileBatches=new l.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/vector_stores/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/vector_stores",h,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}search(e,t,r){return this._client.getAPIList(`/vector_stores/${e}/search`,f,{body:t,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}r.VectorStores=m;class h extends p.CursorPage{}r.VectorStoresPage=h;class f extends p.Page{}r.VectorStoreSearchResponsesPage=f,m.VectorStoresPage=h,m.VectorStoreSearchResponsesPage=f,m.Files=c.Files,m.VectorStoreFilesPage=c.VectorStoreFilesPage,m.FileContentResponsesPage=c.FileContentResponsesPage,m.FileBatches=u.FileBatches},22044,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.VectorStores=r.VectorStoreSearchResponsesPage=r.VectorStoresPage=r.Uploads=r.Responses=r.Moderations=r.Models=r.ModelsPage=r.Images=r.Graders=r.FineTuning=r.Files=r.FileObjectsPage=r.Evals=r.EvalListResponsesPage=r.Embeddings=r.Containers=r.ContainerListResponsesPage=r.Completions=r.Beta=r.Batches=r.BatchesPage=r.Audio=void 0,a(e.r(56379),r),a(e.r(55362),r);var i=e.r(50479);Object.defineProperty(r,"Audio",{enumerable:!0,get:function(){return i.Audio}});var o=e.r(89274);Object.defineProperty(r,"BatchesPage",{enumerable:!0,get:function(){return o.BatchesPage}}),Object.defineProperty(r,"Batches",{enumerable:!0,get:function(){return o.Batches}});var s=e.r(29912);Object.defineProperty(r,"Beta",{enumerable:!0,get:function(){return s.Beta}});var l=e.r(90825);Object.defineProperty(r,"Completions",{enumerable:!0,get:function(){return l.Completions}});var u=e.r(62577);Object.defineProperty(r,"ContainerListResponsesPage",{enumerable:!0,get:function(){return u.ContainerListResponsesPage}}),Object.defineProperty(r,"Containers",{enumerable:!0,get:function(){return u.Containers}});var d=e.r(3593);Object.defineProperty(r,"Embeddings",{enumerable:!0,get:function(){return d.Embeddings}});var c=e.r(5531);Object.defineProperty(r,"EvalListResponsesPage",{enumerable:!0,get:function(){return c.EvalListResponsesPage}}),Object.defineProperty(r,"Evals",{enumerable:!0,get:function(){return c.Evals}});var p=e.r(58549);Object.defineProperty(r,"FileObjectsPage",{enumerable:!0,get:function(){return p.FileObjectsPage}}),Object.defineProperty(r,"Files",{enumerable:!0,get:function(){return p.Files}});var m=e.r(59472);Object.defineProperty(r,"FineTuning",{enumerable:!0,get:function(){return m.FineTuning}});var h=e.r(36575);Object.defineProperty(r,"Graders",{enumerable:!0,get:function(){return h.Graders}});var f=e.r(8869);Object.defineProperty(r,"Images",{enumerable:!0,get:function(){return f.Images}});var g=e.r(94709);Object.defineProperty(r,"ModelsPage",{enumerable:!0,get:function(){return g.ModelsPage}}),Object.defineProperty(r,"Models",{enumerable:!0,get:function(){return g.Models}});var y=e.r(78321);Object.defineProperty(r,"Moderations",{enumerable:!0,get:function(){return y.Moderations}});var v=e.r(2198);Object.defineProperty(r,"Responses",{enumerable:!0,get:function(){return v.Responses}});var b=e.r(41516);Object.defineProperty(r,"Uploads",{enumerable:!0,get:function(){return b.Uploads}});var _=e.r(51147);Object.defineProperty(r,"VectorStoresPage",{enumerable:!0,get:function(){return _.VectorStoresPage}}),Object.defineProperty(r,"VectorStoreSearchResponsesPage",{enumerable:!0,get:function(){return _.VectorStoreSearchResponsesPage}}),Object.defineProperty(r,"VectorStores",{enumerable:!0,get:function(){return _.VectorStores}})},69871,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.UnprocessableEntityError=r.PermissionDeniedError=r.InternalServerError=r.AuthenticationError=r.BadRequestError=r.RateLimitError=r.ConflictError=r.NotFoundError=r.APIUserAbortError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIError=r.OpenAIError=r.fileFromPath=r.toFile=r.AzureOpenAI=r.OpenAI=void 0;let o=i(e.r(22093)),s=i(e.r(64490)),l=i(e.r(43163));i(e.r(33229));let u=i(e.r(27393)),d=i(e.r(22044)),c=e.r(89274),p=e.r(90825),m=e.r(3593),h=e.r(58549),f=e.r(8869),g=e.r(94709),y=e.r(78321),v=e.r(50479),b=e.r(29912),_=e.r(93685),w=e.r(62577),S=e.r(5531),k=e.r(59472),x=e.r(36575),E=e.r(2198),T=e.r(41516),O=e.r(51147),I=e.r(31392);class P extends s.APIClient{constructor({baseURL:e=s.readEnv("OPENAI_BASE_URL"),apiKey:t=s.readEnv("OPENAI_API_KEY"),organization:r=s.readEnv("OPENAI_ORG_ID")??null,project:n=s.readEnv("OPENAI_PROJECT_ID")??null,...a}={}){if(void 0===t)throw new l.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:r,project:n,...a,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&s.isRunningInBrowser())throw new l.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new d.Completions(this),this.chat=new d.Chat(this),this.embeddings=new d.Embeddings(this),this.files=new d.Files(this),this.images=new d.Images(this),this.audio=new d.Audio(this),this.moderations=new d.Moderations(this),this.models=new d.Models(this),this.fineTuning=new d.FineTuning(this),this.graders=new d.Graders(this),this.vectorStores=new d.VectorStores(this),this.beta=new d.Beta(this),this.batches=new d.Batches(this),this.uploads=new d.Uploads(this),this.responses=new d.Responses(this),this.evals=new d.Evals(this),this.containers=new d.Containers(this),this._options=i,this.apiKey=t,this.organization=r,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return o.stringify(e,{arrayFormat:"brackets"})}}r.OpenAI=P,P.OpenAI=P,P.DEFAULT_TIMEOUT=6e5,P.OpenAIError=l.OpenAIError,P.APIError=l.APIError,P.APIConnectionError=l.APIConnectionError,P.APIConnectionTimeoutError=l.APIConnectionTimeoutError,P.APIUserAbortError=l.APIUserAbortError,P.NotFoundError=l.NotFoundError,P.ConflictError=l.ConflictError,P.RateLimitError=l.RateLimitError,P.BadRequestError=l.BadRequestError,P.AuthenticationError=l.AuthenticationError,P.InternalServerError=l.InternalServerError,P.PermissionDeniedError=l.PermissionDeniedError,P.UnprocessableEntityError=l.UnprocessableEntityError,P.toFile=u.toFile,P.fileFromPath=u.fileFromPath,P.Completions=p.Completions,P.Chat=_.Chat,P.ChatCompletionsPage=I.ChatCompletionsPage,P.Embeddings=m.Embeddings,P.Files=h.Files,P.FileObjectsPage=h.FileObjectsPage,P.Images=f.Images,P.Audio=v.Audio,P.Moderations=y.Moderations,P.Models=g.Models,P.ModelsPage=g.ModelsPage,P.FineTuning=k.FineTuning,P.Graders=x.Graders,P.VectorStores=O.VectorStores,P.VectorStoresPage=O.VectorStoresPage,P.VectorStoreSearchResponsesPage=O.VectorStoreSearchResponsesPage,P.Beta=b.Beta,P.Batches=c.Batches,P.BatchesPage=c.BatchesPage,P.Uploads=T.Uploads,P.Responses=E.Responses,P.Evals=S.Evals,P.EvalListResponsesPage=S.EvalListResponsesPage,P.Containers=w.Containers,P.ContainerListResponsesPage=w.ContainerListResponsesPage;class C extends P{constructor({baseURL:e=s.readEnv("OPENAI_BASE_URL"),apiKey:t=s.readEnv("AZURE_OPENAI_API_KEY"),apiVersion:r=s.readEnv("OPENAI_API_VERSION"),endpoint:n,deployment:a,azureADTokenProvider:i,dangerouslyAllowBrowser:o,...u}={}){if(!r)throw new l.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof i&&(o=!0),!i&&!t)throw new l.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(i&&t)throw new l.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=j),u.defaultQuery={...u.defaultQuery,"api-version":r},e){if(n)throw new l.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(n||(n=process.env.AZURE_OPENAI_ENDPOINT),!n)throw new l.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${n}/openai`}super({apiKey:t,baseURL:e,...u,...void 0!==o?{dangerouslyAllowBrowser:o}:{}}),this.apiVersion="",this._azureADTokenProvider=i,this.apiVersion=r,this.deploymentName=a}buildRequest(e,t={}){if(A.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!s.isObj(e.body))throw Error("Expected request body to be an object");let t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){let e=await this._azureADTokenProvider();if(!e||"string"!=typeof e)throw new l.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}authHeaders(e){return{}}async prepareOptions(e){if(e.headers?.["api-key"])return super.prepareOptions(e);let t=await this._getAzureADToken();if(e.headers??(e.headers={}),t)e.headers.Authorization=`Bearer ${t}`;else if(this.apiKey!==j)e.headers["api-key"]=this.apiKey;else throw new l.OpenAIError("Unable to handle auth");return super.prepareOptions(e)}}r.AzureOpenAI=C;let A=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/images/edits"]),j="<Missing Key>";var z=e.r(27393);Object.defineProperty(r,"toFile",{enumerable:!0,get:function(){return z.toFile}}),Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return z.fileFromPath}});var R=e.r(43163);Object.defineProperty(r,"OpenAIError",{enumerable:!0,get:function(){return R.OpenAIError}}),Object.defineProperty(r,"APIError",{enumerable:!0,get:function(){return R.APIError}}),Object.defineProperty(r,"APIConnectionError",{enumerable:!0,get:function(){return R.APIConnectionError}}),Object.defineProperty(r,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return R.APIConnectionTimeoutError}}),Object.defineProperty(r,"APIUserAbortError",{enumerable:!0,get:function(){return R.APIUserAbortError}}),Object.defineProperty(r,"NotFoundError",{enumerable:!0,get:function(){return R.NotFoundError}}),Object.defineProperty(r,"ConflictError",{enumerable:!0,get:function(){return R.ConflictError}}),Object.defineProperty(r,"RateLimitError",{enumerable:!0,get:function(){return R.RateLimitError}}),Object.defineProperty(r,"BadRequestError",{enumerable:!0,get:function(){return R.BadRequestError}}),Object.defineProperty(r,"AuthenticationError",{enumerable:!0,get:function(){return R.AuthenticationError}}),Object.defineProperty(r,"InternalServerError",{enumerable:!0,get:function(){return R.InternalServerError}}),Object.defineProperty(r,"PermissionDeniedError",{enumerable:!0,get:function(){return R.PermissionDeniedError}}),Object.defineProperty(r,"UnprocessableEntityError",{enumerable:!0,get:function(){return R.UnprocessableEntityError}}),r=t.exports=P,t.exports.AzureOpenAI=C,r.default=P},92050,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="2.6.0"},43589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InternalServerError=r.RateLimitError=r.UnprocessableEntityError=r.ConflictError=r.NotFoundError=r.PermissionDeniedError=r.AuthenticationError=r.BadRequestError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIUserAbortError=r.APIError=r.BrowserbaseError=void 0;let n=e.r(77391);class a extends Error{}r.BrowserbaseError=a;class i extends a{constructor(e,t,r,n){super(`${i.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.error=t}static makeMessage(e,t,r){let n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,a){return e&&a?400===e?new s(e,t,r,a):401===e?new l(e,t,r,a):403===e?new u(e,t,r,a):404===e?new d(e,t,r,a):409===e?new c(e,t,r,a):422===e?new p(e,t,r,a):429===e?new m(e,t,r,a):e>=500?new h(e,t,r,a):new i(e,t,r,a):new o({message:r,cause:(0,n.castToError)(t)})}}r.APIError=i,r.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class o extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}r.APIConnectionError=o,r.APIConnectionTimeoutError=class extends o{constructor({message:e}={}){super({message:e??"Request timed out."})}};class s extends i{}r.BadRequestError=s;class l extends i{}r.AuthenticationError=l;class u extends i{}r.PermissionDeniedError=u;class d extends i{}r.NotFoundError=d;class c extends i{}r.ConflictError=c;class p extends i{}r.UnprocessableEntityError=p;class m extends i{}r.RateLimitError=m;class h extends i{}r.InternalServerError=h},30949,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFsReadStream=r.fileFromPath=r.getDefaultAgent=r.getMultipartRequestOptions=r.ReadableStream=r.File=r.Blob=r.FormData=r.Headers=r.Response=r.Request=r.fetch=r.kind=r.auto=void 0,r.setShims=function(e,t={auto:!1}){if(r.auto)throw Error(`you must \`import '@browserbasehq/sdk/shims/${e.kind}'\` before importing anything else from @browserbasehq/sdk`);if(r.kind)throw Error(`can't \`import '@browserbasehq/sdk/shims/${e.kind}'\` after \`import '@browserbasehq/sdk/shims/${r.kind}'\``);r.auto=t.auto,r.kind=e.kind,r.fetch=e.fetch,r.Request=e.Request,r.Response=e.Response,r.Headers=e.Headers,r.FormData=e.FormData,r.Blob=e.Blob,r.File=e.File,r.ReadableStream=e.ReadableStream,r.getMultipartRequestOptions=e.getMultipartRequestOptions,r.getDefaultAgent=e.getDefaultAgent,r.fileFromPath=e.fileFromPath,r.isFsReadStream=e.isFsReadStream},r.auto=!1,r.kind=void 0,r.fetch=void 0,r.Request=void 0,r.Response=void 0,r.Headers=void 0,r.FormData=void 0,r.Blob=void 0,r.File=void 0,r.ReadableStream=void 0,r.getMultipartRequestOptions=void 0,r.getDefaultAgent=void 0,r.fileFromPath=void 0,r.isFsReadStream=void 0},2552,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultipartBody=void 0;class n{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}r.MultipartBody=n},36699,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getRuntime=function(){return"u"<typeof AbortController&&(globalThis.AbortController=d.AbortController),{kind:"node",fetch:s.default,Request:s.Request,Response:s.Response,Headers:s.Headers,FormData:l.FormData,Blob:l.Blob,File:l.File,ReadableStream:f.ReadableStream,getMultipartRequestOptions:_,getDefaultAgent:e=>e.startsWith("https")?b:v,fileFromPath:y,isFsReadStream:e=>e instanceof c.ReadStream}};let s=i(e.r(56569)),l=i(e.r(52840)),u=o(e.r(63345)),d=e.r(37282),c=e.r(2157),p=e.r(67262),m=e.r(81111),h=e.r(2552),f=e.r(18352),g=!1;async function y(t,...r){let{fileFromPath:n}=await Promise.resolve().then(()=>i(e.r(17144)));return g||(console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(t)}) instead`),g=!0),await n(t,...r)}let v=new u.default({keepAlive:!0,timeout:3e5}),b=new u.default.HttpsAgent({keepAlive:!0,timeout:3e5});async function _(e,t){let r=new p.FormDataEncoder(e),n=m.Readable.from(r),a=new h.MultipartBody(n),i={...t.headers,...r.headers,"Content-Length":r.contentLength};return{...t,body:a,headers:i}}},56326,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(36699),r)},71350,(e,t,r)=>{let n=e.r(30949),a=e.r(56326);for(let e of(r.init=()=>{n.kind||n.setShims(a.getRuntime(),{auto:!0})},Object.keys(n)))Object.defineProperty(r,e,{get:()=>n[e]});r.init()},72003,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=r.isMultipartBody=r.isUploadable=r.isBlobLike=r.isFileLike=r.isResponseLike=r.fileFromPath=void 0,r.toFile=i;let n=e.r(71350);var a=e.r(71350);async function i(e,t,a){var i;if(e=await e,(0,r.isFileLike)(e))return e;if((0,r.isResponseLike)(e)){let i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let o=(0,r.isBlobLike)(i)?[await i.arrayBuffer()]:[i];return new n.File(o,t,a)}let l=await o(e);if(t||(t=(s((i=e).name)||s(i.filename)||s(i.path)?.split(/[\\/]/).pop())??"unknown_file"),!a?.type){let e=l[0]?.type;"string"==typeof e&&(a={...a,type:e})}return new n.File(l,t,a)}async function o(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if((0,r.isBlobLike)(e))t.push(await e.arrayBuffer());else if(l(e))for await(let r of e)t.push(r);else{let t;throw Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${(t=Object.getOwnPropertyNames(e),`[${t.map(e=>`"${e}"`).join(", ")}]`)}`)}return t}Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return a.fileFromPath}}),r.isResponseLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,r.isFileLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&(0,r.isBlobLike)(e),r.isBlobLike=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,r.isUploadable=e=>(0,r.isFileLike)(e)||(0,r.isResponseLike)(e)||(0,n.isFsReadStream)(e);let s=e=>"string"==typeof e?e:"u">typeof Buffer&&e instanceof Buffer?String(e):void 0,l=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];r.isMultipartBody=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag];let u=async e=>{if(!c(e.body))return e;let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.maybeMultipartFormRequestOptions=u;let d=async e=>{let t=await (0,r.createForm)(e.body);return(0,n.getMultipartRequestOptions)(t,e)};r.multipartFormRequestOptions=d,r.createForm=async e=>{let t=new n.FormData;return await Promise.all(Object.entries(e||{}).map(([e,r])=>p(t,e,r))),t};let c=e=>{if((0,r.isUploadable)(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e){for(let t in e)if(c(e[t]))return!0}return!1},p=async(e,t,n)=>{if(void 0!==n){if(null==n)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if((0,r.isUploadable)(n)){let r=await i(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>p(e,t+"[]",r)));else if("object"==typeof n)await Promise.all(Object.entries(n).map(([r,n])=>p(e,`${t}[${r}]`,n)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}}},77391,(e,t,r)=>{"use strict";let n;var a,i=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.toBase64=r.getHeader=r.getRequiredHeader=r.isHeadersProtocol=r.isRunningInBrowser=r.maybeCoerceBoolean=r.maybeCoerceFloat=r.maybeCoerceInteger=r.coerceBoolean=r.coerceFloat=r.coerceInteger=r.readEnv=r.ensurePresent=r.castToError=r.sleep=r.safeJSON=r.isRequestOptions=r.createResponseHeaders=r.PagePromise=r.AbstractPage=r.APIClient=r.APIPromise=r.createForm=r.multipartFormRequestOptions=r.maybeMultipartFormRequestOptions=void 0,r.isEmptyObj=k,r.hasOwn=x,r.debug=T,r.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};let s=e.r(92050),l=e.r(43589),u=e.r(71350);(0,u.init)();let d=e.r(72003);var c=e.r(72003);async function p(e){let{response:t}=e;if(204===t.status)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type"),n=r?.split(";")[0]?.trim();if(n?.includes("application/json")||n?.endsWith("+json")){let e=await t.json();return T("response",t.status,t.url,t.headers,e),e}let a=await t.text();return T("response",t.status,t.url,t.headers,a),a}Object.defineProperty(r,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return c.maybeMultipartFormRequestOptions}}),Object.defineProperty(r,"multipartFormRequestOptions",{enumerable:!0,get:function(){return c.multipartFormRequestOptions}}),Object.defineProperty(r,"createForm",{enumerable:!0,get:function(){return c.createForm}});class m extends Promise{constructor(e,t=p){super(e=>{e(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new m(this.responsePromise,async t=>e(await this.parseResponse(t),t))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}r.APIPromise=m,r.APIClient=class{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e4,httpAgent:n,fetch:a}){this.baseURL=e,this.maxRetries=S("maxRetries",t),this.timeout=S("timeout",r),this.httpAgent=n,this.fetch=a??u.fetch}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...b(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${O()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async r=>{let n=r&&(0,d.isBlobLike)(r?.body)?new DataView(await r.body.arrayBuffer()):r?.body instanceof DataView?r.body:r?.body instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r?.body)?new DataView(r.body.buffer):r?.body;return{method:e,path:t,...r,body:n}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if("string"==typeof e){if("u">typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("u">typeof TextEncoder)return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){let r={...e},{method:n,path:a,query:i,headers:o={}}=r,s=ArrayBuffer.isView(r.body)||r.__binaryRequest&&"string"==typeof r.body?r.body:(0,d.isMultipartBody)(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,l=this.calculateContentLength(s),c=this.buildURL(a,i);"timeout"in r&&S("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let p=r.httpAgent??this.httpAgent??(0,u.getDefaultAgent)(c),m=r.timeout+1e3;"number"==typeof p?.options?.timeout&&m>(p.options.timeout??0)&&(p.options.timeout=m),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let h=this.buildHeaders({options:r,headers:o,contentLength:l,retryCount:t});return{req:{method:n,...s&&{body:s},headers:h,...p&&{agent:p},signal:r.signal??null},url:c,timeout:r.timeout}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:a}){let i={};n&&(i["content-length"]=n);let o=this.defaultHeaders(e);return E(i,o),E(i,t),(0,d.isMultipartBody)(e.body)&&"node"!==u.kind&&delete i["content-type"],void 0===(0,r.getHeader)(o,"x-stainless-retry-count")&&void 0===(0,r.getHeader)(t,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(a)),void 0===(0,r.getHeader)(o,"x-stainless-timeout")&&void 0===(0,r.getHeader)(t,"x-stainless-timeout")&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,t),i}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(e=>[...e])):{...e}:{}}makeStatusError(e,t,r,n){return l.APIError.generate(e,t,r,n)}request(e,t=null){return new m(this.makeRequest(e,t))}async makeRequest(e,t){let n=await e,a=n.maxRetries??this.maxRetries;null==t&&(t=a),await this.prepareOptions(n);let{req:i,url:o,timeout:s}=this.buildRequest(n,{retryCount:a-t});if(await this.prepareRequest(i,{url:o,options:n}),T("request",o,n,i.headers),n.signal?.aborted)throw new l.APIUserAbortError;let u=new AbortController,d=await this.fetchWithTimeout(o,i,s,u).catch(r.castToError);if(d instanceof Error){if(n.signal?.aborted)throw new l.APIUserAbortError;if(t)return this.retryRequest(n,t);if("AbortError"===d.name)throw new l.APIConnectionTimeoutError;throw new l.APIConnectionError({cause:d})}let c=(0,r.createResponseHeaders)(d.headers);if(!d.ok){if(t&&this.shouldRetry(d)){let e=`retrying, ${t} attempts remaining`;return T(`response (error; ${e})`,d.status,o,c),this.retryRequest(n,t,c)}let e=await d.text().catch(e=>(0,r.castToError)(e).message),a=(0,r.safeJSON)(e),i=a?void 0:e,s=t?"(error; no more retries left)":"(error; not retryable)";throw T(`response (error; ${s})`,d.status,o,c,i),this.makeStatusError(d.status,a,i,c)}return{response:d,options:n,controller:u}}requestAPIList(e,t){return new f(this,this.makeRequest(t,null),e)}buildURL(e,t){let r=new URL(w(e)?e:this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return k(n)||(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new l.BrowserbaseError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,n){let{signal:a,...i}=t||{};a&&a.addEventListener("abort",()=>n.abort());let o=setTimeout(()=>n.abort(),r),s={signal:n.signal,...i};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(o)})}shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,n){let a,i=n?.["retry-after-ms"];if(i){let e=parseFloat(i);Number.isNaN(e)||(a=e)}let o=n?.["retry-after"];if(o&&!a){let e=parseFloat(o);a=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){let r=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,r)}return await (0,r.sleep)(a),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${s.VERSION}`}};class h{constructor(e,t,r,n){a.set(this,void 0),i(this,a,e,"f"),this.options=n,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new l.BrowserbaseError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){for(let[r,n]of[...Object.entries(t.query||{}),...e.url.searchParams.entries()])e.url.searchParams.set(r,n);t.query=void 0,t.path=e.url.toString()}return await o(this,a,"f").requestAPIList(this.constructor,t)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(a=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}r.AbstractPage=h;class f extends m{constructor(e,t,r){super(t,async t=>new r(e,t.response,await p(t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}r.PagePromise=f,r.createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){let r=t.toString();return e[r.toLowerCase()]||e[r]}});let g={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0};r.isRequestOptions=e=>"object"==typeof e&&null!==e&&!k(e)&&Object.keys(e).every(e=>x(g,e));let y=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",v=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown",b=()=>n??(n=(()=>{if("u">typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":v(Deno.build.os),"X-Stainless-Arch":y(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("u">typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("u">typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":v(process.platform),"X-Stainless-Arch":y(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=function(){if("u"<typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,n=r[2]||0,a=r[3]||0;return{browser:e,version:`${t}.${n}.${a}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());r.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}};let _=/^[a-z][a-z0-9+.-]*:/i,w=e=>_.test(e);r.sleep=e=>new Promise(t=>setTimeout(t,e));let S=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new l.BrowserbaseError(`${e} must be an integer`);if(t<0)throw new l.BrowserbaseError(`${e} must be a positive integer`);return t};function k(e){if(!e)return!0;for(let t in e)return!1;return!0}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){for(let r in t){if(!x(t,r))continue;let n=r.toLowerCase();if(!n)continue;let a=t[r];null===a?delete e[n]:void 0!==a&&(e[n]=a)}}function T(e,...t){"u">typeof process&&process?.env?.DEBUG==="true"&&console.log(`Browserbase:DEBUG:${e}`,...t)}r.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return Error(JSON.stringify(e))}catch{}return Error(e)},r.ensurePresent=e=>{if(null==e)throw new l.BrowserbaseError(`Expected a value to be given but received ${e} instead.`);return e},r.readEnv=e=>"u">typeof process?process.env?.[e]?.trim()??void 0:"u">typeof Deno?Deno.env?.get?.(e)?.trim():void 0,r.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new l.BrowserbaseError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new l.BrowserbaseError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},r.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:!!e,r.maybeCoerceInteger=e=>{if(void 0!==e)return(0,r.coerceInteger)(e)},r.maybeCoerceFloat=e=>{if(void 0!==e)return(0,r.coerceFloat)(e)},r.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,r.coerceBoolean)(e)};let O=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});r.isRunningInBrowser=()=>!1,r.isHeadersProtocol=e=>"function"==typeof e?.get,r.getRequiredHeader=(e,t)=>{let n=(0,r.getHeader)(e,t);if(void 0===n)throw Error(`Could not find ${t} header`);return n},r.getHeader=(e,t)=>{let n=t.toLowerCase();if((0,r.isHeadersProtocol)(e)){let r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(e,t,r)=>t+r.toUpperCase());for(let a of[t,n,t.toUpperCase(),r]){let t=e.get(a);if(t)return t}}for(let[r,a]of Object.entries(e))if(r.toLowerCase()===n){if(Array.isArray(a)){if(a.length<=1)return a[0];return console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]}return a}},r.toBase64=e=>{if(!e)return"";if("u">typeof Buffer)return Buffer.from(e).toString("base64");if("u">typeof btoa)return btoa(e);throw new l.BrowserbaseError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")}},56627,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.APIResource=void 0,r.APIResource=class{constructor(e){this._client=e}}},81114,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Contexts=void 0;let n=e.r(56627);class a extends n.APIResource{create(e,t){return this._client.post("/v1/contexts",{body:e,...t})}retrieve(e,t){return this._client.get(`/v1/contexts/${e}`,t)}update(e,t){return this._client.put(`/v1/contexts/${e}`,t)}}r.Contexts=a},8918,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Extensions=void 0;let o=e.r(56627),s=i(e.r(77391));class l extends o.APIResource{create(e,t){return this._client.post("/v1/extensions",s.multipartFormRequestOptions({body:e,...t}))}retrieve(e,t){return this._client.get(`/v1/extensions/${e}`,t)}delete(e,t){return this._client.delete(`/v1/extensions/${e}`,{...t,headers:{Accept:"*/*",...t?.headers}})}}r.Extensions=l},89485,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Projects=void 0;let n=e.r(56627);class a extends n.APIResource{retrieve(e,t){return this._client.get(`/v1/projects/${e}`,t)}list(e){return this._client.get("/v1/projects",e)}usage(e,t){return this._client.get(`/v1/projects/${e}/usage`,t)}}r.Projects=a},59382,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Downloads=void 0;let n=e.r(56627);class a extends n.APIResource{list(e,t){return this._client.get(`/v1/sessions/${e}/downloads`,{...t,headers:{Accept:"application/zip",...t?.headers},__binaryResponse:!0})}}r.Downloads=a},59562,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Logs=void 0;let n=e.r(56627);class a extends n.APIResource{list(e,t){return this._client.get(`/v1/sessions/${e}/logs`,t)}}r.Logs=a},55176,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Recording=void 0;let n=e.r(56627);class a extends n.APIResource{retrieve(e,t){return this._client.get(`/v1/sessions/${e}/recording`,t)}}r.Recording=a},24155,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Uploads=void 0;let o=e.r(56627),s=i(e.r(77391));class l extends o.APIResource{create(e,t,r){return this._client.post(`/v1/sessions/${e}/uploads`,s.multipartFormRequestOptions({body:t,...r}))}}r.Uploads=l},14034,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Sessions=void 0;let o=e.r(56627),s=e.r(77391),l=i(e.r(59382)),u=e.r(59382),d=i(e.r(59562)),c=e.r(59562),p=i(e.r(55176)),m=e.r(55176),h=i(e.r(24155)),f=e.r(24155);class g extends o.APIResource{constructor(){super(...arguments),this.downloads=new l.Downloads(this._client),this.logs=new d.Logs(this._client),this.recording=new p.Recording(this._client),this.uploads=new h.Uploads(this._client)}create(e,t){return this._client.post("/v1/sessions",{body:e,...t})}retrieve(e,t){return this._client.get(`/v1/sessions/${e}`,t)}update(e,t,r){return this._client.post(`/v1/sessions/${e}`,{body:t,...r})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.get("/v1/sessions",{query:e,...t})}debug(e,t){return this._client.get(`/v1/sessions/${e}/debug`,t)}}r.Sessions=g,g.Downloads=u.Downloads,g.Logs=c.Logs,g.Recording=m.Recording,g.Uploads=f.Uploads},39841,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Sessions=r.Projects=r.Extensions=r.Contexts=void 0;var n=e.r(81114);Object.defineProperty(r,"Contexts",{enumerable:!0,get:function(){return n.Contexts}});var a=e.r(8918);Object.defineProperty(r,"Extensions",{enumerable:!0,get:function(){return a.Extensions}});var i=e.r(89485);Object.defineProperty(r,"Projects",{enumerable:!0,get:function(){return i.Projects}});var o=e.r(14034);Object.defineProperty(r,"Sessions",{enumerable:!0,get:function(){return o.Sessions}})},11043,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.UnprocessableEntityError=r.PermissionDeniedError=r.InternalServerError=r.AuthenticationError=r.BadRequestError=r.RateLimitError=r.ConflictError=r.NotFoundError=r.APIUserAbortError=r.APIConnectionTimeoutError=r.APIConnectionError=r.APIError=r.BrowserbaseError=r.fileFromPath=r.toFile=r.Browserbase=void 0;let o=i(e.r(77391)),s=i(e.r(43589)),l=i(e.r(72003)),u=i(e.r(39841)),d=e.r(81114),c=e.r(8918),p=e.r(89485),m=e.r(14034);class h extends o.APIClient{constructor({baseURL:e=o.readEnv("BROWSERBASE_BASE_URL"),apiKey:t=o.readEnv("BROWSERBASE_API_KEY"),...r}={}){if(void 0===t)throw new s.BrowserbaseError("The BROWSERBASE_API_KEY environment variable is missing or empty; either provide it, or instantiate the Browserbase client with an apiKey option, like new Browserbase({ apiKey: 'My API Key' }).");const n={apiKey:t,...r,baseURL:e||"https://api.browserbase.com"};super({baseURL:n.baseURL,timeout:n.timeout??6e4,httpAgent:n.httpAgent,maxRetries:n.maxRetries,fetch:n.fetch}),this.contexts=new u.Contexts(this),this.extensions=new u.Extensions(this),this.projects=new u.Projects(this),this.sessions=new u.Sessions(this),this._options=n,this.apiKey=t}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{"X-BB-API-Key":this.apiKey}}}r.Browserbase=h,h.Browserbase=h,h.DEFAULT_TIMEOUT=6e4,h.BrowserbaseError=s.BrowserbaseError,h.APIError=s.APIError,h.APIConnectionError=s.APIConnectionError,h.APIConnectionTimeoutError=s.APIConnectionTimeoutError,h.APIUserAbortError=s.APIUserAbortError,h.NotFoundError=s.NotFoundError,h.ConflictError=s.ConflictError,h.RateLimitError=s.RateLimitError,h.BadRequestError=s.BadRequestError,h.AuthenticationError=s.AuthenticationError,h.InternalServerError=s.InternalServerError,h.PermissionDeniedError=s.PermissionDeniedError,h.UnprocessableEntityError=s.UnprocessableEntityError,h.toFile=l.toFile,h.fileFromPath=l.fileFromPath,h.Contexts=d.Contexts,h.Extensions=c.Extensions,h.Projects=p.Projects,h.Sessions=m.Sessions;var f=e.r(72003);Object.defineProperty(r,"toFile",{enumerable:!0,get:function(){return f.toFile}}),Object.defineProperty(r,"fileFromPath",{enumerable:!0,get:function(){return f.fileFromPath}});var g=e.r(43589);Object.defineProperty(r,"BrowserbaseError",{enumerable:!0,get:function(){return g.BrowserbaseError}}),Object.defineProperty(r,"APIError",{enumerable:!0,get:function(){return g.APIError}}),Object.defineProperty(r,"APIConnectionError",{enumerable:!0,get:function(){return g.APIConnectionError}}),Object.defineProperty(r,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return g.APIConnectionTimeoutError}}),Object.defineProperty(r,"APIUserAbortError",{enumerable:!0,get:function(){return g.APIUserAbortError}}),Object.defineProperty(r,"NotFoundError",{enumerable:!0,get:function(){return g.NotFoundError}}),Object.defineProperty(r,"ConflictError",{enumerable:!0,get:function(){return g.ConflictError}}),Object.defineProperty(r,"RateLimitError",{enumerable:!0,get:function(){return g.RateLimitError}}),Object.defineProperty(r,"BadRequestError",{enumerable:!0,get:function(){return g.BadRequestError}}),Object.defineProperty(r,"AuthenticationError",{enumerable:!0,get:function(){return g.AuthenticationError}}),Object.defineProperty(r,"InternalServerError",{enumerable:!0,get:function(){return g.InternalServerError}}),Object.defineProperty(r,"PermissionDeniedError",{enumerable:!0,get:function(){return g.PermissionDeniedError}}),Object.defineProperty(r,"UnprocessableEntityError",{enumerable:!0,get:function(){return g.UnprocessableEntityError}}),(r=t.exports=h).default=h},45889,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.ignoreOverride=void 0,r.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");let n={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};r.getDefaultOptions=e=>"string"==typeof e?{...n,basePath:["#"],definitions:{},name:e}:{...n,basePath:["#"],definitions:{},...e}},26167,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isEmptyObj=r.zodDef=void 0,r.zodDef=e=>"_def"in e?e._def:e,r.isEmptyObj=function(e){if(!e)return!0;for(let t in e)return!1;return!0}},45148,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRefs=void 0;let n=e.r(45889),a=e.r(26167);r.getRefs=e=>{let t=(0,n.getDefaultOptions)(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[(0,a.zodDef)(r),{def:(0,a.zodDef)(r),path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}}},96474,(e,t,r)=>{"use strict";function n(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}Object.defineProperty(r,"__esModule",{value:!0}),r.setResponseValueAndErrors=r.addErrorMessage=void 0,r.addErrorMessage=n,r.setResponseValueAndErrors=function(e,t,r,a,i){e[t]=r,n(e,t,a,i)}},60750,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAnyDef=void 0,r.parseAnyDef=function(){return{}}},93534,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseArrayDef=void 0;let n=e.r(43629),a=e.r(96474),i=e.r(97081);r.parseArrayDef=function(e,t){let r={type:"array"};return e.type?._def?.typeName!==n.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,i.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,a.setResponseValueAndErrors)(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,a.setResponseValueAndErrors)(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,a.setResponseValueAndErrors)(r,"minItems",e.exactLength.value,e.exactLength.message,t),(0,a.setResponseValueAndErrors)(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}},68810,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBigintDef=void 0;let n=e.r(96474);r.parseBigintDef=function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let a of e.checks)switch(a.kind){case"min":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,t)}return r}},64165,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBooleanDef=void 0,r.parseBooleanDef=function(){return{type:"boolean"}}},23444,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBrandedDef=void 0;let n=e.r(97081);r.parseBrandedDef=function(e,t){return(0,n.parseDef)(e.type._def,t)}},8754,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseCatchDef=void 0;let n=e.r(97081);r.parseCatchDef=(e,t)=>(0,n.parseDef)(e.innerType._def,t)},98357,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDateDef=void 0;let n=e.r(96474);r.parseDateDef=function e(t,r,n){let i=n??r.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((n,a)=>e(t,r,n))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return a(t,r)}};let a=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let a of e.checks)switch(a.kind){case"min":(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t);break;case"max":(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t)}return r}},61650,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDefaultDef=void 0;let n=e.r(97081);r.parseDefaultDef=function(e,t){return{...(0,n.parseDef)(e.innerType._def,t),default:e.defaultValue()}}},71411,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseEffectsDef=void 0;let n=e.r(97081);r.parseEffectsDef=function(e,t,r){return"input"===t.effectStrategy?(0,n.parseDef)(e.schema._def,t,r):{}}},79021,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseEnumDef=void 0,r.parseEnumDef=function(e){return{type:"string",enum:[...e.values]}}},74050,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseIntersectionDef=void 0;let n=e.r(97081);r.parseIntersectionDef=function(e,t){let r=[(0,n.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,n.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),a="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)i.push(...e.allOf),void 0===e.unevaluatedProperties&&(a=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else a=void 0;i.push(t)}}),i.length?{allOf:i,...a}:void 0}},24323,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseLiteralDef=void 0,r.parseLiteralDef=function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}},29817,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.zodPatterns=void 0;let a=e.r(96474);r.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/},r.parseStringDef=function(e,t){let n={type:"string"};function l(e){return"escape"===t.patternStrategy?i(e):e}if(e.checks)for(let i of e.checks)switch(i.kind){case"min":(0,a.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t);break;case"max":(0,a.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":o(n,"email",i.message,t);break;case"format:idn-email":o(n,"idn-email",i.message,t);break;case"pattern:zod":s(n,r.zodPatterns.email,i.message,t)}break;case"url":o(n,"uri",i.message,t);break;case"uuid":o(n,"uuid",i.message,t);break;case"regex":s(n,i.regex,i.message,t);break;case"cuid":s(n,r.zodPatterns.cuid,i.message,t);break;case"cuid2":s(n,r.zodPatterns.cuid2,i.message,t);break;case"startsWith":s(n,RegExp(`^${l(i.value)}`),i.message,t);break;case"endsWith":s(n,RegExp(`${l(i.value)}$`),i.message,t);break;case"datetime":o(n,"date-time",i.message,t);break;case"date":o(n,"date",i.message,t);break;case"time":o(n,"time",i.message,t);break;case"duration":o(n,"duration",i.message,t);break;case"length":(0,a.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t),(0,a.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"includes":s(n,RegExp(l(i.value)),i.message,t);break;case"ip":"v6"!==i.version&&o(n,"ipv4",i.message,t),"v4"!==i.version&&o(n,"ipv6",i.message,t);break;case"emoji":s(n,r.zodPatterns.emoji,i.message,t);break;case"ulid":s(n,r.zodPatterns.ulid,i.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":o(n,"binary",i.message,t);break;case"contentEncoding:base64":(0,a.setResponseValueAndErrors)(n,"contentEncoding","base64",i.message,t);break;case"pattern:zod":s(n,r.zodPatterns.base64,i.message,t)}break;case"nanoid":s(n,r.zodPatterns.nanoid,i.message,t)}return n};let i=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),o=(e,t,r,n)=>{e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):(0,a.setResponseValueAndErrors)(e,"format",t,r,n)},s=(e,t,r,n)=>{e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:l(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):(0,a.setResponseValueAndErrors)(e,"pattern",l(t,n),r,n)},l=(e,t)=>{let r="function"==typeof e?e():e;if(!t.applyRegexFlags||!r.flags)return r.source;let n={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},a=n.i?r.source.toLowerCase():r.source,i="",o=!1,s=!1,l=!1;for(let e=0;e<a.length;e++){if(o){i+=a[e],o=!1;continue}if(n.i){if(s){if(a[e].match(/[a-z]/)){l?(i+=a[e],i+=`${a[e-2]}-${a[e]}`.toUpperCase(),l=!1):"-"===a[e+1]&&a[e+2]?.match(/[a-z]/)?(i+=a[e],l=!0):i+=`${a[e]}${a[e].toUpperCase()}`;continue}}else if(a[e].match(/[a-z]/)){i+=`[${a[e]}${a[e].toUpperCase()}]`;continue}}if(n.m){if("^"===a[e]){i+=`(^|(?<=[\r
]))`;continue}else if("$"===a[e]){i+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===a[e]){i+=s?`${a[e]}\r
`:`[${a[e]}\r
]`;continue}i+=a[e],"\\"===a[e]?o=!0:s&&"]"===a[e]?s=!1:s||"["!==a[e]||(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return i}},42468,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseRecordDef=void 0;let n=e.r(43629),a=e.r(97081),i=e.r(29817);r.parseRecordDef=function(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){let n=Object.entries((0,i.parseStringDef)(e.keyType._def,t)).reduce((e,[t,r])=>"type"===t?e:{...e,[t]:r},{});return{...r,propertyNames:n}}return e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum?{...r,propertyNames:{enum:e.keyType._def.values}}:r}},7053,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseMapDef=void 0;let n=e.r(97081),a=e.r(42468);r.parseMapDef=function(e,t){return"record"===t.mapStrategy?(0,a.parseRecordDef)(e,t):{type:"array",maxItems:125,items:{type:"array",items:[(0,n.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}},28101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNativeEnumDef=void 0,r.parseNativeEnumDef=function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}},35695,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNeverDef=void 0,r.parseNeverDef=function(){return{not:{}}}},17562,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNullDef=void 0,r.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}},66037,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;let n=e.r(97081);r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},r.parseUnionDef=function(e,t){if("openApi3"===t.target)return a(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in r.primitiveMappings&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=r.primitiveMappings[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return a(e,t)};let a=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0}},31060,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNullableDef=void 0;let n=e.r(97081),a=e.r(66037);r.parseNullableDef=function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target||"property"===t.nullableStrategy?{type:a.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[a.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}},81586,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseNumberDef=void 0;let n=e.r(96474);r.parseNumberDef=function(e,t){let r={type:"number"};if(!e.checks)return r;for(let a of e.checks)switch(a.kind){case"int":r.type="integer",(0,n.addErrorMessage)(r,"type",a.message,t);break;case"min":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",a.value,a.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,t)}return r}},88400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseObjectDef=void 0;let n=e.r(97081);r.parseObjectDef=function(e,t){let r={type:"object",...Object.entries(e.shape()).reduce((e,[r,a])=>{if(void 0===a||void 0===a._def)return e;let i=[...t.currentPath,"properties",r],o=(0,n.parseDef)(a._def,{...t,currentPath:i,propertyPath:i});return void 0===o?e:(t.openaiStrictMode&&a.isOptional()&&!a.isNullable()&&console.warn(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...e.properties,[r]:o},required:a.isOptional()&&!t.openaiStrictMode?e.required:[...e.required,r]})},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:(0,n.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:(0,n.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return r.required.length||delete r.required,r}},9388,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseOptionalDef=void 0;let n=e.r(97081);r.parseOptionalDef=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,n.parseDef)(e.innerType._def,t);let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}}},5841,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePipelineDef=void 0;let n=e.r(97081);r.parsePipelineDef=(e,t)=>{if("input"===t.pipeStrategy)return(0,n.parseDef)(e.in._def,t);if("output"===t.pipeStrategy)return(0,n.parseDef)(e.out._def,t);let r=(0,n.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),a=(0,n.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,a].filter(e=>void 0!==e)}}},49078,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePromiseDef=void 0;let n=e.r(97081);r.parsePromiseDef=function(e,t){return(0,n.parseDef)(e.type._def,t)}},53855,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseSetDef=void 0;let n=e.r(96474),a=e.r(97081);r.parseSetDef=function(e,t){let r={type:"array",uniqueItems:!0,items:(0,a.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,n.setResponseValueAndErrors)(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,n.setResponseValueAndErrors)(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}},95785,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseTupleDef=void 0;let n=e.r(97081);r.parseTupleDef=function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:(0,n.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}},97953,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUndefinedDef=void 0,r.parseUndefinedDef=function(){return{not:{}}}},24659,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnknownDef=void 0,r.parseUnknownDef=function(){return{}}},64808,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseReadonlyDef=void 0;let n=e.r(97081);r.parseReadonlyDef=(e,t)=>(0,n.parseDef)(e.innerType._def,t)},97081,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDef=void 0;let n=e.r(43629),a=e.r(60750),i=e.r(93534),o=e.r(68810),s=e.r(64165),l=e.r(23444),u=e.r(8754),d=e.r(98357),c=e.r(61650),p=e.r(71411),m=e.r(79021),h=e.r(74050),f=e.r(24323),g=e.r(7053),y=e.r(28101),v=e.r(35695),b=e.r(17562),_=e.r(31060),w=e.r(81586),S=e.r(88400),k=e.r(9388),x=e.r(5841),E=e.r(49078),T=e.r(42468),O=e.r(53855),I=e.r(29817),P=e.r(95785),C=e.r(97953),A=e.r(66037),j=e.r(24659),z=e.r(64808),R=e.r(45889);function N(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==R.ignoreOverride)return a}if(n&&!r){let e=$(n,t);if(void 0!==e)return"$ref"in e&&t.seenRefs.add(e.$ref),e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=D(e,e.typeName,t,r);return i&&F(e,t,i),a.jsonSchema=i,i}r.parseDef=N;let $=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":let r=e.path.slice(t.basePath.length+1).join("_");return r!==t.name&&"duplicate-ref"===t.nameStrategy&&(t.definitions[r]=e.def),{$ref:[...t.basePath,t.definitionPath,r].join("/")};case"relative":return{$ref:M(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},M=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},D=(e,t,r,R)=>{switch(t){case n.ZodFirstPartyTypeKind.ZodString:return(0,I.parseStringDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNumber:return(0,w.parseNumberDef)(e,r);case n.ZodFirstPartyTypeKind.ZodObject:return(0,S.parseObjectDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBigInt:return(0,o.parseBigintDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBoolean:return(0,s.parseBooleanDef)();case n.ZodFirstPartyTypeKind.ZodDate:return(0,d.parseDateDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUndefined:return(0,C.parseUndefinedDef)();case n.ZodFirstPartyTypeKind.ZodNull:return(0,b.parseNullDef)(r);case n.ZodFirstPartyTypeKind.ZodArray:return(0,i.parseArrayDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUnion:case n.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,A.parseUnionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodIntersection:return(0,h.parseIntersectionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodTuple:return(0,P.parseTupleDef)(e,r);case n.ZodFirstPartyTypeKind.ZodRecord:return(0,T.parseRecordDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLiteral:return(0,f.parseLiteralDef)(e,r);case n.ZodFirstPartyTypeKind.ZodEnum:return(0,m.parseEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,y.parseNativeEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNullable:return(0,_.parseNullableDef)(e,r);case n.ZodFirstPartyTypeKind.ZodOptional:return(0,k.parseOptionalDef)(e,r);case n.ZodFirstPartyTypeKind.ZodMap:return(0,g.parseMapDef)(e,r);case n.ZodFirstPartyTypeKind.ZodSet:return(0,O.parseSetDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLazy:return N(e.getter()._def,r);case n.ZodFirstPartyTypeKind.ZodPromise:return(0,E.parsePromiseDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNaN:case n.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)();case n.ZodFirstPartyTypeKind.ZodEffects:return(0,p.parseEffectsDef)(e,r,R);case n.ZodFirstPartyTypeKind.ZodAny:return(0,a.parseAnyDef)();case n.ZodFirstPartyTypeKind.ZodUnknown:return(0,j.parseUnknownDef)();case n.ZodFirstPartyTypeKind.ZodDefault:return(0,c.parseDefaultDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBranded:return(0,l.parseBrandedDef)(e,r);case n.ZodFirstPartyTypeKind.ZodReadonly:return(0,z.parseReadonlyDef)(e,r);case n.ZodFirstPartyTypeKind.ZodCatch:return(0,u.parseCatchDef)(e,r);case n.ZodFirstPartyTypeKind.ZodPipeline:return(0,x.parsePipelineDef)(e,r);case n.ZodFirstPartyTypeKind.ZodFunction:case n.ZodFirstPartyTypeKind.ZodVoid:case n.ZodFirstPartyTypeKind.ZodSymbol:default:return}},F=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)},5670,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;let n=e.r(97081),a=e.r(45148),i=e.r(26167);r.zodToJsonSchema=(e,t)=>{let r=(0,a.getRefs)(t),o="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,s=(0,n.parseDef)(e._def,void 0===o?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??{},l="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(s.title=l);let u=(()=>{if((0,i.isEmptyObj)(r.definitions))return;let e={},t=new Set;for(let a=0;a<500;a++){let a=Object.entries(r.definitions).filter(([e])=>!t.has(e));if(0===a.length)break;for(let[o,s]of a)e[o]=(0,n.parseDef)((0,i.zodDef)(s),{...r,currentPath:[...r.basePath,r.definitionPath,o]},!0)??{},t.add(o)}return e})(),d=void 0===o?u?{...s,[r.definitionPath]:u}:s:"duplicate-ref"===r.nameStrategy?{...s,...u||r.seenRefs.size?{[r.definitionPath]:{...u,...r.seenRefs.size?{[o]:s}:void 0}}:void 0}:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...u,[o]:s}};return"jsonSchema7"===r.target?d.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===r.target&&(d.$schema="https://json-schema.org/draft/2019-09/schema#"),d}},25881,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),a(e.r(45889),r),a(e.r(45148),r),a(e.r(96474),r),a(e.r(97081),r),a(e.r(60750),r),a(e.r(93534),r),a(e.r(68810),r),a(e.r(64165),r),a(e.r(23444),r),a(e.r(8754),r),a(e.r(98357),r),a(e.r(61650),r),a(e.r(71411),r),a(e.r(79021),r),a(e.r(74050),r),a(e.r(24323),r),a(e.r(7053),r),a(e.r(28101),r),a(e.r(35695),r),a(e.r(17562),r),a(e.r(31060),r),a(e.r(81586),r),a(e.r(88400),r),a(e.r(9388),r),a(e.r(5841),r),a(e.r(49078),r),a(e.r(64808),r),a(e.r(42468),r),a(e.r(53855),r),a(e.r(29817),r),a(e.r(95785),r),a(e.r(97953),r),a(e.r(66037),r),a(e.r(24659),r),a(e.r(5670),r),r.default=e.r(5670).zodToJsonSchema},25471,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zodResponsesFunction=r.zodFunction=r.zodTextFormat=r.zodResponseFormat=void 0;let n=e.r(26636),a=e.r(25881),i=e.r(4368);function o(e,t){return(0,a.zodToJsonSchema)(e,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}r.zodResponseFormat=function(e,t,r){return(0,n.makeParseableResponseFormat)({type:"json_schema",json_schema:{...r,name:t,strict:!0,schema:o(e,{name:t})}},t=>e.parse(JSON.parse(t)))},r.zodTextFormat=function(e,t,r){return(0,n.makeParseableTextFormat)({type:"json_schema",...r,name:t,strict:!0,schema:o(e,{name:t})},t=>e.parse(JSON.parse(t)))},r.zodFunction=function(e){return(0,n.makeParseableTool)({type:"function",function:{name:e.name,parameters:o(e.parameters,{name:e.name}),strict:!0,...e.description?{description:e.description}:void 0}},{callback:e.function,parser:t=>e.parameters.parse(JSON.parse(t))})},r.zodResponsesFunction=function(e){return(0,i.makeParseableResponseTool)({type:"function",name:e.name,parameters:o(e.parameters,{name:e.name}),strict:!0,...e.description?{description:e.description}:void 0},{callback:e.function,parser:t=>e.parameters.parse(JSON.parse(t))})}},33449,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.ListResourceTemplatesRequestSchema=r.ListResourcesResultSchema=r.ListResourcesRequestSchema=r.ResourceTemplateSchema=r.ResourceSchema=r.BlobResourceContentsSchema=r.TextResourceContentsSchema=r.ResourceContentsSchema=r.PaginatedResultSchema=r.PaginatedRequestSchema=r.PaginatedRequestParamsSchema=r.ProgressNotificationSchema=r.ProgressNotificationParamsSchema=r.ProgressSchema=r.PingRequestSchema=r.isInitializedNotification=r.InitializedNotificationSchema=r.InitializeResultSchema=r.ServerCapabilitiesSchema=r.isInitializeRequest=r.InitializeRequestSchema=r.InitializeRequestParamsSchema=r.ClientCapabilitiesSchema=r.ImplementationSchema=r.BaseMetadataSchema=r.IconsSchema=r.IconSchema=r.CancelledNotificationSchema=r.CancelledNotificationParamsSchema=r.EmptyResultSchema=r.JSONRPCMessageSchema=r.isJSONRPCError=r.JSONRPCErrorSchema=r.ErrorCode=r.isJSONRPCResponse=r.JSONRPCResponseSchema=r.isJSONRPCNotification=r.JSONRPCNotificationSchema=r.isJSONRPCRequest=r.JSONRPCRequestSchema=r.RequestIdSchema=r.ResultSchema=r.NotificationSchema=r.RequestSchema=r.CursorSchema=r.ProgressTokenSchema=r.JSONRPC_VERSION=r.SUPPORTED_PROTOCOL_VERSIONS=r.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=r.LATEST_PROTOCOL_VERSION=void 0,r.NumberSchemaSchema=r.StringSchemaSchema=r.BooleanSchemaSchema=r.CreateMessageResultSchema=r.CreateMessageRequestSchema=r.CreateMessageRequestParamsSchema=r.SamplingMessageSchema=r.ModelPreferencesSchema=r.ModelHintSchema=r.LoggingMessageNotificationSchema=r.LoggingMessageNotificationParamsSchema=r.SetLevelRequestSchema=r.SetLevelRequestParamsSchema=r.LoggingLevelSchema=r.ToolListChangedNotificationSchema=r.CallToolRequestSchema=r.CallToolRequestParamsSchema=r.CompatibilityCallToolResultSchema=r.CallToolResultSchema=r.ListToolsResultSchema=r.ListToolsRequestSchema=r.ToolSchema=r.ToolAnnotationsSchema=r.PromptListChangedNotificationSchema=r.GetPromptResultSchema=r.PromptMessageSchema=r.ContentBlockSchema=r.ResourceLinkSchema=r.EmbeddedResourceSchema=r.AudioContentSchema=r.ImageContentSchema=r.TextContentSchema=r.GetPromptRequestSchema=r.GetPromptRequestParamsSchema=r.ListPromptsResultSchema=r.ListPromptsRequestSchema=r.PromptSchema=r.PromptArgumentSchema=r.ResourceUpdatedNotificationSchema=r.ResourceUpdatedNotificationParamsSchema=r.UnsubscribeRequestSchema=r.UnsubscribeRequestParamsSchema=r.SubscribeRequestSchema=r.SubscribeRequestParamsSchema=r.ResourceListChangedNotificationSchema=r.ReadResourceResultSchema=r.ReadResourceRequestSchema=r.ReadResourceRequestParamsSchema=r.ResourceRequestParamsSchema=r.ListResourceTemplatesResultSchema=void 0,r.McpError=r.ServerResultSchema=r.ServerNotificationSchema=r.ServerRequestSchema=r.ClientResultSchema=r.ClientNotificationSchema=r.ClientRequestSchema=r.RootsListChangedNotificationSchema=r.ListRootsResultSchema=r.ListRootsRequestSchema=r.RootSchema=r.CompleteResultSchema=r.CompleteRequestSchema=r.CompleteRequestParamsSchema=r.PromptReferenceSchema=r.ResourceReferenceSchema=r.ResourceTemplateReferenceSchema=r.ElicitResultSchema=r.ElicitRequestSchema=r.ElicitRequestParamsSchema=r.PrimitiveSchemaDefinitionSchema=r.EnumSchemaSchema=r.MultiSelectEnumSchemaSchema=r.TitledMultiSelectEnumSchemaSchema=r.UntitledMultiSelectEnumSchemaSchema=r.SingleSelectEnumSchemaSchema=r.LegacyTitledEnumSchemaSchema=r.TitledSingleSelectEnumSchemaSchema=r.UntitledSingleSelectEnumSchemaSchema=void 0,r.assertCompleteRequestPrompt=function(e){if("ref/prompt"!==e.params.ref.type)throw TypeError(`Expected CompleteRequestPrompt, but got ${e.params.ref.type}`)},r.assertCompleteRequestResourceTemplate=function(e){if("ref/resource"!==e.params.ref.type)throw TypeError(`Expected CompleteRequestResourceTemplate, but got ${e.params.ref.type}`)};let i=e.r(43629);r.LATEST_PROTOCOL_VERSION="2025-06-18",r.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26",r.SUPPORTED_PROTOCOL_VERSIONS=[r.LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"],r.JSONRPC_VERSION="2.0";let o=i.z.custom(e=>null!==e&&("object"==typeof e||"function"==typeof e));r.ProgressTokenSchema=i.z.union([i.z.string(),i.z.number().int()]),r.CursorSchema=i.z.string();let s=i.z.object({progressToken:r.ProgressTokenSchema.optional()}).passthrough(),l=i.z.object({_meta:s.optional()});r.RequestSchema=i.z.object({method:i.z.string(),params:l.passthrough().optional()});let u=i.z.object({_meta:i.z.record(i.z.string(),i.z.unknown()).optional()});r.NotificationSchema=i.z.object({method:i.z.string(),params:u.passthrough().optional()}),r.ResultSchema=i.z.object({_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}).passthrough(),r.RequestIdSchema=i.z.union([i.z.string(),i.z.number().int()]),r.JSONRPCRequestSchema=i.z.object({jsonrpc:i.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema}).merge(r.RequestSchema).strict(),r.isJSONRPCRequest=e=>r.JSONRPCRequestSchema.safeParse(e).success,r.JSONRPCNotificationSchema=i.z.object({jsonrpc:i.z.literal(r.JSONRPC_VERSION)}).merge(r.NotificationSchema).strict(),r.isJSONRPCNotification=e=>r.JSONRPCNotificationSchema.safeParse(e).success,r.JSONRPCResponseSchema=i.z.object({jsonrpc:i.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema,result:r.ResultSchema}).strict(),r.isJSONRPCResponse=e=>r.JSONRPCResponseSchema.safeParse(e).success,(a=n||(r.ErrorCode=n={}))[a.ConnectionClosed=-32e3]="ConnectionClosed",a[a.RequestTimeout=-32001]="RequestTimeout",a[a.ParseError=-32700]="ParseError",a[a.InvalidRequest=-32600]="InvalidRequest",a[a.MethodNotFound=-32601]="MethodNotFound",a[a.InvalidParams=-32602]="InvalidParams",a[a.InternalError=-32603]="InternalError",r.JSONRPCErrorSchema=i.z.object({jsonrpc:i.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema,error:i.z.object({code:i.z.number().int(),message:i.z.string(),data:i.z.optional(i.z.unknown())})}).strict(),r.isJSONRPCError=e=>r.JSONRPCErrorSchema.safeParse(e).success,r.JSONRPCMessageSchema=i.z.union([r.JSONRPCRequestSchema,r.JSONRPCNotificationSchema,r.JSONRPCResponseSchema,r.JSONRPCErrorSchema]),r.EmptyResultSchema=r.ResultSchema.strict(),r.CancelledNotificationParamsSchema=u.extend({requestId:r.RequestIdSchema,reason:i.z.string().optional()}),r.CancelledNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/cancelled"),params:r.CancelledNotificationParamsSchema}),r.IconSchema=i.z.object({src:i.z.string(),mimeType:i.z.string().optional(),sizes:i.z.array(i.z.string()).optional()}),r.IconsSchema=i.z.object({icons:i.z.array(r.IconSchema).optional()}),r.BaseMetadataSchema=i.z.object({name:i.z.string(),title:i.z.string().optional()}),r.ImplementationSchema=r.BaseMetadataSchema.extend({version:i.z.string(),websiteUrl:i.z.string().optional()}).merge(r.IconsSchema),r.ClientCapabilitiesSchema=i.z.object({experimental:i.z.record(i.z.string(),o).optional(),sampling:o.optional(),elicitation:i.z.intersection(i.z.object({applyDefaults:i.z.boolean().optional()}).optional(),i.z.record(i.z.string(),i.z.unknown()).optional()),roots:i.z.object({listChanged:i.z.boolean().optional()}).optional()}),r.InitializeRequestParamsSchema=l.extend({protocolVersion:i.z.string(),capabilities:r.ClientCapabilitiesSchema,clientInfo:r.ImplementationSchema}),r.InitializeRequestSchema=r.RequestSchema.extend({method:i.z.literal("initialize"),params:r.InitializeRequestParamsSchema}),r.isInitializeRequest=e=>r.InitializeRequestSchema.safeParse(e).success,r.ServerCapabilitiesSchema=i.z.object({experimental:i.z.record(i.z.string(),o).optional(),logging:o.optional(),completions:o.optional(),prompts:i.z.optional(i.z.object({listChanged:i.z.optional(i.z.boolean())})),resources:i.z.object({subscribe:i.z.boolean().optional(),listChanged:i.z.boolean().optional()}).optional(),tools:i.z.object({listChanged:i.z.boolean().optional()}).optional()}),r.InitializeResultSchema=r.ResultSchema.extend({protocolVersion:i.z.string(),capabilities:r.ServerCapabilitiesSchema,serverInfo:r.ImplementationSchema,instructions:i.z.string().optional()}),r.InitializedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/initialized")}),r.isInitializedNotification=e=>r.InitializedNotificationSchema.safeParse(e).success,r.PingRequestSchema=r.RequestSchema.extend({method:i.z.literal("ping")}),r.ProgressSchema=i.z.object({progress:i.z.number(),total:i.z.optional(i.z.number()),message:i.z.optional(i.z.string())}),r.ProgressNotificationParamsSchema=u.merge(r.ProgressSchema).extend({progressToken:r.ProgressTokenSchema}),r.ProgressNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/progress"),params:r.ProgressNotificationParamsSchema}),r.PaginatedRequestParamsSchema=l.extend({cursor:r.CursorSchema.optional()}),r.PaginatedRequestSchema=r.RequestSchema.extend({params:r.PaginatedRequestParamsSchema.optional()}),r.PaginatedResultSchema=r.ResultSchema.extend({nextCursor:i.z.optional(r.CursorSchema)}),r.ResourceContentsSchema=i.z.object({uri:i.z.string(),mimeType:i.z.optional(i.z.string()),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.TextResourceContentsSchema=r.ResourceContentsSchema.extend({text:i.z.string()});let d=i.z.string().refine(e=>{try{return atob(e),!0}catch(e){return!1}},{message:"Invalid Base64 string"});r.BlobResourceContentsSchema=r.ResourceContentsSchema.extend({blob:d}),r.ResourceSchema=r.BaseMetadataSchema.extend({uri:i.z.string(),description:i.z.optional(i.z.string()),mimeType:i.z.optional(i.z.string()),_meta:i.z.optional(i.z.object({}).passthrough())}).merge(r.IconsSchema),r.ResourceTemplateSchema=r.BaseMetadataSchema.extend({uriTemplate:i.z.string(),description:i.z.optional(i.z.string()),mimeType:i.z.optional(i.z.string()),_meta:i.z.optional(i.z.object({}).passthrough())}).merge(r.IconsSchema),r.ListResourcesRequestSchema=r.PaginatedRequestSchema.extend({method:i.z.literal("resources/list")}),r.ListResourcesResultSchema=r.PaginatedResultSchema.extend({resources:i.z.array(r.ResourceSchema)}),r.ListResourceTemplatesRequestSchema=r.PaginatedRequestSchema.extend({method:i.z.literal("resources/templates/list")}),r.ListResourceTemplatesResultSchema=r.PaginatedResultSchema.extend({resourceTemplates:i.z.array(r.ResourceTemplateSchema)}),r.ResourceRequestParamsSchema=l.extend({uri:i.z.string()}),r.ReadResourceRequestParamsSchema=r.ResourceRequestParamsSchema,r.ReadResourceRequestSchema=r.RequestSchema.extend({method:i.z.literal("resources/read"),params:r.ReadResourceRequestParamsSchema}),r.ReadResourceResultSchema=r.ResultSchema.extend({contents:i.z.array(i.z.union([r.TextResourceContentsSchema,r.BlobResourceContentsSchema]))}),r.ResourceListChangedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/resources/list_changed")}),r.SubscribeRequestParamsSchema=r.ResourceRequestParamsSchema,r.SubscribeRequestSchema=r.RequestSchema.extend({method:i.z.literal("resources/subscribe"),params:r.SubscribeRequestParamsSchema}),r.UnsubscribeRequestParamsSchema=r.ResourceRequestParamsSchema,r.UnsubscribeRequestSchema=r.RequestSchema.extend({method:i.z.literal("resources/unsubscribe"),params:r.UnsubscribeRequestParamsSchema}),r.ResourceUpdatedNotificationParamsSchema=u.extend({uri:i.z.string()}),r.ResourceUpdatedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/resources/updated"),params:r.ResourceUpdatedNotificationParamsSchema}),r.PromptArgumentSchema=i.z.object({name:i.z.string(),description:i.z.optional(i.z.string()),required:i.z.optional(i.z.boolean())}),r.PromptSchema=r.BaseMetadataSchema.extend({description:i.z.optional(i.z.string()),arguments:i.z.optional(i.z.array(r.PromptArgumentSchema)),_meta:i.z.optional(i.z.object({}).passthrough())}).merge(r.IconsSchema),r.ListPromptsRequestSchema=r.PaginatedRequestSchema.extend({method:i.z.literal("prompts/list")}),r.ListPromptsResultSchema=r.PaginatedResultSchema.extend({prompts:i.z.array(r.PromptSchema)}),r.GetPromptRequestParamsSchema=l.extend({name:i.z.string(),arguments:i.z.record(i.z.string(),i.z.string()).optional()}),r.GetPromptRequestSchema=r.RequestSchema.extend({method:i.z.literal("prompts/get"),params:r.GetPromptRequestParamsSchema}),r.TextContentSchema=i.z.object({type:i.z.literal("text"),text:i.z.string(),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.ImageContentSchema=i.z.object({type:i.z.literal("image"),data:d,mimeType:i.z.string(),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.AudioContentSchema=i.z.object({type:i.z.literal("audio"),data:d,mimeType:i.z.string(),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.EmbeddedResourceSchema=i.z.object({type:i.z.literal("resource"),resource:i.z.union([r.TextResourceContentsSchema,r.BlobResourceContentsSchema]),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.ResourceLinkSchema=r.ResourceSchema.extend({type:i.z.literal("resource_link")}),r.ContentBlockSchema=i.z.union([r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema,r.ResourceLinkSchema,r.EmbeddedResourceSchema]),r.PromptMessageSchema=i.z.object({role:i.z.enum(["user","assistant"]),content:r.ContentBlockSchema}),r.GetPromptResultSchema=r.ResultSchema.extend({description:i.z.optional(i.z.string()),messages:i.z.array(r.PromptMessageSchema)}),r.PromptListChangedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/prompts/list_changed")}),r.ToolAnnotationsSchema=i.z.object({title:i.z.string().optional(),readOnlyHint:i.z.boolean().optional(),destructiveHint:i.z.boolean().optional(),idempotentHint:i.z.boolean().optional(),openWorldHint:i.z.boolean().optional()}),r.ToolSchema=r.BaseMetadataSchema.extend({description:i.z.string().optional(),inputSchema:i.z.object({type:i.z.literal("object"),properties:i.z.record(i.z.string(),o).optional(),required:i.z.optional(i.z.array(i.z.string()))}),outputSchema:i.z.object({type:i.z.literal("object"),properties:i.z.record(i.z.string(),o).optional(),required:i.z.optional(i.z.array(i.z.string())),additionalProperties:i.z.optional(i.z.boolean())}).optional(),annotations:i.z.optional(r.ToolAnnotationsSchema),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}).merge(r.IconsSchema),r.ListToolsRequestSchema=r.PaginatedRequestSchema.extend({method:i.z.literal("tools/list")}),r.ListToolsResultSchema=r.PaginatedResultSchema.extend({tools:i.z.array(r.ToolSchema)}),r.CallToolResultSchema=r.ResultSchema.extend({content:i.z.array(r.ContentBlockSchema).default([]),structuredContent:i.z.record(i.z.string(),i.z.unknown()).optional(),isError:i.z.optional(i.z.boolean())}),r.CompatibilityCallToolResultSchema=r.CallToolResultSchema.or(r.ResultSchema.extend({toolResult:i.z.unknown()})),r.CallToolRequestParamsSchema=l.extend({name:i.z.string(),arguments:i.z.optional(i.z.record(i.z.string(),i.z.unknown()))}),r.CallToolRequestSchema=r.RequestSchema.extend({method:i.z.literal("tools/call"),params:r.CallToolRequestParamsSchema}),r.ToolListChangedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/tools/list_changed")}),r.LoggingLevelSchema=i.z.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),r.SetLevelRequestParamsSchema=l.extend({level:r.LoggingLevelSchema}),r.SetLevelRequestSchema=r.RequestSchema.extend({method:i.z.literal("logging/setLevel"),params:r.SetLevelRequestParamsSchema}),r.LoggingMessageNotificationParamsSchema=u.extend({level:r.LoggingLevelSchema,logger:i.z.string().optional(),data:i.z.unknown()}),r.LoggingMessageNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/message"),params:r.LoggingMessageNotificationParamsSchema}),r.ModelHintSchema=i.z.object({name:i.z.string().optional()}),r.ModelPreferencesSchema=i.z.object({hints:i.z.optional(i.z.array(r.ModelHintSchema)),costPriority:i.z.optional(i.z.number().min(0).max(1)),speedPriority:i.z.optional(i.z.number().min(0).max(1)),intelligencePriority:i.z.optional(i.z.number().min(0).max(1))}),r.SamplingMessageSchema=i.z.object({role:i.z.enum(["user","assistant"]),content:i.z.union([r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema])}),r.CreateMessageRequestParamsSchema=l.extend({messages:i.z.array(r.SamplingMessageSchema),modelPreferences:r.ModelPreferencesSchema.optional(),systemPrompt:i.z.string().optional(),includeContext:i.z.enum(["none","thisServer","allServers"]).optional(),temperature:i.z.number().optional(),maxTokens:i.z.number().int(),stopSequences:i.z.array(i.z.string()).optional(),metadata:o.optional()}),r.CreateMessageRequestSchema=r.RequestSchema.extend({method:i.z.literal("sampling/createMessage"),params:r.CreateMessageRequestParamsSchema}),r.CreateMessageResultSchema=r.ResultSchema.extend({model:i.z.string(),stopReason:i.z.optional(i.z.enum(["endTurn","stopSequence","maxTokens"]).or(i.z.string())),role:i.z.enum(["user","assistant"]),content:i.z.discriminatedUnion("type",[r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema])}),r.BooleanSchemaSchema=i.z.object({type:i.z.literal("boolean"),title:i.z.string().optional(),description:i.z.string().optional(),default:i.z.boolean().optional()}),r.StringSchemaSchema=i.z.object({type:i.z.literal("string"),title:i.z.string().optional(),description:i.z.string().optional(),minLength:i.z.number().optional(),maxLength:i.z.number().optional(),format:i.z.enum(["email","uri","date","date-time"]).optional(),default:i.z.string().optional()}),r.NumberSchemaSchema=i.z.object({type:i.z.enum(["number","integer"]),title:i.z.string().optional(),description:i.z.string().optional(),minimum:i.z.number().optional(),maximum:i.z.number().optional(),default:i.z.number().optional()}),r.UntitledSingleSelectEnumSchemaSchema=i.z.object({type:i.z.literal("string"),title:i.z.string().optional(),description:i.z.string().optional(),enum:i.z.array(i.z.string()),default:i.z.string().optional()}),r.TitledSingleSelectEnumSchemaSchema=i.z.object({type:i.z.literal("string"),title:i.z.string().optional(),description:i.z.string().optional(),oneOf:i.z.array(i.z.object({const:i.z.string(),title:i.z.string()})),default:i.z.string().optional()}),r.LegacyTitledEnumSchemaSchema=i.z.object({type:i.z.literal("string"),title:i.z.string().optional(),description:i.z.string().optional(),enum:i.z.array(i.z.string()),enumNames:i.z.array(i.z.string()).optional(),default:i.z.string().optional()}),r.SingleSelectEnumSchemaSchema=i.z.union([r.UntitledSingleSelectEnumSchemaSchema,r.TitledSingleSelectEnumSchemaSchema]),r.UntitledMultiSelectEnumSchemaSchema=i.z.object({type:i.z.literal("array"),title:i.z.string().optional(),description:i.z.string().optional(),minItems:i.z.number().optional(),maxItems:i.z.number().optional(),items:i.z.object({type:i.z.literal("string"),enum:i.z.array(i.z.string())}),default:i.z.array(i.z.string()).optional()}),r.TitledMultiSelectEnumSchemaSchema=i.z.object({type:i.z.literal("array"),title:i.z.string().optional(),description:i.z.string().optional(),minItems:i.z.number().optional(),maxItems:i.z.number().optional(),items:i.z.object({anyOf:i.z.array(i.z.object({const:i.z.string(),title:i.z.string()}))}),default:i.z.array(i.z.string()).optional()}),r.MultiSelectEnumSchemaSchema=i.z.union([r.UntitledMultiSelectEnumSchemaSchema,r.TitledMultiSelectEnumSchemaSchema]),r.EnumSchemaSchema=i.z.union([r.LegacyTitledEnumSchemaSchema,r.SingleSelectEnumSchemaSchema,r.MultiSelectEnumSchemaSchema]),r.PrimitiveSchemaDefinitionSchema=i.z.union([r.EnumSchemaSchema,r.BooleanSchemaSchema,r.StringSchemaSchema,r.NumberSchemaSchema]),r.ElicitRequestParamsSchema=l.extend({message:i.z.string(),requestedSchema:i.z.object({type:i.z.literal("object"),properties:i.z.record(i.z.string(),r.PrimitiveSchemaDefinitionSchema),required:i.z.array(i.z.string()).optional()})}),r.ElicitRequestSchema=r.RequestSchema.extend({method:i.z.literal("elicitation/create"),params:r.ElicitRequestParamsSchema}),r.ElicitResultSchema=r.ResultSchema.extend({action:i.z.enum(["accept","decline","cancel"]),content:i.z.record(i.z.union([i.z.string(),i.z.number(),i.z.boolean(),i.z.array(i.z.string())])).optional()}),r.ResourceTemplateReferenceSchema=i.z.object({type:i.z.literal("ref/resource"),uri:i.z.string()}),r.ResourceReferenceSchema=r.ResourceTemplateReferenceSchema,r.PromptReferenceSchema=i.z.object({type:i.z.literal("ref/prompt"),name:i.z.string()}),r.CompleteRequestParamsSchema=l.extend({ref:i.z.union([r.PromptReferenceSchema,r.ResourceTemplateReferenceSchema]),argument:i.z.object({name:i.z.string(),value:i.z.string()}),context:i.z.object({arguments:i.z.record(i.z.string(),i.z.string()).optional()}).optional()}),r.CompleteRequestSchema=r.RequestSchema.extend({method:i.z.literal("completion/complete"),params:r.CompleteRequestParamsSchema}),r.CompleteResultSchema=r.ResultSchema.extend({completion:i.z.object({values:i.z.array(i.z.string()).max(100),total:i.z.optional(i.z.number().int()),hasMore:i.z.optional(i.z.boolean())}).passthrough()}),r.RootSchema=i.z.object({uri:i.z.string().startsWith("file://"),name:i.z.string().optional(),_meta:i.z.record(i.z.string(),i.z.unknown()).optional()}),r.ListRootsRequestSchema=r.RequestSchema.extend({method:i.z.literal("roots/list")}),r.ListRootsResultSchema=r.ResultSchema.extend({roots:i.z.array(r.RootSchema)}),r.RootsListChangedNotificationSchema=r.NotificationSchema.extend({method:i.z.literal("notifications/roots/list_changed")}),r.ClientRequestSchema=i.z.union([r.PingRequestSchema,r.InitializeRequestSchema,r.CompleteRequestSchema,r.SetLevelRequestSchema,r.GetPromptRequestSchema,r.ListPromptsRequestSchema,r.ListResourcesRequestSchema,r.ListResourceTemplatesRequestSchema,r.ReadResourceRequestSchema,r.SubscribeRequestSchema,r.UnsubscribeRequestSchema,r.CallToolRequestSchema,r.ListToolsRequestSchema]),r.ClientNotificationSchema=i.z.union([r.CancelledNotificationSchema,r.ProgressNotificationSchema,r.InitializedNotificationSchema,r.RootsListChangedNotificationSchema]),r.ClientResultSchema=i.z.union([r.EmptyResultSchema,r.CreateMessageResultSchema,r.ElicitResultSchema,r.ListRootsResultSchema]),r.ServerRequestSchema=i.z.union([r.PingRequestSchema,r.CreateMessageRequestSchema,r.ElicitRequestSchema,r.ListRootsRequestSchema]),r.ServerNotificationSchema=i.z.union([r.CancelledNotificationSchema,r.ProgressNotificationSchema,r.LoggingMessageNotificationSchema,r.ResourceUpdatedNotificationSchema,r.ResourceListChangedNotificationSchema,r.ToolListChangedNotificationSchema,r.PromptListChangedNotificationSchema]),r.ServerResultSchema=i.z.union([r.EmptyResultSchema,r.InitializeResultSchema,r.CompleteResultSchema,r.GetPromptResultSchema,r.ListPromptsResultSchema,r.ListResourcesResultSchema,r.ListResourceTemplatesResultSchema,r.ReadResourceResultSchema,r.CallToolResultSchema,r.ListToolsResultSchema]),r.McpError=class extends Error{constructor(e,t,r){super(`MCP error ${e}: ${t}`),this.code=e,this.data=r,this.name="McpError"}}},32234,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Protocol=r.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0,r.mergeCapabilities=function(e,t){let r={...e};for(let e in t){let n=t[e];if(void 0===n)continue;let i=r[e];a(i)&&a(n)?r[e]={...i,...n}:r[e]=n}return r};let n=e.r(33449);function a(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}r.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4,r.Protocol=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(n.CancelledNotificationSchema,e=>{let t=this._requestHandlerAbortControllers.get(e.params.requestId);null==t||t.abort(e.params.reason)}),this.setNotificationHandler(n.ProgressNotificationSchema,e=>{this._onprogress(e)}),this.setRequestHandler(n.PingRequestSchema,e=>({}))}_setupTimeout(e,t,r,n,a=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(n,t),startTime:Date.now(),timeout:t,maxTotalTimeout:r,resetTimeoutOnProgress:a,onTimeout:n})}_resetTimeout(e){let t=this._timeoutInfo.get(e);if(!t)return!1;let r=Date.now()-t.startTime;if(t.maxTotalTimeout&&r>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),new n.McpError(n.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:r});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){let t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var t,r,a;this._transport=e;let i=null==(t=this.transport)?void 0:t.onclose;this._transport.onclose=()=>{null==i||i(),this._onclose()};let o=null==(r=this.transport)?void 0:r.onerror;this._transport.onerror=e=>{null==o||o(e),this._onerror(e)};let s=null==(a=this._transport)?void 0:a.onmessage;this._transport.onmessage=(e,t)=>{null==s||s(e,t),(0,n.isJSONRPCResponse)(e)||(0,n.isJSONRPCError)(e)?this._onresponse(e):(0,n.isJSONRPCRequest)(e)?this._onrequest(e,t):(0,n.isJSONRPCNotification)(e)?this._onnotification(e):this._onerror(Error(`Unknown message type: ${JSON.stringify(e)}`))},await this._transport.start()}_onclose(){var e;let t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,null==(e=this.onclose)||e.call(this);let r=new n.McpError(n.ErrorCode.ConnectionClosed,"Connection closed");for(let e of t.values())e(r)}_onerror(e){var t;null==(t=this.onerror)||t.call(this,e)}_onnotification(e){var t;let r=null!=(t=this._notificationHandlers.get(e.method))?t:this.fallbackNotificationHandler;void 0!==r&&Promise.resolve().then(()=>r(e)).catch(e=>this._onerror(Error(`Uncaught error in notification handler: ${e}`)))}_onrequest(e,t){var r,a;let i=null!=(r=this._requestHandlers.get(e.method))?r:this.fallbackRequestHandler,o=this._transport;if(void 0===i){null==o||o.send({jsonrpc:"2.0",id:e.id,error:{code:n.ErrorCode.MethodNotFound,message:"Method not found"}}).catch(e=>this._onerror(Error(`Failed to send an error response: ${e}`)));return}let s=new AbortController;this._requestHandlerAbortControllers.set(e.id,s);let l={signal:s.signal,sessionId:null==o?void 0:o.sessionId,_meta:null==(a=e.params)?void 0:a._meta,sendNotification:t=>this.notification(t,{relatedRequestId:e.id}),sendRequest:(t,r,n)=>this.request(t,r,{...n,relatedRequestId:e.id}),authInfo:null==t?void 0:t.authInfo,requestId:e.id,requestInfo:null==t?void 0:t.requestInfo};Promise.resolve().then(()=>i(e,l)).then(t=>{if(!s.signal.aborted)return null==o?void 0:o.send({result:t,jsonrpc:"2.0",id:e.id})},t=>{var r;if(!s.signal.aborted)return null==o?void 0:o.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(t.code)?t.code:n.ErrorCode.InternalError,message:null!=(r=t.message)?r:"Internal error"}})}).catch(e=>this._onerror(Error(`Failed to send response: ${e}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:t,...r}=e.params,n=Number(t),a=this._progressHandlers.get(n);if(!a)return void this._onerror(Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));let i=this._responseHandlers.get(n),o=this._timeoutInfo.get(n);if(o&&i&&o.resetTimeoutOnProgress)try{this._resetTimeout(n)}catch(e){i(e);return}a(r)}_onresponse(e){let t=Number(e.id),r=this._responseHandlers.get(t);void 0===r?this._onerror(Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`)):(this._responseHandlers.delete(t),this._progressHandlers.delete(t),this._cleanupTimeout(t),r((0,n.isJSONRPCResponse)(e)?e:new n.McpError(e.error.code,e.error.message,e.error.data)))}get transport(){return this._transport}async close(){var e;await (null==(e=this._transport)?void 0:e.close())}request(e,t,a){let{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}=null!=a?a:{};return new Promise((l,u)=>{var d,c,p,m,h,f;if(!this._transport)return void u(Error("Not connected"));(null==(d=this._options)?void 0:d.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),null==(c=null==a?void 0:a.signal)||c.throwIfAborted();let g=this._requestMessageId++,y={...e,jsonrpc:"2.0",id:g};(null==a?void 0:a.onprogress)&&(this._progressHandlers.set(g,a.onprogress),y.params={...e.params,_meta:{...(null==(p=e.params)?void 0:p._meta)||{},progressToken:g}});let v=e=>{var t;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),null==(t=this._transport)||t.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(e)}},{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(e=>this._onerror(Error(`Failed to send cancellation: ${e}`))),u(e)};this._responseHandlers.set(g,e=>{var r;if(null==(r=null==a?void 0:a.signal)||!r.aborted){if(e instanceof Error)return u(e);try{let r=t.parse(e.result);l(r)}catch(e){u(e)}}}),null==(m=null==a?void 0:a.signal)||m.addEventListener("abort",()=>{var e;v(null==(e=null==a?void 0:a.signal)?void 0:e.reason)});let b=null!=(h=null==a?void 0:a.timeout)?h:r.DEFAULT_REQUEST_TIMEOUT_MSEC;this._setupTimeout(g,b,null==a?void 0:a.maxTotalTimeout,()=>v(new n.McpError(n.ErrorCode.RequestTimeout,"Request timed out",{timeout:b})),null!=(f=null==a?void 0:a.resetTimeoutOnProgress)&&f),this._transport.send(y,{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(e=>{this._cleanupTimeout(g),u(e)})})}async notification(e,t){var r,n;if(!this._transport)throw Error("Not connected");if(this.assertNotificationCapability(e.method),(null!=(n=null==(r=this._options)?void 0:r.debouncedNotificationMethods)?n:[]).includes(e.method)&&!e.params&&!(null==t?void 0:t.relatedRequestId)){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var r;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let n={...e,jsonrpc:"2.0"};null==(r=this._transport)||r.send(n,t).catch(e=>this._onerror(e))});return}let a={...e,jsonrpc:"2.0"};await this._transport.send(a,t)}setRequestHandler(e,t){let r=e.shape.method.value;this.assertRequestHandlerCapability(r),this._requestHandlers.set(r,(r,n)=>Promise.resolve(t(e.parse(r),n)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){this._notificationHandlers.set(e.shape.method.value,r=>Promise.resolve(t(e.parse(r))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}}},14407,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class n{}r._CodeOrName=n,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class a extends n{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=a;class i extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,t)=>(t instanceof a&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function o(e,...t){let r=[e[0]],n=0;for(;n<t.length;)u(r,t[n]),r.push(e[++n]);return new i(r)}r._Code=i,r.nil=new i(""),r._=o;let s=new i("+");function l(e,...t){let r=[d(e[0])],n=0;for(;n<t.length;)r.push(s),u(r,t[n]),r.push(s,d(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){var r,n;let i=(r=e[t-1],'""'===(n=e[t+1])?r:'""'===r?n:"string"==typeof r?n instanceof a||'"'!==r[r.length-1]?void 0:"string"!=typeof n?`${r.slice(0,-1)}${n}"`:'"'===n[0]?r.slice(0,-1)+n.slice(1):void 0:"string"!=typeof n||'"'!==n[0]||r instanceof a?void 0:`"${r}${n.slice(1)}`);if(void 0!==i){e.splice(t-1,3,i);continue}e[t++]="+"}t++}}(r),new i(r)}function u(e,t){var r;t instanceof i?e.push(...t._items):t instanceof a?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:d(Array.isArray(r)?r.join(","):r))}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=l,r.addCodeArg=u,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:l`${e}${t}`},r.stringify=function(e){return new i(d(e))},r.safeStringify=d,r.getProperty=function(e){return"string"==typeof e&&r.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`},r.getEsmExportName=function(e){if("string"==typeof e&&r.IDENTIFIER.test(e))return new i(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new i(e.toString())}},94548,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;let i=e.r(14407);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}(a=n||(r.UsedValueState=n={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",r.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null==(r=null==(t=this._parent)?void 0:t._prefixes)?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}r.Scope=s;class l extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,i._)`.${new i.Name(t)}[${r}]`}}r.ValueScopeName=l;let u=(0,i._)`\n`;r.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?u:i.nil}}get(){return this._scope}name(e){return new l(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:a}=n,i=null!=(r=t.key)?r:t.ref,o=this._values[a];if(o){let e=o.get(i);if(e)return e}else o=this._values[a]=new Map;o.set(i,n);let s=this._scope[a]||(this._scope[a]=[]),l=s.length;return s[l]=t.ref,n.setValue(t,{property:a,itemIndex:l}),n}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,i._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,t,a={},s){let l=i.nil;for(let u in e){let d=e[u];if(!d)continue;let c=a[u]=a[u]||new Map;d.forEach(e=>{if(c.has(e))return;c.set(e,n.Started);let a=t(e);if(a){let t=this.opts.es5?r.varKinds.var:r.varKinds.const;l=(0,i._)`${l}${t} ${e} = ${a};${this.opts._n}`}else if(a=null==s?void 0:s(e))l=(0,i._)`${l}${a}${this.opts._n}`;else throw new o(e);c.set(e,n.Completed)})}return l}}},79752,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;let n=e.r(14407),a=e.r(94548);var i=e.r(14407);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return i.Name}});var o=e.r(94548);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),r.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends s{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?a.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=A(this.rhs,e,t),this}get names(){return C(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class d extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class c extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class m extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class h extends s{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=A(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class f extends s{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,n=r.length;for(;n--;){let a=r[n];a.optimizeNames(e,t)||(function(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}(e,a.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>P(e,t.names),{})}}class g extends f{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends f{}class v extends g{}v.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(j(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null==(r=this.else)?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=A(this.condition,e,t),this}get names(){let e=super.names;return C(e,this.condition),this.else&&P(e,this.else.names),e}}b.kind="if";class _ extends g{}_.kind="for";class w extends _{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=A(this.iteration,e,t),this}get names(){return P(super.names,this.iteration.names)}}class S extends _{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){let t=e.es5?a.varKinds.var:this.varKind,{name:r,from:n,to:i}=this;return`for(${t} ${r}=${n}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){let e=C(super.names,this.from);return C(e,this.to)}}class k extends _{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=A(this.iterable,e,t),this}get names(){return P(super.names,this.iterable.names)}}class x extends g{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}x.kind="func";class E extends f{render(e){return"return "+super.render(e)}}E.kind="return";class T extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null==(e=this.catch)||e.optimizeNodes(),null==(t=this.finally)||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null==(r=this.catch)||r.optimizeNames(e,t),null==(n=this.finally)||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class O extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class I extends g{render(e){return"finally"+super.render(e)}}function P(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function C(e,t){return t instanceof n._CodeOrName?P(e,t.names):e}function A(e,t,r){var a;if(e instanceof n.Name)return i(e);if(!((a=e)instanceof n._Code&&a._items.some(e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str])))return e;return new n._Code(e._items.reduce((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e),[]));function i(e){let n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function j(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,n._)`!${$(e)}`}I.kind="finally",r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new a.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){let a=this._scope.toName(t);return void 0!==r&&n&&(this._constants[a.str]=r),this._leafNode(new l(e,a,r)),a}const(e,t,r){return this._def(a.varKinds.const,e,t,r)}let(e,t,r){return this._def(a.varKinds.let,e,t,r)}var(e,t,r){return this._def(a.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,t){return this._leafNode(new d(e,r.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new h(e)),this}object(...e){let t=["{"];for(let[r,a]of e)t.length>1&&t.push(","),t.push(r),(r!==a||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,a));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,n,i=this.opts.es5?a.varKinds.var:a.varKinds.let){let o=this._scope.toName(e);return this._for(new S(i,o,t,r),()=>n(o))}forOf(e,t,r,i=a.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,n._)`${e}.length`,t=>{this.var(o,(0,n._)`${e}[${t}]`),r(o)})}return this._for(new k("of",i,o,t),()=>r(o))}forIn(e,t,r,i=this.opts.es5?a.varKinds.var:a.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,n._)`Object.keys(${t})`,r);let o=this._scope.toName(e);return this._for(new k("in",i,o,t),()=>r(o))}endFor(){return this._endBlockNode(_)}label(e){return this._leafNode(new c(e))}break(e){return this._leafNode(new p(e))}return(e){let t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,r){if(!t&&!r)throw Error('CodeGen: "try" without "catch" and "finally"');let n=new T;if(this._blockNode(n),this.code(e),t){let e=this.name("e");this._currNode=n.catch=new O(e),t(e)}return r&&(this._currNode=n.finally=new I,this.code(r)),this._endBlockNode(O,I)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,a){return this._blockNode(new x(e,t,r)),a&&this.code(a).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof b))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}},r.not=j;let z=N(r.operators.AND);r.and=function(...e){return e.reduce(z)};let R=N(r.operators.OR);function N(e){return(t,r)=>t===n.nil?r:r===n.nil?t:(0,n._)`${$(t)} ${e} ${$(r)}`}function $(e){return e instanceof n.Name?e:(0,n._)`(${e})`}r.or=function(...e){return e.reduce(R)}},31878,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;let i=e.r(79752),o=e.r(14407);function s(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||"boolean"==typeof t)return;let a=n.RULES.keywords;for(let r in t)a[r]||f(e,`unknown keyword: "${r}"`)}function l(e,t){if("boolean"==typeof e)return!e;for(let r in e)if(t[r])return!0;return!1}function u(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,o,s,l)=>{let u=void 0===s?o:s instanceof i.Name?(o instanceof i.Name?e(a,o,s):t(a,o,s),s):o instanceof i.Name?(t(a,s,o),o):r(o,s);return l!==i.Name||u instanceof i.Name?u:n(a,u)}}function p(e,t){if(!0===t)return e.var("props",!0);let r=e.var("props",(0,i._)`{}`);return void 0!==t&&m(e,r,t),r}function m(e,t,r){Object.keys(r).forEach(r=>e.assign((0,i._)`${t}${(0,i.getProperty)(r)}`,!0))}r.toHash=function(e){let t={};for(let r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(s(e,t),!l(t,e.self.RULES.all))},r.checkUnknownRules=s,r.schemaHasRules=l,r.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(let r in e)if("$ref"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,i._)`${r}`}return(0,i._)`${e}${t}${(0,i.getProperty)(n)}`},r.unescapeFragment=function(e){return d(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(u(e))},r.escapeJsonPointer=u,r.unescapeJsonPointer=d,r.eachItem=function(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)},r.mergeEvaluated={props:c({mergeNames:(e,t,r)=>e.if((0,i._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,i._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,i._)`${r} || {}`).code((0,i._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,i._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,i._)`${r} || {}`),m(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:p}),items:c({mergeNames:(e,t,r)=>e.if((0,i._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,i._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,i._)`${r} !== true`,()=>e.assign(r,!0===t||(0,i._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},r.evaluatedPropsToName=p,r.setEvaluated=m;let h={};function f(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new o._Code(t.code))})},(a=n||(r.Type=n={}))[a.Num=0]="Num",a[a.Str=1]="Str",r.getErrorPath=function(e,t,r){if(e instanceof i.Name){let a=t===n.Num;return r?a?(0,i._)`"[" + ${e} + "]"`:(0,i._)`"['" + ${e} + "']"`:a?(0,i._)`"/" + ${e}`:(0,i._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,i.getProperty)(e).toString():"/"+u(e)},r.checkStrictMode=f},64104,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752);r.default={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")}},72153,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;let n=e.r(79752),a=e.r(31878),i=e.r(64104);function o(e,t){let r=e.const("err",t);e.if((0,n._)`${i.default.vErrors} === null`,()=>e.assign(i.default.vErrors,(0,n._)`[${r}]`),(0,n._)`${i.default.vErrors}.push(${r})`),e.code((0,n._)`${i.default.errors}++`)}function s(e,t){let{gen:r,validateName:a,schemaEnv:i}=e;i.$async?r.throw((0,n._)`new ${e.ValidationError}(${t})`):(r.assign((0,n._)`${a}.errors`,t),r.return(!1))}r.keywordError={message:({keyword:e})=>(0,n.str)`must pass "${e}" keyword validation`},r.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,n.str)`"${e}" keyword must be ${t} ($data)`:(0,n.str)`"${e}" keyword is invalid ($data)`},r.reportError=function(e,t=r.keywordError,a,i){let{it:l}=e,{gen:d,compositeRule:c,allErrors:p}=l,m=u(e,t,a);(null!=i?i:c||p)?o(d,m):s(l,(0,n._)`[${m}]`)},r.reportExtraError=function(e,t=r.keywordError,n){let{it:a}=e,{gen:l,compositeRule:d,allErrors:c}=a;o(l,u(e,t,n)),d||c||s(a,i.default.vErrors)},r.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if((0,n._)`${i.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,n._)`${i.default.vErrors}.length`,t),()=>e.assign(i.default.vErrors,null)))},r.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:a,errsCount:o,it:s}){if(void 0===o)throw Error("ajv implementation error");let l=e.name("err");e.forRange("i",o,i.default.errors,o=>{e.const(l,(0,n._)`${i.default.vErrors}[${o}]`),e.if((0,n._)`${l}.instancePath === undefined`,()=>e.assign((0,n._)`${l}.instancePath`,(0,n.strConcat)(i.default.instancePath,s.errorPath))),e.assign((0,n._)`${l}.schemaPath`,(0,n.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,n._)`${l}.schema`,r),e.assign((0,n._)`${l}.data`,a))})};let l={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function u(e,t,r){let{createErrors:o}=e.it;return!1===o?(0,n._)`{}`:function(e,t,r={}){let{gen:o,it:s}=e,u=[function({errorPath:e},{instancePath:t}){let r=t?(0,n.str)`${e}${(0,a.getErrorPath)(t,a.Type.Str)}`:e;return[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,r)]}(s,r),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let o=i?t:(0,n.str)`${t}/${e}`;return r&&(o=(0,n.str)`${o}${(0,a.getErrorPath)(r,a.Type.Str)}`),[l.schemaPath,o]}(e,r)];return function(e,{params:t,message:r},a){let{keyword:o,data:s,schemaValue:u,it:d}=e,{opts:c,propertyName:p,topSchemaRef:m,schemaPath:h}=d;a.push([l.keyword,o],[l.params,"function"==typeof t?t(e):t||(0,n._)`{}`]),c.messages&&a.push([l.message,"function"==typeof r?r(e):r]),c.verbose&&a.push([l.schema,u],[l.parentSchema,(0,n._)`${m}${h}`],[i.default.data,s]),p&&a.push([l.propertyName,p])}(e,t,u),o.object(...u)}(e,t,r)}},49146,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;let n=e.r(72153),a=e.r(79752),i=e.r(64104),o={message:"boolean schema is false"};function s(e,t){let{gen:r,data:a}=e;(0,n.reportError)({gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},o,void 0,t)}r.topBoolOrEmptySchema=function(e){let{gen:t,schema:r,validateName:n}=e;!1===r?s(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign((0,a._)`${n}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){let{gen:r,schema:n}=e;!1===n?(r.var(t,!1),s(e)):r.var(t,!0)}},81727,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;let n=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function(e){return"string"==typeof e&&n.has(e)},r.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},91021,(e,t,r)=>{"use strict";function n(e,t){return t.rules.some(t=>a(e,t))}function a(e,t){var r;return void 0!==e[t.keyword]||(null==(r=t.definition.implements)?void 0:r.some(t=>void 0!==e[t]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){let a=t.RULES.types[r];return a&&!0!==a&&n(e,a)},r.shouldUseGroup=n,r.shouldUseRule=a},42492,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;let i=e.r(81727),o=e.r(91021),s=e.r(72153),l=e.r(79752),u=e.r(31878);function d(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}(a=n||(r.DataType=n={}))[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong",r.getSchemaTypes=function(e){let t=d(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},r.getJSONTypes=d,r.coerceAndCheckDataType=function(e,t){var r,a;let{gen:i,data:s,opts:u}=e,d=(r=t,(a=u.coerceTypes)?r.filter(e=>c.has(e)||"array"===a&&"array"===e):[]),p=t.length>0&&!(0===d.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(p){let r=m(t,s,u.strictNumbers,n.Wrong);i.if(r,()=>{d.length?function(e,t,r){let{gen:n,data:a,opts:i}=e,o=n.let("dataType",(0,l._)`typeof ${a}`),s=n.let("coerced",(0,l._)`undefined`);for(let e of("array"===i.coerceTypes&&n.if((0,l._)`${o} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,l._)`${a}[0]`).assign(o,(0,l._)`typeof ${a}`).if(m(t,a,i.strictNumbers),()=>n.assign(s,a))),n.if((0,l._)`${s} !== undefined`),r))(c.has(e)||"array"===e&&"array"===i.coerceTypes)&&function(e){switch(e){case"string":n.elseIf((0,l._)`${o} == "number" || ${o} == "boolean"`).assign(s,(0,l._)`"" + ${a}`).elseIf((0,l._)`${a} === null`).assign(s,(0,l._)`""`);return;case"number":n.elseIf((0,l._)`${o} == "boolean" || ${a} === null
              || (${o} == "string" && ${a} && ${a} == +${a})`).assign(s,(0,l._)`+${a}`);return;case"integer":n.elseIf((0,l._)`${o} === "boolean" || ${a} === null
              || (${o} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(s,(0,l._)`+${a}`);return;case"boolean":n.elseIf((0,l._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(s,!1).elseIf((0,l._)`${a} === "true" || ${a} === 1`).assign(s,!0);return;case"null":n.elseIf((0,l._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(s,null);return;case"array":n.elseIf((0,l._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${a} === null`).assign(s,(0,l._)`[${a}]`)}}(e);n.else(),f(e),n.endIf(),n.if((0,l._)`${s} !== undefined`,()=>{n.assign(a,s),function({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,l._)`${t} !== undefined`,()=>e.assign((0,l._)`${t}[${r}]`,n))}(e,s)})}(e,t,d):f(e)})}return p};let c=new Set(["string","number","integer","boolean","null"]);function p(e,t,r,a=n.Correct){let i,o=a===n.Correct?l.operators.EQ:l.operators.NEQ;switch(e){case"null":return(0,l._)`${t} ${o} null`;case"array":i=(0,l._)`Array.isArray(${t})`;break;case"object":i=(0,l._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s((0,l._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return(0,l._)`typeof ${t} ${o} ${e}`}return a===n.Correct?i:(0,l.not)(i);function s(e=l.nil){return(0,l.and)((0,l._)`typeof ${t} == "number"`,e,r?(0,l._)`isFinite(${t})`:l.nil)}}function m(e,t,r,n){let a;if(1===e.length)return p(e[0],t,r,n);let i=(0,u.toHash)(e);if(i.array&&i.object){let e=(0,l._)`typeof ${t} != "object"`;a=i.null?e:(0,l._)`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else a=l.nil;for(let e in i.number&&delete i.integer,i)a=(0,l.and)(a,p(e,t,r,n));return a}r.checkDataType=p,r.checkDataTypes=m;let h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,l._)`{type: ${e}}`:(0,l._)`{type: ${t}}`};function f(e){let t=function(e){let{gen:t,data:r,schema:n}=e,a=(0,u.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}(e);(0,s.reportError)(t,h)}r.reportTypeError=f},25614,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;let n=e.r(79752),a=e.r(31878);function i(e,t,r){let{gen:i,compositeRule:o,data:s,opts:l}=e;if(void 0===r)return;let u=(0,n._)`${s}${(0,n.getProperty)(t)}`;if(o)return void(0,a.checkStrictMode)(e,`default is ignored for: ${u}`);let d=(0,n._)`${u} === undefined`;"empty"===l.useDefaults&&(d=(0,n._)`${d} || ${u} === null || ${u} === ""`),i.if(d,(0,n._)`${u} = ${(0,n.stringify)(r)}`)}r.assignDefaults=function(e,t){let{properties:r,items:n}=e.schema;if("object"===t&&r)for(let t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach((t,r)=>i(e,r,t.default))}},54089,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;let n=e.r(79752),a=e.r(31878),i=e.r(64104),o=e.r(31878);function s(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,n._)`Object.prototype.hasOwnProperty`})}function l(e,t,r){return(0,n._)`${s(e)}.call(${t}, ${r})`}function u(e,t,r,a){let i=(0,n._)`${t}${(0,n.getProperty)(r)} === undefined`;return a?(0,n.or)(i,(0,n.not)(l(e,t,r))):i}function d(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}r.checkReportMissingProp=function(e,t){let{gen:r,data:a,it:i}=e;r.if(u(r,a,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,n._)`${t}`},!0),e.error()})},r.checkMissingProp=function({gen:e,data:t,it:{opts:r}},a,i){return(0,n.or)(...a.map(a=>(0,n.and)(u(e,t,a,r.ownProperties),(0,n._)`${i} = ${a}`)))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=s,r.isOwnProperty=l,r.propertyInData=function(e,t,r,a){let i=(0,n._)`${t}${(0,n.getProperty)(r)} !== undefined`;return a?(0,n._)`${i} && ${l(e,t,r)}`:i},r.noPropertyInData=u,r.allSchemaProperties=d,r.schemaProperties=function(e,t){return d(t).filter(r=>!(0,a.alwaysValidSchema)(e,t[r]))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:o,errorPath:s},it:l},u,d,c){let p=c?(0,n._)`${e}, ${t}, ${a}${o}`:t,m=[[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,s)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&m.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);let h=(0,n._)`${p}, ${r.object(...m)}`;return d!==n.nil?(0,n._)`${u}.call(${d}, ${h})`:(0,n._)`${u}(${h})`};let c=(0,n._)`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){let a=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,a);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,n._)`${"new RegExp"===i.code?c:(0,o.useFunc)(e,i)}(${r}, ${a})`})},r.validateArray=function(e){let{gen:t,data:r,keyword:i,it:o}=e,s=t.name("valid");if(o.allErrors){let e=t.let("valid",!0);return l(()=>t.assign(e,!1)),e}return t.var(s,!0),l(()=>t.break()),s;function l(o){let l=t.const("len",(0,n._)`${r}.length`);t.forRange("i",0,l,r=>{e.subschema({keyword:i,dataProp:r,dataPropType:a.Type.Num},s),t.if((0,n.not)(s),o)})}},r.validateUnion=function(e){let{gen:t,schema:r,keyword:i,it:o}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(r.some(e=>(0,a.alwaysValidSchema)(o,e))&&!o.opts.unevaluated)return;let s=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((r,a)=>{let o=e.subschema({keyword:i,schemaProp:a,compositeRule:!0},l);t.assign(s,(0,n._)`${s} || ${l}`),e.mergeValidEvaluated(o,l)||t.if((0,n.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}},1055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;let n=e.r(79752),a=e.r(64104),i=e.r(54089),o=e.r(72153);function s(e){let{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,n._)`${a.parentData}[${a.parentDataProperty}]`))}function l(e,t,r){if(void 0===r)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}r.macroKeywordCode=function(e,t){let{gen:r,keyword:a,schema:i,parentSchema:o,it:s}=e,u=t.macro.call(s.self,i,o,s),d=l(r,a,u);!1!==s.opts.validateSchema&&s.self.validateSchema(u,!0);let c=r.name("valid");e.subschema({schema:u,schemaPath:n.nil,errSchemaPath:`${s.errSchemaPath}/${a}`,topSchemaRef:d,compositeRule:!0},c),e.pass(c,()=>e.error(!0))},r.funcKeywordCode=function(e,t){var r;let{gen:u,keyword:d,schema:c,parentSchema:p,$data:m,it:h}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}(h,t);let f=l(u,d,!m&&t.compile?t.compile.call(h.self,c,p,h):t.validate),g=u.let("valid");function y(r=t.async?(0,n._)`await `:n.nil){let o=h.opts.passContext?a.default.this:a.default.self,s=!("compile"in t&&!m||!1===t.schema);u.assign(g,(0,n._)`${r}${(0,i.callValidateCode)(e,f,o,s)}`,t.modifying)}function v(e){var r;u.if((0,n.not)(null!=(r=t.valid)?r:g),e)}e.block$data(g,function(){if(!1===t.errors)y(),t.modifying&&s(e),v(()=>e.error());else{let r,i,l=t.async?(r=u.let("ruleErrs",null),u.try(()=>y((0,n._)`await `),e=>u.assign(g,!1).if((0,n._)`${e} instanceof ${h.ValidationError}`,()=>u.assign(r,(0,n._)`${e}.errors`),()=>u.throw(e))),r):(i=(0,n._)`${f}.errors`,u.assign(i,null),y(n.nil),i);t.modifying&&s(e),v(()=>(function(e,t){let{gen:r}=e;r.if((0,n._)`Array.isArray(${t})`,()=>{r.assign(a.default.vErrors,(0,n._)`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,(0,n._)`${a.default.vErrors}.length`),(0,o.extendErrors)(e)},()=>e.error())})(e,l))}}),e.ok(null!=(r=t.valid)?r:g)},r.validSchemaType=function(e,t,r=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e)},r.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw Error("ajv implementation error");let o=a.dependencies;if(null==o?void 0:o.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){let e=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if("log"===t.validateSchema)r.logger.error(e);else throw Error(e)}}},81350,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;let n=e.r(79752),a=e.r(31878);r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:i,schemaPath:o,errSchemaPath:s,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let i=e.schema[t];return void 0===r?{schema:i,schemaPath:(0,n._)`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,n._)`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,a.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===o||void 0===s||void 0===l)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:o,topSchemaRef:l,errSchemaPath:s}}throw Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:i,data:o,dataTypes:s,propertyName:l}){if(void 0!==o&&void 0!==r)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:u}=t;if(void 0!==r){let{errorPath:o,dataPathArr:s,opts:l}=t;d(u.let("data",(0,n._)`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=(0,n.str)`${o}${(0,a.getErrorPath)(r,i,l.jsPropertySyntax)}`,e.parentDataProperty=(0,n._)`${r}`,e.dataPathArr=[...s,e.parentDataProperty]}function d(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==o&&(d(o instanceof n.Name?o:u.let("data",o,!0)),void 0!==l&&(e.propertyName=l)),s&&(e.dataTypes=s)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){void 0!==n&&(e.compositeRule=n),void 0!==a&&(e.createErrors=a),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}},40804,(e,t,r)=>{"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;0!=a--;){var n,a,i,o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},5738,(e,t,r)=>{"use strict";var n=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={});var a="function"==typeof(r=t.cb||r)?r:r.pre||function(){};!function e(t,r,a,i,o,s,l,u,d,c){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var p in r(i,o,s,l,u,d,c),i){var m=i[p];if(Array.isArray(m)){if(p in n.arrayKeywords)for(var h=0;h<m.length;h++)e(t,r,a,m[h],o+"/"+p+"/"+h,s,o,p,i,h)}else if(p in n.propsKeywords){if(m&&"object"==typeof m)for(var f in m)e(t,r,a,m[f],o+"/"+p+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,p,i,f)}else(p in n.keywords||t.allKeys&&!(p in n.skipKeywords))&&e(t,r,a,m,o+"/"+p,s,o,p,i)}a(i,o,s,l,u,d,c)}}(t,a,r.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},12045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;let n=e.r(31878),a=e.r(40804),i=e.r(5738),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!function e(t){for(let r in t){if(s.has(r))return!0;let n=t[r];if(Array.isArray(n)&&n.some(e)||"object"==typeof n&&e(n))return!0}return!1}(e):!!t&&function e(t){let r=0;for(let a in t)if("$ref"===a||(r++,!o.has(a)&&("object"==typeof t[a]&&(0,n.eachItem)(t[a],t=>r+=e(t)),r===1/0)))return 1/0;return r}(e)<=t)};let s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e,t="",r){!1!==r&&(t=c(t));let n=e.parse(t);return u(e,n)}function u(e,t){return e.serialize(t).split("#")[0]+"#"}r.getFullPath=l,r._getFullPath=u;let d=/#\/?$/;function c(e){return e?e.replace(d,""):""}r.normalizeId=c,r.resolveUrl=function(e,t,r){return r=c(r),e.resolve(t,r)};let p=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};let{schemaId:r,uriResolver:n}=this.opts,o=c(e[r]||t),s={"":o},u=l(n,o,!1),d={},m=new Set;return i(e,{allKeys:!0},(e,t,n,a)=>{if(void 0===a)return;let i=u+t,o=s[a];function l(t){let r=this.opts.uriResolver.resolve;if(t=c(o?r(o,t):t),m.has(t))throw f(t);m.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?h(e,n.schema,t):t!==c(i)&&("#"===t[0]?(h(e,d[t],t),d[t]=e):this.refs[t]=i),t}function g(e){if("string"==typeof e){if(!p.test(e))throw Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[r]&&(o=l.call(this,e[r])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),s[t]=o}),d;function h(e,t,r){if(void 0!==t&&!a(e,t))throw f(r)}function f(e){return Error(`reference "${e}" resolves to more than one schema`)}}},60607,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;let n=e.r(49146),a=e.r(42492),i=e.r(91021),o=e.r(42492),s=e.r(25614),l=e.r(1055),u=e.r(81350),d=e.r(79752),c=e.r(64104),p=e.r(12045),m=e.r(31878),h=e.r(72153);function f({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){var o;a.code.es5?e.func(t,(0,d._)`${c.default.data}, ${c.default.valCxt}`,n.$async,()=>{var t,n;e.code((0,d._)`"use strict"; ${g(r,a)}`),t=e,n=a,t.if(c.default.valCxt,()=>{t.var(c.default.instancePath,(0,d._)`${c.default.valCxt}.${c.default.instancePath}`),t.var(c.default.parentData,(0,d._)`${c.default.valCxt}.${c.default.parentData}`),t.var(c.default.parentDataProperty,(0,d._)`${c.default.valCxt}.${c.default.parentDataProperty}`),t.var(c.default.rootData,(0,d._)`${c.default.valCxt}.${c.default.rootData}`),n.dynamicRef&&t.var(c.default.dynamicAnchors,(0,d._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{t.var(c.default.instancePath,(0,d._)`""`),t.var(c.default.parentData,(0,d._)`undefined`),t.var(c.default.parentDataProperty,(0,d._)`undefined`),t.var(c.default.rootData,c.default.data),n.dynamicRef&&t.var(c.default.dynamicAnchors,(0,d._)`{}`)}),e.code(i)}):e.func(t,(0,d._)`${c.default.data}, ${(o=a,(0,d._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${o.dynamicRef?(0,d._)`, ${c.default.dynamicAnchors}={}`:d.nil}}={}`)}`,n.$async,()=>e.code(g(r,a)).code(i))}function g(e,t){let r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,d._)`/*# sourceURL=${r} */`:d.nil}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function b(e){(0,m.checkUnknownRules)(e),function(e){let{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function _(e,t){if(e.opts.jtd)return S(e,[],!1,t);let r=(0,a.getSchemaTypes)(e.schema),n=(0,a.coerceAndCheckDataType)(e,r);S(e,r,!n,t)}function w({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){let i=r.$comment;if(!0===a.$comment)e.code((0,d._)`${c.default.self}.logger.log(${i})`);else if("function"==typeof a.$comment){let r=(0,d.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,d._)`${c.default.self}.opts.$comment(${i}, ${r}, ${a}.schema)`)}}function S(e,t,r,n){var a,s,l,u;let{gen:p,schema:h,data:f,allErrors:g,opts:y,self:v}=e,{RULES:b}=v;if(h.$ref&&(y.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(h,b)))return void p.block(()=>O(e,"$ref",b.all.$ref.definition));function _(a){(0,i.shouldUseGroup)(h,a)&&(a.type?(p.if((0,o.checkDataType)(a.type,f,y.strictNumbers)),k(e,a),1===t.length&&t[0]===a.type&&r&&(p.else(),(0,o.reportTypeError)(e)),p.endIf()):k(e,a),g||p.if((0,d._)`${c.default.errors} === ${n||0}`))}y.jtd||(a=e,s=t,!a.schemaEnv.meta&&a.opts.strictTypes&&(function(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{x(e.dataTypes,t)||E(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,t){let r=[];for(let n of e.dataTypes)x(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}(e,t)}}(a,s),a.opts.allowUnionTypes||(l=a,(u=s).length>1&&!(2===u.length&&u.includes("null"))&&E(l,"use allowUnionTypes to allow union type keyword")),function(e,t){let r=e.self.RULES.all;for(let n in r){let a=r[n];if("object"==typeof a&&(0,i.shouldUseRule)(e.schema,a)){let{type:r}=a.definition;r.length&&!r.some(e=>{var r,n;return r=t,n=e,r.includes(n)||"number"===n&&r.includes("integer")})&&E(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(a,a.dataTypes))),p.block(()=>{for(let e of b.rules)_(e);_(b.post)})}function k(e,t){let{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,s.assignDefaults)(e,t.type),r.block(()=>{for(let r of t.rules)(0,i.shouldUseRule)(n,r)&&O(e,r.keyword,r.definition,t.type)})}function x(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function E(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,m.checkStrictMode)(e,t,e.opts.strictTypes)}r.validateFunctionCode=function(e){v(e)&&(b(e),y(e))?function(e){let{schema:t,opts:r,gen:n}=e;f(e,()=>{r.$comment&&t.$comment&&w(e),function(e){let{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,m.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(c.default.vErrors,null),n.let(c.default.errors,0),r.unevaluated&&function(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,d._)`${r}.evaluated`),t.if((0,d._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,d._)`${e.evaluated}.props`,(0,d._)`undefined`)),t.if((0,d._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,d._)`${e.evaluated}.items`,(0,d._)`undefined`))}(e),_(e),function(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if((0,d._)`${c.default.errors} === 0`,()=>t.return(c.default.data),()=>t.throw((0,d._)`new ${a}(${c.default.vErrors})`)):(t.assign((0,d._)`${n}.errors`,c.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof d.Name&&e.assign((0,d._)`${t}.props`,r),n instanceof d.Name&&e.assign((0,d._)`${t}.items`,n)}(e),t.return((0,d._)`${c.default.errors} === 0`))}(e)})}(e):f(e,()=>(0,n.topBoolOrEmptySchema)(e))};class T{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",C(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",c.default.errors))}result(e,t,r){this.failResult((0,d.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,d.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,d._)`${t} !== undefined && (${(0,d.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?h.reportExtraError:h.reportError)(this,this.def.error,t)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=d.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=d.nil,t=d.nil){if(!this.$data)return;let{gen:r,schemaCode:n,schemaType:a,def:i}=this;r.if((0,d.or)((0,d._)`${n} === undefined`,t)),e!==d.nil&&r.assign(e,!0),(a.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==d.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:n,it:a}=this;return(0,d.or)(function(){if(r.length){if(!(t instanceof d.Name))throw Error("ajv implementation error");let e=Array.isArray(r)?r:[r];return(0,d._)`${(0,o.checkDataTypes)(e,t,a.opts.strictNumbers,o.DataType.Wrong)}`}return d.nil}(),function(){if(n.validateSchema){let r=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,d._)`!${r}(${t})`}return d.nil}())}subschema(e,t){let r=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(r,this.it,e),(0,u.extendSubschemaMode)(r,e);let a={...this.it,...r,items:void 0,props:void 0};return!function(e,t){if(v(e)&&(b(e),y(e)))return function(e,t){var r;let n,{schema:a,gen:i,opts:o}=e;o.$comment&&a.$comment&&w(e),(n=(r=e).schema[r.opts.schemaId])&&(r.baseId=(0,p.resolveUrl)(r.opts.uriResolver,r.baseId,n)),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}(e);let s=i.const("_errs",c.default.errors);_(e,s),i.var(t,(0,d._)`${s} === ${c.default.errors}`)}(e,t);(0,n.boolOrEmptySchema)(e,t)}(a,t),a}mergeEvaluated(e,t){let{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=m.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=m.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,()=>this.mergeEvaluated(e,d.Name)),!0}}function O(e,t,r,n){let a=new T(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,l.funcKeywordCode)(a,r):"macro"in r?(0,l.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(a,r)}r.KeywordCxt=T;let I=/^\/(?:[^~]|~0|~1)*$/,P=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(""===e)return c.default.rootData;if("/"===e[0]){if(!I.test(e))throw Error(`Invalid JSON-pointer: ${e}`);a=e,i=c.default.rootData}else{let o=P.exec(e);if(!o)throw Error(`Invalid JSON-pointer: ${e}`);let l=+o[1];if("#"===(a=o[2])){if(l>=t)throw Error(s("property/index",l));return n[t-l]}if(l>t)throw Error(s("data",l));if(i=r[t-l],!a)return i}let o=i;for(let e of a.split("/"))e&&(i=(0,d._)`${i}${(0,d.getProperty)((0,m.unescapeJsonPointer)(e))}`,o=(0,d._)`${o} && ${i}`);return o;function s(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}r.getData=C},62098,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}},68503,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(12045);r.default=class extends Error{constructor(e,t,r,a){super(a||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}},95972,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;let n=e.r(79752),a=e.r(62098),i=e.r(64104),o=e.r(12045),s=e.r(31878),l=e.r(60607);class u{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(t=e.baseId)?t:(0,o.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function d(e){let t,r,s=p.call(this,e);if(s)return s;let u=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:d,lines:c}=this.opts.code,{ownProperties:m}=this.opts,h=new n.CodeGen(this.scope,{es5:d,lines:c,ownProperties:m});e.$async&&(t=h.scopeValue("Error",{ref:a.default,code:(0,n._)`require("ajv/dist/runtime/validation_error").default`}));let f=h.scopeName("validate");e.validateName=f;let g={gen:h,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:u,baseId:e.baseId||u,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,n._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,l.validateFunctionCode)(g),h.optimize(this.opts.code.optimize);let t=h.toString();r=`${h.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(r=this.opts.code.process(r,e));let a=Function(`${i.default.self}`,`${i.default.scope}`,r)(this,this.scope.get());if(this.scope.value(f,{ref:a}),a.errors=null,a.schema=e.schema,a.schemaEnv=e,e.$async&&(a.$async=!0),!0===this.opts.code.source&&(a.source={validateName:f,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){let{props:e,items:t}=g;a.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},a.source&&(a.source.evaluated=(0,n.stringify)(a.evaluated))}return e.validate=a,e}catch(t){throw delete e.validate,delete e.validateName,r&&this.logger.error("Error compiling schema, function code:",r),t}finally{this._compilations.delete(e)}}function c(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function p(e){for(let n of this._compilations){var t,r;if(t=n,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n}}function m(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||h.call(this,e,t)}function h(e,t){let r=this.opts.uriResolver.parse(t),n=(0,o._getFullPath)(this.opts.uriResolver,r),a=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return g.call(this,r,e);let i=(0,o.normalizeId)(n),s=this.refs[i]||this.schemas[i];if("string"==typeof s){let t=h.call(this,e,s);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,r,t)}if("object"==typeof(null==s?void 0:s.schema)){if(s.validate||d.call(this,s),i===(0,o.normalizeId)(t)){let{schema:t}=s,{schemaId:r}=this.opts,n=t[r];return n&&(a=(0,o.resolveUrl)(this.opts.uriResolver,a,n)),new u({schema:t,schemaId:r,root:e,baseId:a})}return g.call(this,r,s)}}r.SchemaEnv=u,r.compileSchema=d,r.resolveRef=function(e,t,r){var n;r=(0,o.resolveUrl)(this.opts.uriResolver,t,r);let a=e.refs[r];if(a)return a;let i=m.call(this,e,r);if(void 0===i){let a=null==(n=e.localRefs)?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new u({schema:a,schemaId:o,root:e,baseId:t}))}if(void 0!==i)return e.refs[r]=c.call(this,i)},r.getCompilingSchema=p,r.resolveSchema=h;let f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:r,root:n}){var a;let i;if((null==(a=e.fragment)?void 0:a[0])!=="/")return;for(let n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;let e=r[(0,s.unescapeFragment)(n)];if(void 0===e)return;let a="object"==typeof(r=e)&&r[this.opts.schemaId];!f.has(n)&&a&&(t=(0,o.resolveUrl)(this.opts.uriResolver,t,a))}if("boolean"!=typeof r&&r.$ref&&!(0,s.schemaHasRulesButRef)(r,this.RULES)){let e=(0,o.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=h.call(this,n,e)}let{schemaId:l}=this.opts;if((i=i||new u({schema:r,schemaId:l,root:n,baseId:t})).schema!==i.root.schema)return i}},90016,e=>{e.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},64600,(e,t,r)=>{"use strict";let n=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),a=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function i(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(48!==(r=e[n].charCodeAt(0))){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(!((r=e[n].charCodeAt(0))>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}function o(e){return e.length=0,!0}function s(e,t,r){if(e.length){let n=i(e);if(""===n)return r.error=!0,!1;t.push(n),e.length=0}return!0}function l(e){if(2>function(e,t){let r=0;for(let t=0;t<e.length;t++)":"===e[t]&&r++;return r}(e,":"))return{host:e,isIPV6:!1};let t=function(e){let t=0,r={error:!1,address:"",zone:""},n=[],a=[],l=!1,u=!1,d=s;for(let i=0;i<e.length;i++){let s=e[i];if("["!==s&&"]"!==s)if(":"===s){if(!0===l&&(u=!0),!d(a,n,r))break;if(++t>7){r.error=!0;break}i>0&&":"===e[i-1]&&(l=!0),n.push(":");continue}else if("%"===s){if(!d(a,n,r))break;d=o}else{a.push(s);continue}}return a.length&&(d===o?r.zone=a.join(""):u?n.push(a.join("")):n.push(i(a))),r.address=n.join(""),r}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,r=t.address;return t.zone&&(e+="%"+t.zone,r+="%25"+t.zone),{host:e,isIPV6:!0,escapedHost:r}}}t.exports={nonSimpleDomain:RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u),recomposeAuthority:function(e){let t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let r=unescape(e.host);if(!a(r)){let t=l(r);r=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(r)}return("number"==typeof e.port||"string"==typeof e.port)&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){let r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e},removeDotSegments:function(e){let t=e,r=[],n=-1,a=0;for(;a=t.length;){if(1===a)if("."===t)break;else if("/"===t){r.push("/");break}else{r.push(t);break}if(2===a){if("."===t[0]){if("."===t[1])break;else if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&("."===t[1]||"/"===t[1])){r.push("/");break}}else if(3===a&&"/.."===t){0!==r.length&&r.pop(),r.push("/");break}if("."===t[0]){if("."===t[1]){if("/"===t[2]){t=t.slice(3);continue}}else if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&"."===t[1]){if("/"===t[2]){t=t.slice(2);continue}else if("."===t[2]&&"/"===t[3]){t=t.slice(3),0!==r.length&&r.pop();continue}}if(-1===(n=t.indexOf("/",1))){r.push(t);break}r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")},isIPv4:a,isUUID:n,normalizeIPv6:l,stringArrayToHexStripped:i}},70751,(e,t,r)=>{"use strict";let{isUUID:n}=e.r(64600),a=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,i=["http","https","ws","wss","urn","urn:uuid"];function o(e){return!0===e.secure||!1!==e.secure&&!!e.scheme&&3===e.scheme.length&&("w"===e.scheme[0]||"W"===e.scheme[0])&&("s"===e.scheme[1]||"S"===e.scheme[1])&&("s"===e.scheme[2]||"S"===e.scheme[2])}function s(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function l(e){let t="https"===String(e.scheme).toLowerCase();return(e.port===(t?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}let u={scheme:"http",domainHost:!0,parse:s,serialize:l},d={scheme:"https",domainHost:u.domainHost,parse:s,serialize:l},c={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=o(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if((e.port===(o(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}},p={scheme:"wss",domainHost:c.domainHost,parse:c.parse,serialize:c.serialize},m={http:u,https:d,ws:c,wss:p,urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(a);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let a=h(`${n}:${t.nid||e.nid}`);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){if(void 0===e.nid)throw Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=h(`${r}:${t.nid||n}`);a&&(e=a.serialize(e,t));let i=e,o=e.nss;return i.path=`${n||t.nid}:${o}`,t.skipEscape=!0,i},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,t){return e.uuid=e.nss,e.nss=void 0,t.tolerant||e.uuid&&n(e.uuid)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e){return e.nss=(e.uuid||"").toLowerCase(),e},skipNormalize:!0}};function h(e){return e&&(m[e]||m[e.toLowerCase()])||void 0}Object.setPrototypeOf(m,null),t.exports={wsIsSecure:o,SCHEMES:m,isValidSchemeName:function(e){return -1!==i.indexOf(e)},getSchemeHandler:h}},4957,(e,t,r)=>{"use strict";let{normalizeIPv6:n,removeDotSegments:a,recomposeAuthority:i,normalizeComponentEncoding:o,isIPv4:s,nonSimpleDomain:l}=e.r(64600),{SCHEMES:u,getSchemeHandler:d}=e.r(70751);function c(e,t,r,n){let i={};return n||(e=h(p(e,r),r),t=h(p(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=a(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=a(t.path||""),i.query=t.query):(t.path?("/"===t.path[0]?i.path=a(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=a(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function p(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),o=[],s=d(n.scheme||r.scheme);s&&s.serialize&&s.serialize(r,n),void 0!==r.path&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==n.reference&&r.scheme&&o.push(r.scheme,":");let l=i(r);if(void 0!==l&&("suffix"!==n.reference&&o.push("//"),o.push(l),r.path&&"/"!==r.path[0]&&o.push("/")),void 0!==r.path){let e=r.path;n.absolutePath||s&&s.absolutePath||(e=a(e)),void 0===l&&"/"===e[0]&&"/"===e[1]&&(e="/%2F"+e.slice(2)),o.push(e)}return void 0!==r.query&&o.push("?",r.query),void 0!==r.fragment&&o.push("#",r.fragment),o.join("")}let m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function h(e,t){let r=Object.assign({},t),a={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=!1;"suffix"===r.reference&&(e=r.scheme?r.scheme+":"+e:"//"+e);let o=e.match(m);if(o){if(a.scheme=o[1],a.userinfo=o[3],a.host=o[4],a.port=parseInt(o[5],10),a.path=o[6]||"",a.query=o[7],a.fragment=o[8],isNaN(a.port)&&(a.port=o[5]),a.host)if(!1===s(a.host)){let e=n(a.host);a.host=e.host.toLowerCase(),i=e.isIPV6}else i=!0;void 0!==a.scheme||void 0!==a.userinfo||void 0!==a.host||void 0!==a.port||void 0!==a.query||a.path?void 0===a.scheme?a.reference="relative":void 0===a.fragment?a.reference="absolute":a.reference="uri":a.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==a.reference&&(a.error=a.error||"URI is not a "+r.reference+" reference.");let t=d(r.scheme||a.scheme);if(!r.unicodeSupport&&(!t||!t.unicodeSupport)&&a.host&&(r.domainHost||t&&t.domainHost)&&!1===i&&l(a.host))try{a.host=URL.domainToASCII(a.host.toLowerCase())}catch(e){a.error=a.error||"Host's domain name can not be converted to ASCII: "+e}(!t||t&&!t.skipNormalize)&&(-1!==e.indexOf("%")&&(void 0!==a.scheme&&(a.scheme=unescape(a.scheme)),void 0!==a.host&&(a.host=unescape(a.host))),a.path&&(a.path=escape(unescape(a.path))),a.fragment&&(a.fragment=encodeURI(decodeURIComponent(a.fragment)))),t&&t.parse&&t.parse(a,r)}else a.error=a.error||"URI can not be parsed.";return a}let f={SCHEMES:u,normalize:function(e,t){return"string"==typeof e?e=p(h(e,t),t):"object"==typeof e&&(e=h(p(e,t),t)),e},resolve:function(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},a=c(h(e,n),h(t,n),n,!0);return n.skipEscape=!0,p(a,n)},resolveComponent:c,equal:function(e,t,r){return"string"==typeof e?e=p(o(h(e=unescape(e),r),!0),{...r,skipEscape:!0}):"object"==typeof e&&(e=p(o(e,!0),{...r,skipEscape:!0})),"string"==typeof t?t=p(o(h(t=unescape(t),r),!0),{...r,skipEscape:!0}):"object"==typeof t&&(t=p(o(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:p,parse:h};t.exports=f,t.exports.default=f,t.exports.fastUri=f},61022,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(4957);n.code='require("ajv/dist/runtime/uri").default',r.default=n},31631,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var n=e.r(60607);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var a=e.r(79752);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});let i=e.r(62098),o=e.r(68503),s=e.r(81727),l=e.r(95972),u=e.r(79752),d=e.r(12045),c=e.r(42492),p=e.r(31878),m=e.r(90016),h=e.r(61022),f=(e,t)=>new RegExp(e,t);f.code="new RegExp";let g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...function(e){var t,r,n,a,i,o,s,l,u,d,c,p,m,g,y,v,b,_,w,S,k,x,E,T,O;let I=e.strict,P=null==(t=e.code)?void 0:t.optimize,C=!0===P||void 0===P?1:P||0,A=null!=(n=null==(r=e.code)?void 0:r.regExp)?n:f,j=null!=(a=e.uriResolver)?a:h.default;return{strictSchema:null==(o=null!=(i=e.strictSchema)?i:I)||o,strictNumbers:null==(l=null!=(s=e.strictNumbers)?s:I)||l,strictTypes:null!=(d=null!=(u=e.strictTypes)?u:I)?d:"log",strictTuples:null!=(p=null!=(c=e.strictTuples)?c:I)?p:"log",strictRequired:null!=(g=null!=(m=e.strictRequired)?m:I)&&g,code:e.code?{...e.code,optimize:C,regExp:A}:{optimize:C,regExp:A},loopRequired:null!=(y=e.loopRequired)?y:200,loopEnum:null!=(v=e.loopEnum)?v:200,meta:null==(b=e.meta)||b,messages:null==(_=e.messages)||_,inlineRefs:null==(w=e.inlineRefs)||w,schemaId:null!=(S=e.schemaId)?S:"$id",addUsedSchema:null==(k=e.addUsedSchema)||k,validateSchema:null==(x=e.validateSchema)||x,validateFormats:null==(E=e.validateFormats)||E,unicodeRegExp:null==(T=e.unicodeRegExp)||T,int32range:null==(O=e.int32range)||O,uriResolver:j}}(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:y,es5:t,lines:r}),this.logger=function(e){if(!1===e)return O;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,s.getRules)(),w.call(this,v,e,"NOT SUPPORTED"),w.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=T.call(this),e.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&E.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),k.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,n=m;"id"===r&&((n={...m}).id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await a.call(this,e.$schema);let r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function a(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return s.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){let r=await u.call(this,e);this.refs[e]||await a.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){let a;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,r,n);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(a=e[t])&&"string"!=typeof a)throw Error(`schema ${t} must be string`)}return t=(0,d.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){let r;if("boolean"==typeof e)return!0;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(r,e);if(!n&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){let{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(!(t=l.resolveSchema.call(this,n,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,d.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if("object"==typeof e&&void 0===t){if(Array.isArray(r=(t=e).keyword)&&!r.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(P.call(this,r,t),!t)return(0,p.eachItem)(r,e=>C.call(this,e)),this;j.call(this,t);let n={...t,type:(0,c.getJSONTypes)(t.type),schemaType:(0,c.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(r,0===n.type.length?e=>C.call(this,e,n):e=>n.type.forEach(t=>C.call(this,e,n,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let r of(delete t.keywords[e],delete t.all[e],t.rules)){let t=r.rules.findIndex(t=>t.keyword===e);t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map(e=>`${r}${e.instancePath} ${e.message}`).reduce((e,r)=>e+t+r):"No errors"}$dataMetaSchema(e,t){let r=this.RULES.all;for(let n of(e=JSON.parse(JSON.stringify(e)),t)){let t=n.split("/").slice(1),a=e;for(let e of t)a=a[e];for(let e in r){let t=r[e];if("object"!=typeof t)continue;let{$data:n}=t.definition,i=a[e];n&&i&&(a[e]=R(i))}}return e}_removeAllSchemas(e,t){for(let r in e){let n=e[r];(!t||t.test(r))&&("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,a=this.opts.addUsedSchema){let i,{schemaId:o}=this.opts;if("object"==typeof e)i=e[o];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof e)throw Error("schema must be object or boolean");let s=this._cache.get(e);if(void 0!==s)return s;r=(0,d.normalizeId)(i||r);let u=d.getSchemaRefs.call(this,e,r);return s=new l.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:r,localRefs:u}),this._cache.set(s.schema,s),a&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=s),n&&this.validateSchema(e,!0),s}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,n="error"){for(let a in e)a in t&&this.logger[n](`${r}: option ${a}. ${e[a]}`)}function S(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function k(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function x(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E(e){if(Array.isArray(e))return void this.addVocabulary(e);for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function T(){let e={...this.opts};for(let t of g)delete e[t];return e}_.ValidationError=i.default,_.MissingRefError=o.default,r.default=_;let O={log(){},warn(){},error(){}},I=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){let{RULES:r}=this;if((0,p.eachItem)(e,e=>{if(r.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!I.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function C(e,t,r){var n;let a=null==t?void 0:t.post;if(r&&a)throw Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,o=a?i.post:i.rules.find(({type:e})=>e===r);if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;let s={keyword:e,definition:{...t,type:(0,c.getJSONTypes)(t.type),schemaType:(0,c.getJSONTypes)(t.schemaType)}};t.before?A.call(this,o,s,t.before):o.rules.push(s),i.all[e]=s,null==(n=t.implements)||n.forEach(e=>this.addKeyword(e))}function A(e,t,r){let n=e.rules.findIndex(e=>e.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function j(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=R(t)),e.validateSchema=this.compile(t,!0))}let z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(e){return{anyOf:[e,z]}}},73334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},54154,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;let n=e.r(68503),a=e.r(54089),i=e.r(79752),o=e.r(64104),s=e.r(95972),l=e.r(31878);function u(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,i._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,r,n){let{gen:s,it:u}=e,{allErrors:d,schemaEnv:c,opts:p}=u,m=p.passContext?o.default.this:i.nil;function h(e){let t=(0,i._)`${e}.errors`;s.assign(o.default.vErrors,(0,i._)`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),s.assign(o.default.errors,(0,i._)`${o.default.vErrors}.length`)}function f(e){var t;if(!u.opts.unevaluated)return;let n=null==(t=null==r?void 0:r.validate)?void 0:t.evaluated;if(!0!==u.props)if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=l.mergeEvaluated.props(s,n.props,u.props));else{let t=s.var("props",(0,i._)`${e}.evaluated.props`);u.props=l.mergeEvaluated.props(s,t,u.props,i.Name)}if(!0!==u.items)if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=l.mergeEvaluated.items(s,n.items,u.items));else{let t=s.var("items",(0,i._)`${e}.evaluated.items`);u.items=l.mergeEvaluated.items(s,t,u.items,i.Name)}}n?function(){if(!c.$async)throw Error("async schema referenced by sync schema");let r=s.let("valid");s.try(()=>{s.code((0,i._)`await ${(0,a.callValidateCode)(e,t,m)}`),f(t),d||s.assign(r,!0)},e=>{s.if((0,i._)`!(${e} instanceof ${u.ValidationError})`,()=>s.throw(e)),h(e),d||s.assign(r,!1)}),e.ok(r)}():e.result((0,a.callValidateCode)(e,t,m),()=>f(t),()=>h(t))}r.getValidate=u,r.callRef=d,r.default={keyword:"$ref",schemaType:"string",code(e){var t,r;let a,o,l,c,{gen:p,schema:m,it:h}=e,{baseId:f,schemaEnv:g,validateName:y,opts:v,self:b}=h,{root:_}=g;if(("#"===m||"#/"===m)&&f===_.baseId){if(g===_)return d(e,y,g,g.$async);let t=p.scopeValue("root",{ref:_});return d(e,(0,i._)`${t}.validate`,_,_.$async)}let w=s.resolveRef.call(b,_,f,m);if(void 0===w)throw new n.default(h.opts.uriResolver,f,m);return w instanceof s.SchemaEnv?(a=u(e,t=w),void d(e,a,t,t.$async)):(r=w,o=p.scopeValue("schema",!0===v.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),l=p.name("valid"),c=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:m},l),void(e.mergeEvaluated(c),e.ok(l)))}}},87080,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(73334),a=e.r(54154);r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,a.default]},80849,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=n.operators,i={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}};r.default={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,n.str)`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,n._)`{comparison: ${i[e].okStr}, limit: ${t}}`},code(e){let{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,n._)`${r} ${i[t].fail} ${a} || isNaN(${r})`)}}},23778,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752);r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,n.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,n._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:r,schemaCode:a,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),l=o?(0,n._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,n._)`${s} !== parseInt(${s})`;e.fail$data((0,n._)`(${a} === 0 || (${s} = ${r}/${a}, ${l}))`)}}},2403,(e,t,r)=>{"use strict";function n(e){let t,r=e.length,n=0,a=0;for(;a<r;)n++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r&&(64512&(t=e.charCodeAt(a)))==56320&&a++;return n}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},40904,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878),i=e.r(2403);r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,n.str)`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:o,it:s}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,u=!1===s.opts.unicode?(0,n._)`${r}.length`:(0,n._)`${(0,a.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,n._)`${u} ${l} ${o}`)}}},68613,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54089),a=e.r(79752);r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,a._)`{pattern: ${e}}`},code(e){let{data:t,$data:r,schema:i,schemaCode:o,it:s}=e,l=s.opts.unicodeRegExp?"u":"",u=r?(0,a._)`(new RegExp(${o}, ${l}))`:(0,n.usePattern)(e,i);e.fail$data((0,a._)`!${u}.test(${t})`)}}},62917,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752);r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,n.str)`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:a}=e,i="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data((0,n._)`Object.keys(${r}).length ${i} ${a}`)}}},27874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54089),a=e.r(79752),i=e.r(31878);r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,a.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,a._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:r,schemaCode:o,data:s,$data:l,it:u}=e,{opts:d}=u;if(!l&&0===r.length)return;let c=r.length>=d.loopRequired;if(u.allErrors?function(){if(c||l)e.block$data(a.nil,p);else for(let t of r)(0,n.checkReportMissingProp)(e,t)}():function(){let i=t.let("missing");if(c||l){let r=t.let("valid",!0);e.block$data(r,()=>{var l,u;return l=i,u=r,void(e.setParams({missingProperty:l}),t.forOf(l,o,()=>{t.assign(u,(0,n.propertyInData)(t,s,l,d.ownProperties)),t.if((0,a.not)(u),()=>{e.error(),t.break()})},a.nil))}),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,i)),(0,n.reportMissingProp)(e,i),t.else()}(),d.strictRequired){let t=e.parentSchema.properties,{definedProperties:n}=e.it;for(let e of r)if((null==t?void 0:t[e])===void 0&&!n.has(e)){let t=u.schemaEnv.baseId+u.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,i.checkStrictMode)(u,r,u.opts.strictRequired)}}function p(){t.forOf("prop",o,r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,s,r,d.ownProperties),()=>e.error())})}}}},42180,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752);r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,n.str)`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:a}=e,i="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data((0,n._)`${r}.length ${i} ${a}`)}}},5336,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(40804);n.code='require("ajv/dist/runtime/equal").default',r.default=n},91472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(42492),a=e.r(79752),i=e.r(31878),o=e.r(5336);r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,a.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,a._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:r,$data:s,schema:l,parentSchema:u,schemaCode:d,it:c}=e;if(!s&&!l)return;let p=t.let("valid"),m=u.items?(0,n.getSchemaTypes)(u.items):[];e.block$data(p,function(){let s=t.let("i",(0,a._)`${r}.length`),l=t.let("j");e.setParams({i:s,j:l}),t.assign(p,!0),t.if((0,a._)`${s} > 1`,()=>(m.length>0&&!m.some(e=>"object"===e||"array"===e)?function(i,o){let s=t.name("item"),l=(0,n.checkDataTypes)(m,s,c.opts.strictNumbers,n.DataType.Wrong),u=t.const("indices",(0,a._)`{}`);t.for((0,a._)`;${i}--;`,()=>{t.let(s,(0,a._)`${r}[${i}]`),t.if(l,(0,a._)`continue`),m.length>1&&t.if((0,a._)`typeof ${s} == "string"`,(0,a._)`${s} += "_"`),t.if((0,a._)`typeof ${u}[${s}] == "number"`,()=>{t.assign(o,(0,a._)`${u}[${s}]`),e.error(),t.assign(p,!1).break()}).code((0,a._)`${u}[${s}] = ${i}`)})}:function(n,s){let l=(0,i.useFunc)(t,o.default),u=t.name("outer");t.label(u).for((0,a._)`;${n}--;`,()=>t.for((0,a._)`${s} = ${n}; ${s}--;`,()=>t.if((0,a._)`${l}(${r}[${n}], ${r}[${s}])`,()=>{e.error(),t.assign(p,!1).break(u)})))})(s,l))},(0,a._)`${d} === false`),e.ok(p)}}},32167,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878),i=e.r(5336);r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,n._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:r,$data:o,schemaCode:s,schema:l}=e;o||l&&"object"==typeof l?e.fail$data((0,n._)`!${(0,a.useFunc)(t,i.default)}(${r}, ${s})`):e.fail((0,n._)`${l} !== ${r}`)}}},6169,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878),i=e.r(5336);r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,n._)`{allowedValues: ${e}}`},code(e){let t,r,{gen:o,data:s,$data:l,schema:u,schemaCode:d,it:c}=e;if(!l&&0===u.length)throw Error("enum must have non-empty array");let p=u.length>=c.opts.loopEnum,m=()=>null!=t?t:t=(0,a.useFunc)(o,i.default);if(p||l)r=o.let("valid"),e.block$data(r,function(){o.assign(r,!1),o.forOf("v",d,e=>o.if((0,n._)`${m()}(${s}, ${e})`,()=>o.assign(r,!0).break()))});else{if(!Array.isArray(u))throw Error("ajv implementation error");let e=o.const("vSchema",d);r=(0,n.or)(...u.map((t,r)=>{var a,i;let o;return a=e,"object"==typeof(o=u[i=r])&&null!==o?(0,n._)`${m()}(${s}, ${a}[${i}])`:(0,n._)`${s} === ${o}`}))}e.pass(r)}}},29488,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(80849),a=e.r(23778),i=e.r(40904),o=e.r(68613),s=e.r(62917),l=e.r(27874),u=e.r(42180),d=e.r(91472),c=e.r(32167),p=e.r(6169);r.default=[n.default,a.default,i.default,o.default,s.default,l.default,u.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,p.default]},84323,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;let n=e.r(79752),a=e.r(31878);function i(e,t){let{gen:r,schema:i,data:o,keyword:s,it:l}=e;l.items=!0;let u=r.const("len",(0,n._)`${o}.length`);if(!1===i)e.setParams({len:t.length}),e.pass((0,n._)`${u} <= ${t.length}`);else if("object"==typeof i&&!(0,a.alwaysValidSchema)(l,i)){let i=r.var("valid",(0,n._)`${u} <= ${t.length}`);r.if((0,n.not)(i),()=>{var o;return o=i,void r.forRange("i",t.length,u,t=>{e.subschema({keyword:s,dataProp:t,dataPropType:a.Type.Num},o),l.allErrors||r.if((0,n.not)(o),()=>r.break())})}),e.ok(i)}}r.validateAdditionalItems=i,r.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,n.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,n._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?i(e,n):(0,a.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}}},23725,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;let n=e.r(79752),a=e.r(31878),i=e.r(54089);function o(e,t,r=e.schema){let{gen:i,parentSchema:s,data:l,keyword:u,it:d}=e;(function(e){let{opts:n,errSchemaPath:i}=d,o=r.length,s=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!s){let e=`"${u}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,a.checkStrictMode)(d,e,n.strictTuples)}})(s),d.opts.unevaluated&&r.length&&!0!==d.items&&(d.items=a.mergeEvaluated.items(i,r.length,d.items));let c=i.name("valid"),p=i.const("len",(0,n._)`${l}.length`);r.forEach((t,r)=>{(0,a.alwaysValidSchema)(d,t)||(i.if((0,n._)`${p} > ${r}`,()=>e.subschema({keyword:u,schemaProp:r,dataProp:r},c)),e.ok(c))})}r.validateTuple=o,r.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return o(e,"additionalItems",t);r.items=!0,(0,a.alwaysValidSchema)(r,t)||e.ok((0,i.validateArray)(e))}}},75905,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(23725);r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")}},35739,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878),i=e.r(54089),o=e.r(84323);r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,n.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,n._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,(0,a.alwaysValidSchema)(n,t)||(s?(0,o.validateAdditionalItems)(e,s):e.ok((0,i.validateArray)(e)))}}},43090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878);r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,n.str)`must contain at least ${e} valid item(s)`:(0,n.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,n._)`{minContains: ${e}}`:(0,n._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,r,{gen:i,schema:o,parentSchema:s,data:l,it:u}=e,{minContains:d,maxContains:c}=s;u.opts.next?(t=void 0===d?1:d,r=c):t=1;let p=i.const("len",(0,n._)`${l}.length`);if(e.setParams({min:t,max:r}),void 0===r&&0===t)return void(0,a.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==r&&t>r){(0,a.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,a.alwaysValidSchema)(u,o)){let a=(0,n._)`${p} >= ${t}`;void 0!==r&&(a=(0,n._)`${a} && ${p} <= ${r}`),e.pass(a);return}u.items=!0;let m=i.name("valid");function h(){let e=i.name("_valid"),a=i.let("count",0);f(e,()=>i.if(e,()=>{var e;return e=a,void(i.code((0,n._)`${e}++`),void 0===r?i.if((0,n._)`${e} >= ${t}`,()=>i.assign(m,!0).break()):(i.if((0,n._)`${e} > ${r}`,()=>i.assign(m,!1).break()),1===t?i.assign(m,!0):i.if((0,n._)`${e} >= ${t}`,()=>i.assign(m,!0))))}))}function f(t,r){i.forRange("i",0,p,n=>{e.subschema({keyword:"contains",dataProp:n,dataPropType:a.Type.Num,compositeRule:!0},t),r()})}void 0===r&&1===t?f(m,()=>i.if(m,()=>i.break())):0===t?(i.let(m,!0),void 0!==r&&i.if((0,n._)`${l}.length > 0`,h)):(i.let(m,!1),h()),e.result(m,()=>e.reset())}}},41,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;let n=e.r(79752),a=e.r(31878),i=e.r(54089);r.error={message:({params:{property:e,depsCount:t,deps:r}})=>(0,n.str)`must have ${1===t?"property":"properties"} ${r} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:r,missingProperty:a}})=>(0,n._)`{property: ${e},
    missingProperty: ${a},
    depsCount: ${t},
    deps: ${r}}`};let o={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(e){let[t,r]=function({schema:e}){let t={},r={};for(let n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);s(e,t),l(e,r)}};function s(e,t=e.schema){let{gen:r,data:a,it:o}=e;if(0===Object.keys(t).length)return;let l=r.let("missing");for(let s in t){let u=t[s];if(0===u.length)continue;let d=(0,i.propertyInData)(r,a,s,o.opts.ownProperties);e.setParams({property:s,depsCount:u.length,deps:u.join(", ")}),o.allErrors?r.if(d,()=>{for(let t of u)(0,i.checkReportMissingProp)(e,t)}):(r.if((0,n._)`${d} && (${(0,i.checkMissingProp)(e,u,l)})`),(0,i.reportMissingProp)(e,l),r.else())}}function l(e,t=e.schema){let{gen:r,data:n,keyword:o,it:s}=e,u=r.name("valid");for(let l in t)(0,a.alwaysValidSchema)(s,t[l])||(r.if((0,i.propertyInData)(r,n,l,s.opts.ownProperties),()=>{let t=e.subschema({keyword:o,schemaProp:l},u);e.mergeValidEvaluated(t,u)},()=>r.var(u,!0)),e.ok(u))}r.validatePropertyDeps=s,r.validateSchemaDeps=l,r.default=o},8354,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878);r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,n._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:r,data:i,it:o}=e;if((0,a.alwaysValidSchema)(o,r))return;let s=t.name("valid");t.forIn("key",i,r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if((0,n.not)(s),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(s)}}},91249,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54089),a=e.r(79752),i=e.r(64104),o=e.r(31878);r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,a._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:r,parentSchema:s,data:l,errsCount:u,it:d}=e;if(!u)throw Error("ajv implementation error");let{allErrors:c,opts:p}=d;if(d.props=!0,"all"!==p.removeAdditional&&(0,o.alwaysValidSchema)(d,r))return;let m=(0,n.allSchemaProperties)(s.properties),h=(0,n.allSchemaProperties)(s.patternProperties);function f(e){t.code((0,a._)`delete ${l}[${e}]`)}function g(n){if("all"===p.removeAdditional||p.removeAdditional&&!1===r)return void f(n);if(!1===r){e.setParams({additionalProperty:n}),e.error(),c||t.break();return}if("object"==typeof r&&!(0,o.alwaysValidSchema)(d,r)){let r=t.name("valid");"failing"===p.removeAdditional?(y(n,r,!1),t.if((0,a.not)(r),()=>{e.reset(),f(n)})):(y(n,r),c||t.if((0,a.not)(r),()=>t.break()))}}function y(t,r,n){let a={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===n&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,r)}t.forIn("key",l,r=>{m.length||h.length?t.if(function(r){let i;if(m.length>8){let e=(0,o.schemaRefOrVal)(d,s.properties,"properties");i=(0,n.isOwnProperty)(t,e,r)}else i=m.length?(0,a.or)(...m.map(e=>(0,a._)`${r} === ${e}`)):a.nil;return h.length&&(i=(0,a.or)(i,...h.map(t=>(0,a._)`${(0,n.usePattern)(e,t)}.test(${r})`))),(0,a.not)(i)}(r),()=>g(r)):g(r)}),e.ok((0,a._)`${u} === ${i.default.errors}`)}}},26840,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(60607),a=e.r(54089),i=e.r(31878),o=e.r(91249);r.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:s,data:l,it:u}=e;"all"===u.opts.removeAdditional&&void 0===s.additionalProperties&&o.default.code(new n.KeywordCxt(u,o.default,"additionalProperties"));let d=(0,a.allSchemaProperties)(r);for(let e of d)u.definedProperties.add(e);u.opts.unevaluated&&d.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,(0,i.toHash)(d),u.props));let c=d.filter(e=>!(0,i.alwaysValidSchema)(u,r[e]));if(0===c.length)return;let p=t.name("valid");for(let n of c){var m;(m=n,u.opts.useDefaults&&!u.compositeRule&&void 0!==r[m].default)?h(n):(t.if((0,a.propertyInData)(t,l,n,u.opts.ownProperties)),h(n),u.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(p)}function h(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}}},76890,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54089),a=e.r(79752),i=e.r(31878),o=e.r(31878);r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:s,parentSchema:l,it:u}=e,{opts:d}=u,c=(0,n.allSchemaProperties)(r),p=c.filter(e=>(0,i.alwaysValidSchema)(u,r[e]));if(0===c.length||p.length===c.length&&(!u.opts.unevaluated||!0===u.props))return;let m=d.strictSchema&&!d.allowMatchingProperties&&l.properties,h=t.name("valid");!0===u.props||u.props instanceof a.Name||(u.props=(0,o.evaluatedPropsToName)(t,u.props));let{props:f}=u;for(let e of c)m&&function(e){for(let t in m)new RegExp(e).test(t)&&(0,i.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}(e),u.allErrors?g(e):(t.var(h,!0),g(e),t.if(h));function g(r){t.forIn("key",s,i=>{t.if((0,a._)`${(0,n.usePattern)(e,r)}.test(${i})`,()=>{let n=p.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:o.Type.Str},h),u.opts.unevaluated&&!0!==f?t.assign((0,a._)`${f}[${i}]`,!0):n||u.allErrors||t.if((0,a.not)(h),()=>t.break())})})}}}},56205,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(31878);r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:a}=e;if((0,n.alwaysValidSchema)(a,r))return void e.fail();let i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},86401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.r(54089).validateUnion,error:{message:"must match a schema in anyOf"}}},28655,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878);r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,n._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:r,parentSchema:i,it:o}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(o.opts.discriminator&&i.discriminator)return;let s=t.let("valid",!1),l=t.let("passing",null),u=t.name("_valid");e.setParams({passing:l}),t.block(function(){r.forEach((r,i)=>{let d;(0,a.alwaysValidSchema)(o,r)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},u),i>0&&t.if((0,n._)`${u} && ${s}`).assign(s,!1).assign(l,(0,n._)`[${l}, ${i}]`).else(),t.if(u,()=>{t.assign(s,!0),t.assign(l,i),d&&e.mergeEvaluated(d,n.Name)})})}),e.result(s,()=>e.reset(),()=>e.error(!0))}}},99928,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(31878);r.default={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:a}=e;if(!Array.isArray(r))throw Error("ajv implementation error");let i=t.name("valid");r.forEach((t,r)=>{if((0,n.alwaysValidSchema)(a,t))return;let o=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(o)})}}},44909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(31878);function i(e,t){let r=e.schema[t];return void 0!==r&&!(0,a.alwaysValidSchema)(e,r)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,n.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,n._)`{failingKeyword: ${e.ifClause}}`},code(e){let t,{gen:r,parentSchema:o,it:s}=e;void 0===o.then&&void 0===o.else&&(0,a.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let l=i(s,"then"),u=i(s,"else");if(!l&&!u)return;let d=r.let("valid",!0),c=r.name("_valid");if(t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c),e.mergeEvaluated(t),e.reset(),l&&u){let t=r.let("ifClause");e.setParams({ifClause:t}),r.if(c,p("then",t),p("else",t))}else l?r.if(c,p("then")):r.if((0,n.not)(c),p("else"));function p(t,a){return()=>{let i=e.subschema({keyword:t},c);r.assign(d,c),e.mergeValidEvaluated(i,d),a?r.assign(a,(0,n._)`${t}`):e.setParams({ifClause:t})}}e.pass(d,()=>e.error(!0))}}},36009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(31878);r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},3002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(84323),a=e.r(75905),i=e.r(23725),o=e.r(35739),s=e.r(43090),l=e.r(41),u=e.r(8354),d=e.r(91249),c=e.r(26840),p=e.r(76890),m=e.r(56205),h=e.r(86401),f=e.r(28655),g=e.r(99928),y=e.r(44909),v=e.r(36009);r.default=function(e=!1){let t=[m.default,h.default,f.default,g.default,y.default,v.default,u.default,d.default,l.default,c.default,p.default];return e?t.push(a.default,o.default):t.push(n.default,i.default),t.push(s.default),t}},25970,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752);r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,n.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,n._)`{format: ${e}}`},code(e,t){let r,a,i,o,s,l,{gen:u,data:d,$data:c,schema:p,schemaCode:m,it:h}=e,{opts:f,errSchemaPath:g,schemaEnv:y,self:v}=h;f.validateFormats&&(c?(r=u.scopeValue("formats",{ref:v.formats,code:f.code.formats}),a=u.const("fDef",(0,n._)`${r}[${m}]`),i=u.let("fType"),o=u.let("format"),u.if((0,n._)`typeof ${a} == "object" && !(${a} instanceof RegExp)`,()=>u.assign(i,(0,n._)`${a}.type || "string"`).assign(o,(0,n._)`${a}.validate`),()=>u.assign(i,(0,n._)`"string"`).assign(o,a)),e.fail$data((0,n.or)(!1===f.strictSchema?n.nil:(0,n._)`${m} && !${o}`,(s=y.$async?(0,n._)`(${a}.async ? await ${o}(${d}) : ${o}(${d}))`:(0,n._)`${o}(${d})`,l=(0,n._)`(typeof ${o} == "function" ? ${s} : ${o}.test(${d}))`,(0,n._)`${o} && ${o} !== true && ${i} === ${t} && !${l}`)))):function(){var r;let a,i,o=v.formats[p];if(!o){if(!1===f.strictSchema)return v.logger.warn(s());throw Error(s());function s(){return`unknown format "${p}" ignored in schema at path "${g}"`}}if(!0===o)return;let[l,c,m]=(a=(r=o)instanceof RegExp?(0,n.regexpCode)(r):f.code.formats?(0,n._)`${f.code.formats}${(0,n.getProperty)(p)}`:void 0,i=u.scopeValue("formats",{key:p,ref:r,code:a}),"object"!=typeof r||r instanceof RegExp?["string",r,i]:[r.type||"string",r.validate,(0,n._)`${i}.validate`]);l===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!y.$async)throw Error("async format in sync schema");return(0,n._)`await ${m}(${d})`}return"function"==typeof c?(0,n._)`${m}(${d})`:(0,n._)`${m}.test(${d})`}())}())}}},20539,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=[e.r(25970).default]},48570,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37851,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(87080),a=e.r(29488),i=e.r(3002),o=e.r(20539),s=e.r(48570);r.default=[n.default,a.default,(0,i.default)(),o.default,s.metadataVocabulary,s.contentVocabulary]},40067,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(a=n||(r.DiscrError=n={})).Tag="tag",a.Mapping="mapping"},92391,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(79752),a=e.r(40067),i=e.r(95972),o=e.r(68503),s=e.r(31878);r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===a.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,n._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){let{gen:t,data:r,schema:l,parentSchema:u,it:d}=e,{oneOf:c}=u;if(!d.opts.discriminator)throw Error("discriminator: requires discriminator option");let p=l.propertyName;if("string"!=typeof p)throw Error("discriminator: requires propertyName");if(l.mapping)throw Error("discriminator: mapping is not supported");if(!c)throw Error("discriminator: requires oneOf keyword");let m=t.let("valid",!1),h=t.const("tag",(0,n._)`${r}${(0,n.getProperty)(p)}`);t.if((0,n._)`typeof ${h} == "string"`,()=>(function(){let r=function(){var e;let t={},r=a(u),n=!0;for(let t=0;t<c.length;t++){let u=c[t];if((null==u?void 0:u.$ref)&&!(0,s.schemaHasRulesButRef)(u,d.self.RULES)){let e=u.$ref;if((u=i.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,e))instanceof i.SchemaEnv&&(u=u.schema),void 0===u)throw new o.default(d.opts.uriResolver,d.baseId,e)}let m=null==(e=null==u?void 0:u.properties)?void 0:e[p];if("object"!=typeof m)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);n=n&&(r||a(u)),function(e,t){if(e.const)l(e.const,t);else if(e.enum)for(let r of e.enum)l(r,t);else throw Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}(m,t)}if(!n)throw Error(`discriminator: "${p}" must be required`);return t;function a({required:e}){return Array.isArray(e)&&e.includes(p)}function l(e,r){if("string"!=typeof e||e in t)throw Error(`discriminator: "${p}" values must be unique strings`);t[e]=r}}();for(let a in t.if(!1),r)t.elseIf((0,n._)`${h} === ${a}`),t.assign(m,function(r){let a=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:r},a);return e.mergeEvaluated(i,n.Name),a}(r[a]));t.else(),e.error(!1,{discrError:a.DiscrError.Mapping,tag:h,tagName:p}),t.endIf()})(),()=>e.error(!1,{discrError:a.DiscrError.Tag,tag:h,tagName:p})),e.ok(m)}}},71355,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},3756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;let n=e.r(31631),a=e.r(37851),i=e.r(92391),o=e.r(71355),s=["/properties"],l="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}r.Ajv=u,t.exports=r=u,t.exports.Ajv=u,Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var d=e.r(60607);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var c=e.r(79752);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var p=e.r(62098);Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=e.r(68503);Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},26717,(e,t,r)=>{"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNames=r.fastFormats=r.fullFormats=void 0,r.fullFormats={date:n(o,s),time:n(u(!0),d),"date-time":n(m(!0),h),"iso-time":n(u(),c),"iso-date-time":n(m(),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return g.test(e)&&y.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(S.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return v.lastIndex=0,v.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=_&&e>=b}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},r.fastFormats={...r.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"iso-date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},r.formatNames=Object.keys(r.fullFormats);let a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){var t;let r=a.exec(e);if(!r)return!1;let n=+r[1],o=+r[2],s=+r[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&(t=n)%4==0&&(t%100!=0||t%400==0)?29:i[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}let l=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function u(e){return function(t){let r=l.exec(t);if(!r)return!1;let n=+r[1],a=+r[2],i=+r[3],o=r[4],s="-"===r[5]?-1:1,u=+(r[6]||0),d=+(r[7]||0);if(u>23||d>59||e&&!o)return!1;if(n<=23&&a<=59&&i<60)return!0;let c=a-d*s,p=n-u*s-(c<0);return(23===p||-1===p)&&(59===c||-1===c)&&i<61}}function d(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function c(e,t){if(!(e&&t))return;let r=l.exec(e),n=l.exec(t);if(r&&n)return(e=r[1]+r[2]+r[3])>(t=n[1]+n[2]+n[3])?1:e<t?-1:0}let p=/t|\s/i;function m(e){let t=u(e);return function(e){let r=e.split(p);return 2===r.length&&o(r[0])&&t(r[1])}}function h(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function f(e,t){if(!(e&&t))return;let[r,n]=e.split(p),[a,i]=t.split(p),o=s(r,a);if(void 0!==o)return o||d(n,i)}let g=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,b=-0x80000000,_=0x80000000-1;function w(){return!0}let S=/[^\\]\\Z/},87778,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatLimitDefinition=void 0;let n=e.r(3756),a=e.r(79752),i=a.operators,o={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}};r.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`should be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,a._)`{comparison: ${o[e].okStr}, limit: ${t}}`},code(e){let t,r,{gen:i,data:s,schemaCode:l,keyword:u,it:d}=e,{opts:c,self:p}=d;if(!c.validateFormats)return;let m=new n.KeywordCxt(d,p.RULES.all.format.definition,"format");function h(e){return(0,a._)`${e}.compare(${s}, ${l}) ${o[u].fail} 0`}m.$data?(t=i.scopeValue("formats",{ref:p.formats,code:c.code.formats}),r=i.const("fmt",(0,a._)`${t}[${m.schemaCode}]`),e.fail$data((0,a.or)((0,a._)`typeof ${r} != "object"`,(0,a._)`${r} instanceof RegExp`,(0,a._)`typeof ${r}.compare != "function"`,h(r)))):function(){let t=m.schema,r=p.formats[t];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw Error(`"${u}": format "${t}" does not define "compare" function`);let n=i.scopeValue("formats",{key:t,ref:r,code:c.code.formats?(0,a._)`${c.code.formats}${(0,a.getProperty)(t)}`:void 0});e.fail$data(h(n))}()},dependencies:["format"]},r.default=e=>(e.addKeyword(r.formatLimitDefinition),e)},67314,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(26717),a=e.r(87778),i=e.r(79752),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,n.fullFormats,o),e;let[r,i]="fast"===t.mode?[n.fastFormats,s]:[n.fullFormats,o];return u(e,t.formats||n.formatNames,r,i),t.keywords&&(0,a.default)(e),e};function u(e,t,r,n){var a;for(let o of(null!=(a=e.opts.code).formats||(a.formats=(0,i._)`require("ajv-formats/dist/formats").${n}`),t))e.addFormat(o,r[o])}l.get=(e,t="full")=>{let r=("fast"===t?n.fastFormats:n.fullFormats)[e];if(!r)throw Error(`Unknown format "${e}"`);return r},t.exports=r=l,Object.defineProperty(r,"__esModule",{value:!0}),r.default=l},51618,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.AjvJsonSchemaValidator=void 0;let a=e.r(3756),i=n(e.r(67314));r.AjvJsonSchemaValidator=class{constructor(e){this._ajv=null!=e?e:function(){let e=new a.Ajv({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return(0,i.default)(e),e}()}getValidator(e){var t;let r="$id"in e&&"string"==typeof e.$id&&null!=(t=this._ajv.getSchema(e.$id))?t:this._ajv.compile(e);return e=>r(e)?{valid:!0,data:e,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}}},22314,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Client=void 0;let n=e.r(32234),a=e.r(33449),i=e.r(51618);class o extends n.Protocol{constructor(e,t){var r,n;super(t),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._capabilities=null!=(r=null==t?void 0:t.capabilities)?r:{},this._jsonSchemaValidator=null!=(n=null==t?void 0:t.jsonSchemaValidator)?n:new i.AjvJsonSchemaValidator}registerCapabilities(e){if(this.transport)throw Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,n.mergeCapabilities)(this._capabilities,e)}setRequestHandler(e,t){if("elicitation/create"===e.shape.method.value){let r=async(e,r)=>{var n;let i=a.ElicitRequestSchema.safeParse(e);if(!i.success)throw new a.McpError(a.ErrorCode.InvalidParams,`Invalid elicitation request: ${i.error.message}`);let o=await Promise.resolve(t(e,r)),s=a.ElicitResultSchema.safeParse(o);if(!s.success)throw new a.McpError(a.ErrorCode.InvalidParams,`Invalid elicitation result: ${s.error.message}`);let l=s.data;if((null==(n=this._capabilities.elicitation)?void 0:n.applyDefaults)&&"accept"===l.action&&l.content&&i.data.params.requestedSchema)try{!function e(t,r){if(t&&null!==r&&"object"==typeof r){if("object"===t.type&&t.properties&&"object"==typeof t.properties){let n=t.properties;for(let t of Object.keys(n)){let a=n[t];void 0===r[t]&&Object.prototype.hasOwnProperty.call(a,"default")&&(r[t]=a.default),void 0!==r[t]&&e(a,r[t])}}if(Array.isArray(t.anyOf))for(let n of t.anyOf)e(n,r);if(Array.isArray(t.oneOf))for(let n of t.oneOf)e(n,r)}}(i.data.params.requestedSchema,l.content)}catch(e){}return l};return super.setRequestHandler(e,r)}return super.setRequestHandler(e,t)}assertCapability(e,t){var r;if(!(null==(r=this._serverCapabilities)?void 0:r[e]))throw Error(`Server does not support ${e} (required for ${t})`)}async connect(e,t){if(await super.connect(e),void 0===e.sessionId)try{let r=await this.request({method:"initialize",params:{protocolVersion:a.LATEST_PROTOCOL_VERSION,capabilities:this._capabilities,clientInfo:this._clientInfo}},a.InitializeResultSchema,t);if(void 0===r)throw Error(`Server sent invalid initialize result: ${r}`);if(!a.SUPPORTED_PROTOCOL_VERSIONS.includes(r.protocolVersion))throw Error(`Server's protocol version is not supported: ${r.protocolVersion}`);this._serverCapabilities=r.capabilities,this._serverVersion=r.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(r.protocolVersion),this._instructions=r.instructions,await this.notification({method:"notifications/initialized"})}catch(e){throw this.close(),e}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var t,r,n,a,i;switch(e){case"logging/setLevel":if(!(null==(t=this._serverCapabilities)?void 0:t.logging))throw Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(null==(r=this._serverCapabilities)?void 0:r.prompts))throw Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(null==(n=this._serverCapabilities)?void 0:n.resources))throw Error(`Server does not support resources (required for ${e})`);if("resources/subscribe"===e&&!this._serverCapabilities.resources.subscribe)throw Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(null==(a=this._serverCapabilities)?void 0:a.tools))throw Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(null==(i=this._serverCapabilities)?void 0:i.completions))throw Error(`Server does not support completions (required for ${e})`)}}assertNotificationCapability(e){var t;if("notifications/roots/list_changed"===e&&!(null==(t=this._capabilities.roots)?void 0:t.listChanged))throw Error(`Client does not support roots list changed notifications (required for ${e})`)}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw Error(`Client does not support roots capability (required for ${e})`)}}async ping(e){return this.request({method:"ping"},a.EmptyResultSchema,e)}async complete(e,t){return this.request({method:"completion/complete",params:e},a.CompleteResultSchema,t)}async setLoggingLevel(e,t){return this.request({method:"logging/setLevel",params:{level:e}},a.EmptyResultSchema,t)}async getPrompt(e,t){return this.request({method:"prompts/get",params:e},a.GetPromptResultSchema,t)}async listPrompts(e,t){return this.request({method:"prompts/list",params:e},a.ListPromptsResultSchema,t)}async listResources(e,t){return this.request({method:"resources/list",params:e},a.ListResourcesResultSchema,t)}async listResourceTemplates(e,t){return this.request({method:"resources/templates/list",params:e},a.ListResourceTemplatesResultSchema,t)}async readResource(e,t){return this.request({method:"resources/read",params:e},a.ReadResourceResultSchema,t)}async subscribeResource(e,t){return this.request({method:"resources/subscribe",params:e},a.EmptyResultSchema,t)}async unsubscribeResource(e,t){return this.request({method:"resources/unsubscribe",params:e},a.EmptyResultSchema,t)}async callTool(e,t=a.CallToolResultSchema,r){let n=await this.request({method:"tools/call",params:e},t,r),i=this.getToolOutputValidator(e.name);if(i){if(!n.structuredContent&&!n.isError)throw new a.McpError(a.ErrorCode.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(n.structuredContent)try{let e=i(n.structuredContent);if(!e.valid)throw new a.McpError(a.ErrorCode.InvalidParams,`Structured content does not match the tool's output schema: ${e.errorMessage}`)}catch(e){if(e instanceof a.McpError)throw e;throw new a.McpError(a.ErrorCode.InvalidParams,`Failed to validate structured content: ${e instanceof Error?e.message:String(e)}`)}}return n}cacheToolOutputSchemas(e){for(let t of(this._cachedToolOutputValidators.clear(),e))if(t.outputSchema){let e=this._jsonSchemaValidator.getValidator(t.outputSchema);this._cachedToolOutputValidators.set(t.name,e)}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,t){let r=await this.request({method:"tools/list",params:e},a.ListToolsResultSchema,t);return this.cacheToolOutputSchemas(r.tools),r}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}r.Client=o},47631,(e,t,r)=>{"use strict";let n;async function a(e){return(await n).getRandomValues(new Uint8Array(e))}async function i(e){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",r="",n=await a(e);for(let a=0;a<e;a++){let e=n[a]%t.length;r+=t[e]}return r}async function o(e){return await i(e)}async function s(e){return btoa(String.fromCharCode(...new Uint8Array(await (await n).subtle.digest("SHA-256",new TextEncoder().encode(e))))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function l(e){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;let t=await o(e),r=await s(t);return{code_verifier:t,code_challenge:r}}async function u(e,t){return await s(e)===t}Object.defineProperty(r,"__esModule",{value:!0}),r.generateChallenge=s,r.default=l,r.verifyChallenge=u,n=globalThis.crypto?.webcrypto??globalThis.crypto??e.A(70729).then(e=>e.webcrypto)},82281,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OAuthTokenRevocationRequestSchema=r.OAuthClientRegistrationErrorSchema=r.OAuthClientInformationFullSchema=r.OAuthClientInformationSchema=r.OAuthClientMetadataSchema=r.OptionalSafeUrlSchema=r.OAuthErrorResponseSchema=r.OAuthTokensSchema=r.OpenIdProviderDiscoveryMetadataSchema=r.OpenIdProviderMetadataSchema=r.OAuthMetadataSchema=r.OAuthProtectedResourceMetadataSchema=r.SafeUrlSchema=void 0;let n=e.r(43629);r.SafeUrlSchema=n.z.string().url().superRefine((e,t)=>{if(!URL.canParse(e))return t.addIssue({code:n.z.ZodIssueCode.custom,message:"URL must be parseable",fatal:!0}),n.z.NEVER}).refine(e=>{let t=new URL(e);return"javascript:"!==t.protocol&&"data:"!==t.protocol&&"vbscript:"!==t.protocol},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),r.OAuthProtectedResourceMetadataSchema=n.z.object({resource:n.z.string().url(),authorization_servers:n.z.array(r.SafeUrlSchema).optional(),jwks_uri:n.z.string().url().optional(),scopes_supported:n.z.array(n.z.string()).optional(),bearer_methods_supported:n.z.array(n.z.string()).optional(),resource_signing_alg_values_supported:n.z.array(n.z.string()).optional(),resource_name:n.z.string().optional(),resource_documentation:n.z.string().optional(),resource_policy_uri:n.z.string().url().optional(),resource_tos_uri:n.z.string().url().optional(),tls_client_certificate_bound_access_tokens:n.z.boolean().optional(),authorization_details_types_supported:n.z.array(n.z.string()).optional(),dpop_signing_alg_values_supported:n.z.array(n.z.string()).optional(),dpop_bound_access_tokens_required:n.z.boolean().optional()}).passthrough(),r.OAuthMetadataSchema=n.z.object({issuer:n.z.string(),authorization_endpoint:r.SafeUrlSchema,token_endpoint:r.SafeUrlSchema,registration_endpoint:r.SafeUrlSchema.optional(),scopes_supported:n.z.array(n.z.string()).optional(),response_types_supported:n.z.array(n.z.string()),response_modes_supported:n.z.array(n.z.string()).optional(),grant_types_supported:n.z.array(n.z.string()).optional(),token_endpoint_auth_methods_supported:n.z.array(n.z.string()).optional(),token_endpoint_auth_signing_alg_values_supported:n.z.array(n.z.string()).optional(),service_documentation:r.SafeUrlSchema.optional(),revocation_endpoint:r.SafeUrlSchema.optional(),revocation_endpoint_auth_methods_supported:n.z.array(n.z.string()).optional(),revocation_endpoint_auth_signing_alg_values_supported:n.z.array(n.z.string()).optional(),introspection_endpoint:n.z.string().optional(),introspection_endpoint_auth_methods_supported:n.z.array(n.z.string()).optional(),introspection_endpoint_auth_signing_alg_values_supported:n.z.array(n.z.string()).optional(),code_challenge_methods_supported:n.z.array(n.z.string()).optional()}).passthrough(),r.OpenIdProviderMetadataSchema=n.z.object({issuer:n.z.string(),authorization_endpoint:r.SafeUrlSchema,token_endpoint:r.SafeUrlSchema,userinfo_endpoint:r.SafeUrlSchema.optional(),jwks_uri:r.SafeUrlSchema,registration_endpoint:r.SafeUrlSchema.optional(),scopes_supported:n.z.array(n.z.string()).optional(),response_types_supported:n.z.array(n.z.string()),response_modes_supported:n.z.array(n.z.string()).optional(),grant_types_supported:n.z.array(n.z.string()).optional(),acr_values_supported:n.z.array(n.z.string()).optional(),subject_types_supported:n.z.array(n.z.string()),id_token_signing_alg_values_supported:n.z.array(n.z.string()),id_token_encryption_alg_values_supported:n.z.array(n.z.string()).optional(),id_token_encryption_enc_values_supported:n.z.array(n.z.string()).optional(),userinfo_signing_alg_values_supported:n.z.array(n.z.string()).optional(),userinfo_encryption_alg_values_supported:n.z.array(n.z.string()).optional(),userinfo_encryption_enc_values_supported:n.z.array(n.z.string()).optional(),request_object_signing_alg_values_supported:n.z.array(n.z.string()).optional(),request_object_encryption_alg_values_supported:n.z.array(n.z.string()).optional(),request_object_encryption_enc_values_supported:n.z.array(n.z.string()).optional(),token_endpoint_auth_methods_supported:n.z.array(n.z.string()).optional(),token_endpoint_auth_signing_alg_values_supported:n.z.array(n.z.string()).optional(),display_values_supported:n.z.array(n.z.string()).optional(),claim_types_supported:n.z.array(n.z.string()).optional(),claims_supported:n.z.array(n.z.string()).optional(),service_documentation:n.z.string().optional(),claims_locales_supported:n.z.array(n.z.string()).optional(),ui_locales_supported:n.z.array(n.z.string()).optional(),claims_parameter_supported:n.z.boolean().optional(),request_parameter_supported:n.z.boolean().optional(),request_uri_parameter_supported:n.z.boolean().optional(),require_request_uri_registration:n.z.boolean().optional(),op_policy_uri:r.SafeUrlSchema.optional(),op_tos_uri:r.SafeUrlSchema.optional()}).passthrough(),r.OpenIdProviderDiscoveryMetadataSchema=r.OpenIdProviderMetadataSchema.merge(r.OAuthMetadataSchema.pick({code_challenge_methods_supported:!0})),r.OAuthTokensSchema=n.z.object({access_token:n.z.string(),id_token:n.z.string().optional(),token_type:n.z.string(),expires_in:n.z.number().optional(),scope:n.z.string().optional(),refresh_token:n.z.string().optional()}).strip(),r.OAuthErrorResponseSchema=n.z.object({error:n.z.string(),error_description:n.z.string().optional(),error_uri:n.z.string().optional()}),r.OptionalSafeUrlSchema=r.SafeUrlSchema.optional().or(n.z.literal("").transform(()=>void 0)),r.OAuthClientMetadataSchema=n.z.object({redirect_uris:n.z.array(r.SafeUrlSchema),token_endpoint_auth_method:n.z.string().optional(),grant_types:n.z.array(n.z.string()).optional(),response_types:n.z.array(n.z.string()).optional(),client_name:n.z.string().optional(),client_uri:r.SafeUrlSchema.optional(),logo_uri:r.OptionalSafeUrlSchema,scope:n.z.string().optional(),contacts:n.z.array(n.z.string()).optional(),tos_uri:r.OptionalSafeUrlSchema,policy_uri:n.z.string().optional(),jwks_uri:r.SafeUrlSchema.optional(),jwks:n.z.any().optional(),software_id:n.z.string().optional(),software_version:n.z.string().optional(),software_statement:n.z.string().optional()}).strip(),r.OAuthClientInformationSchema=n.z.object({client_id:n.z.string(),client_secret:n.z.string().optional(),client_id_issued_at:n.z.number().optional(),client_secret_expires_at:n.z.number().optional()}).strip(),r.OAuthClientInformationFullSchema=r.OAuthClientMetadataSchema.merge(r.OAuthClientInformationSchema),r.OAuthClientRegistrationErrorSchema=n.z.object({error:n.z.string(),error_description:n.z.string().optional()}).strip(),r.OAuthTokenRevocationRequestSchema=n.z.object({token:n.z.string(),token_type_hint:n.z.string().optional()}).strip()},70017,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resourceUrlFromServerUrl=function(e){let t=new URL("string"==typeof e?e:e.href);return t.hash="",t},r.checkResourceAllowed=function({requestedResource:e,configuredResource:t}){let r=new URL("string"==typeof e?e:e.href),n=new URL("string"==typeof t?t:t.href);if(r.origin!==n.origin||r.pathname.length<n.pathname.length)return!1;let a=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",i=n.pathname.endsWith("/")?n.pathname:n.pathname+"/";return a.startsWith(i)}},50090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OAUTH_ERRORS=r.CustomOAuthError=r.InsufficientScopeError=r.InvalidClientMetadataError=r.TooManyRequestsError=r.MethodNotAllowedError=r.InvalidTokenError=r.UnsupportedTokenTypeError=r.UnsupportedResponseTypeError=r.TemporarilyUnavailableError=r.ServerError=r.AccessDeniedError=r.InvalidScopeError=r.UnsupportedGrantTypeError=r.UnauthorizedClientError=r.InvalidGrantError=r.InvalidClientError=r.InvalidRequestError=r.OAuthError=void 0;class n extends Error{constructor(e,t){super(e),this.errorUri=t,this.name=this.constructor.name}toResponseObject(){let e={error:this.errorCode,error_description:this.message};return this.errorUri&&(e.error_uri=this.errorUri),e}get errorCode(){return this.constructor.errorCode}}r.OAuthError=n;class a extends n{}r.InvalidRequestError=a,a.errorCode="invalid_request";class i extends n{}r.InvalidClientError=i,i.errorCode="invalid_client";class o extends n{}r.InvalidGrantError=o,o.errorCode="invalid_grant";class s extends n{}r.UnauthorizedClientError=s,s.errorCode="unauthorized_client";class l extends n{}r.UnsupportedGrantTypeError=l,l.errorCode="unsupported_grant_type";class u extends n{}r.InvalidScopeError=u,u.errorCode="invalid_scope";class d extends n{}r.AccessDeniedError=d,d.errorCode="access_denied";class c extends n{}r.ServerError=c,c.errorCode="server_error";class p extends n{}r.TemporarilyUnavailableError=p,p.errorCode="temporarily_unavailable";class m extends n{}r.UnsupportedResponseTypeError=m,m.errorCode="unsupported_response_type";class h extends n{}r.UnsupportedTokenTypeError=h,h.errorCode="unsupported_token_type";class f extends n{}r.InvalidTokenError=f,f.errorCode="invalid_token";class g extends n{}r.MethodNotAllowedError=g,g.errorCode="method_not_allowed";class y extends n{}r.TooManyRequestsError=y,y.errorCode="too_many_requests";class v extends n{}r.InvalidClientMetadataError=v,v.errorCode="invalid_client_metadata";class b extends n{}r.InsufficientScopeError=b,b.errorCode="insufficient_scope",r.CustomOAuthError=class extends n{constructor(e,t,r){super(t,r),this.customErrorCode=e}get errorCode(){return this.customErrorCode}},r.OAUTH_ERRORS={[a.errorCode]:a,[i.errorCode]:i,[o.errorCode]:o,[s.errorCode]:s,[l.errorCode]:l,[u.errorCode]:u,[d.errorCode]:d,[c.errorCode]:c,[p.errorCode]:p,[m.errorCode]:m,[h.errorCode]:h,[f.errorCode]:f,[g.errorCode]:g,[y.errorCode]:y,[v.errorCode]:v,[b.errorCode]:b}},35296,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.UnauthorizedError=void 0,r.selectClientAuthMethod=p,r.parseErrorResponse=h,r.auth=f,r.selectResourceURL=y,r.extractWWWAuthenticateParams=function(e){let t,r=e.headers.get("WWW-Authenticate");if(!r)return{};let[n,a]=r.split(" ");if("bearer"!==n.toLowerCase()||!a)return{};let i=/resource_metadata="([^"]*)"/.exec(r),o=/scope="([^"]*)"/.exec(r);if(i)try{t=new URL(i[1])}catch(e){}return{resourceMetadataUrl:t,scope:(null==o?void 0:o[1])||void 0}},r.extractResourceMetadataUrl=function(e){let t=e.headers.get("WWW-Authenticate");if(!t)return;let[r,n]=t.split(" ");if("bearer"!==r.toLowerCase()||!n)return;let a=/resource_metadata="([^"]*)"/.exec(t);if(a)try{return new URL(a[1])}catch(e){return}},r.discoverOAuthProtectedResourceMetadata=v,r.discoverOAuthMetadata=S,r.buildDiscoveryUrls=k,r.discoverAuthorizationServerMetadata=x,r.startAuthorization=E,r.exchangeAuthorization=T,r.refreshAuthorization=O,r.registerClient=I;let a=n(e.r(47631)),i=e.r(33449),o=e.r(82281),s=e.r(82281),l=e.r(70017),u=e.r(50090);r.UnauthorizedError=class extends Error{constructor(e){super(null!=e?e:"Unauthorized")}};let d="code",c="S256";function p(e,t){let r=void 0!==e.client_secret;return 0===t.length?r?"client_secret_post":"none":"token_endpoint_auth_method"in e&&e.token_endpoint_auth_method&&["client_secret_basic","client_secret_post","none"].includes(e.token_endpoint_auth_method)&&t.includes(e.token_endpoint_auth_method)?e.token_endpoint_auth_method:r&&t.includes("client_secret_basic")?"client_secret_basic":r&&t.includes("client_secret_post")?"client_secret_post":t.includes("none")?"none":r?"client_secret_post":"none"}function m(e,t,r,n){let{client_id:a,client_secret:i}=t;switch(e){case"client_secret_basic":var o,s,l,u,d=a,c=i,p=r;if(!c)throw Error("client_secret_basic authentication requires a client_secret");let m=btoa(`${d}:${c}`);p.set("Authorization",`Basic ${m}`);return;case"client_secret_post":o=a,s=i,(l=n).set("client_id",o),s&&l.set("client_secret",s);return;case"none":u=a,n.set("client_id",u);return;default:throw Error(`Unsupported client authentication method: ${e}`)}}async function h(e){let t=e instanceof Response?e.status:void 0,r=e instanceof Response?await e.text():e;try{let{error:e,error_description:t,error_uri:n}=o.OAuthErrorResponseSchema.parse(JSON.parse(r));return new(u.OAUTH_ERRORS[e]||u.ServerError)(t||"",n)}catch(n){let e=`${t?`HTTP ${t}: `:""}Invalid OAuth error response: ${n}. Raw body: ${r}`;return new u.ServerError(e)}}async function f(e,t){var r,n;try{return await g(e,t)}catch(a){if(a instanceof u.InvalidClientError||a instanceof u.UnauthorizedClientError)return await (null==(r=e.invalidateCredentials)?void 0:r.call(e,"all")),await g(e,t);if(a instanceof u.InvalidGrantError)return await (null==(n=e.invalidateCredentials)?void 0:n.call(e,"tokens")),await g(e,t);throw a}}async function g(e,{serverUrl:t,authorizationCode:r,scope:n,resourceMetadataUrl:a,fetchFn:i}){let o,s;try{(o=await v(t,{resourceMetadataUrl:a},i)).authorization_servers&&o.authorization_servers.length>0&&(s=o.authorization_servers[0])}catch(e){}s||(s=new URL("/",t));let l=await y(t,e,o),d=await x(s,{fetchFn:i}),c=await Promise.resolve(e.clientInformation());if(!c){if(void 0!==r)throw Error("Existing OAuth client information is required when exchanging an authorization code");if(!e.saveClientInformation)throw Error("OAuth client information must be saveable for dynamic registration");let t=await I(s,{metadata:d,clientMetadata:e.clientMetadata,fetchFn:i});await e.saveClientInformation(t),c=t}if(void 0!==r){let t=await e.codeVerifier(),n=await T(s,{metadata:d,clientInformation:c,authorizationCode:r,codeVerifier:t,redirectUri:e.redirectUrl,resource:l,addClientAuthentication:e.addClientAuthentication,fetchFn:i});return await e.saveTokens(n),"AUTHORIZED"}let p=await e.tokens();if(null==p?void 0:p.refresh_token)try{let t=await O(s,{metadata:d,clientInformation:c,refreshToken:p.refresh_token,resource:l,addClientAuthentication:e.addClientAuthentication,fetchFn:i});return await e.saveTokens(t),"AUTHORIZED"}catch(e){if(!(e instanceof u.OAuthError)||e instanceof u.ServerError);else throw e}let m=e.state?await e.state():void 0,{authorizationUrl:h,codeVerifier:f}=await E(s,{metadata:d,clientInformation:c,state:m,redirectUrl:e.redirectUrl,scope:n||e.clientMetadata.scope,resource:l});return await e.saveCodeVerifier(f),await e.redirectToAuthorization(h),"REDIRECT"}async function y(e,t,r){let n=(0,l.resourceUrlFromServerUrl)(e);if(t.validateResourceURL)return await t.validateResourceURL(n,null==r?void 0:r.resource);if(r){if(!(0,l.checkResourceAllowed)({requestedResource:n,configuredResource:r.resource}))throw Error(`Protected resource ${r.resource} does not match expected ${n} (or origin)`);return new URL(r.resource)}}async function v(e,t,r=fetch){let n=await w(e,"oauth-protected-resource",r,{protocolVersion:null==t?void 0:t.protocolVersion,metadataUrl:null==t?void 0:t.resourceMetadataUrl});if(!n||404===n.status)throw Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!n.ok)throw Error(`HTTP ${n.status} trying to load well-known OAuth protected resource metadata.`);return s.OAuthProtectedResourceMetadataSchema.parse(await n.json())}async function b(e,t,r=fetch){try{return await r(e,{headers:t})}catch(n){if(n instanceof TypeError)if(t)return b(e,void 0,r);else return;throw n}}async function _(e,t,r=fetch){return await b(e,{"MCP-Protocol-Version":t},r)}async function w(e,t,r,n){var a,o,s,l;let u,d=new URL(e),c=null!=(a=null==n?void 0:n.protocolVersion)?a:i.LATEST_PROTOCOL_VERSION;(null==n?void 0:n.metadataUrl)?u=new URL(n.metadataUrl):(u=new URL(function(e,t="",r={}){return t.endsWith("/")&&(t=t.slice(0,-1)),r.prependPathname?`${t}/.well-known/${e}`:`/.well-known/${e}${t}`}(t,d.pathname),null!=(o=null==n?void 0:n.metadataServerUrl)?o:d)).search=d.search;let p=await _(u,c,r);if(!(null==n?void 0:n.metadataUrl)&&(s=p,l=d.pathname,!s||s.status>=400&&s.status<500&&"/"!==l)){let e=new URL(`/.well-known/${t}`,d);p=await _(e,c,r)}return p}async function S(e,{authorizationServerUrl:t,protocolVersion:r}={},n=fetch){"string"==typeof e&&(e=new URL(e)),t||(t=e),"string"==typeof t&&(t=new URL(t)),null!=r||(r=i.LATEST_PROTOCOL_VERSION);let a=await w(t,"oauth-authorization-server",n,{protocolVersion:r,metadataServerUrl:t});if(a&&404!==a.status){if(!a.ok)throw Error(`HTTP ${a.status} trying to load well-known OAuth metadata`);return s.OAuthMetadataSchema.parse(await a.json())}}function k(e){let t="string"==typeof e?new URL(e):e,r="/"!==t.pathname,n=[];if(!r)return n.push({url:new URL("/.well-known/oauth-authorization-server",t.origin),type:"oauth"}),n.push({url:new URL("/.well-known/openid-configuration",t.origin),type:"oidc"}),n;let a=t.pathname;return a.endsWith("/")&&(a=a.slice(0,-1)),n.push({url:new URL(`/.well-known/oauth-authorization-server${a}`,t.origin),type:"oauth"}),n.push({url:new URL(`/.well-known/openid-configuration${a}`,t.origin),type:"oidc"}),n.push({url:new URL(`${a}/.well-known/openid-configuration`,t.origin),type:"oidc"}),n}async function x(e,{fetchFn:t=fetch,protocolVersion:r=i.LATEST_PROTOCOL_VERSION}={}){let n={"MCP-Protocol-Version":r,Accept:"application/json"};for(let{url:r,type:a}of k(e)){let e=await b(r,n,t);if(e){if(!e.ok){if(e.status>=400&&e.status<500)continue;throw Error(`HTTP ${e.status} trying to load ${"oauth"===a?"OAuth":"OpenID provider"} metadata from ${r}`)}if("oauth"===a)return s.OAuthMetadataSchema.parse(await e.json());return o.OpenIdProviderDiscoveryMetadataSchema.parse(await e.json())}}}async function E(e,{metadata:t,clientInformation:r,redirectUrl:n,scope:i,state:o,resource:s}){let l;if(t){if(l=new URL(t.authorization_endpoint),!t.response_types_supported.includes(d))throw Error(`Incompatible auth server: does not support response type ${d}`);if(t.code_challenge_methods_supported&&!t.code_challenge_methods_supported.includes(c))throw Error(`Incompatible auth server: does not support code challenge method ${c}`)}else l=new URL("/authorize",e);let u=await (0,a.default)(),p=u.code_verifier,m=u.code_challenge;return l.searchParams.set("response_type",d),l.searchParams.set("client_id",r.client_id),l.searchParams.set("code_challenge",m),l.searchParams.set("code_challenge_method",c),l.searchParams.set("redirect_uri",String(n)),o&&l.searchParams.set("state",o),i&&l.searchParams.set("scope",i),(null==i?void 0:i.includes("offline_access"))&&l.searchParams.append("prompt","consent"),s&&l.searchParams.set("resource",s.href),{authorizationUrl:l,codeVerifier:p}}async function T(e,{metadata:t,clientInformation:r,authorizationCode:n,codeVerifier:a,redirectUri:i,resource:o,addClientAuthentication:l,fetchFn:u}){var d;let c="authorization_code",f=(null==t?void 0:t.token_endpoint)?new URL(t.token_endpoint):new URL("/token",e);if((null==t?void 0:t.grant_types_supported)&&!t.grant_types_supported.includes(c))throw Error(`Incompatible auth server: does not support grant type ${c}`);let g=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}),y=new URLSearchParams({grant_type:c,code:n,code_verifier:a,redirect_uri:String(i)});l?l(g,y,e,t):m(p(r,null!=(d=null==t?void 0:t.token_endpoint_auth_methods_supported)?d:[]),r,g,y),o&&y.set("resource",o.href);let v=await (null!=u?u:fetch)(f,{method:"POST",headers:g,body:y});if(!v.ok)throw await h(v);return s.OAuthTokensSchema.parse(await v.json())}async function O(e,{metadata:t,clientInformation:r,refreshToken:n,resource:a,addClientAuthentication:i,fetchFn:o}){var l;let u,d="refresh_token";if(t){if(u=new URL(t.token_endpoint),t.grant_types_supported&&!t.grant_types_supported.includes(d))throw Error(`Incompatible auth server: does not support grant type ${d}`)}else u=new URL("/token",e);let c=new Headers({"Content-Type":"application/x-www-form-urlencoded"}),f=new URLSearchParams({grant_type:d,refresh_token:n});i?i(c,f,e,t):m(p(r,null!=(l=null==t?void 0:t.token_endpoint_auth_methods_supported)?l:[]),r,c,f),a&&f.set("resource",a.href);let g=await (null!=o?o:fetch)(u,{method:"POST",headers:c,body:f});if(!g.ok)throw await h(g);return s.OAuthTokensSchema.parse({refresh_token:n,...await g.json()})}async function I(e,{metadata:t,clientMetadata:r,fetchFn:n}){let a;if(t){if(!t.registration_endpoint)throw Error("Incompatible auth server: does not support dynamic client registration");a=new URL(t.registration_endpoint)}else a=new URL("/register",e);let i=await (null!=n?n:fetch)(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok)throw await h(i);return s.OAuthClientInformationFullSchema.parse(await i.json())}},12217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StreamableHTTPClientTransport=r.StreamableHTTPError=void 0;let n=e.r(33449),a=e.r(35296),i=e.r(23882),o={initialReconnectionDelay:1e3,maxReconnectionDelay:3e4,reconnectionDelayGrowFactor:1.5,maxRetries:2};class s extends Error{constructor(e,t){super(`Streamable HTTP error: ${t}`),this.code=e}}r.StreamableHTTPError=s,r.StreamableHTTPClientTransport=class{constructor(e,t){var r;this._hasCompletedAuthFlow=!1,this._url=e,this._resourceMetadataUrl=void 0,this._scope=void 0,this._requestInit=null==t?void 0:t.requestInit,this._authProvider=null==t?void 0:t.authProvider,this._fetch=null==t?void 0:t.fetch,this._sessionId=null==t?void 0:t.sessionId,this._reconnectionOptions=null!=(r=null==t?void 0:t.reconnectionOptions)?r:o}async _authThenStart(){var e;let t;if(!this._authProvider)throw new a.UnauthorizedError("No auth provider");try{t=await (0,a.auth)(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch})}catch(t){throw null==(e=this.onerror)||e.call(this,t),t}if("AUTHORIZED"!==t)throw new a.UnauthorizedError;return await this._startOrAuthSse({resumptionToken:void 0})}async _commonHeaders(){var e;let t={};if(this._authProvider){let e=await this._authProvider.tokens();e&&(t.Authorization=`Bearer ${e.access_token}`)}this._sessionId&&(t["mcp-session-id"]=this._sessionId),this._protocolVersion&&(t["mcp-protocol-version"]=this._protocolVersion);let r=this._normalizeHeaders(null==(e=this._requestInit)?void 0:e.headers);return new Headers({...t,...r})}async _startOrAuthSse(e){var t,r,n;let{resumptionToken:a}=e;try{let n=await this._commonHeaders();n.set("Accept","text/event-stream"),a&&n.set("last-event-id",a);let i=await (null!=(t=this._fetch)?t:fetch)(this._url,{method:"GET",headers:n,signal:null==(r=this._abortController)?void 0:r.signal});if(!i.ok){if(401===i.status&&this._authProvider)return await this._authThenStart();if(405===i.status)return;throw new s(i.status,`Failed to open SSE stream: ${i.statusText}`)}this._handleSseStream(i.body,e,!0)}catch(e){throw null==(n=this.onerror)||n.call(this,e),e}}_getNextReconnectionDelay(e){return Math.min(this._reconnectionOptions.initialReconnectionDelay*Math.pow(this._reconnectionOptions.reconnectionDelayGrowFactor,e),this._reconnectionOptions.maxReconnectionDelay)}_normalizeHeaders(e){return e?e instanceof Headers?Object.fromEntries(e.entries()):Array.isArray(e)?Object.fromEntries(e):{...e}:{}}_scheduleReconnection(e,t=0){var r;let n=this._reconnectionOptions.maxRetries;if(n>0&&t>=n){null==(r=this.onerror)||r.call(this,Error(`Maximum reconnection attempts (${n}) exceeded.`));return}setTimeout(()=>{this._startOrAuthSse(e).catch(r=>{var n;null==(n=this.onerror)||n.call(this,Error(`Failed to reconnect SSE stream: ${r instanceof Error?r.message:String(r)}`)),this._scheduleReconnection(e,t+1)})},this._getNextReconnectionDelay(t))}_handleSseStream(e,t,r){let a;if(!e)return;let{onresumptiontoken:o,replayMessageId:s}=t;(async()=>{var t,l,u,d;try{let r=e.pipeThrough(new TextDecoderStream).pipeThrough(new i.EventSourceParserStream).getReader();for(;;){let{value:e,done:i}=await r.read();if(i)break;if(e.id&&(a=e.id,null==o||o(e.id)),!e.event||"message"===e.event)try{let r=n.JSONRPCMessageSchema.parse(JSON.parse(e.data));void 0!==s&&(0,n.isJSONRPCResponse)(r)&&(r.id=s),null==(t=this.onmessage)||t.call(this,r)}catch(e){null==(l=this.onerror)||l.call(this,e)}}}catch(e){if(null==(u=this.onerror)||u.call(this,Error(`SSE stream disconnected: ${e}`)),r&&this._abortController&&!this._abortController.signal.aborted)try{this._scheduleReconnection({resumptionToken:a,onresumptiontoken:o,replayMessageId:s},0)}catch(e){null==(d=this.onerror)||d.call(this,Error(`Failed to reconnect: ${e instanceof Error?e.message:String(e)}`))}}})()}async start(){if(this._abortController)throw Error("StreamableHTTPClientTransport already started! If using Client class, note that connect() calls start() automatically.");this._abortController=new AbortController}async finishAuth(e){if(!this._authProvider)throw new a.UnauthorizedError("No auth provider");if("AUTHORIZED"!==await (0,a.auth)(this._authProvider,{serverUrl:this._url,authorizationCode:e,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch}))throw new a.UnauthorizedError("Failed to authorize")}async close(){var e,t;null==(e=this._abortController)||e.abort(),null==(t=this.onclose)||t.call(this)}async send(e,t){var r,i,o,l;try{let{resumptionToken:l,onresumptiontoken:u}=t||{};if(l)return void this._startOrAuthSse({resumptionToken:l,replayMessageId:(0,n.isJSONRPCRequest)(e)?e.id:void 0}).catch(e=>{var t;return null==(t=this.onerror)?void 0:t.call(this,e)});let d=await this._commonHeaders();d.set("content-type","application/json"),d.set("accept","application/json, text/event-stream");let c={...this._requestInit,method:"POST",headers:d,body:JSON.stringify(e),signal:null==(r=this._abortController)?void 0:r.signal},p=await (null!=(i=this._fetch)?i:fetch)(this._url,c),m=p.headers.get("mcp-session-id");if(m&&(this._sessionId=m),!p.ok){if(401===p.status&&this._authProvider){if(this._hasCompletedAuthFlow)throw new s(401,"Server returned 401 after successful authentication");let{resourceMetadataUrl:t,scope:r}=(0,a.extractWWWAuthenticateParams)(p);this._resourceMetadataUrl=t,this._scope=r;let n=await (0,a.auth)(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch});if("AUTHORIZED"!==n)throw new a.UnauthorizedError;return this._hasCompletedAuthFlow=!0,this.send(e)}let t=await p.text().catch(()=>null);throw Error(`Error POSTing to endpoint (HTTP ${p.status}): ${t}`)}if(this._hasCompletedAuthFlow=!1,202===p.status){(0,n.isInitializedNotification)(e)&&this._startOrAuthSse({resumptionToken:void 0}).catch(e=>{var t;return null==(t=this.onerror)?void 0:t.call(this,e)});return}let h=(Array.isArray(e)?e:[e]).filter(e=>"method"in e&&"id"in e&&void 0!==e.id).length>0,f=p.headers.get("content-type");if(h)if(null==f?void 0:f.includes("text/event-stream"))this._handleSseStream(p.body,{onresumptiontoken:u},!1);else if(null==f?void 0:f.includes("application/json")){let e=await p.json();for(let t of Array.isArray(e)?e.map(e=>n.JSONRPCMessageSchema.parse(e)):[n.JSONRPCMessageSchema.parse(e)])null==(o=this.onmessage)||o.call(this,t)}else throw new s(-1,`Unexpected content type: ${f}`)}catch(e){throw null==(l=this.onerror)||l.call(this,e),e}}get sessionId(){return this._sessionId}async terminateSession(){var e,t,r;if(this._sessionId)try{let r=await this._commonHeaders(),n={...this._requestInit,method:"DELETE",headers:r,signal:null==(e=this._abortController)?void 0:e.signal},a=await (null!=(t=this._fetch)?t:fetch)(this._url,n);if(!a.ok&&405!==a.status)throw new s(a.status,`Failed to terminate session: ${a.statusText}`);this._sessionId=void 0}catch(e){throw null==(r=this.onerror)||r.call(this,e),e}}setProtocolVersion(e){this._protocolVersion=e}get protocolVersion(){return this._protocolVersion}}},2058,(e,t,r)=>{t.exports=a,a.sync=function(e,t){return i(n.statSync(e),t)};var n=e.r(22734);function a(e,t,r){n.stat(e,function(e,n){r(e,!e&&i(n,t))})}function i(e,t){var r,n,a,i,o,s,l,u,d;return e.isFile()&&(r=e,n=t,a=r.mode,i=r.uid,o=r.gid,s=void 0!==n.uid?n.uid:process.getuid&&process.getuid(),l=void 0!==n.gid?n.gid:process.getgid&&process.getgid(),u=parseInt("100",8),d=parseInt("010",8),a&parseInt("001",8)||a&d&&o===l||a&u&&i===s||a&(u|d)&&0===s)}},29507,(e,t,r)=>{t.exports=i,i.sync=function(e,t){return a(n.statSync(e),e,t)};var n=e.r(22734);function a(e,t,r){if(!e.isSymbolicLink()&&!e.isFile())return!1;var n=void 0!==r.pathExt?r.pathExt:process.env.PATHEXT;if(!n||-1!==(n=n.split(";")).indexOf(""))return!0;for(var a=0;a<n.length;a++){var i=n[a].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function i(e,t,r){n.stat(e,function(n,i){r(n,!n&&a(i,e,t))})}},24214,(e,t,r)=>{var n;function a(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw TypeError("callback not provided");return new Promise(function(r,n){a(e,t||{},function(e,t){e?n(e):r(t)})})}n(e,t||{},function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)})}e.r(22734),n="win32"===process.platform||e.g.TESTING_WINDOWS?e.r(29507):e.r(2058),t.exports=a,a.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},19932,(e,t,r)=>{let n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,a=e.r(14747),i=n?";":":",o=e.r(24214),s=e=>Object.assign(Error(`not found: ${e}`),{code:"ENOENT"}),l=(e,t)=>{let r=t.colon||i,a=e.match(/\//)||n&&e.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=n?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=n?o.split(r):[""];return n&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:a,pathExt:s,pathExtExe:o}},u=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:u}=l(e,t),d=[],c=r=>new Promise((i,o)=>{if(r===n.length)return t.all&&d.length?i(d):o(s(e));let l=n[r],u=/^".*"$/.test(l)?l.slice(1,-1):l,c=a.join(u,e);i(p(!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c,r,0))}),p=(e,r,n)=>new Promise((a,s)=>{if(n===i.length)return a(c(r+1));let l=i[n];o(e+l,{pathExt:u},(i,o)=>{if(!i&&o)if(!t.all)return a(e+l);else d.push(e+l);return a(p(e,r,n+1))})});return r?c(0).then(e=>r(null,e),r):c(0)};t.exports=u,u.sync=(e,t)=>{let{pathEnv:r,pathExt:n,pathExtExe:i}=l(e,t=t||{}),u=[];for(let s=0;s<r.length;s++){let l=r[s],d=/^".*"$/.test(l)?l.slice(1,-1):l,c=a.join(d,e),p=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<n.length;e++){let r=p+n[e];try{if(o.sync(r,{pathExt:i}))if(!t.all)return r;else u.push(r)}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw s(e)}},76794,(e,t,r)=>{"use strict";let n=(e={})=>{let t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};t.exports=n,t.exports.default=n},81463,(e,t,r)=>{"use strict";let n=e.r(14747),a=e.r(19932),i=e.r(76794);function o(e,t){let r,o=e.options.env||process.env,s=process.cwd(),l=null!=e.options.cwd,u=l&&void 0!==process.chdir&&!process.chdir.disabled;if(u)try{process.chdir(e.options.cwd)}catch(e){}try{r=a.sync(e.command,{path:o[i({env:o})],pathExt:t?n.delimiter:void 0})}catch(e){}finally{u&&process.chdir(s)}return r&&(r=n.resolve(l?e.options.cwd:"",r)),r}t.exports=function(e){return o(e)||o(e,!0)}},2977,(e,t,r)=>{"use strict";let n=/([()\][%!^"`<>&|;, *?])/g;t.exports.command=function(e){return e.replace(n,"^$1")},t.exports.argument=function(e,t){return e=(e=(e=`${e}`).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1"),e=(e=`"${e}"`).replace(n,"^$1"),t&&(e=e.replace(n,"^$1")),e}},31804,(e,t,r)=>{"use strict";t.exports=/^#!(.*)/},69231,(e,t,r)=>{"use strict";let n=e.r(31804);t.exports=(e="")=>{let t=e.match(n);if(!t)return null;let[r,a]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return"env"===i?a:a?`${i} ${a}`:i}},85328,(e,t,r)=>{"use strict";let n=e.r(22734),a=e.r(69231);t.exports=function(e){let t,r=Buffer.alloc(150);try{t=n.openSync(e,"r"),n.readSync(t,r,0,150,0),n.closeSync(t)}catch(e){}return a(r.toString())}},7546,(e,t,r)=>{"use strict";e.r(14747),e.r(81463),e.r(2977),e.r(85328),process.platform,t.exports=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);let n={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell,n}},45750,(e,t,r)=>{"use strict";process.platform,t.exports={hookChildProcess:function(e,t){},verifyENOENT:function(e,t){return null},verifyENOENTSync:function(e,t){return null},notFoundError:function(e,t){return Object.assign(Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}}},65887,(e,t,r)=>{"use strict";let n=e.r(33405),a=e.r(7546),i=e.r(45750);function o(e,t,r){let o=a(e,t,r),s=n.spawn(o.command,o.args,o.options);return i.hookChildProcess(s,o),s}t.exports=o,t.exports.spawn=o,t.exports.sync=function(e,t,r){let o=a(e,t,r),s=n.spawnSync(o.command,o.args,o.options);return s.error=s.error||i.verifyENOENTSync(s.status,o),s},t.exports._parse=a,t.exports._enoent=i},97298,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReadBuffer=void 0,r.deserializeMessage=a,r.serializeMessage=function(e){return JSON.stringify(e)+"\n"};let n=e.r(33449);function a(e){return n.JSONRPCMessageSchema.parse(JSON.parse(e))}r.ReadBuffer=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;let e=this._buffer.indexOf("\n");if(-1===e)return null;let t=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),a(t)}clear(){this._buffer=void 0}}},17976,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.StdioClientTransport=r.DEFAULT_INHERITED_ENV_VARS=void 0,r.getDefaultEnvironment=l;let a=n(e.r(65887)),i=n(e.r(59639)),o=e.r(81111),s=e.r(97298);function l(){let e={};for(let t of r.DEFAULT_INHERITED_ENV_VARS){let r=i.default.env[t];void 0!==r&&(r.startsWith("()")||(e[t]=r))}return e}r.DEFAULT_INHERITED_ENV_VARS="win32"===i.default.platform?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE","PROGRAMFILES"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"],r.StdioClientTransport=class{constructor(e){this._abortController=new AbortController,this._readBuffer=new s.ReadBuffer,this._stderrStream=null,this._serverParams=e,("pipe"===e.stderr||"overlapped"===e.stderr)&&(this._stderrStream=new o.PassThrough)}async start(){if(this._process)throw Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((e,t)=>{var r,n,o,s,u;this._process=(0,a.default)(this._serverParams.command,null!=(r=this._serverParams.args)?r:[],{env:{...l(),...this._serverParams.env},stdio:["pipe","pipe",null!=(n=this._serverParams.stderr)?n:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:"win32"===i.default.platform&&"type"in i.default,cwd:this._serverParams.cwd}),this._process.on("error",e=>{var r,n;if("AbortError"===e.name){null==(r=this.onclose)||r.call(this);return}t(e),null==(n=this.onerror)||n.call(this,e)}),this._process.on("spawn",()=>{e()}),this._process.on("close",e=>{var t;this._process=void 0,null==(t=this.onclose)||t.call(this)}),null==(o=this._process.stdin)||o.on("error",e=>{var t;null==(t=this.onerror)||t.call(this,e)}),null==(s=this._process.stdout)||s.on("data",e=>{this._readBuffer.append(e),this.processReadBuffer()}),null==(u=this._process.stdout)||u.on("error",e=>{var t;null==(t=this.onerror)||t.call(this,e)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var e,t;return this._stderrStream?this._stderrStream:null!=(t=null==(e=this._process)?void 0:e.stderr)?t:null}get pid(){var e,t;return null!=(t=null==(e=this._process)?void 0:e.pid)?t:null}processReadBuffer(){for(var e,t;;)try{let t=this._readBuffer.readMessage();if(null===t)break;null==(e=this.onmessage)||e.call(this,t)}catch(e){null==(t=this.onerror)||t.call(this,e)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(e){return new Promise(t=>{var r;if(!(null==(r=this._process)?void 0:r.stdin))throw Error("Not connected");let n=(0,s.serializeMessage)(e);this._process.stdin.write(n)?t():this._process.stdin.once("drain",t)})}}},90211,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pathMatch=function(e,t){return!!(t===e||0===e.indexOf(t)&&("/"===t[t.length-1]||e.startsWith(t)&&"/"===e[t.length]))||!1}},29825,e=>{"use strict";let t,r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$,M,D,F,U,L,q,V,B,Z,H,G,W,J,K,Y,X,Q,ee,et,er,en,ea,ei,eo,es,el,eu;function ed(e,t){let r=0,n=e.length,a=!1;if(!t){if(e.startsWith("data:"))return null;for(;r<e.length&&32>=e.charCodeAt(r);)r+=1;for(;n>r+1&&32>=e.charCodeAt(n-1);)n-=1;if(47===e.charCodeAt(r)&&47===e.charCodeAt(r+1))r+=2;else{let t=e.indexOf(":/",r);if(-1!==t){let n=t-r,a=e.charCodeAt(r),i=e.charCodeAt(r+1),o=e.charCodeAt(r+2),s=e.charCodeAt(r+3),l=e.charCodeAt(r+4);if(5===n&&104===a&&116===i&&116===o&&112===s&&115===l);else if(4===n&&104===a&&116===i&&116===o&&112===s);else if(3===n&&119===a&&115===i&&115===o);else if(2===n&&119===a&&115===i);else for(let n=r;n<t;n+=1){let t=32|e.charCodeAt(n);if(!(t>=97&&t<=122||t>=48&&t<=57||46===t||45===t||43===t))return null}for(r=t+2;47===e.charCodeAt(r);)r+=1}}let t=-1,i=-1,o=-1;for(let s=r;s<n;s+=1){let r=e.charCodeAt(s);if(35===r||47===r||63===r){n=s;break}64===r?t=s:93===r?i=s:58===r?o=s:r>=65&&r<=90&&(a=!0)}if(-1!==t&&t>r&&t<n&&(r=t+1),91===e.charCodeAt(r))return -1!==i?e.slice(r+1,i).toLowerCase():null;-1!==o&&o>r&&o<n&&(n=o)}for(;n>r+1&&46===e.charCodeAt(n-1);)n-=1;let i=0!==r||n!==e.length?e.slice(r,n):e;return a?i.toLowerCase():i}function ec(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function ep(e){if(e.length>255||0===e.length||!ec(e.charCodeAt(0))&&46!==e.charCodeAt(0)&&95!==e.charCodeAt(0))return!1;let t=-1,r=-1,n=e.length;for(let a=0;a<n;a+=1){let n=e.charCodeAt(a);if(46===n){if(a-t>64||46===r||45===r||95===r)return!1;t=a}else if(!(ec(n)||45===n||95===n))return!1;r=n}return n-t-1<=63&&45!==r}function em({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:r=!0,extractHostname:n=!0,mixedInputs:a=!0,validHosts:i=null,validateHostname:o=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:r,extractHostname:n,mixedInputs:a,validHosts:i,validateHostname:o}}let eh=em({});function ef(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function eg(e){e.domain=null,e.domainWithoutSuffix=null,e.hostname=null,e.isIcann=null,e.isIp=null,e.isPrivate=null,e.publicSuffix=null,e.subdomain=null}function ey(e,t,r,n,a){var i,o,s,l,u;let d=void 0===n?eh:em(n);if("string"!=typeof e||(d.extractHostname?d.mixedInputs?a.hostname=ed(e,ep(e)):a.hostname=ed(e,!1):a.hostname=e,0===t||null===a.hostname))return a;if(d.detectIp&&(a.isIp=function(e){if(e.length<3)return!1;let t=+!!e.startsWith("["),r=e.length;if("]"===e[r-1]&&(r-=1),r-t>39)return!1;let n=!1;for(;t<r;t+=1){let r=e.charCodeAt(t);if(58===r)n=!0;else if(!(r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=90))return!1}return n}(i=a.hostname)||function(e){if(e.length<7||e.length>15)return!1;let t=0;for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(46===n)t+=1;else if(n<48||n>57)return!1}return 3===t&&46!==e.charCodeAt(0)&&46!==e.charCodeAt(e.length-1)}(i),a.isIp))return a;return d.validateHostname&&d.extractHostname&&!ep(a.hostname)?(a.hostname=null,a):(r(a.hostname,d,a),2===t||null===a.publicSuffix||(a.domain=function(e,t,r){let n,a;if(null!==r.validHosts){for(let e of r.validHosts)if(t.endsWith(e)&&(t.length===e.length||"."===t[t.length-e.length-1]))return e}let i=0;if(t.startsWith("."))for(;i<t.length&&"."===t[i];)i+=1;return e.length===t.length-i?null:(n=t.length-e.length-2,-1===(a=t.lastIndexOf(".",n))?t:t.slice(a+1))}(a.publicSuffix,a.hostname,d),3===t||null===a.domain)||(o=a.hostname,a.subdomain=(s=a.domain).length===o.length?"":o.slice(0,-s.length-1),4===t))?a:(l=a.domain,u=a.publicSuffix,a.domainWithoutSuffix=l.slice(0,-u.length-1),a)}let ev=(r=[2,{}],n=[0,{city:t=[1,{}]}],[0,{ck:[0,{www:t}],jp:[0,{kawasaki:n,kitakyushu:n,kobe:n,nagoya:n,sapporo:n,sendai:n,yokohama:n}],dev:[0,{hrsn:[0,{psl:[0,{wc:[0,{ignored:r,sub:[0,{ignored:r}]}]}]}]}]}]),eb=(i=[2,{}],o=[1,{com:a=[1,{}],edu:a,gov:a,net:a,org:a}],s=[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a}],u=[2,{s:l=[0,{"*":i}]}],d=[0,{relay:i}],c=[2,{id:i}],p=[1,{gov:a}],m=[0,{"transfer-webapp":i}],h=[0,{notebook:i,studio:i}],f=[0,{labeling:i,notebook:i,studio:i}],g=[0,{notebook:i}],y=[0,{labeling:i,notebook:i,"notebook-fips":i,studio:i}],v=[0,{notebook:i,"notebook-fips":i,studio:i,"studio-fips":i}],b=[0,{"*":a}],_=[1,{co:i}],w=[0,{objects:i}],S=[2,{nodes:i}],k=[0,{my:l}],x=[0,{s3:i,"s3-accesspoint":i,"s3-website":i}],E=[0,{s3:i,"s3-accesspoint":i}],T=[0,{direct:i}],O=[0,{"webview-assets":i}],I=[0,{vfs:i,"webview-assets":i}],P=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":O,cloud9:I}],C=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:E,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":O,cloud9:I}],A=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":O,cloud9:I}],j=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i}],z=[0,{s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-website":i}],R=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:z,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":O,cloud9:I}],N=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:z,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-deprecated":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":O,cloud9:I}],$=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:[0,{s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i}],s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i}],M=[0,{auth:i}],D=[0,{auth:i,"auth-fips":i}],F=[0,{"auth-fips":i}],U=[0,{apps:i}],L=[0,{paas:i}],q=[2,{eu:i}],V=[0,{app:i}],B=[0,{site:i}],Z=[1,{com:a,edu:a,net:a,org:a}],H=[0,{j:i}],G=[0,{dyn:i}],W=[1,{co:a,com:a,edu:a,gov:a,net:a,org:a}],J=[0,{p:i}],K=[0,{user:i}],Y=[0,{shop:i}],X=[0,{cdn:i}],Q=[0,{cust:i,reservd:i}],ee=[0,{cust:i}],et=[0,{s3:i}],er=[1,{biz:a,com:a,edu:a,gov:a,info:a,net:a,org:a}],en=[0,{ipfs:i}],ea=[1,{framer:i}],ei=[0,{forgot:i}],eo=[1,{gs:a}],es=[0,{nes:a}],el=[1,{k12:a,cc:a,lib:a}],eu=[1,{cc:a,lib:a}],[0,{ac:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,drr:i,feedback:i,forms:i}],ad:a,ae:[1,{ac:a,co:a,gov:a,mil:a,net:a,org:a,sch:a}],aero:[1,{airline:a,airport:a,"accident-investigation":a,"accident-prevention":a,aerobatic:a,aeroclub:a,aerodrome:a,agents:a,"air-surveillance":a,"air-traffic-control":a,aircraft:a,airtraffic:a,ambulance:a,association:a,author:a,ballooning:a,broker:a,caa:a,cargo:a,catering:a,certification:a,championship:a,charter:a,civilaviation:a,club:a,conference:a,consultant:a,consulting:a,control:a,council:a,crew:a,design:a,dgca:a,educator:a,emergency:a,engine:a,engineer:a,entertainment:a,equipment:a,exchange:a,express:a,federation:a,flight:a,freight:a,fuel:a,gliding:a,government:a,groundhandling:a,group:a,hanggliding:a,homebuilt:a,insurance:a,journal:a,journalist:a,leasing:a,logistics:a,magazine:a,maintenance:a,marketplace:a,media:a,microlight:a,modelling:a,navigation:a,parachuting:a,paragliding:a,"passenger-association":a,pilot:a,press:a,production:a,recreation:a,repbody:a,res:a,research:a,rotorcraft:a,safety:a,scientist:a,services:a,show:a,skydiving:a,software:a,student:a,taxi:a,trader:a,trading:a,trainer:a,union:a,workinggroup:a,works:a}],af:o,ag:[1,{co:a,com:a,net:a,nom:a,org:a,obj:i}],ai:[1,{com:a,net:a,off:a,org:a,uwu:i,framer:i}],al:s,am:[1,{co:a,com:a,commune:a,net:a,org:a,radio:i}],ao:[1,{co:a,ed:a,edu:a,gov:a,gv:a,it:a,og:a,org:a,pb:a}],aq:a,ar:[1,{bet:a,com:a,coop:a,edu:a,gob:a,gov:a,int:a,mil:a,musica:a,mutual:a,net:a,org:a,seg:a,senasa:a,tur:a}],arpa:[1,{e164:a,home:a,"in-addr":a,ip6:a,iris:a,uri:a,urn:a}],as:p,asia:[1,{cloudns:i,daemon:i,dix:i}],at:[1,{ac:[1,{sth:a}],co:a,gv:a,or:a,funkfeuer:[0,{wien:i}],futurecms:[0,{"*":i,ex:l,in:l}],futurehosting:i,futuremailing:i,ortsinfo:[0,{ex:l,kunden:l}],biz:i,info:i,"123webseite":i,priv:i,myspreadshop:i,"12hp":i,"2ix":i,"4lima":i,"lima-city":i}],au:[1,{asn:a,com:[1,{cloudlets:[0,{mel:i}],myspreadshop:i}],edu:[1,{act:a,catholic:a,nsw:[1,{schools:a}],nt:a,qld:a,sa:a,tas:a,vic:a,wa:a}],gov:[1,{qld:a,sa:a,tas:a,vic:a,wa:a}],id:a,net:a,org:a,conf:a,oz:a,act:a,nsw:a,nt:a,qld:a,sa:a,tas:a,vic:a,wa:a}],aw:[1,{com:a}],ax:a,az:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,int:a,mil:a,name:a,net:a,org:a,pp:a,pro:a}],ba:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,rs:i}],bb:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,net:a,org:a,store:a,tv:a}],bd:b,be:[1,{ac:a,cloudns:i,webhosting:i,interhostsolutions:[0,{cloud:i}],kuleuven:[0,{ezproxy:i}],"123website":i,myspreadshop:i,transurl:l}],bf:p,bg:[1,{0:a,1:a,2:a,3:a,4:a,5:a,6:a,7:a,8:a,9:a,a:a,b:a,c:a,d:a,e:a,f:a,g:a,h:a,i:a,j:a,k:a,l:a,m:a,n:a,o:a,p:a,q:a,r:a,s:a,t:a,u:a,v:a,w:a,x:a,y:a,z:a,barsy:i}],bh:o,bi:[1,{co:a,com:a,edu:a,or:a,org:a}],biz:[1,{activetrail:i,"cloud-ip":i,cloudns:i,jozi:i,dyndns:i,"for-better":i,"for-more":i,"for-some":i,"for-the":i,selfip:i,webhop:i,orx:i,mmafan:i,myftp:i,"no-ip":i,dscloud:i}],bj:[1,{africa:a,agro:a,architectes:a,assur:a,avocats:a,co:a,com:a,eco:a,econo:a,edu:a,info:a,loisirs:a,money:a,net:a,org:a,ote:a,restaurant:a,resto:a,tourism:a,univ:a}],bm:o,bn:[1,{com:a,edu:a,gov:a,net:a,org:a,co:i}],bo:[1,{com:a,edu:a,gob:a,int:a,mil:a,net:a,org:a,tv:a,web:a,academia:a,agro:a,arte:a,blog:a,bolivia:a,ciencia:a,cooperativa:a,democracia:a,deporte:a,ecologia:a,economia:a,empresa:a,indigena:a,industria:a,info:a,medicina:a,movimiento:a,musica:a,natural:a,nombre:a,noticias:a,patria:a,plurinacional:a,politica:a,profesional:a,pueblo:a,revista:a,salud:a,tecnologia:a,tksat:a,transporte:a,wiki:a}],br:[1,{"9guacu":a,abc:a,adm:a,adv:a,agr:a,aju:a,am:a,anani:a,aparecida:a,app:a,arq:a,art:a,ato:a,b:a,barueri:a,belem:a,bet:a,bhz:a,bib:a,bio:a,blog:a,bmd:a,boavista:a,bsb:a,campinagrande:a,campinas:a,caxias:a,cim:a,cng:a,cnt:a,com:[1,{simplesite:i}],contagem:a,coop:a,coz:a,cri:a,cuiaba:a,curitiba:a,def:a,des:a,det:a,dev:a,ecn:a,eco:a,edu:a,emp:a,enf:a,eng:a,esp:a,etc:a,eti:a,far:a,feira:a,flog:a,floripa:a,fm:a,fnd:a,fortal:a,fot:a,foz:a,fst:a,g12:a,geo:a,ggf:a,goiania:a,gov:[1,{ac:a,al:a,am:a,ap:a,ba:a,ce:a,df:a,es:a,go:a,ma:a,mg:a,ms:a,mt:a,pa:a,pb:a,pe:a,pi:a,pr:a,rj:a,rn:a,ro:a,rr:a,rs:a,sc:a,se:a,sp:a,to:a}],gru:a,imb:a,ind:a,inf:a,jab:a,jampa:a,jdf:a,joinville:a,jor:a,jus:a,leg:[1,{ac:i,al:i,am:i,ap:i,ba:i,ce:i,df:i,es:i,go:i,ma:i,mg:i,ms:i,mt:i,pa:i,pb:i,pe:i,pi:i,pr:i,rj:i,rn:i,ro:i,rr:i,rs:i,sc:i,se:i,sp:i,to:i}],leilao:a,lel:a,log:a,londrina:a,macapa:a,maceio:a,manaus:a,maringa:a,mat:a,med:a,mil:a,morena:a,mp:a,mus:a,natal:a,net:a,niteroi:a,nom:b,not:a,ntr:a,odo:a,ong:a,org:a,osasco:a,palmas:a,poa:a,ppg:a,pro:a,psc:a,psi:a,pvh:a,qsl:a,radio:a,rec:a,recife:a,rep:a,ribeirao:a,rio:a,riobranco:a,riopreto:a,salvador:a,sampa:a,santamaria:a,santoandre:a,saobernardo:a,saogonca:a,seg:a,sjc:a,slg:a,slz:a,sorocaba:a,srv:a,taxi:a,tc:a,tec:a,teo:a,the:a,tmp:a,trd:a,tur:a,tv:a,udi:a,vet:a,vix:a,vlog:a,wiki:a,zlg:a}],bs:[1,{com:a,edu:a,gov:a,net:a,org:a,we:i}],bt:o,bv:a,bw:[1,{ac:a,co:a,gov:a,net:a,org:a}],by:[1,{gov:a,mil:a,com:a,of:a,mediatech:i}],bz:[1,{co:a,com:a,edu:a,gov:a,net:a,org:a,za:i,mydns:i,gsj:i}],ca:[1,{ab:a,bc:a,mb:a,nb:a,nf:a,nl:a,ns:a,nt:a,nu:a,on:a,pe:a,qc:a,sk:a,yk:a,gc:a,barsy:i,awdev:l,co:i,"no-ip":i,myspreadshop:i,box:i}],cat:a,cc:[1,{cleverapps:i,cloudns:i,ftpaccess:i,"game-server":i,myphotos:i,scrapping:i,twmail:i,csx:i,fantasyleague:i,spawn:[0,{instances:i}]}],cd:p,cf:a,cg:a,ch:[1,{square7:i,cloudns:i,cloudscale:[0,{cust:i,lpg:w,rma:w}],flow:[0,{ae:[0,{alp1:i}],appengine:i}],"linkyard-cloud":i,gotdns:i,dnsking:i,"123website":i,myspreadshop:i,firenet:[0,{"*":i,svc:l}],"12hp":i,"2ix":i,"4lima":i,"lima-city":i}],ci:[1,{ac:a,"xn--aroport-bya":a,aroport:a,asso:a,co:a,com:a,ed:a,edu:a,go:a,gouv:a,int:a,net:a,or:a,org:a}],ck:b,cl:[1,{co:a,gob:a,gov:a,mil:a,cloudns:i}],cm:[1,{co:a,com:a,gov:a,net:a}],cn:[1,{ac:a,com:[1,{amazonaws:[0,{"cn-north-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i}],"cn-northwest-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:E,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i}],compute:l,airflow:[0,{"cn-north-1":l,"cn-northwest-1":l}],eb:[0,{"cn-north-1":i,"cn-northwest-1":i}],elb:l}],sagemaker:[0,{"cn-north-1":h,"cn-northwest-1":h}]}],edu:a,gov:a,mil:a,net:a,org:a,"xn--55qx5d":a,:a,"xn--od0alg":a,:a,"xn--io0a7i":a,:a,ah:a,bj:a,cq:a,fj:a,gd:a,gs:a,gx:a,gz:a,ha:a,hb:a,he:a,hi:a,hk:a,hl:a,hn:a,jl:a,js:a,jx:a,ln:a,mo:a,nm:a,nx:a,qh:a,sc:a,sd:a,sh:[1,{as:i}],sn:a,sx:a,tj:a,tw:a,xj:a,xz:a,yn:a,zj:a,"canva-apps":i,canvasite:k,myqnapcloud:i,quickconnect:T}],co:[1,{com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a,carrd:i,crd:i,otap:l,leadpages:i,lpages:i,mypi:i,xmit:l,firewalledreplit:c,repl:c,supabase:i}],com:[1,{a2hosted:i,cpserver:i,adobeaemcloud:[2,{dev:l}],africa:i,airkitapps:i,"airkitapps-au":i,aivencloud:i,alibabacloudcs:i,kasserver:i,amazonaws:[0,{"af-south-1":P,"ap-east-1":C,"ap-northeast-1":A,"ap-northeast-2":A,"ap-northeast-3":P,"ap-south-1":A,"ap-south-2":j,"ap-southeast-1":A,"ap-southeast-2":A,"ap-southeast-3":j,"ap-southeast-4":j,"ap-southeast-5":[0,{"execute-api":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i}],"ca-central-1":R,"ca-west-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:z,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i}],"eu-central-1":A,"eu-central-2":j,"eu-north-1":C,"eu-south-1":P,"eu-south-2":j,"eu-west-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":O,cloud9:I}],"eu-west-2":C,"eu-west-3":P,"il-central-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":O,cloud9:[0,{vfs:i}]}],"me-central-1":j,"me-south-1":C,"sa-east-1":P,"us-east-1":[2,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:z,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-deprecated":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":O,cloud9:I}],"us-east-2":N,"us-gov-east-1":$,"us-gov-west-1":$,"us-west-1":R,"us-west-2":N,compute:l,"compute-1":l,airflow:[0,{"af-south-1":l,"ap-east-1":l,"ap-northeast-1":l,"ap-northeast-2":l,"ap-northeast-3":l,"ap-south-1":l,"ap-south-2":l,"ap-southeast-1":l,"ap-southeast-2":l,"ap-southeast-3":l,"ap-southeast-4":l,"ca-central-1":l,"ca-west-1":l,"eu-central-1":l,"eu-central-2":l,"eu-north-1":l,"eu-south-1":l,"eu-south-2":l,"eu-west-1":l,"eu-west-2":l,"eu-west-3":l,"il-central-1":l,"me-central-1":l,"me-south-1":l,"sa-east-1":l,"us-east-1":l,"us-east-2":l,"us-west-1":l,"us-west-2":l}],s3:i,"s3-1":i,"s3-ap-east-1":i,"s3-ap-northeast-1":i,"s3-ap-northeast-2":i,"s3-ap-northeast-3":i,"s3-ap-south-1":i,"s3-ap-southeast-1":i,"s3-ap-southeast-2":i,"s3-ca-central-1":i,"s3-eu-central-1":i,"s3-eu-north-1":i,"s3-eu-west-1":i,"s3-eu-west-2":i,"s3-eu-west-3":i,"s3-external-1":i,"s3-fips-us-gov-east-1":i,"s3-fips-us-gov-west-1":i,"s3-global":[0,{accesspoint:[0,{mrap:i}]}],"s3-me-south-1":i,"s3-sa-east-1":i,"s3-us-east-2":i,"s3-us-gov-east-1":i,"s3-us-gov-west-1":i,"s3-us-west-1":i,"s3-us-west-2":i,"s3-website-ap-northeast-1":i,"s3-website-ap-southeast-1":i,"s3-website-ap-southeast-2":i,"s3-website-eu-west-1":i,"s3-website-sa-east-1":i,"s3-website-us-east-1":i,"s3-website-us-gov-west-1":i,"s3-website-us-west-1":i,"s3-website-us-west-2":i,elb:l}],amazoncognito:[0,{"af-south-1":M,"ap-east-1":M,"ap-northeast-1":M,"ap-northeast-2":M,"ap-northeast-3":M,"ap-south-1":M,"ap-south-2":M,"ap-southeast-1":M,"ap-southeast-2":M,"ap-southeast-3":M,"ap-southeast-4":M,"ap-southeast-5":M,"ca-central-1":M,"ca-west-1":M,"eu-central-1":M,"eu-central-2":M,"eu-north-1":M,"eu-south-1":M,"eu-south-2":M,"eu-west-1":M,"eu-west-2":M,"eu-west-3":M,"il-central-1":M,"me-central-1":M,"me-south-1":M,"sa-east-1":M,"us-east-1":D,"us-east-2":D,"us-gov-east-1":F,"us-gov-west-1":F,"us-west-1":D,"us-west-2":D}],amplifyapp:i,awsapprunner:l,awsapps:i,elasticbeanstalk:[2,{"af-south-1":i,"ap-east-1":i,"ap-northeast-1":i,"ap-northeast-2":i,"ap-northeast-3":i,"ap-south-1":i,"ap-southeast-1":i,"ap-southeast-2":i,"ap-southeast-3":i,"ca-central-1":i,"eu-central-1":i,"eu-north-1":i,"eu-south-1":i,"eu-west-1":i,"eu-west-2":i,"eu-west-3":i,"il-central-1":i,"me-south-1":i,"sa-east-1":i,"us-east-1":i,"us-east-2":i,"us-gov-east-1":i,"us-gov-west-1":i,"us-west-1":i,"us-west-2":i}],awsglobalaccelerator:i,siiites:i,appspacehosted:i,appspaceusercontent:i,"on-aptible":i,myasustor:i,"balena-devices":i,boutir:i,bplaced:i,cafjs:i,"canva-apps":i,"cdn77-storage":i,br:i,cn:i,de:i,eu:i,jpn:i,mex:i,ru:i,sa:i,uk:i,us:i,za:i,"clever-cloud":[0,{services:l}],dnsabr:i,"ip-ddns":i,jdevcloud:i,wpdevcloud:i,"cf-ipfs":i,"cloudflare-ipfs":i,trycloudflare:i,co:i,devinapps:l,builtwithdark:i,datadetect:[0,{demo:i,instance:i}],dattolocal:i,dattorelay:i,dattoweb:i,mydatto:i,digitaloceanspaces:l,discordsays:i,discordsez:i,drayddns:i,dreamhosters:i,durumis:i,mydrobo:i,blogdns:i,cechire:i,dnsalias:i,dnsdojo:i,doesntexist:i,dontexist:i,doomdns:i,"dyn-o-saur":i,dynalias:i,"dyndns-at-home":i,"dyndns-at-work":i,"dyndns-blog":i,"dyndns-free":i,"dyndns-home":i,"dyndns-ip":i,"dyndns-mail":i,"dyndns-office":i,"dyndns-pics":i,"dyndns-remote":i,"dyndns-server":i,"dyndns-web":i,"dyndns-wiki":i,"dyndns-work":i,"est-a-la-maison":i,"est-a-la-masion":i,"est-le-patron":i,"est-mon-blogueur":i,"from-ak":i,"from-al":i,"from-ar":i,"from-ca":i,"from-ct":i,"from-dc":i,"from-de":i,"from-fl":i,"from-ga":i,"from-hi":i,"from-ia":i,"from-id":i,"from-il":i,"from-in":i,"from-ks":i,"from-ky":i,"from-ma":i,"from-md":i,"from-mi":i,"from-mn":i,"from-mo":i,"from-ms":i,"from-mt":i,"from-nc":i,"from-nd":i,"from-ne":i,"from-nh":i,"from-nj":i,"from-nm":i,"from-nv":i,"from-oh":i,"from-ok":i,"from-or":i,"from-pa":i,"from-pr":i,"from-ri":i,"from-sc":i,"from-sd":i,"from-tn":i,"from-tx":i,"from-ut":i,"from-va":i,"from-vt":i,"from-wa":i,"from-wi":i,"from-wv":i,"from-wy":i,getmyip:i,gotdns:i,"hobby-site":i,homelinux:i,homeunix:i,iamallama:i,"is-a-anarchist":i,"is-a-blogger":i,"is-a-bookkeeper":i,"is-a-bulls-fan":i,"is-a-caterer":i,"is-a-chef":i,"is-a-conservative":i,"is-a-cpa":i,"is-a-cubicle-slave":i,"is-a-democrat":i,"is-a-designer":i,"is-a-doctor":i,"is-a-financialadvisor":i,"is-a-geek":i,"is-a-green":i,"is-a-guru":i,"is-a-hard-worker":i,"is-a-hunter":i,"is-a-landscaper":i,"is-a-lawyer":i,"is-a-liberal":i,"is-a-libertarian":i,"is-a-llama":i,"is-a-musician":i,"is-a-nascarfan":i,"is-a-nurse":i,"is-a-painter":i,"is-a-personaltrainer":i,"is-a-photographer":i,"is-a-player":i,"is-a-republican":i,"is-a-rockstar":i,"is-a-socialist":i,"is-a-student":i,"is-a-teacher":i,"is-a-techie":i,"is-a-therapist":i,"is-an-accountant":i,"is-an-actor":i,"is-an-actress":i,"is-an-anarchist":i,"is-an-artist":i,"is-an-engineer":i,"is-an-entertainer":i,"is-certified":i,"is-gone":i,"is-into-anime":i,"is-into-cars":i,"is-into-cartoons":i,"is-into-games":i,"is-leet":i,"is-not-certified":i,"is-slick":i,"is-uberleet":i,"is-with-theband":i,"isa-geek":i,"isa-hockeynut":i,issmarterthanyou:i,"likes-pie":i,likescandy:i,"neat-url":i,"saves-the-whales":i,selfip:i,"sells-for-less":i,"sells-for-u":i,servebbs:i,"simple-url":i,"space-to-rent":i,"teaches-yoga":i,writesthisblog:i,ddnsfree:i,ddnsgeek:i,giize:i,gleeze:i,kozow:i,loseyourip:i,ooguy:i,theworkpc:i,mytuleap:i,"tuleap-partners":i,encoreapi:i,evennode:[0,{"eu-1":i,"eu-2":i,"eu-3":i,"eu-4":i,"us-1":i,"us-2":i,"us-3":i,"us-4":i}],onfabrica:i,"fastly-edge":i,"fastly-terrarium":i,"fastvps-server":i,mydobiss:i,firebaseapp:i,fldrv:i,forgeblocks:i,framercanvas:i,"freebox-os":i,freeboxos:i,freemyip:i,aliases121:i,gentapps:i,gentlentapis:i,githubusercontent:i,"0emm":l,appspot:[2,{r:l}],blogspot:i,codespot:i,googleapis:i,googlecode:i,pagespeedmobilizer:i,withgoogle:i,withyoutube:i,grayjayleagues:i,hatenablog:i,hatenadiary:i,herokuapp:i,gr:i,smushcdn:i,wphostedmail:i,wpmucdn:i,pixolino:i,"apps-1and1":i,"live-website":i,dopaas:i,"hosted-by-previder":L,hosteur:[0,{"rag-cloud":i,"rag-cloud-ch":i}],"ik-server":[0,{jcloud:i,"jcloud-ver-jpc":i}],jelastic:[0,{demo:i}],massivegrid:L,wafaicloud:[0,{jed:i,ryd:i}],webadorsite:i,joyent:[0,{cns:l}],lpusercontent:i,linode:[0,{members:i,nodebalancer:l}],linodeobjects:l,linodeusercontent:[0,{ip:i}],localtonet:i,lovableproject:i,barsycenter:i,barsyonline:i,modelscape:i,mwcloudnonprod:i,polyspace:i,mazeplay:i,miniserver:i,atmeta:i,fbsbx:U,meteorapp:q,routingthecloud:i,mydbserver:i,hostedpi:i,"mythic-beasts":[0,{caracal:i,customer:i,fentiger:i,lynx:i,ocelot:i,oncilla:i,onza:i,sphinx:i,vs:i,x:i,yali:i}],nospamproxy:[0,{cloud:[2,{o365:i}]}],"4u":i,nfshost:i,"3utilities":i,blogsyte:i,ciscofreak:i,damnserver:i,ddnsking:i,ditchyourip:i,dnsiskinky:i,dynns:i,geekgalaxy:i,"health-carereform":i,homesecuritymac:i,homesecuritypc:i,myactivedirectory:i,mysecuritycamera:i,myvnc:i,"net-freaks":i,onthewifi:i,point2this:i,quicksytes:i,securitytactics:i,servebeer:i,servecounterstrike:i,serveexchange:i,serveftp:i,servegame:i,servehalflife:i,servehttp:i,servehumour:i,serveirc:i,servemp3:i,servep2p:i,servepics:i,servequake:i,servesarcasm:i,stufftoread:i,unusualperson:i,workisboring:i,myiphost:i,observableusercontent:[0,{static:i}],simplesite:i,orsites:i,operaunite:i,"customer-oci":[0,{"*":i,oci:l,ocp:l,ocs:l}],oraclecloudapps:l,oraclegovcloudapps:l,"authgear-staging":i,authgearapps:i,skygearapp:i,outsystemscloud:i,ownprovider:i,pgfog:i,pagexl:i,gotpantheon:i,paywhirl:l,upsunapp:i,"postman-echo":i,prgmr:[0,{xen:i}],pythonanywhere:q,qa2:i,"alpha-myqnapcloud":i,"dev-myqnapcloud":i,mycloudnas:i,mynascloud:i,myqnapcloud:i,qualifioapp:i,ladesk:i,qbuser:i,quipelements:l,rackmaze:i,"readthedocs-hosted":i,rhcloud:i,onrender:i,render:V,"subsc-pay":i,"180r":i,dojin:i,sakuratan:i,sakuraweb:i,x0:i,code:[0,{builder:l,"dev-builder":l,"stg-builder":l}],salesforce:[0,{platform:[0,{"code-builder-stg":[0,{test:[0,{"001":l}]}]}]}],logoip:i,scrysec:i,"firewall-gateway":i,myshopblocks:i,myshopify:i,shopitsite:i,"1kapp":i,appchizi:i,applinzi:i,sinaapp:i,vipsinaapp:i,streamlitapp:i,"try-snowplow":i,"playstation-cloud":i,myspreadshop:i,"w-corp-staticblitz":i,"w-credentialless-staticblitz":i,"w-staticblitz":i,"stackhero-network":i,stdlib:[0,{api:i}],strapiapp:[2,{media:i}],"streak-link":i,streaklinks:i,streakusercontent:i,"temp-dns":i,dsmynas:i,familyds:i,mytabit:i,taveusercontent:i,"tb-hosting":B,reservd:i,thingdustdata:i,"townnews-staging":i,typeform:[0,{pro:i}],hk:i,it:i,"deus-canvas":i,vultrobjects:l,wafflecell:i,hotelwithflight:i,"reserve-online":i,cprapid:i,pleskns:i,remotewd:i,wiardweb:[0,{pages:i}],wixsite:i,wixstudio:i,messwithdns:i,"woltlab-demo":i,wpenginepowered:[2,{js:i}],xnbay:[2,{u2:i,"u2-local":i}],yolasite:i}],coop:a,cr:[1,{ac:a,co:a,ed:a,fi:a,go:a,or:a,sa:a}],cu:[1,{com:a,edu:a,gob:a,inf:a,nat:a,net:a,org:a}],cv:[1,{com:a,edu:a,id:a,int:a,net:a,nome:a,org:a,publ:a}],cw:Z,cx:[1,{gov:a,cloudns:i,ath:i,info:i,assessments:i,calculators:i,funnels:i,paynow:i,quizzes:i,researched:i,tests:i}],cy:[1,{ac:a,biz:a,com:[1,{scaleforce:H}],ekloges:a,gov:a,ltd:a,mil:a,net:a,org:a,press:a,pro:a,tm:a}],cz:[1,{contentproxy9:[0,{rsc:i}],realm:i,e4:i,co:i,metacentrum:[0,{cloud:l,custom:i}],muni:[0,{cloud:[0,{flt:i,usr:i}]}]}],de:[1,{bplaced:i,square7:i,com:i,cosidns:G,dnsupdater:i,"dynamisches-dns":i,"internet-dns":i,"l-o-g-i-n":i,ddnss:[2,{dyn:i,dyndns:i}],"dyn-ip24":i,dyndns1:i,"home-webserver":[2,{dyn:i}],"myhome-server":i,dnshome:i,fuettertdasnetz:i,isteingeek:i,istmein:i,lebtimnetz:i,leitungsen:i,traeumtgerade:i,frusky:l,goip:i,"xn--gnstigbestellen-zvb":i,gnstigbestellen:i,"xn--gnstigliefern-wob":i,gnstigliefern:i,"hs-heilbronn":[0,{it:[0,{pages:i,"pages-research":i}]}],"dyn-berlin":i,"in-berlin":i,"in-brb":i,"in-butter":i,"in-dsl":i,"in-vpn":i,iservschule:i,"mein-iserv":i,schulplattform:i,schulserver:i,"test-iserv":i,keymachine:i,"git-repos":i,"lcube-server":i,"svn-repos":i,barsy:i,webspaceconfig:i,"123webseite":i,rub:i,"ruhr-uni-bochum":[2,{noc:[0,{io:i}]}],logoip:i,"firewall-gateway":i,"my-gateway":i,"my-router":i,spdns:i,speedpartner:[0,{customer:i}],myspreadshop:i,"taifun-dns":i,"12hp":i,"2ix":i,"4lima":i,"lima-city":i,"dd-dns":i,"dray-dns":i,draydns:i,"dyn-vpn":i,dynvpn:i,"mein-vigor":i,"my-vigor":i,"my-wan":i,"syno-ds":i,"synology-diskstation":i,"synology-ds":i,uberspace:l,"virtual-user":i,virtualuser:i,"community-pro":i,diskussionsbereich:i}],dj:a,dk:[1,{biz:i,co:i,firm:i,reg:i,store:i,"123hjemmeside":i,myspreadshop:i}],dm:W,do:[1,{art:a,com:a,edu:a,gob:a,gov:a,mil:a,net:a,org:a,sld:a,web:a}],dz:[1,{art:a,asso:a,com:a,edu:a,gov:a,net:a,org:a,pol:a,soc:a,tm:a}],ec:[1,{com:a,edu:a,fin:a,gob:a,gov:a,info:a,k12:a,med:a,mil:a,net:a,org:a,pro:a,base:i,official:i}],edu:[1,{rit:[0,{"git-pages":i}]}],ee:[1,{aip:a,com:a,edu:a,fie:a,gov:a,lib:a,med:a,org:a,pri:a,riik:a}],eg:[1,{ac:a,com:a,edu:a,eun:a,gov:a,info:a,me:a,mil:a,name:a,net:a,org:a,sci:a,sport:a,tv:a}],er:b,es:[1,{com:a,edu:a,gob:a,nom:a,org:a,"123miweb":i,myspreadshop:i}],et:[1,{biz:a,com:a,edu:a,gov:a,info:a,name:a,net:a,org:a}],eu:[1,{airkitapps:i,cloudns:i,dogado:[0,{jelastic:i}],barsy:i,spdns:i,transurl:l,diskstation:i}],fi:[1,{aland:a,dy:i,"xn--hkkinen-5wa":i,hkkinen:i,iki:i,cloudplatform:[0,{fi:i}],datacenter:[0,{demo:i,paas:i}],kapsi:i,"123kotisivu":i,myspreadshop:i}],fj:[1,{ac:a,biz:a,com:a,gov:a,info:a,mil:a,name:a,net:a,org:a,pro:a}],fk:b,fm:[1,{com:a,edu:a,net:a,org:a,radio:i,user:l}],fo:a,fr:[1,{asso:a,com:a,gouv:a,nom:a,prd:a,tm:a,avoues:a,cci:a,greta:a,"huissier-justice":a,"en-root":i,"fbx-os":i,fbxos:i,"freebox-os":i,freeboxos:i,goupile:i,"123siteweb":i,"on-web":i,"chirurgiens-dentistes-en-france":i,dedibox:i,aeroport:i,avocat:i,chambagri:i,"chirurgiens-dentistes":i,"experts-comptables":i,medecin:i,notaires:i,pharmacien:i,port:i,veterinaire:i,myspreadshop:i,ynh:i}],ga:a,gb:a,gd:[1,{edu:a,gov:a}],ge:[1,{com:a,edu:a,gov:a,net:a,org:a,pvt:a,school:a}],gf:a,gg:[1,{co:a,net:a,org:a,botdash:i,kaas:i,stackit:i,panel:[2,{daemon:i}]}],gh:[1,{com:a,edu:a,gov:a,mil:a,org:a}],gi:[1,{com:a,edu:a,gov:a,ltd:a,mod:a,org:a}],gl:[1,{co:a,com:a,edu:a,net:a,org:a,biz:i}],gm:a,gn:[1,{ac:a,com:a,edu:a,gov:a,net:a,org:a}],gov:a,gp:[1,{asso:a,com:a,edu:a,mobi:a,net:a,org:a}],gq:a,gr:[1,{com:a,edu:a,gov:a,net:a,org:a,barsy:i,simplesite:i}],gs:a,gt:[1,{com:a,edu:a,gob:a,ind:a,mil:a,net:a,org:a}],gu:[1,{com:a,edu:a,gov:a,guam:a,info:a,net:a,org:a,web:a}],gw:a,gy:W,hk:[1,{com:a,edu:a,gov:a,idv:a,net:a,org:a,"xn--ciqpn":a,:a,"xn--gmqw5a":a,:a,"xn--55qx5d":a,:a,"xn--mxtq1m":a,:a,"xn--lcvr32d":a,:a,"xn--wcvs22d":a,:a,"xn--gmq050i":a,:a,"xn--uc0atv":a,:a,"xn--uc0ay4a":a,:a,"xn--od0alg":a,:a,"xn--zf0avx":a,:a,"xn--mk0axi":a,:a,"xn--tn0ag":a,:a,"xn--od0aq3b":a,:a,"xn--io0a7i":a,:a,inc:i,ltd:i}],hm:a,hn:[1,{com:a,edu:a,gob:a,mil:a,net:a,org:a}],hr:[1,{com:a,from:a,iz:a,name:a,brendly:Y}],ht:[1,{adult:a,art:a,asso:a,com:a,coop:a,edu:a,firm:a,gouv:a,info:a,med:a,net:a,org:a,perso:a,pol:a,pro:a,rel:a,shop:a,rt:i}],hu:[1,{2e3:a,agrar:a,bolt:a,casino:a,city:a,co:a,erotica:a,erotika:a,film:a,forum:a,games:a,hotel:a,info:a,ingatlan:a,jogasz:a,konyvelo:a,lakas:a,media:a,news:a,org:a,priv:a,reklam:a,sex:a,shop:a,sport:a,suli:a,szex:a,tm:a,tozsde:a,utazas:a,video:a}],id:[1,{ac:a,biz:a,co:a,desa:a,go:a,mil:a,my:a,net:a,or:a,ponpes:a,sch:a,web:a,zone:i}],ie:[1,{gov:a,myspreadshop:i}],il:[1,{ac:a,co:[1,{ravpage:i,mytabit:i,tabitorder:i}],gov:a,idf:a,k12:a,muni:a,net:a,org:a}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":a,"xn--5dbhl8d":a,"xn--8dbq2a":a,"xn--hebda8b":a}],:[1,{:a,:a,:a,:a}],im:[1,{ac:a,co:[1,{ltd:a,plc:a}],com:a,net:a,org:a,tt:a,tv:a}],in:[1,{"5g":a,"6g":a,ac:a,ai:a,am:a,bihar:a,biz:a,business:a,ca:a,cn:a,co:a,com:a,coop:a,cs:a,delhi:a,dr:a,edu:a,er:a,firm:a,gen:a,gov:a,gujarat:a,ind:a,info:a,int:a,internet:a,io:a,me:a,mil:a,net:a,nic:a,org:a,pg:a,post:a,pro:a,res:a,travel:a,tv:a,uk:a,up:a,us:a,cloudns:i,barsy:i,web:i,supabase:i}],info:[1,{cloudns:i,"dynamic-dns":i,"barrel-of-knowledge":i,"barrell-of-knowledge":i,dyndns:i,"for-our":i,"groks-the":i,"groks-this":i,"here-for-more":i,knowsitall:i,selfip:i,webhop:i,barsy:i,mayfirst:i,mittwald:i,mittwaldserver:i,typo3server:i,dvrcam:i,ilovecollege:i,"no-ip":i,forumz:i,nsupdate:i,dnsupdate:i,"v-info":i}],int:[1,{eu:a}],io:[1,{2038:i,co:a,com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a,"on-acorn":l,myaddr:i,apigee:i,"b-data":i,beagleboard:i,bitbucket:i,bluebite:i,boxfuse:i,brave:u,browsersafetymark:i,bubble:X,bubbleapps:i,bigv:[0,{uk0:i}],cleverapps:i,cloudbeesusercontent:i,dappnode:[0,{dyndns:i}],darklang:i,definima:i,dedyn:i,"fh-muenster":i,shw:i,forgerock:[0,{id:i}],github:i,gitlab:i,lolipop:i,"hasura-app":i,hostyhosting:i,hypernode:i,moonscale:l,beebyte:L,beebyteapp:[0,{sekd1:i}],jele:i,webthings:i,loginline:i,barsy:i,azurecontainer:l,ngrok:[2,{ap:i,au:i,eu:i,in:i,jp:i,sa:i,us:i}],nodeart:[0,{stage:i}],pantheonsite:i,pstmn:[2,{mock:i}],protonet:i,qcx:[2,{sys:l}],qoto:i,vaporcloud:i,myrdbx:i,"rb-hosting":B,"on-k3s":l,"on-rio":l,readthedocs:i,resindevice:i,resinstaging:[0,{devices:i}],hzc:i,sandcats:i,scrypted:[0,{client:i}],"mo-siemens":i,lair:U,stolos:l,musician:i,utwente:i,edugit:i,telebit:i,thingdust:[0,{dev:Q,disrec:Q,prod:ee,testing:Q}],tickets:i,webflow:i,webflowtest:i,editorx:i,wixstudio:i,basicserver:i,virtualserver:i}],iq:s,ir:[1,{ac:a,co:a,gov:a,id:a,net:a,org:a,sch:a,"xn--mgba3a4f16a":a,:a,"xn--mgba3a4fra":a,:a,arvanedge:i}],is:a,it:[1,{edu:a,gov:a,abr:a,abruzzo:a,"aosta-valley":a,aostavalley:a,bas:a,basilicata:a,cal:a,calabria:a,cam:a,campania:a,"emilia-romagna":a,emiliaromagna:a,emr:a,"friuli-v-giulia":a,"friuli-ve-giulia":a,"friuli-vegiulia":a,"friuli-venezia-giulia":a,"friuli-veneziagiulia":a,"friuli-vgiulia":a,"friuliv-giulia":a,"friulive-giulia":a,friulivegiulia:a,"friulivenezia-giulia":a,friuliveneziagiulia:a,friulivgiulia:a,fvg:a,laz:a,lazio:a,lig:a,liguria:a,lom:a,lombardia:a,lombardy:a,lucania:a,mar:a,marche:a,mol:a,molise:a,piedmont:a,piemonte:a,pmn:a,pug:a,puglia:a,sar:a,sardegna:a,sardinia:a,sic:a,sicilia:a,sicily:a,taa:a,tos:a,toscana:a,"trentin-sud-tirol":a,"xn--trentin-sd-tirol-rzb":a,"trentin-sd-tirol":a,"trentin-sudtirol":a,"xn--trentin-sdtirol-7vb":a,"trentin-sdtirol":a,"trentin-sued-tirol":a,"trentin-suedtirol":a,trentino:a,"trentino-a-adige":a,"trentino-aadige":a,"trentino-alto-adige":a,"trentino-altoadige":a,"trentino-s-tirol":a,"trentino-stirol":a,"trentino-sud-tirol":a,"xn--trentino-sd-tirol-c3b":a,"trentino-sd-tirol":a,"trentino-sudtirol":a,"xn--trentino-sdtirol-szb":a,"trentino-sdtirol":a,"trentino-sued-tirol":a,"trentino-suedtirol":a,"trentinoa-adige":a,trentinoaadige:a,"trentinoalto-adige":a,trentinoaltoadige:a,"trentinos-tirol":a,trentinostirol:a,"trentinosud-tirol":a,"xn--trentinosd-tirol-rzb":a,"trentinosd-tirol":a,trentinosudtirol:a,"xn--trentinosdtirol-7vb":a,trentinosdtirol:a,"trentinosued-tirol":a,trentinosuedtirol:a,"trentinsud-tirol":a,"xn--trentinsd-tirol-6vb":a,"trentinsd-tirol":a,trentinsudtirol:a,"xn--trentinsdtirol-nsb":a,trentinsdtirol:a,"trentinsued-tirol":a,trentinsuedtirol:a,tuscany:a,umb:a,umbria:a,"val-d-aosta":a,"val-daosta":a,"vald-aosta":a,valdaosta:a,"valle-aosta":a,"valle-d-aosta":a,"valle-daosta":a,valleaosta:a,"valled-aosta":a,valledaosta:a,"vallee-aoste":a,"xn--valle-aoste-ebb":a,"valle-aoste":a,"vallee-d-aoste":a,"xn--valle-d-aoste-ehb":a,"valle-d-aoste":a,valleeaoste:a,"xn--valleaoste-e7a":a,valleaoste:a,valleedaoste:a,"xn--valledaoste-ebb":a,valledaoste:a,vao:a,vda:a,ven:a,veneto:a,ag:a,agrigento:a,al:a,alessandria:a,"alto-adige":a,altoadige:a,an:a,ancona:a,"andria-barletta-trani":a,"andria-trani-barletta":a,andriabarlettatrani:a,andriatranibarletta:a,ao:a,aosta:a,aoste:a,ap:a,aq:a,aquila:a,ar:a,arezzo:a,"ascoli-piceno":a,ascolipiceno:a,asti:a,at:a,av:a,avellino:a,ba:a,balsan:a,"balsan-sudtirol":a,"xn--balsan-sdtirol-nsb":a,"balsan-sdtirol":a,"balsan-suedtirol":a,bari:a,"barletta-trani-andria":a,barlettatraniandria:a,belluno:a,benevento:a,bergamo:a,bg:a,bi:a,biella:a,bl:a,bn:a,bo:a,bologna:a,bolzano:a,"bolzano-altoadige":a,bozen:a,"bozen-sudtirol":a,"xn--bozen-sdtirol-2ob":a,"bozen-sdtirol":a,"bozen-suedtirol":a,br:a,brescia:a,brindisi:a,bs:a,bt:a,bulsan:a,"bulsan-sudtirol":a,"xn--bulsan-sdtirol-nsb":a,"bulsan-sdtirol":a,"bulsan-suedtirol":a,bz:a,ca:a,cagliari:a,caltanissetta:a,"campidano-medio":a,campidanomedio:a,campobasso:a,"carbonia-iglesias":a,carboniaiglesias:a,"carrara-massa":a,carraramassa:a,caserta:a,catania:a,catanzaro:a,cb:a,ce:a,"cesena-forli":a,"xn--cesena-forl-mcb":a,"cesena-forl":a,cesenaforli:a,"xn--cesenaforl-i8a":a,cesenaforl:a,ch:a,chieti:a,ci:a,cl:a,cn:a,co:a,como:a,cosenza:a,cr:a,cremona:a,crotone:a,cs:a,ct:a,cuneo:a,cz:a,"dell-ogliastra":a,dellogliastra:a,en:a,enna:a,fc:a,fe:a,fermo:a,ferrara:a,fg:a,fi:a,firenze:a,florence:a,fm:a,foggia:a,"forli-cesena":a,"xn--forl-cesena-fcb":a,"forl-cesena":a,forlicesena:a,"xn--forlcesena-c8a":a,forlcesena:a,fr:a,frosinone:a,ge:a,genoa:a,genova:a,go:a,gorizia:a,gr:a,grosseto:a,"iglesias-carbonia":a,iglesiascarbonia:a,im:a,imperia:a,is:a,isernia:a,kr:a,"la-spezia":a,laquila:a,laspezia:a,latina:a,lc:a,le:a,lecce:a,lecco:a,li:a,livorno:a,lo:a,lodi:a,lt:a,lu:a,lucca:a,macerata:a,mantova:a,"massa-carrara":a,massacarrara:a,matera:a,mb:a,mc:a,me:a,"medio-campidano":a,mediocampidano:a,messina:a,mi:a,milan:a,milano:a,mn:a,mo:a,modena:a,monza:a,"monza-brianza":a,"monza-e-della-brianza":a,monzabrianza:a,monzaebrianza:a,monzaedellabrianza:a,ms:a,mt:a,na:a,naples:a,napoli:a,no:a,novara:a,nu:a,nuoro:a,og:a,ogliastra:a,"olbia-tempio":a,olbiatempio:a,or:a,oristano:a,ot:a,pa:a,padova:a,padua:a,palermo:a,parma:a,pavia:a,pc:a,pd:a,pe:a,perugia:a,"pesaro-urbino":a,pesarourbino:a,pescara:a,pg:a,pi:a,piacenza:a,pisa:a,pistoia:a,pn:a,po:a,pordenone:a,potenza:a,pr:a,prato:a,pt:a,pu:a,pv:a,pz:a,ra:a,ragusa:a,ravenna:a,rc:a,re:a,"reggio-calabria":a,"reggio-emilia":a,reggiocalabria:a,reggioemilia:a,rg:a,ri:a,rieti:a,rimini:a,rm:a,rn:a,ro:a,roma:a,rome:a,rovigo:a,sa:a,salerno:a,sassari:a,savona:a,si:a,siena:a,siracusa:a,so:a,sondrio:a,sp:a,sr:a,ss:a,"xn--sdtirol-n2a":a,sdtirol:a,suedtirol:a,sv:a,ta:a,taranto:a,te:a,"tempio-olbia":a,tempioolbia:a,teramo:a,terni:a,tn:a,to:a,torino:a,tp:a,tr:a,"trani-andria-barletta":a,"trani-barletta-andria":a,traniandriabarletta:a,tranibarlettaandria:a,trapani:a,trento:a,treviso:a,trieste:a,ts:a,turin:a,tv:a,ud:a,udine:a,"urbino-pesaro":a,urbinopesaro:a,va:a,varese:a,vb:a,vc:a,ve:a,venezia:a,venice:a,verbania:a,vercelli:a,verona:a,vi:a,"vibo-valentia":a,vibovalentia:a,vicenza:a,viterbo:a,vr:a,vs:a,vt:a,vv:a,"12chars":i,ibxos:i,iliadboxos:i,neen:[0,{jc:i}],"123homepage":i,"16-b":i,"32-b":i,"64-b":i,myspreadshop:i,syncloud:i}],je:[1,{co:a,net:a,org:a,of:i}],jm:b,jo:[1,{agri:a,ai:a,com:a,edu:a,eng:a,fm:a,gov:a,mil:a,net:a,org:a,per:a,phd:a,sch:a,tv:a}],jobs:a,jp:[1,{ac:a,ad:a,co:a,ed:a,go:a,gr:a,lg:a,ne:[1,{aseinet:K,gehirn:i,ivory:i,"mail-box":i,mints:i,mokuren:i,opal:i,sakura:i,sumomo:i,topaz:i}],or:a,aichi:[1,{aisai:a,ama:a,anjo:a,asuke:a,chiryu:a,chita:a,fuso:a,gamagori:a,handa:a,hazu:a,hekinan:a,higashiura:a,ichinomiya:a,inazawa:a,inuyama:a,isshiki:a,iwakura:a,kanie:a,kariya:a,kasugai:a,kira:a,kiyosu:a,komaki:a,konan:a,kota:a,mihama:a,miyoshi:a,nishio:a,nisshin:a,obu:a,oguchi:a,oharu:a,okazaki:a,owariasahi:a,seto:a,shikatsu:a,shinshiro:a,shitara:a,tahara:a,takahama:a,tobishima:a,toei:a,togo:a,tokai:a,tokoname:a,toyoake:a,toyohashi:a,toyokawa:a,toyone:a,toyota:a,tsushima:a,yatomi:a}],akita:[1,{akita:a,daisen:a,fujisato:a,gojome:a,hachirogata:a,happou:a,higashinaruse:a,honjo:a,honjyo:a,ikawa:a,kamikoani:a,kamioka:a,katagami:a,kazuno:a,kitaakita:a,kosaka:a,kyowa:a,misato:a,mitane:a,moriyoshi:a,nikaho:a,noshiro:a,odate:a,oga:a,ogata:a,semboku:a,yokote:a,yurihonjo:a}],aomori:[1,{aomori:a,gonohe:a,hachinohe:a,hashikami:a,hiranai:a,hirosaki:a,itayanagi:a,kuroishi:a,misawa:a,mutsu:a,nakadomari:a,noheji:a,oirase:a,owani:a,rokunohe:a,sannohe:a,shichinohe:a,shingo:a,takko:a,towada:a,tsugaru:a,tsuruta:a}],chiba:[1,{abiko:a,asahi:a,chonan:a,chosei:a,choshi:a,chuo:a,funabashi:a,futtsu:a,hanamigawa:a,ichihara:a,ichikawa:a,ichinomiya:a,inzai:a,isumi:a,kamagaya:a,kamogawa:a,kashiwa:a,katori:a,katsuura:a,kimitsu:a,kisarazu:a,kozaki:a,kujukuri:a,kyonan:a,matsudo:a,midori:a,mihama:a,minamiboso:a,mobara:a,mutsuzawa:a,nagara:a,nagareyama:a,narashino:a,narita:a,noda:a,oamishirasato:a,omigawa:a,onjuku:a,otaki:a,sakae:a,sakura:a,shimofusa:a,shirako:a,shiroi:a,shisui:a,sodegaura:a,sosa:a,tako:a,tateyama:a,togane:a,tohnosho:a,tomisato:a,urayasu:a,yachimata:a,yachiyo:a,yokaichiba:a,yokoshibahikari:a,yotsukaido:a}],ehime:[1,{ainan:a,honai:a,ikata:a,imabari:a,iyo:a,kamijima:a,kihoku:a,kumakogen:a,masaki:a,matsuno:a,matsuyama:a,namikata:a,niihama:a,ozu:a,saijo:a,seiyo:a,shikokuchuo:a,tobe:a,toon:a,uchiko:a,uwajima:a,yawatahama:a}],fukui:[1,{echizen:a,eiheiji:a,fukui:a,ikeda:a,katsuyama:a,mihama:a,minamiechizen:a,obama:a,ohi:a,ono:a,sabae:a,sakai:a,takahama:a,tsuruga:a,wakasa:a}],fukuoka:[1,{ashiya:a,buzen:a,chikugo:a,chikuho:a,chikujo:a,chikushino:a,chikuzen:a,chuo:a,dazaifu:a,fukuchi:a,hakata:a,higashi:a,hirokawa:a,hisayama:a,iizuka:a,inatsuki:a,kaho:a,kasuga:a,kasuya:a,kawara:a,keisen:a,koga:a,kurate:a,kurogi:a,kurume:a,minami:a,miyako:a,miyama:a,miyawaka:a,mizumaki:a,munakata:a,nakagawa:a,nakama:a,nishi:a,nogata:a,ogori:a,okagaki:a,okawa:a,oki:a,omuta:a,onga:a,onojo:a,oto:a,saigawa:a,sasaguri:a,shingu:a,shinyoshitomi:a,shonai:a,soeda:a,sue:a,tachiarai:a,tagawa:a,takata:a,toho:a,toyotsu:a,tsuiki:a,ukiha:a,umi:a,usui:a,yamada:a,yame:a,yanagawa:a,yukuhashi:a}],fukushima:[1,{aizubange:a,aizumisato:a,aizuwakamatsu:a,asakawa:a,bandai:a,date:a,fukushima:a,furudono:a,futaba:a,hanawa:a,higashi:a,hirata:a,hirono:a,iitate:a,inawashiro:a,ishikawa:a,iwaki:a,izumizaki:a,kagamiishi:a,kaneyama:a,kawamata:a,kitakata:a,kitashiobara:a,koori:a,koriyama:a,kunimi:a,miharu:a,mishima:a,namie:a,nango:a,nishiaizu:a,nishigo:a,okuma:a,omotego:a,ono:a,otama:a,samegawa:a,shimogo:a,shirakawa:a,showa:a,soma:a,sukagawa:a,taishin:a,tamakawa:a,tanagura:a,tenei:a,yabuki:a,yamato:a,yamatsuri:a,yanaizu:a,yugawa:a}],gifu:[1,{anpachi:a,ena:a,gifu:a,ginan:a,godo:a,gujo:a,hashima:a,hichiso:a,hida:a,higashishirakawa:a,ibigawa:a,ikeda:a,kakamigahara:a,kani:a,kasahara:a,kasamatsu:a,kawaue:a,kitagata:a,mino:a,minokamo:a,mitake:a,mizunami:a,motosu:a,nakatsugawa:a,ogaki:a,sakahogi:a,seki:a,sekigahara:a,shirakawa:a,tajimi:a,takayama:a,tarui:a,toki:a,tomika:a,wanouchi:a,yamagata:a,yaotsu:a,yoro:a}],gunma:[1,{annaka:a,chiyoda:a,fujioka:a,higashiagatsuma:a,isesaki:a,itakura:a,kanna:a,kanra:a,katashina:a,kawaba:a,kiryu:a,kusatsu:a,maebashi:a,meiwa:a,midori:a,minakami:a,naganohara:a,nakanojo:a,nanmoku:a,numata:a,oizumi:a,ora:a,ota:a,shibukawa:a,shimonita:a,shinto:a,showa:a,takasaki:a,takayama:a,tamamura:a,tatebayashi:a,tomioka:a,tsukiyono:a,tsumagoi:a,ueno:a,yoshioka:a}],hiroshima:[1,{asaminami:a,daiwa:a,etajima:a,fuchu:a,fukuyama:a,hatsukaichi:a,higashihiroshima:a,hongo:a,jinsekikogen:a,kaita:a,kui:a,kumano:a,kure:a,mihara:a,miyoshi:a,naka:a,onomichi:a,osakikamijima:a,otake:a,saka:a,sera:a,seranishi:a,shinichi:a,shobara:a,takehara:a}],hokkaido:[1,{abashiri:a,abira:a,aibetsu:a,akabira:a,akkeshi:a,asahikawa:a,ashibetsu:a,ashoro:a,assabu:a,atsuma:a,bibai:a,biei:a,bifuka:a,bihoro:a,biratori:a,chippubetsu:a,chitose:a,date:a,ebetsu:a,embetsu:a,eniwa:a,erimo:a,esan:a,esashi:a,fukagawa:a,fukushima:a,furano:a,furubira:a,haboro:a,hakodate:a,hamatonbetsu:a,hidaka:a,higashikagura:a,higashikawa:a,hiroo:a,hokuryu:a,hokuto:a,honbetsu:a,horokanai:a,horonobe:a,ikeda:a,imakane:a,ishikari:a,iwamizawa:a,iwanai:a,kamifurano:a,kamikawa:a,kamishihoro:a,kamisunagawa:a,kamoenai:a,kayabe:a,kembuchi:a,kikonai:a,kimobetsu:a,kitahiroshima:a,kitami:a,kiyosato:a,koshimizu:a,kunneppu:a,kuriyama:a,kuromatsunai:a,kushiro:a,kutchan:a,kyowa:a,mashike:a,matsumae:a,mikasa:a,minamifurano:a,mombetsu:a,moseushi:a,mukawa:a,muroran:a,naie:a,nakagawa:a,nakasatsunai:a,nakatombetsu:a,nanae:a,nanporo:a,nayoro:a,nemuro:a,niikappu:a,niki:a,nishiokoppe:a,noboribetsu:a,numata:a,obihiro:a,obira:a,oketo:a,okoppe:a,otaru:a,otobe:a,otofuke:a,otoineppu:a,oumu:a,ozora:a,pippu:a,rankoshi:a,rebun:a,rikubetsu:a,rishiri:a,rishirifuji:a,saroma:a,sarufutsu:a,shakotan:a,shari:a,shibecha:a,shibetsu:a,shikabe:a,shikaoi:a,shimamaki:a,shimizu:a,shimokawa:a,shinshinotsu:a,shintoku:a,shiranuka:a,shiraoi:a,shiriuchi:a,sobetsu:a,sunagawa:a,taiki:a,takasu:a,takikawa:a,takinoue:a,teshikaga:a,tobetsu:a,tohma:a,tomakomai:a,tomari:a,toya:a,toyako:a,toyotomi:a,toyoura:a,tsubetsu:a,tsukigata:a,urakawa:a,urausu:a,uryu:a,utashinai:a,wakkanai:a,wassamu:a,yakumo:a,yoichi:a}],hyogo:[1,{aioi:a,akashi:a,ako:a,amagasaki:a,aogaki:a,asago:a,ashiya:a,awaji:a,fukusaki:a,goshiki:a,harima:a,himeji:a,ichikawa:a,inagawa:a,itami:a,kakogawa:a,kamigori:a,kamikawa:a,kasai:a,kasuga:a,kawanishi:a,miki:a,minamiawaji:a,nishinomiya:a,nishiwaki:a,ono:a,sanda:a,sannan:a,sasayama:a,sayo:a,shingu:a,shinonsen:a,shiso:a,sumoto:a,taishi:a,taka:a,takarazuka:a,takasago:a,takino:a,tamba:a,tatsuno:a,toyooka:a,yabu:a,yashiro:a,yoka:a,yokawa:a}],ibaraki:[1,{ami:a,asahi:a,bando:a,chikusei:a,daigo:a,fujishiro:a,hitachi:a,hitachinaka:a,hitachiomiya:a,hitachiota:a,ibaraki:a,ina:a,inashiki:a,itako:a,iwama:a,joso:a,kamisu:a,kasama:a,kashima:a,kasumigaura:a,koga:a,miho:a,mito:a,moriya:a,naka:a,namegata:a,oarai:a,ogawa:a,omitama:a,ryugasaki:a,sakai:a,sakuragawa:a,shimodate:a,shimotsuma:a,shirosato:a,sowa:a,suifu:a,takahagi:a,tamatsukuri:a,tokai:a,tomobe:a,tone:a,toride:a,tsuchiura:a,tsukuba:a,uchihara:a,ushiku:a,yachiyo:a,yamagata:a,yawara:a,yuki:a}],ishikawa:[1,{anamizu:a,hakui:a,hakusan:a,kaga:a,kahoku:a,kanazawa:a,kawakita:a,komatsu:a,nakanoto:a,nanao:a,nomi:a,nonoichi:a,noto:a,shika:a,suzu:a,tsubata:a,tsurugi:a,uchinada:a,wajima:a}],iwate:[1,{fudai:a,fujisawa:a,hanamaki:a,hiraizumi:a,hirono:a,ichinohe:a,ichinoseki:a,iwaizumi:a,iwate:a,joboji:a,kamaishi:a,kanegasaki:a,karumai:a,kawai:a,kitakami:a,kuji:a,kunohe:a,kuzumaki:a,miyako:a,mizusawa:a,morioka:a,ninohe:a,noda:a,ofunato:a,oshu:a,otsuchi:a,rikuzentakata:a,shiwa:a,shizukuishi:a,sumita:a,tanohata:a,tono:a,yahaba:a,yamada:a}],kagawa:[1,{ayagawa:a,higashikagawa:a,kanonji:a,kotohira:a,manno:a,marugame:a,mitoyo:a,naoshima:a,sanuki:a,tadotsu:a,takamatsu:a,tonosho:a,uchinomi:a,utazu:a,zentsuji:a}],kagoshima:[1,{akune:a,amami:a,hioki:a,isa:a,isen:a,izumi:a,kagoshima:a,kanoya:a,kawanabe:a,kinko:a,kouyama:a,makurazaki:a,matsumoto:a,minamitane:a,nakatane:a,nishinoomote:a,satsumasendai:a,soo:a,tarumizu:a,yusui:a}],kanagawa:[1,{aikawa:a,atsugi:a,ayase:a,chigasaki:a,ebina:a,fujisawa:a,hadano:a,hakone:a,hiratsuka:a,isehara:a,kaisei:a,kamakura:a,kiyokawa:a,matsuda:a,minamiashigara:a,miura:a,nakai:a,ninomiya:a,odawara:a,oi:a,oiso:a,sagamihara:a,samukawa:a,tsukui:a,yamakita:a,yamato:a,yokosuka:a,yugawara:a,zama:a,zushi:a}],kochi:[1,{aki:a,geisei:a,hidaka:a,higashitsuno:a,ino:a,kagami:a,kami:a,kitagawa:a,kochi:a,mihara:a,motoyama:a,muroto:a,nahari:a,nakamura:a,nankoku:a,nishitosa:a,niyodogawa:a,ochi:a,okawa:a,otoyo:a,otsuki:a,sakawa:a,sukumo:a,susaki:a,tosa:a,tosashimizu:a,toyo:a,tsuno:a,umaji:a,yasuda:a,yusuhara:a}],kumamoto:[1,{amakusa:a,arao:a,aso:a,choyo:a,gyokuto:a,kamiamakusa:a,kikuchi:a,kumamoto:a,mashiki:a,mifune:a,minamata:a,minamioguni:a,nagasu:a,nishihara:a,oguni:a,ozu:a,sumoto:a,takamori:a,uki:a,uto:a,yamaga:a,yamato:a,yatsushiro:a}],kyoto:[1,{ayabe:a,fukuchiyama:a,higashiyama:a,ide:a,ine:a,joyo:a,kameoka:a,kamo:a,kita:a,kizu:a,kumiyama:a,kyotamba:a,kyotanabe:a,kyotango:a,maizuru:a,minami:a,minamiyamashiro:a,miyazu:a,muko:a,nagaokakyo:a,nakagyo:a,nantan:a,oyamazaki:a,sakyo:a,seika:a,tanabe:a,uji:a,ujitawara:a,wazuka:a,yamashina:a,yawata:a}],mie:[1,{asahi:a,inabe:a,ise:a,kameyama:a,kawagoe:a,kiho:a,kisosaki:a,kiwa:a,komono:a,kumano:a,kuwana:a,matsusaka:a,meiwa:a,mihama:a,minamiise:a,misugi:a,miyama:a,nabari:a,shima:a,suzuka:a,tado:a,taiki:a,taki:a,tamaki:a,toba:a,tsu:a,udono:a,ureshino:a,watarai:a,yokkaichi:a}],miyagi:[1,{furukawa:a,higashimatsushima:a,ishinomaki:a,iwanuma:a,kakuda:a,kami:a,kawasaki:a,marumori:a,matsushima:a,minamisanriku:a,misato:a,murata:a,natori:a,ogawara:a,ohira:a,onagawa:a,osaki:a,rifu:a,semine:a,shibata:a,shichikashuku:a,shikama:a,shiogama:a,shiroishi:a,tagajo:a,taiwa:a,tome:a,tomiya:a,wakuya:a,watari:a,yamamoto:a,zao:a}],miyazaki:[1,{aya:a,ebino:a,gokase:a,hyuga:a,kadogawa:a,kawaminami:a,kijo:a,kitagawa:a,kitakata:a,kitaura:a,kobayashi:a,kunitomi:a,kushima:a,mimata:a,miyakonojo:a,miyazaki:a,morotsuka:a,nichinan:a,nishimera:a,nobeoka:a,saito:a,shiiba:a,shintomi:a,takaharu:a,takanabe:a,takazaki:a,tsuno:a}],nagano:[1,{achi:a,agematsu:a,anan:a,aoki:a,asahi:a,azumino:a,chikuhoku:a,chikuma:a,chino:a,fujimi:a,hakuba:a,hara:a,hiraya:a,iida:a,iijima:a,iiyama:a,iizuna:a,ikeda:a,ikusaka:a,ina:a,karuizawa:a,kawakami:a,kiso:a,kisofukushima:a,kitaaiki:a,komagane:a,komoro:a,matsukawa:a,matsumoto:a,miasa:a,minamiaiki:a,minamimaki:a,minamiminowa:a,minowa:a,miyada:a,miyota:a,mochizuki:a,nagano:a,nagawa:a,nagiso:a,nakagawa:a,nakano:a,nozawaonsen:a,obuse:a,ogawa:a,okaya:a,omachi:a,omi:a,ookuwa:a,ooshika:a,otaki:a,otari:a,sakae:a,sakaki:a,saku:a,sakuho:a,shimosuwa:a,shinanomachi:a,shiojiri:a,suwa:a,suzaka:a,takagi:a,takamori:a,takayama:a,tateshina:a,tatsuno:a,togakushi:a,togura:a,tomi:a,ueda:a,wada:a,yamagata:a,yamanouchi:a,yasaka:a,yasuoka:a}],nagasaki:[1,{chijiwa:a,futsu:a,goto:a,hasami:a,hirado:a,iki:a,isahaya:a,kawatana:a,kuchinotsu:a,matsuura:a,nagasaki:a,obama:a,omura:a,oseto:a,saikai:a,sasebo:a,seihi:a,shimabara:a,shinkamigoto:a,togitsu:a,tsushima:a,unzen:a}],nara:[1,{ando:a,gose:a,heguri:a,higashiyoshino:a,ikaruga:a,ikoma:a,kamikitayama:a,kanmaki:a,kashiba:a,kashihara:a,katsuragi:a,kawai:a,kawakami:a,kawanishi:a,koryo:a,kurotaki:a,mitsue:a,miyake:a,nara:a,nosegawa:a,oji:a,ouda:a,oyodo:a,sakurai:a,sango:a,shimoichi:a,shimokitayama:a,shinjo:a,soni:a,takatori:a,tawaramoto:a,tenkawa:a,tenri:a,uda:a,yamatokoriyama:a,yamatotakada:a,yamazoe:a,yoshino:a}],niigata:[1,{aga:a,agano:a,gosen:a,itoigawa:a,izumozaki:a,joetsu:a,kamo:a,kariwa:a,kashiwazaki:a,minamiuonuma:a,mitsuke:a,muika:a,murakami:a,myoko:a,nagaoka:a,niigata:a,ojiya:a,omi:a,sado:a,sanjo:a,seiro:a,seirou:a,sekikawa:a,shibata:a,tagami:a,tainai:a,tochio:a,tokamachi:a,tsubame:a,tsunan:a,uonuma:a,yahiko:a,yoita:a,yuzawa:a}],oita:[1,{beppu:a,bungoono:a,bungotakada:a,hasama:a,hiji:a,himeshima:a,hita:a,kamitsue:a,kokonoe:a,kuju:a,kunisaki:a,kusu:a,oita:a,saiki:a,taketa:a,tsukumi:a,usa:a,usuki:a,yufu:a}],okayama:[1,{akaiwa:a,asakuchi:a,bizen:a,hayashima:a,ibara:a,kagamino:a,kasaoka:a,kibichuo:a,kumenan:a,kurashiki:a,maniwa:a,misaki:a,nagi:a,niimi:a,nishiawakura:a,okayama:a,satosho:a,setouchi:a,shinjo:a,shoo:a,soja:a,takahashi:a,tamano:a,tsuyama:a,wake:a,yakage:a}],okinawa:[1,{aguni:a,ginowan:a,ginoza:a,gushikami:a,haebaru:a,higashi:a,hirara:a,iheya:a,ishigaki:a,ishikawa:a,itoman:a,izena:a,kadena:a,kin:a,kitadaito:a,kitanakagusuku:a,kumejima:a,kunigami:a,minamidaito:a,motobu:a,nago:a,naha:a,nakagusuku:a,nakijin:a,nanjo:a,nishihara:a,ogimi:a,okinawa:a,onna:a,shimoji:a,taketomi:a,tarama:a,tokashiki:a,tomigusuku:a,tonaki:a,urasoe:a,uruma:a,yaese:a,yomitan:a,yonabaru:a,yonaguni:a,zamami:a}],osaka:[1,{abeno:a,chihayaakasaka:a,chuo:a,daito:a,fujiidera:a,habikino:a,hannan:a,higashiosaka:a,higashisumiyoshi:a,higashiyodogawa:a,hirakata:a,ibaraki:a,ikeda:a,izumi:a,izumiotsu:a,izumisano:a,kadoma:a,kaizuka:a,kanan:a,kashiwara:a,katano:a,kawachinagano:a,kishiwada:a,kita:a,kumatori:a,matsubara:a,minato:a,minoh:a,misaki:a,moriguchi:a,neyagawa:a,nishi:a,nose:a,osakasayama:a,sakai:a,sayama:a,sennan:a,settsu:a,shijonawate:a,shimamoto:a,suita:a,tadaoka:a,taishi:a,tajiri:a,takaishi:a,takatsuki:a,tondabayashi:a,toyonaka:a,toyono:a,yao:a}],saga:[1,{ariake:a,arita:a,fukudomi:a,genkai:a,hamatama:a,hizen:a,imari:a,kamimine:a,kanzaki:a,karatsu:a,kashima:a,kitagata:a,kitahata:a,kiyama:a,kouhoku:a,kyuragi:a,nishiarita:a,ogi:a,omachi:a,ouchi:a,saga:a,shiroishi:a,taku:a,tara:a,tosu:a,yoshinogari:a}],saitama:[1,{arakawa:a,asaka:a,chichibu:a,fujimi:a,fujimino:a,fukaya:a,hanno:a,hanyu:a,hasuda:a,hatogaya:a,hatoyama:a,hidaka:a,higashichichibu:a,higashimatsuyama:a,honjo:a,ina:a,iruma:a,iwatsuki:a,kamiizumi:a,kamikawa:a,kamisato:a,kasukabe:a,kawagoe:a,kawaguchi:a,kawajima:a,kazo:a,kitamoto:a,koshigaya:a,kounosu:a,kuki:a,kumagaya:a,matsubushi:a,minano:a,misato:a,miyashiro:a,miyoshi:a,moroyama:a,nagatoro:a,namegawa:a,niiza:a,ogano:a,ogawa:a,ogose:a,okegawa:a,omiya:a,otaki:a,ranzan:a,ryokami:a,saitama:a,sakado:a,satte:a,sayama:a,shiki:a,shiraoka:a,soka:a,sugito:a,toda:a,tokigawa:a,tokorozawa:a,tsurugashima:a,urawa:a,warabi:a,yashio:a,yokoze:a,yono:a,yorii:a,yoshida:a,yoshikawa:a,yoshimi:a}],shiga:[1,{aisho:a,gamo:a,higashiomi:a,hikone:a,koka:a,konan:a,kosei:a,koto:a,kusatsu:a,maibara:a,moriyama:a,nagahama:a,nishiazai:a,notogawa:a,omihachiman:a,otsu:a,ritto:a,ryuoh:a,takashima:a,takatsuki:a,torahime:a,toyosato:a,yasu:a}],shimane:[1,{akagi:a,ama:a,gotsu:a,hamada:a,higashiizumo:a,hikawa:a,hikimi:a,izumo:a,kakinoki:a,masuda:a,matsue:a,misato:a,nishinoshima:a,ohda:a,okinoshima:a,okuizumo:a,shimane:a,tamayu:a,tsuwano:a,unnan:a,yakumo:a,yasugi:a,yatsuka:a}],shizuoka:[1,{arai:a,atami:a,fuji:a,fujieda:a,fujikawa:a,fujinomiya:a,fukuroi:a,gotemba:a,haibara:a,hamamatsu:a,higashiizu:a,ito:a,iwata:a,izu:a,izunokuni:a,kakegawa:a,kannami:a,kawanehon:a,kawazu:a,kikugawa:a,kosai:a,makinohara:a,matsuzaki:a,minamiizu:a,mishima:a,morimachi:a,nishiizu:a,numazu:a,omaezaki:a,shimada:a,shimizu:a,shimoda:a,shizuoka:a,susono:a,yaizu:a,yoshida:a}],tochigi:[1,{ashikaga:a,bato:a,haga:a,ichikai:a,iwafune:a,kaminokawa:a,kanuma:a,karasuyama:a,kuroiso:a,mashiko:a,mibu:a,moka:a,motegi:a,nasu:a,nasushiobara:a,nikko:a,nishikata:a,nogi:a,ohira:a,ohtawara:a,oyama:a,sakura:a,sano:a,shimotsuke:a,shioya:a,takanezawa:a,tochigi:a,tsuga:a,ujiie:a,utsunomiya:a,yaita:a}],tokushima:[1,{aizumi:a,anan:a,ichiba:a,itano:a,kainan:a,komatsushima:a,matsushige:a,mima:a,minami:a,miyoshi:a,mugi:a,nakagawa:a,naruto:a,sanagochi:a,shishikui:a,tokushima:a,wajiki:a}],tokyo:[1,{adachi:a,akiruno:a,akishima:a,aogashima:a,arakawa:a,bunkyo:a,chiyoda:a,chofu:a,chuo:a,edogawa:a,fuchu:a,fussa:a,hachijo:a,hachioji:a,hamura:a,higashikurume:a,higashimurayama:a,higashiyamato:a,hino:a,hinode:a,hinohara:a,inagi:a,itabashi:a,katsushika:a,kita:a,kiyose:a,kodaira:a,koganei:a,kokubunji:a,komae:a,koto:a,kouzushima:a,kunitachi:a,machida:a,meguro:a,minato:a,mitaka:a,mizuho:a,musashimurayama:a,musashino:a,nakano:a,nerima:a,ogasawara:a,okutama:a,ome:a,oshima:a,ota:a,setagaya:a,shibuya:a,shinagawa:a,shinjuku:a,suginami:a,sumida:a,tachikawa:a,taito:a,tama:a,toshima:a}],tottori:[1,{chizu:a,hino:a,kawahara:a,koge:a,kotoura:a,misasa:a,nanbu:a,nichinan:a,sakaiminato:a,tottori:a,wakasa:a,yazu:a,yonago:a}],toyama:[1,{asahi:a,fuchu:a,fukumitsu:a,funahashi:a,himi:a,imizu:a,inami:a,johana:a,kamiichi:a,kurobe:a,nakaniikawa:a,namerikawa:a,nanto:a,nyuzen:a,oyabe:a,taira:a,takaoka:a,tateyama:a,toga:a,tonami:a,toyama:a,unazuki:a,uozu:a,yamada:a}],wakayama:[1,{arida:a,aridagawa:a,gobo:a,hashimoto:a,hidaka:a,hirogawa:a,inami:a,iwade:a,kainan:a,kamitonda:a,katsuragi:a,kimino:a,kinokawa:a,kitayama:a,koya:a,koza:a,kozagawa:a,kudoyama:a,kushimoto:a,mihama:a,misato:a,nachikatsuura:a,shingu:a,shirahama:a,taiji:a,tanabe:a,wakayama:a,yuasa:a,yura:a}],yamagata:[1,{asahi:a,funagata:a,higashine:a,iide:a,kahoku:a,kaminoyama:a,kaneyama:a,kawanishi:a,mamurogawa:a,mikawa:a,murayama:a,nagai:a,nakayama:a,nanyo:a,nishikawa:a,obanazawa:a,oe:a,oguni:a,ohkura:a,oishida:a,sagae:a,sakata:a,sakegawa:a,shinjo:a,shirataka:a,shonai:a,takahata:a,tendo:a,tozawa:a,tsuruoka:a,yamagata:a,yamanobe:a,yonezawa:a,yuza:a}],yamaguchi:[1,{abu:a,hagi:a,hikari:a,hofu:a,iwakuni:a,kudamatsu:a,mitou:a,nagato:a,oshima:a,shimonoseki:a,shunan:a,tabuse:a,tokuyama:a,toyota:a,ube:a,yuu:a}],yamanashi:[1,{chuo:a,doshi:a,fuefuki:a,fujikawa:a,fujikawaguchiko:a,fujiyoshida:a,hayakawa:a,hokuto:a,ichikawamisato:a,kai:a,kofu:a,koshu:a,kosuge:a,"minami-alps":a,minobu:a,nakamichi:a,nanbu:a,narusawa:a,nirasaki:a,nishikatsura:a,oshino:a,otsuki:a,showa:a,tabayama:a,tsuru:a,uenohara:a,yamanakako:a,yamanashi:a}],"xn--ehqz56n":a,:a,"xn--1lqs03n":a,:a,"xn--qqqt11m":a,:a,"xn--f6qx53a":a,:a,"xn--djrs72d6uy":a,:a,"xn--mkru45i":a,:a,"xn--0trq7p7nn":a,:a,"xn--5js045d":a,:a,"xn--kbrq7o":a,:a,"xn--pssu33l":a,:a,"xn--ntsq17g":a,:a,"xn--uisz3g":a,:a,"xn--6btw5a":a,:a,"xn--1ctwo":a,:a,"xn--6orx2r":a,:a,"xn--rht61e":a,:a,"xn--rht27z":a,:a,"xn--nit225k":a,:a,"xn--rht3d":a,:a,"xn--djty4k":a,:a,"xn--klty5x":a,:a,"xn--kltx9a":a,:a,"xn--kltp7d":a,:a,"xn--c3s14m":a,:a,"xn--vgu402c":a,:a,"xn--efvn9s":a,:a,"xn--1lqs71d":a,:a,"xn--4pvxs":a,:a,"xn--uuwu58a":a,:a,"xn--zbx025d":a,:a,"xn--8pvr4u":a,:a,"xn--5rtp49c":a,:a,"xn--ntso0iqx3a":a,:a,"xn--elqq16h":a,:a,"xn--4it168d":a,:a,"xn--klt787d":a,:a,"xn--rny31h":a,:a,"xn--7t0a264c":a,:a,"xn--uist22h":a,:a,"xn--8ltr62k":a,:a,"xn--2m4a15e":a,:a,"xn--32vp30h":a,:a,"xn--4it797k":a,:a,"xn--5rtq34k":a,:a,"xn--k7yn95e":a,:a,"xn--tor131o":a,:a,"xn--d5qv7z876c":a,:a,kawasaki:b,kitakyushu:b,kobe:b,nagoya:b,sapporo:b,sendai:b,yokohama:b,buyshop:i,fashionstore:i,handcrafted:i,kawaiishop:i,supersale:i,theshop:i,"0am":i,"0g0":i,"0j0":i,"0t0":i,mydns:i,pgw:i,wjg:i,usercontent:i,angry:i,babyblue:i,babymilk:i,backdrop:i,bambina:i,bitter:i,blush:i,boo:i,boy:i,boyfriend:i,but:i,candypop:i,capoo:i,catfood:i,cheap:i,chicappa:i,chillout:i,chips:i,chowder:i,chu:i,ciao:i,cocotte:i,coolblog:i,cranky:i,cutegirl:i,daa:i,deca:i,deci:i,digick:i,egoism:i,fakefur:i,fem:i,flier:i,floppy:i,fool:i,frenchkiss:i,girlfriend:i,girly:i,gloomy:i,gonna:i,greater:i,hacca:i,heavy:i,her:i,hiho:i,hippy:i,holy:i,hungry:i,icurus:i,itigo:i,jellybean:i,kikirara:i,kill:i,kilo:i,kuron:i,littlestar:i,lolipopmc:i,lolitapunk:i,lomo:i,lovepop:i,lovesick:i,main:i,mods:i,mond:i,mongolian:i,moo:i,namaste:i,nikita:i,nobushi:i,noor:i,oops:i,parallel:i,parasite:i,pecori:i,peewee:i,penne:i,pepper:i,perma:i,pigboat:i,pinoko:i,punyu:i,pupu:i,pussycat:i,pya:i,raindrop:i,readymade:i,sadist:i,schoolbus:i,secret:i,staba:i,stripper:i,sub:i,sunnyday:i,thick:i,tonkotsu:i,under:i,upper:i,velvet:i,verse:i,versus:i,vivian:i,watson:i,weblike:i,whitesnow:i,zombie:i,hateblo:i,hatenablog:i,hatenadiary:i,"2-d":i,bona:i,crap:i,daynight:i,eek:i,flop:i,halfmoon:i,jeez:i,matrix:i,mimoza:i,netgamers:i,nyanta:i,o0o0:i,rdy:i,rgr:i,rulez:i,sakurastorage:[0,{isk01:et,isk02:et}],saloon:i,sblo:i,skr:i,tank:i,"uh-oh":i,undo:i,webaccel:[0,{rs:i,user:i}],websozai:i,xii:i}],ke:[1,{ac:a,co:a,go:a,info:a,me:a,mobi:a,ne:a,or:a,sc:a}],kg:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,us:i}],kh:b,ki:er,km:[1,{ass:a,com:a,edu:a,gov:a,mil:a,nom:a,org:a,prd:a,tm:a,asso:a,coop:a,gouv:a,medecin:a,notaires:a,pharmaciens:a,presse:a,veterinaire:a}],kn:[1,{edu:a,gov:a,net:a,org:a}],kp:[1,{com:a,edu:a,gov:a,org:a,rep:a,tra:a}],kr:[1,{ac:a,ai:a,co:a,es:a,go:a,hs:a,io:a,it:a,kg:a,me:a,mil:a,ms:a,ne:a,or:a,pe:a,re:a,sc:a,busan:a,chungbuk:a,chungnam:a,daegu:a,daejeon:a,gangwon:a,gwangju:a,gyeongbuk:a,gyeonggi:a,gyeongnam:a,incheon:a,jeju:a,jeonbuk:a,jeonnam:a,seoul:a,ulsan:a,c01:i,"eliv-dns":i}],kw:[1,{com:a,edu:a,emb:a,gov:a,ind:a,net:a,org:a}],ky:Z,kz:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,jcloud:i}],la:[1,{com:a,edu:a,gov:a,info:a,int:a,net:a,org:a,per:a,bnr:i}],lb:o,lc:[1,{co:a,com:a,edu:a,gov:a,net:a,org:a,oy:i}],li:a,lk:[1,{ac:a,assn:a,com:a,edu:a,gov:a,grp:a,hotel:a,int:a,ltd:a,net:a,ngo:a,org:a,sch:a,soc:a,web:a}],lr:o,ls:[1,{ac:a,biz:a,co:a,edu:a,gov:a,info:a,net:a,org:a,sc:a}],lt:p,lu:[1,{"123website":i}],lv:[1,{asn:a,com:a,conf:a,edu:a,gov:a,id:a,mil:a,net:a,org:a}],ly:[1,{com:a,edu:a,gov:a,id:a,med:a,net:a,org:a,plc:a,sch:a}],ma:[1,{ac:a,co:a,gov:a,net:a,org:a,press:a}],mc:[1,{asso:a,tm:a}],md:[1,{ir:i}],me:[1,{ac:a,co:a,edu:a,gov:a,its:a,net:a,org:a,priv:a,c66:i,craft:i,edgestack:i,filegear:i,glitch:i,"filegear-sg":i,lohmus:i,barsy:i,mcdir:i,brasilia:i,ddns:i,dnsfor:i,hopto:i,loginto:i,noip:i,webhop:i,soundcast:i,tcp4:i,vp4:i,diskstation:i,dscloud:i,i234:i,myds:i,synology:i,transip:B,nohost:i}],mg:[1,{co:a,com:a,edu:a,gov:a,mil:a,nom:a,org:a,prd:a}],mh:a,mil:a,mk:[1,{com:a,edu:a,gov:a,inf:a,name:a,net:a,org:a}],ml:[1,{ac:a,art:a,asso:a,com:a,edu:a,gouv:a,gov:a,info:a,inst:a,net:a,org:a,pr:a,presse:a}],mm:b,mn:[1,{edu:a,gov:a,org:a,nyc:i}],mo:o,mobi:[1,{barsy:i,dscloud:i}],mp:[1,{ju:i}],mq:a,mr:p,ms:[1,{com:a,edu:a,gov:a,net:a,org:a,minisite:i}],mt:Z,mu:[1,{ac:a,co:a,com:a,gov:a,net:a,or:a,org:a}],museum:a,mv:[1,{aero:a,biz:a,com:a,coop:a,edu:a,gov:a,info:a,int:a,mil:a,museum:a,name:a,net:a,org:a,pro:a}],mw:[1,{ac:a,biz:a,co:a,com:a,coop:a,edu:a,gov:a,int:a,net:a,org:a}],mx:[1,{com:a,edu:a,gob:a,net:a,org:a}],my:[1,{biz:a,com:a,edu:a,gov:a,mil:a,name:a,net:a,org:a}],mz:[1,{ac:a,adv:a,co:a,edu:a,gov:a,mil:a,net:a,org:a}],na:[1,{alt:a,co:a,com:a,gov:a,net:a,org:a}],name:[1,{her:ei,his:ei}],nc:[1,{asso:a,nom:a}],ne:a,net:[1,{adobeaemcloud:i,"adobeio-static":i,adobeioruntime:i,akadns:i,akamai:i,"akamai-staging":i,akamaiedge:i,"akamaiedge-staging":i,akamaihd:i,"akamaihd-staging":i,akamaiorigin:i,"akamaiorigin-staging":i,akamaized:i,"akamaized-staging":i,edgekey:i,"edgekey-staging":i,edgesuite:i,"edgesuite-staging":i,alwaysdata:i,myamaze:i,cloudfront:i,appudo:i,"atlassian-dev":[0,{prod:X}],myfritz:i,onavstack:i,shopselect:i,blackbaudcdn:i,boomla:i,bplaced:i,square7:i,cdn77:[0,{r:i}],"cdn77-ssl":i,gb:i,hu:i,jp:i,se:i,uk:i,clickrising:i,"ddns-ip":i,"dns-cloud":i,"dns-dynamic":i,cloudaccess:i,cloudflare:[2,{cdn:i}],cloudflareanycast:X,cloudflarecn:X,cloudflareglobal:X,ctfcloud:i,"feste-ip":i,"knx-server":i,"static-access":i,cryptonomic:l,dattolocal:i,mydatto:i,debian:i,definima:i,deno:i,"at-band-camp":i,blogdns:i,"broke-it":i,buyshouses:i,dnsalias:i,dnsdojo:i,"does-it":i,dontexist:i,dynalias:i,dynathome:i,endofinternet:i,"from-az":i,"from-co":i,"from-la":i,"from-ny":i,"gets-it":i,"ham-radio-op":i,homeftp:i,homeip:i,homelinux:i,homeunix:i,"in-the-band":i,"is-a-chef":i,"is-a-geek":i,"isa-geek":i,"kicks-ass":i,"office-on-the":i,podzone:i,"scrapper-site":i,selfip:i,"sells-it":i,servebbs:i,serveftp:i,thruhere:i,webhop:i,casacam:i,dynu:i,dynv6:i,twmail:i,ru:i,channelsdvr:[2,{u:i}],fastly:[0,{freetls:i,map:i,prod:[0,{a:i,global:i}],ssl:[0,{a:i,b:i,global:i}]}],fastlylb:[2,{map:i}],edgeapp:i,"keyword-on":i,"live-on":i,"server-on":i,"cdn-edges":i,heteml:i,cloudfunctions:i,"grafana-dev":i,iobb:i,moonscale:i,"in-dsl":i,"in-vpn":i,oninferno:i,botdash:i,"apps-1and1":i,ipifony:i,cloudjiffy:[2,{"fra1-de":i,"west1-us":i}],elastx:[0,{"jls-sto1":i,"jls-sto2":i,"jls-sto3":i}],massivegrid:[0,{paas:[0,{"fr-1":i,"lon-1":i,"lon-2":i,"ny-1":i,"ny-2":i,"sg-1":i}]}],saveincloud:[0,{jelastic:i,"nordeste-idc":i}],scaleforce:H,kinghost:i,uni5:i,krellian:i,ggff:i,localcert:i,localhostcert:i,localto:l,barsy:i,memset:i,"azure-api":i,"azure-mobile":i,azureedge:i,azurefd:i,azurestaticapps:[2,{1:i,2:i,3:i,4:i,5:i,6:i,7:i,centralus:i,eastasia:i,eastus2:i,westeurope:i,westus2:i}],azurewebsites:i,cloudapp:i,trafficmanager:i,windows:[0,{core:[0,{blob:i}],servicebus:i}],mynetname:[0,{sn:i}],routingthecloud:i,bounceme:i,ddns:i,"eating-organic":i,mydissent:i,myeffect:i,mymediapc:i,mypsx:i,mysecuritycamera:i,nhlfan:i,"no-ip":i,pgafan:i,privatizehealthinsurance:i,redirectme:i,serveblog:i,serveminecraft:i,sytes:i,dnsup:i,hicam:i,"now-dns":i,ownip:i,vpndns:i,cloudycluster:i,ovh:[0,{hosting:l,webpaas:l}],rackmaze:i,myradweb:i,in:i,"subsc-pay":i,squares:i,schokokeks:i,"firewall-gateway":i,seidat:i,senseering:i,siteleaf:i,mafelo:i,myspreadshop:i,"vps-host":[2,{jelastic:[0,{atl:i,njs:i,ric:i}]}],srcf:[0,{soc:i,user:i}],supabase:i,dsmynas:i,familyds:i,ts:[2,{c:l}],torproject:[2,{pages:i}],vusercontent:i,"reserve-online":i,"community-pro":i,meinforum:i,yandexcloud:[2,{storage:i,website:i}],za:i}],nf:[1,{arts:a,com:a,firm:a,info:a,net:a,other:a,per:a,rec:a,store:a,web:a}],ng:[1,{com:a,edu:a,gov:a,i:a,mil:a,mobi:a,name:a,net:a,org:a,sch:a,biz:[2,{co:i,dl:i,go:i,lg:i,on:i}],col:i,firm:i,gen:i,ltd:i,ngo:i,plc:i}],ni:[1,{ac:a,biz:a,co:a,com:a,edu:a,gob:a,in:a,info:a,int:a,mil:a,net:a,nom:a,org:a,web:a}],nl:[1,{co:i,"hosting-cluster":i,gov:i,khplay:i,"123website":i,myspreadshop:i,transurl:l,cistron:i,demon:i}],no:[1,{fhs:a,folkebibl:a,fylkesbibl:a,idrett:a,museum:a,priv:a,vgs:a,dep:a,herad:a,kommune:a,mil:a,stat:a,aa:eo,ah:eo,bu:eo,fm:eo,hl:eo,hm:eo,"jan-mayen":eo,mr:eo,nl:eo,nt:eo,of:eo,ol:eo,oslo:eo,rl:eo,sf:eo,st:eo,svalbard:eo,tm:eo,tr:eo,va:eo,vf:eo,akrehamn:a,"xn--krehamn-dxa":a,krehamn:a,algard:a,"xn--lgrd-poac":a,lgrd:a,arna:a,bronnoysund:a,"xn--brnnysund-m8ac":a,brnnysund:a,brumunddal:a,bryne:a,drobak:a,"xn--drbak-wua":a,drbak:a,egersund:a,fetsund:a,floro:a,"xn--flor-jra":a,flor:a,fredrikstad:a,hokksund:a,honefoss:a,"xn--hnefoss-q1a":a,hnefoss:a,jessheim:a,jorpeland:a,"xn--jrpeland-54a":a,jrpeland:a,kirkenes:a,kopervik:a,krokstadelva:a,langevag:a,"xn--langevg-jxa":a,langevg:a,leirvik:a,mjondalen:a,"xn--mjndalen-64a":a,mjndalen:a,"mo-i-rana":a,mosjoen:a,"xn--mosjen-eya":a,mosjen:a,nesoddtangen:a,orkanger:a,osoyro:a,"xn--osyro-wua":a,osyro:a,raholt:a,"xn--rholt-mra":a,rholt:a,sandnessjoen:a,"xn--sandnessjen-ogb":a,sandnessjen:a,skedsmokorset:a,slattum:a,spjelkavik:a,stathelle:a,stavern:a,stjordalshalsen:a,"xn--stjrdalshalsen-sqb":a,stjrdalshalsen:a,tananger:a,tranby:a,vossevangen:a,aarborte:a,aejrie:a,afjord:a,"xn--fjord-lra":a,fjord:a,agdenes:a,akershus:es,aknoluokta:a,"xn--koluokta-7ya57h":a,koluokta:a,al:a,"xn--l-1fa":a,l:a,alaheadju:a,"xn--laheadju-7ya":a,laheadju:a,alesund:a,"xn--lesund-hua":a,lesund:a,alstahaug:a,alta:a,"xn--lt-liac":a,lt:a,alvdal:a,amli:a,"xn--mli-tla":a,mli:a,amot:a,"xn--mot-tla":a,mot:a,andasuolo:a,andebu:a,andoy:a,"xn--andy-ira":a,andy:a,ardal:a,"xn--rdal-poa":a,rdal:a,aremark:a,arendal:a,"xn--s-1fa":a,s:a,aseral:a,"xn--seral-lra":a,seral:a,asker:a,askim:a,askoy:a,"xn--asky-ira":a,asky:a,askvoll:a,asnes:a,"xn--snes-poa":a,snes:a,audnedaln:a,aukra:a,aure:a,aurland:a,"aurskog-holand":a,"xn--aurskog-hland-jnb":a,"aurskog-hland":a,austevoll:a,austrheim:a,averoy:a,"xn--avery-yua":a,avery:a,badaddja:a,"xn--bdddj-mrabd":a,bdddj:a,"xn--brum-voa":a,brum:a,bahcavuotna:a,"xn--bhcavuotna-s4a":a,bhcavuotna:a,bahccavuotna:a,"xn--bhccavuotna-k7a":a,bhccavuotna:a,baidar:a,"xn--bidr-5nac":a,bidr:a,bajddar:a,"xn--bjddar-pta":a,bjddar:a,balat:a,"xn--blt-elab":a,blt:a,balestrand:a,ballangen:a,balsfjord:a,bamble:a,bardu:a,barum:a,batsfjord:a,"xn--btsfjord-9za":a,btsfjord:a,bearalvahki:a,"xn--bearalvhki-y4a":a,bearalvhki:a,beardu:a,beiarn:a,berg:a,bergen:a,berlevag:a,"xn--berlevg-jxa":a,berlevg:a,bievat:a,"xn--bievt-0qa":a,bievt:a,bindal:a,birkenes:a,bjarkoy:a,"xn--bjarky-fya":a,bjarky:a,bjerkreim:a,bjugn:a,bodo:a,"xn--bod-2na":a,bod:a,bokn:a,bomlo:a,"xn--bmlo-gra":a,bmlo:a,bremanger:a,bronnoy:a,"xn--brnny-wuac":a,brnny:a,budejju:a,buskerud:es,bygland:a,bykle:a,cahcesuolo:a,"xn--hcesuolo-7ya35b":a,hcesuolo:a,davvenjarga:a,"xn--davvenjrga-y4a":a,davvenjrga:a,davvesiida:a,deatnu:a,dielddanuorri:a,divtasvuodna:a,divttasvuotna:a,donna:a,"xn--dnna-gra":a,dnna:a,dovre:a,drammen:a,drangedal:a,dyroy:a,"xn--dyry-ira":a,dyry:a,eid:a,eidfjord:a,eidsberg:a,eidskog:a,eidsvoll:a,eigersund:a,elverum:a,enebakk:a,engerdal:a,etne:a,etnedal:a,evenassi:a,"xn--eveni-0qa01ga":a,eveni:a,evenes:a,"evje-og-hornnes":a,farsund:a,fauske:a,fedje:a,fet:a,finnoy:a,"xn--finny-yua":a,finny:a,fitjar:a,fjaler:a,fjell:a,fla:a,"xn--fl-zia":a,fl:a,flakstad:a,flatanger:a,flekkefjord:a,flesberg:a,flora:a,folldal:a,forde:a,"xn--frde-gra":a,frde:a,forsand:a,fosnes:a,"xn--frna-woa":a,frna:a,frana:a,frei:a,frogn:a,froland:a,frosta:a,froya:a,"xn--frya-hra":a,frya:a,fuoisku:a,fuossko:a,fusa:a,fyresdal:a,gaivuotna:a,"xn--givuotna-8ya":a,givuotna:a,galsa:a,"xn--gls-elac":a,gls:a,gamvik:a,gangaviika:a,"xn--ggaviika-8ya47h":a,ggaviika:a,gaular:a,gausdal:a,giehtavuoatna:a,gildeskal:a,"xn--gildeskl-g0a":a,gildeskl:a,giske:a,gjemnes:a,gjerdrum:a,gjerstad:a,gjesdal:a,gjovik:a,"xn--gjvik-wua":a,gjvik:a,gloppen:a,gol:a,gran:a,grane:a,granvin:a,gratangen:a,grimstad:a,grong:a,grue:a,gulen:a,guovdageaidnu:a,ha:a,"xn--h-2fa":a,h:a,habmer:a,"xn--hbmer-xqa":a,hbmer:a,hadsel:a,"xn--hgebostad-g3a":a,hgebostad:a,hagebostad:a,halden:a,halsa:a,hamar:a,hamaroy:a,hammarfeasta:a,"xn--hmmrfeasta-s4ac":a,hmmrfeasta:a,hammerfest:a,hapmir:a,"xn--hpmir-xqa":a,hpmir:a,haram:a,hareid:a,harstad:a,hasvik:a,hattfjelldal:a,haugesund:a,hedmark:[0,{os:a,valer:a,"xn--vler-qoa":a,vler:a}],hemne:a,hemnes:a,hemsedal:a,hitra:a,hjartdal:a,hjelmeland:a,hobol:a,"xn--hobl-ira":a,hobl:a,hof:a,hol:a,hole:a,holmestrand:a,holtalen:a,"xn--holtlen-hxa":a,holtlen:a,hordaland:[0,{os:a}],hornindal:a,horten:a,hoyanger:a,"xn--hyanger-q1a":a,hyanger:a,hoylandet:a,"xn--hylandet-54a":a,hylandet:a,hurdal:a,hurum:a,hvaler:a,hyllestad:a,ibestad:a,inderoy:a,"xn--indery-fya":a,indery:a,iveland:a,ivgu:a,jevnaker:a,jolster:a,"xn--jlster-bya":a,jlster:a,jondal:a,kafjord:a,"xn--kfjord-iua":a,kfjord:a,karasjohka:a,"xn--krjohka-hwab49j":a,krjohka:a,karasjok:a,karlsoy:a,karmoy:a,"xn--karmy-yua":a,karmy:a,kautokeino:a,klabu:a,"xn--klbu-woa":a,klbu:a,klepp:a,kongsberg:a,kongsvinger:a,kraanghke:a,"xn--kranghke-b0a":a,kranghke:a,kragero:a,"xn--krager-gya":a,krager:a,kristiansand:a,kristiansund:a,krodsherad:a,"xn--krdsherad-m8a":a,krdsherad:a,"xn--kvfjord-nxa":a,kvfjord:a,"xn--kvnangen-k0a":a,kvnangen:a,kvafjord:a,kvalsund:a,kvam:a,kvanangen:a,kvinesdal:a,kvinnherad:a,kviteseid:a,kvitsoy:a,"xn--kvitsy-fya":a,kvitsy:a,laakesvuemie:a,"xn--lrdal-sra":a,lrdal:a,lahppi:a,"xn--lhppi-xqa":a,lhppi:a,lardal:a,larvik:a,lavagis:a,lavangen:a,leangaviika:a,"xn--leagaviika-52b":a,leagaviika:a,lebesby:a,leikanger:a,leirfjord:a,leka:a,leksvik:a,lenvik:a,lerdal:a,lesja:a,levanger:a,lier:a,lierne:a,lillehammer:a,lillesand:a,lindas:a,"xn--linds-pra":a,linds:a,lindesnes:a,loabat:a,"xn--loabt-0qa":a,loabt:a,lodingen:a,"xn--ldingen-q1a":a,ldingen:a,lom:a,loppa:a,lorenskog:a,"xn--lrenskog-54a":a,lrenskog:a,loten:a,"xn--lten-gra":a,lten:a,lund:a,lunner:a,luroy:a,"xn--lury-ira":a,lury:a,luster:a,lyngdal:a,lyngen:a,malatvuopmi:a,"xn--mlatvuopmi-s4a":a,mlatvuopmi:a,malselv:a,"xn--mlselv-iua":a,mlselv:a,malvik:a,mandal:a,marker:a,marnardal:a,masfjorden:a,masoy:a,"xn--msy-ula0h":a,msy:a,"matta-varjjat":a,"xn--mtta-vrjjat-k7af":a,"mtta-vrjjat":a,meland:a,meldal:a,melhus:a,meloy:a,"xn--mely-ira":a,mely:a,meraker:a,"xn--merker-kua":a,merker:a,midsund:a,"midtre-gauldal":a,moareke:a,"xn--moreke-jua":a,moreke:a,modalen:a,modum:a,molde:a,"more-og-romsdal":[0,{heroy:a,sande:a}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":a,sande:a}],"mre-og-romsdal":[0,{hery:a,sande:a}],moskenes:a,moss:a,mosvik:a,muosat:a,"xn--muost-0qa":a,muost:a,naamesjevuemie:a,"xn--nmesjevuemie-tcba":a,nmesjevuemie:a,"xn--nry-yla5g":a,nry:a,namdalseid:a,namsos:a,namsskogan:a,nannestad:a,naroy:a,narviika:a,narvik:a,naustdal:a,navuotna:a,"xn--nvuotna-hwa":a,nvuotna:a,"nedre-eiker":a,nesna:a,nesodden:a,nesseby:a,nesset:a,nissedal:a,nittedal:a,"nord-aurdal":a,"nord-fron":a,"nord-odal":a,norddal:a,nordkapp:a,nordland:[0,{bo:a,"xn--b-5ga":a,b:a,heroy:a,"xn--hery-ira":a,hery:a}],"nordre-land":a,nordreisa:a,"nore-og-uvdal":a,notodden:a,notteroy:a,"xn--nttery-byae":a,nttery:a,odda:a,oksnes:a,"xn--ksnes-uua":a,ksnes:a,omasvuotna:a,oppdal:a,oppegard:a,"xn--oppegrd-ixa":a,oppegrd:a,orkdal:a,orland:a,"xn--rland-uua":a,rland:a,orskog:a,"xn--rskog-uua":a,rskog:a,orsta:a,"xn--rsta-fra":a,rsta:a,osen:a,osteroy:a,"xn--ostery-fya":a,ostery:a,ostfold:[0,{valer:a}],"xn--stfold-9xa":[0,{"xn--vler-qoa":a}],stfold:[0,{vler:a}],"ostre-toten":a,"xn--stre-toten-zcb":a,"stre-toten":a,overhalla:a,"ovre-eiker":a,"xn--vre-eiker-k8a":a,"vre-eiker":a,oyer:a,"xn--yer-zna":a,yer:a,oygarden:a,"xn--ygarden-p1a":a,ygarden:a,"oystre-slidre":a,"xn--ystre-slidre-ujb":a,"ystre-slidre":a,porsanger:a,porsangu:a,"xn--porsgu-sta26f":a,porsgu:a,porsgrunn:a,rade:a,"xn--rde-ula":a,rde:a,radoy:a,"xn--rady-ira":a,rady:a,"xn--rlingen-mxa":a,rlingen:a,rahkkeravju:a,"xn--rhkkervju-01af":a,rhkkervju:a,raisa:a,"xn--risa-5na":a,risa:a,rakkestad:a,ralingen:a,rana:a,randaberg:a,rauma:a,rendalen:a,rennebu:a,rennesoy:a,"xn--rennesy-v1a":a,rennesy:a,rindal:a,ringebu:a,ringerike:a,ringsaker:a,risor:a,"xn--risr-ira":a,risr:a,rissa:a,roan:a,rodoy:a,"xn--rdy-0nab":a,rdy:a,rollag:a,romsa:a,romskog:a,"xn--rmskog-bya":a,rmskog:a,roros:a,"xn--rros-gra":a,rros:a,rost:a,"xn--rst-0na":a,rst:a,royken:a,"xn--ryken-vua":a,ryken:a,royrvik:a,"xn--ryrvik-bya":a,ryrvik:a,ruovat:a,rygge:a,salangen:a,salat:a,"xn--slat-5na":a,slat:a,"xn--slt-elab":a,slt:a,saltdal:a,samnanger:a,sandefjord:a,sandnes:a,sandoy:a,"xn--sandy-yua":a,sandy:a,sarpsborg:a,sauda:a,sauherad:a,sel:a,selbu:a,selje:a,seljord:a,siellak:a,sigdal:a,siljan:a,sirdal:a,skanit:a,"xn--sknit-yqa":a,sknit:a,skanland:a,"xn--sknland-fxa":a,sknland:a,skaun:a,skedsmo:a,ski:a,skien:a,skierva:a,"xn--skierv-uta":a,skierv:a,skiptvet:a,skjak:a,"xn--skjk-soa":a,skjk:a,skjervoy:a,"xn--skjervy-v1a":a,skjervy:a,skodje:a,smola:a,"xn--smla-hra":a,smla:a,snaase:a,"xn--snase-nra":a,snase:a,snasa:a,"xn--snsa-roa":a,snsa:a,snillfjord:a,snoasa:a,sogndal:a,sogne:a,"xn--sgne-gra":a,sgne:a,sokndal:a,sola:a,solund:a,somna:a,"xn--smna-gra":a,smna:a,"sondre-land":a,"xn--sndre-land-0cb":a,"sndre-land":a,songdalen:a,"sor-aurdal":a,"xn--sr-aurdal-l8a":a,"sr-aurdal":a,"sor-fron":a,"xn--sr-fron-q1a":a,"sr-fron":a,"sor-odal":a,"xn--sr-odal-q1a":a,"sr-odal":a,"sor-varanger":a,"xn--sr-varanger-ggb":a,"sr-varanger":a,sorfold:a,"xn--srfold-bya":a,srfold:a,sorreisa:a,"xn--srreisa-q1a":a,srreisa:a,sortland:a,sorum:a,"xn--srum-gra":a,srum:a,spydeberg:a,stange:a,stavanger:a,steigen:a,steinkjer:a,stjordal:a,"xn--stjrdal-s1a":a,stjrdal:a,stokke:a,"stor-elvdal":a,stord:a,stordal:a,storfjord:a,strand:a,stranda:a,stryn:a,sula:a,suldal:a,sund:a,sunndal:a,surnadal:a,sveio:a,svelvik:a,sykkylven:a,tana:a,telemark:[0,{bo:a,"xn--b-5ga":a,b:a}],time:a,tingvoll:a,tinn:a,tjeldsund:a,tjome:a,"xn--tjme-hra":a,tjme:a,tokke:a,tolga:a,tonsberg:a,"xn--tnsberg-q1a":a,tnsberg:a,torsken:a,"xn--trna-woa":a,trna:a,trana:a,tranoy:a,"xn--trany-yua":a,trany:a,troandin:a,trogstad:a,"xn--trgstad-r1a":a,trgstad:a,tromsa:a,tromso:a,"xn--troms-zua":a,troms:a,trondheim:a,trysil:a,tvedestrand:a,tydal:a,tynset:a,tysfjord:a,tysnes:a,"xn--tysvr-vra":a,tysvr:a,tysvar:a,ullensaker:a,ullensvang:a,ulvik:a,unjarga:a,"xn--unjrga-rta":a,unjrga:a,utsira:a,vaapste:a,vadso:a,"xn--vads-jra":a,vads:a,"xn--vry-yla5g":a,vry:a,vaga:a,"xn--vg-yiab":a,vg:a,vagan:a,"xn--vgan-qoa":a,vgan:a,vagsoy:a,"xn--vgsy-qoa0j":a,vgsy:a,vaksdal:a,valle:a,vang:a,vanylven:a,vardo:a,"xn--vard-jra":a,vard:a,varggat:a,"xn--vrggt-xqad":a,vrggt:a,varoy:a,vefsn:a,vega:a,vegarshei:a,"xn--vegrshei-c0a":a,vegrshei:a,vennesla:a,verdal:a,verran:a,vestby:a,vestfold:[0,{sande:a}],vestnes:a,"vestre-slidre":a,"vestre-toten":a,vestvagoy:a,"xn--vestvgy-ixa6o":a,vestvgy:a,vevelstad:a,vik:a,vikna:a,vindafjord:a,voagat:a,volda:a,voss:a,co:i,"123hjemmeside":i,myspreadshop:i}],np:b,nr:er,nu:[1,{merseine:i,mine:i,shacknet:i,enterprisecloud:i}],nz:[1,{ac:a,co:a,cri:a,geek:a,gen:a,govt:a,health:a,iwi:a,kiwi:a,maori:a,"xn--mori-qsa":a,mori:a,mil:a,net:a,org:a,parliament:a,school:a,cloudns:i}],om:[1,{co:a,com:a,edu:a,gov:a,med:a,museum:a,net:a,org:a,pro:a}],onion:a,org:[1,{altervista:i,pimienta:i,poivron:i,potager:i,sweetpepper:i,cdn77:[0,{c:i,rsc:i}],"cdn77-secure":[0,{origin:[0,{ssl:i}]}],ae:i,cloudns:i,"ip-dynamic":i,ddnss:i,dpdns:i,duckdns:i,tunk:i,blogdns:i,blogsite:i,boldlygoingnowhere:i,dnsalias:i,dnsdojo:i,doesntexist:i,dontexist:i,doomdns:i,dvrdns:i,dynalias:i,dyndns:[2,{go:i,home:i}],endofinternet:i,endoftheinternet:i,"from-me":i,"game-host":i,gotdns:i,"hobby-site":i,homedns:i,homeftp:i,homelinux:i,homeunix:i,"is-a-bruinsfan":i,"is-a-candidate":i,"is-a-celticsfan":i,"is-a-chef":i,"is-a-geek":i,"is-a-knight":i,"is-a-linux-user":i,"is-a-patsfan":i,"is-a-soxfan":i,"is-found":i,"is-lost":i,"is-saved":i,"is-very-bad":i,"is-very-evil":i,"is-very-good":i,"is-very-nice":i,"is-very-sweet":i,"isa-geek":i,"kicks-ass":i,misconfused:i,podzone:i,readmyblog:i,selfip:i,sellsyourhome:i,servebbs:i,serveftp:i,servegame:i,"stuff-4-sale":i,webhop:i,accesscam:i,camdvr:i,freeddns:i,mywire:i,webredirect:i,twmail:i,eu:[2,{al:i,asso:i,at:i,au:i,be:i,bg:i,ca:i,cd:i,ch:i,cn:i,cy:i,cz:i,de:i,dk:i,edu:i,ee:i,es:i,fi:i,fr:i,gr:i,hr:i,hu:i,ie:i,il:i,in:i,int:i,is:i,it:i,jp:i,kr:i,lt:i,lu:i,lv:i,me:i,mk:i,mt:i,my:i,net:i,ng:i,nl:i,no:i,nz:i,pl:i,pt:i,ro:i,ru:i,se:i,si:i,sk:i,tr:i,uk:i,us:i}],fedorainfracloud:i,fedorapeople:i,fedoraproject:[0,{cloud:i,os:V,stg:[0,{os:V}]}],freedesktop:i,hatenadiary:i,hepforge:i,"in-dsl":i,"in-vpn":i,js:i,barsy:i,mayfirst:i,routingthecloud:i,bmoattachments:i,"cable-modem":i,collegefan:i,couchpotatofries:i,hopto:i,mlbfan:i,myftp:i,mysecuritycamera:i,nflfan:i,"no-ip":i,"read-books":i,ufcfan:i,zapto:i,dynserv:i,"now-dns":i,"is-local":i,httpbin:i,pubtls:i,jpn:i,"my-firewall":i,myfirewall:i,spdns:i,"small-web":i,dsmynas:i,familyds:i,teckids:et,tuxfamily:i,diskstation:i,hk:i,us:i,toolforge:i,wmcloud:i,wmflabs:i,za:i}],pa:[1,{abo:a,ac:a,com:a,edu:a,gob:a,ing:a,med:a,net:a,nom:a,org:a,sld:a}],pe:[1,{com:a,edu:a,gob:a,mil:a,net:a,nom:a,org:a}],pf:[1,{com:a,edu:a,org:a}],pg:b,ph:[1,{com:a,edu:a,gov:a,i:a,mil:a,net:a,ngo:a,org:a,cloudns:i}],pk:[1,{ac:a,biz:a,com:a,edu:a,fam:a,gkp:a,gob:a,gog:a,gok:a,gop:a,gos:a,gov:a,net:a,org:a,web:a}],pl:[1,{com:a,net:a,org:a,agro:a,aid:a,atm:a,auto:a,biz:a,edu:a,gmina:a,gsm:a,info:a,mail:a,media:a,miasta:a,mil:a,nieruchomosci:a,nom:a,pc:a,powiat:a,priv:a,realestate:a,rel:a,sex:a,shop:a,sklep:a,sos:a,szkola:a,targi:a,tm:a,tourism:a,travel:a,turystyka:a,gov:[1,{ap:a,griw:a,ic:a,is:a,kmpsp:a,konsulat:a,kppsp:a,kwp:a,kwpsp:a,mup:a,mw:a,oia:a,oirm:a,oke:a,oow:a,oschr:a,oum:a,pa:a,pinb:a,piw:a,po:a,pr:a,psp:a,psse:a,pup:a,rzgw:a,sa:a,sdn:a,sko:a,so:a,sr:a,starostwo:a,ug:a,ugim:a,um:a,umig:a,upow:a,uppo:a,us:a,uw:a,uzs:a,wif:a,wiih:a,winb:a,wios:a,witd:a,wiw:a,wkz:a,wsa:a,wskr:a,wsse:a,wuoz:a,wzmiuw:a,zp:a,zpisdn:a}],augustow:a,"babia-gora":a,bedzin:a,beskidy:a,bialowieza:a,bialystok:a,bielawa:a,bieszczady:a,boleslawiec:a,bydgoszcz:a,bytom:a,cieszyn:a,czeladz:a,czest:a,dlugoleka:a,elblag:a,elk:a,glogow:a,gniezno:a,gorlice:a,grajewo:a,ilawa:a,jaworzno:a,"jelenia-gora":a,jgora:a,kalisz:a,karpacz:a,kartuzy:a,kaszuby:a,katowice:a,"kazimierz-dolny":a,kepno:a,ketrzyn:a,klodzko:a,kobierzyce:a,kolobrzeg:a,konin:a,konskowola:a,kutno:a,lapy:a,lebork:a,legnica:a,lezajsk:a,limanowa:a,lomza:a,lowicz:a,lubin:a,lukow:a,malbork:a,malopolska:a,mazowsze:a,mazury:a,mielec:a,mielno:a,mragowo:a,naklo:a,nowaruda:a,nysa:a,olawa:a,olecko:a,olkusz:a,olsztyn:a,opoczno:a,opole:a,ostroda:a,ostroleka:a,ostrowiec:a,ostrowwlkp:a,pila:a,pisz:a,podhale:a,podlasie:a,polkowice:a,pomorskie:a,pomorze:a,prochowice:a,pruszkow:a,przeworsk:a,pulawy:a,radom:a,"rawa-maz":a,rybnik:a,rzeszow:a,sanok:a,sejny:a,skoczow:a,slask:a,slupsk:a,sosnowiec:a,"stalowa-wola":a,starachowice:a,stargard:a,suwalki:a,swidnica:a,swiebodzin:a,swinoujscie:a,szczecin:a,szczytno:a,tarnobrzeg:a,tgory:a,turek:a,tychy:a,ustka:a,walbrzych:a,warmia:a,warszawa:a,waw:a,wegrow:a,wielun:a,wlocl:a,wloclawek:a,wodzislaw:a,wolomin:a,wroclaw:a,zachpomor:a,zagan:a,zarow:a,zgora:a,zgorzelec:a,art:i,gliwice:i,krakow:i,poznan:i,wroc:i,zakopane:i,beep:i,"ecommerce-shop":i,cfolks:i,dfirma:i,dkonto:i,you2:i,shoparena:i,homesklep:i,sdscloud:i,unicloud:i,lodz:i,pabianice:i,plock:i,sieradz:i,skierniewice:i,zgierz:i,krasnik:i,leczna:i,lubartow:i,lublin:i,poniatowa:i,swidnik:i,co:i,torun:i,simplesite:i,myspreadshop:i,gda:i,gdansk:i,gdynia:i,med:i,sopot:i,bielsko:i}],pm:[1,{own:i,name:i}],pn:[1,{co:a,edu:a,gov:a,net:a,org:a}],post:a,pr:[1,{biz:a,com:a,edu:a,gov:a,info:a,isla:a,name:a,net:a,org:a,pro:a,ac:a,est:a,prof:a}],pro:[1,{aaa:a,aca:a,acct:a,avocat:a,bar:a,cpa:a,eng:a,jur:a,law:a,med:a,recht:a,"12chars":i,cloudns:i,barsy:i,ngrok:i}],ps:[1,{com:a,edu:a,gov:a,net:a,org:a,plo:a,sec:a}],pt:[1,{com:a,edu:a,gov:a,int:a,net:a,nome:a,org:a,publ:a,"123paginaweb":i}],pw:[1,{gov:a,cloudns:i,x443:i}],py:[1,{com:a,coop:a,edu:a,gov:a,mil:a,net:a,org:a}],qa:[1,{com:a,edu:a,gov:a,mil:a,name:a,net:a,org:a,sch:a}],re:[1,{asso:a,com:a,netlib:i,can:i}],ro:[1,{arts:a,com:a,firm:a,info:a,nom:a,nt:a,org:a,rec:a,store:a,tm:a,www:a,co:i,shop:i,barsy:i}],rs:[1,{ac:a,co:a,edu:a,gov:a,in:a,org:a,brendly:Y,barsy:i,ox:i}],ru:[1,{ac:i,edu:i,gov:i,int:i,mil:i,eurodir:i,adygeya:i,bashkiria:i,bir:i,cbg:i,com:i,dagestan:i,grozny:i,kalmykia:i,kustanai:i,marine:i,mordovia:i,msk:i,mytis:i,nalchik:i,nov:i,pyatigorsk:i,spb:i,vladikavkaz:i,vladimir:i,na4u:i,mircloud:i,myjino:[2,{hosting:l,landing:l,spectrum:l,vps:l}],cldmail:[0,{hb:i}],mcdir:[2,{vps:i}],mcpre:i,net:i,org:i,pp:i,lk3:i,ras:i}],rw:[1,{ac:a,co:a,coop:a,gov:a,mil:a,net:a,org:a}],sa:[1,{com:a,edu:a,gov:a,med:a,net:a,org:a,pub:a,sch:a}],sb:o,sc:o,sd:[1,{com:a,edu:a,gov:a,info:a,med:a,net:a,org:a,tv:a}],se:[1,{a:a,ac:a,b:a,bd:a,brand:a,c:a,d:a,e:a,f:a,fh:a,fhsk:a,fhv:a,g:a,h:a,i:a,k:a,komforb:a,kommunalforbund:a,komvux:a,l:a,lanbib:a,m:a,n:a,naturbruksgymn:a,o:a,org:a,p:a,parti:a,pp:a,press:a,r:a,s:a,t:a,tm:a,u:a,w:a,x:a,y:a,z:a,com:i,iopsys:i,"123minsida":i,itcouldbewor:i,myspreadshop:i}],sg:[1,{com:a,edu:a,gov:a,net:a,org:a,enscaled:i}],sh:[1,{com:a,gov:a,mil:a,net:a,org:a,hashbang:i,botda:i,platform:[0,{ent:i,eu:i,us:i}],now:i}],si:[1,{f5:i,gitapp:i,gitpage:i}],sj:a,sk:a,sl:o,sm:a,sn:[1,{art:a,com:a,edu:a,gouv:a,org:a,perso:a,univ:a}],so:[1,{com:a,edu:a,gov:a,me:a,net:a,org:a,surveys:i}],sr:a,ss:[1,{biz:a,co:a,com:a,edu:a,gov:a,me:a,net:a,org:a,sch:a}],st:[1,{co:a,com:a,consulado:a,edu:a,embaixada:a,mil:a,net:a,org:a,principe:a,saotome:a,store:a,helioho:i,kirara:i,noho:i}],su:[1,{abkhazia:i,adygeya:i,aktyubinsk:i,arkhangelsk:i,armenia:i,ashgabad:i,azerbaijan:i,balashov:i,bashkiria:i,bryansk:i,bukhara:i,chimkent:i,dagestan:i,"east-kazakhstan":i,exnet:i,georgia:i,grozny:i,ivanovo:i,jambyl:i,kalmykia:i,kaluga:i,karacol:i,karaganda:i,karelia:i,khakassia:i,krasnodar:i,kurgan:i,kustanai:i,lenug:i,mangyshlak:i,mordovia:i,msk:i,murmansk:i,nalchik:i,navoi:i,"north-kazakhstan":i,nov:i,obninsk:i,penza:i,pokrovsk:i,sochi:i,spb:i,tashkent:i,termez:i,togliatti:i,troitsk:i,tselinograd:i,tula:i,tuva:i,vladikavkaz:i,vladimir:i,vologda:i}],sv:[1,{com:a,edu:a,gob:a,org:a,red:a}],sx:p,sy:s,sz:[1,{ac:a,co:a,org:a}],tc:a,td:a,tel:a,tf:[1,{sch:i}],tg:a,th:[1,{ac:a,co:a,go:a,in:a,mi:a,net:a,or:a,online:i,shop:i}],tj:[1,{ac:a,biz:a,co:a,com:a,edu:a,go:a,gov:a,int:a,mil:a,name:a,net:a,nic:a,org:a,test:a,web:a}],tk:a,tl:p,tm:[1,{co:a,com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a}],tn:[1,{com:a,ens:a,fin:a,gov:a,ind:a,info:a,intl:a,mincom:a,nat:a,net:a,org:a,perso:a,tourism:a,orangecloud:i}],to:[1,{611:i,com:a,edu:a,gov:a,mil:a,net:a,org:a,oya:i,x0:i,quickconnect:T,vpnplus:i}],tr:[1,{av:a,bbs:a,bel:a,biz:a,com:a,dr:a,edu:a,gen:a,gov:a,info:a,k12:a,kep:a,mil:a,name:a,net:a,org:a,pol:a,tel:a,tsk:a,tv:a,web:a,nc:p}],tt:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,mil:a,name:a,net:a,org:a,pro:a}],tv:[1,{"better-than":i,dyndns:i,"on-the-web":i,"worse-than":i,from:i,sakura:i}],tw:[1,{club:a,com:[1,{mymailer:i}],ebiz:a,edu:a,game:a,gov:a,idv:a,mil:a,net:a,org:a,url:i,mydns:i}],tz:[1,{ac:a,co:a,go:a,hotel:a,info:a,me:a,mil:a,mobi:a,ne:a,or:a,sc:a,tv:a}],ua:[1,{com:a,edu:a,gov:a,in:a,net:a,org:a,cherkassy:a,cherkasy:a,chernigov:a,chernihiv:a,chernivtsi:a,chernovtsy:a,ck:a,cn:a,cr:a,crimea:a,cv:a,dn:a,dnepropetrovsk:a,dnipropetrovsk:a,donetsk:a,dp:a,if:a,"ivano-frankivsk":a,kh:a,kharkiv:a,kharkov:a,kherson:a,khmelnitskiy:a,khmelnytskyi:a,kiev:a,kirovograd:a,km:a,kr:a,kropyvnytskyi:a,krym:a,ks:a,kv:a,kyiv:a,lg:a,lt:a,lugansk:a,luhansk:a,lutsk:a,lv:a,lviv:a,mk:a,mykolaiv:a,nikolaev:a,od:a,odesa:a,odessa:a,pl:a,poltava:a,rivne:a,rovno:a,rv:a,sb:a,sebastopol:a,sevastopol:a,sm:a,sumy:a,te:a,ternopil:a,uz:a,uzhgorod:a,uzhhorod:a,vinnica:a,vinnytsia:a,vn:a,volyn:a,yalta:a,zakarpattia:a,zaporizhzhe:a,zaporizhzhia:a,zhitomir:a,zhytomyr:a,zp:a,zt:a,cc:i,inf:i,ltd:i,cx:i,ie:i,biz:i,co:i,pp:i,v:i}],ug:[1,{ac:a,co:a,com:a,edu:a,go:a,gov:a,mil:a,ne:a,or:a,org:a,sc:a,us:a}],uk:[1,{ac:a,co:[1,{bytemark:[0,{dh:i,vm:i}],layershift:H,barsy:i,barsyonline:i,retrosnub:ee,"nh-serv":i,"no-ip":i,adimo:i,myspreadshop:i}],gov:[1,{api:i,campaign:i,service:i}],ltd:a,me:a,net:a,nhs:a,org:[1,{glug:i,lug:i,lugs:i,affinitylottery:i,raffleentry:i,weeklylottery:i}],plc:a,police:a,sch:b,conn:i,copro:i,hosp:i,"independent-commission":i,"independent-inquest":i,"independent-inquiry":i,"independent-panel":i,"independent-review":i,"public-inquiry":i,"royal-commission":i,pymnt:i,barsy:i,nimsite:i,oraclegovcloudapps:l}],us:[1,{dni:a,isa:a,nsn:a,ak:el,al:el,ar:el,as:el,az:el,ca:el,co:el,ct:el,dc:el,de:[1,{cc:a,lib:i}],fl:el,ga:el,gu:el,hi:eu,ia:el,id:el,il:el,in:el,ks:el,ky:el,la:el,ma:[1,{k12:[1,{chtr:a,paroch:a,pvt:a}],cc:a,lib:a}],md:el,me:el,mi:[1,{k12:a,cc:a,lib:a,"ann-arbor":a,cog:a,dst:a,eaton:a,gen:a,mus:a,tec:a,washtenaw:a}],mn:el,mo:el,ms:el,mt:el,nc:el,nd:eu,ne:el,nh:el,nj:el,nm:el,nv:el,ny:el,oh:el,ok:el,or:el,pa:el,pr:el,ri:eu,sc:el,sd:eu,tn:el,tx:el,ut:el,va:el,vi:el,vt:el,wa:el,wi:el,wv:[1,{cc:a}],wy:el,cloudns:i,"is-by":i,"land-4-sale":i,"stuff-4-sale":i,heliohost:i,enscaled:[0,{phx:i}],mircloud:i,ngo:i,golffan:i,noip:i,pointto:i,freeddns:i,srv:[2,{gh:i,gl:i}],platterp:i,servername:i}],uy:[1,{com:a,edu:a,gub:a,mil:a,net:a,org:a}],uz:[1,{co:a,com:a,net:a,org:a}],va:a,vc:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,gv:[2,{d:i}],"0e":l,mydns:i}],ve:[1,{arts:a,bib:a,co:a,com:a,e12:a,edu:a,emprende:a,firm:a,gob:a,gov:a,info:a,int:a,mil:a,net:a,nom:a,org:a,rar:a,rec:a,store:a,tec:a,web:a}],vg:[1,{edu:a}],vi:[1,{co:a,com:a,k12:a,net:a,org:a}],vn:[1,{ac:a,ai:a,biz:a,com:a,edu:a,gov:a,health:a,id:a,info:a,int:a,io:a,name:a,net:a,org:a,pro:a,angiang:a,bacgiang:a,backan:a,baclieu:a,bacninh:a,"baria-vungtau":a,bentre:a,binhdinh:a,binhduong:a,binhphuoc:a,binhthuan:a,camau:a,cantho:a,caobang:a,daklak:a,daknong:a,danang:a,dienbien:a,dongnai:a,dongthap:a,gialai:a,hagiang:a,haiduong:a,haiphong:a,hanam:a,hanoi:a,hatinh:a,haugiang:a,hoabinh:a,hungyen:a,khanhhoa:a,kiengiang:a,kontum:a,laichau:a,lamdong:a,langson:a,laocai:a,longan:a,namdinh:a,nghean:a,ninhbinh:a,ninhthuan:a,phutho:a,phuyen:a,quangbinh:a,quangnam:a,quangngai:a,quangninh:a,quangtri:a,soctrang:a,sonla:a,tayninh:a,thaibinh:a,thainguyen:a,thanhhoa:a,thanhphohochiminh:a,thuathienhue:a,tiengiang:a,travinh:a,tuyenquang:a,vinhlong:a,vinhphuc:a,yenbai:a}],vu:Z,wf:[1,{biz:i,sch:i}],ws:[1,{com:a,edu:a,gov:a,net:a,org:a,advisor:l,cloud66:i,dyndns:i,mypets:i}],yt:[1,{org:i}],"xn--mgbaam7a8h":a,:a,"xn--y9a3aq":a,:a,"xn--54b7fta0cc":a,:a,"xn--90ae":a,:a,"xn--mgbcpq6gpa1a":a,:a,"xn--90ais":a,:a,"xn--fiqs8s":a,:a,"xn--fiqz9s":a,:a,"xn--lgbbat1ad8j":a,:a,"xn--wgbh1c":a,:a,"xn--e1a4c":a,:a,"xn--qxa6a":a,:a,"xn--mgbah1a3hjkrd":a,:a,"xn--node":a,:a,"xn--qxam":a,:a,"xn--j6w193g":[1,{"xn--gmqw5a":a,"xn--55qx5d":a,"xn--mxtq1m":a,"xn--wcvs22d":a,"xn--uc0atv":a,"xn--od0alg":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--2scrj9c":a,:a,"xn--3hcrj9c":a,:a,"xn--45br5cyl":a,:a,"xn--h2breg3eve":a,:a,"xn--h2brj9c8c":a,:a,"xn--mgbgu82a":a,:a,"xn--rvc1e0am3e":a,:a,"xn--h2brj9c":a,:a,"xn--mgbbh1a":a,:a,"xn--mgbbh1a71e":a,:a,"xn--fpcrj9c3d":a,:a,"xn--gecrj9c":a,:a,"xn--s9brj9c":a,:a,"xn--45brj9c":a,:a,"xn--xkc2dl3a5ee0h":a,:a,"xn--mgba3a4f16a":a,:a,"xn--mgba3a4fra":a,:a,"xn--mgbtx2b":a,:a,"xn--mgbayh7gpa":a,:a,"xn--3e0b707e":a,:a,"xn--80ao21a":a,:a,"xn--q7ce6a":a,:a,"xn--fzc2c9e2c":a,:a,"xn--xkc2al3hye2a":a,:a,"xn--mgbc0a9azcg":a,:a,"xn--d1alf":a,:a,"xn--l1acc":a,:a,"xn--mix891f":a,:a,"xn--mix082f":a,:a,"xn--mgbx4cd0ab":a,:a,"xn--mgb9awbf":a,:a,"xn--mgbai9azgqp6j":a,:a,"xn--mgbai9a5eva00b":a,:a,"xn--ygbi2ammx":a,:a,"xn--90a3ac":[1,{"xn--80au":a,"xn--90azh":a,"xn--d1at":a,"xn--c1avg":a,"xn--o1ac":a,"xn--o1ach":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--p1ai":a,:a,"xn--wgbl6a":a,:a,"xn--mgberp4a5d4ar":a,:a,"xn--mgberp4a5d4a87g":a,:a,"xn--mgbqly7c0a67fbc":a,:a,"xn--mgbqly7cvafr":a,:a,"xn--mgbpl2fh":a,:a,"xn--yfro4i67o":a,:a,"xn--clchc0ea0b2g2a9gcd":a,:a,"xn--ogbpf8fl":a,:a,"xn--mgbtf8fl":a,:a,"xn--o3cw4h":[1,{"xn--o3cyx2a":a,"xn--12co0c3b4eva":a,"xn--m3ch0j3a":a,"xn--h3cuzk1di":a,"xn--12c1fe0br":a,"xn--12cfi8ixb8l":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--pgbs0dh":a,:a,"xn--kpry57d":a,:a,"xn--kprw13d":a,:a,"xn--nnx388a":a,:a,"xn--j1amh":a,:a,"xn--mgb2ddes":a,:a,xxx:a,ye:s,za:[0,{ac:a,agric:a,alt:a,co:a,edu:a,gov:a,grondar:a,law:a,mil:a,net:a,ngo:a,nic:a,nis:a,nom:a,org:a,school:a,tm:a,web:a}],zm:[1,{ac:a,biz:a,co:a,com:a,edu:a,gov:a,info:a,mil:a,net:a,org:a,sch:a}],zw:[1,{ac:a,co:a,gov:a,mil:a,org:a}],aaa:a,aarp:a,abb:a,abbott:a,abbvie:a,abc:a,able:a,abogado:a,abudhabi:a,academy:[1,{official:i}],accenture:a,accountant:a,accountants:a,aco:a,actor:a,ads:a,adult:a,aeg:a,aetna:a,afl:a,africa:a,agakhan:a,agency:a,aig:a,airbus:a,airforce:a,airtel:a,akdn:a,alibaba:a,alipay:a,allfinanz:a,allstate:a,ally:a,alsace:a,alstom:a,amazon:a,americanexpress:a,americanfamily:a,amex:a,amfam:a,amica:a,amsterdam:a,analytics:a,android:a,anquan:a,anz:a,aol:a,apartments:a,app:[1,{adaptable:i,aiven:i,beget:l,brave:u,clerk:i,clerkstage:i,wnext:i,csb:[2,{preview:i}],convex:i,deta:i,ondigitalocean:i,easypanel:i,encr:i,evervault:d,expo:[2,{staging:i}],edgecompute:i,"on-fleek":i,flutterflow:i,e2b:i,framer:i,hosted:l,run:l,web:i,hasura:i,botdash:i,loginline:i,lovable:i,medusajs:i,messerli:i,netfy:i,netlify:i,ngrok:i,"ngrok-free":i,developer:l,noop:i,northflank:l,upsun:l,replit:c,nyat:i,snowflake:[0,{"*":i,privatelink:l}],streamlit:i,storipress:i,telebit:i,typedream:i,vercel:i,bookonline:i,wdh:i,windsurf:i,zeabur:i,zerops:l}],apple:a,aquarelle:a,arab:a,aramco:a,archi:a,army:a,art:a,arte:a,asda:a,associates:a,athleta:a,attorney:a,auction:a,audi:a,audible:a,audio:a,auspost:a,author:a,auto:a,autos:a,aws:[1,{sagemaker:[0,{"ap-northeast-1":f,"ap-northeast-2":f,"ap-south-1":f,"ap-southeast-1":f,"ap-southeast-2":f,"ca-central-1":y,"eu-central-1":f,"eu-west-1":f,"eu-west-2":f,"us-east-1":y,"us-east-2":y,"us-west-2":y,"af-south-1":h,"ap-east-1":h,"ap-northeast-3":h,"ap-south-2":g,"ap-southeast-3":h,"ap-southeast-4":g,"ca-west-1":[0,{notebook:i,"notebook-fips":i}],"eu-central-2":h,"eu-north-1":h,"eu-south-1":h,"eu-south-2":h,"eu-west-3":h,"il-central-1":h,"me-central-1":h,"me-south-1":h,"sa-east-1":h,"us-gov-east-1":v,"us-gov-west-1":v,"us-west-1":[0,{notebook:i,"notebook-fips":i,studio:i}],experiments:l}],repost:[0,{private:l}],on:[0,{"ap-northeast-1":m,"ap-southeast-1":m,"ap-southeast-2":m,"eu-central-1":m,"eu-north-1":m,"eu-west-1":m,"us-east-1":m,"us-east-2":m,"us-west-2":m}]}],axa:a,azure:a,baby:a,baidu:a,banamex:a,band:a,bank:a,bar:a,barcelona:a,barclaycard:a,barclays:a,barefoot:a,bargains:a,baseball:a,basketball:[1,{aus:i,nz:i}],bauhaus:a,bayern:a,bbc:a,bbt:a,bbva:a,bcg:a,bcn:a,beats:a,beauty:a,beer:a,bentley:a,berlin:a,best:a,bestbuy:a,bet:a,bharti:a,bible:a,bid:a,bike:a,bing:a,bingo:a,bio:a,black:a,blackfriday:a,blockbuster:a,blog:a,bloomberg:a,blue:a,bms:a,bmw:a,bnpparibas:a,boats:a,boehringer:a,bofa:a,bom:a,bond:a,boo:a,book:a,booking:a,bosch:a,bostik:a,boston:a,bot:a,boutique:a,box:a,bradesco:a,bridgestone:a,broadway:a,broker:a,brother:a,brussels:a,build:[1,{v0:i,windsurf:i}],builders:[1,{cloudsite:i}],business:_,buy:a,buzz:a,bzh:a,cab:a,cafe:a,cal:a,call:a,calvinklein:a,cam:a,camera:a,camp:[1,{emf:[0,{at:i}]}],canon:a,capetown:a,capital:a,capitalone:a,car:a,caravan:a,cards:a,care:a,career:a,careers:a,cars:a,casa:[1,{nabu:[0,{ui:i}]}],case:a,cash:a,casino:a,catering:a,catholic:a,cba:a,cbn:a,cbre:a,center:a,ceo:a,cern:a,cfa:a,cfd:a,chanel:a,channel:a,charity:a,chase:a,chat:a,cheap:a,chintai:a,christmas:a,chrome:a,church:a,cipriani:a,circle:a,cisco:a,citadel:a,citi:a,citic:a,city:a,claims:a,cleaning:a,click:a,clinic:a,clinique:a,clothing:a,cloud:[1,{convex:i,elementor:i,encoway:[0,{eu:i}],statics:l,ravendb:i,axarnet:[0,{"es-1":i}],diadem:i,jelastic:[0,{vip:i}],jele:i,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:i}]}],it1:i}],keliweb:[2,{cs:i}],oxa:[2,{tn:i,uk:i}],primetel:[2,{uk:i}],reclaim:[0,{ca:i,uk:i,us:i}],trendhosting:[0,{ch:i,de:i}],jotelulu:i,kuleuven:i,laravel:i,linkyard:i,magentosite:l,matlab:i,observablehq:i,perspecta:i,vapor:i,"on-rancher":l,scw:[0,{baremetal:[0,{"fr-par-1":i,"fr-par-2":i,"nl-ams-1":i}],"fr-par":[0,{cockpit:i,fnc:[2,{functions:i}],k8s:S,s3:i,"s3-website":i,whm:i}],instances:[0,{priv:i,pub:i}],k8s:i,"nl-ams":[0,{cockpit:i,k8s:S,s3:i,"s3-website":i,whm:i}],"pl-waw":[0,{cockpit:i,k8s:S,s3:i,"s3-website":i}],scalebook:i,smartlabeling:i}],servebolt:i,onstackit:[0,{runs:i}],trafficplex:i,"unison-services":i,urown:i,voorloper:i,zap:i}],club:[1,{cloudns:i,jele:i,barsy:i}],clubmed:a,coach:a,codes:[1,{owo:l}],coffee:a,college:a,cologne:a,commbank:a,community:[1,{nog:i,ravendb:i,myforum:i}],company:a,compare:a,computer:a,comsec:a,condos:a,construction:a,consulting:a,contact:a,contractors:a,cooking:a,cool:[1,{elementor:i,de:i}],corsica:a,country:a,coupon:a,coupons:a,courses:a,cpa:a,credit:a,creditcard:a,creditunion:a,cricket:a,crown:a,crs:a,cruise:a,cruises:a,cuisinella:a,cymru:a,cyou:a,dad:a,dance:a,data:a,date:a,dating:a,datsun:a,day:a,dclk:a,dds:a,deal:a,dealer:a,deals:a,degree:a,delivery:a,dell:a,deloitte:a,delta:a,democrat:a,dental:a,dentist:a,desi:a,design:[1,{graphic:i,bss:i}],dev:[1,{"12chars":i,myaddr:i,panel:i,lcl:l,lclstage:l,stg:l,stgstage:l,pages:i,r2:i,workers:i,deno:i,"deno-staging":i,deta:i,evervault:d,fly:i,githubpreview:i,gateway:l,hrsn:[2,{psl:[0,{sub:i,wc:[0,{"*":i,sub:l}]}]}],botdash:i,inbrowser:l,"is-a-good":i,"is-a":i,iserv:i,runcontainers:i,localcert:[0,{user:l}],loginline:i,barsy:i,mediatech:i,modx:i,ngrok:i,"ngrok-free":i,"is-a-fullstack":i,"is-cool":i,"is-not-a":i,localplayer:i,xmit:i,"platter-app":i,replit:[2,{archer:i,bones:i,canary:i,global:i,hacker:i,id:i,janeway:i,kim:i,kira:i,kirk:i,odo:i,paris:i,picard:i,pike:i,prerelease:i,reed:i,riker:i,sisko:i,spock:i,staging:i,sulu:i,tarpit:i,teams:i,tucker:i,wesley:i,worf:i}],crm:[0,{d:l,w:l,wa:l,wb:l,wc:l,wd:l,we:l,wf:l}],vercel:i,webhare:l}],dhl:a,diamonds:a,diet:a,digital:[1,{cloudapps:[2,{london:i}]}],direct:[1,{libp2p:i}],directory:a,discount:a,discover:a,dish:a,diy:a,dnp:a,docs:a,doctor:a,dog:a,domains:a,dot:a,download:a,drive:a,dtv:a,dubai:a,dunlop:a,dupont:a,durban:a,dvag:a,dvr:a,earth:a,eat:a,eco:a,edeka:a,education:_,email:[1,{crisp:[0,{on:i}],tawk:J,tawkto:J}],emerck:a,energy:a,engineer:a,engineering:a,enterprises:a,epson:a,equipment:a,ericsson:a,erni:a,esq:a,estate:[1,{compute:l}],eurovision:a,eus:[1,{party:K}],events:[1,{koobin:i,co:i}],exchange:a,expert:a,exposed:a,express:a,extraspace:a,fage:a,fail:a,fairwinds:a,faith:a,family:a,fan:a,fans:a,farm:[1,{storj:i}],farmers:a,fashion:a,fast:a,fedex:a,feedback:a,ferrari:a,ferrero:a,fidelity:a,fido:a,film:a,final:a,finance:a,financial:_,fire:a,firestone:a,firmdale:a,fish:a,fishing:a,fit:a,fitness:a,flickr:a,flights:a,flir:a,florist:a,flowers:a,fly:a,foo:a,food:a,football:a,ford:a,forex:a,forsale:a,forum:a,foundation:a,fox:a,free:a,fresenius:a,frl:a,frogans:a,frontier:a,ftr:a,fujitsu:a,fun:a,fund:a,furniture:a,futbol:a,fyi:a,gal:a,gallery:a,gallo:a,gallup:a,game:a,games:[1,{pley:i,sheezy:i}],gap:a,garden:a,gay:[1,{pages:i}],gbiz:a,gdn:[1,{cnpy:i}],gea:a,gent:a,genting:a,george:a,ggee:a,gift:a,gifts:a,gives:a,giving:a,glass:a,gle:a,global:[1,{appwrite:i}],globo:a,gmail:a,gmbh:a,gmo:a,gmx:a,godaddy:a,gold:a,goldpoint:a,golf:a,goo:a,goodyear:a,goog:[1,{cloud:i,translate:i,usercontent:l}],google:a,gop:a,got:a,grainger:a,graphics:a,gratis:a,green:a,gripe:a,grocery:a,group:[1,{discourse:i}],gucci:a,guge:a,guide:a,guitars:a,guru:a,hair:a,hamburg:a,hangout:a,haus:a,hbo:a,hdfc:a,hdfcbank:a,health:[1,{hra:i}],healthcare:a,help:a,helsinki:a,here:a,hermes:a,hiphop:a,hisamitsu:a,hitachi:a,hiv:a,hkt:a,hockey:a,holdings:a,holiday:a,homedepot:a,homegoods:a,homes:a,homesense:a,honda:a,horse:a,hospital:a,host:[1,{cloudaccess:i,freesite:i,easypanel:i,fastvps:i,myfast:i,tempurl:i,wpmudev:i,jele:i,mircloud:i,wp2:i,half:i}],hosting:[1,{opencraft:i}],hot:a,hotels:a,hotmail:a,house:a,how:a,hsbc:a,hughes:a,hyatt:a,hyundai:a,ibm:a,icbc:a,ice:a,icu:a,ieee:a,ifm:a,ikano:a,imamat:a,imdb:a,immo:a,immobilien:a,inc:a,industries:a,infiniti:a,ing:a,ink:a,institute:a,insurance:a,insure:a,international:a,intuit:a,investments:a,ipiranga:a,irish:a,ismaili:a,ist:a,istanbul:a,itau:a,itv:a,jaguar:a,java:a,jcb:a,jeep:a,jetzt:a,jewelry:a,jio:a,jll:a,jmp:a,jnj:a,joburg:a,jot:a,joy:a,jpmorgan:a,jprs:a,juegos:a,juniper:a,kaufen:a,kddi:a,kerryhotels:a,kerryproperties:a,kfh:a,kia:a,kids:a,kim:a,kindle:a,kitchen:a,kiwi:a,koeln:a,komatsu:a,kosher:a,kpmg:a,kpn:a,krd:[1,{co:i,edu:i}],kred:a,kuokgroup:a,kyoto:a,lacaixa:a,lamborghini:a,lamer:a,lancaster:a,land:a,landrover:a,lanxess:a,lasalle:a,lat:a,latino:a,latrobe:a,law:a,lawyer:a,lds:a,lease:a,leclerc:a,lefrak:a,legal:a,lego:a,lexus:a,lgbt:a,lidl:a,life:a,lifeinsurance:a,lifestyle:a,lighting:a,like:a,lilly:a,limited:a,limo:a,lincoln:a,link:[1,{myfritz:i,cyon:i,dweb:l,inbrowser:l,nftstorage:en,mypep:i,storacha:en,w3s:en}],live:[1,{aem:i,hlx:i,ewp:l}],living:a,llc:a,llp:a,loan:a,loans:a,locker:a,locus:a,lol:[1,{omg:i}],london:a,lotte:a,lotto:a,love:a,lpl:a,lplfinancial:a,ltd:a,ltda:a,lundbeck:a,luxe:a,luxury:a,madrid:a,maif:a,maison:a,makeup:a,man:a,management:a,mango:a,map:a,market:a,marketing:a,markets:a,marriott:a,marshalls:a,mattel:a,mba:a,mckinsey:a,med:a,media:ea,meet:a,melbourne:a,meme:a,memorial:a,men:a,menu:[1,{barsy:i,barsyonline:i}],merck:a,merckmsd:a,miami:a,microsoft:a,mini:a,mint:a,mit:a,mitsubishi:a,mlb:a,mls:a,mma:a,mobile:a,moda:a,moe:a,moi:a,mom:[1,{ind:i}],monash:a,money:a,monster:a,mormon:a,mortgage:a,moscow:a,moto:a,motorcycles:a,mov:a,movie:a,msd:a,mtn:a,mtr:a,music:a,nab:a,nagoya:a,navy:a,nba:a,nec:a,netbank:a,netflix:a,network:[1,{alces:l,co:i,arvo:i,azimuth:i,tlon:i}],neustar:a,new:a,news:[1,{noticeable:i}],next:a,nextdirect:a,nexus:a,nfl:a,ngo:a,nhk:a,nico:a,nike:a,nikon:a,ninja:a,nissan:a,nissay:a,nokia:a,norton:a,now:a,nowruz:a,nowtv:a,nra:a,nrw:a,ntt:a,nyc:a,obi:a,observer:a,office:a,okinawa:a,olayan:a,olayangroup:a,ollo:a,omega:a,one:[1,{kin:l,service:i}],ong:[1,{obl:i}],onl:a,online:[1,{eero:i,"eero-stage":i,websitebuilder:i,barsy:i}],ooo:a,open:a,oracle:a,orange:[1,{tech:i}],organic:a,origins:a,osaka:a,otsuka:a,ott:a,ovh:[1,{nerdpol:i}],page:[1,{aem:i,hlx:i,hlx3:i,translated:i,codeberg:i,heyflow:i,prvcy:i,rocky:i,pdns:i,plesk:i}],panasonic:a,paris:a,pars:a,partners:a,parts:a,party:a,pay:a,pccw:a,pet:a,pfizer:a,pharmacy:a,phd:a,philips:a,phone:a,photo:a,photography:a,photos:ea,physio:a,pics:a,pictet:a,pictures:[1,{1337:i}],pid:a,pin:a,ping:a,pink:a,pioneer:a,pizza:[1,{ngrok:i}],place:_,play:a,playstation:a,plumbing:a,plus:a,pnc:a,pohl:a,poker:a,politie:a,porn:a,pramerica:a,praxi:a,press:a,prime:a,prod:a,productions:a,prof:a,progressive:a,promo:a,properties:a,property:a,protection:a,pru:a,prudential:a,pub:[1,{id:l,kin:l,barsy:i}],pwc:a,qpon:a,quebec:a,quest:a,racing:a,radio:a,read:a,realestate:a,realtor:a,realty:a,recipes:a,red:a,redstone:a,redumbrella:a,rehab:a,reise:a,reisen:a,reit:a,reliance:a,ren:a,rent:a,rentals:a,repair:a,report:a,republican:a,rest:a,restaurant:a,review:a,reviews:a,rexroth:a,rich:a,richardli:a,ricoh:a,ril:a,rio:a,rip:[1,{clan:i}],rocks:[1,{myddns:i,stackit:i,"lima-city":i,webspace:i}],rodeo:a,rogers:a,room:a,rsvp:a,rugby:a,ruhr:a,run:[1,{appwrite:l,development:i,ravendb:i,liara:[2,{iran:i}],servers:i,build:l,code:l,database:l,migration:l,onporter:i,repl:i,stackit:i,val:[0,{express:i,web:i}],wix:i}],rwe:a,ryukyu:a,saarland:a,safe:a,safety:a,sakura:a,sale:a,salon:a,samsclub:a,samsung:a,sandvik:a,sandvikcoromant:a,sanofi:a,sap:a,sarl:a,sas:a,save:a,saxo:a,sbi:a,sbs:a,scb:a,schaeffler:a,schmidt:a,scholarships:a,school:a,schule:a,schwarz:a,science:a,scot:[1,{gov:[2,{service:i}]}],search:a,seat:a,secure:a,security:a,seek:a,select:a,sener:a,services:[1,{loginline:i}],seven:a,sew:a,sex:a,sexy:a,sfr:a,shangrila:a,sharp:a,shell:a,shia:a,shiksha:a,shoes:a,shop:[1,{base:i,hoplix:i,barsy:i,barsyonline:i,shopware:i}],shopping:a,shouji:a,show:a,silk:a,sina:a,singles:a,site:[1,{square:i,canva:k,cloudera:l,convex:i,cyon:i,fastvps:i,figma:i,heyflow:i,jele:i,jouwweb:i,loginline:i,barsy:i,notion:i,omniwe:i,opensocial:i,madethis:i,platformsh:l,tst:l,byen:i,srht:i,novecore:i,cpanel:i,wpsquared:i}],ski:a,skin:a,sky:a,skype:a,sling:a,smart:a,smile:a,sncf:a,soccer:a,social:a,softbank:a,software:a,sohu:a,solar:a,solutions:a,song:a,sony:a,soy:a,spa:a,space:[1,{myfast:i,heiyu:i,hf:[2,{static:i}],"app-ionos":i,project:i,uber:i,xs4all:i}],sport:a,spot:a,srl:a,stada:a,staples:a,star:a,statebank:a,statefarm:a,stc:a,stcgroup:a,stockholm:a,storage:a,store:[1,{barsy:i,sellfy:i,shopware:i,storebase:i}],stream:a,studio:a,study:a,style:a,sucks:a,supplies:a,supply:a,support:[1,{barsy:i}],surf:a,surgery:a,suzuki:a,swatch:a,swiss:a,sydney:a,systems:[1,{knightpoint:i}],tab:a,taipei:a,talk:a,taobao:a,target:a,tatamotors:a,tatar:a,tattoo:a,tax:a,taxi:a,tci:a,tdk:a,team:[1,{discourse:i,jelastic:i}],tech:[1,{cleverapps:i}],technology:_,temasek:a,tennis:a,teva:a,thd:a,theater:a,theatre:a,tiaa:a,tickets:a,tienda:a,tips:a,tires:a,tirol:a,tjmaxx:a,tjx:a,tkmaxx:a,tmall:a,today:[1,{prequalifyme:i}],tokyo:a,tools:[1,{addr:G,myaddr:i}],top:[1,{ntdll:i,wadl:l}],toray:a,toshiba:a,total:a,tours:a,town:a,toyota:a,toys:a,trade:a,trading:a,training:a,travel:a,travelers:a,travelersinsurance:a,trust:a,trv:a,tube:a,tui:a,tunes:a,tushu:a,tvs:a,ubank:a,ubs:a,unicom:a,university:a,uno:a,uol:a,ups:a,vacations:a,vana:a,vanguard:a,vegas:a,ventures:a,verisign:a,versicherung:a,vet:a,viajes:a,video:a,vig:a,viking:a,villas:a,vin:a,vip:a,virgin:a,visa:a,vision:a,viva:a,vivo:a,vlaanderen:a,vodka:a,volvo:a,vote:a,voting:a,voto:a,voyage:a,wales:a,walmart:a,walter:a,wang:a,wanggou:a,watch:a,watches:a,weather:a,weatherchannel:a,webcam:a,weber:a,website:ea,wed:a,wedding:a,weibo:a,weir:a,whoswho:a,wien:a,wiki:ea,williamhill:a,win:a,windows:a,wine:a,winners:a,wme:a,wolterskluwer:a,woodside:a,work:a,works:a,world:a,wow:a,wtc:a,wtf:a,xbox:a,xerox:a,xihuan:a,xin:a,"xn--11b4c3d":a,:a,"xn--1ck2e1b":a,:a,"xn--1qqw23a":a,:a,"xn--30rr7y":a,:a,"xn--3bst00m":a,:a,"xn--3ds443g":a,:a,"xn--3pxu8k":a,:a,"xn--42c2d9a":a,:a,"xn--45q11c":a,:a,"xn--4gbrim":a,:a,"xn--55qw42g":a,:a,"xn--55qx5d":a,:a,"xn--5su34j936bgsg":a,:a,"xn--5tzm5g":a,:a,"xn--6frz82g":a,:a,"xn--6qq986b3xl":a,:a,"xn--80adxhks":a,:a,"xn--80aqecdr1a":a,:a,"xn--80asehdb":a,:a,"xn--80aswg":a,:a,"xn--8y0a063a":a,:a,"xn--9dbq2a":a,:a,"xn--9et52u":a,:a,"xn--9krt00a":a,:a,"xn--b4w605ferd":a,:a,"xn--bck1b9a5dre4c":a,:a,"xn--c1avg":a,:a,"xn--c2br7g":a,:a,"xn--cck2b3b":a,:a,"xn--cckwcxetd":a,:a,"xn--cg4bki":a,:a,"xn--czr694b":a,:a,"xn--czrs0t":a,:a,"xn--czru2d":a,:a,"xn--d1acj3b":a,:a,"xn--eckvdtc9d":a,:a,"xn--efvy88h":a,:a,"xn--fct429k":a,:a,"xn--fhbei":a,:a,"xn--fiq228c5hs":a,:a,"xn--fiq64b":a,:a,"xn--fjq720a":a,:a,"xn--flw351e":a,:a,"xn--fzys8d69uvgm":a,:a,"xn--g2xx48c":a,:a,"xn--gckr3f0f":a,:a,"xn--gk3at1e":a,:a,"xn--hxt814e":a,:a,"xn--i1b6b1a6a2e":a,:a,"xn--imr513n":a,:a,"xn--io0a7i":a,:a,"xn--j1aef":a,:a,"xn--jlq480n2rg":a,:a,"xn--jvr189m":a,:a,"xn--kcrx77d1x4a":a,:a,"xn--kput3i":a,:a,"xn--mgba3a3ejt":a,:a,"xn--mgba7c0bbn0a":a,:a,"xn--mgbab2bd":a,:a,"xn--mgbca7dzdo":a,:a,"xn--mgbi4ecexp":a,:a,"xn--mgbt3dhd":a,:a,"xn--mk1bu44c":a,:a,"xn--mxtq1m":a,:a,"xn--ngbc5azd":a,:a,"xn--ngbe9e0a":a,:a,"xn--ngbrx":a,:a,"xn--nqv7f":a,:a,"xn--nqv7fs00ema":a,:a,"xn--nyqy26a":a,:a,"xn--otu796d":a,:a,"xn--p1acf":[1,{"xn--90amc":i,"xn--j1aef":i,"xn--j1ael8b":i,"xn--h1ahn":i,"xn--j1adp":i,"xn--c1avg":i,"xn--80aaa0cvac":i,"xn--h1aliz":i,"xn--90a1af":i,"xn--41a":i}],:[1,{:i,:i,:i,:i,:i,:i,:i,:i,:i,:i}],"xn--pssy2u":a,:a,"xn--q9jyb4c":a,:a,"xn--qcka1pmc":a,:a,"xn--rhqv96g":a,:a,"xn--rovu88b":a,:a,"xn--ses554g":a,:a,"xn--t60b56a":a,:a,"xn--tckwe":a,:a,"xn--tiq49xqyj":a,:a,"xn--unup4y":a,:a,"xn--vermgensberater-ctb":a,vermgensberater:a,"xn--vermgensberatung-pwb":a,vermgensberatung:a,"xn--vhquv":a,:a,"xn--vuq861b":a,:a,"xn--w4r85el8fhu5dnra":a,:a,"xn--w4rs40l":a,:a,"xn--xhq521b":a,:a,"xn--zfr164b":a,:a,xyz:[1,{botdash:i,telebit:l}],yachts:a,yahoo:a,yamaxun:a,yandex:a,yodobashi:a,yoga:a,yokohama:a,you:a,youtube:a,yun:a,zappos:a,zara:a,zero:a,zip:a,zone:[1,{cloud66:i,triton:l,stackit:i,lima:i}],zuerich:a}]);function e_(e,t,r,n){let a=null,i=t;for(;void 0!==i&&((i[0]&n)!=0&&(a={index:r+1,isIcann:1===i[0],isPrivate:2===i[0]}),-1!==r);){let t=i[1];i=Object.prototype.hasOwnProperty.call(t,e[r])?t[e[r]]:t["*"],r-=1}return a}function ew(e,t,r){var n;if(function(e,t,r){if(!t.allowPrivateDomains&&e.length>3){let t=e.length-1,n=e.charCodeAt(t),a=e.charCodeAt(t-1),i=e.charCodeAt(t-2),o=e.charCodeAt(t-3);if(109===n&&111===a&&99===i&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="com",!0;if(103===n&&114===a&&111===i&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="org",!0;if(117===n&&100===a&&101===i&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="edu",!0;else if(118===n&&111===a&&103===i&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="gov",!0;else if(116===n&&101===a&&110===i&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="net",!0;else if(101===n&&100===a&&46===i)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="de",!0}return!1}(e,t,r))return;let a=e.split("."),i=2*!!t.allowPrivateDomains|!!t.allowIcannDomains,o=e_(a,ev,a.length-1,i);if(null!==o){r.isIcann=o.isIcann,r.isPrivate=o.isPrivate,r.publicSuffix=a.slice(o.index+1).join(".");return}let s=e_(a,eb,a.length-1,i);if(null!==s){r.isIcann=s.isIcann,r.isPrivate=s.isPrivate,r.publicSuffix=a.slice(s.index).join(".");return}r.isIcann=!1,r.isPrivate=!1,r.publicSuffix=null!=(n=a[a.length-1])?n:null}let eS=ef();function ek(e,t={}){return ey(e,5,ew,t,ef())}function ex(e,t={}){return eg(eS),ey(e,0,ew,t,eS).hostname}function eE(e,t={}){return eg(eS),ey(e,2,ew,t,eS).publicSuffix}function eT(e,t={}){return eg(eS),ey(e,3,ew,t,eS).domain}function eO(e,t={}){return eg(eS),ey(e,4,ew,t,eS).subdomain}function eI(e,t={}){return eg(eS),ey(e,5,ew,t,eS).domainWithoutSuffix}e.s(["getDomain",()=>eT,"getDomainWithoutSuffix",()=>eI,"getHostname",()=>ex,"getPublicSuffix",()=>eE,"getSubdomain",()=>eO,"parse",()=>ek],29825)},9443,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPublicSuffix=function(e,t={}){t={...o,...t};let r=e.split("."),s=r[r.length-1],l=!!t.allowSpecialUseDomain,u=!!t.ignoreError;if(l&&void 0!==s&&a.includes(s)){if(r.length>1){let e=r[r.length-2];return`${e}.${s}`}else if(i.includes(s))return s}if(!u&&void 0!==s&&a.includes(s))throw Error(`Cookie has domain set to the public suffix "${s}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain: true, rejectPublicSuffixes: false}.`);let d=(0,n.getDomain)(e,{allowIcannDomains:!0,allowPrivateDomains:!0});if(d)return d};let n=e.r(29825),a=["local","example","invalid","localhost","test"],i=["localhost","invalid"],o={allowSpecialUseDomain:!1,ignoreError:!1}},24432,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.permuteDomain=function(e,t){let r=(0,n.getPublicSuffix)(e,{allowSpecialUseDomain:t});if(!r)return;if(r==e)return[e];"."==e.slice(-1)&&(e=e.slice(0,-1));let a=e.slice(0,-(r.length+1)).split(".").reverse(),i=r,o=[i];for(;a.length;){let e=a.shift();i=`${e}.${i}`,o.push(i)}return o};let n=e.r(9443)},88613,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Store=void 0,r.Store=class{constructor(){this.synchronous=!1}findCookie(e,t,r,n){throw Error("findCookie is not implemented")}findCookies(e,t,r=!1,n){throw Error("findCookies is not implemented")}putCookie(e,t){throw Error("putCookie is not implemented")}updateCookie(e,t,r){throw Error("updateCookie is not implemented")}removeCookie(e,t,r,n){throw Error("removeCookie is not implemented")}removeCookies(e,t,r){throw Error("removeCookies is not implemented")}removeAllCookies(e){throw Error("removeAllCookies is not implemented")}getAllCookies(e){throw Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}},48459,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.safeToString=r.objectToString=void 0,r.createPromiseCallback=function(e){let t,r,n,a=new Promise((e,t)=>{r=e,n=t});return{promise:a,callback:t="function"==typeof e?(t,r)=>{try{t?e(t):e(null,r)}catch(e){n(e instanceof Error?e:Error())}}:(e,t)=>{try{e?n(e):r(t)}catch(e){n(e instanceof Error?e:Error())}},resolve:e=>(t(null,e),a),reject:e=>(t(e),a)}},r.inOperator=function(e,t){return e in t},r.objectToString=e=>Object.prototype.toString.call(e);let n=(e,t=new WeakSet)=>"object"!=typeof e||null===e?String(e):"function"!=typeof e.toString?(0,r.objectToString)(e):Array.isArray(e)?"function"!=typeof e.join?(0,r.objectToString)(e):(t.add(e),e.map(e=>null==e||t.has(e)?"":n(e,t)).join()):String(e);r.safeToString=e=>n(e)},11777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MemoryCookieStore=void 0;let n=e.r(90211),a=e.r(24432),i=e.r(88613),o=e.r(48459);class s extends i.Store{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null)}findCookie(e,t,r,n){let a=(0,o.createPromiseCallback)(n);if(null==e||null==t||null==r)return a.resolve(void 0);let i=this.idx[e]?.[t]?.[r];return a.resolve(i)}findCookies(e,t,r=!1,i){let s;"function"==typeof r&&(i=r,r=!0);let l=[],u=(0,o.createPromiseCallback)(i);if(!e)return u.resolve([]);s=t?function(e){for(let r in e)if((0,n.pathMatch)(t,r)){let t=e[r];for(let e in t){let r=t[e];r&&l.push(r)}}}:function(e){for(let t in e){let r=e[t];for(let e in r){let t=r[e];t&&l.push(t)}}};let d=(0,a.permuteDomain)(e,r)||[e],c=this.idx;return d.forEach(e=>{let t=c[e];t&&s(t)}),u.resolve(l)}putCookie(e,t){let r=(0,o.createPromiseCallback)(t),{domain:n,path:a,key:i}=e;if(null==n||null==a||null==i)return r.resolve(void 0);let s=this.idx[n]??Object.create(null);this.idx[n]=s;let l=s[a]??Object.create(null);return s[a]=l,l[i]=e,r.resolve(void 0)}updateCookie(e,t,r){if(!r)return this.putCookie(t);this.putCookie(t,r)}removeCookie(e,t,r,n){let a=(0,o.createPromiseCallback)(n);return delete this.idx[e]?.[t]?.[r],a.resolve(void 0)}removeCookies(e,t,r){let n=(0,o.createPromiseCallback)(r),a=this.idx[e];return a&&(t?delete a[t]:delete this.idx[e]),n.resolve(void 0)}removeAllCookies(e){let t=(0,o.createPromiseCallback)(e);return this.idx=Object.create(null),t.resolve(void 0)}getAllCookies(e){let t=(0,o.createPromiseCallback)(e),r=[],n=this.idx;return Object.keys(n).forEach(e=>{let t=n[e]??{};Object.keys(t).forEach(e=>{let n=t[e]??{};Object.keys(n).forEach(e=>{let t=n[e];null!=t&&r.push(t)})})}),r.sort((e,t)=>(e.creationIndex||0)-(t.creationIndex||0)),t.resolve(r)}}r.MemoryCookieStore=s},87270,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParameterError=void 0,r.isNonEmptyString=function(e){return a(e)&&""!==e},r.isDate=function(e){return e instanceof Date&&o(e.getTime())},r.isEmptyString=function(e){return""===e||e instanceof String&&""===e.toString()},r.isString=a,r.isObject=i,r.isInteger=o,r.validate=function(e,t,r){if(e)return;let a="function"==typeof t?t:void 0,o="function"==typeof t?r:t;i(o)||(o="[object Object]");let l=new s((0,n.safeToString)(o));if(a)a(l);else throw l};let n=e.r(48459);function a(e){return"string"==typeof e||e instanceof String}function i(e){return"[object Object]"===(0,n.objectToString)(e)}function o(e){return"number"==typeof e&&e%1==0}class s extends Error{}r.ParameterError=s},11123,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="5.1.2"},5398,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IP_V6_REGEX_OBJECT=r.PrefixSecurityEnum=void 0,r.PrefixSecurityEnum={SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"},Object.freeze(r.PrefixSecurityEnum);let n=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim();r.IP_V6_REGEX_OBJECT=RegExp(`^${n}$`)},79732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.canonicalDomain=function(e){if(null==e)return;let t=e.trim().replace(/^\./,"");return n.IP_V6_REGEX_OBJECT.test(t)?(t.startsWith("[")||(t="["+t),t.endsWith("]")||(t+="]"),a(t).slice(1,-1)):/[^\u0001-\u007f]/.test(t)?a(t):t.toLowerCase()};let n=e.r(5398);function a(e){return new URL(`http://${e}`).hostname}},2683,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatDate=function(e){return e.toUTCString()}},76354,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDate=function(e){let t,r,y,v,b,_;if(!e)return;let w=e.split(n);for(let e=0;e<w.length;e++){let n=(w[e]??"").trim();if(n.length){if(void 0===y){let e=function(e){let t=e.split(":"),r=[0,0,0];if(3===t.length){for(let e=0;e<3;e++){let n=2==e,a=t[e];if(void 0===a)return;let i=g(a,1,2,n);if(void 0===i)return;r[e]=i}return r}}(n);if(e){t=e[0],r=e[1],y=e[2];continue}}if(void 0===v){let e=g(n,1,2,!0);if(void 0!==e){v=e;continue}}if(void 0===b){let e=function(e){switch(e=String(e).slice(0,3).toLowerCase()){case"jan":return a;case"feb":return i;case"mar":return o;case"apr":return s;case"may":return l;case"jun":return u;case"jul":return d;case"aug":return c;case"sep":return p;case"oct":return m;case"nov":return h;case"dec":return f;default:return}}(n);if(void 0!==e){b=e;continue}}if(void 0===_){let e=g(n,2,4,!0);void 0!==e&&((_=e)>=70&&_<=99?_+=1900:_>=0&&_<=69&&(_+=2e3))}}}if(void 0!==v&&void 0!==b&&void 0!==_&&void 0!==t&&void 0!==r&&void 0!==y&&!(v<1)&&!(v>31)&&!(_<1601)&&!(t>23)&&!(r>59)&&!(y>59))return new Date(Date.UTC(_,b,v,t,r,y))};let n=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,a=0,i=1,o=2,s=3,l=4,u=5,d=6,c=7,p=8,m=9,h=10,f=11;function g(e,t,r,n){let a=0;for(;a<e.length;){let t=e.charCodeAt(a);if(t<=47||t>=58)break;a++}if(!(a<t)&&!(a>r)&&(n||a==e.length))return parseInt(e.slice(0,a),10)}},10609,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Cookie=void 0;let o=e.r(9443),s=i(e.r(87270)),l=e.r(48459),u=e.r(2683),d=e.r(76354),c=e.r(79732),p=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,m=/[\x20-\x3A\x3C-\x7E]+/,h=/[\x00-\x1F]/,f=["\n","\r","\0"];function g(e){let t;if(!e||s.isEmptyString(e))return;if("string"==typeof e)try{t=JSON.parse(e)}catch{return}else t=e;let r=new v;return v.serializableProperties.forEach(e=>{if(t&&"object"==typeof t&&(0,l.inOperator)(e,t)){let n=t[e];if(void 0!==n&&(!(0,l.inOperator)(e,y)||n!==y[e]))switch(e){case"key":case"value":case"sameSite":"string"==typeof n&&(r[e]=n);break;case"expires":case"creation":case"lastAccessed":"number"==typeof n||"string"==typeof n||n instanceof Date?r[e]="Infinity"==t[e]?"Infinity":new Date(n):null===n&&(r[e]=null);break;case"maxAge":("number"==typeof n||"Infinity"===n||"-Infinity"===n)&&(r[e]=n);break;case"domain":case"path":("string"==typeof n||null===n)&&(r[e]=n);break;case"secure":case"httpOnly":"boolean"==typeof n&&(r[e]=n);break;case"extensions":Array.isArray(n)&&n.every(e=>"string"==typeof e)&&(r[e]=n);break;case"hostOnly":case"pathIsDefault":("boolean"==typeof n||null===n)&&(r[e]=n)}}}),r}let y={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0};class v{constructor(e={}){this.key=e.key??y.key,this.value=e.value??y.value,this.expires=e.expires??y.expires,this.maxAge=e.maxAge??y.maxAge,this.domain=e.domain??y.domain,this.path=e.path??y.path,this.secure=e.secure??y.secure,this.httpOnly=e.httpOnly??y.httpOnly,this.extensions=e.extensions??y.extensions,this.creation=e.creation??y.creation,this.hostOnly=e.hostOnly??y.hostOnly,this.pathIsDefault=e.pathIsDefault??y.pathIsDefault,this.lastAccessed=e.lastAccessed??y.lastAccessed,this.sameSite=e.sameSite??y.sameSite,this.creation=e.creation??new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++v.cookiesCreated}),this.creationIndex=v.cookiesCreated}[Symbol.for("nodejs.util.inspect.custom")](){let e=Date.now(),t=null!=this.hostOnly?this.hostOnly.toString():"?",r=this.creation&&"Infinity"!==this.creation?`${String(e-this.creation.getTime())}ms`:"?",n=this.lastAccessed&&"Infinity"!==this.lastAccessed?`${String(e-this.lastAccessed.getTime())}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${t}; aAge=${n}; cAge=${r}"`}toJSON(){let e={};for(let t of v.serializableProperties){let r=this[t];if(r!==y[t])switch(t){case"key":case"value":case"sameSite":"string"==typeof r&&(e[t]=r);break;case"expires":case"creation":case"lastAccessed":"number"==typeof r||"string"==typeof r||r instanceof Date?e[t]="Infinity"==r?"Infinity":new Date(r).toISOString():null===r&&(e[t]=null);break;case"maxAge":("number"==typeof r||"Infinity"===r||"-Infinity"===r)&&(e[t]=r);break;case"domain":case"path":("string"==typeof r||null===r)&&(e[t]=r);break;case"secure":case"httpOnly":"boolean"==typeof r&&(e[t]=r);break;case"extensions":Array.isArray(r)&&(e[t]=r);break;case"hostOnly":case"pathIsDefault":("boolean"==typeof r||null===r)&&(e[t]=r)}}return e}clone(){return g(this.toJSON())}validate(){if(!this.value||!p.test(this.value)||"Infinity"!=this.expires&&!(this.expires instanceof Date)&&!(0,d.parseDate)(this.expires)||null!=this.maxAge&&"Infinity"!==this.maxAge&&("-Infinity"===this.maxAge||this.maxAge<=0)||null!=this.path&&!m.test(this.path))return!1;let e=this.cdomain();return!(e&&(e.match(/\.$/)||null==(0,o.getPublicSuffix)(e)))&&!0}setExpires(e){e instanceof Date?this.expires=e:this.expires=(0,d.parseDate)(e)||"Infinity"}setMaxAge(e){e===1/0?this.maxAge="Infinity":e===-1/0?this.maxAge="-Infinity":this.maxAge=e}cookieString(){let e=this.value||"";return this.key?`${this.key}=${e}`:e}toString(){let e=this.cookieString();return"Infinity"!=this.expires&&this.expires instanceof Date&&(e+=`; Expires=${(0,u.formatDate)(this.expires)}`),null!=this.maxAge&&this.maxAge!=1/0&&(e+=`; Max-Age=${String(this.maxAge)}`),this.domain&&!this.hostOnly&&(e+=`; Domain=${this.domain}`),this.path&&(e+=`; Path=${this.path}`),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.sameSite&&"none"!==this.sameSite&&(this.sameSite.toLowerCase()===v.sameSiteCanonical.lax.toLowerCase()?e+=`; SameSite=${v.sameSiteCanonical.lax}`:this.sameSite.toLowerCase()===v.sameSiteCanonical.strict.toLowerCase()?e+=`; SameSite=${v.sameSiteCanonical.strict}`:e+=`; SameSite=${this.sameSite}`),this.extensions&&this.extensions.forEach(t=>{e+=`; ${t}`}),e}TTL(e=Date.now()){if(null!=this.maxAge&&"number"==typeof this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;let t=this.expires;return"Infinity"===t?1/0:(t?.getTime()??e)-(e||Date.now())}expiryTime(e){if(null!=this.maxAge){let t=e||this.lastAccessed||new Date,r="number"==typeof this.maxAge?this.maxAge:-1/0;return"Infinity"===t?1/0:t.getTime()+(r<=0?-1/0:1e3*r)}return"Infinity"==this.expires?1/0:this.expires?this.expires.getTime():void 0}expiryDate(e){let t=this.expiryTime(e);return t==1/0?new Date(2147483647e3):t==-1/0?new Date(0):void 0==t?void 0:new Date(t)}isPersistent(){return null!=this.maxAge||"Infinity"!=this.expires}canonicalizedDomain(){return(0,c.canonicalDomain)(this.domain)}cdomain(){return(0,c.canonicalDomain)(this.domain)}static parse(e,t){return function(e,t){if(s.isEmptyString(e)||!s.isString(e))return;let r=(e=e.trim()).indexOf(";"),n=function(e,t){let r,n,a=(e=function(e){if(s.isEmptyString(e))return e;for(let t=0;t<f.length;t++){let r=f[t],n=r?e.indexOf(r):-1;-1!==n&&(e=e.slice(0,n))}return e}(e)).indexOf("=");if(t)0===a&&(a=(e=e.substring(1)).indexOf("="));else if(a<=0)return;if(a<=0?(r="",n=e.trim()):(r=e.slice(0,a).trim(),n=e.slice(a+1).trim()),h.test(r)||h.test(n))return;let i=new v;return i.key=r,i.value=n,i}(-1===r?e:e.slice(0,r),t?.loose??!1);if(!n)return;if(-1===r)return n;let a=e.slice(r+1).trim();if(0===a.length)return n;let i=a.split(";");for(;i.length;){let e,t,r=(i.shift()??"").trim();if(0===r.length)continue;let a=r.indexOf("=");switch(-1===a?(e=r,t=null):(e=r.slice(0,a),t=r.slice(a+1)),e=e.trim().toLowerCase(),t&&(t=t.trim()),e){case"expires":if(t){let e=(0,d.parseDate)(t);e&&(n.expires=e)}break;case"max-age":if(t&&/^-?[0-9]+$/.test(t)){let e=parseInt(t,10);n.setMaxAge(e)}break;case"domain":if(t){let e=t.trim().replace(/^\./,"");e&&(n.domain=e.toLowerCase())}break;case"path":n.path=t&&"/"===t[0]?t:null;break;case"secure":n.secure=!0;break;case"httponly":n.httpOnly=!0;break;case"samesite":switch(t?t.toLowerCase():""){case"strict":n.sameSite="strict";break;case"lax":n.sameSite="lax";break;case"none":n.sameSite="none";break;default:n.sameSite=void 0}break;default:n.extensions=n.extensions||[],n.extensions.push(r)}}return n}(e,t)}static fromJSON(e){return g(e)}}r.Cookie=v,v.cookiesCreated=0,v.sameSiteLevel={strict:3,lax:2,none:1},v.sameSiteCanonical={strict:"Strict",lax:"Lax"},v.serializableProperties=["key","value","expires","maxAge","domain","path","secure","httpOnly","extensions","hostOnly","pathIsDefault","creation","lastAccessed","sameSite"]},24294,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cookieCompare=function(e,t){let r,n=e.path?e.path.length:0;return 0!=(r=(t.path?t.path.length:0)-n)?r:0!=(r=(e.creation&&e.creation instanceof Date?e.creation.getTime():2147483647e3)-(t.creation&&t.creation instanceof Date?t.creation.getTime():2147483647e3))?r:r=(e.creationIndex||0)-(t.creationIndex||0)}},11250,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultPath=function(e){if(!e||"/"!==e.slice(0,1))return"/";if("/"===e)return e;let t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}},67660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.domainMatch=function(e,t,r){let i,o;if(null==e||null==t||(!1!==r?(i=(0,n.canonicalDomain)(e),o=(0,n.canonicalDomain)(t)):(i=e,o=t),null==i||null==o))return;if(i==o)return!0;let s=i.lastIndexOf(o);return!(s<=0)&&i.length===o.length+s&&"."===i.substring(s-1,s)&&!a.test(i)};let n=e.r(79732),a=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/},81543,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.CookieJar=void 0;let o=e.r(9443),s=i(e.r(87270)),l=e.r(87270),u=e.r(88613),d=e.r(11777),c=e.r(90211),p=e.r(10609),m=e.r(48459),h=e.r(79732),f=e.r(5398),g=e.r(11250),y=e.r(67660),v=e.r(24294),b=e.r(11123),_={loose:!1,sameSiteContext:void 0,ignoreError:!1,http:!0},w={http:!0,expire:!0,allPaths:!1,sameSiteContext:void 0,sort:void 0},S='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function k(e){if(e&&"object"==typeof e&&"hostname"in e&&"string"==typeof e.hostname&&"pathname"in e&&"string"==typeof e.pathname&&"protocol"in e&&"string"==typeof e.protocol)return{hostname:e.hostname,pathname:e.pathname,protocol:e.protocol};if("string"==typeof e)try{return new URL(decodeURI(e))}catch{return new URL(e)}throw new l.ParameterError("`url` argument is not a string or URL.")}function x(e){let t=String(e).toLowerCase();return"none"===t||"lax"===t||"strict"===t?t:void 0}function E(e){let t=e.toLowerCase();switch(t){case f.PrefixSecurityEnum.STRICT:case f.PrefixSecurityEnum.SILENT:case f.PrefixSecurityEnum.DISABLED:return t;default:return f.PrefixSecurityEnum.SILENT}}class T{constructor(e,t){"boolean"==typeof t&&(t={rejectPublicSuffixes:t}),this.rejectPublicSuffixes=t?.rejectPublicSuffixes??!0,this.enableLooseMode=t?.looseMode??!1,this.allowSpecialUseDomain=t?.allowSpecialUseDomain??!0,this.prefixSecurity=E(t?.prefixSecurity??"silent"),this.store=e??new d.MemoryCookieStore}callSync(e){let t;if(!this.store.synchronous)throw Error("CookieJar store is not synchronous; use async API instead.");let r=null;try{e.call(this,(e,n)=>{r=e,t=n})}catch(e){r=e}if(r)throw r;return t}setCookie(e,t,r,n){let a;"function"==typeof r&&(n=r,r=void 0);let i=(0,m.createPromiseCallback)(n),l=i.callback;try{if("string"==typeof t&&s.validate(s.isNonEmptyString(t),n,(0,m.safeToString)(r)),a=k(t),"function"==typeof t)return i.reject(Error("No URL was specified"));if("function"==typeof r&&(r=_),s.validate("function"==typeof l,l),!s.isNonEmptyString(e)&&!s.isObject(e)&&e instanceof String&&0==e.length)return i.resolve(void 0)}catch(e){return i.reject(e)}let u=(0,h.canonicalDomain)(a.hostname)??null,d=r?.loose||this.enableLooseMode,c=null;if(r?.sameSiteContext&&!(c=x(r.sameSiteContext)))return i.reject(Error(S));if("string"==typeof e||e instanceof String){let t=p.Cookie.parse(e.toString(),{loose:d});if(!t){let e=Error("Cookie failed to parse");return r?.ignoreError?i.resolve(void 0):i.reject(e)}e=t}else if(!(e instanceof p.Cookie)){let e=Error("First argument to setCookie must be a Cookie object or string");return r?.ignoreError?i.resolve(void 0):i.reject(e)}let v=r?.now||new Date;if(this.rejectPublicSuffixes&&e.domain)try{let t=e.cdomain(),n="string"==typeof t?(0,o.getPublicSuffix)(t,{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:r?.ignoreError}):null;if(null==n&&!f.IP_V6_REGEX_OBJECT.test(e.domain)){let e=Error("Cookie has domain set to a public suffix");return r?.ignoreError?i.resolve(void 0):i.reject(e)}}catch(e){return r?.ignoreError?i.resolve(void 0):i.reject(e)}if(e.domain){if(!(0,y.domainMatch)(u??void 0,e.cdomain()??void 0,!1)){let t=Error(`Cookie not in this host's domain. Cookie:${e.cdomain()??"null"} Request:${u??"null"}`);return r?.ignoreError?i.resolve(void 0):i.reject(t)}null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=u;if(e.path&&"/"===e.path[0]||(e.path=(0,g.defaultPath)(a.pathname),e.pathIsDefault=!0),r?.http===!1&&e.httpOnly){let e=Error("Cookie is HttpOnly and this isn't an HTTP API");return r.ignoreError?i.resolve(void 0):i.reject(e)}if("none"!==e.sameSite&&void 0!==e.sameSite&&c&&"none"===c){let e=Error("Cookie is SameSite but this is a cross-origin request");return r?.ignoreError?i.resolve(void 0):i.reject(e)}let b=this.prefixSecurity===f.PrefixSecurityEnum.SILENT;if(this.prefixSecurity!==f.PrefixSecurityEnum.DISABLED){var w,E;let t,n=!1;if(!("string"==typeof(w=e).key&&w.key.startsWith("__Secure-"))||w.secure?!("string"==typeof(E=e).key&&E.key.startsWith("__Host-"))||E.secure&&E.hostOnly&&null!=E.path&&"/"===E.path||(n=!0,t="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(n=!0,t="Cookie has __Secure prefix but Secure attribute is not set"),n)return r?.ignoreError||b?i.resolve(void 0):i.reject(Error(t))}let T=this.store;return T.updateCookie||(T.updateCookie=async function(e,t,r){return this.putCookie(t).then(()=>r?.(null),e=>r?.(e))}),T.findCookie(e.domain,e.path,e.key,function(t,n){if(t)return void l(t);let a=function(t){t?l(t):"string"==typeof e?l(null,void 0):l(null,e)};if(n){if(r&&"http"in r&&!1===r.http&&n.httpOnly){t=Error("old Cookie is HttpOnly and this isn't an HTTP API"),r.ignoreError?l(null,void 0):l(t);return}e instanceof p.Cookie&&(e.creation=n.creation,e.creationIndex=n.creationIndex,e.lastAccessed=v,T.updateCookie(n,e,a))}else e instanceof p.Cookie&&(e.creation=e.lastAccessed=v,T.putCookie(e,a))}),i.promise}setCookieSync(e,t,r){let n=r?this.setCookie.bind(this,e,t,r):this.setCookie.bind(this,e,t);return this.callSync(n)}getCookies(e,t,r){let n;"function"==typeof t?(r=t,t=w):void 0===t&&(t=w);let a=(0,m.createPromiseCallback)(r),i=a.callback;try{"string"==typeof e&&s.validate(s.isNonEmptyString(e),i,e),n=k(e),s.validate(s.isObject(t),i,(0,m.safeToString)(t)),s.validate("function"==typeof i,i)}catch(e){return a.reject(e)}let o=(0,h.canonicalDomain)(n.hostname),l=n.pathname||"/",u=n.protocol&&("https:"==n.protocol||"wss:"==n.protocol),d=0;if(t.sameSiteContext){let e=x(t.sameSiteContext);if(null==e||!(d=p.Cookie.sameSiteLevel[e]))return a.reject(Error(S))}let f=t.http??!0,g=Date.now(),b=t.expire??!0,_=t.allPaths??!1,E=this.store;function T(e){if(e.hostOnly){if(e.domain!=o)return!1}else if(!(0,y.domainMatch)(o??void 0,e.domain??void 0,!1))return!1;if(!_&&"string"==typeof e.path&&!(0,c.pathMatch)(l,e.path)||e.secure&&!u||e.httpOnly&&!f)return!1;if(d&&("lax"===e.sameSite?p.Cookie.sameSiteLevel.lax:"strict"===e.sameSite?p.Cookie.sameSiteLevel.strict:p.Cookie.sameSiteLevel.none)>d)return!1;let t=e.expiryTime();return!b||void 0==t||!(t<=g)||(E.removeCookie(e.domain,e.path,e.key,()=>{}),!1)}return E.findCookies(o,_?null:l,this.allowSpecialUseDomain,(e,r)=>{if(e)return void i(e);if(null==r)return void i(null,[]);r=r.filter(T),"sort"in t&&!1!==t.sort&&(r=r.sort(v.cookieCompare));let n=new Date;for(let e of r)e.lastAccessed=n;i(null,r)}),a.promise}getCookiesSync(e,t){return this.callSync(this.getCookies.bind(this,e,t))??[]}getCookieString(e,t,r){"function"==typeof t&&(r=t,t=void 0);let n=(0,m.createPromiseCallback)(r);return this.getCookies(e,t,function(e,t){e?n.callback(e):n.callback(null,t?.sort(v.cookieCompare).map(e=>e.cookieString()).join("; "))}),n.promise}getCookieStringSync(e,t){return this.callSync(t?this.getCookieString.bind(this,e,t):this.getCookieString.bind(this,e))??""}getSetCookieStrings(e,t,r){"function"==typeof t&&(r=t,t=void 0);let n=(0,m.createPromiseCallback)(r);return this.getCookies(e,t,function(e,t){e?n.callback(e):n.callback(null,t?.map(e=>e.toString()))}),n.promise}getSetCookieStringsSync(e,t={}){return this.callSync(this.getSetCookieStrings.bind(this,e,t))??[]}serialize(e){let t=(0,m.createPromiseCallback)(e),r=this.store.constructor.name;s.isObject(r)&&(r=null);let n={version:`tough-cookie@${b.version}`,storeType:r,rejectPublicSuffixes:this.rejectPublicSuffixes,enableLooseMode:this.enableLooseMode,allowSpecialUseDomain:this.allowSpecialUseDomain,prefixSecurity:E(this.prefixSecurity),cookies:[]};return"function"!=typeof this.store.getAllCookies?t.reject(Error("store does not support getAllCookies and cannot be serialized")):(this.store.getAllCookies((e,r)=>{e?t.callback(e):(null==r||(n.cookies=r.map(e=>{let t=e.toJSON();return delete t.creationIndex,t})),t.callback(null,n))}),t.promise)}serializeSync(){return this.callSync(e=>{this.serialize(e)})}toJSON(){return this.serializeSync()}_importCookies(e,t){let r;if(e&&"object"==typeof e&&(0,m.inOperator)("cookies",e)&&Array.isArray(e.cookies)&&(r=e.cookies),!r)return void t(Error("serialized jar has no cookies array"),void 0);r=r.slice();let n=e=>{if(e)return void t(e,void 0);if(Array.isArray(r)){let a;if(!r.length)return void t(e,this);try{a=p.Cookie.fromJSON(r.shift())}catch(e){t(e instanceof Error?e:Error(),void 0);return}if(void 0===a)return void n(null);this.store.putCookie(a,n)}};n(null)}_importCookiesSync(e){this.callSync(this._importCookies.bind(this,e))}clone(e,t){"function"==typeof e&&(t=e,e=void 0);let r=(0,m.createPromiseCallback)(t),n=r.callback;return this.serialize((t,a)=>t?r.reject(t):T.deserialize(a??"",e,n)),r.promise}_cloneSync(e){let t=e&&"function"!=typeof e?this.clone.bind(this,e):this.clone.bind(this);return this.callSync(e=>{t(e)})}cloneSync(e){if(!e)return this._cloneSync();if(!e.synchronous)throw Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)}removeAllCookies(e){let t=(0,m.createPromiseCallback)(e),r=t.callback,n=this.store;return"function"==typeof n.removeAllCookies&&n.removeAllCookies!==u.Store.prototype.removeAllCookies?n.removeAllCookies(r):n.getAllCookies((e,t)=>{if(e)return void r(e);if(t||(t=[]),0===t.length)return void r(null,void 0);let a=0,i=[],o=function(e){if(e&&i.push(e),++a===t.length)return void(i[0]?r(i[0]):r(null,void 0))};t.forEach(e=>{n.removeCookie(e.domain,e.path,e.key,o)})}),t.promise}removeAllCookiesSync(){this.callSync(e=>{this.removeAllCookies(e)})}static deserialize(e,t,r){let n,a;"function"==typeof t&&(r=t,t=void 0);let i=(0,m.createPromiseCallback)(r);if("string"==typeof e)try{n=JSON.parse(e)}catch(e){return i.reject(e instanceof Error?e:Error())}else n=e;let o=e=>n&&"object"==typeof n&&(0,m.inOperator)(e,n)?n[e]:void 0,s=e=>{let t=o(e);return"boolean"==typeof t?t:void 0},l=new T(t,{rejectPublicSuffixes:s("rejectPublicSuffixes"),looseMode:s("enableLooseMode"),allowSpecialUseDomain:s("allowSpecialUseDomain"),prefixSecurity:E(("string"==typeof(a=o("prefixSecurity"))?a:void 0)??"silent")});return l._importCookies(n,e=>{e?i.callback(e):i.callback(null,l)}),i.promise}static deserializeSync(e,t){let r,n="string"==typeof e?JSON.parse(e):e,a=e=>n&&"object"==typeof n&&(0,m.inOperator)(e,n)?n[e]:void 0,i=e=>{let t=a(e);return"boolean"==typeof t?t:void 0},o=new T(t,{rejectPublicSuffixes:i("rejectPublicSuffixes"),looseMode:i("enableLooseMode"),allowSpecialUseDomain:i("allowSpecialUseDomain"),prefixSecurity:E(("string"==typeof(r=a("prefixSecurity"))?r:void 0)??"silent")});if(!o.store.synchronous)throw Error("CookieJar store is not synchronous; use async API instead.");return o._importCookiesSync(n),o}static fromJSON(e,t){return T.deserializeSync(e,t)}}r.CookieJar=T},36031,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.permutePath=function(e){if("/"===e)return["/"];let t=[e];for(;e.length>1;){let r=e.lastIndexOf("/");if(0===r)break;e=e.slice(0,r),t.push(e)}return t.push("/"),t}},44086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.permutePath=r.parseDate=r.formatDate=r.domainMatch=r.defaultPath=r.CookieJar=r.cookieCompare=r.Cookie=r.PrefixSecurityEnum=r.canonicalDomain=r.version=r.ParameterError=r.Store=r.getPublicSuffix=r.permuteDomain=r.pathMatch=r.MemoryCookieStore=void 0,r.parse=function(e,t){return _.Cookie.parse(e,t)},r.fromJSON=function(e){return _.Cookie.fromJSON(e)};var n=e.r(11777);Object.defineProperty(r,"MemoryCookieStore",{enumerable:!0,get:function(){return n.MemoryCookieStore}});var a=e.r(90211);Object.defineProperty(r,"pathMatch",{enumerable:!0,get:function(){return a.pathMatch}});var i=e.r(24432);Object.defineProperty(r,"permuteDomain",{enumerable:!0,get:function(){return i.permuteDomain}});var o=e.r(9443);Object.defineProperty(r,"getPublicSuffix",{enumerable:!0,get:function(){return o.getPublicSuffix}});var s=e.r(88613);Object.defineProperty(r,"Store",{enumerable:!0,get:function(){return s.Store}});var l=e.r(87270);Object.defineProperty(r,"ParameterError",{enumerable:!0,get:function(){return l.ParameterError}});var u=e.r(11123);Object.defineProperty(r,"version",{enumerable:!0,get:function(){return u.version}});var d=e.r(79732);Object.defineProperty(r,"canonicalDomain",{enumerable:!0,get:function(){return d.canonicalDomain}});var c=e.r(5398);Object.defineProperty(r,"PrefixSecurityEnum",{enumerable:!0,get:function(){return c.PrefixSecurityEnum}});var p=e.r(10609);Object.defineProperty(r,"Cookie",{enumerable:!0,get:function(){return p.Cookie}});var m=e.r(24294);Object.defineProperty(r,"cookieCompare",{enumerable:!0,get:function(){return m.cookieCompare}});var h=e.r(81543);Object.defineProperty(r,"CookieJar",{enumerable:!0,get:function(){return h.CookieJar}});var f=e.r(11250);Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}});var g=e.r(67660);Object.defineProperty(r,"domainMatch",{enumerable:!0,get:function(){return g.domainMatch}});var y=e.r(2683);Object.defineProperty(r,"formatDate",{enumerable:!0,get:function(){return y.formatDate}});var v=e.r(76354);Object.defineProperty(r,"parseDate",{enumerable:!0,get:function(){return v.parseDate}});var b=e.r(36031);Object.defineProperty(r,"permutePath",{enumerable:!0,get:function(){return b.permutePath}});let _=e.r(10609)},31063,(e,t,r)=>{"use strict";var n={decodeValues:!0,map:!1,silent:!1};function a(e){return"string"!=typeof e||e in{}}function i(){return Object.create(null)}function o(e){return"string"==typeof e&&!!e.trim()}function s(e,t){var r,s,l,u,d=e.split(";").filter(o),c=(r=d.shift(),s="",l="",(u=r.split("=")).length>1?(s=u.shift(),l=u.join("=")):l=r,{name:s,value:l}),p=c.name,m=c.value;if(t=t?Object.assign({},n,t):n,a(p))return null;try{m=t.decodeValues?decodeURIComponent(m):m}catch(e){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",e)}var h=i();return h.name=p,h.value=m,d.forEach(function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase();if(!a(r)){var n=t.join("=");if("expires"===r)h.expires=new Date(n);else if("max-age"===r){var i=parseInt(n,10);Number.isNaN(i)||(h.maxAge=i)}else"secure"===r?h.secure=!0:"httponly"===r?h.httpOnly=!0:"samesite"===r?h.sameSite=n:"partitioned"===r?h.partitioned=!0:r&&(h[r]=n)}}),h}function l(e,t){if(t=t?Object.assign({},n,t):n,!e)if(!t.map)return[];else return i();if(e.headers)if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];r||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),!t.map)return e.filter(o).map(function(e){return s(e,t)}).filter(Boolean);var l=i();return e.filter(o).reduce(function(e,r){var n=s(r,t);return n&&!a(n.name)&&(e[n.name]=n),e},l)}t.exports=l,t.exports.parse=l,t.exports.parseString=s,t.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,r,n,a,i,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,i=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),a=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(i=!0,s=a,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!i||s>=e.length)&&o.push(e.substring(t,e.length))}return o}},27488,(e,t,r)=>{"use strict";let n;var a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))u.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c={},p={default:()=>S};for(var m in p)i(c,m,{get:p[m],enumerable:!0});t.exports=d(i({},"__esModule",{value:!0}),c);var h=d(i(null!=(n=e.r(44086))?a(l(n)):{},"default",{value:n,enumerable:!0}),n),f=e.r(31063);let g=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function y(e,t){}function v(e,t){e.headers.delete(t)}function b(e,t){let r=e.headers;for(let e of Object.keys(r))e.toLowerCase()===t&&delete r[e]}let _=new Set([301,302,303,307,308]);async function w(e,t,r){var n;let a,i;switch(t.redirect??"follow"){case"error":throw TypeError(`URI requested responded with a redirect and redirect mode is set to error: ${r.url}`);case"manual":return r;case"follow":break;default:throw TypeError(`Invalid redirect option: ${t.redirect}`)}let o=r.headers.get("location");if(null===o)return r;let s=r.url,l=new URL(o,s).toString(),u=t.redirectCount??0,d=t.maxRedirect??20;if(u>=d)throw TypeError(`Reached maximum redirect of ${d} for URL: ${s}`);let c=null==(n=t={...t,redirectCount:u+1}).headers?y:"function"==typeof n.headers.delete?v:b;if(a=new URL(l).hostname,!(a===(i=new URL(s).hostname)||a.endsWith(`.${i}`)))for(let e of["authorization","www-authenticate","cookie","cookie2"])c(t,e);let p=t.body,m=t.body;if(303!==r.status&&null!=t.body&&("function"==typeof p.pipe||"function"==typeof m.pipeTo))throw TypeError("Cannot follow redirect with body being a readable stream");return(303===r.status||(301===r.status||302===r.status)&&"POST"===t.method)&&(t.method="GET",t.body=void 0,c(t,"content-length")),r.headers.has("referrer-policy")&&(t.referrerPolicy=function(e){let t=e.split(/[,\s]+/),r="";for(let e of t)""!==e&&g.has(e)&&(r=e);return r}(r.headers.get("referrer-policy"))),c(t,"host"),await e(l,t)}function S(e,t,r=!0){let n=t??new h.CookieJar;async function a(t,i){var o;let s=i??{};i={...i,redirect:"manual"};let l="string"==typeof t?t:"href"in t?t.href:t.url;i=function(e,t,r){if(""===r)return t;let n=t.headers;if(e.headers&&"function"==typeof e.headers.append)e.headers.append("cookie",r);else if(n&&"function"==typeof n.append)n.append("cookie",r);else if(Array.isArray(t.headers)){let e=[...t.headers],n=e.findIndex(e=>"cookie"===e[0].toLowerCase());-1===n?e.push(["cookie",r]):e[n]=["cookie",r],t={...t,headers:e}}else t={...t,headers:{...t.headers,cookie:r}};return t}(t,i,await n.getCookieString(l));let u=await e(t,i),d=function(e){let t=e.headers;if("function"==typeof t.getAll)return t.getAll("set-cookie");if("function"==typeof t.raw){let e=t.raw();return Array.isArray(e["set-cookie"])?e["set-cookie"]:[]}let r=e.headers.get("set-cookie");return null!==r?(0,f.splitCookiesString)(r):[]}(u);return(await Promise.all(d.map(async e=>await n.setCookie(e,u.url,{ignoreError:r}))),(i.redirectCount??0)>0&&Object.defineProperty(u,"redirected",{value:!0}),o=u.status,_.has(o))?await w(a,s,u):u}return a.toughCookie=h,a.cookieJar=n,a}S.toughCookie=h},44689,(e,t,r)=>{var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$,M,D,F,U,L,q,V,B,Z,H,G,W,J,K,Y,X,Q,ee,et,er,en,ea,ei,eo,es,el,eu,ed,ec,ep,em,eh,ef,eg,ey,ev,eb,e_,ew,eS,ek,ex,eE,eT,eO,eI,eP,eC,eA,ej,ez,eR=Object.create,eN=Object.defineProperty,e$=Object.defineProperties,eM=Object.getOwnPropertyDescriptor,eD=Object.getOwnPropertyDescriptors,eF=Object.getOwnPropertyNames,eU=Object.getOwnPropertySymbols,eL=Object.getPrototypeOf,eq=Object.prototype.hasOwnProperty,eV=Object.prototype.propertyIsEnumerable,eB=(e,t,r)=>t in e?eN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eZ=(e,t)=>{for(var r in t||(t={}))eq.call(t,r)&&eB(e,r,t[r]);if(eU)for(var r of eU(t))eV.call(t,r)&&eB(e,r,t[r]);return e},eH=(e,t)=>e$(e,eD(t)),eG=(e,t)=>{var r={};for(var n in e)eq.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&eU)for(var n of eU(e))0>t.indexOf(n)&&eV.call(e,n)&&(r[n]=e[n]);return r},eW=(e,t)=>function(){return e&&(t=(0,e[eF(e)[0]])(e=0)),t},eJ=(e,t)=>function(){return t||(0,e[eF(e)[0]])((t={exports:{}}).exports,t),t.exports},eK=(e,t)=>{for(var r in t)eN(e,r,{get:t[r],enumerable:!0})},eY=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of eF(t))eq.call(e,a)||a===r||eN(e,a,{get:()=>t[a],enumerable:!(n=eM(t,a))||n.enumerable});return e},eX=(e,t,r)=>(r=null!=e?eR(eL(e)):{},eY(!t&&e&&e.__esModule?r:eN(r,"default",{value:e,enumerable:!0}),e)),eQ=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{s(r.next(e))}catch(e){a(e)}},o=e=>{try{s(r.throw(e))}catch(e){a(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);s((r=r.apply(e,t)).next())}),e1=eW({"lib/version.ts"(){i="3.0.3"}}),e0=eW({"lib/v3/types/public/sdkErrors.ts"(){e1(),o=class extends Error{constructor(e){super(e),this.name=this.constructor.name}},s=class extends o{constructor(e){(e instanceof Error||e instanceof o)&&super(`
Hey! We're sorry you ran into an error. 
Stagehand version: ${i} 
If you need help, please open a Github issue or reach out to us on Slack: https://stagehand.dev/slack

Full error:
${e.message}`)}},l=class extends o{constructor(e,t,r){super(`You seem to be setting the current environment to ${e}.Ensure the environment is set to ${t} if you want to use ${r}.`)}},u=class extends o{constructor(e,t){super(`${e} is required to use ${t}.Please set ${e} in your environment.`)}},d=class extends o{constructor(e,t){super(t?`${t} requires one of the following models: ${e}`:`please use one of the supported models: ${e}`)}},c=class extends o{constructor(e,t){super(t?`${t} requires one of the following model providers: ${e}`:`please use one of the supported model providers: ${e}`)}},p=class extends o{constructor(e,t){super(`${e} is not currently supported for aiSDK. please use one of the supported model providers: ${t}`)}},m=class extends o{constructor(e){super(`${e} does not follow correct format for specifying aiSDK models. Please define your model as 'provider/model-name'. For example: \`model: 'openai/gpt-4o-mini'\``)}},h=class extends o{constructor(e){super(`You seem to be calling \`${e}\` on a page in an uninitialized \`Stagehand\` object. Ensure you are running \`await stagehand.init()\` on the Stagehand object before referencing the \`page\` object.`)}},f=class extends o{constructor(){super("No Browserbase session ID found")}},g=class extends o{constructor(){super("Captcha timeout")}},y=class extends o{constructor(){super("No LLM API key or LLM Client configured. An LLM API key or a custom LLM Client is required to use act, extract, or observe.")}},v=class extends o{constructor(e){super(`${e} handler not initialized`)}},b=class extends o{constructor(e){super(`InvalidArgumentError: ${e}`)}},_=class extends o{constructor(e){super(`Could not find an element for the given xPath(s): ${e}`)}},w=class extends o{constructor(e){super(`ScreenshotProviderError: ${e}`)}},S=class extends o{constructor(e){super(`MissingArgumentError: ${e}`)}},k=class extends o{constructor(e){super(`CreateChatCompletionResponseError: ${e}`)}},x=class extends o{constructor(e){super(`StagehandEvalError: ${e}`)}},E=class extends o{constructor(e){super(`Error Processing Dom: ${e}`)}},T=class extends o{constructor(e,t){super(`Error Clicking Element with selector: ${t} Reason: ${e}`)}},O=class extends o{constructor(e,t){super(`${e} LLM response error: ${t}`)}},I=class extends o{constructor(e,t){super(`Unable to resolve frameId for iframe with URL: ${e} Full error: ${t}`)}},P=class extends o{constructor(e){super(`Unable to obtain a content frame for selector: ${e}`)}},C=class extends o{constructor(e){super(`XPath "${e}" does not resolve in the current page or frames`)}},A=class extends o{constructor(){super("`experimental` mode cannot be used together with the Stagehand API. To use experimental features, set experimental: true, and useApi: false in the stagehand constructor. To use the Stagehand API, set experimental: false and useApi: true in the stagehand constructor. ")}},j=class extends o{constructor(e){super(`Feature "${e}" is an experimental feature, and cannot be configured when useAPI: true. 
    Please set experimental: true and useAPI: false in the stagehand constructor to use this feature. 
    If you wish to use the Stagehand API, please ensure ${e} is not defined in your function call, 
    and set experimental: false, useAPI: true in the Stagehand constructor. `)}},z=class extends o{constructor(e){super(`To use the computer use agent (CUA), please provide a CUA model in the agent constructor or stagehand config. Try one of our supported CUA models: ${e.join(", ")}`)}},R=class extends Error{constructor(e,t){super(`Zod schema validation failed

\u2014 Received \u2014
${JSON.stringify(e,null,2)}

\u2014 Issues \u2014
${JSON.stringify(t,null,2)}`),this.received=e,this.issues=t,this.name="ZodSchemaValidationError"}},N=class extends o{constructor(e){super(e)}},$=class extends o{constructor(e,t){super(`Failed to connect to MCP server at "${e}". ${t instanceof Error?t.message:String(t)}. Please verify the server URL is correct and the server is running.`),this.serverUrl=e,this.originalError=t}},M=class extends o{constructor(e){super("No shadow root present on the resolved host"+(e?`: ${e}`:""))}},D=class extends o{constructor(){super('Empty selector segment after shadow-DOM hop ("//")')}},F=class extends o{constructor(e,t){super(`Shadow segment '${e}' matched no element inside shadow root`+(t?` ${t}`:""))}},U=class extends o{constructor(e){super(`Element not visible (no box model): ${e}`)}},L=class extends o{constructor(e){super(`Failed to retrieve response body: ${e}`)}},q=class extends o{constructor(e){super(`Failed to parse response: ${e}`)}},V=class extends o{constructor(e,t){super(`${e} timed out after ${t}ms`)}},B=class extends o{constructor(e){super(`No Page found for ${e}`)}},Z=class extends o{constructor(e){super(`Connection timeout: ${e}`)}}}});function e2(e,t){return H.run(e,t)}function e4(e){var t,r,n;let a=H.getStore();if(a){let t=G.get(a);if(t){let r=eH(eZ({},e),{auxiliary:eZ({},e.auxiliary||{})});try{t(r);return}catch(e){}}}let i=null!=(t=e.timestamp)?t:new Date().toISOString(),o=null!=(r=e.level)?r:1,s=`[${i}] ${0===o?"ERROR":2===o?"DEBUG":"INFO"}: ${e.message}`;if(e.auxiliary)for(let[t,{value:r,type:n}]of Object.entries(e.auxiliary)){let e=r;if("object"===n)try{e=JSON.stringify(JSON.parse(r),null,2).split("\n").map((e,t)=>0===t?e:`    ${e}`).join("\n")}catch(t){e=r}s+=`
    ${t}: ${e}`}0===o?console.error(s):2===o?(null!=(n=console.debug)?n:console.log)(s):console.log(s)}var e6=eW({"lib/v3/logger.ts"(){H=new(e.r(10430)).AsyncLocalStorage,G=new Map}}),e3=eW({"lib/v3/understudy/executionContextRegistry.ts"(){W=new class{constructor(){this.byFrame=new WeakMap,this.byExec=new WeakMap}attachSession(e){let t=t=>{var r;let n=null!=(r=t.context.auxData)?r:{};!0===n.isDefault&&"string"==typeof n.frameId&&this.register(e,n.frameId,t.context.id)},r=t=>{let r=this.byExec.get(e),n=this.byFrame.get(e);if(!r||!n)return;let a=r.get(t.executionContextId);a&&(r.delete(t.executionContextId),n.get(a)===t.executionContextId&&n.delete(a))},n=()=>{this.byFrame.delete(e),this.byExec.delete(e)};e.on("Runtime.executionContextCreated",t),e.on("Runtime.executionContextDestroyed",r),e.on("Runtime.executionContextsCleared",n)}getMainWorld(e,t){var r,n;return null!=(n=null==(r=this.byFrame.get(e))?void 0:r.get(t))?n:null}waitForMainWorld(e,t,r=800){return eQ(this,null,function*(){let n=this.getMainWorld(e,t);if(n)return n;yield e.send("Runtime.enable").catch(()=>{});let a=this.getMainWorld(e,t);return a||(yield new Promise((n,a)=>{let i=!1,o=r=>{var a;let l=null!=(a=r.context.auxData)?a:{};!0===l.isDefault&&l.frameId===t&&(this.register(e,t,r.context.id),i||(i=!0,clearTimeout(s),e.off("Runtime.executionContextCreated",o),n(r.context.id)))},s=setTimeout(()=>{i||(i=!0,e.off("Runtime.executionContextCreated",o),a(Error(`main world not ready for frame ${t}`)))},r);e.on("Runtime.executionContextCreated",o)}))})}register(e,t,r){let n=this.byFrame.get(e);n||(n=new Map,this.byFrame.set(e,n));let a=this.byExec.get(e);a||(a=new Map,this.byExec.set(e,a)),n.set(t,r),a.set(r,t)}}}});function e9(e,t,r){return eQ(this,null,function*(){var n,a,i,o,s,l,u,d;let c=e.getFullFrameTree(),p=new Map;!function e(t,r){var n;for(let a of(p.set(t.frame.id,r),null!=(n=t.childFrames)?n:[]))e(a,t.frame.id)}(c,null);let m=[],h=e.mainFrameId(),f=e.getSessionForFrame(h),g=t,y=r;for(let t=0;t<8;t++)try{let t,r;yield f.send("DOM.enable").catch(()=>{});let c=0,v=0;try{yield f.send("Runtime.enable").catch(()=>{});let e=yield W.waitForMainWorld(f,h).catch(()=>{}),t=e?{contextId:e,expression:e5(),returnByValue:!0}:{expression:e5(),returnByValue:!0},{result:r}=yield f.send("Runtime.evaluate",t);c=Number(null!=(a=null==(n=null==r?void 0:r.value)?void 0:n.sx)?a:0),v=Number(null!=(o=null==(i=null==r?void 0:r.value)?void 0:i.sy)?o:0)}catch(e){}let b=Math.max(0,Math.floor(g+c)),_=Math.max(0,Math.floor(y+v));try{t=yield f.send("DOM.getNodeForLocation",{x:b,y:_,includeUserAgentShadowDOM:!1,ignorePointerEventsNone:!1})}catch(e){return null}let w=null==t?void 0:t.backendNodeId,S=null==t?void 0:t.frameId;if("number"==typeof w&&S&&S!==h){let e=yield e8(m,f,w);return e?{frameId:S,backendNodeId:w,absoluteXPath:e}:null}if("number"!=typeof w)return null;for(let e of ta(p,h))try{let{backendNodeId:t}=yield f.send("DOM.getFrameOwner",{frameId:e});if(t===w){r=e;break}}catch(e){}if(!r){let e=yield e8(m,f,w);return e?{frameId:h,backendNodeId:w,absoluteXPath:e}:null}m.push({parentFrameId:h,parentSession:f,iframeBackendNodeId:w});let k=0,x=0;try{let{object:e}=yield f.send("DOM.resolveNode",{backendNodeId:w}),t=null==e?void 0:e.objectId;if(t){let{result:e}=yield f.send("Runtime.callFunctionOn",{objectId:t,functionDeclaration:"function(){ const r=this.getBoundingClientRect(); return {left:r.left, top:r.top}; }",returnByValue:!0});k=Number(null!=(l=null==(s=null==e?void 0:e.value)?void 0:s.left)?l:0),x=Number(null!=(d=null==(u=null==e?void 0:e.value)?void 0:u.top)?d:0),yield f.send("Runtime.releaseObject",{objectId:t}).catch(()=>{})}}catch(e){}g=Math.max(0,g-k),y=Math.max(0,y-x),h=r,f=e.getSessionForFrame(h)}catch(e){break}return null})}function e5(){return"({sx:(window.scrollX||window.pageXOffset||0),sy:(window.scrollY||window.pageYOffset||0)})"}function e8(e,t,r){return eQ(this,null,function*(){let n="";for(let t of e){let e=yield e7(t.parentSession,t.iframeBackendNodeId);e&&(n=n?tt(n,e):tr(e))}let a=yield e7(t,r);return a?n?tt(n,a):tr(a):n||"/"})}function e7(e,t){return eQ(this,null,function*(){try{let{object:r}=yield e.send("DOM.resolveNode",{backendNodeId:t}),n=null==r?void 0:r.objectId;if(!n)return null;let{result:a}=yield e.send("Runtime.callFunctionOn",{objectId:n,functionDeclaration:`function() {
          try {
            const node = this;
            function sibIndex(n) {
              let i = 1; const t = n.nodeType+':'+(n.nodeName||'').toLowerCase();
              for (let p = n.previousSibling; p; p = p.previousSibling) {
                const key = p.nodeType+':'+(p.nodeName||'').toLowerCase();
                if (key === t) i++;
              }
              return i;
            }
            function step(n) {
              if (!n) return '';
              if (n.nodeType === Node.DOCUMENT_NODE) return '';
              if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) return '//'; // ShadowRoot hop
              if (n.nodeType === Node.TEXT_NODE) return 'text()[' + sibIndex(n) + ']';
              if (n.nodeType === Node.COMMENT_NODE) return 'comment()[' + sibIndex(n) + ']';
              const tag = (n.nodeName||'').toLowerCase();
              const name = tag.includes(':') ? "*[name()='"+tag+"']" : tag;
              return name + '[' + sibIndex(n) + ']';
            }
            const parts = [];
            let cur = node;
            while (cur) {
              // Insert a marker before stepping out of a ShadowRoot
              if (cur.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                parts.push('//');
                cur = (cur && cur.host) ? cur.host : null;
                continue;
              }
              const s = step(cur);
              if (s) parts.push(s);
              cur = cur.parentNode;
            }
            parts.reverse();
            let out = '';
            for (const s of parts) {
              if (s === '//') out = out ? (out.endsWith('/') ? out + '/' : out + '//') : '//';
              else out = out ? (out.endsWith('/') ? out + s : out + '/' + s) : '/' + s;
            }
            return out || '/';
          } catch { return ''; }
        }`,returnByValue:!0});return yield e.send("Runtime.releaseObject",{objectId:n}).catch(()=>{}),"string"==typeof(null==a?void 0:a.value)&&a.value?a.value:null}catch(e){return null}})}function te(e,t){return eQ(this,null,function*(){var r,n,a,i,o,s,l,u,d,c,p,m;let h=null==(r=null==t?void 0:t.pierceShadow)||r,f=e.mainFrameId(),g=e.asProtocolFrameTree(f),y=new Map;!function e(t,r){var n;for(let a of(y.set(t.frame.id,r),null!=(n=t.childFrames)?n:[]))e(a,t.frame.id)}(g,null);let v=e.listAllFrameIds(),b={},_={},w=[],S=new Map,k=null==(n=null==t?void 0:t.focusSelector)?void 0:n.trim();if(k){let r=()=>{var e;e4({message:"Unable to narrow scope with selector. Falling back to using full DOM",level:1,auxiliary:{arguments:{value:`selector: ${null==(e=null==t?void 0:t.focusSelector)?void 0:e.trim()}`,type:"string"}}})};try{let n,i,o;if(/^xpath=/i.test(k)||k.startsWith("/")){let t=tr(k),r=yield function(e,t,r,n){return eQ(this,null,function*(){let a=function(e){let t=e.trim(),r=0,n=[];for(;r<t.length;){let e="child";t.startsWith("//",r)?(e="desc",r+=2):"/"===t[r]&&(e="child",r+=1);let a=r;for(;r<t.length&&"/"!==t[r];)r++;let i=t.slice(a,r).trim();if(!i)continue;let o=i.replace(/\[\d+\]\s*$/u,"").toLowerCase();n.push({axis:e,raw:i,name:o})}return n}(t),i=n,o=[],s="",l=()=>eQ(null,null,function*(){if(!o.length)return;let t=tn(o),n=e.getSessionForFrame(i),a=yield tl(n,t,i);if(!a)throw new I(t,"Failed to resolve iframe element by XPath");try{let e;yield n.send("DOM.enable").catch(()=>{});let o=(yield n.send("DOM.describeNode",{objectId:a})).node.backendNodeId;for(let t of ta(r,i))try{let{backendNodeId:r}=yield n.send("DOM.getFrameOwner",{frameId:t});if(r===o){e=t;break}}catch(e){}if(!e)throw new I(t,"Could not map iframe to child frameId");s=tt(s||"/",t),i=e}finally{yield n.send("Runtime.releaseObject",{objectId:a}).catch(()=>{})}o=[]});for(let e of a)o.push(e),J.test(e.name)&&(yield l());let u=tn(o);return{targetFrameId:i,tailXPath:u,absPrefix:s}})}(e,t,y,f);n=r.targetFrameId,i=r.tailXPath||void 0,o=r.absPrefix}else{let t=yield function(e,t,r,n){return eQ(this,null,function*(){var a;let i=t.split(">>").map(e=>e.trim()).filter(Boolean),o=n;for(let t=0;t<Math.max(0,i.length-1);t++){let n=e.getSessionForFrame(o),a=yield tu(n,i[t],o);if(!a)throw new I(i[t],"Failed to resolve iframe via CSS hop");try{let e;yield n.send("DOM.enable").catch(()=>{});let s=(yield n.send("DOM.describeNode",{objectId:a})).node.backendNodeId;for(let t of ta(r,o))try{let{backendNodeId:r}=yield n.send("DOM.getFrameOwner",{frameId:t});if(r===s){e=t;break}}catch(e){}if(!e)throw new I(i[t],"Could not map CSS iframe hop to child frameId");o=e}finally{yield n.send("Runtime.releaseObject",{objectId:a}).catch(()=>{})}}return{targetFrameId:o,tailSelector:null!=(a=i[i.length-1])?a:"*",absPrefix:""}})}(e,k,y,f);n=t.targetFrameId,i=t.tailSelector||void 0,o=t.absPrefix}let s=tp(e,n),l=y.get(n),u=!!l&&tp(e,l)===tp(e,n),{tagNameMap:d,xpathMap:c,scrollableMap:p}=yield function(e,t,r,n=(e,t)=>`${e}-${t}`,a=!0){return eQ(this,null,function*(){var i,o;yield e.send("DOM.enable").catch(()=>{});let{root:s}=yield e.send("DOM.getDocument",{depth:-1,pierce:r}),l=s;if(a)try{let r=(yield e.send("DOM.getFrameOwner",{frameId:t})).backendNodeId;if("number"==typeof r){let e=function(e,t){let r=[e];for(;r.length;){let e=r.pop();if(e.backendNodeId===t)return e;if(e.children)for(let t of e.children)r.push(t);if(e.shadowRoots)for(let t of e.shadowRoots)r.push(t)}}(s,r);(null==e?void 0:e.contentDocument)&&(l=e.contentDocument)}}catch(e){}let u={},d={},c={},p=[{node:l,xpath:""}];for(;p.length;){let{node:e,xpath:r}=p.pop();if(e.backendNodeId){let a=n(t,e.backendNodeId);u[a]=String(e.nodeName).toLowerCase(),d[a]=r||"/",(null==e?void 0:e.isScrollable)===!0&&(c[a]=!0)}let a=null!=(i=e.children)?i:[];if(a.length){let e=ti(a);for(let t=a.length-1;t>=0;t--){let n=a[t],i=e[t];p.push({node:n,xpath:to(r,i)})}}for(let t of null!=(o=e.shadowRoots)?o:[])p.push({node:t,xpath:to(r,"//")})}return{tagNameMap:u,xpathMap:d,scrollableMap:c}})}(s,n,h,(t,r)=>`${e.getOrdinal(t)}-${r}`,u),{outline:m,urlMap:g,scopeApplied:v}=yield ts(s,n,{focusSelector:i||void 0,tagNameMap:d,experimental:null!=(a=null==t?void 0:t.experimental)&&a,scrollableMap:p,encode:t=>`${e.getOrdinal(n)}-${t}`}),b={},_=null!=o?o:"";if(_&&"/"!==_)for(let[e,t]of Object.entries(c))b[e]=tt(_,t);else Object.assign(b,c);let w=eZ({},g),S={combinedTree:m,combinedXpathMap:b,combinedUrlMap:w,perFrame:[{frameId:n,outline:m,xpathMap:c,urlMap:g}]};if(v)return S;r()}catch(e){r()}}function x(e,t){return eQ(this,null,function*(){var r,n;yield e.send("DOM.enable").catch(()=>{});let{root:a}=yield e.send("DOM.getDocument",{depth:-1,pierce:t}),i=new Map,o=new Map,s=new Map,l=new Map,u=new Map,d=a.backendNodeId,c=[{node:a,xp:"/",docRootBe:d}];for(;c.length;){let{node:e,xp:t,docRootBe:a}=c.pop();e.backendNodeId&&(i.set(e.backendNodeId,t||"/"),o.set(e.backendNodeId,String(e.nodeName).toLowerCase()),(null==e?void 0:e.isScrollable)===!0&&s.set(e.backendNodeId,!0),l.set(e.backendNodeId,a));let d=null!=(r=e.children)?r:[];if(d.length){let e=ti(d);for(let r=d.length-1;r>=0;r--){let n=d[r],i=e[r];c.push({node:n,xp:to(t,i),docRootBe:a})}}for(let r of null!=(n=e.shadowRoots)?n:[])c.push({node:r,xp:to(t,"//"),docRootBe:a});let p=e.contentDocument;p&&"number"==typeof p.backendNodeId&&(u.set(e.backendNodeId,p.backendNodeId),c.push({node:p,xp:t,docRootBe:p.backendNodeId}))}return{rootBackend:d,absByBe:i,tagByBe:o,scrollByBe:s,docRootOf:l,contentDocRootByIframe:u}})}let E=new Map,T=new Map;for(let t of v){let r=tp(e,t),n=null!=(i=r.id)?i:"root";T.has(n)||T.set(n,r)}for(let[e,t]of T.entries()){let r=yield x(t,h);E.set(e,r)}for(let r of v){let n=tp(e,r),a=null!=(o=n.id)?o:"root",i=E.get(a);i||(i=yield x(n,h),E.set(a,i));let u=y.get(r),d=!!u&&tp(e,u)===n,c=i.rootBackend;if(d)try{let{backendNodeId:e}=yield n.send("DOM.getFrameOwner",{frameId:r});if("number"==typeof e){let t=i.contentDocRootByIframe.get(e);"number"==typeof t&&(c=t)}}catch(e){}let p={},m={},f={},g=t=>`${e.getOrdinal(r)}-${t}`,v=null!=(s=i.absByBe.get(c))?s:"/";for(let[e,t]of i.absByBe.entries()){if(i.docRootOf.get(e)!==c)continue;let r=function(e,t){let r=tr(e),n=tr(t);if(n===r)return"/";if(n.startsWith(r)){let e=n.slice(r.length);return e?e.startsWith("/")||e.startsWith("//")?e:`/${e}`:"/"}return n}(v,t),n=g(e);m[n]=r;let a=i.tagByBe.get(e);a&&(p[n]=a),i.scrollByBe.get(e)&&(f[n]=!0)}let{outline:b,urlMap:_}=yield ts(n,r,{experimental:null!=(l=null==t?void 0:t.experimental)&&l,tagNameMap:p,scrollableMap:f,encode:t=>`${e.getOrdinal(r)}-${t}`});w.push({frameId:r,outline:b}),S.set(r,{tagNameMap:p,xpathMap:m,scrollableMap:f,urlMap:_})}let O=new Map,P=new Map;O.set(f,"");let C=[f];for(;C.length;){let t=C.shift(),r=O.get(t);for(let n of v){if(y.get(n)!==t)continue;C.push(n);let a=function(e,t,r){var n;let a=null!=(n=t.get(r))?n:null;return a?e.getSessionForFrame(a):e.getSessionForFrame(r)}(e,y,n),i=yield eQ(null,null,function*(){try{let{backendNodeId:e}=yield a.send("DOM.getFrameOwner",{frameId:n});return e}catch(e){return}});if(!i){O.set(n,r);continue}let o=S.get(t),s=`${e.getOrdinal(t)}-${i}`,l=null==o?void 0:o.xpathMap[s],u=l?tt(r||"/",l):r;O.set(n,u),P.set(n,s)}}for(let e of v){let t=S.get(e);if(!t)continue;let r=null!=(u=O.get(e))?u:"";if(""===r||"/"===r){Object.assign(b,t.xpathMap),Object.assign(_,t.urlMap);continue}for(let[e,n]of Object.entries(t.xpathMap))b[e]=tt(r,n);Object.assign(_,t.urlMap)}let A=new Map;for(let{frameId:e,outline:t}of w){let r=P.get(e);r&&A.set(r,t)}return{combinedTree:function e(t,r){var n,a;let i=[],o=new Set,s=[{lines:t.split("\n"),i:0}];for(;s.length;){let t=s[s.length-1];if(t.i>=t.lines.length){s.pop();continue}let l=t.lines[t.i++];i.push(l);let u=null!=(a=null==(n=l.match(/^(\s*)/))?void 0:n[1])?a:"",d=l.slice(u.length).match(/^\[([^\]]+)]/);if(!d)continue;let c=d[1],p=r.get(c);if(!p||o.has(c))continue;o.add(c);let m=e(p,r);i.push(function(e,t){return e?e.split("\n").map(e=>(e.length,t+e)).join("\n"):""}(m.trimEnd(),u+"  "))}return i.join("\n")}(null!=(m=null!=(p=null==(d=w.find(e=>e.frameId===f))?void 0:d.outline)?p:null==(c=w[0])?void 0:c.outline)?m:"",A),combinedXpathMap:b,combinedUrlMap:_,perFrame:w.map(({frameId:e,outline:t})=>{var r,n;let a=S.get(e);return{frameId:e,outline:t,xpathMap:null!=(r=null==a?void 0:a.xpathMap)?r:{},urlMap:null!=(n=null==a?void 0:a.urlMap)?n:{}}})}})}function tt(e,t){let r="/"===e?"":e.replace(/\/$/,"");if(!t||"/"===t)return r||"/";if(t.startsWith("//"))return r?`${r}//${t.slice(2)}`:`//${t.slice(2)}`;let n=t.replace(/^\//,"");return r?`${r}/${n}`:`/${n}`}function tr(e){if(!e)return"";let t=e.trim().replace(/^xpath=/i,"");return t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function tn(e){let t="";for(let r of e)t+="desc"===r.axis?"//":"/",t+=r.raw;return t||"/"}function ta(e,t){let r=[];for(let[n,a]of e.entries())a===t&&r.push(n);return r}function ti(e){var t;let r=[],n={};for(let a of e){let e=String(a.nodeName).toLowerCase(),i=`${a.nodeType}:${e}`,o=n[i]=(null!=(t=n[i])?t:0)+1;3===a.nodeType?r.push(`text()[${o}]`):8===a.nodeType?r.push(`comment()[${o}]`):r.push(e.includes(":")?`*[name()='${e}'][${o}]`:`${e}[${o}]`)}return r}function to(e,t){return"//"===t?e&&"/"!==e?e.endsWith("/")?`${e}/`:`${e}//`:"//":e&&"/"!==e?e.endsWith("//")?`${e}${t}`:t?`${e}/${t}`:e:t?`/${t}`:"/"}function ts(e,t,r){return eQ(this,null,function*(){var n,a,i,o;yield e.send("Accessibility.enable").catch(()=>{}),yield e.send("Runtime.enable").catch(()=>{}),yield e.send("DOM.enable").catch(()=>{});let s=[];try{let r=t?{frameId:t}:{};({nodes:s}=yield e.send("Accessibility.getFullAXTree",r))}catch(i){let r=String(null!=(a=null!=(n=null==i?void 0:i.message)?n:i)?a:"");if(!(r.includes("Frame with the given")||r.includes("does not belong to the target")||r.includes("is not found"))||!t)throw i;({nodes:s}=yield e.send("Accessibility.getFullAXTree"))}let l={};for(let e of s){let t=e.backendDOMNodeId;if("number"!=typeof t)continue;let n=function(e){var t,r;let n=(null!=(t=e.properties)?t:[]).find(e=>"url"===e.name),a=null==(r=null==n?void 0:n.value)?void 0:r.value;return"string"==typeof a&&a.trim()?a.trim():void 0}(e);n&&(l[r.encode(t)]=n)}let u=!1,d=(i=yield eQ(null,null,function*(){var n,a,i;let o=null==(n=r.focusSelector)?void 0:n.trim();if(!o)return s;try{let r=/^xpath=/i.test(o)||o.startsWith("/")?yield tl(e,o,t):yield tu(e,o,t);if(!r)return s;let n=yield e.send("DOM.describeNode",{objectId:r}),l=null==(a=n.node)?void 0:a.backendNodeId;if("number"!=typeof l)return s;let d=s.find(e=>e.backendDOMNodeId===l);if(!d)return s;u=!0;let c=new Set([d.nodeId]),p=[d];for(;p.length;){let e=p.shift();for(let t of null!=(i=e.childIds)?i:[]){if(c.has(t))continue;c.add(t);let e=s.find(e=>e.nodeId===t);e&&p.push(e)}}return s.filter(e=>c.has(e.nodeId)).map(e=>e.nodeId===d.nodeId?eH(eZ({},e),{parentId:void 0}):e)}catch(e){return s}}),o=r,i.map(e=>{var t,r,n,a,i;let s;if("number"==typeof e.backendDOMNodeId)try{s=o.encode(e.backendDOMNodeId)}catch(e){}let l=String(null!=(i=null==(a=e.role)?void 0:a.value)?i:""),u=!!s&&!0===o.scrollableMap[s],d=s?o.tagNameMap[s]:void 0,c="html"===d;if((u||c)&&"#document"!==d){let e=d&&d.startsWith("#")?d.slice(1):d;l=e?`scrollable, ${e}`:`scrollable${l?`, ${l}`:""}`}return{role:l,name:null==(t=e.name)?void 0:t.value,description:null==(r=e.description)?void 0:r.value,value:null==(n=e.value)?void 0:n.value,nodeId:e.nodeId,backendDOMNodeId:e.backendDOMNodeId,parentId:e.parentId,childIds:e.childIds,encodedId:s}})),{tree:c}=yield function(e,t){return eQ(this,null,function*(){var r;let n=new Map;for(let t of e)(t.name&&t.name.trim()||t.childIds&&t.childIds.length||!td(t.role))&&n.set(t.nodeId,eZ({},t));for(let t of e){if(!t.parentId)continue;let e=n.get(t.parentId),a=n.get(t.nodeId);e&&a&&(null!=(r=e.children)?r:e.children=[]).push(a)}let a=e.filter(e=>!e.parentId&&n.has(e.nodeId)).map(e=>n.get(e.nodeId));return{tree:(yield Promise.all(a.map(function e(r){return eQ(this,null,function*(){var n;if(0>+r.nodeId)return null;let a=null!=(n=r.children)?n:[];if(!a.length)return td(r.role)?null:r;let i=function(e,t){if(!e.name)return t;let r=tc(e.name).trim(),n="";for(let e of t)"StaticText"===e.role&&e.name&&(n+=tc(e.name).trim());return n===r?t.filter(e=>"StaticText"!==e.role):t}(r,(yield Promise.all(a.map(e))).filter(Boolean));if(td(r.role)){if(1===i.length)return i[0];if(0===i.length)return null}let o=r.role;if(("generic"===o||"none"===o)&&r.encodedId){let e=t.tagNameMap[r.encodedId];e&&(o=e)}return"combobox"===o&&r.encodedId&&"select"===t.tagNameMap[r.encodedId]&&(o="select"),eH(eZ({},r),{role:o,children:i})})}))).filter(Boolean)}})}(d,r);return{outline:c.map(e=>(function e(t,r=0){var n,a,i;let o="  ".repeat(r),s=null!=(n=t.encodedId)?n:t.nodeId,l=`[${s}] ${t.role}${t.name?`: ${function(e){let t=new Set([160,8239,8199,65279]),r="",n=!1;for(let a=0;a<e.length;a++){let i=e.charCodeAt(a);if(!(i>=57344)||!(i<=63743)){if(t.has(i)){n||(r+=" ",n=!0);continue}r+=e[a],n=" "===e[a]}}return r.trim()}(t.name)}`:""}`,u=null!=(i=null==(a=t.children)?void 0:a.map(t=>e(t,r+1)).join("\n"))?i:"";return u?`${o}${l}
${u}`:`${o}${l}`})(e)).join("\n").trimEnd(),urlMap:l,scopeApplied:u}})}function tl(e,t,r){return eQ(this,null,function*(){var n;let a;try{r&&(a=yield W.waitForMainWorld(e,r,800).catch(()=>{var t;return null!=(t=W.getMainWorld(e,r))?t:void 0}))}catch(e){a=void 0}let i=`(() => {
    const xp = ${JSON.stringify(t)};
    try {
      if (window.__stagehandV3__ && typeof window.__stagehandV3__.resolveSimpleXPath === 'function') {
        return window.__stagehandV3__.resolveSimpleXPath(xp);
      }
    } catch {}
    try {
      const res = document.evaluate(xp, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
      return res.singleNodeValue;
    } catch { return null; }
  })()`,{result:o,exceptionDetails:s}=yield e.send("Runtime.evaluate",{expression:i,returnByValue:!1,contextId:a,awaitPromise:!0});return s?null:null!=(n=null==o?void 0:o.objectId)?n:null})}function tu(e,t,r){return eQ(this,null,function*(){var n;let a;try{r&&(a=yield W.waitForMainWorld(e,r,800).catch(()=>{var t;return null!=(t=W.getMainWorld(e,r))?t:void 0}))}catch(e){a=void 0}let i=`(() => {
    const selector = ${JSON.stringify(t)};
    function queryOpenDeep(root) {
      try {
        const hit = root.querySelector(selector);
        if (hit) return hit;
      } catch {}
      const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);
      let n;
      while ((n = walker.nextNode())) {
        if (n.shadowRoot) {
          const found = queryOpenDeep(n.shadowRoot);
          if (found) return found;
        }
      }
      return null;
    }
    const backdoor = window.__stagehandV3__;
    if (backdoor && typeof backdoor.getClosedRoot === 'function') {
      function* roots() {
        yield document;
        const queue = [];
        try {
          const w = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT);
          let e; while ((e = w.nextNode())) {
            if (e.shadowRoot) queue.push(e.shadowRoot);
            try { const closed = backdoor.getClosedRoot(e); if (closed) queue.push(closed); } catch {}
          }
        } catch {}
        while (queue.length) {
          const r = queue.shift();
          yield r;
          try {
            const w2 = document.createTreeWalker(r, NodeFilter.SHOW_ELEMENT);
            let e2; while ((e2 = w2.nextNode())) {
              if (e2.shadowRoot) queue.push(e2.shadowRoot);
              try { const closed2 = backdoor.getClosedRoot(e2); if (closed2) queue.push(closed2); } catch {}
            }
          } catch {}
        }
      }
      for (const r of roots()) {
        try { const hit = r.querySelector(selector); if (hit) return hit; } catch {}
      }
      return null;
    }
    return queryOpenDeep(document);
  })()`,{result:o,exceptionDetails:s}=yield e.send("Runtime.evaluate",{expression:i,returnByValue:!1,contextId:a,awaitPromise:!0});return s?null:null!=(n=null==o?void 0:o.objectId)?n:null})}function td(e){let t=null==e?void 0:e.toLowerCase();return"generic"===t||"none"===t||"inlinetextbox"===t}function tc(e){let t="",r=!1;for(let n=0;n<e.length;n++){let a=e[n];/\s/.test(a)?r||(t+=" ",r=!0):(t+=a,r=!1)}return t}function tp(e,t){return e.getSessionForFrame(t)}var tm=eW({"lib/v3/understudy/a11y/snapshot.ts"(){e3(),e6(),e0(),J=/^iframe(?:\[\d+])?$/i}}),th=eW({"lib/v3/dom/build/locatorScripts.generated.ts"(){K='if (!globalThis.__stagehandLocatorScripts) { var __stagehandLocatorScriptsFactory=(()=>{var L=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var D=(t,e)=>{for(var c in e)L(t,c,{get:e[c],enumerable:!0})},A=(t,e,c,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of k(e))!H.call(t,o)&&o!==c&&L(t,o,{get:()=>e[o],enumerable:!(n=R(e,o))||n.enumerable});return t};var _=t=>A(L({},"__esModule",{value:!0}),t);var oe={};D(oe,{assignFilePayloadsToInputElement:()=>F,countCssMatchesPierce:()=>ee,countCssMatchesPrimary:()=>Z,countTextMatches:()=>te,countXPathMatchesMainWorld:()=>ne,dispatchDomClick:()=>W,ensureFileInputElement:()=>I,fillElementValue:()=>O,focusElement:()=>V,isElementChecked:()=>B,isElementVisible:()=>Y,prepareElementForTyping:()=>T,readElementInnerHTML:()=>U,readElementInnerText:()=>j,readElementInputValue:()=>$,readElementTextContent:()=>z,resolveCssSelector:()=>K,resolveCssSelectorPierce:()=>G,resolveTextSelector:()=>J,resolveXPathMainWorld:()=>Q,scrollElementToPercent:()=>q,selectElementOptions:()=>X});function I(){try{return(this.tagName?.toLowerCase()??"")!=="input"?!1:String(this.type??"").toLowerCase()==="file"}catch{return!1}}function F(t){try{let e=this;if(!e||e.tagName?.toLowerCase()!=="input"||(e.type??"").toLowerCase()!=="file")return!1;let c=(()=>{try{return new DataTransfer}catch{return null}})();if(!c)return!1;let n=Array.isArray(t)?t:[];for(let o of n){if(!o)continue;let y=o.name||"upload.bin",u=o.mimeType||"application/octet-stream",a=typeof o.lastModified=="number"?o.lastModified:Date.now(),l=window.atob(o.base64??""),i=new Uint8Array(l.length);for(let s=0;s<l.length;s+=1)i[s]=l.charCodeAt(s);let f=new Blob([i],{type:u}),h=new File([f],y,{type:u,lastModified:a});c.items.add(h)}return e.files=c.files,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),!0}catch{return!1}}function W(t){let e=t??{};try{let c=new MouseEvent("click",{bubbles:!!e.bubbles,cancelable:!!e.cancelable,composed:!!e.composed,detail:typeof e.detail=="number"?e.detail:1,view:this?.ownerDocument?.defaultView??window});this.dispatchEvent(c)}catch{try{this.click()}catch{}}}function q(t){let e=c=>{if(typeof c=="number"&&Number.isFinite(c))return c;let n=String(c??"").trim();if(!n)return 0;let o=parseFloat(n.replace("%",""));return Number.isNaN(o)||!Number.isFinite(o)?0:o};try{let c=Math.max(0,Math.min(e(t),100)),n=this,o=n.tagName?.toLowerCase()??"";if(o==="html"||o==="body"){let h=(n.ownerDocument?.scrollingElement||n.ownerDocument?.documentElement||n.ownerDocument?.body||document.scrollingElement||document.documentElement||document.body)?.scrollHeight??document.body.scrollHeight??0,s=n.ownerDocument?.defaultView?.innerHeight??window.innerHeight,g=Math.max(0,h-s)*(c/100);return n.ownerDocument?.defaultView?.scrollTo({top:g,left:n.ownerDocument?.defaultView?.scrollX??window.scrollX??0,behavior:"smooth"}),!0}let u=n.scrollHeight??0,a=n.clientHeight??0,i=Math.max(0,u-a)*(c/100);return n.scrollTo({top:i,left:n.scrollLeft??0,behavior:"smooth"}),!0}catch{return!1}}var v=new Set(["color","date","datetime-local","month","range","time","week"]),P=new Set(["","email","number","password","search","tel","text","url"]);function T(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument||document,c=e.defaultView||window;try{typeof t.focus=="function"&&t.focus()}catch{}if(t instanceof c.HTMLInputElement||t instanceof c.HTMLTextAreaElement){try{if(typeof t.select=="function")return t.select(),!0}catch{}try{let n=(t.value??"").length;if(typeof t.setSelectionRange=="function")return t.setSelectionRange(0,n),!0}catch{}return!0}if(t.isContentEditable){let n=e.getSelection?.(),o=e.createRange?.();if(n&&o)try{o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o)}catch{}return!0}return!1}catch{return!1}}function O(t){let e=this;if(!e.isConnected)return{status:"error",reason:"notconnected"};let n=(e.ownerDocument||document).defaultView||window,o=t??"";try{let y=u=>{let a;if(typeof n.InputEvent=="function")try{a=new n.InputEvent("input",{bubbles:!0,composed:!0,data:u,inputType:"insertText"})}catch{a=new n.Event("input",{bubbles:!0,composed:!0})}else a=new n.Event("input",{bubbles:!0,composed:!0});e.dispatchEvent(a);let l=new n.Event("change",{bubbles:!0});e.dispatchEvent(l)};if(e instanceof n.HTMLInputElement){let u=(e.type||"").toLowerCase();if(!P.has(u)&&!v.has(u))return{status:"error",reason:`unsupported-input-type:${u}`};let a=t;if(u==="number"){let l=t.trim();if(l!==""&&Number.isNaN(Number(l)))return{status:"error",reason:"invalid-number-value"};a=l}if(o=a,v.has(u)){let l=t.trim();o=l,T.call(e);let i=n.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(i,"value")?.set;return typeof h=="function"?h.call(e,l):e.value=l,e._valueTracker?.setValue?.(l),e.value!==l?{status:"error",reason:"malformed-value"}:(y(l),{status:"done"})}return T.call(e),{status:"needsinput",value:a}}return e instanceof n.HTMLTextAreaElement?(T.call(e),o=t,{status:"needsinput",value:t}):e instanceof n.HTMLSelectElement?{status:"error",reason:"unsupported-element"}:e.isContentEditable?(T.call(e),o=t,{status:"needsinput",value:t}):{status:"error",reason:"unsupported-element"}}catch(y){let u="exception";if(y&&typeof y=="object"){let a=y.message;typeof a=="string"&&a.trim().length>0&&(u=`exception:${a}`)}return{status:"needsinput",value:o,reason:u}}}function V(){try{typeof this.focus=="function"&&this.focus()}catch{}}function X(t){try{if(!(this instanceof HTMLSelectElement))return[];let e=Array.isArray(t)?t:[t],c=new Set(e.map(u=>String(u??"").trim())),n=u=>{let a=(u.label||u.textContent||"").trim(),l=String(u.value??"").trim();return c.has(a)||c.has(l)};if(this.multiple)for(let u of Array.from(this.options))u.selected=n(u);else{let u=!1;for(let a of Array.from(this.options))!u&&n(a)?(a.selected=!0,this.value=a.value,u=!0):a.selected=!1}let o=new Event("input",{bubbles:!0}),y=new Event("change",{bubbles:!0});return this.dispatchEvent(o),this.dispatchEvent(y),Array.from(this.selectedOptions).map(u=>u.value)}catch{return[]}}function Y(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument?.defaultView?.getComputedStyle(t)??window.getComputedStyle(t);if(!e||e.display==="none"||e.visibility==="hidden")return!1;let c=parseFloat(e.opacity??"1");if(!Number.isFinite(c)||c===0)return!1;let n=t.getBoundingClientRect();return!(!n||Math.max(n.width,n.height)===0||t.getClientRects().length===0)}catch{return!1}}function B(){try{let t=this;if((t.tagName||"").toLowerCase()==="input"){let n=t.type?.toLowerCase()??"";if(n==="checkbox"||n==="radio")return!!t.checked}let c=t.getAttribute?.("aria-checked");return c!=null?c==="true":!1}catch{return!1}}function $(){try{let t=this,e=(t.tagName||"").toLowerCase();return e==="input"||e==="textarea"||e==="select"?String(t.value??""):t.isContentEditable?String(t.textContent??""):""}catch{return""}}function z(){try{return String(this.textContent??"")}catch{return""}}function U(){try{return String(this.innerHTML??"")}catch{return""}}function j(){try{let t=this,e=t.innerText;if(typeof e=="string"&&e.length>0)return e;let c=t.textContent;return typeof c=="string"?c:""}catch{return""}}var N=t=>{let e=Number(t??0);return!Number.isFinite(e)||e<0?0:Math.floor(e)},M=(t,e)=>{if(!t)return[];let c=new WeakSet,n=new Set,o=[],y=[document],u=a=>{if(!(!a||c.has(a)||o.length>=e)){c.add(a);try{let l=a.querySelectorAll(t);for(let i of l)if(!n.has(i)&&(n.add(i),o.push(i),o.length>=e))return}catch{}try{let i=(a instanceof Document?a:a.host?.ownerDocument??document).createTreeWalker(a,NodeFilter.SHOW_ELEMENT),f;for(;f=i.nextNode();){if(!(f instanceof Element))continue;let h=f.shadowRoot;h&&y.push(h)}}catch{}}};for(;y.length&&o.length<e;){let a=y.shift();a&&u(a)}return o};function K(t,e){let c=String(t??"").trim();if(!c)return null;let n=N(e);return M(c,n+1)[n]??null}function G(t,e){let c=String(t??"").trim();if(!c)return null;let n=N(e),o=window.__stagehandV3__;if(!o||typeof o.getClosedRoot!="function")return M(c,n+1)[n]??null;let y=h=>{try{return o.getClosedRoot(h)??null}catch{return null}},u=new WeakSet,a=new Set,l=[],i=[document],f=h=>{if(!(!h||u.has(h)||l.length>=n+1)){u.add(h);try{let s=h.querySelectorAll(c);for(let d of s)if(!a.has(d)&&(a.add(d),l.push(d),l.length>=n+1))return}catch{}try{let d=(h instanceof Document?h:h.host?.ownerDocument??document).createTreeWalker(h,NodeFilter.SHOW_ELEMENT),g;for(;g=d.nextNode();){if(!(g instanceof Element))continue;let w=g.shadowRoot;w&&i.push(w);let E=y(g);E&&i.push(E)}}catch{}}};for(;i.length&&l.length<n+1;){let h=i.shift();h&&f(h)}return l[n]??null}function J(t,e){let c=String(t??"");if(!c)return null;let n=c.toLowerCase(),o=N(e),y=new Set(["SCRIPT","STYLE","TEMPLATE","NOSCRIPT","HEAD","TITLE","LINK","META","HTML","BODY"]),u=r=>{if(!r)return!1;let p=r.tagName?.toUpperCase()??"";return y.has(p)},a=r=>{try{if(u(r))return"";let p=r.innerText;if(typeof p=="string"&&p.trim())return p.trim()}catch{}try{let p=r.textContent;if(typeof p=="string")return p.trim()}catch{}return""},l=r=>{let p=a(r);return!!p&&p.toLowerCase().includes(n)},i=window.__stagehandV3__,f=i&&typeof i.getClosedRoot=="function"?r=>{try{return i.getClosedRoot(r)??null}catch{return null}}:r=>null,h=new WeakSet,s=[],d=[],g=r=>{!r||h.has(r)||(h.add(r),s.push(r))},w=r=>{try{return(r instanceof Document?r:r?.ownerDocument??document).createTreeWalker(r,NodeFilter.SHOW_ELEMENT)}catch{return null}};for(g(document);s.length;){let r=s.shift();if(!r)continue;r instanceof Element&&l(r)&&d.push({element:r,tag:r.tagName??"",id:r.id??"",className:r.className??"",text:a(r)});let p=w(r);if(!p)continue;let x;for(;x=p.nextNode();){if(!(x instanceof Element))continue;l(x)&&d.push({element:x,tag:x.tagName??"",id:x.id??"",className:x.className??"",text:a(x)});let b=x.shadowRoot;b&&g(b);let S=f(x);S&&g(S)}}let E=[];for(let r of d){let p=r.element,x=!1;for(let b of d)if(r!==b)try{if(p.contains(b.element)){x=!0;break}}catch{}x||E.push(r)}return E[o]?.element??null}function Q(t,e){let c=String(t??"").trim();if(!c)return null;let n=N(e),o=window.__stagehandV3__;if(n===0){try{if(o&&typeof o.resolveSimpleXPath=="function"){let s=o.resolveSimpleXPath(c);if(s)return s}}catch{}try{return document.evaluate(c,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch{}}let u=(s=>{let d=String(s||"").trim();if(!d)return[];let g=d.replace(/^xpath=/i,""),w=[],E=0;for(;E<g.length;){let m="child";g.startsWith("//",E)?(m="desc",E+=2):g[E]==="/"&&(m="child",E+=1);let r=E;for(;E<g.length&&g[E]!=="/";)E+=1;let p=g.slice(r,E).trim();if(!p)continue;let x=p.match(/^(.*?)(\\[(\\d+)\\])?$/u),b=(x?.[1]??p).trim(),S=x?.[3]?Math.max(1,Number(x[3])):null,C=b===""?"*":b.toLowerCase();w.push({axis:m,tag:C,index:S})}return w})(c);if(!u.length)return null;let a=o&&typeof o.getClosedRoot=="function"?s=>{try{return o.getClosedRoot(s)??null}catch{return null}}:s=>null,l=s=>{let d=[];if(!s)return d;if(s instanceof Document)return s.documentElement&&d.push(s.documentElement),d;if(s instanceof ShadowRoot||s instanceof DocumentFragment)return d.push(...Array.from(s.children??[])),d;if(s instanceof Element){d.push(...Array.from(s.children??[]));let g=s.shadowRoot;g&&d.push(...Array.from(g.children??[]));let w=a(s);return w&&d.push(...Array.from(w.children??[])),d}return d},i=s=>{let d=[],g=new Set,w=[...l(s)];for(;w.length;){let E=w.shift();!E||g.has(E)||(g.add(E),d.push(E),w.push(...l(E)))}return d},f=[document];for(let s of u){let d=[],g=new Set;for(let w of f){if(!w)continue;let E=s.axis==="child"?l(w):i(w);if(!E.length)continue;let m=E.filter(r=>r instanceof Element?s.tag==="*"?!0:r.localName===s.tag:!1);if(s.index!=null){let r=s.index-1,p=r>=0&&r<m.length?m[r]:null;p&&!g.has(p)&&(g.add(p),d.push(p))}else for(let r of m)g.has(r)||(g.add(r),d.push(r))}if(!d.length)return null;f=d}return f[n]??null}function Z(t){let e=String(t??"").trim();if(!e)return 0;let c=new WeakSet,n=o=>{if(!o||c.has(o))return 0;c.add(o);let y=0;try{let u=o;typeof u.querySelectorAll=="function"&&(y+=u.querySelectorAll(e).length)}catch{}try{let a=(o instanceof Document?o:o?.ownerDocument??document).createTreeWalker(o,NodeFilter.SHOW_ELEMENT),l;for(;l=a.nextNode();)l instanceof Element&&l.shadowRoot&&(y+=n(l.shadowRoot))}catch{}return y};try{return n(document)}catch{try{return document.querySelectorAll(e).length}catch{return 0}}}function ee(t){let e=String(t??"").trim();if(!e)return 0;let c=window.__stagehandV3__;if(!c||typeof c.getClosedRoot!="function")try{return document.querySelectorAll(e).length}catch{return 0}let n=new WeakSet,o=[],y=l=>{!l||n.has(l)||(n.add(l),o.push(l))};y(document);let u=0,a=l=>{let i=l.shadowRoot;i&&y(i);try{let f=c.getClosedRoot(l);f&&y(f)}catch{}};for(;o.length;){let l=o.shift();if(l){try{let i=l;typeof i.querySelectorAll=="function"&&(u+=i.querySelectorAll(e).length)}catch{}try{let f=(l instanceof Document?l:l instanceof ShadowRoot?l.host?.ownerDocument??document:l.ownerDocument??document).createTreeWalker(l,NodeFilter.SHOW_ELEMENT),h;for(;h=f.nextNode();)h instanceof Element&&a(h)}catch{}}}return u}function te(t){let e=String(t??"");if(!e)return{count:0,sample:[],error:null};let c=e.toLowerCase(),n=new Set(["SCRIPT","STYLE","TEMPLATE","NOSCRIPT","HEAD","TITLE","LINK","META","HTML","BODY"]),o=m=>{if(!m)return!1;let r=m.tagName?.toUpperCase()??"";return n.has(r)},y=m=>{try{if(o(m))return"";let r=m.innerText;if(typeof r=="string"&&r.trim())return r.trim()}catch{}try{let r=m.textContent;if(typeof r=="string")return r.trim()}catch{}return""},u=m=>{let r=y(m);return!!r&&r.toLowerCase().includes(c)},a=window.__stagehandV3__,l=a&&typeof a.getClosedRoot=="function"?m=>{try{return a.getClosedRoot(m)??null}catch{return null}}:m=>null,i=new WeakSet,f=[],h=m=>{!m||i.has(m)||(i.add(m),f.push(m))},s=m=>{try{return(m instanceof Document?m:m?.ownerDocument??document).createTreeWalker(m,NodeFilter.SHOW_ELEMENT)}catch{return null}},d=[];for(h(document);f.length;){let m=f.shift();if(!m)continue;m instanceof Element&&u(m)&&d.push({element:m,tag:m.tagName??"",id:m.id??"",className:m.className??"",text:y(m)});let r=s(m);if(!r)continue;let p;for(;p=r.nextNode();){if(!(p instanceof Element))continue;u(p)&&d.push({element:p,tag:p.tagName??"",id:p.id??"",className:p.className??"",text:y(p)});let x=p.shadowRoot;x&&h(x);let b=l(p);b&&h(b)}}let g=[];for(let m of d){let r=m.element,p=!1;for(let x of d)if(m!==x)try{if(r.contains(x.element)){p=!0;break}}catch{}p||g.push(m)}let w=g.length,E=g.slice(0,5).map(m=>({tag:m.tag,id:m.id,class:m.className,text:m.text}));return{count:w,sample:E,error:null}}function ne(t){let e=String(t??"").trim();if(!e)return 0;let n=(i=>{let f=String(i||"").trim().replace(/^xpath=/i,"");if(!f)return[];let h=[],s=0;for(;s<f.length;){let d="child";f.startsWith("//",s)?(d="desc",s+=2):f[s]==="/"&&(d="child",s+=1);let g=s;for(;s<f.length&&f[s]!=="/";)s+=1;let w=f.slice(g,s).trim();if(!w)continue;let E=w.match(/^(.*?)(\\[(\\d+)\\])?$/u),m=(E?.[1]??w).trim(),r=E?.[3]?Math.max(1,Number(E[3])):null,p=m===""?"*":m.toLowerCase();h.push({axis:d,tag:p,index:r})}return h})(e);if(!n.length)return 0;let o=window.__stagehandV3__,y=o&&typeof o.getClosedRoot=="function"?i=>{try{return o.getClosedRoot(i)??null}catch{return null}}:i=>null,u=i=>{let f=[];if(!i)return f;if(i instanceof Document)return i.documentElement&&f.push(i.documentElement),f;if(i instanceof ShadowRoot||i instanceof DocumentFragment)return f.push(...Array.from(i.children??[])),f;if(i instanceof Element){f.push(...Array.from(i.children??[]));let h=i.shadowRoot;h&&f.push(...Array.from(h.children??[]));let s=y(i);return s&&f.push(...Array.from(s.children??[])),f}return f},a=i=>{let f=[],h=new Set,s=[...u(i)];for(;s.length;){let d=s.shift();!d||h.has(d)||(h.add(d),f.push(d),s.push(...u(d)))}return f},l=[document];for(let i of n){let f=[],h=new Set;for(let s of l){if(!s)continue;let d=i.axis==="child"?u(s):a(s);if(!d.length)continue;let g=d.filter(w=>w instanceof Element?i.tag==="*"?!0:w.localName===i.tag:!1);if(i.index!=null){let w=i.index-1,E=w>=0&&w<g.length?g[w]:null;E&&!h.has(E)&&(h.add(E),f.push(E))}else for(let w of g)h.has(w)||(h.add(w),f.push(w))}if(!f.length)return 0;l=f}return l.length}return _(oe);})();\n  globalThis.__stagehandLocatorScripts = __stagehandLocatorScriptsFactory;\n}',Y={assignFilePayloadsToInputElement:'function k(t){try{let e=this;if(!e||e.tagName?.toLowerCase()!=="input"||(e.type??"").toLowerCase()!=="file")return!1;let i=(()=>{try{return new DataTransfer}catch{return null}})();if(!i)return!1;let n=Array.isArray(t)?t:[];for(let s of n){if(!s)continue;let y=s.name||"upload.bin",u=s.mimeType||"application/octet-stream",a=typeof s.lastModified=="number"?s.lastModified:Date.now(),l=window.atob(s.base64??""),c=new Uint8Array(l.length);for(let r=0;r<l.length;r+=1)c[r]=l.charCodeAt(r);let f=new Blob([c],{type:u}),h=new File([f],y,{type:u,lastModified:a});i.items.add(h)}return e.files=i.files,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),!0}catch{return!1}}',countCssMatchesPierce:'function K(t){let e=String(t??"").trim();if(!e)return 0;let i=window.__stagehandV3__;if(!i||typeof i.getClosedRoot!="function")try{return document.querySelectorAll(e).length}catch{return 0}let n=new WeakSet,s=[],y=l=>{!l||n.has(l)||(n.add(l),s.push(l))};y(document);let u=0,a=l=>{let c=l.shadowRoot;c&&y(c);try{let f=i.getClosedRoot(l);f&&y(f)}catch{}};for(;s.length;){let l=s.shift();if(l){try{let c=l;typeof c.querySelectorAll=="function"&&(u+=c.querySelectorAll(e).length)}catch{}try{let f=(l instanceof Document?l:l instanceof ShadowRoot?l.host?.ownerDocument??document:l.ownerDocument??document).createTreeWalker(l,NodeFilter.SHOW_ELEMENT),h;for(;h=f.nextNode();)h instanceof Element&&a(h)}catch{}}}return u}',countCssMatchesPrimary:'function j(t){let e=String(t??"").trim();if(!e)return 0;let i=new WeakSet,n=s=>{if(!s||i.has(s))return 0;i.add(s);let y=0;try{let u=s;typeof u.querySelectorAll=="function"&&(y+=u.querySelectorAll(e).length)}catch{}try{let a=(s instanceof Document?s:s?.ownerDocument??document).createTreeWalker(s,NodeFilter.SHOW_ELEMENT),l;for(;l=a.nextNode();)l instanceof Element&&l.shadowRoot&&(y+=n(l.shadowRoot))}catch{}return y};try{return n(document)}catch{try{return document.querySelectorAll(e).length}catch{return 0}}}',countTextMatches:'function G(t){let e=String(t??"");if(!e)return{count:0,sample:[],error:null};let i=e.toLowerCase(),n=new Set(["SCRIPT","STYLE","TEMPLATE","NOSCRIPT","HEAD","TITLE","LINK","META","HTML","BODY"]),s=m=>{if(!m)return!1;let o=m.tagName?.toUpperCase()??"";return n.has(o)},y=m=>{try{if(s(m))return"";let o=m.innerText;if(typeof o=="string"&&o.trim())return o.trim()}catch{}try{let o=m.textContent;if(typeof o=="string")return o.trim()}catch{}return""},u=m=>{let o=y(m);return!!o&&o.toLowerCase().includes(i)},a=window.__stagehandV3__,l=a&&typeof a.getClosedRoot=="function"?m=>{try{return a.getClosedRoot(m)??null}catch{return null}}:m=>null,c=new WeakSet,f=[],h=m=>{!m||c.has(m)||(c.add(m),f.push(m))},r=m=>{try{return(m instanceof Document?m:m?.ownerDocument??document).createTreeWalker(m,NodeFilter.SHOW_ELEMENT)}catch{return null}},d=[];for(h(document);f.length;){let m=f.shift();if(!m)continue;m instanceof Element&&u(m)&&d.push({element:m,tag:m.tagName??"",id:m.id??"",className:m.className??"",text:y(m)});let o=r(m);if(!o)continue;let p;for(;p=o.nextNode();){if(!(p instanceof Element))continue;u(p)&&d.push({element:p,tag:p.tagName??"",id:p.id??"",className:p.className??"",text:y(p)});let x=p.shadowRoot;x&&h(x);let b=l(p);b&&h(b)}}let g=[];for(let m of d){let o=m.element,p=!1;for(let x of d)if(m!==x)try{if(o.contains(x.element)){p=!0;break}}catch{}p||g.push(m)}let w=g.length,E=g.slice(0,5).map(m=>({tag:m.tag,id:m.id,class:m.className,text:m.text}));return{count:w,sample:E,error:null}}',countXPathMatchesMainWorld:'function J(t){let e=String(t??"").trim();if(!e)return 0;let n=(c=>{let f=String(c||"").trim().replace(/^xpath=/i,"");if(!f)return[];let h=[],r=0;for(;r<f.length;){let d="child";f.startsWith("//",r)?(d="desc",r+=2):f[r]==="/"&&(d="child",r+=1);let g=r;for(;r<f.length&&f[r]!=="/";)r+=1;let w=f.slice(g,r).trim();if(!w)continue;let E=w.match(/^(.*?)(\\[(\\d+)\\])?$/u),m=(E?.[1]??w).trim(),o=E?.[3]?Math.max(1,Number(E[3])):null,p=m===""?"*":m.toLowerCase();h.push({axis:d,tag:p,index:o})}return h})(e);if(!n.length)return 0;let s=window.__stagehandV3__,y=s&&typeof s.getClosedRoot=="function"?c=>{try{return s.getClosedRoot(c)??null}catch{return null}}:c=>null,u=c=>{let f=[];if(!c)return f;if(c instanceof Document)return c.documentElement&&f.push(c.documentElement),f;if(c instanceof ShadowRoot||c instanceof DocumentFragment)return f.push(...Array.from(c.children??[])),f;if(c instanceof Element){f.push(...Array.from(c.children??[]));let h=c.shadowRoot;h&&f.push(...Array.from(h.children??[]));let r=y(c);return r&&f.push(...Array.from(r.children??[])),f}return f},a=c=>{let f=[],h=new Set,r=[...u(c)];for(;r.length;){let d=r.shift();!d||h.has(d)||(h.add(d),f.push(d),r.push(...u(d)))}return f},l=[document];for(let c of n){let f=[],h=new Set;for(let r of l){if(!r)continue;let d=c.axis==="child"?u(r):a(r);if(!d.length)continue;let g=d.filter(w=>w instanceof Element?c.tag==="*"?!0:w.localName===c.tag:!1);if(c.index!=null){let w=c.index-1,E=w>=0&&w<g.length?g[w]:null;E&&!h.has(E)&&(h.add(E),f.push(E))}else for(let w of g)h.has(w)||(h.add(w),f.push(w))}if(!f.length)return 0;l=f}return l.length}',dispatchDomClick:'function H(t){let e=t??{};try{let i=new MouseEvent("click",{bubbles:!!e.bubbles,cancelable:!!e.cancelable,composed:!!e.composed,detail:typeof e.detail=="number"?e.detail:1,view:this?.ownerDocument?.defaultView??window});this.dispatchEvent(i)}catch{try{this.click()}catch{}}}',ensureFileInputElement:'function R(){try{return(this.tagName?.toLowerCase()??"")!=="input"?!1:String(this.type??"").toLowerCase()==="file"}catch{return!1}}',fillElementValue:'function A(t){let e=this;if(!e.isConnected)return{status:"error",reason:"notconnected"};let n=(e.ownerDocument||document).defaultView||window,s=t??"";try{let y=u=>{let a;if(typeof n.InputEvent=="function")try{a=new n.InputEvent("input",{bubbles:!0,composed:!0,data:u,inputType:"insertText"})}catch{a=new n.Event("input",{bubbles:!0,composed:!0})}else a=new n.Event("input",{bubbles:!0,composed:!0});e.dispatchEvent(a);let l=new n.Event("change",{bubbles:!0});e.dispatchEvent(l)};if(e instanceof n.HTMLInputElement){let u=(e.type||"").toLowerCase();if(!C.has(u)&&!L.has(u))return{status:"error",reason:`unsupported-input-type:${u}`};let a=t;if(u==="number"){let l=t.trim();if(l!==""&&Number.isNaN(Number(l)))return{status:"error",reason:"invalid-number-value"};a=l}if(s=a,L.has(u)){let l=t.trim();s=l,S.call(e);let c=n.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value")?.set;return typeof h=="function"?h.call(e,l):e.value=l,e._valueTracker?.setValue?.(l),e.value!==l?{status:"error",reason:"malformed-value"}:(y(l),{status:"done"})}return S.call(e),{status:"needsinput",value:a}}return e instanceof n.HTMLTextAreaElement?(S.call(e),s=t,{status:"needsinput",value:t}):e instanceof n.HTMLSelectElement?{status:"error",reason:"unsupported-element"}:e.isContentEditable?(S.call(e),s=t,{status:"needsinput",value:t}):{status:"error",reason:"unsupported-element"}}catch(y){let u="exception";if(y&&typeof y=="object"){let a=y.message;typeof a=="string"&&a.trim().length>0&&(u=`exception:${a}`)}return{status:"needsinput",value:s,reason:u}}}',focusElement:'function _(){try{typeof this.focus=="function"&&this.focus()}catch{}}',isElementChecked:'function W(){try{let t=this;if((t.tagName||"").toLowerCase()==="input"){let n=t.type?.toLowerCase()??"";if(n==="checkbox"||n==="radio")return!!t.checked}let i=t.getAttribute?.("aria-checked");return i!=null?i==="true":!1}catch{return!1}}',isElementVisible:'function F(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument?.defaultView?.getComputedStyle(t)??window.getComputedStyle(t);if(!e||e.display==="none"||e.visibility==="hidden")return!1;let i=parseFloat(e.opacity??"1");if(!Number.isFinite(i)||i===0)return!1;let n=t.getBoundingClientRect();return!(!n||Math.max(n.width,n.height)===0||t.getClientRects().length===0)}catch{return!1}}',prepareElementForTyping:'function S(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument||document,i=e.defaultView||window;try{typeof t.focus=="function"&&t.focus()}catch{}if(t instanceof i.HTMLInputElement||t instanceof i.HTMLTextAreaElement){try{if(typeof t.select=="function")return t.select(),!0}catch{}try{let n=(t.value??"").length;if(typeof t.setSelectionRange=="function")return t.setSelectionRange(0,n),!0}catch{}return!0}if(t.isContentEditable){let n=e.getSelection?.(),s=e.createRange?.();if(n&&s)try{s.selectNodeContents(t),n.removeAllRanges(),n.addRange(s)}catch{}return!0}return!1}catch{return!1}}',readElementInnerHTML:'function O(){try{return String(this.innerHTML??"")}catch{return""}}',readElementInnerText:'function V(){try{let t=this,e=t.innerText;if(typeof e=="string"&&e.length>0)return e;let i=t.textContent;return typeof i=="string"?i:""}catch{return""}}',readElementInputValue:'function q(){try{let t=this,e=(t.tagName||"").toLowerCase();return e==="input"||e==="textarea"||e==="select"?String(t.value??""):t.isContentEditable?String(t.textContent??""):""}catch{return""}}',readElementTextContent:'function P(){try{return String(this.textContent??"")}catch{return""}}',resolveCssSelector:'function Y(t,e){let i=String(t??"").trim();if(!i)return null;let n=N(e);return v(i,n+1)[n]??null}',resolveCssSelectorPierce:'function B(t,e){let i=String(t??"").trim();if(!i)return null;let n=N(e),s=window.__stagehandV3__;if(!s||typeof s.getClosedRoot!="function")return v(i,n+1)[n]??null;let y=h=>{try{return s.getClosedRoot(h)??null}catch{return null}},u=new WeakSet,a=new Set,l=[],c=[document],f=h=>{if(!(!h||u.has(h)||l.length>=n+1)){u.add(h);try{let r=h.querySelectorAll(i);for(let d of r)if(!a.has(d)&&(a.add(d),l.push(d),l.length>=n+1))return}catch{}try{let d=(h instanceof Document?h:h.host?.ownerDocument??document).createTreeWalker(h,NodeFilter.SHOW_ELEMENT),g;for(;g=d.nextNode();){if(!(g instanceof Element))continue;let w=g.shadowRoot;w&&c.push(w);let E=y(g);E&&c.push(E)}}catch{}}};for(;c.length&&l.length<n+1;){let h=c.shift();h&&f(h)}return l[n]??null}',resolveTextSelector:'function $(t,e){let i=String(t??"");if(!i)return null;let n=i.toLowerCase(),s=N(e),y=new Set(["SCRIPT","STYLE","TEMPLATE","NOSCRIPT","HEAD","TITLE","LINK","META","HTML","BODY"]),u=o=>{if(!o)return!1;let p=o.tagName?.toUpperCase()??"";return y.has(p)},a=o=>{try{if(u(o))return"";let p=o.innerText;if(typeof p=="string"&&p.trim())return p.trim()}catch{}try{let p=o.textContent;if(typeof p=="string")return p.trim()}catch{}return""},l=o=>{let p=a(o);return!!p&&p.toLowerCase().includes(n)},c=window.__stagehandV3__,f=c&&typeof c.getClosedRoot=="function"?o=>{try{return c.getClosedRoot(o)??null}catch{return null}}:o=>null,h=new WeakSet,r=[],d=[],g=o=>{!o||h.has(o)||(h.add(o),r.push(o))},w=o=>{try{return(o instanceof Document?o:o?.ownerDocument??document).createTreeWalker(o,NodeFilter.SHOW_ELEMENT)}catch{return null}};for(g(document);r.length;){let o=r.shift();if(!o)continue;o instanceof Element&&l(o)&&d.push({element:o,tag:o.tagName??"",id:o.id??"",className:o.className??"",text:a(o)});let p=w(o);if(!p)continue;let x;for(;x=p.nextNode();){if(!(x instanceof Element))continue;l(x)&&d.push({element:x,tag:x.tagName??"",id:x.id??"",className:x.className??"",text:a(x)});let b=x.shadowRoot;b&&g(b);let T=f(x);T&&g(T)}}let E=[];for(let o of d){let p=o.element,x=!1;for(let b of d)if(o!==b)try{if(p.contains(b.element)){x=!0;break}}catch{}x||E.push(o)}return E[s]?.element??null}',resolveXPathMainWorld:'function z(t,e){let i=String(t??"").trim();if(!i)return null;let n=N(e),s=window.__stagehandV3__;if(n===0){try{if(s&&typeof s.resolveSimpleXPath=="function"){let r=s.resolveSimpleXPath(i);if(r)return r}}catch{}try{return document.evaluate(i,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch{}}let u=(r=>{let d=String(r||"").trim();if(!d)return[];let g=d.replace(/^xpath=/i,""),w=[],E=0;for(;E<g.length;){let m="child";g.startsWith("//",E)?(m="desc",E+=2):g[E]==="/"&&(m="child",E+=1);let o=E;for(;E<g.length&&g[E]!=="/";)E+=1;let p=g.slice(o,E).trim();if(!p)continue;let x=p.match(/^(.*?)(\\[(\\d+)\\])?$/u),b=(x?.[1]??p).trim(),T=x?.[3]?Math.max(1,Number(x[3])):null,M=b===""?"*":b.toLowerCase();w.push({axis:m,tag:M,index:T})}return w})(i);if(!u.length)return null;let a=s&&typeof s.getClosedRoot=="function"?r=>{try{return s.getClosedRoot(r)??null}catch{return null}}:r=>null,l=r=>{let d=[];if(!r)return d;if(r instanceof Document)return r.documentElement&&d.push(r.documentElement),d;if(r instanceof ShadowRoot||r instanceof DocumentFragment)return d.push(...Array.from(r.children??[])),d;if(r instanceof Element){d.push(...Array.from(r.children??[]));let g=r.shadowRoot;g&&d.push(...Array.from(g.children??[]));let w=a(r);return w&&d.push(...Array.from(w.children??[])),d}return d},c=r=>{let d=[],g=new Set,w=[...l(r)];for(;w.length;){let E=w.shift();!E||g.has(E)||(g.add(E),d.push(E),w.push(...l(E)))}return d},f=[document];for(let r of u){let d=[],g=new Set;for(let w of f){if(!w)continue;let E=r.axis==="child"?l(w):c(w);if(!E.length)continue;let m=E.filter(o=>o instanceof Element?r.tag==="*"?!0:o.localName===r.tag:!1);if(r.index!=null){let o=r.index-1,p=o>=0&&o<m.length?m[o]:null;p&&!g.has(p)&&(g.add(p),d.push(p))}else for(let o of m)g.has(o)||(g.add(o),d.push(o))}if(!d.length)return null;f=d}return f[n]??null}',scrollElementToPercent:'function D(t){let e=i=>{if(typeof i=="number"&&Number.isFinite(i))return i;let n=String(i??"").trim();if(!n)return 0;let s=parseFloat(n.replace("%",""));return Number.isNaN(s)||!Number.isFinite(s)?0:s};try{let i=Math.max(0,Math.min(e(t),100)),n=this,s=n.tagName?.toLowerCase()??"";if(s==="html"||s==="body"){let h=(n.ownerDocument?.scrollingElement||n.ownerDocument?.documentElement||n.ownerDocument?.body||document.scrollingElement||document.documentElement||document.body)?.scrollHeight??document.body.scrollHeight??0,r=n.ownerDocument?.defaultView?.innerHeight??window.innerHeight,g=Math.max(0,h-r)*(i/100);return n.ownerDocument?.defaultView?.scrollTo({top:g,left:n.ownerDocument?.defaultView?.scrollX??window.scrollX??0,behavior:"smooth"}),!0}let u=n.scrollHeight??0,a=n.clientHeight??0,c=Math.max(0,u-a)*(i/100);return n.scrollTo({top:c,left:n.scrollLeft??0,behavior:"smooth"}),!0}catch{return!1}}',selectElementOptions:'function I(t){try{if(!(this instanceof HTMLSelectElement))return[];let e=Array.isArray(t)?t:[t],i=new Set(e.map(u=>String(u??"").trim())),n=u=>{let a=(u.label||u.textContent||"").trim(),l=String(u.value??"").trim();return i.has(a)||i.has(l)};if(this.multiple)for(let u of Array.from(this.options))u.selected=n(u);else{let u=!1;for(let a of Array.from(this.options))!u&&n(a)?(a.selected=!0,this.value=a.value,u=!0):a.selected=!1}let s=new Event("input",{bubbles:!0}),y=new Event("change",{bubbles:!0});return this.dispatchEvent(s),this.dispatchEvent(y),Array.from(this.selectedOptions).map(u=>u.value)}catch{return[]}}'},X={assignFilePayloadsToInputElement:"globalThis.__stagehandLocatorScripts.assignFilePayloadsToInputElement",countCssMatchesPierce:"globalThis.__stagehandLocatorScripts.countCssMatchesPierce",countCssMatchesPrimary:"globalThis.__stagehandLocatorScripts.countCssMatchesPrimary",countTextMatches:"globalThis.__stagehandLocatorScripts.countTextMatches",countXPathMatchesMainWorld:"globalThis.__stagehandLocatorScripts.countXPathMatchesMainWorld",dispatchDomClick:"globalThis.__stagehandLocatorScripts.dispatchDomClick",ensureFileInputElement:"globalThis.__stagehandLocatorScripts.ensureFileInputElement",fillElementValue:"globalThis.__stagehandLocatorScripts.fillElementValue",focusElement:"globalThis.__stagehandLocatorScripts.focusElement",isElementChecked:"globalThis.__stagehandLocatorScripts.isElementChecked",isElementVisible:"globalThis.__stagehandLocatorScripts.isElementVisible",prepareElementForTyping:"globalThis.__stagehandLocatorScripts.prepareElementForTyping",readElementInnerHTML:"globalThis.__stagehandLocatorScripts.readElementInnerHTML",readElementInnerText:"globalThis.__stagehandLocatorScripts.readElementInnerText",readElementInputValue:"globalThis.__stagehandLocatorScripts.readElementInputValue",readElementTextContent:"globalThis.__stagehandLocatorScripts.readElementTextContent",resolveCssSelector:"globalThis.__stagehandLocatorScripts.resolveCssSelector",resolveCssSelectorPierce:"globalThis.__stagehandLocatorScripts.resolveCssSelectorPierce",resolveTextSelector:"globalThis.__stagehandLocatorScripts.resolveTextSelector",resolveXPathMainWorld:"globalThis.__stagehandLocatorScripts.resolveXPathMainWorld",scrollElementToPercent:"globalThis.__stagehandLocatorScripts.scrollElementToPercent",selectElementOptions:"globalThis.__stagehandLocatorScripts.selectElementOptions"}}}),tf=eW({"lib/v3/understudy/selectorResolver.ts"(){th(),e6(),e3(),Q=class{constructor(e){this.frame=e}static parseSelector(e){let t=e.trim(),r=/^text=/i.test(t),n=/^xpath=/i.test(t)||t.startsWith("/")||t.startsWith("("),a=/^css=/i.test(t);if(r){let e=t.replace(/^text=/i,"").trim();return(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.slice(1,-1)),{kind:"text",value:e}}if(n)return{kind:"xpath",value:t.replace(/^xpath=/i,"")};let i=a?t.replace(/^css=/i,""):t;return i.includes(">>")&&(i=i.split(">>").map(e=>e.trim()).filter(Boolean).join(" ")),{kind:"css",value:i}}resolveFirst(e){return eQ(this,null,function*(){return this.resolveAtIndex(e,0)})}resolveAll(e){return eQ(this,arguments,function*(e,{limit:t=1/0}={}){if(t<=0)return[];switch(e.kind){case"css":return this.resolveCss(e.value,t);case"text":return this.resolveText(e.value,t);case"xpath":return this.resolveXPath(e.value,t);default:return[]}})}count(e){return eQ(this,null,function*(){switch(e.kind){case"css":return this.countCss(e.value);case"text":return this.countText(e.value);case"xpath":return this.countXPath(e.value);default:return 0}})}resolveAtIndex(e,t){return eQ(this,null,function*(){var r;return t<0||!Number.isFinite(t)?null:null!=(r=(yield this.resolveAll(e,{limit:t+1}))[t])?r:null})}buildLocatorInvocation(e,t){let r=`${X[e]}(${t.join(", ")})`;return`(() => { ${K}; return ${r}; })()`}resolveCss(e,t){return eQ(this,null,function*(){if(t<=0)return[];let r=this.frame.session,{executionContextId:n}=yield r.send("Page.createIsolatedWorld",{frameId:this.frame.frameId,worldName:"v3-world"}),a=yield W.waitForMainWorld(r,this.frame.frameId,1e3),i=[],o=!1;for(let r=0;r<t;r+=1){let t=this.buildLocatorInvocation("resolveCssSelector",[JSON.stringify(e),String(r)]),s=yield this.evaluateElement(t,n);if(s){i.push(s);continue}o||(e4({category:"locator",message:"css pierce-fallback",level:2,auxiliary:{frameId:{value:String(this.frame.frameId),type:"string"},selector:{value:e,type:"string"}}}),o=!0);let l=this.buildLocatorInvocation("resolveCssSelectorPierce",[JSON.stringify(e),String(r)]),u=yield this.evaluateElement(l,a);if(u){i.push(u);continue}break}return i})}resolveText(e,t){return eQ(this,null,function*(){if(t<=0)return[];let r=this.frame.session,n=yield W.waitForMainWorld(r,this.frame.frameId,1e3),a=[];for(let r=0;r<t;r+=1){let t=this.buildLocatorInvocation("resolveTextSelector",[JSON.stringify(e),String(r)]),i=yield this.evaluateElement(t,n);if(!i)break;a.push(i)}return a})}resolveXPath(e,t){return eQ(this,null,function*(){if(t<=0)return[];let r=this.frame.session,n=yield W.waitForMainWorld(r,this.frame.frameId,1e3);e4({category:"locator",message:"xpath main-world",level:2,auxiliary:{frameId:{value:String(this.frame.frameId),type:"string"},xp:{value:e,type:"string"},ctxId:{value:String(n),type:"string"}}});let a=[];for(let r=0;r<t;r+=1){let t=this.buildLocatorInvocation("resolveXPathMainWorld",[JSON.stringify(e),String(r)]),i=yield this.evaluateElement(t,n);if(!i)break;a.push(i)}return a})}countCss(e){return eQ(this,null,function*(){let t=this.frame.session,{executionContextId:r}=yield t.send("Page.createIsolatedWorld",{frameId:this.frame.frameId,worldName:"v3-world"}),n=this.buildLocatorInvocation("countCssMatchesPrimary",[JSON.stringify(e)]),a=yield this.evaluateCount(n,r),i=yield W.waitForMainWorld(t,this.frame.frameId,1e3),o=this.buildLocatorInvocation("countCssMatchesPierce",[JSON.stringify(e)]);return Math.max(a,(yield this.evaluateCount(o,i)))})}countText(e){return eQ(this,null,function*(){var t,r,n,a,i,o;let s=this.frame.session,l=yield W.waitForMainWorld(s,this.frame.frameId,1e3),u=this.buildLocatorInvocation("countTextMatches",[JSON.stringify(e)]);try{let d=yield s.send("Runtime.evaluate",{expression:u,contextId:l,returnByValue:!0,awaitPromise:!0});if(d.exceptionDetails){let o=d.exceptionDetails;return e4({category:"locator",message:"count text evaluate exception",level:0,auxiliary:{frameId:{value:String(this.frame.frameId),type:"string"},selector:{value:e,type:"string"},exception:{value:null!=(i=o.text)?i:String(null!=(a=null!=(n=null==(t=o.exception)?void 0:t.description)?n:null==(r=o.exception)?void 0:r.value)?a:""),type:"string"}}}),0}let c=null!=(o=d.result.value)?o:{},p="number"==typeof c.count?c.count:Number(c.count);if(!Number.isFinite(p))return 0;return Math.max(0,Math.floor(p))}catch(e){return 0}})}countXPath(e){return eQ(this,null,function*(){let t=this.frame.session,r=yield W.waitForMainWorld(t,this.frame.frameId,1e3),n=this.buildLocatorInvocation("countXPathMatchesMainWorld",[JSON.stringify(e)]);try{let e=yield t.send("Runtime.evaluate",{expression:n,contextId:r,returnByValue:!0,awaitPromise:!0});if(e.exceptionDetails)return 0;let a="number"==typeof e.result.value?e.result.value:Number(e.result.value);if(!Number.isFinite(a))return 0;return Math.max(0,Math.floor(a))}catch(e){return 0}})}resolveFromObjectId(e){return eQ(this,null,function*(){var t;let r=this.frame.session,n=null;try{let a=yield r.send("DOM.requestNode",{objectId:e});n=null!=(t=a.nodeId)?t:null}catch(e){n=null}return{objectId:e,nodeId:n}})}evaluateCount(e,t){return eQ(this,null,function*(){let r=this.frame.session;try{let n=yield r.send("Runtime.evaluate",{expression:e,contextId:t,returnByValue:!0,awaitPromise:!0});if(n.exceptionDetails)return 0;let a=n.result.value,i="number"==typeof a?a:Number(a);if(!Number.isFinite(i))return 0;return Math.max(0,Math.floor(i))}catch(e){return 0}})}evaluateElement(e,t){return eQ(this,null,function*(){let r=this.frame.session;try{let n=yield r.send("Runtime.evaluate",{expression:e,contextId:t,returnByValue:!1,awaitPromise:!0});if(n.exceptionDetails||!n.result.objectId)return null;return this.resolveFromObjectId(n.result.objectId)}catch(e){return null}})}}}}),tg=eW({"lib/v3/understudy/fileUploadUtils.ts"(){ee=e.r(22734),et=eX(e.r(14747)),er=e.r(874),e0(),en="application/octet-stream"}}),ty=eW({"lib/v3/understudy/locator.ts"(){ea=eX(e.r(22734)),ei=eX(e.r(46786)),eo=eX(e.r(14747)),th(),tf(),e0(),tg(),es=class e{constructor(e,t,r,n=0){this.frame=e,this.selector=t,this.options=r,this.selectorResolver=new Q(this.frame),this.selectorQuery=Q.parseSelector(t),this.nthIndex=Math.max(0,Math.floor(Number.isFinite(n)?n:0))}getFrame(){return this.frame}setInputFiles(e){return eQ(this,null,function*(){let t=this.frame.session,{objectId:r}=yield this.resolveNode(),n=[];try{try{if(!(yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.ensureFileInputElement,returnByValue:!0})).result.value)throw new b('Target is not an <input type="file"> element')}catch(e){throw new b(e instanceof Error?e.message:"Unable to verify file input element")}let a=yield function(e){return eQ(this,arguments,function*(e,t={}){var r;if(null==e)return[];let n=Array.isArray(e)?e:[e];if(!n.length)return[];let a=null!=(r=t.baseDir)?r:process.cwd(),i=[];for(let e of n){if("string"==typeof e){let t=et.default.isAbsolute(e)?e:et.default.resolve(a,e),r=yield function(e){return eQ(this,null,function*(){try{return yield ee.promises.stat(e)}catch(t){if("ENOENT"===(null==t?void 0:t.code))throw new b(`setInputFiles(): file not found at ${e}`);throw t}})}(t);if(!r.isFile())throw new b(`setInputFiles(): expected a file but received directory or special entry at ${t}`);let n=yield ee.promises.readFile(t);i.push({name:et.default.basename(t)||"upload.bin",mimeType:en,buffer:n,lastModified:r.mtimeMs||Date.now(),absolutePath:t});continue}if(e&&"object"==typeof e&&"buffer"in e){let t=function(e){if(er.Buffer.isBuffer(e))return e;if(e instanceof Uint8Array||"string"==typeof e)return er.Buffer.from(e);if(e instanceof ArrayBuffer)return er.Buffer.from(new Uint8Array(e));throw new b("Unsupported file payload buffer type")}(e.buffer);i.push({name:e.name||"upload.bin",mimeType:e.mimeType||en,buffer:t,lastModified:"number"==typeof e.lastModified?e.lastModified:Date.now()});continue}throw new b("setInputFiles(): expected file path(s) or payload object(s)")}return i})}(e);if(!a.length)return void(yield t.send("DOM.setFileInputFiles",{objectId:r,files:[]}));if(this.frame.isBrowserRemote())return void(yield this.assignFilesViaPayloadInjection(r,a));let i=[];for(let e of a){if(e.absolutePath){i.push(e.absolutePath);continue}let t=eo.extname(e.name),r=eo.join(ei.tmpdir(),`stagehand-upload-${Date.now()}-${Math.random().toString(36).slice(2)}${t}`);yield ea.promises.writeFile(r,e.buffer),n.push(r),i.push(r)}yield t.send("DOM.setFileInputFiles",{objectId:r,files:i})}finally{for(let e of(yield t.send("Runtime.releaseObject",{objectId:r}).catch(()=>{}),n))try{yield ea.promises.unlink(e)}catch(e){}}})}assignFilesViaPayloadInjection(e,t){return eQ(this,null,function*(){var r;let n=this.frame.session;for(let e of t)if(e.buffer.length>0x3200000)throw new b(`setInputFiles(): file "${e.name}" is larger than the 50MB limit for remote uploads`);let a=t.map(e=>({name:e.name,mimeType:e.mimeType,lastModified:e.lastModified,base64:e.buffer.toString("base64")}));if(!(null==(r=(yield n.send("Runtime.callFunctionOn",{objectId:e,functionDeclaration:Y.assignFilePayloadsToInputElement,arguments:[{value:a}],returnByValue:!0})).result)?void 0:r.value))throw new b("Unable to assign file payloads to remote input element")})}backendNodeId(){return eQ(this,null,function*(){let e=this.frame.session,{objectId:t}=yield this.resolveNode();try{yield e.send("DOM.enable").catch(()=>{});let{node:r}=yield e.send("DOM.describeNode",{objectId:t});return r.backendNodeId}finally{yield e.send("Runtime.releaseObject",{objectId:t}).catch(()=>{})}})}count(){return eQ(this,null,function*(){let e=this.frame.session;return yield e.send("Runtime.enable"),yield e.send("DOM.enable"),this.selectorResolver.count(this.selectorQuery)})}centroid(){return eQ(this,null,function*(){let e=this.frame.session,{objectId:t}=yield this.resolveNode();try{yield e.send("DOM.scrollIntoViewIfNeeded",{objectId:t}).catch(()=>{});let r=yield e.send("DOM.getBoxModel",{objectId:t});if(!r.model)throw new U(this.selector);let{cx:n,cy:a}=this.centerFromBoxContent(r.model.content);return{x:Math.round(n),y:Math.round(a)}}finally{yield e.send("Runtime.releaseObject",{objectId:t}).catch(()=>{})}})}highlight(e){return eQ(this,null,function*(){var t,r,n;let a=this.frame.session,{objectId:i}=yield this.resolveNode(),o=Math.max(0,null!=(t=null==e?void 0:e.durationMs)?t:800),s=null!=(r=null==e?void 0:e.borderColor)?r:{r:255,g:0,b:0,a:.9},l=null!=(n=null==e?void 0:e.contentColor)?n:{r:255,g:200,b:0,a:.2};try{let e;yield a.send("Overlay.enable").catch(()=>{}),yield a.send("DOM.scrollIntoViewIfNeeded",{objectId:i}).catch(()=>{}),yield a.send("DOM.enable").catch(()=>{});try{let{node:t}=yield a.send("DOM.describeNode",{objectId:i});e=t.backendNodeId}catch(t){e=void 0}let t={showInfo:!1,showStyles:!1,showRulers:!1,showExtensionLines:!1,borderColor:s,contentColor:l},r=()=>eQ(this,null,function*(){yield a.send("Overlay.highlightNode",eH(eZ({},e?{backendNodeId:e}:{objectId:i}),{highlightConfig:t}))});if(yield r(),o>0){let e=Date.now(),t=Math.min(300,Math.max(100,Math.floor(o/50)));for(;Date.now()-e<o;){yield new Promise(e=>setTimeout(e,t));try{yield r()}catch(e){}}yield a.send("Overlay.hideHighlight").catch(()=>{})}}finally{yield a.send("Runtime.releaseObject",{objectId:i}).catch(()=>{})}})}hover(){return eQ(this,null,function*(){let e=this.frame.session,{objectId:t}=yield this.resolveNode();try{yield e.send("DOM.scrollIntoViewIfNeeded",{objectId:t}).catch(()=>{});let r=yield e.send("DOM.getBoxModel",{objectId:t});if(!r.model)throw new U(this.selector);let{cx:n,cy:a}=this.centerFromBoxContent(r.model.content);yield e.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:n,y:a,button:"none"})}finally{yield e.send("Runtime.releaseObject",{objectId:t}).catch(()=>{})}})}click(e){return eQ(this,null,function*(){var t,r;let n=this.frame.session,{objectId:a}=yield this.resolveNode(),i=null!=(t=null==e?void 0:e.button)?t:"left",o=null!=(r=null==e?void 0:e.clickCount)?r:1;try{yield n.send("DOM.scrollIntoViewIfNeeded",{objectId:a});let e=yield n.send("DOM.getBoxModel",{objectId:a});if(!e.model)throw new U(this.selector);let{cx:t,cy:r}=this.centerFromBoxContent(e.model.content);yield n.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:t,y:r,button:"none"}),yield n.send("Input.dispatchMouseEvent",{type:"mousePressed",x:t,y:r,button:i,clickCount:o}),yield n.send("Input.dispatchMouseEvent",{type:"mouseReleased",x:t,y:r,button:i,clickCount:o})}finally{try{yield n.send("Runtime.releaseObject",{objectId:a})}catch(e){}}})}sendClickEvent(e){return eQ(this,null,function*(){var t,r,n,a;let i=this.frame.session,{objectId:o}=yield this.resolveNode(),s=null==(t=null==e?void 0:e.bubbles)||t,l=null==(r=null==e?void 0:e.cancelable)||r,u=null==(n=null==e?void 0:e.composed)||n,d=null!=(a=null==e?void 0:e.detail)?a:1;try{yield i.send("DOM.scrollIntoViewIfNeeded",{objectId:o}).catch(()=>{}),yield i.send("Runtime.callFunctionOn",{objectId:o,functionDeclaration:Y.dispatchDomClick,arguments:[{value:{bubbles:s,cancelable:l,composed:u,detail:d}}],returnByValue:!0})}finally{yield i.send("Runtime.releaseObject",{objectId:o}).catch(()=>{})}})}scrollTo(e){return eQ(this,null,function*(){let t=this.frame.session,{objectId:r}=yield this.resolveNode();try{yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.scrollElementToPercent,arguments:[{value:e}],returnByValue:!0})}finally{yield t.send("Runtime.releaseObject",{objectId:r}).catch(()=>{})}})}fill(e){return eQ(this,null,function*(){let t=this.frame.session,{objectId:r}=yield this.resolveNode(),n=!0;try{let a=(yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.fillElementValue,arguments:[{value:e}],returnByValue:!0})).result.value,i="object"==typeof a&&a?a.status:void 0;if("done"===i)return;if("needsinput"===i){yield t.send("Runtime.releaseObject",{objectId:r}).catch(()=>{}),n=!1;let i="string"==typeof(null==a?void 0:a.value)?a.value:e,o=!1;try{let{objectId:e}=yield this.resolveNode();try{o=!!(yield t.send("Runtime.callFunctionOn",{objectId:e,functionDeclaration:Y.prepareElementForTyping,returnByValue:!0})).result.value}finally{yield t.send("Runtime.releaseObject",{objectId:e}).catch(()=>{})}}catch(e){}if(!o&&i.length>0)return void(yield this.type(i));0===i.length?(yield t.send("Input.dispatchKeyEvent",{type:"keyDown",key:"Backspace",code:"Backspace",windowsVirtualKeyCode:8,nativeVirtualKeyCode:8}),yield t.send("Input.dispatchKeyEvent",{type:"keyUp",key:"Backspace",code:"Backspace",windowsVirtualKeyCode:8,nativeVirtualKeyCode:8})):yield t.send("Input.insertText",{text:i});return}if("error"===i){let e="string"==typeof(null==a?void 0:a.reason)&&a.reason.length>0?a.reason:"Failed to fill element";throw new b(`Failed to fill element (${e})`)}i||(yield this.type(e))}finally{n&&(yield t.send("Runtime.releaseObject",{objectId:r}).catch(()=>{}))}})}type(e,t){return eQ(this,null,function*(){let r=this.frame.session,{objectId:n}=yield this.resolveNode();try{if(yield r.send("Runtime.callFunctionOn",{objectId:n,functionDeclaration:Y.focusElement,returnByValue:!0}),!(null==t?void 0:t.delay))return void(yield r.send("Input.insertText",{text:e}));for(let n of e)yield r.send("Input.dispatchKeyEvent",{type:"keyDown",text:n,key:n}),yield r.send("Input.dispatchKeyEvent",{type:"keyUp",text:n,key:n}),yield new Promise(e=>setTimeout(e,t.delay))}finally{yield r.send("Runtime.releaseObject",{objectId:n})}})}selectOption(e){return eQ(this,null,function*(){var t;let r=this.frame.session,n=Array.isArray(e)?e:[e],{objectId:a}=yield this.resolveNode();try{let e=yield r.send("Runtime.callFunctionOn",{objectId:a,functionDeclaration:Y.selectElementOptions,arguments:[{value:n}],returnByValue:!0});return null!=(t=e.result.value)?t:[]}finally{yield r.send("Runtime.releaseObject",{objectId:a})}})}isVisible(){return eQ(this,null,function*(){let e=this.frame.session,{objectId:t}=yield this.resolveNode();try{return!!(yield e.send("Runtime.callFunctionOn",{objectId:t,functionDeclaration:Y.isElementVisible,returnByValue:!0})).result.value}finally{yield e.send("Runtime.releaseObject",{objectId:t})}})}isChecked(){return eQ(this,null,function*(){let e=this.frame.session,{objectId:t}=yield this.resolveNode();try{return!!(yield e.send("Runtime.callFunctionOn",{objectId:t,functionDeclaration:Y.isElementChecked,returnByValue:!0})).result.value}finally{yield e.send("Runtime.releaseObject",{objectId:t})}})}inputValue(){return eQ(this,null,function*(){var e;let t=this.frame.session,{objectId:r}=yield this.resolveNode();try{let n=yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.readElementInputValue,returnByValue:!0});return String(null!=(e=n.result.value)?e:"")}finally{yield t.send("Runtime.releaseObject",{objectId:r})}})}textContent(){return eQ(this,null,function*(){var e;let t=this.frame.session,{objectId:r}=yield this.resolveNode();try{let n=yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.readElementTextContent,returnByValue:!0});return String(null!=(e=n.result.value)?e:"")}finally{yield t.send("Runtime.releaseObject",{objectId:r})}})}innerHtml(){return eQ(this,null,function*(){var e;let t=this.frame.session,{objectId:r}=yield this.resolveNode();try{let n=yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.readElementInnerHTML,returnByValue:!0});return String(null!=(e=n.result.value)?e:"")}finally{yield t.send("Runtime.releaseObject",{objectId:r})}})}innerText(){return eQ(this,null,function*(){var e;let t=this.frame.session,{objectId:r}=yield this.resolveNode();try{let n=yield t.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:Y.readElementInnerText,returnByValue:!0});return String(null!=(e=n.result.value)?e:"")}finally{yield t.send("Runtime.releaseObject",{objectId:r})}})}first(){return this}nth(t){let r=Number(t);if(!Number.isFinite(r)||r<0)throw new b("locator().nth() expects a non-negative index");let n=Math.floor(r);return n===this.nthIndex?this:new e(this.frame,this.selector,this.options,n)}resolveNode(){return eQ(this,null,function*(){let e=this.frame.session;yield e.send("Runtime.enable"),yield e.send("DOM.enable");let t=yield this.selectorResolver.resolveAtIndex(this.selectorQuery,this.nthIndex);if(!t)throw new _([this.selector]);return t})}centerFromBoxContent(e){if(!e||e.length<8)throw new b("Invalid box model content quad");let t=[e[0],e[2],e[4],e[6]],r=[e[1],e[3],e[5],e[7]];return{cx:(t[0]+t[1]+t[2]+t[3])/4,cy:(r[0]+r[1]+r[2]+r[3])/4}}}}});function tv(e,t,r){return new el(e,r,void 0,t)}var tb=eW({"lib/v3/understudy/frameLocator.ts"(){e3(),e0(),el=class e{constructor(e,t,r,n){this.page=e,this.selector=t,this.parent=r,this.root=n}frameLocator(t){return new e(this.page,t,this)}resolveFrame(){return eQ(this,null,function*(){var e;let t=this.parent?yield this.parent.resolveFrame():null!=(e=this.root)?e:this.page.mainFrame(),r=t.locator(this.selector),n=t.session,{objectId:a}=yield r.resolveNode();try{yield n.send("DOM.enable").catch(()=>{});let e=(yield n.send("DOM.describeNode",{objectId:a})).node.backendNodeId;for(let r of yield function(e,t,r){return eQ(this,null,function*(){var r,n;let a=Date.now()+1e3;for(;;){try{let i=e.getFullFrameTree(),o=function e(t,r){var n;if(t.frame.id===r)return t;for(let a of null!=(n=t.childFrames)?n:[]){let t=e(a,r);if(t)return t}}(i,t),s=null!=(n=null==(r=null==o?void 0:o.childFrames)?void 0:r.map(e=>e.frame.id))?n:[];if(s.length>0||Date.now()>=a)return s}catch(e){}yield new Promise(e=>setTimeout(e,50))}})}(this.page,t.frameId,0))try{if((yield n.send("DOM.getFrameOwner",{frameId:r})).backendNodeId===e)return yield function(e,t,r,n){return eQ(this,null,function*(){let n=t.session,a=Date.now()+1200,i=e.getSessionForFrame(r);if(i&&i!==n){try{yield W.waitForMainWorld(i,r,600)}catch(e){}return}let o=()=>{try{return null!==W.getMainWorld(n,r)}catch(e){return!1}};o()||(yield n.send("Page.setLifecycleEventsEnabled",{enabled:!0}).catch(()=>{}),yield n.send("Runtime.enable").catch(()=>{}),yield new Promise(t=>{let i=!1,s=()=>{i||(i=!0,n.off("Page.lifecycleEvent",l),t())},l=t=>{if(t.frameId===r&&("DOMContentLoaded"===t.name||"load"===t.name||"networkIdle"===t.name||"networkidle"===t.name)){if(o())return s();try{let t=e.getSessionForFrame(r);if(t&&t!==n){let e=Math.max(150,a-Date.now());W.waitForMainWorld(t,r,e).finally(s)}}catch(e){}}};n.on("Page.lifecycleEvent",l);let u=()=>{if(!i){if(o())return s();try{let t=e.getSessionForFrame(r);if(t&&t!==n){let e=Math.max(150,a-Date.now());W.waitForMainWorld(t,r,e).finally(s);return}}catch(e){}if(Date.now()>=a)return s();setTimeout(u,50)}};u()}))})}(this.page,t,r,0),this.page.frameForId(r)}catch(e){}throw new P(this.selector)}finally{yield n.send("Runtime.releaseObject",{objectId:a}).catch(()=>{})}})}locator(e){return new eu(this,e)}},eu=class{constructor(e,t){this.fl=e,this.sel=t}real(){return eQ(this,null,function*(){return(yield this.fl.resolveFrame()).locator(this.sel)})}click(e){return eQ(this,null,function*(){return(yield this.real()).click(e)})}hover(){return eQ(this,null,function*(){return(yield this.real()).hover()})}fill(e){return eQ(this,null,function*(){return(yield this.real()).fill(e)})}type(e,t){return eQ(this,null,function*(){return(yield this.real()).type(e,t)})}selectOption(e){return eQ(this,null,function*(){return(yield this.real()).selectOption(e)})}scrollTo(e){return eQ(this,null,function*(){return(yield this.real()).scrollTo(e)})}isVisible(){return eQ(this,null,function*(){return(yield this.real()).isVisible()})}isChecked(){return eQ(this,null,function*(){return(yield this.real()).isChecked()})}inputValue(){return eQ(this,null,function*(){return(yield this.real()).inputValue()})}textContent(){return eQ(this,null,function*(){return(yield this.real()).textContent()})}innerHtml(){return eQ(this,null,function*(){return(yield this.real()).innerHtml()})}innerText(){return eQ(this,null,function*(){return(yield this.real()).innerText()})}count(){return eQ(this,null,function*(){return(yield this.real()).count()})}first(){return this}}}});function t_(e){let t="";for(let r of e)t+="desc"===r.axis?"//":"/",t+=r.raw;return t||"/"}function tw(e,t,r){return eQ(this,null,function*(){let n=r.trim(),a=n.split(">>").map(e=>e.trim()).filter(Boolean);if(a.length>1){let r=tv(e,t,a[0]);for(let e=1;e<a.length-1;e++)r=r.frameLocator(a[e]);let n=yield r.resolveFrame();return new es(n,a[a.length-1])}return n.startsWith("xpath=")||n.startsWith("/")?function(e,t,r){return eQ(this,null,function*(){let n,a=r.trim();a.startsWith("xpath=")&&(a=a.slice(6).trim()),a.startsWith("/")||(a="/"+a);let i=function(e){let t=e.trim(),r=0,n=[];for(;r<t.length;){let e="child";t.startsWith("//",r)?(e="desc",r+=2):"/"===t[r]&&(e="child",r+=1);let a=r;for(;r<t.length&&"/"!==t[r];)r++;let i=t.slice(a,r).trim();if(!i)continue;let o=i.replace(/\[\d+\]\s*$/u,"").toLowerCase();n.push({axis:e,raw:i,name:o})}return n}(a),o=[],s=()=>{if(!o.length)return;let r="xpath="+t_(o);e4({category:"deep-hop",message:"resolving iframe via FrameLocator",level:2,auxiliary:{selectorForIframe:{value:r,type:"string"},rootFrameId:{value:String(t.frameId),type:"string"}}}),n=n?n.frameLocator(r):tv(e,t,r),o=[]};for(let e of i)o.push(e),ed.test(e.name)&&s();let l="xpath="+t_(o),u=n?yield n.resolveFrame():t;return e4({category:"deep-hop",message:"final tail",level:2,auxiliary:{frameId:{value:String(u.frameId),type:"string"},finalSelector:{value:l,type:"string"}}}),new es(u,l)})}(e,t,n):new es(t,n)})}var tS=eW({"lib/v3/understudy/deepLocator.ts"(){ty(),e6(),tb(),e0(),ed=/^iframe(?:\[\d+])?$/i,ec=class e{constructor(e,t,r,n=0){this.page=e,this.root=t,this.selector=r,this.nthIndex=n}real(){return eQ(this,null,function*(){return(yield tw(this.page,this.root,this.selector)).nth(this.nthIndex)})}click(e){return eQ(this,null,function*(){return(yield this.real()).click(e)})}count(){return eQ(this,null,function*(){return(yield this.real()).count()})}hover(){return eQ(this,null,function*(){return(yield this.real()).hover()})}fill(e){return eQ(this,null,function*(){return(yield this.real()).fill(e)})}type(e,t){return eQ(this,null,function*(){return(yield this.real()).type(e,t)})}selectOption(e){return eQ(this,null,function*(){return(yield this.real()).selectOption(e)})}scrollTo(e){return eQ(this,null,function*(){return(yield this.real()).scrollTo(e)})}isVisible(){return eQ(this,null,function*(){return(yield this.real()).isVisible()})}isChecked(){return eQ(this,null,function*(){return(yield this.real()).isChecked()})}inputValue(){return eQ(this,null,function*(){return(yield this.real()).inputValue()})}textContent(){return eQ(this,null,function*(){return(yield this.real()).textContent()})}innerHtml(){return eQ(this,null,function*(){return(yield this.real()).innerHtml()})}innerText(){return eQ(this,null,function*(){return(yield this.real()).innerText()})}centroid(){return eQ(this,null,function*(){return(yield this.real()).centroid()})}backendNodeId(){return eQ(this,null,function*(){return(yield this.real()).backendNodeId()})}highlight(e){return eQ(this,null,function*(){return(yield this.real()).highlight(e)})}sendClickEvent(e){return eQ(this,null,function*(){return(yield this.real()).sendClickEvent(e)})}setInputFiles(e){return eQ(this,null,function*(){return(yield this.real()).setInputFiles(e)})}first(){return this.nth(0)}nth(t){let r=Number(t);if(!Number.isFinite(r)||r<0)throw new b("deepLocator().nth() expects a non-negative index");let n=Math.floor(r);return n===this.nthIndex?this:new e(this.page,this.root,this.selector,n)}}}}),tk=eJ({"../../node_modules/.pnpm/escape-string-regexp@4.0.0/node_modules/escape-string-regexp/index.js"(e,t){"use strict";t.exports=e=>{if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}}),tx=eJ({"../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js"(e,t){function r(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}t.exports=function(e,t){t=t||{};var n,a,i,o,s=typeof e;if("string"===s&&e.length>0){var l=e;if(!((l=String(l)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(u){var d=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*d;case"weeks":case"week":case"w":return 6048e5*d;case"days":case"day":case"d":return 864e5*d;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*d;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*d;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:break}}}return}if("number"===s&&isFinite(e)){return t.long?(a=Math.abs(n=e))>=864e5?r(n,a,864e5,"day"):a>=36e5?r(n,a,36e5,"hour"):a>=6e4?r(n,a,6e4,"minute"):a>=1e3?r(n,a,1e3,"second"):n+" ms":(o=Math.abs(i=e))>=864e5?Math.round(i/864e5)+"d":o>=36e5?Math.round(i/36e5)+"h":o>=6e4?Math.round(i/6e4)+"m":o>=1e3?Math.round(i/1e3)+"s":i+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}}),tE=eJ({"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/common.js"(e,t){t.exports=function(e){function t(e){let n,a,i,o=null;function s(...e){if(!s.enabled)return;let r=Number(new Date);s.diff=r-(n||r),s.prev=n,s.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";a++;let i=t.formatters[n];if("function"==typeof i){let t=e[a];r=i.call(s,t),e.splice(a,1),a--}return r}),t.formatArgs.call(s,e),(s.log||t.log).apply(s,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(a!==t.namespaces&&(a=t.namespaces,i=t.enabled(e)),i),set:e=>{o=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e,t){let r=0,n=0,a=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(a=n,i=r):r++,n++;else{if(-1===a)return!1;n=a+1,r=++i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let r of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(let r of t.skips)if(n(e,r))return!1;for(let r of t.names)if(n(e,r))return!0;return!1},t.humanize=tx(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}}}),tT=eJ({"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/browser.js"(e,t){let r;e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(a=n))}),e.splice(a,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(e){}},e.load=function(){let t;try{t=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch(e){}return!t&&"u">typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){let e;return!("u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("u">typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"u">typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(e){}}(),r=!1,e.destroy=()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=tE()(e);var{formatters:n}=t.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}}),tO=eJ({"../../node_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js"(e,t){"use strict";t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),a=t.indexOf("--");return -1!==n&&(-1===a||n<a)}}}),tI=eJ({"../../node_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js"(t,r){"use strict";e.r(46786);var n,a=e.r(70722),i=tO(),{env:o}=process;function s(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===n)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===o.TERM)return r;if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:r;if("TEAMCITY_VERSION"in o)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION);if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?n=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),r.exports={supportsColor:function(e){return s(l(e,e&&e.isTTY))},stdout:s(l(!0,a.isatty(1))),stderr:s(l(!0,a.isatty(2)))}}}),tP=eJ({"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/node.js"(t,r){var n=e.r(70722),a=e.r(24361);t.init=function(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(a.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(e){let{namespace:n,useColors:a}=this;if(a){let t=this.color,a="\x1b[3"+(t<8?t:"8;5;"+t),i=`  ${a};1m${n} \x1b[0m`;e[0]=i+e[0].split("\n").join("\n"+i),e.push(a+"m+"+r.exports.humanize(this.diff)+"\x1b[0m")}else e[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+e[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=a.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=tI();e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),r.exports=tE()(t);var{formatters:i}=r.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,a.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,a.inspect(e,this.inspectOpts)}}}),tC=eJ({"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/index.js"(e,t){"u"<typeof process||"renderer"===process.type||process.__nwjs?t.exports=tT():t.exports=tP()}}),tA=eJ({"../../node_modules/.pnpm/is-docker@2.2.1/node_modules/is-docker/index.js"(t,r){"use strict";var n,a=e.r(22734);r.exports=()=>(void 0===n&&(n=function(){try{return a.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return a.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),n)}}),tj=eJ({"../../node_modules/.pnpm/is-wsl@2.2.0/node_modules/is-wsl/index.js"(t,r){"use strict";e.r(46786),e.r(22734),tA();var n=()=>!1;process.env.__IS_WSL_TEST__?r.exports=n:r.exports=n()}}),tz=eW({"lib/v3/understudy/consoleMessage.ts"(){ep=class{constructor(e,t){this.event=e,this.pageRef=t}type(){return this.event.type}text(){let e=this.args();return e.length?e.map(e=>(function(e){var t;if(!e)return"";if("value"in e){let t=e.value;if(void 0===t)return"";if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return String(t)}}return e.unserializableValue?e.unserializableValue:e.description?e.description:null!=(t=e.type)?t:""})(e)).filter(e=>e.length>0).join(" "):""}args(){return this.event.args?[...this.event.args]:[]}location(){var e,t;let r=null==(t=null==(e=this.event.stackTrace)?void 0:e.callFrames)?void 0:t[0];return{url:null==r?void 0:r.url,lineNumber:null==r?void 0:r.lineNumber,columnNumber:null==r?void 0:r.columnNumber}}page(){return this.pageRef}timestamp(){return this.event.timestamp}raw(){return this.event}toString(){return this.text()}}}});function tR(e){return e.toLowerCase()}function tN(e){return e.split(/\r?\n/).map(e=>e.trim()).filter(Boolean)}var t$=eW({"lib/v3/understudy/response.ts"(){e0(),em=class e{constructor(e){var t;for(const[r,n]of(this.headersArrayCache=null,this.allHeadersCache=null,this.headerValuesMap=new Map,this.finishedDeferred=function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}(),this.finishedSettled=!1,this.extraInfoHeaders=null,this.page=e.page,this.session=e.session,this.requestId=e.requestId,this.frameId=e.frameId,this.loaderId=e.loaderId,this.response=e.response,this.fromServiceWorkerFlag=e.fromServiceWorker,e.response.remoteIPAddress&&void 0!==e.response.remotePort?this.serverAddress={ipAddress:e.response.remoteIPAddress,port:e.response.remotePort}:this.serverAddress=null,this.headersObject={},Object.entries(null!=(t=this.response.headers)?t:{}))){const e=tR(r);if(void 0===n)continue;const t=tN(String(n));this.headerValuesMap.set(e,t),this.headersObject[e]=t.join(", ")}}url(){return this.response.url}status(){return this.response.status}statusText(){return this.response.statusText}ok(){let e=this.status();return e>=200&&e<=299}frame(){if(!this.frameId)return null;try{return this.page.frameForId(this.frameId)}catch(e){return null}}fromServiceWorker(){return this.fromServiceWorkerFlag}securityDetails(){return eQ(this,null,function*(){var e;return null!=(e=this.response.securityDetails)?e:null})}serverAddr(){return eQ(this,null,function*(){var e;return null!=(e=this.serverAddress)?e:null})}headers(){return eZ({},this.headersObject)}allHeaders(){return eQ(this,null,function*(){var e,t;if(this.allHeadersCache)return eZ({},this.allHeadersCache);let r=null!=(t=null!=(e=this.extraInfoHeaders)?e:this.response.headers)?t:{},n={};for(let[e,t]of Object.entries(r))n[e]=String(t);return this.allHeadersCache=n,eZ({},n)})}headerValue(e){return eQ(this,null,function*(){let t=yield this.headerValues(e);return t.length?t.join(", "):null})}headerValues(e){return eQ(this,null,function*(){var t;let r=tR(e);if(this.extraInfoHeaders){let n=null!=(t=this.extraInfoHeaders[e])?t:this.extraInfoHeaders[r];if(void 0!==n)return tN(String(n))}let n=this.headerValuesMap.get(r);return n?[...n]:[]})}headersArray(){return eQ(this,null,function*(){var e,t;if(this.headersArrayCache)return[...this.headersArrayCache];let r=function(e){if(!e)return[];let t=e.split(/\r?\n/),r=[];for(let e of t){if(!e||e.startsWith("HTTP/"))continue;let t=e.indexOf(":");if(-1===t)continue;let n=e.slice(0,t).trim(),a=e.slice(t+1).trim();r.push({name:n,value:a})}return r}(this.extraInfoHeadersText);if(r.length>0)return this.headersArrayCache=r,[...r];let n=[];for(let[r,a]of Object.entries(null!=(t=null!=(e=this.extraInfoHeaders)?e:this.response.headers)?t:{}))for(let e of tN(String(a)))n.push({name:r,value:e});return this.headersArrayCache=n,[...n]})}body(){return eQ(this,null,function*(){let e=yield this.session.send("Network.getResponseBody",{requestId:this.requestId}).catch(e=>{throw new L(String(e))});return e.base64Encoded?Buffer.from(e.body,"base64"):Buffer.from(e.body,"utf-8")})}text(){return eQ(this,null,function*(){return(yield this.body()).toString("utf-8")})}json(){return eQ(this,null,function*(){let e=yield this.text();try{return JSON.parse(e)}catch(e){throw new q(String(e))}})}finished(){return eQ(this,null,function*(){return this.finishedDeferred.promise})}applyExtraInfo(e){var t;for(let[r,n]of(this.extraInfoHeaders=e.headers,this.extraInfoHeadersText=e.headersText,this.allHeadersCache=null,this.headersArrayCache=null,this.headersObject={},this.headerValuesMap.clear(),Object.entries(null!=(t=e.headers)?t:{}))){let e=tR(r),t=tN(String(n));this.headerValuesMap.set(e,t),this.headersObject[e]=t.join(", ")}}static fromSerializable(t,r){var n;let a=new e({page:r.page,session:r.session,requestId:t.requestId,frameId:t.frameId,loaderId:t.loaderId,response:t.response,fromServiceWorker:null!=(n=t.fromServiceWorkerFlag)&&n});return t.extraInfoHeaders&&a.applyExtraInfo({requestId:t.requestId,headers:t.extraInfoHeaders,headersText:t.extraInfoHeadersText}),t.finishedSettled&&a.markFinished(null),a}markFinished(e){this.finishedSettled||(this.finishedSettled=!0,e?this.finishedDeferred.resolve(e):this.finishedDeferred.resolve(null))}}}}),tM=eW({"lib/v3/understudy/frame.ts"(){ty(),e0(),eh=class e{constructor(e,t,r,n){var a;this.session=e,this.frameId=t,this.pageId=r,this.remoteBrowser=n,this.sessionId=null!=(a=this.session.id)?a:null}isBrowserRemote(){return this.remoteBrowser}getNodeAtLocation(e,t){return eQ(this,null,function*(){yield this.session.send("DOM.enable");let{backendNodeId:r}=yield this.session.send("DOM.getNodeForLocation",{x:e,y:t,includeUserAgentShadowDOM:!0,ignorePointerEventsNone:!1}),{node:n}=yield this.session.send("DOM.describeNode",{backendNodeId:r});return n})}getLocationForSelector(e){return eQ(this,null,function*(){yield this.session.send("DOM.enable");let{root:t}=yield this.session.send("DOM.getDocument"),{nodeId:r}=yield this.session.send("DOM.querySelector",{nodeId:t.nodeId,selector:e}),{model:n}=yield this.session.send("DOM.getBoxModel",{nodeId:r}),a=n.content[0],i=n.content[1];return{x:a,y:i,width:n.width,height:n.height}})}getAccessibilityTree(e=!1){return eQ(this,null,function*(){var t,r;yield this.session.send("Accessibility.enable");let n=[];try{({nodes:n}=yield this.session.send("Accessibility.getFullAXTree",{frameId:this.frameId}))}catch(a){let e=String(null!=(r=null!=(t=null==a?void 0:a.message)?t:a)?r:"");if(!(e.includes("Frame with the given")||e.includes("does not belong to the target")||e.includes("is not found")))throw a;({nodes:n}=yield this.session.send("Accessibility.getFullAXTree"))}if(!e)return n;for(let e of yield this.childFrames()){let t=yield e.getAccessibilityTree(!1);n.push(...t)}return n})}evaluate(e,t){return eQ(this,null,function*(){var r;let n;yield this.session.send("Runtime.enable").catch(()=>{});let a=yield this.getExecutionContextId();if("string"==typeof e)n=String(e);else{let r=e.toString(),a=JSON.stringify(t);n=`(() => {
        const __fn = ${r};
        const __arg = ${a};
        try {
          const __res = __fn(__arg);
          return Promise.resolve(__res).then(v => {
            try { return JSON.parse(JSON.stringify(v)); } catch { return v; }
          });
        } catch (e) { throw e; }
      })()`}let i=yield this.session.send("Runtime.evaluate",{expression:n,contextId:a,awaitPromise:!0,returnByValue:!0});if(i.exceptionDetails)throw new x(null!=(r=i.exceptionDetails.text)?r:"Evaluation failed");return i.result.value})}screenshot(e){return eQ(this,null,function*(){var t;yield this.session.send("Page.enable");let r=null!=(t=null==e?void 0:e.type)?t:"png",n={format:r,fromSurface:!0,captureBeyondViewport:null==e?void 0:e.fullPage},a="number"==typeof(null==e?void 0:e.scale)?Math.min(2,Math.max(.1,e.scale)):void 0;(null==e?void 0:e.clip)?n.clip={x:e.clip.x,y:e.clip.y,width:e.clip.width,height:e.clip.height,scale:null!=a?a:1}:void 0!==a&&1!==a&&(n.scale=a),"jpeg"===r&&"number"==typeof(null==e?void 0:e.quality)&&(n.quality=Math.min(100,Math.max(0,Math.round(e.quality))));let{data:i}=yield this.session.send("Page.captureScreenshot",n);return Buffer.from(i,"base64")})}childFrames(){return eQ(this,null,function*(){let{frameTree:t}=yield this.session.send("Page.getFrameTree"),r=[],n=t=>{var a;t.frame.parentId===this.frameId&&r.push(new e(this.session,t.frame.id,this.pageId,this.remoteBrowser)),null==(a=t.childFrames)||a.forEach(n)};return n(t),r})}waitForLoadState(e="load"){return eQ(this,null,function*(){yield this.session.send("Page.enable"),yield new Promise(t=>{let r=n=>{n.frameId===this.frameId&&n.name===e&&(this.session.off("Page.lifecycleEvent",r),t())};this.session.on("Page.lifecycleEvent",r)})})}locator(e,t){return new es(this,e,t)}getExecutionContextId(){return eQ(this,null,function*(){yield this.session.send("Page.enable"),yield this.session.send("Runtime.enable");let{executionContextId:e}=yield this.session.send("Page.createIsolatedWorld",{frameId:this.frameId,worldName:"v3-world"});return e})}}}});function tD(e){return{id:e,loaderId:"",url:"",domainAndRegistry:"",securityOrigin:"",mimeType:"text/html",secureContextType:"InsecureScheme",crossOriginIsolatedContextType:"NotIsolated",gatedAPIFeatures:[]}}var tF=eW({"lib/v3/understudy/frameRegistry.ts"(){ef=class{constructor(e,t){this.frames=new Map,this.framesBySession=new Map,this.ownerTargetId=e,this.rootFrameId=t,this.ensureNode(t)}onFrameAttached(e,t,r){if(!t&&e!==this.rootFrameId){this.renameNodeId(this.rootFrameId,e),this.rootFrameId=e,this.setOwnerSessionIdInternal(e,r);return}this.ensureNode(e),t&&this.ensureNode(t),this.frames.get(e).parentId=null!=t?t:null,t&&this.frames.get(t).children.add(e),this.setOwnerSessionIdInternal(e,r)}onFrameNavigated(e,t){this.ensureNode(e.id),this.frames.get(e.id).lastSeen=e,this.setOwnerSessionIdInternal(e.id,t),"parentId"in e&&e.parentId||e.id===this.rootFrameId||(this.renameNodeId(this.rootFrameId,e.id),this.rootFrameId=e.id)}onNavigatedWithinDocument(e,t,r){var n;this.ensureNode(e);let a=this.frames.get(e),i=null!=(n=a.lastSeen)?n:tD(e);a.lastSeen=eH(eZ({},i),{url:t}),this.setOwnerSessionIdInternal(e,r)}onFrameDetached(e,t="remove"){if("swap"===t)return;let r=[],n=e=>{var t,a;for(let i of(r.push(e),null!=(a=null==(t=this.frames.get(e))?void 0:t.children)?a:new Set))n(i)};for(let t of(n(e),r)){let e=this.frames.get(t);if(e){if(e.parentId){let r=this.frames.get(e.parentId);null==r||r.children.delete(t)}if(e.ownerSessionId){let r=this.framesBySession.get(e.ownerSessionId);null==r||r.delete(t),r&&0===r.size&&this.framesBySession.delete(e.ownerSessionId)}this.frames.delete(t)}}if(!this.frames.has(this.rootFrameId)){let e=this.frames.keys().next();e.done||(this.rootFrameId=e.value)}}adoptChildSession(e,t){this.setOwnerSessionIdInternal(t,e)}seedFromFrameTree(e,t){let r=(t,n)=>{var a;for(let i of(this.ensureNode(t.frame.id),this.frames.get(t.frame.id).parentId=n,n&&this.frames.get(n).children.add(t.frame.id),this.frames.get(t.frame.id).lastSeen=t.frame,this.frames.get(t.frame.id).ownerSessionId||this.setOwnerSessionIdInternal(t.frame.id,e),null!=(a=t.childFrames)?a:[]))r(i,t.frame.id)};r(t,null)}setOwnerBackendNodeId(e,t){this.ensureNode(e),this.frames.get(e).ownerBackendNodeId=t}mainFrameId(){return this.rootFrameId}getOwnerSessionId(e){var t;return null==(t=this.frames.get(e))?void 0:t.ownerSessionId}getOwnerBackendNodeId(e){var t;return null==(t=this.frames.get(e))?void 0:t.ownerBackendNodeId}getParent(e){var t,r;return null!=(r=null==(t=this.frames.get(e))?void 0:t.parentId)?r:null}listAllFrames(){let e=[],t=r=>{var n,a;for(let i of(e.push(r),null!=(a=null==(n=this.frames.get(r))?void 0:n.children)?a:new Set))t(i)};return this.frames.has(this.rootFrameId)&&t(this.rootFrameId),e}asProtocolFrameTree(e){let t=e=>{var r,n;let a=this.frames.get(e),i=null!=(r=null==a?void 0:a.lastSeen)?r:tD(e),o=null!=(n=null==a?void 0:a.children)?n:new Set,s=o.size?[...o].map(e=>t(e)):void 0;return s?{frame:i,childFrames:s}:{frame:i}};return t(e)}sessionsForFrame(e){let t=this.frames.get(e);return(null==t?void 0:t.ownerSessionId)?[t.ownerSessionId]:[]}framesForSession(e){var t;return[...null!=(t=this.framesBySession.get(e))?t:new Set]}ensureNode(e){this.frames.has(e)||this.frames.set(e,{parentId:null,children:new Set,lastSeen:tD(e),ownerSessionId:void 0,ownerBackendNodeId:void 0})}renameNodeId(e,t){if(e===t)return;this.ensureNode(e);let r=this.frames.get(e);if(this.frames.delete(e),this.frames.set(t,eZ({},r)),r.parentId){let n=this.frames.get(r.parentId);n&&(n.children.delete(e),n.children.add(t))}for(let e of r.children){let r=this.frames.get(e);r&&(r.parentId=t)}if(r.ownerSessionId){let n=this.framesBySession.get(r.ownerSessionId);n&&(n.delete(e),n.add(t))}}setOwnerSessionIdInternal(e,t){var r;this.ensureNode(e);let n=this.frames.get(e);if(n.ownerSessionId===t)return;if(n.ownerSessionId){let t=this.framesBySession.get(n.ownerSessionId);null==t||t.delete(e),t&&0===t.size&&this.framesBySession.delete(n.ownerSessionId)}n.ownerSessionId=t;let a=null!=(r=this.framesBySession.get(t))?r:new Set;a.add(e),this.framesBySession.set(t,a)}}}}),tU=eW({"lib/v3/types/private/network.ts"(){eg=500,ey=new Set(["EventSource","WebSocket"])}}),tL=eW({"lib/v3/understudy/networkManager.ts"(){tU(),ev=class{constructor(){this.sessions=new Map,this.observers=new Set,this.requests=new Map,this.documentRequestsByFrame=new Map}trackSession(e){let t=this.sessionKey(e);if(this.sessions.has(t))return;let r=e=>{var r,n,a;if(!e||!e.requestId)return;let i={sessionId:t,requestId:e.requestId,requestKey:this.requestKey(t,e.requestId),frameId:null!=(r=e.frameId)?r:void 0,loaderId:null!=(n=e.loaderId)?n:void 0,url:null==(a=e.request)?void 0:a.url,timestamp:Date.now(),resourceType:e.type,documentRequest:"Document"===e.type};this.requests.set(i.requestKey,i),i.documentRequest&&i.frameId&&this.documentRequestsByFrame.set(i.frameId,i.requestKey),this.emitStart(i)},n=e=>{let r=this.requestKey(t,e),n=this.requests.get(r);(null==n?void 0:n.frameId)&&this.documentRequestsByFrame.delete(n.frameId);let a=null!=n?n:{sessionId:t,requestId:e,requestKey:r,timestamp:Date.now(),documentRequest:!1};this.requests.delete(r),this.emitFinish(a)},a=e=>{let r=this.requestKey(t,e),n=this.requests.get(r);(null==n?void 0:n.frameId)&&this.documentRequestsByFrame.delete(n.frameId);let a=null!=n?n:{sessionId:t,requestId:e,requestKey:r,timestamp:Date.now(),documentRequest:!1};this.requests.delete(r),this.emitFailure(a)},i=e=>{(null==e?void 0:e.requestId)&&n(e.requestId)},o=e=>{(null==e?void 0:e.requestId)&&a(e.requestId)},s=e=>{var t,r;(null==e?void 0:e.requestId)&&(null!=(r=null==(t=e.response)?void 0:t.url)?r:"").startsWith("data:")&&n(e.requestId)},l=e=>{if(!(null==e?void 0:e.frameId))return;let t=this.documentRequestsByFrame.get(e.frameId);if(!t)return;let r=this.requests.get(t);r?(this.requests.delete(t),this.documentRequestsByFrame.delete(e.frameId),this.emitFinish(eH(eZ({},r),{timestamp:Date.now()}))):this.documentRequestsByFrame.delete(e.frameId)};e.on("Network.requestWillBeSent",r),e.on("Network.loadingFinished",i),e.on("Network.loadingFailed",o),e.on("Network.requestServedFromCache",i),e.on("Network.responseReceived",s),e.on("Page.frameStoppedLoading",l),e.send("Network.enable").catch(()=>{}),e.send("Page.enable").catch(()=>{}),this.sessions.set(t,{session:e,detach:()=>{e.off("Network.requestWillBeSent",r),e.off("Network.loadingFinished",i),e.off("Network.loadingFailed",o),e.off("Network.requestServedFromCache",i),e.off("Network.responseReceived",s),e.off("Page.frameStoppedLoading",l)}})}untrackSession(e){let t=null!=e?e:"__main__",r=this.sessions.get(t);if(r){for(let e of(r.detach(),this.sessions.delete(t),[...this.requests.keys()]))e.startsWith(`${t}:`)&&this.requests.delete(e);for(let[e,r]of[...this.documentRequestsByFrame.entries()])r.startsWith(`${t}:`)&&this.documentRequestsByFrame.delete(e)}}addObserver(e){return this.observers.add(e),()=>{this.observers.delete(e)}}waitForIdle(e){var t,r,n,a;let i=null!=(t=e.startTime)?t:Date.now(),o=null!=(r=e.idleTimeMs)?r:eg,s=e.timeoutMs,l=Number.isFinite(s)?s:void 0,u=Number.isFinite(null!=(n=e.totalBudgetMs)?n:NaN)?e.totalBudgetMs:l,d=null!=(a=e.filter)?a:e=>!ey.has(e.resourceType),c=new Set,p=null,m=null,h=!1,f=null,g=null,y=e=>{h||(h=!0,p&&clearTimeout(p),m&&clearTimeout(m),b(),c.clear(),e?null==g||g(e):null==f||f())},v=()=>{!h&&(0===c.size?p||(p=setTimeout(()=>{y()},o)):p&&(clearTimeout(p),p=null))},b=this.addObserver({onRequestStarted:e=>{h||e.timestamp<i||d(e)&&(c.add(e.requestKey),p&&(clearTimeout(p),p=null))},onRequestFinished:e=>{h||c.delete(e.requestKey)&&v()},onRequestFailed:e=>{h||c.delete(e.requestKey)&&v()}}),_=new Promise((e,t)=>{f=e,g=t});return v(),Number.isFinite(s)&&(m=setTimeout(()=>{let e=Date.now()-i;y(Error(void 0!==u?`networkidle timed out after ${u}ms`:`networkidle timed out after ${e}ms`))},Math.max(0,s))),{promise:_,dispose:()=>y(Error("waitForIdle disposed"))}}dispose(){for(let{detach:e}of this.sessions.values())e();this.sessions.clear(),this.observers.clear(),this.requests.clear(),this.documentRequestsByFrame.clear()}emitStart(e){for(let t of this.observers)t.onRequestStarted(e)}emitFinish(e){for(let t of this.observers)t.onRequestFinished(e)}emitFailure(e){for(let t of this.observers)t.onRequestFailed(e)}sessionKey(e){var t;return null!=(t=e.id)?t:"__main__"}requestKey(e,t){return`${e}:${t}`}}}}),tq=eW({"lib/v3/understudy/lifecycleWatcher.ts"(){e0(),tU(),eb=class{constructor(e){this.cleanupCallbacks=[],this.idleHandle=null,this.abortReject=null,this.abortError=null,this.disposed=!1,this.pendingFollowupNavigation=!1,this.page=e.page,this.mainSession=e.mainSession,this.networkManager=e.networkManager,this.waitUntil=e.waitUntil,this.timeoutMs=e.timeoutMs,this.startTime=Date.now(),this.navigationCommandId=e.navigationCommandId,this.idleStartTime=this.startTime,this.abortPromise=new Promise((e,t)=>{this.abortReject=t}),this.installSessionListeners()}setExpectedLoaderId(e){e&&(this.expectedLoaderId=e,this.initialLoaderId=e,this.currentLoaderId=e,this.idleStartTime=Date.now())}wait(){return eQ(this,null,function*(){let e=Date.now()+this.timeoutMs;try{if("domcontentloaded"===this.waitUntil)return void(yield this.awaitWithAbort(this.page.waitForMainLoadState("domcontentloaded",this.timeRemaining(e))));for(;yield this.awaitWithAbort(this.page.waitForMainLoadState("load",this.timeRemaining(e))),"networkidle"===this.waitUntil;)try{yield this.awaitWithAbort(this.waitForNetworkIdle(e));break}catch(e){if(this.shouldRestartAfterFollowup(e))continue;throw e}}finally{this.dispose()}if(this.abortError)throw this.abortError})}dispose(){if(!this.disposed){for(let e of(this.disposed=!0,this.idleHandle&&(this.idleHandle.promise.catch(()=>{}),this.idleHandle.dispose(),this.idleHandle=null),this.cleanupCallbacks))try{e()}catch(e){}this.cleanupCallbacks=[],this.abortReject=null}}installSessionListeners(){let e=e=>{var t;if(!(null==(t=null==e?void 0:e.frame)?void 0:t.id))return;let r=this.page.mainFrameId();if(e.frame.id!==r)return;let n=e.frame.loaderId;if(n){if(this.initialLoaderId||(this.initialLoaderId=n,this.currentLoaderId=n,this.idleStartTime=Date.now()),!this.expectedLoaderId){this.expectedLoaderId=n,this.currentLoaderId=n,this.idleStartTime=Date.now();return}if(n!==this.expectedLoaderId){if(!this.page.isCurrentNavigationCommand(this.navigationCommandId))return void this.triggerAbort(Error("Navigation was superseded by a new request"));this.adoptNewMainLoader(n)}}},t=e=>{if(!(null==e?void 0:e.frameId))return;let t=this.page.mainFrameId();e.frameId!==t||"swap"!==e.reason&&this.triggerAbort(Error("Main frame was detached"))};this.mainSession.on("Page.frameNavigated",e),this.cleanupCallbacks.push(()=>{this.mainSession.off("Page.frameNavigated",e)}),this.mainSession.on("Page.frameDetached",t),this.cleanupCallbacks.push(()=>{this.mainSession.off("Page.frameDetached",t)})}timeRemaining(e){let t=e-Date.now();if(t<=0)throw new V("Lifecycle wait",this.timeoutMs);return t}awaitWithAbort(e){return eQ(this,null,function*(){try{return yield Promise.race([e,this.abortPromise])}catch(e){if(this.abortError)throw this.abortError;throw e}})}triggerAbort(e){!this.abortError&&(this.abortError=e,this.abortReject&&(this.abortReject(e),this.abortReject=null))}waitForNetworkIdle(e){this.pendingFollowupNavigation=!1;let t=this.timeRemaining(e),r=Math.min(eg,t);return this.idleHandle=this.networkManager.waitForIdle({startTime:this.idleStartTime,timeoutMs:t,totalBudgetMs:this.timeoutMs,idleTimeMs:r,filter:this.buildIdleFilter()}),this.idleHandle.promise.catch(e=>{if(this.abortError)throw this.abortError;throw e})}shouldRestartAfterFollowup(e){return!!this.pendingFollowupNavigation&&e instanceof Error&&"waitForIdle disposed"===e.message&&(this.pendingFollowupNavigation=!1,!0)}adoptNewMainLoader(e){if(this.expectedLoaderId=e,this.currentLoaderId=e,this.idleStartTime=Date.now(),"networkidle"===this.waitUntil&&(this.pendingFollowupNavigation=!0,this.idleHandle)){let e=this.idleHandle;this.idleHandle=null,e.promise.catch(()=>{}),e.dispose()}}buildIdleFilter(){let e=this.currentLoaderId,t=this.page.mainFrameId();return r=>!ey.has(r.resourceType)&&(e&&r.loaderId?r.loaderId===e:!!r.loaderId||!r.frameId||r.frameId===t)}}}}),tV=eW({"lib/v3/understudy/navigationResponseTracker.ts"(){t$(),e_=class{constructor(e){this.selectedRequestId=null,this.selectedResponse=null,this.acceptNextWithoutLoader=!1,this.responseResolved=!1,this.pendingResponsesByLoader=new Map,this.pendingExtraInfo=new Map,this.listeners=[],this.page=e.page,this.session=e.session,this.navigationCommandId=e.navigationCommandId,this.responsePromise=new Promise(e=>{this.resolveResponse=t=>{this.responseResolved||(this.responseResolved=!0,e(t))}}),this.installListeners()}dispose(){for(let{event:e,handler:t}of this.listeners)this.session.off(e,t);this.listeners.length=0,this.pendingResponsesByLoader.clear(),this.pendingExtraInfo.clear()}setExpectedLoaderId(e){if(!e)return;this.expectedLoaderId=e;let t=this.pendingResponsesByLoader.get(e);t&&(this.pendingResponsesByLoader.delete(e),this.selectResponse(t))}expectNavigationWithoutKnownLoader(){this.acceptNextWithoutLoader=!0}navigationCompleted(){return eQ(this,null,function*(){return this.responseResolved||queueMicrotask(()=>{this.responseResolved||this.resolveResponse(null)}),this.responsePromise})}response(){return eQ(this,null,function*(){return this.responsePromise})}installListeners(){this.addListener("Network.responseReceived",e=>{this.onResponseReceived(e)}),this.addListener("Network.responseReceivedExtraInfo",e=>{this.onResponseReceivedExtraInfo(e)}),this.addListener("Network.loadingFinished",e=>{this.onLoadingFinished(e)}),this.addListener("Network.loadingFailed",e=>{this.onLoadingFailed(e)})}addListener(e,t){this.session.on(e,t),this.listeners.push({event:e,handler:t})}onResponseReceived(e){var t;if(!this.page.isCurrentNavigationCommand(this.navigationCommandId)||!e||!e.response||"Document"!==e.type||e.frameId!==this.page.mainFrameId())return;let r=null!=(t=e.loaderId)?t:"";if(this.acceptNextWithoutLoader){this.acceptNextWithoutLoader=!1,this.selectResponse(e);return}this.expectedLoaderId?r&&r!==this.expectedLoaderId?this.pendingResponsesByLoader.set(r,e):this.selectResponse(e):r?this.pendingResponsesByLoader.set(r,e):this.selectResponse(e)}onResponseReceivedExtraInfo(e){var t;if(e&&e.requestId){if(this.selectedRequestId&&e.requestId===this.selectedRequestId){null==(t=this.selectedResponse)||t.applyExtraInfo(e);return}this.pendingExtraInfo.set(e.requestId,e)}}onLoadingFinished(e){var t;e&&e.requestId&&e.requestId===this.selectedRequestId&&(null==(t=this.selectedResponse)||t.markFinished(null))}onLoadingFailed(e){var t;if(!e||!e.requestId||e.requestId!==this.selectedRequestId)return;let r=e.errorText||"Navigation request failed";null==(t=this.selectedResponse)||t.markFinished(Error(r))}selectResponse(e){var t,r,n,a,i,o;if(e.loaderId&&this.pendingResponsesByLoader.delete(e.loaderId),this.responseResolved||this.selectedResponse)return;let s=null!=(n=null==(r=null==(t=e.response)?void 0:t.protocol)?void 0:r.toLowerCase())?n:"",l=null!=(i=null==(a=e.response)?void 0:a.url)?i:"",u="data"===s||l.startsWith("data:"),d="about"===s||l.startsWith("about:");if(u||d){this.pendingExtraInfo.delete(e.requestId),this.selectedRequestId=null,this.selectedResponse=null,this.resolveResponse(null);return}let c=new em({page:this.page,session:this.session,requestId:e.requestId,frameId:e.frameId,loaderId:e.loaderId,response:e.response,fromServiceWorker:!!(null==(o=e.response)?void 0:o.fromServiceWorker)});this.selectedRequestId=e.requestId,this.selectedResponse=c;let p=this.pendingExtraInfo.get(e.requestId);p&&(c.applyExtraInfo(p),this.pendingExtraInfo.delete(e.requestId)),this.resolveResponse(c)}}}});function tB(e,t,r){return eQ(this,null,function*(){let n=t.trim();if(!n)return()=>eQ(null,null,function*(){});let a=`__v3_style_${r}_${Date.now()}_${Math.random().toString(36).slice(2)}`;return yield Promise.all(e.map(e=>e.evaluate(({css:e,token:t})=>{try{let r=document;if(!r)return;let n=r.createElement("style");n.setAttribute("data-stagehand-style",t),n.textContent=e;let a=r.head||r.documentElement||r.body;null==a||a.appendChild(n)}catch(e){}},{css:n,token:a}).catch(()=>{}))),()=>eQ(null,null,function*(){yield Promise.all(e.map(e=>e.evaluate(e=>{try{let t=document;if(!t)return;t.querySelectorAll(`[data-stagehand-style="${e}"]`).forEach(e=>e.remove())}catch(e){}},a).catch(()=>{})))})})}var tZ=eW({"lib/v3/understudy/screenshotUtils.ts"(){e0()}}),tH={};eK(tH,{Page:()=>ek});var tG=eW({"lib/v3/understudy/page.ts"(){ew=e.r(22734),e6(),tM(),tb(),tS(),tm(),tF(),tL(),tq(),tV(),t$(),tz(),e0(),tZ(),eS={load:"load",domcontentloaded:"DOMContentLoaded",networkidle:"networkIdle"},ek=class e{constructor(e,t,r,n,a,i=!1){this.conn=e,this.mainSession=t,this._targetId=r,this.sessions=new Map,this.frameOrdinals=new Map,this.nextOrdinal=0,this.frameCache=new Map,this._currentUrl="about:blank",this.navigationCommandSeq=0,this.latestNavigationCommandId=0,this.apiClient=null,this.consoleListeners=new Set,this.consoleHandlers=new Map,this.cursorEnabled=!1,this._pressedModifiers=new Set,this.pageId=r,this.apiClient=null!=a?a:null,this.browserIsRemote=i,t.id&&this.sessions.set(t.id,t),this.registry=new ef(r,n),this.mainFrameWrapper=new eh(this.mainSession,n,this.pageId,this.browserIsRemote),this.networkManager=new ev,this.networkManager.trackSession(this.mainSession)}ensureCursorScript(){return eQ(this,null,function*(){let e=`(() => {
      const ID = '__v3_cursor_overlay__';
      const state = { el: null, last: null };
      // Expose API early so move() calls before install are buffered
      try {
        if (!window.__v3Cursor || !window.__v3Cursor.__installed) {
          const api = {
            __installed: false,
            move(x, y) {
              if (state.el) {
                state.el.style.left = Math.max(0, x) + 'px';
                state.el.style.top = Math.max(0, y) + 'px';
              } else {
                state.last = [x, y];
              }
            },
            show() { if (state.el) state.el.style.display = 'block'; },
            hide() { if (state.el) state.el.style.display = 'none'; },
          };
          window.__v3Cursor = api;
        }
      } catch {}

      function install() {
        try {
          if (state.el) return; // already installed
          let el = document.getElementById(ID);
          if (!el) {
            const root = document.documentElement || document.body || document.head;
            if (!root) { setTimeout(install, 50); return; }
            el = document.createElement('div');
            el.id = ID;
            el.style.position = 'fixed';
            el.style.left = '0px';
            el.style.top = '0px';
            el.style.width = '16px';
            el.style.height = '24px';
            el.style.zIndex = '2147483647';
            el.style.pointerEvents = 'none';
            el.style.userSelect = 'none';
            el.style.mixBlendMode = 'normal';
            el.style.contain = 'layout style paint';
            el.style.willChange = 'transform,left,top';
            el.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 16 24"><path d="M1 0 L1 22 L6 14 L15 14 Z" fill="black" stroke="white" stroke-width="0.7"/></svg>';
            root.appendChild(el);
          }
          state.el = el;
          try { window.__v3Cursor.__installed = true; } catch {}
          if (state.last) {
            window.__v3Cursor.move(state.last[0], state.last[1]);
            state.last = null;
          }
        } catch {}
      }

      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        install();
      } else {
        document.addEventListener('DOMContentLoaded', install, { once: true });
        setTimeout(install, 100);
      }
    })();`;yield this.mainSession.send("Page.addScriptToEvaluateOnNewDocument",{source:e}).catch(()=>{}),yield this.mainSession.send("Runtime.evaluate",{expression:e,includeCommandLineAPI:!1}).catch(()=>{})})}enableCursorOverlay(){return eQ(this,null,function*(){this.cursorEnabled||(yield this.ensureCursorScript(),this.cursorEnabled=!0)})}updateCursor(e,t){return eQ(this,null,function*(){if(this.cursorEnabled)try{yield this.mainSession.send("Runtime.evaluate",{expression:`typeof window.__v3Cursor!=="undefined"&&window.__v3Cursor.move(${Math.round(e)}, ${Math.round(t)})`})}catch(e){}})}static create(t,r,n,a,i,o=!1){return eQ(this,null,function*(){var s,l,u,d;yield r.send("Page.enable").catch(()=>{}),yield r.send("Page.setLifecycleEventsEnabled",{enabled:!0}).catch(()=>{});let{frameTree:c}=yield r.send("Page.getFrameTree"),p=new e(t,r,n,c.frame.id,a,o);try{p._currentUrl=String(null!=(l=null==(s=null==c?void 0:c.frame)?void 0:s.url)?l:p._currentUrl),(null==i?void 0:i.viewport)&&(yield p.setViewportSize(i.viewport.width,i.viewport.height,{deviceScaleFactor:null!=(u=i.deviceScaleFactor)?u:1}))}catch(e){}return p.registry.seedFromFrameTree(null!=(d=r.id)?d:"root",c),p})}onFrameAttached(e,t,r){var n;this.ensureOrdinal(e),this.registry.onFrameAttached(e,t,null!=(n=r.id)?n:"root"),this.frameCache.delete(e)}onFrameDetached(e,t="remove"){this.registry.onFrameDetached(e,t),this.frameCache.delete(e)}onFrameNavigated(e,t){var r,n,a;let i=this.mainFrameId();this.registry.onFrameNavigated(e,null!=(r=t.id)?r:"root");let o=this.mainFrameId();if(o!==i){let e=null!=(n=this.frameOrdinals.get(i))?n:0;this.frameOrdinals.set(o,e),this.mainFrameWrapper=new eh(this.mainSession,o,this.pageId,this.browserIsRemote)}if(e.id===this.mainFrameId())try{this._currentUrl=String(null!=(a=null==e?void 0:e.url)?a:this._currentUrl)}catch(e){}this.frameCache.delete(e.id)}onNavigatedWithinDocument(e,t,r){var n;let a=String(null!=t?t:"").trim();a&&(this.registry.onNavigatedWithinDocument(e,a,null!=(n=r.id)?n:"root"),e===this.mainFrameId()&&(this._currentUrl=a))}adoptOopifSession(e,t){var r;e.id&&this.sessions.set(e.id,e),this.networkManager.trackSession(e),this.consoleListeners.size>0&&this.installConsoleTap(e),this.registry.adoptChildSession(null!=(r=e.id)?r:"child",t),this.frameCache.delete(t),e.on("Page.frameNavigated",t=>{this.onFrameNavigated(t.frame,e)}),e.on("Page.frameAttached",t=>{var r;this.onFrameAttached(t.frameId,null!=(r=t.parentFrameId)?r:null,e)}),e.on("Page.frameDetached",e=>{var t;this.onFrameDetached(e.frameId,null!=(t=e.reason)?t:"remove")}),eQ(this,null,function*(){var r;try{yield e.send("Page.enable").catch(()=>{});let{frameTree:n}=yield e.send("Page.getFrameTree");n.frame.id!==t&&(n=eH(eZ({},n),{frame:eH(eZ({},n.frame),{id:t})})),this.registry.seedFromFrameTree(null!=(r=e.id)?r:"child",n)}catch(e){}})}detachOopifSession(e){for(let t of this.registry.framesForSession(e))this.registry.onFrameDetached(t,"remove"),this.frameCache.delete(t);this.teardownConsoleTap(e),this.sessions.delete(e),this.networkManager.untrackSession(e)}getSessionForFrame(e){var t;let r=this.registry.getOwnerSessionId(e);return r&&null!=(t=this.sessions.get(r))?t:this.mainSession}frameForId(e){let t=this.frameCache.get(e);if(t)return t;let r=this.getSessionForFrame(e),n=new eh(r,e,this.pageId,this.browserIsRemote);return this.frameCache.set(e,n),n}getSessionById(e){return this.sessions.get(e)}registerSessionForNetwork(e){this.networkManager.trackSession(e)}unregisterSessionForNetwork(e){this.networkManager.untrackSession(e)}on(e,t){if("console"!==e)throw new b(`Unsupported event: ${e}`);let r=0===this.consoleListeners.size;return this.consoleListeners.add(t),r&&this.ensureConsoleTaps(),this}once(e,t){if("console"!==e)throw new b(`Unsupported event: ${e}`);let r=e=>{this.off("console",r),t(e)};return this.on("console",r)}off(e,t){if("console"!==e)throw new b(`Unsupported event: ${e}`);return this.consoleListeners.delete(t),0===this.consoleListeners.size&&this.removeAllConsoleTaps(),this}targetId(){return this._targetId}sendCDP(e,t){return eQ(this,null,function*(){return this.mainSession.send(e,t)})}seedCurrentUrl(e){if(e)try{let t=String(e).trim();if(!t)return;this._currentUrl=t}catch(e){}}mainFrameId(){return this.registry.mainFrameId()}mainFrame(){return this.mainFrameWrapper}close(){return eQ(this,null,function*(){try{yield this.conn.send("Target.closeTarget",{targetId:this._targetId})}catch(e){}let e=Date.now()+2e3;for(;Date.now()<e;){try{if(!(yield this.conn.getTargets()).some(e=>e.targetId===this._targetId))return void this.networkManager.dispose()}catch(e){}yield new Promise(e=>setTimeout(e,25))}this.networkManager.dispose(),this.removeAllConsoleTaps(),this.consoleListeners.clear()})}getFullFrameTree(){return this.asProtocolFrameTree(this.mainFrameId())}asProtocolFrameTree(e){return this.registry.asProtocolFrameTree(e)}ensureOrdinal(e){let t=this.frameOrdinals.get(e);if(void 0!==t)return t;let r=this.nextOrdinal++;return this.frameOrdinals.set(e,r),r}getOrdinal(e){return this.ensureOrdinal(e)}listAllFrameIds(){return this.registry.listAllFrames()}ensureConsoleTaps(){if(0!==this.consoleListeners.size)for(let e of(this.installConsoleTap(this.mainSession),this.sessions.values()))this.installConsoleTap(e)}installConsoleTap(e){let t=this.sessionKey(e);if(this.consoleHandlers.has(t))return;e.send("Runtime.enable").catch(()=>{});let r=e=>{this.emitConsole(e)};e.on("Runtime.consoleAPICalled",r),this.consoleHandlers.set(t,r)}sessionKey(e){var t;return null!=(t=e.id)?t:"__root__"}resolveSessionByKey(e){if(this.mainSession.id){if(this.mainSession.id===e)return this.mainSession}else if("__root__"===e)return this.mainSession;return this.sessions.get(e)}teardownConsoleTap(e){let t=this.consoleHandlers.get(e);if(!t)return;let r=this.resolveSessionByKey(e);null==r||r.off("Runtime.consoleAPICalled",t),this.consoleHandlers.delete(e)}removeAllConsoleTaps(){for(let e of[...this.consoleHandlers.keys()])this.teardownConsoleTap(e)}emitConsole(e){if(0===this.consoleListeners.size)return;let t=new ep(e,this);for(let r of[...this.consoleListeners])try{r(t)}catch(t){e4({category:"page",message:"Console listener threw",level:2,auxiliary:{error:{value:String(t),type:"string"},type:{value:e.type,type:"string"}}})}}goto(e,t){return eQ(this,null,function*(){var r,n;let a=null!=(r=null==t?void 0:t.waitUntil)?r:"domcontentloaded",i=null!=(n=null==t?void 0:t.timeoutMs)?n:15e3,o=this.beginNavigationCommand(),s=new e_({page:this,session:this.mainSession,navigationCommandId:o}),l=new eb({page:this,mainSession:this.mainSession,networkManager:this.networkManager,waitUntil:a,timeoutMs:i,navigationCommandId:o});try{if(this.apiClient){let r=yield this.apiClient.goto(e,{waitUntil:null==t?void 0:t.waitUntil},this.mainFrameId());if(this._currentUrl=e,r&&"object"==typeof r&&"string"==typeof r.requestId&&r.response&&"object"==typeof r.response&&1)return em.fromSerializable(r,{page:this,session:this.mainSession});return r}let r=yield this.mainSession.send("Page.navigate",{url:e});return this._currentUrl=e,(null==r?void 0:r.loaderId)&&(l.setExpectedLoaderId(r.loaderId),s.setExpectedLoaderId(r.loaderId)),yield l.wait(),yield s.navigationCompleted()}finally{l.dispose(),s.dispose()}})}reload(e){return eQ(this,null,function*(){var t,r;let n=null==e?void 0:e.waitUntil,a=null!=(t=null==e?void 0:e.timeoutMs)?t:15e3,i=this.beginNavigationCommand(),o=new e_({page:this,session:this.mainSession,navigationCommandId:i});o.expectNavigationWithoutKnownLoader();let s=n?new eb({page:this,mainSession:this.mainSession,networkManager:this.networkManager,waitUntil:n,timeoutMs:a,navigationCommandId:i}):null;try{return yield this.mainSession.send("Page.reload",{ignoreCache:null!=(r=null==e?void 0:e.ignoreCache)&&r}),s&&(yield s.wait()),yield o.navigationCompleted()}finally{null==s||s.dispose(),o.dispose()}})}goBack(e){return eQ(this,null,function*(){var t,r;let{entries:n,currentIndex:a}=yield this.mainSession.send("Page.getNavigationHistory"),i=n[a-1];if(!i)return null;let o=null==e?void 0:e.waitUntil,s=null!=(t=null==e?void 0:e.timeoutMs)?t:15e3,l=this.beginNavigationCommand(),u=new e_({page:this,session:this.mainSession,navigationCommandId:l});u.expectNavigationWithoutKnownLoader();let d=o?new eb({page:this,mainSession:this.mainSession,networkManager:this.networkManager,waitUntil:o,timeoutMs:s,navigationCommandId:l}):null;try{return yield this.mainSession.send("Page.navigateToHistoryEntry",{entryId:i.id}),this._currentUrl=null!=(r=i.url)?r:this._currentUrl,d&&(yield d.wait()),yield u.navigationCompleted()}finally{null==d||d.dispose(),u.dispose()}})}goForward(e){return eQ(this,null,function*(){var t,r;let{entries:n,currentIndex:a}=yield this.mainSession.send("Page.getNavigationHistory"),i=n[a+1];if(!i)return null;let o=null==e?void 0:e.waitUntil,s=null!=(t=null==e?void 0:e.timeoutMs)?t:15e3,l=this.beginNavigationCommand(),u=new e_({page:this,session:this.mainSession,navigationCommandId:l});u.expectNavigationWithoutKnownLoader();let d=o?new eb({page:this,mainSession:this.mainSession,networkManager:this.networkManager,waitUntil:o,timeoutMs:s,navigationCommandId:l}):null;try{return yield this.mainSession.send("Page.navigateToHistoryEntry",{entryId:i.id}),this._currentUrl=null!=(r=i.url)?r:this._currentUrl,d&&(yield d.wait()),yield u.navigationCompleted()}finally{null==d||d.dispose(),u.dispose()}})}url(){return this._currentUrl}beginNavigationCommand(){let e=++this.navigationCommandSeq;return this.latestNavigationCommandId=e,e}isCurrentNavigationCommand(e){return this.latestNavigationCommandId===e}title(){return eQ(this,null,function*(){var e,t,r;try{yield this.mainSession.send("Runtime.enable").catch(()=>{});let t=yield this.createIsolatedWorldForCurrentMain(),{result:r}=yield this.mainSession.send("Runtime.evaluate",{expression:"document.title",contextId:t,returnByValue:!0});return String(null!=(e=null==r?void 0:r.value)?e:"")}catch(e){try{let{entries:e,currentIndex:n}=yield this.mainSession.send("Page.getNavigationHistory");return null!=(r=null==(t=e[n])?void 0:t.title)?r:""}catch(e){return""}}})}screenshot(e){return eQ(this,null,function*(){var t,r,n,a,i;let o=null!=e?e:{},s=null!=(t=o.type)?t:"png";if("png"!==s&&"jpeg"!==s)throw new b(`screenshot: unsupported image type "${s}"`);if(o.fullPage&&o.clip)throw new b("screenshot: clip and fullPage cannot be used together");if("png"===s&&"number"==typeof o.quality)throw new b('screenshot: quality option is only valid for type="jpeg"');let l=null!=(r=o.caret)?r:"hide",u=null!=(n=o.animations)?n:"allow",d=null!=(a=o.scale)?a:"device",c=function(e){let t=new Map,r=e.mainFrame();for(let n of(t.set(r.frameId,r),e.frames()))t.set(n.frameId,n);return Array.from(t.values())}(this),p=o.clip?function(e){let t=Number(e.x),r=Number(e.y),n=Number(e.width),a=Number(e.height);for(let[e,i]of Object.entries({x:t,y:r,width:n,height:a}))if(!Number.isFinite(i))throw new b(`screenshot: clip.${e} must be a finite number`);if(n<=0||a<=0)throw new b("screenshot: clip width/height must be positive");return{x:t,y:r,width:n,height:a}}(o.clip):void 0,m=yield function(e,t){return eQ(this,null,function*(){if("css"===t)try{let t=e.mainFrame(),r=yield t.evaluate(()=>{let e=Number(window.devicePixelRatio||1);return Number.isFinite(e)&&e>0?e:1}).catch(()=>1),n=Number.isFinite(r)&&r>0?r:1;return Math.min(2,Math.max(.1,1/n))}catch(e){return 1}})}(this,d),h=(null!=(i=o.mask)?i:[]).filter(e=>!!e),f=[],g=()=>eQ(this,null,function*(){var e;try{o.omitBackground&&f.push((yield function(e){return eQ(this,null,function*(){return yield e.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}}).catch(()=>{}),()=>eQ(null,null,function*(){yield e.send("Emulation.setDefaultBackgroundColorOverride",{}).catch(()=>{})})})}(this.mainSession))),"disabled"===u&&f.push((yield function(e){return eQ(this,null,function*(){let t=`
*,
*::before,
*::after {
  animation-delay: 0s !important;
  animation-duration: 0s !important;
  animation-iteration-count: 1 !important;
  animation-play-state: paused !important;
  transition-property: none !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
}`,r=yield tB(e,t,"animations");return yield Promise.all(e.map(e=>e.evaluate(()=>{var e,t,r,n,a;try{for(let i of"function"==typeof document.getAnimations?document.getAnimations():[])try{let a=null==(t=null==(e=i.effect)?void 0:e.getComputedTiming)?void 0:t.call(e);a&&a.iterations!==1/0?null==(r=i.finish)||r.call(i):null==(n=i.cancel)||n.call(i)}catch(e){null==(a=i.cancel)||a.call(i)}}catch(e){}}).catch(()=>{}))),r})}(c))),"hide"===l&&f.push((yield function(e){return eQ(this,null,function*(){return tB(e,`
input,
textarea,
[contenteditable],
[contenteditable=""],
[contenteditable="true"],
[contenteditable="plaintext-only"],
*:focus {
  caret-color: transparent !important;
}`,"caret")})}(c))),o.style&&o.style.trim()&&f.push((yield tB(c,o.style,"custom"))),h.length>0&&f.push((yield function(e,t){return eQ(this,null,function*(){var r;let n=new Map;for(let t of e)try{let e=yield function(e){return eQ(this,null,function*(){let t=e.getFrame(),r=t.session,n=null;try{n=(yield e.resolveNode()).objectId;let a=yield r.send("Runtime.callFunctionOn",{objectId:n,functionDeclaration:`function() {
          if (!this || typeof this.getBoundingClientRect !== 'function') return null;
          const rect = this.getBoundingClientRect();
          if (!rect) return null;
          const style = window.getComputedStyle(this);
          if (!style) return null;
          if (style.visibility === 'hidden' || style.display === 'none') return null;
          if (rect.width <= 0 || rect.height <= 0) return null;
          return {
            x: rect.left + window.scrollX,
            y: rect.top + window.scrollY,
            width: rect.width,
            height: rect.height,
          };
        }`,returnByValue:!0});if(a.exceptionDetails)return null;let i=a.result.value;if(!i)return null;let{x:o,y:s,width:l,height:u}=i;if(!Number.isFinite(o)||!Number.isFinite(s)||!Number.isFinite(l)||!Number.isFinite(u)||l<=0||u<=0)return null;return{frame:t,rect:{x:o,y:s,width:l,height:u}}}catch(e){return null}finally{n&&(yield r.send("Runtime.releaseObject",{objectId:n}).catch(()=>{}))}})}(t);if(!e)continue;let a=null!=(r=n.get(e.frame))?r:[];a.push(e.rect),n.set(e.frame,a)}catch(e){}if(0===n.size)return()=>eQ(null,null,function*(){});let a=`__v3_mask_${Date.now()}_${Math.random().toString(36).slice(2)}`;return yield Promise.all(Array.from(n.entries()).map(([e,r])=>e.evaluate(({rects:e,color:t,token:r})=>{try{let n=document;if(!n)return;let a=n.documentElement||n.body;if(!a)return;for(let i of e){let e=n.createElement("div");e.setAttribute("data-stagehand-mask",r),e.style.position="absolute",e.style.left=`${i.x}px`,e.style.top=`${i.y}px`,e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.backgroundColor=t,e.style.pointerEvents="none",e.style.zIndex="2147483647",e.style.opacity="1",e.style.mixBlendMode="normal",a.appendChild(e)}}catch(e){}},{rects:r,color:t,token:a}).catch(()=>{}))),()=>eQ(null,null,function*(){yield Promise.all(Array.from(n.keys()).map(e=>e.evaluate(e=>{try{let t=document;if(!t)return;t.querySelectorAll(`[data-stagehand-mask="${e}"]`).forEach(e=>e.remove())}catch(e){}},a).catch(()=>{})))})})}(h,null!=(e=o.maskColor)?e:"#FF00FF")));let t=yield this.mainFrameWrapper.screenshot({fullPage:o.fullPage,clip:p,type:s,quality:"jpeg"===s?o.quality:void 0,scale:m});return o.path&&(yield ew.promises.writeFile(o.path,t)),t}finally{yield function(e){return eQ(this,null,function*(){for(let t=e.length-1;t>=0;t-=1){let r=e[t];if(r)try{let e=r();e&&"function"==typeof e.then&&(yield e)}catch(e){}}})}(f)}});return function(e,t){return eQ(this,null,function*(){if(!e||e<=0)return t();let r=null,n=new Promise((t,n)=>{r=setTimeout(()=>{n(Error(`screenshot: timeout of ${e}ms exceeded`))},e)});try{return yield Promise.race([t(),n])}finally{r&&clearTimeout(r)}})}(o.timeout,g)})}locator(e){return this.mainFrameWrapper.locator(e)}deepLocator(e){var t;return t=this.mainFrameWrapper,new ec(this,t,e)}frameLocator(e){return new el(this,e)}frames(){let e=this.listAllFrameIds().map(e=>({id:e,ord:this.getOrdinal(e)}));return e.sort((e,t)=>e.ord-t.ord),e.map(({id:e})=>this.frameForId(e))}waitForLoadState(e,t){return eQ(this,null,function*(){yield this.waitForMainLoadState(e,null!=t?t:15e3)})}evaluate(e,t){return eQ(this,null,function*(){var r;let n;yield this.mainSession.send("Runtime.enable").catch(()=>{});let a=yield this.createIsolatedWorldForCurrentMain();if("string"==typeof e)n=String(e);else{let r=e.toString(),a=JSON.stringify(t);n=`(() => {
        const __fn = ${r};
        const __arg = ${a};
        try {
          const __res = __fn(__arg);
          return Promise.resolve(__res).then(v => {
            try { return JSON.parse(JSON.stringify(v)); } catch { return v; }
          });
        } catch (e) { throw e; }
      })()`}let{result:i,exceptionDetails:o}=yield this.mainSession.send("Runtime.evaluate",{expression:n,contextId:a,returnByValue:!0,awaitPromise:!0});if(o){let e=o.text||(null==(r=o.exception)?void 0:r.description)||"Evaluation failed";throw new x(e)}return null==i?void 0:i.value})}setViewportSize(e,t,r){return eQ(this,null,function*(){var n;let a=Math.max(.01,null!=(n=null==r?void 0:r.deviceScaleFactor)?n:1);yield this.mainSession.send("Emulation.setDeviceMetricsOverride",{width:e,height:t,deviceScaleFactor:a,mobile:!1,screenWidth:e,screenHeight:t,positionX:0,positionY:0,scale:1}).catch(()=>{}),yield this.mainSession.send("Emulation.setVisibleSize",{width:e,height:t}).catch(()=>{})})}click(e,t,r){return eQ(this,null,function*(){var n,a;let i,o=null!=(n=null==r?void 0:r.button)?n:"left",s=null!=(a=null==r?void 0:r.clickCount)?a:1;if(null==r?void 0:r.returnXpath)try{let r=yield e9(this,e,t);r&&(e4({category:"page",message:"click resolved hit",level:2,auxiliary:{frameId:{value:String(r.frameId),type:"string"},backendNodeId:{value:String(r.backendNodeId),type:"string"},x:{value:String(e),type:"integer"},y:{value:String(t),type:"integer"}}}),i=r.absoluteXPath,e4({category:"page",message:"click resolved xpath",level:2,auxiliary:{xpath:{value:String(null!=i?i:""),type:"string"}}}))}catch(e){}if(yield this.updateCursor(e,t),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:e,y:t,button:"none"}),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mousePressed",x:e,y:t,button:o,clickCount:s}),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseReleased",x:e,y:t,button:o,clickCount:s}),null==r?void 0:r.returnXpath)return null!=i?i:""})}scroll(e,t,r,n,a){return eQ(this,null,function*(){let i;if(null==a?void 0:a.returnXpath)try{let r=yield e9(this,e,t);r&&(i=r.absoluteXPath)}catch(e){}if(yield this.updateCursor(e,t),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:e,y:t,button:"none"}),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:e,y:t,button:"none",deltaX:r,deltaY:n}),null==a?void 0:a.returnXpath)return null!=i?i:""})}dragAndDrop(e,t,r,n,a){return eQ(this,null,function*(){var i,o,s;let l,u,d=null!=(i=null==a?void 0:a.button)?i:"left",c=Math.max(1,Math.floor(null!=(o=null==a?void 0:a.steps)?o:1)),p=Math.max(0,null!=(s=null==a?void 0:a.delay)?s:0),m=e=>new Promise(t=>e>0?setTimeout(t,e):t()),h=e=>{switch(e){case"left":default:return 1;case"right":return 2;case"middle":return 4}};if(null==a?void 0:a.returnXpath){try{let r=yield e9(this,e,t);r&&(l=r.absoluteXPath)}catch(e){}try{let e=yield e9(this,r,n);e&&(u=e.absoluteXPath)}catch(e){}}yield this.updateCursor(e,t),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:e,y:t,button:"none"}),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mousePressed",x:e,y:t,button:d,buttons:h(d),clickCount:1});for(let a=1;a<=c;a++){let i=a/c,o=e+(r-e)*i,s=t+(n-t)*i;yield this.updateCursor(o,s),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseMoved",x:o,y:s,button:d,buttons:h(d)}),p&&(yield m(p))}if(yield this.updateCursor(r,n),yield this.mainSession.send("Input.dispatchMouseEvent",{type:"mouseReleased",x:r,y:n,button:d,buttons:h(d),clickCount:1}),null==a?void 0:a.returnXpath)return[null!=l?l:"",null!=u?u:""]})}type(e,t){return eQ(this,null,function*(){var r;let n=Math.max(0,null!=(r=null==t?void 0:t.delay)?r:0),a=!!(null==t?void 0:t.withMistakes),i=e=>new Promise(t=>e>0?setTimeout(t,e):t()),o=(e,t)=>eQ(this,null,function*(){if(t){let e={type:"keyDown",key:t.key,code:t.code,windowsVirtualKeyCode:t.windowsVirtualKeyCode};yield this.mainSession.send("Input.dispatchKeyEvent",e),yield this.mainSession.send("Input.dispatchKeyEvent",eH(eZ({},e),{type:"keyUp"}));return}yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyDown",text:e,unmodifiedText:e}),yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyUp"})}),s=()=>eQ(this,null,function*(){return o("\b",{key:"Backspace",code:"Backspace",windowsVirtualKeyCode:8})}),l=e=>{let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 .,;:'\"!?@#$%^&*()-_=+[]{}<>/\\|`~",r=e;for(;r===e;)r=t[Math.floor(Math.random()*t.length)];return r};for(let t of e){if("\n"===t||"\r"===t)yield o(t,{key:"Enter",code:"Enter",windowsVirtualKeyCode:13});else if("	"===t)yield o(t,{key:"Tab",code:"Tab",windowsVirtualKeyCode:9});else{if(a&&.12>Math.random()){let e=l(t);yield o(e),n&&(yield i(n)),yield s(),n&&(yield i(n))}yield o(t)}n&&(yield i(n))}})}keyPress(e,t){return eQ(this,null,function*(){var r;let n=Math.max(0,null!=(r=null==t?void 0:t.delay)?r:0),a=function(e){if("+"===e)return["+"];let t=[],r="";for(let n of e)"+"===n&&r?(t.push(r),r=""):r+=n;return r&&t.push(r),t}(e),i=a[a.length-1],o=a.slice(0,-1);try{for(let e of o)yield this.keyDown(e);yield this.keyDown(i),n&&(yield new Promise(e=>n>0?setTimeout(e,n):e())),yield this.keyUp(i);for(let e=o.length-1;e>=0;e--)yield this.keyUp(o[e])}catch(e){throw this._pressedModifiers.clear(),e}})}keyDown(e){return eQ(this,null,function*(){var t,r,n;let a=this.normalizeModifierKey(e);["Alt","Control","Meta","Shift"].includes(a)&&this._pressedModifiers.add(a);let i=0;this._pressedModifiers.has("Alt")&&(i|=1),this._pressedModifiers.has("Control")&&(i|=2),this._pressedModifiers.has("Meta")&&(i|=4),this._pressedModifiers.has("Shift")&&(i|=8);let o=this.getNamedKeys();if(1===a.length){if(this._pressedModifiers.has("Alt")||this._pressedModifiers.has("Control")||this._pressedModifiers.has("Meta")){let e=this.describePrintableKey(a),r=this.isMacOS()?this.macCommandsFor(null!=(t=e.code)?t:""):[],n=eZ(eZ(eZ({type:"rawKeyDown",modifiers:i,key:e.key},e.code?{code:e.code}:{}),"number"==typeof e.vk?{windowsVirtualKeyCode:e.vk}:{}),r.length?{commands:r}:{});yield this.mainSession.send("Input.dispatchKeyEvent",n)}else yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyDown",text:a,unmodifiedText:a,modifiers:i});return}let s=null!=(r=o[a])?r:null;if(s){let e=this.isMacOS()?this.macCommandsFor(s.code):[],t=!!s.text&&0===i,r=eZ(eZ({type:t?"keyDown":"rawKeyDown",key:s.key,code:s.code,windowsVirtualKeyCode:s.vk,modifiers:i},t?{text:s.text,unmodifiedText:null!=(n=s.unmodifiedText)?n:s.text}:{}),e.length?{commands:e}:{});yield this.mainSession.send("Input.dispatchKeyEvent",r);return}yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyDown",key:a,modifiers:i})})}keyUp(e){return eQ(this,null,function*(){var t;let r=this.normalizeModifierKey(e),n=0;this._pressedModifiers.has("Alt")&&(n|=1),this._pressedModifiers.has("Control")&&(n|=2),this._pressedModifiers.has("Meta")&&(n|=4),this._pressedModifiers.has("Shift")&&(n|=8),["Alt","Control","Meta","Shift"].includes(r)&&this._pressedModifiers.delete(r);let a=this.getNamedKeys();if(1===r.length){let e=this.describePrintableKey(r);yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyUp",key:e.key,code:e.code,windowsVirtualKeyCode:"number"==typeof e.vk?e.vk:void 0,modifiers:n});return}let i=null!=(t=a[r])?t:null;i?yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyUp",key:i.key,code:i.code,windowsVirtualKeyCode:i.vk,modifiers:n}):yield this.mainSession.send("Input.dispatchKeyEvent",{type:"keyUp",key:r,modifiers:n})})}normalizeModifierKey(e){switch(e.toLowerCase()){case"cmd":case"command":return this.isMacOS()?"Meta":"Control";case"win":case"windows":return"Meta";case"ctrl":return"Control";case"option":return"Alt";case"shift":return"Shift";default:return e}}getNamedKeys(){return{Enter:{key:"Enter",code:"Enter",vk:13,text:"\r",unmodifiedText:"\r"},Tab:{key:"Tab",code:"Tab",vk:9},Backspace:{key:"Backspace",code:"Backspace",vk:8},Escape:{key:"Escape",code:"Escape",vk:27},Delete:{key:"Delete",code:"Delete",vk:46},ArrowLeft:{key:"ArrowLeft",code:"ArrowLeft",vk:37},ArrowUp:{key:"ArrowUp",code:"ArrowUp",vk:38},ArrowRight:{key:"ArrowRight",code:"ArrowRight",vk:39},ArrowDown:{key:"ArrowDown",code:"ArrowDown",vk:40},Home:{key:"Home",code:"Home",vk:36},End:{key:"End",code:"End",vk:35},PageUp:{key:"PageUp",code:"PageUp",vk:33},PageDown:{key:"PageDown",code:"PageDown",vk:34},Alt:{key:"Alt",code:"AltLeft",vk:18},Control:{key:"Control",code:"ControlLeft",vk:17},Meta:{key:"Meta",code:"MetaLeft",vk:91},Shift:{key:"Shift",code:"ShiftLeft",vk:16}}}describePrintableKey(e){let t=this._pressedModifiers.has("Shift"),r=/^[a-zA-Z]$/.test(e),n=/^[0-9]$/.test(e);if(r){let r=e.toUpperCase();return{key:t?r:r.toLowerCase(),code:`Key${r}`,vk:r.charCodeAt(0)}}return n?{key:e,code:`Digit${e}`,vk:e.charCodeAt(0)}:" "===e?{key:" ",code:"Space",vk:32}:{key:t?e.toUpperCase():e,vk:e.toUpperCase().charCodeAt(0)}}isMacOS(){try{return"darwin"===process.platform}catch(e){return!1}}macCommandsFor(e){if(!this.isMacOS())return[];let t=[];this._pressedModifiers.has("Shift")&&t.push("Shift"),this._pressedModifiers.has("Control")&&t.push("Control"),this._pressedModifiers.has("Alt")&&t.push("Alt"),this._pressedModifiers.has("Meta")&&t.push("Meta"),t.push(e);let r={"Meta+KeyA":"selectAll:","Meta+KeyC":"copy:","Meta+KeyX":"cut:","Meta+KeyV":"paste:","Meta+KeyZ":"undo:"}[t.join("+")];return r?(Array.isArray(r)?r:[r]).filter(e=>!e.startsWith("insert")).map(e=>e.substring(0,e.length-1)):[]}createIsolatedWorldForCurrentMain(){return eQ(this,null,function*(){yield this.mainSession.send("Runtime.enable").catch(()=>{});let{executionContextId:e}=yield this.mainSession.send("Page.createIsolatedWorld",{frameId:this.mainFrameId(),worldName:"v3-world"});return e})}waitForMainLoadState(e,t=15e3){return eQ(this,null,function*(){var r;yield this.mainSession.send("Page.setLifecycleEventsEnabled",{enabled:!0}).catch(()=>{});try{let t=yield this.createIsolatedWorldForCurrentMain(),{result:n}=yield this.mainSession.send("Runtime.evaluate",{expression:"document.readyState",contextId:t,returnByValue:!0}),a=String(null!=(r=null==n?void 0:n.value)?r:"");if("domcontentloaded"===e&&("interactive"===a||"complete"===a)||"load"===e&&"complete"===a)return}catch(e){}let n=eS[e];return new Promise((r,a)=>{let i=!1,o=null,s=()=>{this.mainSession.off("Page.lifecycleEvent",u),this.mainSession.off("Page.domContentEventFired",d),this.mainSession.off("Page.loadEventFired",c)},l=()=>{i||(i=!0,o&&(clearTimeout(o),o=null),s(),r())},u=e=>{e.name===n&&e.frameId===this.mainFrameId()&&l()},d=()=>{"domcontentloaded"===e&&l()},c=()=>{"load"===e&&l()};this.mainSession.on("Page.lifecycleEvent",u),this.mainSession.on("Page.domContentEventFired",d),this.mainSession.on("Page.loadEventFired",c),o=setTimeout(()=>{i||(i=!0,s(),a(Error(`waitForMainLoadState(${e}) timed out after ${t}ms`)))},t)})})}}}}),tW={};eK(tW,{AISdkClient:()=>pQ,AVAILABLE_CUA_MODELS:()=>pB,AgentProvider:()=>nO,AgentScreenshotProviderError:()=>w,AnnotatedScreenshotText:()=>a_,BrowserbaseSessionNotFoundError:()=>f,CaptchaTimeoutError:()=>g,ConnectionTimeoutError:()=>Z,ConsoleMessage:()=>ep,ContentFrameNotFoundError:()=>P,CreateChatCompletionResponseError:()=>k,CuaModelRequiredError:()=>z,ElementNotVisibleError:()=>U,ExperimentalApiConflictError:()=>A,ExperimentalNotConfiguredError:()=>j,HandlerNotInitializedError:()=>v,InvalidAISDKModelFormatError:()=>m,LLMClient:()=>aw,LLMResponseError:()=>O,LOG_LEVEL_NAMES:()=>pY,MCPConnectionError:()=>$,MissingEnvironmentVariableError:()=>u,MissingLLMConfigurationError:()=>y,PageNotFoundError:()=>B,Response:()=>em,ResponseBodyError:()=>L,ResponseParseError:()=>q,Stagehand:()=>mr,StagehandAPIError:()=>pZ,StagehandAPIUnauthorizedError:()=>pH,StagehandClickError:()=>T,StagehandDefaultError:()=>s,StagehandDomProcessError:()=>E,StagehandElementNotFoundError:()=>_,StagehandEnvironmentError:()=>l,StagehandError:()=>o,StagehandEvalError:()=>x,StagehandHttpError:()=>pG,StagehandIframeError:()=>I,StagehandInitError:()=>N,StagehandInvalidArgumentError:()=>b,StagehandMissingArgumentError:()=>S,StagehandNotInitializedError:()=>h,StagehandResponseBodyError:()=>pJ,StagehandResponseParseError:()=>pK,StagehandServerError:()=>pW,StagehandShadowRootMissingError:()=>M,StagehandShadowSegmentEmptyError:()=>D,StagehandShadowSegmentNotFoundError:()=>F,TimeoutError:()=>V,UnsupportedAISDKModelProviderError:()=>p,UnsupportedModelError:()=>d,UnsupportedModelProviderError:()=>c,V3:()=>mr,V3Evaluator:()=>ms,V3FunctionName:()=>rR,XPathResolutionError:()=>C,ZodSchemaValidationError:()=>R,connectToMCPServer:()=>pq,defaultExtractSchema:()=>rj,getZodType:()=>t5,injectUrls:()=>t7,isRunningInBun:()=>t6,jsonSchemaToZod:()=>ra,loadApiKeyFromEnv:()=>rr,modelToAgentProviderMap:()=>nT,pageTextSchema:()=>rz,providerEnvVarMap:()=>rt,toGeminiSchema:()=>t9,transformSchema:()=>t8,trimTrailingTextNode:()=>rn,validateZodSchema:()=>t4}),t.exports=eY(eN({},"__esModule",{value:!0}),tW);var tJ=eX(e.r(97289)),tK=eX(e.r(22734)),tY=eX(e.r(46786)),tX=eX(e.r(14747)),tQ=eX(e.r(5365));e0();var t1=e.r(42100),t0=e.r(43629),t2=/^\d+-\d+$/;function t4(e,t){let r=e.safeParse(t);if(r.success)return!0;throw new R(t,r.error.format())}function t6(){return"u">typeof process&&void 0!==process.versions&&"bun"in process.versions}function t3(e,t){return void 0===e.nullable&&(e.nullable=t.isOptional()),t.description&&(e.description=t.description),e}function t9(e){switch(t5(e)){case"ZodArray":return t3({type:t1.Type.ARRAY,items:t9(e.element)},e);case"ZodObject":{let t={},r=[];return Object.entries(e.shape).forEach(([e,n])=>{t[e]=t9(n),"ZodOptional"!==t5(n)&&r.push(e)}),t3({type:t1.Type.OBJECT,properties:t,required:r.length>0?r:void 0},e)}case"ZodString":return t3({type:t1.Type.STRING},e);case"ZodNumber":return t3({type:t1.Type.NUMBER},e);case"ZodBoolean":return t3({type:t1.Type.BOOLEAN},e);case"ZodEnum":return t3({type:t1.Type.STRING,enum:e._def.values},e);case"ZodDefault":case"ZodNullable":case"ZodOptional":return t3(eH(eZ({},t9(e._def.innerType)),{nullable:!0}),e);case"ZodLiteral":return t3({type:t1.Type.STRING,enum:[e._def.value]},e);default:return t3({type:t1.Type.OBJECT,nullable:!0},e)}}function t5(e){return e._def.typeName}function t8(e,t){var r,n,a,i,o,s;if(re(e,t0.ZodFirstPartyTypeKind.ZodString)){let t,l,u;return null!=(n=null==(r=e._def.checks)?void 0:r.some(e=>"url"===e.kind))&&n?[(t=null!=(s=null!=(o=(a=e).description)?o:null==(i=a._def)?void 0:i.description)?s:"",l="This field must be the element-ID in the form 'frameId-backendId' (e.g. \"0-432\").",u=t.trim().length>0?`${l} that follows this user-defined description: ${t}`:l,t0.z.string().regex(t2).describe(u)),[{segments:[]}]]:[e,[]]}if(re(e,t0.ZodFirstPartyTypeKind.ZodObject)){let r=e._def.shape(),n={},a=[],i=!1;for(let e of Object.keys(r)){let o=r[e],[s,l]=t8(o,[...t,e]);if(s!==o&&(i=!0),n[e]=s,l.length>0)for(let t of l)a.push({segments:[e,...t.segments]})}return i?[t0.z.object(n),a]:[e,a]}if(re(e,t0.ZodFirstPartyTypeKind.ZodArray)){let r=e._def.type,[n,a]=t8(r,[...t,"*"]),i=n!==r,o=a.map(e=>({segments:["*",...e.segments]}));return i?[t0.z.array(n),o]:[e,o]}if(re(e,t0.ZodFirstPartyTypeKind.ZodUnion)){let r=e._def.options,n=[],a=!1,i=[];return(r.forEach((e,r)=>{let[o,s]=t8(e,[...t,`union_${r}`]);o!==e&&(a=!0),n.push(o),i=[...i,...s]}),a)?[t0.z.union(n),i]:[e,i]}if(re(e,t0.ZodFirstPartyTypeKind.ZodIntersection)){let r=e._def.left,n=e._def.right,[a,i]=t8(r,[...t,"intersection_left"]),[o,s]=t8(n,[...t,"intersection_right"]),l=[...i,...s];return a!==r||o!==n?[t0.z.intersection(a,o),l]:[e,l]}if(re(e,t0.ZodFirstPartyTypeKind.ZodOptional)){let r=e._def.innerType,[n,a]=t8(r,t);return n!==r?[t0.z.optional(n),a]:[e,a]}if(re(e,t0.ZodFirstPartyTypeKind.ZodNullable)){let r=e._def.innerType,[n,a]=t8(r,t);return n!==r?[t0.z.nullable(n),a]:[e,a]}if(re(e,t0.ZodFirstPartyTypeKind.ZodEffects)){let r=e._def.schema,[n,a]=t8(r,t);return n!==r?[t0.z.effect(n,e._def.effect),a]:[e,a]}return[e,[]]}function t7(e,t,r){var n,a;if(0===t.length)return;let i=e=>"number"==typeof e?String(e):"string"==typeof e&&t2.test(e)?e:void 0,[o,...s]=t;if("*"===o){if(Array.isArray(e))if(0===s.length)for(let t=0;t<e.length;t+=1){let a=i(e[t]);void 0!==a&&(e[t]=null!=(n=r[a])?n:"")}else for(let t of e)t7(t,s,r);return}if(e&&"object"==typeof e)if(1===t.length){let t=i(e[o]);void 0!==t&&(e[o]=null!=(a=r[t])?a:"")}else t7(e[o],s,r)}function re(e,t){return e._def.typeName===t}var rt={openai:"OPENAI_API_KEY",anthropic:"ANTHROPIC_API_KEY",google:["GEMINI_API_KEY","GOOGLE_GENERATIVE_AI_API_KEY"],groq:"GROQ_API_KEY",cerebras:"CEREBRAS_API_KEY",togetherai:"TOGETHER_AI_API_KEY",mistral:"MISTRAL_API_KEY",deepseek:"DEEPSEEK_API_KEY",perplexity:"PERPLEXITY_API_KEY",azure:"AZURE_API_KEY",xai:"XAI_API_KEY",google_legacy:"GOOGLE_API_KEY"};function rr(e,t){if(!e)return;let r=rt[e];if(!r)return void t({category:"init",message:`No known environment variable for provider '${e}'`,level:0});let n=Array.isArray(r)?r.map(e=>process.env[e]).find(e=>e&&e.length>0):process.env[r];if("string"==typeof n&&n.length>0)return n}function rn(e){return null==e?void 0:e.replace(/\/text\(\)(\[\d+\])?$/iu,"")}function ra(e){switch(e.type){case"object":if(!e.properties)return t0.z.object({});{let t={};for(let r in e.properties)t[r]=ra(e.properties[r]);let r=t0.z.object(t);if(e.required&&Array.isArray(e.required)){let t=e.required.reduce((e,t)=>eH(eZ({},e),{[t]:!0}),{});r=r.partial().required(t)}return e.description&&(r=r.describe(e.description)),r}case"array":if(!e.items)return t0.z.array(t0.z.any());{let t=t0.z.array(ra(e.items));return e.description&&(t=t.describe(e.description)),t}case"string":{if(e.enum)return t0.z.string().refine(t=>e.enum.includes(t));let t=t0.z.string();return e.description&&(t=t.describe(e.description)),t}case"number":{let t=t0.z.number();return void 0!==e.minimum&&(t=t.min(e.minimum)),void 0!==e.maximum&&(t=t.max(e.maximum)),e.description&&(t=t.describe(e.description)),t}case"boolean":{let t=t0.z.boolean();return e.description&&(t=t.describe(e.description)),t}default:return t0.z.any()}}var ri=eX(e.r(30146)),ro={0:"error",1:"info",2:"debug"};function rs(){return void 0!==process.env.JEST_WORKER_ID||void 0!==process.env.PLAYWRIGHT_TEST_BASE_DIR||"true"===process.env.CI}var rl=class e{constructor(t={},r){this.isTest=rs(),this.externalLogger=r;const n=t.usePino;this.isTest?this.usePino=!1:!0===n?this.usePino=!0:!1===n?this.usePino=!1:this.usePino="function"!=typeof r,this.usePino&&(e.sharedPinoLogger||(e.sharedPinoLogger=function(e={}){let t={level:e.level||"info",base:void 0,browser:{asObject:!0},transport:void 0};if(e.pretty&&!rs())try{Object.assign(t,{transport:{target:"pino-pretty",options:{colorize:!0,translateTime:"SYS:standard",ignore:"pid,hostname"}}})}catch(e){console.warn("pino-pretty not available, falling back to standard logging")}return(0,ri.default)(t,e.destination)}(t)),this.logger=e.sharedPinoLogger),this.verbose=1}setVerbosity(e){if(this.verbose=e,this.usePino&&this.logger)switch(e){case 0:this.logger.level="error";break;case 1:this.logger.level="info";break;case 2:this.logger.level="debug"}}log(e){var t,r,n,a;if(!((null!=(t=e.level)?t:1)>this.verbose)){if(!this.usePino&&!this.externalLogger||this.isTest&&!this.externalLogger){let t=null!=(r=e.level)?r:1,a=null!=(n=e.timestamp)?n:new Date().toISOString(),i=`[${a}] ${0===t?"ERROR":2===t?"DEBUG":"INFO"}: ${e.message}`;if(e.auxiliary)for(let[t,r]of Object.entries(this.formatAuxiliaryData(e.auxiliary))){let e;e="object"==typeof r&&null!==r?JSON.stringify(r,null,2).split("\n").map((e,t)=>0===t?e:`    ${e}`).join("\n"):String(r),i+=`
    ${t}: ${e}`}switch(t){case 0:console.error(i);break;case 1:console.log(i);break;case 2:console.debug(i)}return}if(this.usePino&&this.logger){let t=ro[null!=(a=e.level)?a:1]||"info",r=eZ({category:e.category,timestamp:e.timestamp||new Date().toISOString()},this.formatAuxiliaryData(e.auxiliary));"error"===t?this.logger.error(r,e.message):"info"===t?this.logger.info(r,e.message):"debug"===t?this.logger.debug(r,e.message):"warn"===t?this.logger.warn(r,e.message):"trace"===t?this.logger.trace(r,e.message):this.logger.info(r,e.message)}this.externalLogger&&this.externalLogger(e)}}formatAuxiliaryData(e){if(!e)return{};let t={};for(let[r,{value:n,type:a}]of Object.entries(e)){let e;switch(a){case"integer":e=parseInt(n,10);break;case"float":e=parseFloat(n);break;case"boolean":e="true"===n;break;case"object":try{e=JSON.parse(n)}catch(t){e=n}break;default:e=n}if(void 0!==e){if("object"==typeof e&&null!==e&&(Array.isArray(e)?0===e.length:0===Object.keys(e).length))continue;t[r]=e}}return t}error(e,t){this.log({message:e,level:0,auxiliary:this.convertToAuxiliary(t)})}warn(e,t){this.log({message:e,level:1,category:"warning",auxiliary:this.convertToAuxiliary(t)})}info(e,t){this.log({message:e,level:1,auxiliary:this.convertToAuxiliary(t)})}debug(e,t){this.log({message:e,level:2,auxiliary:this.convertToAuxiliary(t)})}convertToAuxiliary(e){if(!e)return;let t={};for(let[r,n]of Object.entries(e)){if(void 0===n)continue;let e=typeof n;t[r]={value:"object"===e?JSON.stringify(n):String(n),type:"number"===e?Number.isInteger(n)?"integer":"float":"boolean"===e?"boolean":"object"===e?"object":"string"}}return t}};rl.sharedPinoLogger=null;var ru=e.r(54799);function rd(e){return JSON.parse(JSON.stringify(e))}function rc(e){return eQ(this,null,function*(){try{return e.url()}catch(e){return""}})}e0();var rp=class{constructor({storage:e,logger:t,getActHandler:r,getDefaultLlmClient:n,domSettleTimeoutMs:a}){this.storage=e,this.logger=t,this.getActHandler=r,this.getDefaultLlmClient=n,this.domSettleTimeoutMs=a}get enabled(){return this.storage.enabled}prepareContext(e,t,r){return eQ(this,null,function*(){if(!this.enabled)return null;let n=e.trim(),a=r?eZ({},r):{},i=yield rc(t),o=this.buildActCacheKey(n,i,a);return{instruction:n,cacheKey:o,pageUrl:i,variables:a}})}tryReplay(e,t,r){return eQ(this,null,function*(){var n;if(!this.enabled)return null;let{value:a,error:i,path:o}=yield this.storage.readJson(`${e.cacheKey}.json`);return i&&o?(this.logger({category:"cache",message:`failed to read act cache entry: ${o}`,level:2,auxiliary:{error:{value:String(i),type:"string"}}}),null):a&&1===a.version&&Array.isArray(a.actions)&&0!==a.actions.length?(this.logger({category:"cache",message:"act cache hit",level:1,auxiliary:{instruction:{value:e.instruction,type:"string"},url:{value:null!=(n=a.url)?n:e.pageUrl,type:"string"}}}),yield this.replayCachedActions(e,a,t,r)):null})}store(e,t){return eQ(this,null,function*(){var r;if(!this.enabled)return;let n={version:1,instruction:e.instruction,url:e.pageUrl,variables:e.variables,actions:null!=(r=t.actions)?r:[],actionDescription:t.actionDescription,message:t.message},{error:a,path:i}=yield this.storage.writeJson(`${e.cacheKey}.json`,n);a&&i?this.logger({category:"cache",message:"failed to write act cache entry",level:1,auxiliary:{error:{value:String(a),type:"string"}}}):this.logger({category:"cache",message:"act cache stored",level:2,auxiliary:{instruction:{value:e.instruction,type:"string"},url:{value:e.pageUrl,type:"string"}}})})}buildActCacheKey(e,t,r){let n=JSON.stringify({instruction:e,url:t,variables:r});return(0,ru.createHash)("sha256").update(n).digest("hex")}replayCachedActions(e,t,r,n){return eQ(this,null,function*(){let a=this.getActHandler();if(!a)throw new h("act()");let i=()=>eQ(this,null,function*(){var n,i,o;let s=[];for(let e of t.actions){let t=yield a.actFromObserveResult(e,r,this.domSettleTimeoutMs,this.getDefaultLlmClient());if(s.push(t),!t.success)break}if(0===s.length)return{success:!1,message:"Failed to perform act: cached entry has no actions",actionDescription:null!=(n=t.actionDescription)?n:t.instruction,actions:[]};let l=s.every(e=>e.success),u=s.flatMap(e=>{var t;return null!=(t=e.actions)?t:[]}),d=s.map(e=>e.message).filter(e=>e&&e.trim().length>0).join("  ")||t.message||`Replayed ${t.actions.length} cached action${1===t.actions.length?"":"s"}.`,c=t.actionDescription||(null==(i=s[s.length-1])?void 0:i.actionDescription)||(null==(o=t.actions[t.actions.length-1])?void 0:o.description)||t.instruction;return l&&u.length>0&&this.haveActionsChanged(t.actions,u)&&(yield this.refreshCacheEntry(e,eH(eZ({},t),{actions:u,message:d,actionDescription:c}))),{success:l,message:d,actionDescription:c,actions:u}});return yield this.runWithTimeout(i,n)})}haveActionsChanged(e,t){var r,n,a,i;if(e.length!==t.length)return!0;for(let o=0;o<e.length;o+=1){let s=e[o],l=t[o];if(!l||s.selector!==l.selector||s.description!==l.description||(null!=(r=s.method)?r:"")!==(null!=(n=l.method)?n:""))return!0;let u=null!=(a=s.arguments)?a:[],d=null!=(i=l.arguments)?i:[];if(u.length!==d.length)return!0;for(let e=0;e<u.length;e+=1)if(u[e]!==d[e])return!0}return!1}refreshCacheEntry(e,t){return eQ(this,null,function*(){let{error:r,path:n}=yield this.storage.writeJson(`${e.cacheKey}.json`,t);r&&n?this.logger({category:"cache",message:"failed to update act cache entry after self-heal",level:0,auxiliary:{error:{value:String(r),type:"string"}}}):this.logger({category:"cache",message:"act cache entry updated after self-heal",level:2,auxiliary:{instruction:{value:e.instruction,type:"string"},url:{value:e.pageUrl,type:"string"}}})})}runWithTimeout(e,t){return eQ(this,null,function*(){return t?yield new Promise((r,n)=>{let a=setTimeout(()=>{n(Error(`act() timed out after ${t}ms`))},t);e().then(e=>{clearTimeout(a),r(e)},e=>{clearTimeout(a),n(e)})}):yield e()})}},rm=e.r(54799),rh=new Set(["apikey","api_key","api-key"]),rf=class{constructor({storage:e,logger:t,getActHandler:r,getContext:n,getDefaultLlmClient:a,getBaseModelName:i,getSystemPrompt:o,domSettleTimeoutMs:s,act:l}){this.recording=null,this.storage=e,this.logger=t,this.getActHandler=r,this.getContext=n,this.getDefaultLlmClient=a,this.getBaseModelName=i,this.getSystemPrompt=o,this.domSettleTimeoutMs=s,this.act=l}get enabled(){return this.storage.enabled}shouldAttemptCache(e){return this.enabled&&e.trim().length>0}sanitizeExecuteOptions(e){if(!e)return{};let t={};return"number"==typeof e.maxSteps&&(t.maxSteps=e.maxSteps),"highlightCursor"in e&&"boolean"==typeof e.highlightCursor&&(t.highlightCursor=e.highlightCursor),t}buildConfigSignature(e){var t,r,n;let a=(null==e?void 0:e.tools)?Object.keys(e.tools).sort():void 0,i=(null==e?void 0:e.integrations)?e.integrations.map(e=>"string"==typeof e?e:"client"):void 0,o=this.serializeAgentModelForCache(null==e?void 0:e.model),s=this.serializeAgentModelForCache(null==e?void 0:e.executionModel);return JSON.stringify({v3Model:this.getBaseModelName(),systemPrompt:null!=(t=this.getSystemPrompt())?t:"",agent:{cua:null!=(r=null==e?void 0:e.cua)&&r,model:null!=o?o:null,executionModel:(null==e?void 0:e.cua)?null:s,systemPrompt:null!=(n=null==e?void 0:e.systemPrompt)?n:null,toolKeys:a,integrations:i}})}prepareContext(e){return eQ(this,null,function*(){if(!this.shouldAttemptCache(e.instruction))return null;let t=e.instruction.trim(),r=yield rc(e.page),n=this.buildAgentCacheKey(t,r,e.options,e.configSignature);return{instruction:t,startUrl:r,options:e.options,configSignature:e.configSignature,cacheKey:n}})}tryReplay(e){return eQ(this,null,function*(){if(!this.enabled)return null;let{value:t,error:r,path:n}=yield this.storage.readJson(`agent-${e.cacheKey}.json`);return r&&n?(this.logger({category:"cache",message:`failed to read agent cache entry: ${n}`,level:1,auxiliary:{error:{value:String(r),type:"string"}}}),null):t&&1===t.version?(this.logger({category:"cache",message:"agent cache hit",level:1,auxiliary:{instruction:{value:e.instruction,type:"string"},url:{value:e.startUrl,type:"string"}}}),yield this.replayAgentCacheEntry(t)):null})}store(e,t,r){return eQ(this,null,function*(){if(!this.enabled)return;let n={version:1,instruction:e.instruction,startUrl:e.startUrl,options:e.options,configSignature:e.configSignature,steps:rd(t),result:rd(r),timestamp:new Date().toISOString()},{error:a,path:i}=yield this.storage.writeJson(`agent-${e.cacheKey}.json`,n);a&&i?this.logger({category:"cache",message:"failed to write agent cache entry",level:1,auxiliary:{error:{value:String(a),type:"string"}}}):this.logger({category:"cache",message:"agent cache stored",level:2,auxiliary:{instruction:{value:e.instruction,type:"string"},steps:{value:String(t.length),type:"string"}}})})}beginRecording(){this.recording=[]}endRecording(){if(!this.recording)return[];let e=rd(this.recording);return this.recording=null,e}discardRecording(){this.recording=null}isRecording(){return Array.isArray(this.recording)}recordStep(e){if(this.isRecording())try{this.recording.push(rd(e))}catch(e){this.logger({category:"cache",message:"failed to record agent replay step",level:2,auxiliary:{error:{value:String(e),type:"string"}}})}}isReplayActive(){return this.isRecording()}serializeAgentModelForCache(e){if(!e)return null;if("string"==typeof e)return e;let{modelName:t}=e,r=eG(e,["modelName"]),n=Object.keys(r).length>0?this.sanitizeModelOptionsForCache(r):void 0;return n?{modelName:t,options:n}:t}buildAgentCacheKey(e,t,r,n){return(0,rm.createHash)("sha256").update(JSON.stringify({instruction:e,startUrl:t,options:r,configSignature:n})).digest("hex")}sanitizeModelOptionsForCache(e){let t={};for(let[r,n]of Object.entries(e)){if(rh.has(r.toLowerCase()))continue;let e=this.sanitizeModelValueForCache(n);void 0!==e&&(t[r]=e)}return Object.keys(t).length>0?t:void 0}sanitizeModelValueForCache(e){return Array.isArray(e)?e.map(e=>this.sanitizeModelValueForCache(e)).filter(e=>void 0!==e):e&&"object"==typeof e?this.sanitizeModelOptionsForCache(e):e}replayAgentCacheEntry(e){return eQ(this,null,function*(){var t,r;let n=this.getContext(),a=this.getActHandler();if(!n||!a)return null;try{for(let r of null!=(t=e.steps)?t:[])yield this.executeAgentReplayStep(r,n,a);let i=rd(e.result);return i.usage={input_tokens:0,output_tokens:0,reasoning_tokens:0,cached_input_tokens:0,inference_time_ms:0},i.metadata=eH(eZ({},null!=(r=i.metadata)?r:{}),{cacheHit:!0,cacheTimestamp:e.timestamp}),i}catch(e){return this.logger({category:"cache",message:"agent cache replay failed",level:1,auxiliary:{error:{value:String(e),type:"string"}}}),null}})}executeAgentReplayStep(e,t,r){return eQ(this,null,function*(){switch(e.type){case"act":yield this.replayAgentActStep(e,t,r);return;case"fillForm":yield this.replayAgentFillFormStep(e,t,r);return;case"goto":yield this.replayAgentGotoStep(e,t);return;case"scroll":yield this.replayAgentScrollStep(e,t);return;case"wait":yield this.replayAgentWaitStep(e);return;case"navback":yield this.replayAgentNavBackStep(e,t);return;case"close":case"extract":case"screenshot":case"ariaTree":return;default:this.logger({category:"cache",message:`agent cache skipping step type: ${e.type}`,level:2})}})}replayAgentActStep(e,t,r){return eQ(this,null,function*(){let n=Array.isArray(e.actions)?e.actions:[];if(n.length>0){let e=yield t.awaitActivePage();for(let t of n)yield r.actFromObserveResult(t,e,this.domSettleTimeoutMs,this.getDefaultLlmClient());return}yield this.act(e.instruction,{timeout:e.timeout})})}replayAgentFillFormStep(e,t,r){return eQ(this,null,function*(){var n;let a=Array.isArray(e.actions)&&e.actions.length>0?e.actions:null!=(n=e.observeResults)?n:[];if(!Array.isArray(a)||0===a.length)return;let i=yield t.awaitActivePage();for(let e of a)yield r.actFromObserveResult(e,i,this.domSettleTimeoutMs,this.getDefaultLlmClient())})}replayAgentGotoStep(e,t){return eQ(this,null,function*(){var r;let n=yield t.awaitActivePage();yield n.goto(e.url,{waitUntil:null!=(r=e.waitUntil)?r:"load"})})}replayAgentScrollStep(e,t){return eQ(this,null,function*(){var r,n,a,i;let o=yield t.awaitActivePage(),s=e.anchor;s||(s=yield o.mainFrame().evaluate(()=>({x:Math.max(0,Math.floor(window.innerWidth/2)),y:Math.max(0,Math.floor(window.innerHeight/2))})));let l=null!=(r=e.deltaX)?r:0,u=null!=(n=e.deltaY)?n:0;yield o.scroll(Math.round(null!=(a=s.x)?a:0),Math.round(null!=(i=s.y)?i:0),l,u)})}replayAgentWaitStep(e){return eQ(this,null,function*(){e.timeMs&&!(e.timeMs<=0)&&(yield new Promise(t=>setTimeout(t,e.timeMs)))})}replayAgentNavBackStep(e,t){return eQ(this,null,function*(){var r;let n=yield t.awaitActivePage();yield n.goBack({waitUntil:null!=(r=e.waitUntil)?r:"domcontentloaded"})})}},rg=eX(e.r(22734)),ry=eX(e.r(14747)),rv=class e{constructor(e,t){this.logger=e,this.dir=t}static create(t,r,n){var a;if(!t)return new e(r);let i=ry.default.resolve(t);try{return rg.default.mkdirSync(i,{recursive:!0}),new e(r,i)}catch(o){let t=null!=(a=null==n?void 0:n.label)?a:"cache directory";return r({category:"cache",message:`unable to initialize ${t}: ${i}`,level:1,auxiliary:{error:{value:String(o),type:"string"}}}),new e(r)}}get directory(){return this.dir}get enabled(){return!!this.dir}resolvePath(e){return this.dir?ry.default.join(this.dir,e):null}readJson(e){return eQ(this,null,function*(){let t=this.resolvePath(e);if(!t)return{value:null};try{let e=yield rg.default.promises.readFile(t,"utf8");return{value:JSON.parse(e)}}catch(e){if("ENOENT"===(null==e?void 0:e.code))return{value:null};return{value:null,error:e,path:t}}})}writeJson(e,t){return eQ(this,null,function*(){let r=this.resolvePath(e);if(!r)return{};try{return yield rg.default.promises.mkdir(ry.default.dirname(r),{recursive:!0}),yield rg.default.promises.writeFile(r,JSON.stringify(t,null,2),"utf8"),{}}catch(e){return{error:e,path:r}}})}},rb=e.r(43629);function r_(e){return e?`

# Custom Instructions Provided by the User
    
Please keep the user's instructions in mind when performing actions. If the user's instructions are not relevant to the current task, ignore them.

User Instructions:
${e}`:""}var rw=`You are an AI assistant tasked with evaluating the progress and completion status of an extraction task.
Analyze the extraction response and determine if the task is completed or if more information is needed.
Strictly abide by the following criteria:
1. Once the instruction has been satisfied by the current extraction response, ALWAYS set completion status to true and stop processing, regardless of remaining chunks.
2. Only set completion status to false if BOTH of these conditions are true:
   - The instruction has not been satisfied yet
   - There are still chunks left to process (chunksTotal > chunksSeen)`;function rS(e,t){return{role:"user",content:`instruction: ${e}
Accessibility Tree: 
${t}
`}}function rk(e,t,r){let n=`Find the most relevant element to perform an action on given the following action: ${e}.  
  IF AND ONLY IF the action EXPLICITLY includes the word 'dropdown' and implies choosing/selecting an option from a dropdown, ignore the 'General Instructions' section, and follow the 'Dropdown Specific Instructions' section carefully.
  
  General Instructions: 
    Provide an action for this element such as ${t.join(", ")}. Remember that to users, buttons and links look the same in most cases.
    If the action is completely unrelated to a potential action to be taken on the page, return an empty object. 
    ONLY return one action. If multiple actions are relevant, return the most relevant one. 
    If the user is asking to scroll to a position on the page, e.g., 'halfway' or 0.75, etc, you must return the argument formatted as the correct percentage, e.g., '50%' or '75%', etc.
    If the user is asking to scroll to the next chunk/previous chunk, choose the nextChunk/prevChunk method. No arguments are required here.
    If the action implies a key press, e.g., 'press enter', 'press a', 'press space', etc., always choose the press method with the appropriate key as argument \u2014 e.g. 'a', 'Enter', 'Space'. Do not choose a click action on an on-screen keyboard. Capitalize the first character like 'Enter', 'Tab', 'Escape' only for special keys. 
  
  Dropdown Specific Instructions:
    For interacting with dropdowns, there are two specific cases that you need to handle. 
    
    CASE 1: the element is a 'select' element. 
      - choose the selectOptionFromDropdown method,
      - set the argument to the exact text of the option that should be selected,
      - set twoStep to false.
    CASE 2: the element is NOT a 'select' element:
      - do not attempt to directly choose the element from the dropdown. You will need to click to expand the dropdown first. You will achieve this by following these instructions:
        - choose the node that most closely corresponds to the given instruction EVEN if it is a 'StaticText' element, or otherwise does not appear to be interactable.  
        - choose the 'click' method
        - set twoStep to true.
  `;if(r&&Object.keys(r).length>0){let e=Object.keys(r).map(e=>`%${e}%`).join(", "),t=`The following variables are available to use in the action: ${e}. Fill the argument variables with the variable name.`;n+=` ${t}`}return n}var rx=eX(e.r(22734)),rE=eX(e.r(14747));function rT(){let e=rE.default.join(process.cwd(),"inference_summary");return rx.default.existsSync(e)||rx.default.mkdirSync(e,{recursive:!0}),e}function rO(e,t){let r=rP(e),n=`${e}_summary`,a=function(e){let t=rP(e),r=`${e}_summary`;if(!rx.default.existsSync(t))return{[r]:[]};try{let e=rx.default.readFileSync(t,"utf8"),n=JSON.parse(e);if(n&&"object"==typeof n&&Array.isArray(n[r]))return n}catch(e){}return{[r]:[]}}(e);a[n].push(t),rx.default.writeFileSync(r,JSON.stringify(a,null,2))}function rI(e,t,r){let n=rT(),a=rE.default.join(n,e);rx.default.existsSync(a)||rx.default.mkdirSync(a,{recursive:!0});let i=new Date().toISOString().replace(/[^0-9T]/g,"").replace("T","_"),o=`${i}_${t}.txt`,s=rE.default.join(a,o);return rx.default.writeFileSync(s,JSON.stringify(r,null,2).replace(/\\n/g,"\n")),{fileName:o,timestamp:i}}function rP(e){let t=rT(),r=rE.default.join(t,`${e}_summary`);return rx.default.existsSync(r)||rx.default.mkdirSync(r,{recursive:!0}),rE.default.join(r,`${e}_summary.json`)}function rC(e){return eQ(this,arguments,function*({instruction:e,domElements:t,llmClient:r,userProvidedInstructions:n,logger:a,logInferenceToFile:i=!1}){var o,s,l,u;let d=r.modelName.includes("gpt-5"),c=rb.z.object({elementId:rb.z.string().describe("the ID string associated with the element. Never include surrounding square brackets. This field must follow the format of 'number-number'."),description:rb.z.string().describe("a description of the accessible element and its purpose"),method:rb.z.string().describe("the candidate method/action to interact with the element. Select one of the available Playwright interaction methods."),arguments:rb.z.array(rb.z.string().describe("the arguments to pass to the method. For example, for a click, the arguments are empty, but for a fill, the arguments are the value to fill in.")),twoStep:rb.z.boolean()}),p=[{role:"system",content:[`
You are helping the user automate the browser by finding elements based on what action the user wants to take on the page

You will be given:
1. a user defined instruction about what action to take
2. a hierarchical accessibility tree showing the semantic structure of the page. The tree is a hybrid of the DOM and the accessibility tree.

Return the element that matches the instruction if it exists. Otherwise, return an empty object.`.replace(/\s+/g," "),r_(n)].filter(Boolean).join("\n\n")},rS(e,t)],m="",h="";if(i){let{fileName:e,timestamp:t}=rI("act_summary","act_call",{modelCall:"act",messages:p});h=e,m=t}let f=Date.now(),g=yield r.createChatCompletion({options:{messages:p,response_model:{schema:c,name:"act"},temperature:d?1:.1,top_p:1,frequency_penalty:0,presence_penalty:0},logger:a}),y=Date.now()-f,{data:v,usage:b}=g,_=null!=(o=null==b?void 0:b.prompt_tokens)?o:0,w=null!=(s=null==b?void 0:b.completion_tokens)?s:0,S=null!=(l=null==b?void 0:b.reasoning_tokens)?l:0,k=null!=(u=null==b?void 0:b.cached_input_tokens)?u:0;if(i){let{fileName:e}=rI("act_summary","act_response",{modelResponse:"act",rawResponse:v});rO("act",{act_inference_type:"act",timestamp:m,LLM_input_file:h,LLM_output_file:e,prompt_tokens:_,completion_tokens:w,reasoning_tokens:S,cached_input_tokens:k,inference_time_ms:y})}return{element:{elementId:v.elementId,description:String(v.description),method:String(v.method),arguments:v.arguments},prompt_tokens:_,completion_tokens:w,reasoning_tokens:S,cached_input_tokens:k,inference_time_ms:y,twoStep:v.twoStep}})}e6();var rA=e.r(43629),rj=rA.z.object({extraction:rA.z.string()}),rz=rA.z.object({pageText:rA.z.string()}),rR=((n=rR||{}).ACT="ACT",n.EXTRACT="EXTRACT",n.OBSERVE="OBSERVE",n.AGENT="AGENT",n);tm();var rN=((a=rN||{}).CLICK="click",a.FILL="fill",a.TYPE="type",a.PRESS="press",a.SCROLL="scrollTo",a.NEXT_CHUNK="nextChunk",a.PREV_CHUNK="prevChunk",a.SELECT_OPTION_FROM_DROPDOWN="selectOptionFromDropdown",a.HOVER="hover",a);tS(),e6(),e0();var r$=class extends Error{constructor(e){super(e),this.name="UnderstudyCommandException"}};function rM(e,t,r,n,a,i){return eQ(this,null,function*(){var o;let s,l="/"===(s=String(null!=n?n:"").trim())?"/html":/^xpath=\/$/i.test(s)?"xpath=/html":s,u=yield tw(e,t,l),d=yield rZ(t);e4({category:"action",message:"performing understudy method",level:2,auxiliary:{xpath:{value:l,type:"string"},method:{value:r,type:"string"},url:{value:d,type:"string"}}});let c={method:r,locator:u,xpath:l,args:a.map(e=>null==e?"":String(e)),frame:t,page:e,initialUrl:d,domSettleTimeoutMs:i};try{let e=null!=(o=rD[r])?o:null;if(e)yield e(c);else switch(r){case"click":yield rV(c);break;case"fill":yield rL(c);break;case"type":yield rq(c);break;default:throw e4({category:"action",message:"chosen method is invalid",level:1,auxiliary:{method:{value:r,type:"string"}}}),new r$(`Method ${r} not supported`)}yield function(e,t,r,n){return eQ(this,null,function*(){e4({category:"action",message:`${e}, checking for page navigation`,level:1,auxiliary:{xpath:{value:t,type:"string"}}});let a=yield rZ(n);a!==r?e4({category:"action",message:"new page (frame) URL detected",level:1,auxiliary:{url:{value:a,type:"string"}}}):e4({category:"action",message:"no new (frame) URL detected",level:1,auxiliary:{url:{value:a,type:"string"}}})})}("action",l,d,t)}catch(n){let e=n instanceof Error?n.message:String(n),t=n instanceof Error?n.stack:void 0;throw e4({category:"action",message:"error performing method",level:1,auxiliary:{error:{value:e,type:"string"},trace:{value:null!=t?t:"",type:"string"},method:{value:r,type:"string"},xpath:{value:l,type:"string"},args:{value:JSON.stringify(a),type:"object"}}}),new r$(e)}})}var rD={scrollIntoView:function(e){return eQ(this,null,function*(){let{locator:t,xpath:r}=e;e4({category:"action",message:"scrolling element into view",level:2,auxiliary:{xpath:{value:r,type:"string"}}});let{objectId:n}=yield t.resolveNode(),a=t.getFrame().session;yield a.send("DOM.scrollIntoViewIfNeeded",{objectId:n}),yield a.send("Runtime.releaseObject",{objectId:n}).catch(()=>{})})},scrollByPixelOffset:function(e){return eQ(this,null,function*(){var t,r;let{locator:n,page:a,args:i}=e,o=Number(null!=(t=i[0])?t:0),s=Number(null!=(r=i[1])?r:0);try{let{x:e,y:t}=yield n.centroid();yield a.scroll(e,t,o,s)}catch(e){throw new r$(e.message)}})},scrollTo:rU,scroll:rU,"mouse.wheel":function(e){return eQ(this,null,function*(){var t;let{frame:r,args:n}=e,a=Number(null!=(t=n[0])?t:200);e4({category:"action",message:"dispatching mouse wheel",level:2,auxiliary:{deltaY:{value:String(a),type:"string"}}}),yield r.session.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:0,y:0,deltaY:a,deltaX:0})})},fill:rL,type:rq,press:function(e){return eQ(this,null,function*(){var t;let{args:r,xpath:n,page:a}=e,i=null!=(t=r[0])?t:"";try{e4({category:"action",message:"pressing key",level:1,auxiliary:{key:{value:i,type:"string"},xpath:{value:n,type:"string"}}}),yield a.keyPress(i)}catch(t){let e=t instanceof Error?t.message:String(t);throw e4({category:"action",message:"error pressing key",level:1,auxiliary:{error:{value:e,type:"string"},key:{value:i,type:"string"},xpath:{value:n,type:"string"}}}),new r$(e)}})},click:rV,doubleClick:function(e){return eQ(this,null,function*(){let{locator:t,xpath:r}=e;try{yield t.click({clickCount:2})}catch(t){let e=t instanceof Error?t.message:String(t);throw e4({category:"action",message:"error performing doubleClick",level:0,auxiliary:{error:{value:e,type:"string"},xpath:{value:r,type:"string"}}}),new r$(e)}})},dragAndDrop:function(e){return eQ(this,null,function*(){var t;let{page:r,frame:n,locator:a,args:i,xpath:o}=e,s=String(null!=(t=i[0])?t:"").trim();if(!s)throw new r$("dragAndDrop requires a target XPath arg");let l=yield tw(r,n,s);try{let{x:e,y:t}=yield a.centroid(),{x:n,y:i}=yield l.centroid(),o=yield a.getFrame().evaluate(({x:e,y:t})=>{let r=e,n=t,a=window;for(;a!==a.top;){let e=a.frameElement;if(!e)break;let t=e.getBoundingClientRect();r+=t.left,n+=t.top,a=a.parent}return{x:Math.round(r),y:Math.round(n)}},{x:e,y:t}),s=yield l.getFrame().evaluate(({x:e,y:t})=>{let r=e,n=t,a=window;for(;a!==a.top;){let e=a.frameElement;if(!e)break;let t=e.getBoundingClientRect();r+=t.left,n+=t.top,a=a.parent}return{x:Math.round(r),y:Math.round(n)}},{x:n,y:i});yield r.dragAndDrop(o.x,o.y,s.x,s.y,{steps:10,delay:5})}catch(t){let e=t instanceof Error?t.message:String(t);throw e4({category:"action",message:"error performing dragAndDrop",level:0,auxiliary:{error:{value:e,type:"string"},from:{value:o,type:"string"},to:{value:s,type:"string"}}}),new r$(e)}})},nextChunk:function(e){return eQ(this,null,function*(){yield rB(e,1)})},prevChunk:function(e){return eQ(this,null,function*(){yield rB(e,-1)})},selectOptionFromDropdown:rF,selectOption:rF,hover:function(e){return eQ(this,null,function*(){let{locator:t,xpath:r}=e;try{yield t.hover()}catch(e){throw e4({category:"action",message:"error attempting to hover",level:0,auxiliary:{error:{value:e.message,type:"string"},trace:{value:e.stack,type:"string"},xpath:{value:r,type:"string"}}}),new r$(e.message)}})}};function rF(e){return eQ(this,null,function*(){var t;let{locator:r,xpath:n,args:a}=e;try{let e=(null==(t=a[0])?void 0:t.toString())||"";yield r.selectOption(e)}catch(e){throw e4({category:"action",message:"error selecting option",level:0,auxiliary:{error:{value:e.message,type:"string"},trace:{value:e.stack,type:"string"},xpath:{value:n,type:"string"}}}),new r$(e.message)}})}function rU(e){return eQ(this,null,function*(){let{locator:t,xpath:r,args:n}=e;e4({category:"action",message:"scrolling element vertically to specified percentage",level:2,auxiliary:{xpath:{value:r,type:"string"},coordinate:{value:JSON.stringify(n),type:"string"}}});let[a="0%"]=n;yield t.scrollTo(a)})}function rL(e){return eQ(this,null,function*(){var t;let{locator:r,xpath:n,args:a}=e;try{yield r.fill(""),yield r.fill(null!=(t=a[0])?t:"")}catch(t){let e=t instanceof Error?t.message:String(t);throw e4({category:"action",message:"error filling element",level:1,auxiliary:{error:{value:e,type:"string"},xpath:{value:n,type:"string"}}}),new r$(e)}})}function rq(e){return eQ(this,null,function*(){var t;let{locator:r,xpath:n,args:a}=e;try{yield r.type(null!=(t=a[0])?t:"")}catch(t){let e=t instanceof Error?t.message:String(t);throw e4({category:"action",message:"error typing into element",level:1,auxiliary:{error:{value:e,type:"string"},xpath:{value:n,type:"string"}}}),new r$(e)}})}function rV(e){return eQ(this,null,function*(){let{locator:t,xpath:r}=e;try{yield t.click()}catch(n){let t=n instanceof Error?n.message:String(n);throw e4({category:"action",message:"error performing click",level:0,auxiliary:{error:{value:t,type:"string"},xpath:{value:r,type:"string"}}}),new T(e.xpath,t)}})}function rB(e,t){return eQ(this,null,function*(){let{locator:r,xpath:n}=e;e4({category:"action",message:t>0?"scrolling to next chunk":"scrolling to previous chunk",level:2,auxiliary:{xpath:{value:n,type:"string"}}});let{objectId:a}=yield r.resolveNode();try{let e=r.getFrame().session;yield e.send("Runtime.callFunctionOn",{objectId:a,functionDeclaration:`
          function(dir) {
            const waitForScrollEnd = (el) => new Promise((resolve) => {
              let last = el.scrollTop ?? 0;
              const check = () => {
                const cur = el.scrollTop ?? 0;
                if (cur === last) return resolve();
                last = cur;
                requestAnimationFrame(check);
              };
              requestAnimationFrame(check);
            });

            const tag = this.tagName?.toLowerCase();
            if (tag === "html" || tag === "body") {
              const h = window.visualViewport?.height ?? window.innerHeight;
              window.scrollBy({ top: h * dir, left: 0, behavior: "smooth" });
              const root = document.scrollingElement ?? document.documentElement;
              return waitForScrollEnd(root);
            }
            const h = this.getBoundingClientRect().height;
            this.scrollBy({ top: h * dir, left: 0, behavior: "smooth" });
            return waitForScrollEnd(this);
          }
        `,arguments:[{value:t}],awaitPromise:!0,returnByValue:!0})}finally{let e=r.getFrame().session;yield e.send("Runtime.releaseObject",{objectId:a}).catch(()=>{})}})}function rZ(e){return eQ(this,null,function*(){return yield e.evaluate("location.href")})}var rH=class{constructor(e,t,r,n,a,i,o,s,l){this.llmClient=e,this.defaultModelName=t,this.defaultClientOptions=r,this.resolveLlmClient=n,this.systemPrompt=null!=a?a:"",this.logInferenceToFile=null!=i&&i,this.selfHeal=!!o,this.onMetrics=s,this.defaultDomSettleTimeoutMs=l}act(e){return eQ(this,null,function*(){let{instruction:t,page:r,variables:n,timeout:a,model:i}=e,o=this.resolveLlmClient(i),s=()=>eQ(this,null,function*(){var e,a,i,s,l,u,d,c,p,m,h,f,g,y;yield function(e,t){return eQ(this,null,function*(){let r,n="number"==typeof t?t:5e3,a=e.session;try{let t=yield e.evaluate("document.readyState");r="interactive"===t||"complete"===t}catch(e){r=!1}return r||(yield e.waitForLoadState("domcontentloaded").catch(()=>{})),yield a.send("Network.enable").catch(()=>{}),yield a.send("Page.enable").catch(()=>{}),yield a.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0,filter:[{type:"worker",exclude:!0},{type:"shared_worker",exclude:!0}]}).catch(()=>{}),new Promise(e=>{let t=new Set,r=new Map,i=new Map,o=null,s=null,l=()=>{o&&(clearTimeout(o),o=null)},u=()=>{0!==t.size||o||(o=setTimeout(()=>y(),500))},d=e=>{if(t.delete(e)){for(let[t,n]of(r.delete(e),i))n===e&&i.delete(t);l(),u()}},c=e=>{"WebSocket"!==e.type&&"EventSource"!==e.type&&(t.add(e.requestId),r.set(e.requestId,{url:e.request.url,start:Date.now()}),"Document"===e.type&&e.frameId&&i.set(e.frameId,e.requestId),l())},p=e=>d(e.requestId),m=e=>d(e.requestId),h=e=>{var t;(null==(t=e.response.url)?void 0:t.startsWith("data:"))&&d(e.requestId)},f=e=>{let t=i.get(e.frameId);t&&d(t)};a.on("Network.requestWillBeSent",c),a.on("Network.loadingFinished",p),a.on("Network.loadingFailed",p),a.on("Network.requestServedFromCache",m),a.on("Network.responseReceived",h),a.on("Page.frameStoppedLoading",f),s=setInterval(()=>{var e;let n=Date.now();for(let[a,i]of r)n-i.start>2e3&&(t.delete(a),r.delete(a),e4({category:"dom",message:" forcing completion of stalled iframe document",level:1,auxiliary:{url:{value:(null!=(e=i.url)?e:"").slice(0,120),type:"string"}}}));u()},500),u();let g=setTimeout(()=>{t.size&&e4({category:"dom",message:" DOM-settle timeout reached  network requests still pending",level:1,auxiliary:{count:{value:String(t.size),type:"integer"}}}),y()},n),y=()=>{a.off("Network.requestWillBeSent",c),a.off("Network.loadingFinished",p),a.off("Network.loadingFailed",p),a.off("Network.requestServedFromCache",m),a.off("Network.responseReceived",h),a.off("Page.frameStoppedLoading",f),o&&clearTimeout(o),s&&clearInterval(s),clearTimeout(g),e()}})})}(r.mainFrame(),this.defaultDomSettleTimeoutMs);let v=yield te(r,{experimental:!0}),b=v.combinedTree,_=null!=(e=v.combinedXpathMap)?e:{},w=rk(t,Object.values(rN),n),S=yield rC({instruction:w,domElements:b,llmClient:o,userProvidedInstructions:this.systemPrompt,logger:e4,logInferenceToFile:this.logInferenceToFile}),k=null!=(a=S.prompt_tokens)?a:0,x=null!=(i=S.completion_tokens)?i:0,E=null!=(s=S.reasoning_tokens)?s:0,T=null!=(l=S.cached_input_tokens)?l:0,O=null!=(u=S.inference_time_ms)?u:0;null==(d=this.onMetrics)||d.call(this,"ACT",k,x,E,T,O);let I=S.element,P=(()=>{if(!I)return;let{elementId:e,description:t,method:r,arguments:n}=I;if(r&&"not-supported"!==r&&Array.isArray(n)&&"string"==typeof e&&e.includes("-")){let a=rn(_[e]);if(!a)return;return{description:t,method:r,arguments:n,selector:`xpath=${a}`}}})();if(!P)return e4({category:"action",message:"no actionable element returned by LLM",level:1}),{success:!1,message:"Failed to perform act: No action found",actionDescription:t,actions:[]};let C=eZ({},P);n&&Array.isArray(C.arguments)&&(C.arguments=C.arguments.map(e=>{let t=e;for(let[e,r]of Object.entries(n)){let n=`%${e}%`;t=t.split(n).join(String(r))}return t}));let A=yield this.actFromObserveResult(C,r,this.defaultDomSettleTimeoutMs,o);if(!S.twoStep)return A;let j=yield te(r,{experimental:!0}),z=j.combinedTree,R=function(e,t){let r=new Set((e||"").split("\n").map(e=>e.trim()).filter(e=>e.length>0)),n=(t||"").split("\n"),a=[];for(let e of n){let t=e.trim();t&&(r.has(t)||a.push(e))}if(0===a.length)return"";let i=1/0;for(let e of a){if(!e.trim())continue;let t=e.match(/^\s*/),r=t?t[0].length:0;r<i&&(i=r)}return isFinite(i)||(i=0),a.map(e=>e.length>=i?e.slice(i):e).join("\n")}(b,z);R.trim()||(R=z);let N=null!=(c=j.combinedXpathMap)?c:{},$=function(e,t,r,n){let a=`
  The original user action was: ${e}.
  You have just taken the following action which completed step 1 of 2: ${t}.
  
  Now, you must find the most relevant element to perform an action on in order to complete step 2 of 2. 
  
  General Instructions: 
  Provide an action for this element such as ${r.join(", ")}. Remember that to users, buttons and links look the same in most cases.
  If the action is completely unrelated to a potential action to be taken on the page, return an empty object. 
  ONLY return one action. If multiple actions are relevant, return the most relevant one. 
  If the user is asking to scroll to a position on the page, e.g., 'halfway' or 0.75, etc, you must return the argument formatted as the correct percentage, e.g., '50%' or '75%', etc.
  If the user is asking to scroll to the next chunk/previous chunk, choose the nextChunk/prevChunk method. No arguments are required here.
  If the action implies a key press, e.g., 'press enter', 'press a', 'press space', etc., always choose the press method with the appropriate key as argument \u2014 e.g. 'a', 'Enter', 'Space'. Do not choose a click action on an on-screen keyboard. Capitalize the first character like 'Enter', 'Tab', 'Escape' only for special keys. 
  `;if(n&&Object.keys(n).length>0){let e=Object.keys(n).map(e=>`%${e}%`).join(", "),t=`The following variables are available to use in the action: ${e}. Fill the argument variables with the variable name.`;a+=` ${t}`}return a}(t,`method: ${C.method}, description: ${C.description}, arguments: ${C.arguments}`,Object.values(rN).filter(e=>"selectOptionFromDropdown"!==e),n),M=yield rC({instruction:$,domElements:R,llmClient:o,userProvidedInstructions:this.systemPrompt,logger:e4,logInferenceToFile:this.logInferenceToFile});null==(y=this.onMetrics)||y.call(this,"ACT",null!=(p=M.prompt_tokens)?p:0,null!=(m=M.completion_tokens)?m:0,null!=(h=M.reasoning_tokens)?h:0,null!=(f=M.cached_input_tokens)?f:0,null!=(g=M.inference_time_ms)?g:0);let D=M.element,F=(()=>{if(!D)return;let{elementId:e,description:t,method:r,arguments:n}=D;if(r&&"not-supported"!==r&&Array.isArray(n)&&"string"==typeof e&&e.includes("-")){let a=rn(N[e]);if(!a)return;return{description:t,method:r,arguments:n,selector:`xpath=${a}`}}})();if(!F)return A;let U=eZ({},F);n&&Array.isArray(U.arguments)&&(U.arguments=U.arguments.map(e=>{let t=e;for(let[e,r]of Object.entries(n)){let n=`%${e}%`;t=t.split(n).join(String(r))}return t}));let L=yield this.actFromObserveResult(U,r,this.defaultDomSettleTimeoutMs,o);return{success:A.success&&L.success,message:(L.success,`${A.message} \u2192 ${L.message}`),actionDescription:A.actionDescription,actions:[...A.actions||[],...L.actions||[]]}});return a?yield Promise.race([s(),new Promise((e,t)=>{setTimeout(()=>t(Error(`act() timed out after ${a}ms`)),a)})]):s()})}actFromObserveResult(e,t,r,n){return eQ(this,null,function*(){var a,i,o,s,l,u,d,c;let p=null!=r?r:this.defaultDomSettleTimeoutMs,m=null!=n?n:this.llmClient,h=null==(a=e.method)?void 0:a.trim();if(!h||"not-supported"===h)return e4({category:"action",message:"action has no supported method",level:0,auxiliary:{act:{value:JSON.stringify(e),type:"object"}}}),{success:!1,message:`Unable to perform action: The method '${null!=h?h:""}' is not supported in Action. Please use a supported Playwright locator method.`,actionDescription:e.description||`Action (${null!=h?h:"unknown"})`,actions:[]};let f=Array.isArray(e.arguments)?e.arguments:[];try{return yield rM(t,t.mainFrame(),h,e.selector,f,p),{success:!0,message:`Action [${h}] performed successfully on selector: ${e.selector}`,actionDescription:e.description||`action (${h})`,actions:[{selector:e.selector,description:e.description||`action (${h})`,method:h,arguments:f}]}}catch(n){let r=n instanceof Error?n.message:String(n);if(this.selfHeal){e4({category:"action",message:"Error performing action. Reprocessing the page and trying again",level:1,auxiliary:{error:{value:r,type:"string"},action:{value:JSON.stringify(e),type:"object"}}});try{let r=e.description?e.description.toLowerCase().startsWith(h.toLowerCase())?e.description:`${h} ${e.description}`:h,n=yield te(t,{experimental:!0}),a=n.combinedTree,g=rk(r,Object.values(rN),{}),y=yield rC({instruction:g,domElements:a,llmClient:m,userProvidedInstructions:this.systemPrompt,logger:e4,logInferenceToFile:this.logInferenceToFile});null==(d=this.onMetrics)||d.call(this,"ACT",null!=(i=y.prompt_tokens)?i:0,null!=(o=y.completion_tokens)?o:0,null!=(s=y.reasoning_tokens)?s:0,null!=(l=y.cached_input_tokens)?l:0,null!=(u=y.inference_time_ms)?u:0);let v=y.element;if(!v)return{success:!1,message:"Failed to self-heal act: No observe results found for action",actionDescription:r,actions:[]};let b=e.selector;if("string"==typeof v.elementId){let e=v.elementId,t=(null!=(c=n.combinedXpathMap)?c:{})[e],r=rn(t);r&&(b=`xpath=${r}`)}return yield rM(t,t.mainFrame(),h,b,f,p),{success:!0,message:`Action [${h}] performed successfully on selector: ${b}`,actionDescription:e.description||`action (${h})`,actions:[{selector:b,description:e.description||`action (${h})`,method:h,arguments:f}]}}catch(r){let t=r instanceof Error?r.message:String(r);return{success:!1,message:`Failed to perform act after self-heal: ${t}`,actionDescription:e.description||`action (${h})`,actions:[]}}}return{success:!1,message:`Failed to perform act: ${r}`,actionDescription:e.description||`action (${h})`,actions:[]}}})}};e6(),tm();var rG=e.r(43629);e0();var rW=class{constructor(e,t,r,n,a,i,o,s){this.llmClient=e,this.defaultModelName=t,this.defaultClientOptions=r,this.resolveLlmClient=n,this.systemPrompt=null!=a?a:"",this.logInferenceToFile=null!=i&&i,this.experimental=null!=o&&o,this.onMetrics=s}extract(e){return eQ(this,null,function*(){let{instruction:t,schema:r,page:n,selector:a,timeout:i,model:o}=e,s=this.resolveLlmClient(o),l=()=>eQ(this,null,function*(){var e,i,o,l;if(!t&&!r){let t=null!=(e=null==a?void 0:a.replace(/^xpath=/i,""))?e:"",r={pageText:(yield te(n,{experimental:this.experimental,focusSelector:t||void 0})).combinedTree};return rz.parse(r)}if(!t&&r)throw new b("extract() requires an instruction when a schema is provided.");let u=null!=(i=null==a?void 0:a.replace(/^xpath=/,""))?i:"",{combinedTree:d,combinedUrlMap:c}=yield te(n,{experimental:this.experimental,focusSelector:u});e4({category:"extraction",message:"Starting extraction using a11y snapshot",level:1,auxiliary:t?{instruction:{value:t,type:"string"}}:void 0});let p=null!=r?r:rj,m=!!(null==(o=p._def)?void 0:o.shape),h="value",[f,g]=function(e){let[t,r]=t8(e,[]);return[t,r]}(m?p:rG.z.object({[h]:p})),y=yield function(e){return eQ(this,arguments,function*({instruction:e,domElements:t,schema:r,llmClient:n,logger:a,userProvidedInstructions:i,logInferenceToFile:o=!1}){var s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S;let k=rb.z.object({progress:rb.z.string().describe("progress of what has been extracted so far, as concise as possible"),completed:rb.z.boolean().describe("true if the goal is now accomplished. Use this conservatively, only when sure that the goal has been completed.")}),x="anthropic"===n.type,E=n.modelName.includes("gpt-5"),T=[function(e=!1,t){let r=`You are extracting content on behalf of a user.
  If a user asks you to extract a 'list' of information, or 'all' information, 
  YOU MUST EXTRACT ALL OF THE INFORMATION THAT THE USER REQUESTS.
   
  You will be given:
1. An instruction
2. `,n=r_(t);return{role:"system",content:`${r}A list of DOM elements to extract from.

${`
Print the exact text from the DOM elements with all symbols, characters, and endlines as is.
Print null or an empty string if no new information is found.
  `.trim()}
${e?`
ONLY print the content using the print_extracted_data tool provided.
ONLY print the content using the print_extracted_data tool provided.
  `.trim():""}

If a user is attempting to extract links or URLs, you MUST respond with ONLY the IDs of the link elements. 
Do not attempt to extract links directly from the text unless absolutely necessary. ${n?`

${n}`:""}`.replace(/\s+/g," ")}}(x,i),function(e,t,r=!1){let n=`Instruction: ${e}
DOM: ${t}`;return r&&(n+=`
ONLY print the content using the print_extracted_data tool provided.
ONLY print the content using the print_extracted_data tool provided.`),{role:"user",content:n}}(e,t,x)],O="",I="";if(o){let{fileName:e,timestamp:t}=rI("extract_summary","extract_call",{modelCall:"extract",messages:T});O=e,I=t}let P=Date.now(),C=yield n.createChatCompletion({options:{messages:T,response_model:{schema:r,name:"Extraction"},temperature:E?1:.1,top_p:1,frequency_penalty:0,presence_penalty:0},logger:a}),A=Date.now(),{data:j,usage:z}=C;if(o){let{fileName:e}=rI("extract_summary","extract_response",{modelResponse:"extract",rawResponse:j});rO("extract",{extract_inference_type:"extract",timestamp:I,LLM_input_file:O,LLM_output_file:e,prompt_tokens:null!=(s=null==z?void 0:z.prompt_tokens)?s:0,completion_tokens:null!=(l=null==z?void 0:z.completion_tokens)?l:0,reasoning_tokens:null!=(u=null==z?void 0:z.reasoning_tokens)?u:0,cached_input_tokens:null!=(d=null==z?void 0:z.cached_input_tokens)?d:0,inference_time_ms:A-P})}let R=[{role:"system",content:rw},{role:"user",content:`Instruction: ${e}
Extracted content: ${JSON.stringify(j,null,2)}`}],N="",$="";if(o){let{fileName:e,timestamp:t}=rI("extract_summary","metadata_call",{modelCall:"metadata",messages:R});N=e,$=t}let M=Date.now(),D=yield n.createChatCompletion({options:{messages:R,response_model:{name:"Metadata",schema:k},temperature:E?1:.1,top_p:1,frequency_penalty:0,presence_penalty:0},logger:a}),F=Date.now(),{data:{completed:U,progress:L},usage:q}=D;if(o){let{fileName:e}=rI("extract_summary","metadata_response",{modelResponse:"metadata",completed:U,progress:L});rO("extract",{extract_inference_type:"metadata",timestamp:$,LLM_input_file:N,LLM_output_file:e,prompt_tokens:null!=(c=null==q?void 0:q.prompt_tokens)?c:0,completion_tokens:null!=(p=null==q?void 0:q.completion_tokens)?p:0,reasoning_tokens:null!=(m=null==q?void 0:q.reasoning_tokens)?m:0,cached_input_tokens:null!=(h=null==q?void 0:q.cached_input_tokens)?h:0,inference_time_ms:F-M})}let V=(null!=(f=null==z?void 0:z.prompt_tokens)?f:0)+(null!=(g=null==q?void 0:q.prompt_tokens)?g:0),B=(null!=(y=null==z?void 0:z.completion_tokens)?y:0)+(null!=(v=null==q?void 0:q.completion_tokens)?v:0),Z=(null!=(b=null==z?void 0:z.reasoning_tokens)?b:0)+(null!=(_=null==q?void 0:q.reasoning_tokens)?_:0),H=(null!=(w=null==z?void 0:z.cached_input_tokens)?w:0)+(null!=(S=null==q?void 0:q.cached_input_tokens)?S:0);return eH(eZ({},j),{metadata:{completed:U,progress:L},prompt_tokens:V,completion_tokens:B,reasoning_tokens:Z,cached_input_tokens:H,inference_time_ms:A-P+(F-M)})})}({instruction:t,domElements:d,schema:f,llmClient:s,userProvidedInstructions:this.systemPrompt,logger:e4,logInferenceToFile:this.logInferenceToFile}),{metadata:{completed:v},prompt_tokens:_,completion_tokens:w,reasoning_tokens:S=0,cached_input_tokens:k=0,inference_time_ms:x}=y,E=eG(y,["metadata","prompt_tokens","completion_tokens","reasoning_tokens","cached_input_tokens","inference_time_ms"]);e4({category:"extraction",message:v?"Extraction completed successfully":"Extraction incomplete after processing all data",level:1,auxiliary:{prompt_tokens:{value:String(_),type:"string"},completion_tokens:{value:String(w),type:"string"},inference_time_ms:{value:String(x),type:"string"}}}),null==(l=this.onMetrics)||l.call(this,"EXTRACT",_,w,S,k,x);let T=null!=c?c:{};for(let{segments:e}of g)t7(E,e,T);return!m&&E&&"object"==typeof E&&(E=E[h]),E});return i?yield Promise.race([l(),new Promise((e,t)=>{setTimeout(()=>t(Error(`extract() timed out after ${i}ms`)),i)})]):l()})}};e6(),tm();var rJ=class{constructor(e,t,r,n,a,i,o,s){this.llmClient=e,this.defaultModelName=t,this.defaultClientOptions=r,this.resolveLlmClient=n,this.systemPrompt=null!=a?a:"",this.logInferenceToFile=null!=i&&i,this.experimental=null!=o&&o,this.onMetrics=s}observe(e){return eQ(this,null,function*(){let{instruction:t,page:r,timeout:n,selector:a,model:i}=e,o=this.resolveLlmClient(i),s=null!=t?t:"Find elements that can be used for any future actions in the page. These may be navigation links, related pages, section/subsection links, buttons, or other interactive elements. Be comprehensive: if there are multiple elements that may be relevant for future actions, return all of them.",l=()=>eQ(this,null,function*(){var e,t,n;e4({category:"observation",message:"starting observation",level:1,auxiliary:{instruction:{value:s,type:"string"}}});let i=null!=(e=null==a?void 0:a.replace(/^xpath=/i,""))?e:"",l=yield te(r,{experimental:this.experimental,focusSelector:i||void 0}),u=l.combinedTree,d=null!=(t=l.combinedXpathMap)?t:{};e4({category:"observation",message:"Got accessibility tree data",level:1});let c=yield function(e){return eQ(this,arguments,function*({instruction:e,domElements:t,llmClient:r,userProvidedInstructions:n,logger:a,logInferenceToFile:i=!1}){var o,s,l,u,d,c;let p=r.modelName.includes("gpt-5"),m=rb.z.object({elements:rb.z.array(rb.z.object({elementId:rb.z.string().describe("the ID string associated with the element. Never include surrounding square brackets. This field must follow the format of 'number-number'."),description:rb.z.string().describe("a description of the accessible element and its purpose"),method:rb.z.string().describe("the candidate method/action to interact with the element. Select one of the available Playwright interaction methods."),arguments:rb.z.array(rb.z.string().describe("the arguments to pass to the method. For example, for a click, the arguments are empty, but for a fill, the arguments are the value to fill in."))})).describe("an array of accessible elements that match the instruction")}),h=[{role:"system",content:[`
You are helping the user automate the browser by finding elements based on what the user wants to observe in the page.

You will be given:
1. a instruction of elements to observe
2. a hierarchical accessibility tree showing the semantic structure of the page. The tree is a hybrid of the DOM and the accessibility tree.

Return an array of elements that match the instruction if they exist, otherwise return an empty array.`.replace(/\s+/g," "),r_(n)].filter(Boolean).join("\n\n")},rS(e,t)],f="",g="";if(i){let{fileName:e,timestamp:t}=rI("observe_summary","observe_call",{modelCall:"observe",messages:h});g=e,f=t}let y=Date.now(),v=yield r.createChatCompletion({options:{messages:h,response_model:{schema:m,name:"Observation"},temperature:p?1:.1,top_p:1,frequency_penalty:0,presence_penalty:0},logger:a}),b=Date.now()-y,{data:_,usage:w}=v,S=null!=(o=null==w?void 0:w.prompt_tokens)?o:0,k=null!=(s=null==w?void 0:w.completion_tokens)?s:0,x=null!=(l=null==w?void 0:w.reasoning_tokens)?l:0,E=null!=(u=null==w?void 0:w.cached_input_tokens)?u:0;if(i){let{fileName:e}=rI("observe_summary","observe_response",{modelResponse:"observe",rawResponse:_});rO("observe",{observe_inference_type:"observe",timestamp:f,LLM_input_file:g,LLM_output_file:e,prompt_tokens:S,completion_tokens:k,reasoning_tokens:x,cached_input_tokens:E,inference_time_ms:b})}return{elements:null!=(c=null==(d=_.elements)?void 0:d.map(e=>({elementId:e.elementId,description:String(e.description),method:String(e.method),arguments:e.arguments})))?c:[],prompt_tokens:S,completion_tokens:k,reasoning_tokens:x,cached_input_tokens:E,inference_time_ms:b}})}({instruction:s,domElements:u,llmClient:o,userProvidedInstructions:this.systemPrompt,logger:e4,logInferenceToFile:this.logInferenceToFile}),{prompt_tokens:p=0,completion_tokens:m=0,reasoning_tokens:h=0,cached_input_tokens:f=0,inference_time_ms:g=0}=c;null==(n=this.onMetrics)||n.call(this,"OBSERVE",p,m,h,f,g);let y=(yield Promise.all(c.elements.map(e=>eQ(this,null,function*(){let{elementId:t}=e,r=eG(e,["elementId"]);if("string"==typeof t&&t.includes("-")){let e=rn(d[t]);if(!e)return;return eH(eZ({},r),{selector:`xpath=${e}`})}return{description:"an element inside a shadow DOM",method:"not-supported",arguments:[],selector:"not-supported"}})))).filter(e=>void 0!==e);return e4({category:"observation",message:"found elements",level:1,auxiliary:{elements:{value:JSON.stringify(y),type:"object"}}}),y});return n?yield Promise.race([l(),new Promise((e,t)=>{setTimeout(()=>t(Error(`observe() timed out after ${n}ms`)),n)})]):l()})}},rK=e.r(28595),rY=e.r(43629),rX=e.r(28595),rQ=e.r(43629),r1=e.r(28595),r0=e.r(43629),r2=e.r(28595),r4=e.r(43629),r6=e.r(28595),r3=e.r(43629),r9=e.r(28595),r5=e.r(43629),r8=e.r(28595),r7=e.r(43629),ne=e.r(28595),nt=e.r(43629),nr=e.r(28595),nn=e.r(43629),na=e.r(28595),ni=e.r(43629),no=e.r(28595);function ns(e){return!!e&&"object"==typeof e&&"tool"===e.role&&Array.isArray(e.content)}function nl(e){return!!e&&"object"==typeof e&&"screenshot"===e.toolName}function nu(e){return!!e&&"object"==typeof e&&"ariaTree"===e.toolName}function nd(e,t){let r=[];return e.forEach((e,n)=>{ns(e)&&e.content.some(e=>"screenshot"===t?nl(e):nu(e))&&r.push(n)}),r}function nc(e,t,r,n){let a=eZ({type:e,reasoning:n,taskCompleted:"close"===e&&(null==r?void 0:r.taskComplete)},r);if("ariaTree"!==e&&t){let{output:e}=t;Object.assign(a,e)}return a}e0();var np=class{constructor(e,t,r,n,a,i){this.v3=e,this.logger=t,this.llmClient=r,this.executionModel=n,this.systemInstructions=a,this.mcpTools=i}execute(e){return eQ(this,null,function*(){var t,r;let n=Date.now(),a="string"==typeof e?{instruction:e}:e,i=a.maxSteps||10,o=[],s="",l=!1,u=[],d=(yield this.v3.context.awaitActivePage()).url();try{let e=this.buildSystemPrompt(a.instruction,this.systemInstructions),r=this.createTools(),c=eZ(eZ({},r),this.mcpTools),p=[{role:"user",content:a.instruction}];if(!(null==(t=this.llmClient)?void 0:t.getLanguageModel))throw new y;let m=this.llmClient.getLanguageModel(),h=(0,no.wrapLanguageModel)({model:m,middleware:{transformParams:e=>eQ(this,[e],function*({params:e}){var t,r,n,a;let i,o,s,l,u,{processedPrompt:d}=(i=JSON.stringify(e.prompt).length,o=nd(e.prompt,"screenshot"),s=nd(e.prompt,"ariaTree"),l=e.prompt.map((e,t)=>{if(ns(e)){var r,n,a,i,l,u;let d,c;if(e.content.some(e=>nl(e))&&(r=t,n=o,d=r===Math.max(...n),c=n.length>1&&r===n.sort((e,t)=>t-e)[1],!d&&!c)){let t;return t=(a=e).content.map(e=>nl(e)?eH(eZ({},e),{result:[{type:"text",text:"screenshot taken"}]}):e),eH(eZ({},a),{content:t})}if(e.content.some(e=>nu(e))&&(i=t,l=s,i!==Math.max(...l))){let t;return t=(u=e).content.map(e=>nu(e)?eH(eZ({},e),{result:[{type:"text",text:"ARIA tree extracted for context of page elements"}]}):e),eH(eZ({},u),{content:t})}}return e}),t=i,r=JSON.stringify(l).length,n=o.length,a=s.length,u={originalSize:t,compressedSize:r,savedChars:t-r,compressionRatio:t>0?(t-r)/t*100:0,screenshotCount:n,ariaTreeCount:a},{processedPrompt:l,stats:u});return eH(eZ({},e),{prompt:d})})}}),f=yield this.llmClient.generateText({model:h,system:e,messages:p,tools:c,stopWhen:(0,no.stepCountIs)(i),temperature:1,toolChoice:"auto",onStepFinish:e=>eQ(this,null,function*(){var t;if(this.logger({category:"agent",message:`Step finished: ${e.finishReason}`,level:2}),e.toolCalls&&e.toolCalls.length>0){for(let r=0;r<e.toolCalls.length;r++){let n=e.toolCalls[r],a=n.input,i=null==(t=e.toolResults)?void 0:t[r];if(e.text.length>0&&(u.push(e.text),this.logger({category:"agent",message:`reasoning: ${e.text}`,level:1})),"close"===n.toolName&&(l=!0,null==a?void 0:a.taskComplete)){let e=a.reasoning,t=u.join(" ");s=e?`${t} ${e}`.trim():t||"Task completed successfully"}for(let t of function({toolCallName:e,toolResult:t,args:r,reasoning:n}){switch(e){case"act":return function(e,t,r){if(!e||"object"!=typeof e)return[nc("act",e,t,r)];let n=e.output||e,a=eZ({type:"act",reasoning:r,taskCompleted:!1},t);return n.playwrightArguments&&(a.playwrightArguments=n.playwrightArguments),[a]}(t,r,n);case"fillForm":return function(e,t,r){if(!e||"object"!=typeof e)return[nc("fillForm",e,t,r)];let n=e.output||e,a=Array.isArray(null==n?void 0:n.playwrightArguments)?n.playwrightArguments:[],i=[];for(let e of(i.push(eZ({type:"fillForm",reasoning:r,taskCompleted:!1},t)),a))i.push({type:"act",reasoning:"acting from fillform tool",taskCompleted:!1,playwrightArguments:e});return i}(t,r,n);default:return[nc(e,t,r,n)]}}({toolCallName:n.toolName,toolResult:i,args:a,reasoning:e.text||void 0}))t.pageUrl=d,t.timestamp=Date.now(),o.push(t)}d=(yield this.v3.context.awaitActivePage()).url()}})});s||(s=u.join(" ").trim()||f.text);let g=Date.now()-n;return f.usage&&this.v3.updateMetrics("AGENT",f.usage.inputTokens||0,f.usage.outputTokens||0,f.usage.reasoningTokens||0,f.usage.cachedInputTokens||0,g),{success:l,message:s||"Task execution completed",actions:o,completed:l,usage:f.usage?{input_tokens:f.usage.inputTokens||0,output_tokens:f.usage.outputTokens||0,reasoning_tokens:f.usage.reasoningTokens||0,cached_input_tokens:f.usage.cachedInputTokens||0,inference_time_ms:g}:void 0}}catch(t){let e=null!=(r=null==t?void 0:t.message)?r:String(t);return this.logger({category:"agent",message:`Error executing agent task: ${e}`,level:0}),{success:!1,actions:o,message:`Failed to execute task: ${e}`,completed:!1}}})}buildSystemPrompt(e,t){return t?`${t}
Your current goal: ${e} when the task is complete, use the "close" tool with taskComplete: true`:`You are a web automation assistant using browser automation tools to accomplish the user's goal.

Your task: ${e}

You have access to various browser automation tools. Use them step by step to complete the task.

IMPORTANT GUIDELINES:
1. Always start by understanding the current page state
2. Use the screenshot tool to verify page state when needed
3. Use appropriate tools for each action
4. When the task is complete, use the "close" tool with taskComplete: true
5. If the task cannot be completed, use "close" with taskComplete: false

TOOLS OVERVIEW:
- screenshot: Take a PNG screenshot for quick visual context (use sparingly)
- ariaTree: Get an accessibility (ARIA) hybrid tree for full page context
- act: Perform a specific atomic action (click, type, etc.)
- extract: Extract structured data
- goto: Navigate to a URL
- wait/navback/refresh: Control timing and navigation
- scroll: Scroll the page x pixels up or down

STRATEGY:
- Prefer ariaTree to understand the page before acting; use screenshot for confirmation.
- Keep actions atomic and verify outcomes before proceeding.`}createTools(){var e,t;let r,n;return e=this.v3,{act:(r=(t={executionModel:this.executionModel,logger:this.logger}).executionModel,(0,rX.tool)({description:"Perform an action on the page (click, type). Provide a short, specific phrase that mentions the element type.",inputSchema:rQ.z.object({action:rQ.z.string().describe('Describe what to click or type, e.g. "click the Login button" or "type "John" into the first name input"')}),execute:t=>eQ(null,[t],function*({action:t}){var n,a,i,o;try{e.logger({category:"agent",message:"Agent calling tool: act",level:1,auxiliary:{arguments:{value:t,type:"string"}}});let o=yield e.act(t,r?{model:r}:void 0),s=null!=(n=o.actions)?n:[];return e.recordAgentReplayStep({type:"act",instruction:t,actions:s,actionDescription:o.actionDescription,message:o.message}),{success:null==(a=o.success)||a,action:null!=(i=null==o?void 0:o.actionDescription)?i:t,playwrightArguments:s.length>0?s[0]:void 0}}catch(e){return{success:!1,error:null!=(o=null==e?void 0:e.message)?o:String(e)}}})})),ariaTree:(0,r8.tool)({description:"gets the accessibility (ARIA) hybrid tree text for the current page. use this to understand structure and content.",inputSchema:r7.z.object({}),execute:()=>eQ(null,null,function*(){e.logger({category:"agent",message:"Agent calling tool: ariaTree",level:1});let t=yield e.context.awaitActivePage(),{pageText:r}=yield e.extract(),n=t.url(),a=r;return Math.ceil(a.length/4)>7e4&&(a=a.substring(0,28e4)+"\n\n[CONTENT TRUNCATED: Exceeded 70,000 token limit]"),{content:a,pageUrl:n}}),toModelOutput:e=>({type:"content",value:[{type:"text",text:`Accessibility Tree:
${e.content}`}]})}),close:(0,r9.tool)({description:"Complete the task and close",inputSchema:r5.z.object({reasoning:r5.z.string().describe("Summary of what was accomplished"),taskComplete:r5.z.boolean().describe("Whether the task was completed successfully")}),execute:e=>eQ(null,[e],function*({reasoning:e,taskComplete:t}){return{success:!0,reasoning:e,taskComplete:t}})}),extract:(n=null==t?void 0:t.logger,(0,na.tool)({description:`Extract structured data from the current page based on a provided schema.
    
    USAGE GUIDELINES:
    - Keep schemas MINIMAL - only include fields essential for the task
    - IMPORANT: only use this if explicitly asked for structured output. In most scenarios, you should use the aria tree tool over this. 
    - If you need to extract a link, make sure the type defintion follows the format of z.string().url()
    EXAMPLES:
    1. Extract a single value:
       instruction: "extract the product price"
       schema: "z.object({ price: z.number()})"
    
    2. Extract multiple fields:
       instruction: "extract product name and price"
       schema: "z.object({ name: z.string(), price: z.number() })"
    
    3. Extract arrays:
       instruction: "extract all product names and prices"
       schema: "z.object({ products: z.array(z.object({ name: z.string(), price: z.number() })) })"`,inputSchema:ni.z.object({instruction:ni.z.string(),schema:ni.z.string().optional().describe("Zod schema as code, e.g. z.object({ title: z.string() })")}),execute:t=>eQ(null,[t],function*({instruction:t,schema:a}){var i;try{let i=a?function(e,t){var r;try{return Function("z",`return ${e}`)(ni.z)}catch(e){return null==t||t({category:"agent",message:`Failed to evaluate schema: ${null!=(r=null==e?void 0:e.message)?r:String(e)}`,level:0}),ni.z.any()}}(a,n):void 0,o=yield e.extract(t,i,eZ({},r?{model:r}:{}));return{success:!0,result:o}}catch(e){return{success:!1,error:null!=(i=null==e?void 0:e.message)?i:String(e)}}})})),fillForm:(0,ne.tool)({description:`\u{1F4DD} FORM FILL - MULTI-FIELD INPUT TOOL
For any form with 2+ inputs/textareas. Faster than individual typing.`,inputSchema:nt.z.object({fields:nt.z.array(nt.z.object({action:nt.z.string().describe('Description of typing action, e.g. "type foo into the email field"'),value:nt.z.string().describe("Text to type into the target")})).min(1,"Provide at least one field to fill")}),execute:t=>eQ(null,[t],function*({fields:t}){e.logger({category:"agent",message:"Agent calling tool: fillForm",level:1,auxiliary:{arguments:{value:JSON.stringify(t),type:"object"}}});let n=`Return observation results for the following actions: ${t.map(e=>e.action).join(", ")}`,a=yield e.observe(n,r?{model:r}:void 0),i=[],o=[];for(let t of a){let r=yield e.act(t);i.push(r),Array.isArray(r.actions)&&o.push(...r.actions)}return e.recordAgentReplayStep({type:"fillForm",fields:t,observeResults:a,actions:o}),{success:!0,actions:i,playwrightArguments:o}})}),goto:(0,rK.tool)({description:"Navigate to a specific URL",inputSchema:rY.z.object({url:rY.z.string().describe("The URL to navigate to")}),execute:t=>eQ(null,[t],function*({url:t}){var r;try{e.logger({category:"agent",message:"Agent calling tool: goto",level:1,auxiliary:{arguments:{value:t,type:"string"}}});let r=yield e.context.awaitActivePage();return yield r.goto(t,{waitUntil:"load"}),e.recordAgentReplayStep({type:"goto",url:t,waitUntil:"load"}),{success:!0,url:t}}catch(e){return{success:!1,error:null!=(r=null==e?void 0:e.message)?r:String(e)}}})}),navback:(0,r6.tool)({description:"Navigate back to the previous page",inputSchema:r3.z.object({reasoningText:r3.z.string().describe("Why you're going back")}),execute:()=>eQ(null,null,function*(){e.logger({category:"agent",message:"Agent calling tool: navback",level:1});let t=yield e.context.awaitActivePage();return yield t.goBack({waitUntil:"domcontentloaded"}),e.recordAgentReplayStep({type:"navback",waitUntil:"domcontentloaded"}),{success:!0}})}),screenshot:(0,r1.tool)({description:"Takes a screenshot (PNG) of the current page. Use this to quickly verify page state.",inputSchema:r0.z.object({}),execute:()=>eQ(null,null,function*(){e.logger({category:"agent",message:"Agent calling tool: screenshot",level:1});let t=yield e.context.awaitActivePage(),r=yield t.screenshot({fullPage:!1}),n=t.url();return{base64:r.toString("base64"),timestamp:Date.now(),pageUrl:n}}),toModelOutput:e=>({type:"content",value:[{type:"media",mediaType:"image/png",data:e.base64}]})}),scroll:(0,nr.tool)({description:"Scroll the page",inputSchema:nn.z.object({pixels:nn.z.number().describe("Number of pixels to scroll up or down"),direction:nn.z.enum(["up","down"]).describe("Direction to scroll")}),execute:t=>eQ(null,[t],function*({pixels:t,direction:r}){e.logger({category:"agent",message:"Agent calling tool: scroll",level:1,auxiliary:{arguments:{value:JSON.stringify({pixels:t,direction:r}),type:"object"}}});let n=yield e.context.awaitActivePage(),{w:a,h:i}=yield n.mainFrame().evaluate("({ w: window.innerWidth, h: window.innerHeight })"),o=Math.max(0,Math.floor(a/2)),s=Math.max(0,Math.floor(i/2)),l="up"===r?-Math.abs(t):Math.abs(t);return yield n.scroll(o,s,0,l),e.recordAgentReplayStep({type:"scroll",deltaX:0,deltaY:l,anchor:{x:o,y:s}}),{success:!0,pixels:t}})}),wait:(0,r2.tool)({description:"Wait for a specified time",inputSchema:r4.z.object({timeMs:r4.z.number().describe("Time in milliseconds")}),execute:t=>eQ(null,[t],function*({timeMs:t}){return e.logger({category:"agent",message:"Agent calling tool: wait",level:1,auxiliary:{arguments:{value:`Waiting for ${t} milliseconds`,type:"string"}}}),yield new Promise(e=>setTimeout(e,t)),t>0&&e.recordAgentReplayStep({type:"wait",timeMs:t}),{success:!0,waited:t}})})}}};tm(),e0(),e0();var nm=eX(e.r(49051)),nh=e.r(78017),nf=class{constructor(e,t,r){this.type=e,this.modelName=t,this.userProvidedInstructions=r,this.clientOptions={}}},ng={ENTER:"Enter",RETURN:"Enter",ESCAPE:"Escape",ESC:"Escape",BACKSPACE:"Backspace",TAB:"Tab",SPACE:" ",DELETE:"Delete",DEL:"Delete",ARROWUP:"ArrowUp",ARROWDOWN:"ArrowDown",ARROWLEFT:"ArrowLeft",ARROWRIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",SHIFT:"Shift",CONTROL:"Control",CTRL:"Control",ALT:"Alt",OPTION:"Alt",META:"Meta",COMMAND:"Meta",CMD:"Meta",SUPER:"Meta",WINDOWS:"Meta",WIN:"Meta",HOME:"Home",END:"End",PAGEUP:"PageUp",PAGEDOWN:"PageDown",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PGUP:"PageUp",PGDN:"PageDown"};function ny(e){return e&&ng[e.toUpperCase()]||e}var nv=class extends nf{constructor(e,t,r,n,a){super(e,t,r),this.currentViewport={width:1288,height:711},this.thinkingBudget=null,this.apiKey=(null==n?void 0:n.apiKey)||process.env.ANTHROPIC_API_KEY||"",this.baseURL=(null==n?void 0:n.baseURL)||void 0,(null==n?void 0:n.thinkingBudget)&&"number"==typeof n.thinkingBudget&&(this.thinkingBudget=n.thinkingBudget),this.clientOptions={apiKey:this.apiKey},this.baseURL&&(this.clientOptions.baseUrl=this.baseURL),this.client=new nm.default(this.clientOptions),this.tools=a}setViewport(e,t){this.currentViewport={width:e,height:t}}setCurrentUrl(e){this.currentUrl=e}setScreenshotProvider(e){this.screenshotProvider=e}setActionHandler(e){this.actionHandler=e}setTools(e){this.tools=e}execute(e){return eQ(this,null,function*(){let{options:t,logger:r}=e,{instruction:n}=t,a=t.maxSteps||10,i=0,o=!1,s=[],l=[],u="",d=this.createInitialInputItems(n);r({category:"agent",message:`Starting Anthropic agent execution with instruction: ${n}`,level:1});let c=0,p=0,m=0;try{for(;!o&&i<a;){r({category:"agent",message:`Executing step ${i+1}/${a}`,level:1});let e=yield this.executeStep(d,r);c+=e.usage.input_tokens,p+=e.usage.output_tokens,m+=e.usage.inference_time_ms,e.actions.length>0&&(r({category:"agent",message:`Step ${i+1} performed ${e.actions.length} actions`,level:2}),s.push(...e.actions)),(o=e.completed)||(d=e.nextInputItems),e.message&&(l.push(e.message),u=e.message),i++}return r({category:"agent",message:`Anthropic agent execution completed: ${o}, with ${s.length} total actions performed`,level:1}),{success:o,actions:s,message:u,completed:o,usage:{input_tokens:c,output_tokens:p,inference_time_ms:m}}}catch(t){let e=t instanceof Error?t.message:String(t);return r({category:"agent",message:`Error executing agent task: ${e}`,level:0}),{success:!1,actions:s,message:`Failed to execute task: ${e}`,completed:!1,usage:{input_tokens:c,output_tokens:p,inference_time_ms:m}}}})}executeStep(e,t){return eQ(this,null,function*(){try{let r=yield this.getAction(e),n=r.content,a={input_tokens:r.usage.input_tokens,output_tokens:r.usage.output_tokens,inference_time_ms:r.usage.inference_time_ms};t({category:"agent",message:`Received response with ${n.length} content blocks`,level:2});let i=[],o=[],s="";for(let e of n)if(t({category:"agent",message:`Processing block type: ${e.type}, id: ${e.id||"unknown"}`,level:2}),"tool_use"===e.type){t({category:"agent",message:`Found tool_use block: ${JSON.stringify(e)}`,level:2}),o.push(e),t({category:"agent",message:`Added tool_use item: ${e.name}, action: ${JSON.stringify(e.input)}`,level:2});let r=this.convertToolUseToAction(e);r?(t({category:"agent",message:`Created action from tool_use: ${e.name}, action: ${r.type}`,level:2}),i.push(r)):this.tools&&e.name in this.tools&&i.push({type:"custom_tool",tool:e.name,input:e.input})}else"text"===e.type?(s+=e.text+"\n",t({category:"agent",message:`Found text block: ${e.text}`,level:2})):t({category:"agent",message:`Found unknown block type: ${e.type}`,level:2});if(this.actionHandler&&i.length>0)for(let e of i)try{t({category:"agent",message:`Executing action: ${e.type}`,level:1}),yield this.actionHandler(e)}catch(n){let r=n instanceof Error?n.message:String(n);t({category:"agent",message:`Error executing action ${e.type}: ${r}`,level:0})}let l=[...e];if(!function(e,t=2){let r,n=(r=[],e.forEach((e,t)=>{let n=!1;Array.isArray(e.content)&&(n=e.content.some(e=>"tool_result"===e.type&&"content"in e&&Array.isArray(e.content)&&e.content.some(e=>"image"===e.type))),n&&r.push(t)}),r);e.forEach((e,r)=>{let a=n.indexOf(r);a>=0&&a<n.length-t&&Array.isArray(e.content)&&(e.content=e.content.map(e=>"tool_result"===e.type&&"content"in e&&Array.isArray(e.content)&&e.content.some(e=>"image"===e.type)?eH(eZ({},e),{content:"screenshot taken"}):e))})}(l),l.push({role:"assistant",content:n}),o.length>0){let e=yield this.takeAction(o,t);e.length>0&&l.push({role:"user",content:e})}let u=0===o.length;return t({category:"agent",message:`Step processed ${o.length} tool use items, completed: ${u}`,level:2}),{actions:i,message:s.trim(),completed:u,nextInputItems:l,usage:a}}catch(r){let e=r instanceof Error?r.message:String(r);throw t({category:"agent",message:`Error executing step: ${e}`,level:0}),r}})}createInitialInputItems(e){return[{role:"system",content:this.userProvidedInstructions},{role:"user",content:e}]}getAction(e){return eQ(this,null,function*(){try{let t=[];for(let r of e)"role"in r&&"system"!==r.role&&t.push(r);let r=this.thinkingBudget?{type:"enabled",budget_tokens:this.thinkingBudget}:void 0,n={model:this.modelName,max_tokens:4096,messages:t,tools:[{type:"computer_20250124",name:"computer",display_width_px:this.currentViewport.width,display_height_px:this.currentViewport.height,display_number:1}],betas:["computer-use-2025-01-24"]};if(this.tools&&Object.keys(this.tools).length>0){let e=Object.entries(this.tools).map(([e,t])=>{let r=(0,nh.zodToJsonSchema)(t.inputSchema),n={type:"object",properties:r.properties||{},required:r.required||[]};return{name:e,description:t.description,input_schema:n}});n.tools=[...n.tools,...e]}this.userProvidedInstructions&&(n.system=this.userProvidedInstructions),r&&(n.thinking=r);let a=Date.now(),i=yield this.client.beta.messages.create(n),o=Date.now(),s={input_tokens:i.usage.input_tokens,output_tokens:i.usage.output_tokens,inference_time_ms:o-a};return this.lastMessageId=i.id,{content:i.content,id:i.id,usage:s}}catch(e){throw console.error("Error getting action from Anthropic:",e),e}})}takeAction(e,t){return eQ(this,null,function*(){let r=[];for(let n of(t({category:"agent",message:`Taking action on ${e.length} tool use items`,level:2}),e))try{if(t({category:"agent",message:`Processing tool use: ${n.name}, id: ${n.id}, action: ${JSON.stringify(n.input)}`,level:2}),"computer"===n.name){let e=n.input.action;t({category:"agent",message:`Computer action type: ${e}`,level:2});let a=yield this.captureScreenshot();t({category:"agent",message:`Screenshot captured, length: ${a.length}`,level:2});let i=[{type:"image",source:{type:"base64",media_type:"image/png",data:a.replace(/^data:image\/png;base64,/,"")}}];this.currentUrl?r.push({type:"tool_result",tool_use_id:n.id,content:[...i,{type:"text",text:`Current URL: ${this.currentUrl}`}]}):r.push({type:"tool_result",tool_use_id:n.id,content:i}),t({category:"agent",message:`Added computer tool result for tool_use_id: ${n.id}`,level:2})}else{let e="Tool executed successfully";if(this.tools&&n.name in this.tools)try{let r=this.tools[n.name];t({category:"agent",message:`Executing tool call: ${n.name} with args: ${JSON.stringify(n.input)}`,level:1});let a=yield r.execute(n.input,{toolCallId:n.id,messages:[]});e=JSON.stringify(a),t({category:"agent",message:`Tool ${n.name} completed successfully. Result: ${e}`,level:1})}catch(a){let r=a instanceof Error?a.message:String(a);e=`Error executing tool: ${r}`,t({category:"agent",message:`Error executing tool ${n.name}: ${r}`,level:0})}r.push({type:"tool_result",tool_use_id:n.id,content:[{type:"text",text:e}]}),t({category:"agent",message:`Added custom tool result for tool ${n.name}, tool_use_id: ${n.id}`,level:2})}}catch(a){let e=a instanceof Error?a.message:String(a);t({category:"agent",message:`Error executing tool use: ${e}`,level:0});try{if("computer"===n.name){let a=yield this.captureScreenshot();r.push({type:"tool_result",tool_use_id:n.id,content:[{type:"image",source:{type:"base64",media_type:"image/png",data:a.replace(/^data:image\/png;base64,/,"")}},{type:"text",text:`Error: ${e}`}]}),t({category:"agent",message:`Added error tool result with screenshot for tool_use_id: ${n.id}`,level:1})}else r.push({type:"tool_result",tool_use_id:n.id,content:[{type:"text",text:`Error: ${e}`}]}),t({category:"agent",message:`Added error tool result for tool_use_id: ${n.id}`,level:1})}catch(a){t({category:"agent",message:`Error capturing screenshot: ${String(a)}`,level:0}),r.push({type:"tool_result",tool_use_id:n.id,content:[{type:"text",text:`Error: ${e}`}]}),t({category:"agent",message:`Added text error tool result for tool_use_id: ${n.id}`,level:1})}}return t({category:"agent",message:`Prepared ${r.length} tool results for next request`,level:2}),r})}convertToolUseToAction(e){try{let{name:t,input:r}=e;if("computer"===t){let t=r.action;if(!t)return console.warn("Missing action in tool use item:",e),null;if("screenshot"===t)return eZ({type:"screenshot"},r);if("click"===t)return eZ({type:"click",x:r.x,y:r.y,button:r.button||"left"},r);if("type"===t)return eZ({type:"type",text:r.text},r);else if("keypress"===t)return eZ({type:"keypress",keys:r.keys},r);else if("double_click"===t||"doubleClick"===t)return eZ({type:t,x:r.x,y:r.y},r);else if("scroll"===t){let e=r.x||(r.coordinate?r.coordinate[0]:0),t=r.y||(r.coordinate?r.coordinate[1]:0),n=0,a=0,i=r.scroll_amount||5;if(r.scroll_direction){let e=r.scroll_direction;"down"===e?a=100*i:"up"===e?a=-(100*i):"right"===e?n=100*i:"left"===e&&(n=-(100*i))}else n=r.scroll_x||0,a=r.scroll_y||0;return eZ({type:"scroll",x:e,y:t,scroll_x:n,scroll_y:a},r)}else if("move"===t){let e=r.coordinate,t=e?e[0]:r.x||0,n=e?e[1]:r.y||0;return eZ({type:"move",x:t,y:n},r)}else if("drag"===t||"left_click_drag"===t){let e=r.path||(r.coordinate?[{x:r.start_coordinate[0],y:r.start_coordinate[1]},{x:r.coordinate[0],y:r.coordinate[1]}]:[]);return eZ({type:"drag",path:e},r)}else if("wait"===t)return eZ({type:"wait"},r);else if("key"===t){let e=r.text,t=ny(e);return eZ({type:"key",text:t},r)}else{if("left_click"!==t)return eZ({type:t},r);let e=r.coordinate,n=e?e[0]:r.x||0,a=e?e[1]:r.y||0;return eZ({type:"click",x:n,y:a,button:"left"},r)}}if("str_replace_editor"===t||"bash"===t)return{type:t,params:r};if(this.tools&&t in this.tools)return null;return console.warn(`Unknown tool name: ${t}`),null}catch(e){return console.error("Error converting tool use to action:",e),null}}captureScreenshot(e){return eQ(this,null,function*(){if(null==e?void 0:e.base64Image)return`data:image/png;base64,${e.base64Image}`;if(this.screenshotProvider)try{let e=yield this.screenshotProvider();return`data:image/png;base64,${e}`}catch(e){throw console.error("Error capturing screenshot:",e),e}throw new w("`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image")})}},nb=eX(e.r(69871));e0();var n_=class extends nf{constructor(e,t,r,n,a){super(e,t,r),this.currentViewport={width:1288,height:711},this.reasoningItems=new Map,this.environment="browser",this.apiKey=(null==n?void 0:n.apiKey)||process.env.OPENAI_API_KEY||"",this.baseURL=(null==n?void 0:n.baseURL)||void 0,this.organization=(null==n?void 0:n.organization)||process.env.OPENAI_ORG,(null==n?void 0:n.environment)&&"string"==typeof n.environment&&(this.environment=n.environment),this.clientOptions={apiKey:this.apiKey},this.baseURL&&(this.clientOptions.baseURL=this.baseURL),this.client=new nb.default(this.clientOptions),this.tools=a}setViewport(e,t){this.currentViewport={width:e,height:t}}setCurrentUrl(e){this.currentUrl=e}setScreenshotProvider(e){this.screenshotProvider=e}setActionHandler(e){this.actionHandler=e}setTools(e){this.tools=e}execute(e){return eQ(this,null,function*(){let t,{options:r,logger:n}=e,{instruction:a}=r,i=r.maxSteps||10,o=0,s=!1,l=[],u=[],d="";this.reasoningItems.clear();let c=this.createInitialInputItems(a),p=0,m=0,h=0;try{for(;!s&&o<i;){n({category:"agent",message:`Executing step ${o+1}/${i}`,level:1});let e=yield this.executeStep(c,t,n);p+=e.usage.input_tokens,m+=e.usage.output_tokens,h+=e.usage.inference_time_ms,l.push(...e.actions),s=e.completed,t=e.responseId,s||(c=e.nextInputItems),e.message&&(u.push(e.message),d=e.message),o++}return{success:s,actions:l,message:d,completed:s,usage:{input_tokens:p,output_tokens:m,inference_time_ms:h}}}catch(t){let e=t instanceof Error?t.message:String(t);return n({category:"agent",message:`Error executing agent task: ${e}`,level:0}),{success:!1,actions:l,message:`Failed to execute task: ${e}`,completed:!1,usage:{input_tokens:p,output_tokens:m,inference_time_ms:h}}}})}executeStep(e,t,r){return eQ(this,null,function*(){try{let n=yield this.getAction(e,t),a=n.output,i=n.responseId,o={input_tokens:n.usage.input_tokens,output_tokens:n.usage.output_tokens,inference_time_ms:n.usage.inference_time_ms};for(let e of a)"reasoning"===e.type&&(this.reasoningItems.set(e.id,e),r({category:"agent",message:`Reasoning: ${String(e.content||"")}`,level:1}));let s=[];for(let e of a)if("computer_call"===e.type&&this.isComputerCallItem(e)){r({category:"agent",message:`Found computer_call: ${e.action.type}, call_id: ${e.call_id}`,level:2});let t=this.convertComputerCallToAction(e);t&&(s.push(t),r({category:"agent",message:`Converted computer_call to action: ${t.type}`,level:2}))}else if("function_call"===e.type&&this.isFunctionCallItem(e)){r({category:"agent",message:`Found function_call: ${e.name}, call_id: ${e.call_id}`,level:2});let t=this.convertFunctionCallToAction(e);t&&(s.push(t),r({category:"agent",message:`Converted function_call to action: ${t.type}`,level:2}))}let l="";for(let e of a)if("message"===e.type&&(r({category:"agent",message:"Found message block",level:2}),e.content&&Array.isArray(e.content)))for(let t of e.content)"output_text"===t.type&&t.text&&(l+=t.text+"\n",r({category:"agent",message:`Message text: ${String(t.text||"")}`,level:1}));let u=yield this.takeAction(a,r),d=0===a.length||a.every(e=>"message"===e.type||"reasoning"===e.type);return{actions:s,message:l.trim(),completed:d,nextInputItems:u,responseId:i,usage:o}}catch(t){let e=t instanceof Error?t.message:String(t);throw r({category:"agent",message:`Error executing step: ${e}`,level:0}),t}})}isComputerCallItem(e){return"computer_call"===e.type&&"call_id"in e&&"action"in e&&"object"==typeof e.action}isFunctionCallItem(e){return"function_call"===e.type&&"call_id"in e&&"name"in e&&"arguments"in e}createInitialInputItems(e){return[{role:"system",content:this.userProvidedInstructions},{role:"user",content:e}]}getAction(e,t){return eQ(this,null,function*(){try{let r={model:this.modelName,tools:[{type:"computer_use_preview",display_width:this.currentViewport.width,display_height:this.currentViewport.height,environment:this.environment}],input:e,truncation:"auto"};if(this.tools&&Object.keys(this.tools).length>0){let e=Object.entries(this.tools).map(([e,t])=>({type:"function",name:e,function:{name:e,description:t.description,parameters:t.inputSchema}}));r.tools=[...r.tools,...e]}t&&(r.previous_response_id=t);let n=Date.now(),a=yield this.client.responses.create(r),i=Date.now(),o={input_tokens:a.usage.input_tokens,output_tokens:a.usage.output_tokens,inference_time_ms:i-n};return this.lastResponseId=a.id,{output:a.output,responseId:a.id,usage:o}}catch(e){throw console.error("Error getting action from OpenAI:",e),e}})}takeAction(e,t){return eQ(this,null,function*(){let r=[];for(let n of e)if("computer_call"===n.type&&this.isComputerCallItem(n))try{let e=this.convertComputerCallToAction(n);e&&this.actionHandler&&(t({category:"agent",message:`Executing computer action: ${e.type}`,level:1}),yield this.actionHandler(e));let a=yield this.captureScreenshot(),i={type:"computer_call_output",call_id:n.call_id,output:{type:"input_image",image_url:a}};t({category:"agent",message:`Added computer_call_output for call_id: ${n.call_id}`,level:2}),this.currentUrl&&(i.output.current_url=this.currentUrl),n.pending_safety_checks&&n.pending_safety_checks.length>0&&(i.acknowledged_safety_checks=n.pending_safety_checks),r.push(i)}catch(a){let e=a instanceof Error?a.message:String(a);t({category:"agent",message:`Error executing computer call: ${e}`,level:0});try{let t=yield this.captureScreenshot(),a={type:"computer_call_output",call_id:n.call_id,output:{type:"input_image",image_url:t,error:e}};this.currentUrl&&(a.output.current_url=this.currentUrl),n.pending_safety_checks&&n.pending_safety_checks.length>0&&(a.acknowledged_safety_checks=n.pending_safety_checks),r.push(a)}catch(a){t({category:"agent",message:`Error capturing screenshot: ${String(a)}`,level:0}),r.push({type:"computer_call_output",call_id:n.call_id,output:`Error: ${e}`})}}else if("function_call"===n.type&&this.isFunctionCallItem(n))try{let e=this.convertFunctionCallToAction(n);e&&this.actionHandler&&(yield this.actionHandler(e));let a="Tool executed successfully";if(this.tools&&n.name in this.tools)try{let e=this.tools[n.name],r=JSON.parse(n.arguments);t({category:"agent",message:`Executing tool call: ${n.name} with args: ${n.arguments}`,level:1});let i=yield e.execute(r,{toolCallId:n.call_id,messages:[]});a=JSON.stringify(i),t({category:"agent",message:`Tool ${n.name} completed successfully. Result: ${a}`,level:1})}catch(r){let e=r instanceof Error?r.message:String(r);a=`Error executing tool: ${e}`,t({category:"agent",message:`Error executing tool ${n.name}: ${e}`,level:0})}let i={type:"function_call_output",call_id:n.call_id,output:a};r.push(i)}catch(i){let e=i instanceof Error?i.message:String(i);t({category:"agent",message:`Error executing function call: ${e}`,level:0});let a={type:"function_call_output",call_id:n.call_id,output:`Error: ${e}`};r.push(a)}return r})}convertComputerCallToAction(e){let{action:t}=e;return eZ({type:t.type},t)}convertFunctionCallToAction(e){try{let t=JSON.parse(e.arguments);return{type:e.name,params:t}}catch(e){return console.error("Error parsing function call arguments:",e),null}}captureScreenshot(e){return eQ(this,null,function*(){if(null==e?void 0:e.base64Image)return`data:image/png;base64,${e.base64Image}`;if(this.screenshotProvider)try{let e=yield this.screenshotProvider();return`data:image/png;base64,${e}`}catch(e){throw console.error("Error capturing screenshot:",e),e}throw new w("`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image")})}},nw=e.r(42100);e0();var nS=e.r(42100),nk=e.r(78017);function nx(e,t){return!!(t&&e.name&&e.name in t)}var nE=class extends nf{constructor(e,t,r,n,a){super(e,t,r),this.currentViewport={width:1288,height:711},this.history=[],this.environment="ENVIRONMENT_BROWSER",this.tools=a,this.apiKey=(null==n?void 0:n.apiKey)||process.env.GEMINI_API_KEY||process.env.GOOGLE_GENERATIVE_AI_API_KEY||"",this.baseURL=null==n?void 0:n.baseURL;const i=eZ({apiKey:this.apiKey},this.baseURL?{httpOptions:{baseUrl:this.baseURL}}:{});this.client=new nw.GoogleGenAI(i),(null==n?void 0:n.environment)&&"string"==typeof n.environment&&(this.environment=n.environment),this.generateContentConfig={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,tools:[{computerUse:{environment:this.environment}}]},this.clientOptions=eZ({apiKey:this.apiKey},this.baseURL?{baseURL:this.baseURL}:{}),this.tools&&Object.keys(this.tools).length>0&&this.updateGenerateContentConfig()}setViewport(e,t){this.currentViewport={width:e,height:t}}setCurrentUrl(e){this.currentUrl=e}setScreenshotProvider(e){this.screenshotProvider=e}setActionHandler(e){this.actionHandler=e}setTools(e){this.tools=e,this.updateGenerateContentConfig()}updateGenerateContentConfig(){let e=this.tools&&Object.keys(this.tools).length>0?function(e){let t=[];for(let[r,n]of Object.entries(e)){let e=function(e,t){try{let r=(0,nk.zodToJsonSchema)(t.inputSchema),n=function(e){let t={};if(e.properties)for(let[r,n]of Object.entries(e.properties))t[r]=eZ({type:function(e){switch(e.toLowerCase()){case"string":default:return nS.Type.STRING;case"number":case"integer":return nS.Type.NUMBER;case"boolean":return nS.Type.BOOLEAN;case"array":return nS.Type.ARRAY;case"object":return nS.Type.OBJECT}}(n.type||"string")},n.description?{description:n.description}:{});return eZ({type:nS.Type.OBJECT,properties:t},e.required&&e.required.length>0?{required:e.required}:{})}(r);return{name:e,description:t.description||`Execute ${e}`,parameters:n}}catch(t){return console.error(`Error converting tool ${e} to function declaration:`,t),null}}(r,n);e&&t.push(e)}return t}(this.tools):[];this.generateContentConfig=eH(eZ({},this.generateContentConfig),{tools:[eZ({computerUse:{environment:this.environment}},e.length>0?{functionDeclarations:e}:{})]})}execute(e){return eQ(this,null,function*(){let{options:t,logger:r}=e,{instruction:n}=t,a=t.maxSteps||10,i=0,o=!1,s=[],l=[],u="";this.history=[],yield this.initializeHistory(n);let d=0,c=0,p=0;try{for(;!o&&i<a;){r({category:"agent",message:`Executing step ${i+1}/${a}`,level:1});let e=yield this.executeStep(r);d+=e.usage.input_tokens,c+=e.usage.output_tokens,p+=e.usage.inference_time_ms,s.push(...e.actions),o=e.completed,e.message&&(l.push(e.message),u=e.message),i++}return{success:o,actions:s,message:u,completed:o,usage:{input_tokens:d,output_tokens:c,inference_time_ms:p}}}catch(t){let e=t instanceof Error?t.message:String(t);return r({category:"agent",message:`Error executing agent task: ${e}`,level:0}),{success:!1,actions:s,message:`Failed to execute task: ${e}`,completed:!1,usage:{input_tokens:d,output_tokens:c,inference_time_ms:p}}}})}initializeHistory(e){return eQ(this,null,function*(){let t=this.userProvidedInstructions?this.userProvidedInstructions:({role:"system",content:`You are a general-purpose browser agent whose job is to accomplish the user's goal.
Today's date is ${new Date().toISOString().split("T")[0]}.
You have access to a search tool; however, in most cases you should operate within the page/url the user has provided. ONLY use the search tool if you're stuck or the task is impossible to complete within the current page.
You will be given a goal and a list of steps that have been taken so far. Avoid requesting the user for input as much as possible. Good luck!
`}).content;this.history=[{role:"user",parts:[{text:"System prompt: "+t}]},{role:"user",parts:[{text:e}]}]})}executeStep(e){return eQ(this,null,function*(){var t,r;try{let n=Date.now(),a=function(e,t=2){let r,n=(r=[],e.forEach((e,t)=>{let n=!1;e.parts&&Array.isArray(e.parts)&&(n=e.parts.some(e=>{var t,r,n,a,i;return(null==(r=null==(t=e.functionResponse)?void 0:t.response)?void 0:r.data)?e.functionResponse.response.data.some(e=>{var t,r;return null==(r=null==(t=e.inlineData)?void 0:t.mimeType)?void 0:r.startsWith("image/")}):(null==(n=e.functionResponse)?void 0:n.parts)?e.functionResponse.parts.some(e=>{var t,r;return null==(r=null==(t=e.inlineData)?void 0:t.mimeType)?void 0:r.startsWith("image/")}):null==(i=null==(a=e.inlineData)?void 0:a.mimeType)?void 0:i.startsWith("image/")})),n&&r.push(t)}),r);return e.forEach((e,r)=>{let a=n.indexOf(r);a>=0&&a<n.length-t&&e.parts&&Array.isArray(e.parts)&&(e.parts=e.parts.map(e=>{var t,r,n,a,i;return(null==(r=null==(t=e.functionResponse)?void 0:t.response)?void 0:r.data)&&e.functionResponse.response.data.some(e=>{var t,r;return null==(r=null==(t=e.inlineData)?void 0:t.mimeType)?void 0:r.startsWith("image/")})?eH(eZ({},e),{functionResponse:eH(eZ({},e.functionResponse),{data:[],response:eH(eZ({},e.functionResponse.response),{compressed:"screenshot taken"})})}):(null==(n=e.functionResponse)?void 0:n.parts)&&e.functionResponse.parts.some(e=>{var t,r;return null==(r=null==(t=e.inlineData)?void 0:t.mimeType)?void 0:r.startsWith("image/")})?eH(eZ({},e),{functionResponse:eH(eZ({},e.functionResponse),{parts:e.functionResponse.parts.filter(e=>{var t,r;return!(null==(r=null==(t=e.inlineData)?void 0:t.mimeType)?void 0:r.startsWith("image/"))}),response:eH(eZ({},e.functionResponse.response),{compressed:"screenshot taken"})})}):(null==(i=null==(a=e.inlineData)?void 0:a.mimeType)?void 0:i.startsWith("image/"))?{text:"screenshot taken"}:e}))}),{items:e}}(this.history,2).items,i=null,o=null;for(let t=0;t<5;t++)try{if(t>0){let r=1e3*Math.pow(2,t);e({category:"agent",message:`Generating content failed on attempt ${t+1}. Retrying in ${r/1e3} seconds...`,level:2}),yield new Promise(e=>setTimeout(e,r))}if(!(o=yield this.client.models.generateContent({model:this.modelName,contents:a,config:this.generateContentConfig})).candidates||0===o.candidates.length)throw new O("agent","Response has no candidates!");break}catch(r){if(i=r instanceof Error?r:Error(String(r)),e({category:"agent",message:`API call error: ${i.message}`,level:2}),4===t)throw e({category:"agent",message:"Generating content failed after 5 attempts.",level:0}),i}if(!o)throw i||Error("Failed to get response after all retries");let s=Date.now(),{usageMetadata:l}=o,u=yield this.processResponse(o,e);if(o.candidates&&o.candidates[0]){let e=JSON.parse(JSON.stringify(o.candidates[0].content));if(e.parts)for(let r of e.parts)(null==(t=r.functionCall)?void 0:t.args)&&("number"==typeof r.functionCall.args.x&&r.functionCall.args.x>999&&(r.functionCall.args.x=999),"number"==typeof r.functionCall.args.y&&r.functionCall.args.y>999&&(r.functionCall.args.y=999));this.history.push(e)}let d=[];if(u.actions.length>0){let t=!1;for(let r=0;r<u.actions.length;r++){let n=u.actions[r];if(e({category:"agent",message:`Executing action ${r+1}/${u.actions.length}: ${n.type}`,level:2}),"open_web_browser"===n.type)n.pageUrl=this.currentUrl,e({category:"agent",message:"Skipping open_web_browser action",level:2});else if("custom_tool"===n.type){let r=n.name,a=n.arguments;if(this.tools&&r in this.tools&&u.functionCalls.find(e=>e.name===r)){let n=yield function(e,t,r,n,a){return eQ(this,null,function*(){try{a({category:"agent",message:`Executing custom tool: ${e} with args: ${JSON.stringify(t)}`,level:1});let n=r[e],i=yield n.execute(t,{toolCallId:`tool_${Date.now()}`,messages:[]});return a({category:"agent",message:`Tool ${e} completed successfully. Result: ${JSON.stringify(i)}`,level:1}),{functionResponse:{functionResponse:{name:e,response:{result:JSON.stringify(i)}}},success:!0}}catch(r){let t=r instanceof Error?r.message:String(r);return a({category:"agent",message:`Error executing custom tool ${e}: ${t}`,level:0}),{functionResponse:{functionResponse:{name:e,response:{error:t}}},success:!1}}})}(r,a,this.tools,0,e);d.push(n.functionResponse),n.success||(t=!0)}}else if(this.actionHandler)try{if(yield this.actionHandler(n),r<u.actions.length-1){let e=u.actions[r+1],t="type"===n.type||"type"===e.type?500:200;yield new Promise(e=>setTimeout(e,t))}}catch(r){e({category:"agent",message:`Error executing action ${n.type}: ${r}`,level:0}),t=!0}}if(u.functionCalls.length>0||t){let n=u.functionCalls.filter(e=>!nx(e,this.tools));if(n.length>0)try{e({category:"agent",message:`Taking screenshot after executing ${u.actions.length} actions${t?" (with errors)":""}`,level:2});let a=(yield this.captureScreenshot()).replace(/^data:image\/png;base64,/,"");for(let e of n){let t={functionResponse:{name:e.name,response:eZ({url:this.currentUrl||""},(null==(r=e.args)?void 0:r.safety_decision)?{safety_acknowledgement:"true"}:{}),parts:[{inlineData:{mimeType:"image/png",data:a}}]}};d.push(t)}}catch(t){e({category:"agent",message:`Error capturing screenshot: ${t}`,level:0})}}d.length>0&&(e({category:"agent",message:`Adding ${d.length} function responses to history`,level:2}),this.history.push({role:"user",parts:d}))}return{actions:u.actions,message:u.message,completed:u.completed,usage:{input_tokens:(null==l?void 0:l.promptTokenCount)||0,output_tokens:(null==l?void 0:l.candidatesTokenCount)||0,inference_time_ms:s-n}}}catch(r){let t=r instanceof Error?r.message:String(r);throw e({category:"agent",message:`Error executing step: ${t}`,level:0}),r}})}processResponse(e,t){return eQ(this,null,function*(){let r=[],n="",a=[];if(!e.candidates||0===e.candidates.length)return{actions:[],message:"No candidates in response",completed:!0,functionCalls:[]};let i=e.candidates[0];for(let e of(t({category:"agent",message:`Raw response from Google: ${JSON.stringify(i.content,null,2)}`,level:2}),i.content.parts))if(e.text&&(n+=e.text+"\n",t({category:"agent",message:`Reasoning: ${e.text}`,level:1})),e.functionCall){a.push(e.functionCall),t({category:"agent",message:`Found function call: ${e.functionCall.name} with args: ${JSON.stringify(e.functionCall.args)}`,level:2});let n=this.convertFunctionCallToAction(e.functionCall);n?"type_text_at"===e.functionCall.name&&"type"===n.type?(t({category:"agent",message:`Adding action: ${JSON.stringify(n)}`,level:2}),r.push({type:"click",x:n.x,y:n.y,button:"left"}),n.clearBeforeTyping&&(r.push({type:"keypress",keys:["ControlOrMeta+A"]}),r.push({type:"keypress",keys:["Backspace"]})),r.push(n),n.pressEnter&&r.push({type:"keypress",keys:["Enter"]})):r.push(n):t({category:"agent",message:`Warning: Could not convert function call ${e.functionCall.name} to action`,level:1})}t({category:"agent",message:`Found ${a.length} function calls, converted to ${r.length} actions`,level:2});let o=0===a.length||i.finishReason&&"STOP"!==i.finishReason;return{actions:r,message:n.trim(),completed:o,functionCalls:a}})}convertFunctionCallToAction(e){var t,r;let{name:n,args:a}=e;if(!n||!a)return null;switch(n){case"open_web_browser":return{type:"open_web_browser",timestamp:Date.now()};case"click_at":{let{x:e,y:t}=this.normalizeCoordinates(a.x,a.y);return{type:"click",x:e,y:t,button:a.button||"left"}}case"type_text_at":{let{x:e,y:n}=this.normalizeCoordinates(a.x,a.y),i=null!=(t=a.press_enter)&&t,o=null==(r=a.clear_before_typing)||r;return{type:"type",text:a.text,x:e,y:n,pressEnter:i,clearBeforeTyping:o}}case"key_combination":return{type:"keypress",keys:a.keys.split("+").map(e=>e.trim()).map(e=>ny(e))};case"scroll_document":return{type:"keypress",keys:["up"===a.direction.toLowerCase()?"PageUp":"PageDown"]};case"scroll_at":{let{x:e,y:t}=this.normalizeCoordinates(a.x,a.y),r=(a.direction||"down").toLowerCase(),n="number"==typeof a.magnitude?a.magnitude:800,i=0,o=0;return"up"===r?o=-n:"down"===r?o=n:"left"===r?i=-n:"right"===r?i=n:o=n,{type:"scroll",x:e,y:t,scroll_x:i,scroll_y:o}}case"navigate":return{type:"goto",url:a.url};case"go_back":return{type:"back"};case"go_forward":return{type:"forward"};case"wait_5_seconds":return{type:"wait",timeMs:5e3};case"hover_at":{let{x:e,y:t}=this.normalizeCoordinates(a.x,a.y);return{type:"move",x:e,y:t}}case"search":return{type:"goto",url:"https://www.google.com"};case"drag_and_drop":{let e=this.normalizeCoordinates(a.x,a.y),t=this.normalizeCoordinates(a.destination_x,a.destination_y);return{type:"drag",path:[{x:e.x,y:e.y},{x:t.x,y:t.y}]}}default:if(nx(e,this.tools))return{type:"custom_tool",name:n,arguments:a,timestamp:Date.now(),pageUrl:this.currentUrl};return console.warn(`Unsupported Google CUA function: ${n}`),null}}normalizeCoordinates(e,t){return e=Math.min(999,Math.max(0,e)),t=Math.min(999,Math.max(0,t)),{x:Math.floor(e/1e3*this.currentViewport.width),y:Math.floor(t/1e3*this.currentViewport.height)}}captureScreenshot(e){return eQ(this,null,function*(){if((null==e?void 0:e.currentUrl)&&(this.currentUrl=e.currentUrl),null==e?void 0:e.base64Image)return`data:image/png;base64,${e.base64Image}`;if(this.screenshotProvider)try{let e=yield this.screenshotProvider();return`data:image/png;base64,${e}`}catch(e){throw console.error("Error capturing screenshot:",e),e}throw new w("`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image")})}},nT={"computer-use-preview":"openai","computer-use-preview-2025-03-11":"openai","claude-3-7-sonnet-latest":"anthropic","claude-sonnet-4-20250514":"anthropic","claude-sonnet-4-5-20250929":"anthropic","claude-haiku-4-5-20251001":"anthropic","gemini-2.5-computer-use-preview-10-2025":"google"},nO=class e{constructor(e){this.logger=e}getClient(t,r,n,a){let i=e.getAgentProvider(t);this.logger({category:"agent",message:`Getting agent client for type: ${i}, model: ${t}`,level:2});try{switch(i){case"openai":return new n_(i,t,n,r,a);case"anthropic":return new nv(i,t,n,r,a);case"google":return new nE(i,t,n,r,a);default:throw new c(["openai","anthropic","google"],"Computer Use Agent")}}catch(t){let e=t instanceof Error?t.message:String(t);throw this.logger({category:"agent",message:`Error creating agent client: ${e}`,level:0}),t}}static getAgentProvider(e){let t=e.includes("/")?e.split("/")[1]:e;if(t in nT)return nT[t];throw new d(Object.keys(nT),"Computer Use Agent")}},nI=class{constructor(e,t,r,n){this.v3=e,this.logger=t,this.options=r,this.provider=new nO(t);const a=this.provider.getClient(r.modelName,r.clientOptions||{},r.userProvidedInstructions,n);this.agentClient=a,this.setupAgentClient(),this.agent=a}setupAgentClient(){this.agentClient.setScreenshotProvider(()=>eQ(this,null,function*(){let e=yield this.v3.context.awaitActivePage();return(yield e.screenshot({fullPage:!1})).toString("base64")})),this.agentClient.setActionHandler(e=>eQ(this,null,function*(){var t,r,n;e.pageUrl=(yield this.v3.context.awaitActivePage()).url();let a=(null==(t=this.options.clientOptions)?void 0:t.waitBetweenActions)||1e3;try{if(this.highlightCursor)try{yield this.injectCursor()}catch(e){}yield new Promise(e=>setTimeout(e,300)),yield this.executeAction(e),e.timestamp=Date.now(),yield new Promise(e=>setTimeout(e,a));try{yield this.captureAndSendScreenshot()}catch(e){this.logger({category:"agent",message:`Warning: Failed to take screenshot after action: ${String(null!=(r=null==e?void 0:e.message)?r:e)}`,level:1})}}catch(r){let t=null!=(n=null==r?void 0:r.message)?n:String(r);throw this.logger({category:"agent",message:`Error executing action ${e.type}: ${t}`,level:0}),r}})),this.updateClientViewport(),this.updateClientUrl()}execute(e){return eQ(this,null,function*(){var t,r;let n="string"==typeof e?{instruction:e}:e;this.highlightCursor=!1!==n.highlightCursor;let a=yield this.v3.context.awaitActivePage(),i=a.url();if(i&&"about:blank"!==i||(this.logger({category:"agent",message:"Page URL is empty. Navigating to https://www.google.com ...",level:1}),yield a.goto("https://www.google.com",{waitUntil:"load"})),this.highlightCursor)try{yield this.injectCursor()}catch(t){let e=t instanceof Error?t.message:String(t);this.logger({category:"agent",message:`Warning: Failed to inject cursor: ${e}. Continuing with execution.`,level:1})}let o=Date.now(),s=yield this.agent.execute({options:n,logger:this.logger}),l=Date.now()-o;return s.usage&&this.v3.updateMetrics("AGENT",s.usage.input_tokens,s.usage.output_tokens,null!=(t=s.usage.reasoning_tokens)?t:0,null!=(r=s.usage.cached_input_tokens)?r:0,l),s})}executeAction(e){return eQ(this,null,function*(){var t;let r=yield this.v3.context.awaitActivePage(),n=this.v3.isAgentReplayActive();switch(e.type){case"click":{let{x:t,y:a,button:i="left",clickCount:o}=e;if(n){let n=yield r.click(t,a,{button:null!=i?i:"left",clickCount:null!=o?o:1,returnXpath:!0}),s=this.ensureXPath(n);if(s){let r={selector:s,description:this.describePointerAction("click",t,a),method:"click",arguments:[]};this.recordCuaActStep(e,[r],r.description)}}else yield r.click(t,a,{button:null!=i?i:"left",clickCount:null!=o?o:1});return{success:!0}}case"double_click":case"doubleClick":{let{x:t,y:a}=e;if(n){let n=yield r.click(t,a,{button:"left",clickCount:2,returnXpath:!0}),i=this.ensureXPath(n);if(i){let r={selector:i,description:this.describePointerAction("double click",t,a),method:"doubleClick",arguments:[]};this.recordCuaActStep(e,[r],r.description)}}else yield r.click(t,a,{button:"left",clickCount:2});return{success:!0}}case"tripleClick":{let{x:t,y:a}=e;if(n){let n=yield r.click(t,a,{button:"left",clickCount:3,returnXpath:!0}),i=this.ensureXPath(n);if(i){let r={selector:i,description:this.describePointerAction("triple click",t,a),method:"tripleClick",arguments:[]};this.recordCuaActStep(e,[r],r.description)}}else yield r.click(t,a,{clickCount:3});return{success:!0}}case"type":{let{text:t}=e;if(yield r.type(String(null!=t?t:"")),n){let n=yield function(e){return eQ(this,null,function*(){var t;let r,n=e.getFullFrameTree(),a=new Map;!function e(t,r){var n;for(let i of(a.set(t.frame.id,r),null!=(n=t.childFrames)?n:[]))e(i,t.frame.id)}(n,null);let i=e.listAllFrameIds(),o=null;for(let t of i){let r=e.getSessionForFrame(t);try{yield r.send("Runtime.enable").catch(()=>{});let e=yield W.waitForMainWorld(r,t,1e3).catch(()=>{}),n=e?{contextId:e,expression:"document.hasFocus()===true",returnByValue:!0}:{expression:"document.hasFocus()===true",returnByValue:!0},{result:a}=yield r.send("Runtime.evaluate",n);if((null==a?void 0:a.value)===!0){o=t;break}}catch(e){}}o||(o=e.mainFrameId());let s=e.getSessionForFrame(o);try{yield s.send("Runtime.enable").catch(()=>{});let e=yield W.waitForMainWorld(s,o,1e3).catch(()=>{}),t=`(() => {
      try {
        function deepActive(doc) {
          let el = doc.activeElement || null;
          while (el && el.shadowRoot && el.shadowRoot.activeElement) {
            el = el.shadowRoot.activeElement;
          }
          return el || null;
        }
        return deepActive(document);
      } catch { return null; }
    })()`,{result:n}=yield s.send("Runtime.evaluate",e?{contextId:e,expression:t,returnByValue:!1}:{expression:t,returnByValue:!1});r=null==n?void 0:n.objectId}catch(e){r=void 0}if(!r)return null;let l=yield eQ(null,null,function*(){try{let{result:e}=yield s.send("Runtime.callFunctionOn",{objectId:r,functionDeclaration:`function() {
            try {
              const node = this;
              function sibIndex(n) {
                let i = 1; const t = n.nodeType+':'+(n.nodeName||'').toLowerCase();
                for (let p = n.previousSibling; p; p = p.previousSibling) {
                  const key = p.nodeType+':'+(p.nodeName||'').toLowerCase();
                  if (key === t) i++;
                }
                return i;
              }
              function step(n) {
                if (!n) return '';
                if (n.nodeType === Node.DOCUMENT_NODE) return '';
                if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) return '//';
                if (n.nodeType === Node.TEXT_NODE) return 'text()[' + sibIndex(n) + ']';
                if (n.nodeType === Node.COMMENT_NODE) return 'comment()[' + sibIndex(n) + ']';
                const tag = (n.nodeName||'').toLowerCase();
                const name = tag.includes(':') ? "*[name()='"+tag+"']" : tag;
                return name + '[' + sibIndex(n) + ']';
              }
              const parts = [];
              let cur = node;
              while (cur) {
                if (cur.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                  parts.push('//');
                  cur = (cur && cur.host) ? cur.host : null;
                  continue;
                }
                const s = step(cur);
                if (s) parts.push(s);
                cur = cur.parentNode;
              }
              parts.reverse();
              let out = '';
              for (const s of parts) {
                if (s === '//') out = out ? (out.endsWith('/') ? out + '/' : out + '//') : '//';
                else out = out ? (out.endsWith('/') ? out + s : out + '/' + s) : '/' + s;
              }
              return out || '/';
            } catch { return ''; }
          }`,returnByValue:!0});try{yield s.send("Runtime.releaseObject",{objectId:r})}catch(e){}let t=(null==e?void 0:e.value)||"";return"string"==typeof t&&t?t:null}catch(e){try{yield s.send("Runtime.releaseObject",{objectId:r})}catch(e){}return null}});if(!l)return null;let u="",d=o;for(;d;){let r=null!=(t=a.get(d))?t:null;if(!r)break;let n=e.getSessionForFrame(r);try{let{backendNodeId:e}=yield n.send("DOM.getFrameOwner",{frameId:d});if("number"==typeof e){let t=yield e7(n,e);t&&(u=u?tt(u,t):tr(t))}}catch(e){}d=r}return u?tt(u,l):tr(l)})}(r),a=this.ensureXPath(n);if(a){let r={selector:a,description:this.describeTypeAction(String(null!=t?t:"")),method:"type",arguments:[String(null!=t?t:"")]};this.recordCuaActStep(e,[r],r.description)}}return{success:!0}}case"keypress":{let{keys:t}=e,a=Array.isArray(t)?t:[t],i=[];for(let e of a){let t=ny(String(null!=e?e:""));yield r.keyPress(t),n&&i.push({selector:"xpath=/html",description:`press ${t}`,method:"press",arguments:[t]})}return n&&i.length>0&&this.recordCuaActStep(e,i,i.map(e=>e.description).filter(Boolean).join(", ")||"keypress"),{success:!0}}case"scroll":{let{x:t,y:n,scroll_x:a=0,scroll_y:i=0}=e;return yield r.scroll(null!=t?t:0,null!=n?n:0,null!=a?a:0,null!=i?i:0),this.v3.recordAgentReplayStep({type:"scroll",deltaX:Number(null!=a?a:0),deltaY:Number(null!=i?i:0),anchor:"number"==typeof t&&"number"==typeof n?{x:Math.round(t),y:Math.round(n)}:void 0}),{success:!0}}case"drag":{let{path:t}=e;if(Array.isArray(t)&&t.length>=2){let a=t[0],i=t[t.length-1];if(n){let[n,o]=(yield r.dragAndDrop(a.x,a.y,i.x,i.y,{steps:Math.min(20,Math.max(5,t.length)),delay:10,returnXpath:!0}))||["",""],s=this.ensureXPath(n),l=this.ensureXPath(o);if(s&&l){let t={selector:s,description:this.describeDragAction(),method:"dragAndDrop",arguments:[l]};this.recordCuaActStep(e,[t],t.description)}}else yield r.dragAndDrop(a.x,a.y,i.x,i.y,{steps:Math.min(20,Math.max(5,t.length)),delay:10})}return{success:!0}}case"move":case"screenshot":case"open_web_browser":case"custom_tool":return{success:!0};case"wait":{let r=null!=(t=null==e?void 0:e.timeMs)?t:1e3;return yield new Promise(e=>setTimeout(e,r)),r>0&&n&&this.v3.recordAgentReplayStep({type:"wait",timeMs:Number(r)}),{success:!0}}case"goto":{let{url:t}=e;return yield r.goto(String(null!=t?t:""),{waitUntil:"load"}),n&&this.v3.recordAgentReplayStep({type:"goto",url:String(null!=t?t:"")}),{success:!0}}case"back":return yield r.goBack(),n&&this.v3.recordAgentReplayStep({type:"back"}),{success:!0};case"forward":return yield r.goForward(),n&&this.v3.recordAgentReplayStep({type:"forward"}),{success:!0};default:return this.logger({category:"agent",message:`Unknown action type: ${String(e.type)}`,level:1}),{success:!1,error:`Unknown action ${String(e.type)}`}}})}ensureXPath(e){if("string"!=typeof e)return null;let t=e.trim();return t?t.startsWith("xpath=")?t:`xpath=${t}`:null}describePointerAction(e,t,r){let n=Number(t),a=Number(r);return Number.isFinite(n)&&Number.isFinite(a)?`${e} at (${Math.round(n)}, ${Math.round(a)})`:e}describeTypeAction(e){let t=e.length>30?`${e.slice(0,27)}...`:e;return`type "${t}"`}describeDragAction(){return"drag and drop"}buildInstructionFallback(e,t){let r="string"==typeof e.action&&e.action.trim()||"string"==typeof e.reasoning&&e.reasoning.trim();return r&&r.length>0?r:t}recordCuaActStep(e,t,r){var n;if(!t.length)return;let a=this.buildInstructionFallback(e,r),i=(null==(n=t[0])?void 0:n.description)||a,o=t.map(e=>eH(eZ({},e),{description:e.description||i}));this.v3.recordAgentReplayStep({type:"act",instruction:a,actions:o,actionDescription:i,message:"string"==typeof e.reasoning&&e.reasoning.trim().length>0?e.reasoning.trim():void 0})}updateClientViewport(){return eQ(this,null,function*(){try{let e=yield this.v3.context.awaitActivePage(),{w:t,h:r}=yield e.mainFrame().evaluate("({ w: window.innerWidth, h: window.innerHeight })");t&&r&&this.agentClient.setViewport(t,r)}catch(e){}})}updateClientUrl(){return eQ(this,null,function*(){try{let e=(yield this.v3.context.awaitActivePage()).url();this.agentClient.setCurrentUrl(e)}catch(e){}})}captureAndSendScreenshot(){return eQ(this,null,function*(){var e;this.logger({category:"agent",message:"Capturing screenshot",level:1});try{let e=yield this.v3.context.awaitActivePage(),t=yield e.screenshot({fullPage:!1}),r=e.url();return yield this.agentClient.captureScreenshot({base64Image:t,currentUrl:r})}catch(t){return this.logger({category:"agent",message:`Error capturing screenshot: ${String(null!=(e=null==t?void 0:t.message)?e:t)}`,level:0}),null}})}injectCursor(){return eQ(this,null,function*(){try{let e=yield this.v3.context.awaitActivePage();yield e.enableCursorOverlay()}catch(e){}})}},nP=eX(e.r(11043));e0();var nC=eX(e.r(22734),1),nA=eX(e.r(4446),1),nj={};eK(nj,{darwin:()=>at,darwinFast:()=>ae,linux:()=>an,win32:()=>ai,wsl:()=>aa});var nz=eX(e.r(22734),1),nR=eX(e.r(14747),1),nN=e.r(46786),n$=e.r(33405),nM=eX(tk(),1),nD=eX(e.r(5365),1),nF=e.r(27699),nU=eX(tC(),1),nL="u">typeof performance&&performance;ex=process.hrtime,eT=(eE=function(){var e=ex();return 1e9*e[0]+e[1]})();var nq=nL&&nL.now?function(){return nL.now()}:function(){return(eE()-eT)/1e6};function nV(e){if(!e)throw Error("name must be non-empty")}nL&&nL.mark&&nL.measure&&nL.getEntriesByName&&nL.getEntriesByType&&nL.clearMarks&&nL.clearMeasures&&nL.clearResourceTimings?(eO=function(e){nV(e),nL.mark("start "+e)},eI=function(e){nV(e),nL.mark("end "+e);var t=nL.measure(e,"start "+e,"end "+e);if(t)return t;var r=nL.getEntriesByName(e);return r[r.length-1]},eP=function(){return nL.getEntriesByType("measure")},eC=function(){nL.clearMarks(),nL.clearMeasures()}):(eA={},ej=[],eO=function(e){nV(e);var t=nq();eA["$"+e]=t},eI=function(e){nV(e);var t=nq(),r=eA["$"+e];if(!r)throw Error("no known mark: "+e);for(var n,a={startTime:r,name:e,duration:t-r,entryType:"measure"},i=ej,o=0,s=i.length;o<s;)i[n=o+s>>>1].startTime<a.startTime?o=n+1:s=n;return i.splice(o,0,a),a},eP=function(){return ej},eC=function(){eA={},ej=[]});var nB="win32"===nD.default.platform,nZ=nD.default.browser,nH={red:nZ?"crimson":1,yellow:nZ?"gold":3,cyan:nZ?"darkturquoise":6,green:nZ?"forestgreen":2,blue:nZ?"steelblue":4,magenta:nZ?"palevioletred":5};nU.default.colors=[nH.cyan,nH.green,nH.blue,nH.magenta];var nG=class extends nF.EventEmitter{constructor(e){super(e)}issueStatus(e,t){("status"===e||"statusEnd"===e)&&this.emit(e,[e,...t])}issueWarning(e,t){this.emit("warning",[e,...t])}},nW={},nJ=class e{static _logToStdErr(t,r){e.loggerfn(t)(...r)}static loggerfn(e){let t=nW[e=`LH:${e}`];return!t&&(t=(0,nU.default)(e),nW[e]=t,e.endsWith("error")?t.color=nH.red:e.endsWith("warn")&&(t.color=nH.yellow)),t}static setLevel(e){switch(ez=e,e){case"silent":nU.default.enable("-LH:*");break;case"verbose":nU.default.enable("LH:*");break;case"warn":nU.default.enable("-LH:*, LH:*:warn, LH:*:error");break;case"error":nU.default.enable("-LH:*, LH:*:error");break;default:nU.default.enable("LH:*, -LH:*:verbose")}}static formatProtocol(t,r,n){let a=!nD.default||nD.default.browser?1/0:nD.default.stdout.columns,i=r.method||"?????",o=a-i.length-t.length-25,s=r.params&&"IO.read"!==i?JSON.stringify(r.params).substr(0,o):"";e._logToStdErr(`${t}:${n||""}`,[i,s])}static isVerbose(){return"verbose"===ez}static time({msg:t,id:r,args:n=[]},a="log"){eO(r),e[a]("status",t,...n)}static timeEnd({msg:t,id:r,args:n=[]},a="verbose"){e[a]("statusEnd",t,...n),eI(r)}static log(t,...r){return e.events.issueStatus(t,r),e._logToStdErr(t,r)}static warn(t,...r){return e.events.issueWarning(t,r),e._logToStdErr(`${t}:warn`,r)}static error(t,...r){return e._logToStdErr(`${t}:error`,r)}static verbose(t,...r){return e.events.issueStatus(t,r),e._logToStdErr(`${t}:verbose`,r)}static greenify(t){return`${e.green}${t}${e.reset}`}static redify(t){return`${e.red}${t}${e.reset}`}static get green(){return"\x1b[32m"}static get red(){return"\x1b[31m"}static get yellow(){return"\x1b[33m"}static get purple(){return"\x1b[95m"}static get reset(){return"\x1b[0m"}static get bold(){return"\x1b[1m"}static get dim(){return"\x1b[2m"}static get tick(){return nB?"":""}static get cross(){return nB?"":""}static get whiteSmallSquare(){return nB?"":""}static get heavyHorizontal(){return nB?"":""}static get heavyVertical(){return nB?" ":" "}static get heavyUpAndRight(){return nB?"":""}static get heavyVerticalAndRight(){return nB?"":""}static get heavyDownAndHorizontal(){return nB?"":""}static get doubleLightHorizontal(){return""}};nJ.events=new nG,nJ.takeTimeEntries=()=>{let e=eP();return eC(),e},nJ.getTimeEntries=()=>eP();var nK=e.r(14747),nY=eX(e.r(33405),1),nX=e.r(22734),nQ=eX(tj(),1);function n1(e,t){return void 0===e?t:e}var n0=class extends Error{constructor(e="Unexpected error",t){return super(),this.message=e,this.code=t,this.stack=Error().stack,this}},n2=class extends n0{constructor(){super(...arguments),this.message="The CHROME_PATH environment variable must be set to a Chrome/Chromium executable no older than Chrome stable.",this.code="ERR_LAUNCHER_PATH_NOT_SET"}},n4=class extends n0{constructor(){super(...arguments),this.message="userDataDir must be false or a path.",this.code="ERR_LAUNCHER_INVALID_USER_DATA_DIRECTORY"}},n6=class extends n0{constructor(){super(...arguments),this.message=`Platform ${n9()} is not supported.`,this.code="ERR_LAUNCHER_UNSUPPORTED_PLATFORM"}},n3=class extends n0{constructor(){super(...arguments),this.message="No Chrome installations found.",this.code="ERR_LAUNCHER_NOT_INSTALLED"}};function n9(){return nQ.default?"wsl":process.platform}function n5(e,t){try{return nY.default.execFileSync("wslpath",["-u",e]).toString().trim()}catch(e){return t}}function n8(e){let t,r=/\/([a-z])\/Users\/([^\/:]+)\/AppData\//.exec(e)||[];return n5(`${r[1]}:\\Users\\${r[2]}\\AppData\\Local`,(t=/\/mnt\/([a-z])\/Users\/([^\/:]+)\/AppData\//.exec(e)||[],`/mnt/${t[1]}/Users/${t[2]}/AppData/Local`))}var n7=/\r?\n/;function ae(){for(let e of[process.env.CHROME_PATH,process.env.LIGHTHOUSE_CHROMIUM_PATH,"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary","/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"])if(e&&as(e))return e;return at()[0]}function at(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome"],t=[],r=ar();r&&t.push(r),(0,n$.execSync)("/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump | grep -i 'google chrome\\( canary\\)\\?\\.app' | awk '{$1=\"\"; print $0}'").toString().split(n7).forEach(r=>{e.forEach(e=>{let n=nR.default.join(r.substring(0,r.indexOf(".app")+4).trim(),e);as(n)&&-1===t.indexOf(n)&&t.push(n)})});let n=(0,nM.default)(process.env.HOME||(0,nN.homedir)()),a=[{regex:RegExp(`^${n}/Applications/.*Chrome\\.app`),weight:50},{regex:RegExp(`^${n}/Applications/.*Chrome Canary\\.app`),weight:51},{regex:/^\/Applications\/.*Chrome.app/,weight:100},{regex:/^\/Applications\/.*Chrome Canary.app/,weight:101},{regex:/^\/Volumes\/.*Chrome.app/,weight:-2},{regex:/^\/Volumes\/.*Chrome Canary.app/,weight:-1}];return process.env.LIGHTHOUSE_CHROMIUM_PATH&&a.unshift({regex:new RegExp((0,nM.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)),weight:150}),process.env.CHROME_PATH&&a.unshift({regex:new RegExp((0,nM.default)(process.env.CHROME_PATH)),weight:151}),ao(t,a)}function ar(){return as(process.env.CHROME_PATH)?process.env.CHROME_PATH:as(process.env.LIGHTHOUSE_CHROMIUM_PATH)?(nJ.warn("ChromeLauncher","LIGHTHOUSE_CHROMIUM_PATH is deprecated, use CHROME_PATH env variable instead."),process.env.LIGHTHOUSE_CHROMIUM_PATH):void 0}function an(){let e=[],t=ar();if(t&&e.push(t),[nR.default.join((0,nN.homedir)(),".local/share/applications/"),"/usr/share/applications/"].forEach(t=>{e=e.concat(function(e){let t=/(^[^ ]+).*/,r="^Exec=/.*/(google-chrome|chrome|chromium)-.*",n=[];if(as(e)){let a;try{a=(0,n$.execSync)(`grep -ER "${r}" ${e} | awk -F '=' '{print $2}'`,{stdio:"pipe"})}catch(t){a=(0,n$.execSync)(`grep -Er "${r}" ${e} | awk -F '=' '{print $2}'`,{stdio:"pipe"})}(a=a.toString().split(n7).map(e=>e.replace(t,"$1"))).forEach(e=>as(e)&&n.push(e))}return n}(t))}),["google-chrome-stable","google-chrome","chromium-browser","chromium"].forEach(t=>{try{let r=(0,n$.execFileSync)("which",[t],{stdio:"pipe"}).toString().split(n7)[0];as(r)&&e.push(r)}catch(e){}}),!e.length)throw new n2;let r=[{regex:/chrome-wrapper$/,weight:51},{regex:/google-chrome-stable$/,weight:50},{regex:/google-chrome$/,weight:49},{regex:/chromium-browser$/,weight:48},{regex:/chromium$/,weight:47}];return process.env.LIGHTHOUSE_CHROMIUM_PATH&&r.unshift({regex:new RegExp((0,nM.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)),weight:100}),process.env.CHROME_PATH&&r.unshift({regex:new RegExp((0,nM.default)(process.env.CHROME_PATH)),weight:101}),ao(Array.from(new Set(e.filter(Boolean))),r)}function aa(){return process.env.LOCALAPPDATA=n8(`${process.env.PATH}`),process.env.PROGRAMFILES=n5("C:/Program Files","/mnt/c/Program Files"),process.env["PROGRAMFILES(X86)"]=n5("C:/Program Files (x86)","/mnt/c/Program Files (x86)"),ai()}function ai(){let e=[],t=[`${nR.default.sep}Google${nR.default.sep}Chrome SxS${nR.default.sep}Application${nR.default.sep}chrome.exe`,`${nR.default.sep}Google${nR.default.sep}Chrome${nR.default.sep}Application${nR.default.sep}chrome.exe`],r=[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"]].filter(Boolean),n=ar();return n&&e.push(n),r.forEach(r=>t.forEach(t=>{let n=nR.default.join(r,t);as(n)&&e.push(n)})),e}function ao(e,t){return e.map(e=>{for(let r of t)if(r.regex.test(e))return{path:e,weight:r.weight};return{path:e,weight:10}}).sort((e,t)=>t.weight-e.weight).map(e=>e.path)}function as(e){if(!e)return!1;try{return nz.default.accessSync(e),!0}catch(e){return!1}}var al=e.r(21517),au=["--disable-features=Translate,OptimizationHints,MediaRouter,DialMediaRouteProvider,CalculateNativeWinOcclusion,InterestFeedContentSuggestions,CertificateTransparencyComponentUpdater,AutofillServerCommunication,PrivacySandboxSettings4","--disable-extensions","--disable-component-extensions-with-background-pages","--disable-background-networking","--disable-component-update","--disable-client-side-phishing-detection","--disable-sync","--metrics-recording-only","--disable-default-apps","--mute-audio","--no-default-browser-check","--no-first-run","--disable-backgrounding-occluded-windows","--disable-renderer-backgrounding","--disable-background-timer-throttling","--disable-ipc-flooding-protection","--password-store=basic","--use-mock-keychain","--force-fieldtrials=*BackgroundTracing/default/","--disable-hang-monitor","--disable-prompt-on-repost","--disable-domain-reliability","--propagate-iph-for-testing"],ad=e.r(33405),ac="wsl"===n9(),ap="win32"===n9(),am="SIGINT",ah=new Set(["darwin","linux","win32","wsl"]),af=new Set,ag=()=>{(function(){let e=[];for(let t of af)try{t.kill(),af.delete(t)}catch(t){e.push(t)}})(),process.exit(130)},ay=class e{constructor(e={},t={}){if(this.opts=e,this.tmpDirandPidFileReady=!1,this.remoteDebuggingPipes=null,this.fs=t.fs||nC,this.spawn=t.spawn||ad.spawn,nJ.setLevel(n1(this.opts.logLevel,"silent")),this.startingUrl=n1(this.opts.startingUrl,"about:blank"),this.chromeFlags=n1(this.opts.chromeFlags,[]),this.prefs=n1(this.opts.prefs,{}),this.requestedPort=n1(this.opts.port,0),this.portStrictMode=e.portStrictMode,this.chromePath=this.opts.chromePath,this.ignoreDefaultFlags=n1(this.opts.ignoreDefaultFlags,!1),this.connectionPollInterval=n1(this.opts.connectionPollInterval,500),this.maxConnectionRetries=n1(this.opts.maxConnectionRetries,50),this.envVars=n1(e.envVars,Object.assign({},process.env)),"boolean"==typeof this.opts.userDataDir)if(this.opts.userDataDir)throw new n4;else this.useDefaultProfile=!0,this.userDataDir=void 0;else this.useDefaultProfile=!1,this.userDataDir=this.opts.userDataDir;this.useRemoteDebuggingPipe=this.chromeFlags.some(e=>e.startsWith("--remote-debugging-pipe"))}get flags(){let e=this.ignoreDefaultFlags?[]:au.slice();return this.port&&e.push(`--remote-debugging-port=${this.port}`),this.ignoreDefaultFlags||"linux"!==n9()||e.push("--disable-setuid-sandbox"),this.useDefaultProfile||e.push(`--user-data-dir=${ac?function(e=""){if(/[a-z]:\\/iu.test(e))return e;try{return nY.default.execFileSync("wslpath",["-w",e]).toString().trim()}catch(t){return function(e=""){let t=/\/mnt\/([a-z])\//.exec(e);if(!t)return e;let r=t[1];return e.replace(`/mnt/${r}/`,`${r.toUpperCase()}:\\`).replace(/\//g,"\\")}(e)}}(this.userDataDir):this.userDataDir}`),process.env.HEADLESS&&e.push("--headless"),e.push(...this.chromeFlags),e.push(this.startingUrl),e}static defaultFlags(){return au.slice()}static getFirstInstallation(){return"darwin"===n9()?ae():nj[n9()]()[0]}static getInstallations(){return nj[n9()]()}makeTmpDir(){switch(n9()){case"darwin":case"linux":return nY.default.execSync("mktemp -d -t lighthouse.XXXXXXX").toString().trim();case"wsl":process.env.TEMP=n8(`${process.env.PATH}`);case"win32":let e,t,r;return e=process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp",t=Math.floor(9e7*Math.random()+1e7),r=(0,nK.join)(e,"lighthouse."+t),(0,nX.mkdirSync)(r,{recursive:!0}),r;default:throw new n6}}prepare(){let e=n9();if(!ah.has(e))throw new n6;this.userDataDir=this.userDataDir||this.makeTmpDir(),this.outFile=this.fs.openSync(`${this.userDataDir}/chrome-out.log`,"a"),this.errFile=this.fs.openSync(`${this.userDataDir}/chrome-err.log`,"a"),this.setBrowserPrefs(),this.pidFile=`${this.userDataDir}/chrome.pid`,nJ.verbose("ChromeLauncher",`created ${this.userDataDir}`),this.tmpDirandPidFileReady=!0}setBrowserPrefs(){if(0===Object.keys(this.prefs).length)return;let e=`${this.userDataDir}/Default`;this.fs.existsSync(e)||this.fs.mkdirSync(e,{recursive:!0});let t=`${e}/Preferences`;try{if(this.fs.existsSync(t)){let e=this.fs.readFileSync(t,"utf-8"),r=JSON.parse(e);this.fs.writeFileSync(t,JSON.stringify(eZ(eZ({},r),this.prefs)),"utf-8")}else this.fs.writeFileSync(t,JSON.stringify(eZ({},this.prefs)),"utf-8")}catch(e){nJ.log("ChromeLauncher",`Failed to set browser prefs: ${e.message}`)}}launch(){return eQ(this,null,function*(){if(0!==this.requestedPort){this.port=this.requestedPort;try{yield this.isDebuggerReady(),nJ.log("ChromeLauncher",`Found existing Chrome already running using port ${this.port}, using that.`);return}catch(e){if(this.portStrictMode)throw Error(`found no Chrome at port ${this.requestedPort}`);nJ.log("ChromeLauncher",`No debugging port found on port ${this.port}, launching a new Chrome.`)}}if(void 0===this.chromePath){let t=e.getFirstInstallation();if(!t)throw new n3;this.chromePath=t}return this.tmpDirandPidFileReady||this.prepare(),this.pid=yield this.spawnProcess(this.chromePath),Promise.resolve()})}spawnProcess(e){return eQ(this,null,function*(){let t=eQ(this,null,function*(){return this.chromeProcess?nJ.log("ChromeLauncher",`Chrome already running with pid ${this.chromeProcess.pid}.`):(0===this.requestedPort&&(this.useRemoteDebuggingPipe?this.port=0:this.port=yield new Promise((e,t)=>{let r=(0,al.createServer)();r.listen(0),r.once("listening",()=>{let{port:t}=r.address();r.close(()=>e(t))}),r.once("error",t)})),nJ.verbose("ChromeLauncher",`Launching with command:
"${e}" ${this.flags.join(" ")}`),this.chromeProcess=this.spawn(e,this.flags,{detached:"win32"!==process.platform,stdio:this.useRemoteDebuggingPipe?["ignore",this.outFile,this.errFile,"pipe","pipe"]:["ignore",this.outFile,this.errFile],env:this.envVars}),this.chromeProcess.pid&&this.fs.writeFileSync(this.pidFile,this.chromeProcess.pid.toString()),this.useRemoteDebuggingPipe&&(this.remoteDebuggingPipes={incoming:this.chromeProcess.stdio[4],outgoing:this.chromeProcess.stdio[3]}),nJ.verbose("ChromeLauncher",`Chrome running with pid ${this.chromeProcess.pid} on port ${this.port}.`)),this.chromeProcess.pid}),r=yield t;return 0!==this.port&&(yield this.waitUntilReady()),r})}cleanup(e){e&&(e.removeAllListeners(),e.end(),e.destroy(),e.unref())}isDebuggerReady(){return new Promise((e,t)=>{let r=nA.createConnection(this.port,"127.0.0.1");r.once("error",e=>{this.cleanup(r),t(e)}),r.once("connect",()=>{this.cleanup(r),e()})})}waitUntilReady(){let e=this;return new Promise((t,r)=>{let n=0,a="Waiting for browser.",i=()=>{0===n&&nJ.log("ChromeLauncher",a),n++,a+="..",nJ.log("ChromeLauncher",a),e.isDebuggerReady().then(()=>{nJ.log("ChromeLauncher",a+`${nJ.greenify(nJ.tick)}`),t()}).catch(t=>{if(n>e.maxConnectionRetries){nJ.error("ChromeLauncher",t.message);let e=this.fs.readFileSync(`${this.userDataDir}/chrome-err.log`,{encoding:"utf-8"});return nJ.error("ChromeLauncher",`Logging contents of ${this.userDataDir}/chrome-err.log`),nJ.error("ChromeLauncher",e),r(t)}(function(e){return eQ(this,null,function*(){return new Promise(t=>setTimeout(t,e))})})(e.connectionPollInterval).then(i)})};i()})}kill(){if(this.chromeProcess){this.chromeProcess.on("close",()=>{delete this.chromeProcess,this.destroyTmp()}),nJ.log("ChromeLauncher",`Killing Chrome instance ${this.chromeProcess.pid}`);try{if(ap){let{stderr:e}=(0,ad.spawnSync)(`taskkill /pid ${this.chromeProcess.pid} /T /F`,{shell:!0,encoding:"utf-8"});e&&nJ.error("ChromeLauncher","taskkill stderr",e)}else this.chromeProcess.pid&&process.kill(-this.chromeProcess.pid,"SIGKILL")}catch(t){let e=`Chrome could not be killed ${t.message}`;nJ.warn("ChromeLauncher",e)}this.destroyTmp()}}destroyTmp(){this.outFile&&(this.fs.closeSync(this.outFile),delete this.outFile),void 0===this.userDataDir||void 0!==this.opts.userDataDir||(this.errFile&&(this.fs.closeSync(this.errFile),delete this.errFile),(this.fs.rmSync||this.fs.rmdirSync)(this.userDataDir,{recursive:!0,force:!0,maxRetries:10}))}};e0(),e0();var av=e.r(28595),ab=e.r(28595),a_="This is a screenshot of the current page state with the elements annotated on it. Each element id is annotated with a number to the top left of it. Duplicate annotations at the same location are under each other vertically.",aw=class{constructor(e,t){this.generateObject=ab.generateObject,this.generateText=ab.generateText,this.streamText=ab.streamText,this.streamObject=ab.streamObject,this.generateImage=ab.experimental_generateImage,this.embed=ab.embed,this.embedMany=ab.embedMany,this.transcribe=ab.experimental_transcribe,this.generateSpeech=ab.experimental_generateSpeech,this.modelName=e,this.userProvidedInstructions=t}},aS=class extends aw{constructor({model:e,logger:t}){super(e.modelId),this.type="aisdk",this.model=e,this.logger=t}getLanguageModel(){return this.model}createChatCompletion(e){return eQ(this,arguments,function*({options:e}){var t,r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b;let _;null==(t=this.logger)||t.call(this,{category:"aisdk",message:"creating chat completion",level:2,auxiliary:{options:{value:JSON.stringify(eH(eZ({},e),{image:void 0,messages:e.messages.map(e=>eH(eZ({},e),{content:Array.isArray(e.content)?e.content.map(e=>"image_url"in e?eH(eZ({},e),{image_url:{url:"[IMAGE_REDACTED]"}}):e):e.content}))})),type:"object"},modelName:{value:this.model.modelId,type:"string"}}});let w=e.messages.map(e=>{if(Array.isArray(e.content)){if("system"===e.role)return{role:"system",content:e.content.map(e=>"text"in e?e.text:"").join("\n")};let t=e.content.map(e=>"image_url"in e?{type:"image",image:e.image_url.url}:{type:"text",text:e.text});return"user"===e.role?{role:"user",content:t}:{role:"assistant",content:t.map(e=>({type:"text",text:"image"===e.type?"[Image]":e.text}))}}return{role:e.role,content:e.content}}),S=this.model.modelId.includes("gpt-5");if(e.response_model){try{_=yield(0,av.generateObject)({model:this.model,messages:w,schema:e.response_model.schema,temperature:e.temperature,providerOptions:S?{openai:{textVerbosity:"low",reasoningEffort:"minimal"}}:void 0})}catch(t){throw av.NoObjectGeneratedError.isInstance(t)&&(null==(s=this.logger)||s.call(this,{category:"AISDK error",message:t.message,level:0,auxiliary:{cause:{value:JSON.stringify(null!=(r=t.cause)?r:{}),type:"object"},text:{value:null!=(n=t.text)?n:"",type:"string"},response:{value:JSON.stringify(null!=(a=t.response)?a:{}),type:"object"},usage:{value:JSON.stringify(null!=(i=t.usage)?i:{}),type:"object"},finishReason:{value:null!=(o=t.finishReason)?o:"unknown",type:"string"},requestId:{value:e.requestId,type:"string"}}})),t}let t={data:_.object,usage:{prompt_tokens:null!=(l=_.usage.inputTokens)?l:0,completion_tokens:null!=(u=_.usage.outputTokens)?u:0,reasoning_tokens:null!=(d=_.usage.reasoningTokens)?d:0,cached_input_tokens:null!=(c=_.usage.cachedInputTokens)?c:0,total_tokens:null!=(p=_.usage.totalTokens)?p:0}};return null==(m=this.logger)||m.call(this,{category:"aisdk",message:"response",level:1,auxiliary:{response:{value:JSON.stringify({object:_.object,usage:_.usage,finishReason:_.finishReason}),type:"object"},requestId:{value:e.requestId,type:"string"}}}),t}let k={};if(e.tools&&e.tools.length>0)for(let t of e.tools)k[t.name]={description:t.description,inputSchema:t.parameters};let x=yield(0,av.generateText)({model:this.model,messages:w,tools:Object.keys(k).length>0?k:void 0,toolChoice:Object.keys(k).length>0?"required"===e.tool_choice?"required":"none"===e.tool_choice?"none":"auto":void 0,temperature:e.temperature}),E=(x.toolCalls||[]).map(e=>({id:e.toolCallId||`call_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"function",function:{name:e.toolName,arguments:JSON.stringify(e.input)}})),T={id:`chatcmpl_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,object:"chat.completion",created:Math.floor(Date.now()/1e3),model:this.model.modelId,choices:[{index:0,message:{role:"assistant",content:x.text||null,tool_calls:E},finish_reason:x.finishReason||"stop"}],usage:{prompt_tokens:null!=(h=x.usage.inputTokens)?h:0,completion_tokens:null!=(f=x.usage.outputTokens)?f:0,reasoning_tokens:null!=(g=x.usage.reasoningTokens)?g:0,cached_input_tokens:null!=(y=x.usage.cachedInputTokens)?y:0,total_tokens:null!=(v=x.usage.totalTokens)?v:0}};return null==(b=this.logger)||b.call(this,{category:"aisdk",message:"response",level:2,auxiliary:{response:{value:JSON.stringify({text:x.text,usage:x.usage,finishReason:x.finishReason}),type:"object"},requestId:{value:e.requestId,type:"string"}}}),T})}},ak=eX(e.r(49051)),ax=e.r(78017);e0();var aE=class extends aw{constructor({modelName:e,clientOptions:t,userProvidedInstructions:r}){super(e),this.type="anthropic",this.client=new ak.default(t),this.modelName=e,this.clientOptions=t,this.userProvidedInstructions=r}createChatCompletion(e){return eQ(this,arguments,function*({options:e,retries:t,logger:r}){var n,a;let i,o=eZ({},e);delete o.image,r({category:"anthropic",message:"creating chat completion",level:2,auxiliary:{options:{value:JSON.stringify(o),type:"object"}}});let s=e.messages.find(e=>{if("system"===e.role){if("string"==typeof e.content)return!0;else if(Array.isArray(e.content))return e.content.every(e=>"image_url"!==e.type)}return!1}),l=e.messages.filter(e=>"system"!==e.role).map(e=>"string"==typeof e.content?{role:e.role,content:e.content}:{role:e.role,content:e.content.map(e=>"image_url"in e?{type:"image",source:{type:"base64",media_type:"image/jpeg",data:e.image_url.url}}:{type:"text",text:e.text})});if(e.image){let t={role:"user",content:[{type:"image",source:{type:"base64",media_type:"image/jpeg",data:e.image.buffer.toString("base64")}}]};e.image.description&&Array.isArray(t.content)&&t.content.push({type:"text",text:e.image.description}),l.push(t)}let u=null==(n=e.tools)?void 0:n.map(e=>({name:e.name,description:e.description,input_schema:{type:"object",properties:e.parameters.properties,required:e.parameters.required}}));if(e.response_model){let{properties:t,required:r}=aT((0,ax.zodToJsonSchema)(e.response_model.schema));i={name:"print_extracted_data",description:"Prints the extracted data based on the provided schema.",input_schema:{type:"object",properties:t,required:r}}}i&&(u=null!=u?u:[]).push(i);let d=yield this.client.messages.create({model:this.modelName,max_tokens:e.maxOutputTokens||8192,messages:l,tools:u,system:s?s.content:void 0,temperature:e.temperature});r({category:"anthropic",message:"response",level:2,auxiliary:{response:{value:JSON.stringify(d),type:"object"},requestId:{value:e.requestId,type:"string"}}});let c={prompt_tokens:d.usage.input_tokens,completion_tokens:d.usage.output_tokens,total_tokens:d.usage.input_tokens+d.usage.output_tokens},p={id:d.id,object:"chat.completion",created:Date.now(),model:d.model,choices:[{index:0,message:{role:"assistant",content:(null==(a=d.content.find(e=>"text"===e.type))?void 0:a.text)||null,tool_calls:d.content.filter(e=>"tool_use"===e.type).map(e=>({id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.input)}}))},finish_reason:d.stop_reason}],usage:c};if(r({category:"anthropic",message:"transformed response",level:2,auxiliary:{transformedResponse:{value:JSON.stringify(p),type:"object"},requestId:{value:e.requestId,type:"string"}}}),e.response_model){let n=d.content.find(e=>"tool_use"===e.type);if(n&&"input"in n)return{data:n.input,usage:c};if(!t||t<5)return this.createChatCompletion({options:e,logger:r,retries:(null!=t?t:0)+1});throw r({category:"anthropic",message:"error creating chat completion",level:0,auxiliary:{requestId:{value:e.requestId,type:"string"}}}),new k("No tool use with input in response")}return p})}},aT=e=>{var t;let r=(null==(t=e.definitions)?void 0:t.MySchema)||e;return{properties:r.properties,required:r.required}},aO=eX(e.r(69871)),aI=e.r(78017);e0();var aP=class extends aw{constructor({modelName:e,clientOptions:t,userProvidedInstructions:r}){super(e,r),this.type="cerebras",this.hasVision=!1,this.client=new aO.default(eZ({baseURL:"https://api.cerebras.ai/v1",apiKey:(null==t?void 0:t.apiKey)||process.env.CEREBRAS_API_KEY},t)),this.modelName=e,this.clientOptions=t}createChatCompletion(e){return eQ(this,arguments,function*({options:e,retries:t,logger:r}){var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y;let v=eZ({},e);delete v.image,r({category:"cerebras",message:"creating chat completion",level:2,auxiliary:{options:{value:JSON.stringify(v),type:"object"}}});let b=e.messages.map(e=>{let t={content:"string"==typeof e.content?e.content:Array.isArray(e.content)&&e.content.length>0&&"text"in e.content[0]?e.content[0].text:""};return"system"===e.role?eH(eZ({},t),{role:"system"}):"assistant"===e.role?eH(eZ({},t),{role:"assistant"}):eH(eZ({},t),{role:"user"})}),_=null==(n=e.tools)?void 0:n.map(e=>({type:"function",function:{name:e.name,description:e.description,parameters:{type:"object",properties:e.parameters.properties,required:e.parameters.required}}}));if(e.response_model){let t=(0,aI.zodToJsonSchema)(e.response_model.schema),r={type:"function",function:{name:"print_extracted_data",description:"Prints the extracted data based on the provided schema.",parameters:{type:"object",properties:t.properties||{},required:t.required||[]}}};_=_?[..._,r]:[r]}try{let n=yield this.client.chat.completions.create({model:this.modelName.split("cerebras-")[1],messages:[...b,...e.response_model?[{role:"system",content:`IMPORTANT: Your response must be valid JSON that matches this schema: ${JSON.stringify(e.response_model.schema)}`}]:[]],temperature:e.temperature||.7,max_tokens:e.maxOutputTokens,tools:_,tool_choice:e.tool_choice||"auto"}),v={id:n.id,object:"chat.completion",created:Date.now(),model:this.modelName.split("cerebras-")[1],choices:[{index:0,message:{role:"assistant",content:(null==(i=null==(a=n.choices[0])?void 0:a.message)?void 0:i.content)||null,tool_calls:(null==(s=null==(o=n.choices[0])?void 0:o.message)?void 0:s.tool_calls)||[]},finish_reason:(null==(l=n.choices[0])?void 0:l.finish_reason)||"stop"}],usage:{prompt_tokens:(null==(u=n.usage)?void 0:u.prompt_tokens)||0,completion_tokens:(null==(d=n.usage)?void 0:d.completion_tokens)||0,total_tokens:(null==(c=n.usage)?void 0:c.total_tokens)||0}};if(r({category:"cerebras",message:"response",level:2,auxiliary:{response:{value:JSON.stringify(v),type:"object"},requestId:{value:e.requestId,type:"string"}}}),!e.response_model)return v;let w=null==(h=null==(m=null==(p=v.choices[0])?void 0:p.message)?void 0:m.tool_calls)?void 0:h[0];if(null==(f=null==w?void 0:w.function)?void 0:f.arguments)try{return{data:JSON.parse(w.function.arguments),usage:v.usage}}catch(e){r({category:"cerebras",message:"failed to parse tool call arguments as JSON, retrying",level:0,auxiliary:{error:{value:e.message,type:"string"}}})}let S=null==(y=null==(g=v.choices[0])?void 0:g.message)?void 0:y.content;if(S)try{let e=S.match(/\{[\s\S]*\}/);if(e)return{data:JSON.parse(e[0]),usage:v.usage}}catch(e){r({category:"cerebras",message:"failed to parse content as JSON",level:0,auxiliary:{error:{value:e.message,type:"string"}}})}if(!t||t<5)return this.createChatCompletion({options:e,logger:r,retries:(null!=t?t:0)+1});throw new k("Invalid response schema")}catch(t){throw r({category:"cerebras",message:"error creating chat completion",level:0,auxiliary:{error:{value:t.message,type:"string"},requestId:{value:e.requestId,type:"string"}}}),t}})}},aC=e.r(42100);e0();var aA={user:"user",assistant:"model",system:"user"},aj=[{category:aC.HarmCategory.HARM_CATEGORY_HARASSMENT,threshold:aC.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE},{category:aC.HarmCategory.HARM_CATEGORY_HATE_SPEECH,threshold:aC.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE},{category:aC.HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:aC.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE},{category:aC.HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:aC.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE}],az=class extends aw{constructor({logger:e,modelName:t,clientOptions:r}){super(t),this.type="google",(null==r?void 0:r.apiKey)||(r.apiKey=rr("google_legacy",e)),this.clientOptions=r,this.client=new aC.GoogleGenAI({apiKey:r.apiKey}),this.modelName=t,this.logger=e,this.hasVision=t.includes("vision")||t.includes("gemini-1.5")}formatMessages(e,t){let r=[],n=null;return e.forEach((a,i)=>{let o=aA[a.role];if(!o)return void this.logger({category:"google",message:`WARNING: Unsupported role: ${a.role}`,level:1});if("system"===a.role){"string"==typeof a.content&&(n=(n?n+"\n\n":"")+a.content);return}let s=[];if(Array.isArray(a.content)?a.content.forEach(e=>{var t;if("text"===e.type)s.push({text:e.text});else if("image_url"===e.type&&"image_url"in e&&(null==(t=e.image_url)?void 0:t.url)){let t=e.image_url.url.split(",")[1],r=e.image_url.url.match(/^data:(image\/\w+);base64,/);t&&r?s.push({inlineData:{mimeType:r[1],data:t}}):this.logger({category:"google",message:"WARNING: Could not parse image data URI format",level:1})}}):"string"==typeof a.content&&s.push({text:a.content}),t&&i===e.length-1&&"user"===a.role){let e=t.description||a_;s.push({text:e}),s.push({inlineData:{mimeType:"image/jpeg",data:t.buffer.toString("base64")}})}if(n&&0===r.length&&"user"===o){let e=s.find(e=>"text"in e);e&&"text"in e?e.text=`${n}

${e.text}`:s.unshift({text:n}),n=null}s.length>0&&r.push({role:o,parts:s})}),n&&r.unshift({role:"user",parts:[{text:n}]}),r}formatTools(e){if(e&&0!==e.length)return[{functionDeclarations:e.map(e=>{let t;return e.parameters&&(t={type:aC.Type.OBJECT,properties:e.parameters.properties,required:e.parameters.required}),{name:e.name,description:e.description,parameters:t}})}]}createChatCompletion(e){return eQ(this,arguments,function*({options:e,logger:t,retries:r=3}){var n,a,i,s,l,u,d,c,p;let{image:m,requestId:h,response_model:f,tools:g,temperature:y,top_p:v,maxOutputTokens:b}=e,_=this.formatMessages(e.messages,m),w=this.formatTools(g),S={maxOutputTokens:b,temperature:y,topP:v,responseMimeType:f?"application/json":void 0,responseSchema:f?t9(f.schema):void 0};t({category:"google",message:"creating chat completion",level:2,auxiliary:{modelName:{value:this.modelName,type:"string"},requestId:{value:h,type:"string"},requestPayloadSummary:{value:`Model: ${this.modelName}, Messages: ${_.length}, Config Keys: ${Object.keys(S).join(", ")}, Tools: ${w?w.length:0}, Safety Categories: ${aj.map(e=>e.category).join(", ")}`,type:"string"}}});let x={model:this.modelName,contents:_,config:eH(eZ({},S),{safetySettings:aj,tools:w})};try{t({category:"google",message:"Full request payload",level:2,auxiliary:{requestId:{value:h,type:"string"},fullPayload:{value:JSON.stringify(x),type:"object"}}})}catch(e){t({category:"google",message:"Failed to stringify full request payload for logging",level:0,auxiliary:{requestId:{value:h,type:"string"},error:{value:e.message,type:"string"}}})}try{let o=yield this.client.models.generateContent(x);t({category:"google",message:"received response",level:2,auxiliary:{requestId:{value:h,type:"string"},response:{value:JSON.stringify(o),type:"object"}}});let m=(null==(a=null==(n=o.candidates)?void 0:n[0])?void 0:a.finishReason)||"unknown",g=null==(i=o.functionCalls)?void 0:i.map((e,t)=>({id:`tool_call_${h}_${t}`,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}})),y=null;try{y=o.text}catch(e){t({category:"google",message:`Could not extract text content: ${e.message}`,level:1,auxiliary:{requestId:{value:h,type:"string"}}}),y=null}let v={id:(null==(u=null==(l=null==(s=o.candidates)?void 0:s[0])?void 0:l.index)?void 0:u.toString())||h,object:"chat.completion",created:Math.floor(Date.now()/1e3),model:this.modelName,choices:[{index:0,message:{role:"assistant",content:y,tool_calls:g},finish_reason:m}],usage:{prompt_tokens:(null==(d=o.usageMetadata)?void 0:d.promptTokenCount)||0,completion_tokens:(null==(c=o.usageMetadata)?void 0:c.candidatesTokenCount)||0,total_tokens:(null==(p=o.usageMetadata)?void 0:p.totalTokenCount)||0}};if(f){let n;try{let e=(null==y?void 0:y.trim().replace(/^```json\n?|\n?```$/g,""))||"{}";n=JSON.parse(e)}catch(n){if(t({category:"google",message:`Failed to parse JSON response: ${n.message}`,level:0,auxiliary:{content:{value:y||"null",type:"string"}}}),r>0)return this.createChatCompletion({options:e,logger:t,retries:r-1});throw new k(`Failed to parse JSON response: ${n.message}`)}try{t4(f.schema,n)}catch(n){if(t({category:"google",message:"Response failed Zod schema validation",level:0}),r>0)return this.createChatCompletion({options:e,logger:t,retries:r-1});throw n}return{data:n,usage:v.usage}}return v}catch(n){if(t({category:"google",message:`Error during Google AI chat completion: ${n.message}`,level:0,auxiliary:{errorDetails:{value:`Message: ${n.message}${n.stack?"\nStack: "+n.stack:""}`,type:"string"},requestId:{value:h,type:"string"}}}),r>0)return t({category:"google",message:`Retrying... (${r} attempts left)`,level:1}),yield new Promise(e=>setTimeout(e,1e3*(4-r))),this.createChatCompletion({options:e,logger:t,retries:r-1});if(n instanceof o)throw n;throw new o(`Google AI API request failed: ${n.message}`)}})}},aR=eX(e.r(69871)),aN=e.r(78017);e0();var a$=class extends aw{constructor({modelName:e,clientOptions:t,userProvidedInstructions:r}){super(e,r),this.type="groq",this.hasVision=!1,this.client=new aR.default(eZ({baseURL:"https://api.groq.com/openai/v1",apiKey:(null==t?void 0:t.apiKey)||process.env.GROQ_API_KEY},t)),this.modelName=e,this.clientOptions=t}createChatCompletion(e){return eQ(this,arguments,function*({options:e,retries:t,logger:r}){var n,a,i,o,s,l,u,d,c,p,m,h,f,g,y;let v=eZ({},e);delete v.image,r({category:"groq",message:"creating chat completion",level:2,auxiliary:{options:{value:JSON.stringify(v),type:"object"}}});let b=e.messages.map(e=>{let t={content:"string"==typeof e.content?e.content:Array.isArray(e.content)&&e.content.length>0&&"text"in e.content[0]?e.content[0].text:""};return"system"===e.role?eH(eZ({},t),{role:"system"}):"assistant"===e.role?eH(eZ({},t),{role:"assistant"}):eH(eZ({},t),{role:"user"})}),_=null==(n=e.tools)?void 0:n.map(e=>({type:"function",function:{name:e.name,description:e.description,parameters:{type:"object",properties:e.parameters.properties,required:e.parameters.required}}}));if(e.response_model){let t=(0,aN.zodToJsonSchema)(e.response_model.schema),r={type:"function",function:{name:"print_extracted_data",description:"Prints the extracted data based on the provided schema.",parameters:{type:"object",properties:t.properties||{},required:t.required||[]}}};_=_?[..._,r]:[r]}try{let n=yield this.client.chat.completions.create({model:this.modelName.split("groq-")[1],messages:[...b,...e.response_model?[{role:"system",content:`IMPORTANT: Your response must be valid JSON that matches this schema: ${JSON.stringify(e.response_model.schema)}`}]:[]],temperature:e.temperature||.7,max_tokens:e.maxOutputTokens,tools:_,tool_choice:e.tool_choice||"auto"}),v={id:n.id,object:"chat.completion",created:Date.now(),model:this.modelName.split("groq-")[1],choices:[{index:0,message:{role:"assistant",content:(null==(i=null==(a=n.choices[0])?void 0:a.message)?void 0:i.content)||null,tool_calls:(null==(s=null==(o=n.choices[0])?void 0:o.message)?void 0:s.tool_calls)||[]},finish_reason:(null==(l=n.choices[0])?void 0:l.finish_reason)||"stop"}],usage:{prompt_tokens:(null==(u=n.usage)?void 0:u.prompt_tokens)||0,completion_tokens:(null==(d=n.usage)?void 0:d.completion_tokens)||0,total_tokens:(null==(c=n.usage)?void 0:c.total_tokens)||0}};if(r({category:"groq",message:"response",level:2,auxiliary:{response:{value:JSON.stringify(v),type:"object"},requestId:{value:e.requestId,type:"string"}}}),!e.response_model)return v;let w=null==(h=null==(m=null==(p=v.choices[0])?void 0:p.message)?void 0:m.tool_calls)?void 0:h[0];if(null==(f=null==w?void 0:w.function)?void 0:f.arguments)try{return{data:JSON.parse(w.function.arguments),usage:v.usage}}catch(e){r({category:"groq",message:"failed to parse tool call arguments as JSON, retrying",level:0,auxiliary:{error:{value:e.message,type:"string"}}})}let S=null==(y=null==(g=v.choices[0])?void 0:g.message)?void 0:y.content;if(S)try{let e=S.match(/\{[\s\S]*\}/);if(e)return{data:JSON.parse(e[0]),usage:v.usage}}catch(e){r({category:"groq",message:"failed to parse content as JSON",level:0,auxiliary:{error:{value:e.message,type:"string"}}})}if(!t||t<5)return this.createChatCompletion({options:e,logger:r,retries:(null!=t?t:0)+1});throw new k("Invalid response schema")}catch(t){throw r({category:"groq",message:"error creating chat completion",level:0,auxiliary:{error:{value:t.message,type:"string"},requestId:{value:e.requestId,type:"string"}}}),t}})}},aM=eX(e.r(69871)),aD=e.r(25471),aF=eX(e.r(78017));e0();var aU=class extends aw{constructor({modelName:e,clientOptions:t}){super(e),this.type="openai",this.clientOptions=t,this.client=new aM.default(t),this.modelName=e}createChatCompletion(e){return eQ(this,arguments,function*({options:e,logger:t,retries:r=3}){var n,a,i;let s,l=e,u=!1;if(this.modelName.startsWith("o1")||this.modelName.startsWith("o3")){let{tool_choice:e,top_p:t,frequency_penalty:r,presence_penalty:i,temperature:s}=l;if(n=l,{tool_choice:e,top_p:t,frequency_penalty:r,presence_penalty:i,temperature:s}=n,(l=eG(n,["tool_choice","top_p","frequency_penalty","presence_penalty","temperature"])).messages=l.messages.map(e=>eH(eZ({},e),{role:"user"})),l.tools&&l.response_model)throw new o("Cannot use both tool and response_model for o1 models");if(l.tools){let{tools:e}=l;a=l,({tools:e}=a),u=!0,(l=eG(a,["tools"])).messages.push({role:"user",content:`You have the following tools available to you:
${JSON.stringify(e)}

          Respond with the following zod schema format to use a method: {
            "name": "<tool_name>",
            "arguments": <tool_args>
          }
          
          Do not include any other text or formattings like \`\`\` in your response. Just the JSON object.`})}}if(l.temperature&&(this.modelName.startsWith("o1")||this.modelName.startsWith("o3")))throw new o("Temperature is not supported for o1 models");let d=l,{requestId:c}=d,p=eG(d,["requestId"]);if(t({category:"openai",message:"creating chat completion",level:2,auxiliary:{options:{value:JSON.stringify(eH(eZ({},p),{requestId:c})),type:"object"},modelName:{value:this.modelName,type:"string"}}}),l.image){let e={role:"user",content:[{type:"image_url",image_url:{url:`data:image/jpeg;base64,${l.image.buffer.toString("base64")}`}},...l.image.description?[{type:"text",text:l.image.description}]:[]]};l.messages.push(e)}if(l.response_model)if(this.modelName.startsWith("o1")||this.modelName.startsWith("o3"))try{let e=JSON.stringify((0,aF.default)(l.response_model.schema));l.messages.push({role:"user",content:`Respond in this zod schema format:
${e}


          Do not include any other text, formatting or markdown in your output. Do not include \`\`\` or \`\`\`json in your response. Only the JSON object itself.`})}catch(e){if(t({category:"openai",message:"Failed to parse response model schema",level:0}),r>0)return this.createChatCompletion({options:l,logger:t,retries:r-1});throw e}else s=(0,aD.zodResponseFormat)(l.response_model.schema,l.response_model.name);let m=eH(eZ({},p),{model:this.modelName}),{response_model:h}=m,f=eG(m,["response_model"]);t({category:"openai",message:"creating chat completion",level:2,auxiliary:{openAiOptions:{value:JSON.stringify(f),type:"object"}}});let g=l.messages.map(e=>{if(Array.isArray(e.content)){let t=e.content.map(e=>"image_url"in e?{image_url:{url:e.image_url.url},type:"image_url"}:{text:e.text,type:"text"});return"system"===e.role?eH(eZ({},e),{role:"system",content:t.filter(e=>"text"===e.type)}):"user"===e.role?eH(eZ({},e),{role:"user",content:t}):eH(eZ({},e),{role:"assistant",content:t.filter(e=>"text"===e.type)})}return{role:"user",content:e.content}}),y=eH(eZ({},f),{model:this.modelName,messages:g,response_format:s,stream:!1,tools:null==(i=l.tools)?void 0:i.map(e=>({function:{name:e.name,description:e.description,parameters:e.parameters},type:"function"}))}),v=yield this.client.chat.completions.create(y);if(u)try{let e=JSON.parse(v.choices[0].message.content);v.choices[0].message.tool_calls=[{function:{name:e.name,arguments:JSON.stringify(e.arguments)},type:"function",id:"-1"}],v.choices[0].message.content=null}catch(e){if(t({category:"openai",message:"Failed to parse tool call response",level:0,auxiliary:{error:{value:e.message,type:"string"},content:{value:v.choices[0].message.content,type:"string"}}}),r>0)return this.createChatCompletion({options:l,logger:t,retries:r-1});throw e}if(t({category:"openai",message:"response",level:2,auxiliary:{response:{value:JSON.stringify(v),type:"object"},requestId:{value:c,type:"string"}}}),l.response_model){let e=JSON.parse(v.choices[0].message.content);try{t4(l.response_model.schema,e)}catch(e){if(t({category:"openai",message:"Response failed Zod schema validation",level:0}),r>0)return this.createChatCompletion({options:l,logger:t,retries:r-1});if(e instanceof R)throw t({category:"openai",message:`Error during OpenAI chat completion: ${e.message}`,level:0,auxiliary:{errorDetails:{value:`Message: ${e.message}${e.stack?"\nStack: "+e.stack:""}`,type:"string"},requestId:{value:c,type:"string"}}}),new k(e.message);throw e}return{data:e,usage:v.usage}}return v})}},aL=e.r(76261);e.r(76261);var aq=e.r(76261),aV=e.r(76261),aB=e.r(76261),aZ=e.r(76261),aH=e.r(76261),aG=e.r(76261),aW=class extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}};function aJ(e){}var aK=class extends TransformStream{constructor({onError:e,onRetry:t,onComment:r}={}){let n;super({start(a){n=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=aJ,onError:r=aJ,onRetry:n=aJ,onComment:a}=e,i="",o=!0,s,l="",u="";function d(e){if(""===e)return void(l.length>0&&t({id:s,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),s=void 0,l="",u="");if(e.startsWith(":")){a&&a(e.slice(e.startsWith(": ")?2:1));return}let r=e.indexOf(":");if(-1!==r){let t=e.slice(0,r),n=" "===e[r+1]?2:1;c(t,e.slice(r+n),e);return}c(e,"",e)}function c(e,t,a){switch(e){case"event":u=t;break;case"data":l=`${l}${t}
`;break;case"id":s=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?n(parseInt(t,10)):r(new aW(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:a}));break;default:r(new aW(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){let t=o?e.replace(/^\xEF\xBB\xBF/,""):e,[r,n]=function(e){let t=[],r="",n=0;for(;n<e.length;){let a=e.indexOf("\r",n),i=e.indexOf(`
`,n),o=-1;if(-1!==a&&-1!==i?o=Math.min(a,i):-1!==a?o=a===e.length-1?-1:a:-1!==i&&(o=i),-1===o){r=e.slice(n);break}{let r=e.slice(n,o);t.push(r),"\r"===e[(n=o+1)-1]&&e[n]===`
`&&n++}}return[t,r]}(`${i}${t}`);for(let e of r)d(e);i=n,o=!1},reset:function(e={}){i&&e.consume&&d(i),o=!0,s=void 0,l="",u="",i=""}}}({onEvent:e=>{a.enqueue(e)},onError(t){"terminate"===e?a.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:r})},transform(e){n.feed(e)}})}},aY=e.r(76261),aX=e.r(76261),aQ=e.r(76261),a1=eX(e.r(72358),1),a0=e.r(43629),a2=e.r(43629),a4=e.r(43629);function a6(...e){return e.reduce((e,t)=>eZ(eZ({},e),null!=t?t:{}),{})}function a3(e){return Object.fromEntries([...e.headers])}var a9=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=()=>{let e=r.length,n=Array(t);for(let a=0;a<t;a++)n[a]=r[Math.random()*e|0];return n.join("")};if(null==e)return a;if(r.includes(n))throw new aL.InvalidArgumentError({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${a()}`})();function a5(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var a8=["fetch failed","failed to fetch"];function a7(e,...t){let r=new Headers(Object.fromEntries(Object.entries(null!=e?e:{}).filter(([e,t])=>null!=t))),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}function ie({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new aV.LoadAPIKeyError({message:`${n} API key must be a string.`});if("u"<typeof process)throw new aV.LoadAPIKeyError({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new aV.LoadAPIKeyError({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new aV.LoadAPIKeyError({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function it(e){var t;let[r,n=""]=e.toLowerCase().split("/");return null!=(t=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[n])?t:n}var ir=/"__proto__"\s*:/,ia=/"constructor"\s*:/;function ii(e){let{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{let t;return t=JSON.parse(e),null===t||"object"!=typeof t||!1===ir.test(e)&&!1===ia.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let r of(t=[],e)){if(Object.prototype.hasOwnProperty.call(r,"__proto__")||Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in r){let n=r[e];n&&"object"==typeof n&&t.push(n)}}}return e}(t)}finally{Error.stackTraceLimit=t}}var io=Symbol.for("vercel.ai.validator");function is(e){let t;return()=>(null==t&&(t=e()),t)}function il(e){return eQ(this,arguments,function*({value:e,schema:t}){let r=yield iu({value:e,schema:t});if(!r.success)throw aH.TypeValidationError.wrap({value:e,cause:r.error});return r.value})}function iu(e){return eQ(this,arguments,function*({value:e,schema:t}){var r;let n="object"==typeof t&&null!==t&&io in t&&!0===t[io]&&"validate"in t?t:"function"==typeof t?t():(r=t,{[io]:!0,validate:e=>eQ(null,null,function*(){let t=yield r["~standard"].validate(e);return null==t.issues?{success:!0,value:t.value}:{success:!1,error:new aG.TypeValidationError({value:e,cause:t.issues})}})});try{if(null==n.validate)return{success:!0,value:e,rawValue:e};let t=yield n.validate(e);if(t.success)return{success:!0,value:t.value,rawValue:e};return{success:!1,error:aH.TypeValidationError.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:aH.TypeValidationError.wrap({value:e,cause:t}),rawValue:e}}})}function id(e){return eQ(this,arguments,function*({text:e,schema:t}){try{let r=ii(e);if(null==t)return{success:!0,value:r,rawValue:r};return yield iu({value:r,schema:t})}catch(t){return{success:!1,error:aZ.JSONParseError.isInstance(t)?t:new aZ.JSONParseError({text:e,cause:t}),rawValue:void 0}}})}function ic(e){try{return ii(e),!0}catch(e){return!1}}function ip(e){return eQ(this,arguments,function*({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=yield iu({value:t[e],schema:r});if(!n.success)throw new aY.InvalidArgumentError({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value})}var im=e=>eQ(null,[e],function*({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}){return ig({url:e,headers:eZ({"Content-Type":"application/json"},t),body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})}),ih=e=>eQ(null,[e],function*({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}){return ig({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})}),ig=e=>eQ(null,[e],function*({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=globalThis.fetch}){try{let s=yield o(e,{method:"POST",headers:a7(t,"ai-sdk/provider-utils/3.0.12",function(e=globalThis){var t,r,n;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(n=null==(r=e.process)?void 0:r.versions)?void 0:n.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}()),body:r.content,signal:i}),l=a3(s);if(!s.ok){let t;try{t=yield a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(a5(t)||aX.APICallError.isInstance(t))throw t;throw new aX.APICallError({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return yield n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(a5(t)||aX.APICallError.isInstance(t)))throw t;throw new aX.APICallError({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){throw function({error:e,url:t,requestBodyValues:r}){if(a5(e))return e;if(e instanceof TypeError&&a8.includes(e.message.toLowerCase())){let n=e.cause;if(null!=n)return new aq.APICallError({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}({error:t,url:e,requestBodyValues:r.values})}});function iy({id:e,name:t,inputSchema:r}){return n=>{var{execute:a,outputSchema:i,toModelOutput:o,onInputStart:s,onInputDelta:l,onInputAvailable:u}=n;return{type:"provider-defined",id:e,name:t,args:eG(n,["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"]),inputSchema:r,outputSchema:i,execute:a,toModelOutput:o,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}function iv({id:e,name:t,inputSchema:r,outputSchema:n}){return a=>{var{execute:i,toModelOutput:o,onInputStart:s,onInputDelta:l,onInputAvailable:u}=a;return{type:"provider-defined",id:e,name:t,args:eG(a,["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"]),inputSchema:r,outputSchema:n,execute:i,toModelOutput:o,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}function ib(e){return eQ(this,null,function*(){return"function"==typeof e&&(e=e()),Promise.resolve(e)})}var i_=({errorSchema:e,errorToMessage:t,isRetryable:r})=>n=>eQ(null,[n],function*({response:n,url:a,requestBodyValues:i}){let o=yield n.text(),s=a3(n);if(""===o.trim())return{responseHeaders:s,value:new aQ.APICallError({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=yield function(e){return eQ(this,arguments,function*({text:e,schema:t}){try{let r=ii(e);if(null==t)return r;return il({value:r,schema:t})}catch(t){if(aZ.JSONParseError.isInstance(t)||aZ.TypeValidationError.isInstance(t))throw t;throw new aZ.JSONParseError({text:e,cause:t})}})}({text:o,schema:e});return{responseHeaders:s,value:new aQ.APICallError({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new aQ.APICallError({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}}),iw=e=>t=>eQ(null,[t],function*({response:t}){let r=a3(t);if(null==t.body)throw new aQ.EmptyResponseBodyError({});return{responseHeaders:r,value:function({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new aK).pipeThrough(new TransformStream({transform(e,r){return eQ(this,arguments,function*({data:e},r){"[DONE]"!==e&&r.enqueue((yield id({text:e,schema:t})))})}}))}({stream:t.body,schema:e})}}),iS=e=>t=>eQ(null,[t],function*({response:t}){let r=a3(t);if(null==t.body)throw new aQ.EmptyResponseBodyError({});let n="";return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform(t,r){return eQ(this,null,function*(){t.endsWith("\n")?(r.enqueue((yield id({text:n+t,schema:e}))),n=""):n+=t})}}))}}),ik=e=>t=>eQ(null,[t],function*({response:t,url:r,requestBodyValues:n}){let a=yield t.text(),i=yield id({text:a,schema:e}),o=a3(t);if(!i.success)throw new aQ.APICallError({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}}),ix=()=>e=>eQ(null,[e],function*({response:e,url:t,requestBodyValues:r}){let n=a3(e);if(!e.body)throw new aQ.APICallError({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let t=yield e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(t)}}catch(a){throw new aQ.APICallError({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:a})}}),iE=Symbol("Let zodToJsonSchema decide on which parser to use"),iT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function iO(e,t){return iW(e.type._def,t)}var iI=void 0,iP=/^[cC][^\s-]{8,}$/,iC=/^[0-9a-z]+$/,iA=/^[0-9A-HJKMNP-TV-Z]{26}$/,ij=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,iz=()=>(void 0===iI&&(iI=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),iI),iR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,i$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iD=/^[a-zA-Z0-9_-]{21}$/,iF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function iU(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":iV(r,"email",n.message,t);break;case"format:idn-email":iV(r,"idn-email",n.message,t);break;case"pattern:zod":iB(r,ij,n.message,t)}break;case"url":iV(r,"uri",n.message,t);break;case"uuid":iV(r,"uuid",n.message,t);break;case"regex":iB(r,n.regex,n.message,t);break;case"cuid":iB(r,iP,n.message,t);break;case"cuid2":iB(r,iC,n.message,t);break;case"startsWith":iB(r,RegExp(`^${iL(n.value,t)}`),n.message,t);break;case"endsWith":iB(r,RegExp(`${iL(n.value,t)}$`),n.message,t);break;case"datetime":iV(r,"date-time",n.message,t);break;case"date":iV(r,"date",n.message,t);break;case"time":iV(r,"time",n.message,t);break;case"duration":iV(r,"duration",n.message,t);break;case"length":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value;break;case"includes":iB(r,RegExp(iL(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&iV(r,"ipv4",n.message,t),"v4"!==n.version&&iV(r,"ipv6",n.message,t);break;case"base64url":iB(r,iM,n.message,t);break;case"jwt":iB(r,iF,n.message,t);break;case"cidr":"v6"!==n.version&&iB(r,iR,n.message,t),"v4"!==n.version&&iB(r,iN,n.message,t);break;case"emoji":iB(r,iz(),n.message,t);break;case"ulid":iB(r,iA,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":iV(r,"binary",n.message,t);break;case"contentEncoding:base64":r.contentEncoding="base64";break;case"pattern:zod":iB(r,i$,n.message,t)}break;case"nanoid":iB(r,iD,n.message,t)}return r}function iL(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)iq.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}var iq=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function iV(e,t,r,n){var a;e.format||(null==(a=e.anyOf)?void 0:a.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push(eZ({format:t},r&&n.errorMessages&&{errorMessage:{format:r}}))):e.format=t}function iB(e,t,r,n){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push(eZ({pattern:iZ(t,n)},r&&n.errorMessages&&{errorMessage:{pattern:r}}))):e.pattern=iZ(t,n)}function iZ(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source,i="",o=!1,s=!1,l=!1;for(let e=0;e<a.length;e++){if(o){i+=a[e],o=!1;continue}if(n.i){if(s){if(a[e].match(/[a-z]/)){l?(i+=a[e],i+=`${a[e-2]}-${a[e]}`.toUpperCase(),l=!1):"-"===a[e+1]&&(null==(r=a[e+2])?void 0:r.match(/[a-z]/))?(i+=a[e],l=!0):i+=`${a[e]}${a[e].toUpperCase()}`;continue}}else if(a[e].match(/[a-z]/)){i+=`[${a[e]}${a[e].toUpperCase()}]`;continue}}if(n.m){if("^"===a[e]){i+=`(^|(?<=[\r
]))`;continue}else if("$"===a[e]){i+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===a[e]){i+=s?`${a[e]}\r
`:`[${a[e]}\r
]`;continue}i+=a[e],"\\"===a[e]?o=!0:s&&"]"===a[e]?s=!1:s||"["!==a[e]||(s=!0)}try{new RegExp(i)}catch(r){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function iH(e,t){var r,n,a,i,o,s;let l={type:"object",additionalProperties:null!=(r=iW(e.valueType._def,eH(eZ({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))?r:t.allowedAdditionalProperties};if((null==(n=e.keyType)?void 0:n._def.typeName)===a4.ZodFirstPartyTypeKind.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){let r=iU(e.keyType._def,t),{type:n}=r,a=eG(r,["type"]);return eH(eZ({},l),{propertyNames:a})}if((null==(i=e.keyType)?void 0:i._def.typeName)===a4.ZodFirstPartyTypeKind.ZodEnum)return eH(eZ({},l),{propertyNames:{enum:e.keyType._def.values}});if((null==(o=e.keyType)?void 0:o._def.typeName)===a4.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===a4.ZodFirstPartyTypeKind.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){let r=iO(e.keyType._def,t),{type:n}=r,a=eG(r,["type"]);return eH(eZ({},l),{propertyNames:a})}return l}var iG={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function iW(e,t,r=!1){var n;let a=t.seen.get(e);if(t.override){let i=null==(n=t.override)?void 0:n.call(t,e,t,a,r);if(i!==iE)return i}if(a&&!r){let e=iJ(a,t);if(void 0!==e)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let o=((e,t,r)=>{var n,a,i,o,s,l;switch(t){case a0.ZodFirstPartyTypeKind.ZodString:return iU(e,r);case a0.ZodFirstPartyTypeKind.ZodNumber:let u={type:"number"};if(!e.checks)return u;for(let t of e.checks)switch(t.kind){case"int":u.type="integer";break;case"min":t.inclusive?u.minimum=t.value:u.exclusiveMinimum=t.value;break;case"max":t.inclusive?u.maximum=t.value:u.exclusiveMaximum=t.value;break;case"multipleOf":u.multipleOf=t.value}return u;case a0.ZodFirstPartyTypeKind.ZodObject:return function(e,t){let r={type:"object",properties:{}},n=[],a=e.shape();for(let e in a){let i=a[e];if(void 0===i||void 0===i._def)continue;let o=function(e){try{return e.isOptional()}catch(e){return!0}}(i),s=iW(i._def,eH(eZ({},t),{currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]}));void 0!==s&&(r.properties[e]=s,o||n.push(e))}n.length&&(r.required=n);let i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return iW(e.catchall._def,eH(eZ({},t),{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(r.additionalProperties=i),r}(e,r);case a0.ZodFirstPartyTypeKind.ZodBigInt:let d={type:"integer",format:"int64"};if(!e.checks)return d;for(let t of e.checks)switch(t.kind){case"min":t.inclusive?d.minimum=t.value:d.exclusiveMinimum=t.value;break;case"max":t.inclusive?d.maximum=t.value:d.exclusiveMaximum=t.value;break;case"multipleOf":d.multipleOf=t.value}return d;case a0.ZodFirstPartyTypeKind.ZodBoolean:return{type:"boolean"};case a0.ZodFirstPartyTypeKind.ZodDate:return function e(t,r,n){let a=null!=n?n:r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var i=t;let o={type:"integer",format:"unix-time"};for(let e of i.checks)switch(e.kind){case"min":o.minimum=e.value;break;case"max":o.maximum=e.value}return o}}(e,r);case a0.ZodFirstPartyTypeKind.ZodUndefined:return{not:{}};case a0.ZodFirstPartyTypeKind.ZodNull:return{type:"null"};case a0.ZodFirstPartyTypeKind.ZodArray:let c;return c={type:"array"},(null==(i=e.type)?void 0:i._def)&&(null==(s=null==(o=e.type)?void 0:o._def)?void 0:s.typeName)!==a2.ZodFirstPartyTypeKind.ZodAny&&(c.items=iW(e.type._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items"]}))),e.minLength&&(c.minItems=e.minLength.value),e.maxLength&&(c.maxItems=e.maxLength.value),e.exactLength&&(c.minItems=e.exactLength.value,c.maxItems=e.exactLength.value),c;case a0.ZodFirstPartyTypeKind.ZodUnion:case a0.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:let p,m=e.options instanceof Map?Array.from(e.options.values()):e.options;if(m.every(e=>e._def.typeName in iG&&(!e._def.checks||!e._def.checks.length))){let e=m.reduce((e,t)=>{let r=iG[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(m.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=m.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===m.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:m.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(m.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:m.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return n=e,a=r,(p=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((e,t)=>iW(e._def,eH(eZ({},a),{currentPath:[...a.currentPath,"anyOf",`${t}`]}))).filter(e=>!!e&&(!a.strictUnions||"object"==typeof e&&Object.keys(e).length>0))).length?{anyOf:p}:void 0;case a0.ZodFirstPartyTypeKind.ZodIntersection:let h,f;return h=[iW(e.left._def,eH(eZ({},r),{currentPath:[...r.currentPath,"allOf","0"]})),iW(e.right._def,eH(eZ({},r),{currentPath:[...r.currentPath,"allOf","1"]}))].filter(e=>!!e),f=[],h.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)f.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r}=e;t=eG(e,["additionalProperties"])}f.push(t)}}),f.length?{allOf:f}:void 0;case a0.ZodFirstPartyTypeKind.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>iW(e._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items",`${t}`]}))).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:iW(e.rest._def,eH(eZ({},r),{currentPath:[...r.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>iW(e._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items",`${t}`]}))).reduce((e,t)=>void 0===t?e:[...e,t],[])};case a0.ZodFirstPartyTypeKind.ZodRecord:return iH(e,r);case a0.ZodFirstPartyTypeKind.ZodLiteral:let g;return"bigint"!=(g=typeof e.value)&&"number"!==g&&"boolean"!==g&&"string"!==g?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===g?"integer":g,const:e.value};case a0.ZodFirstPartyTypeKind.ZodEnum:return{type:"string",enum:Array.from(e.values)};case a0.ZodFirstPartyTypeKind.ZodNativeEnum:let y,v,b;return y=e.values,{type:1===(b=Array.from(new Set((v=Object.keys(e.values).filter(e=>"number"!=typeof y[y[e]]).map(e=>y[e])).map(e=>typeof e)))).length?"string"===b[0]?"string":"number":["string","number"],enum:v};case a0.ZodFirstPartyTypeKind.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[iG[e.innerType._def.typeName],"null"]};let _=iW(e.innerType._def,eH(eZ({},r),{currentPath:[...r.currentPath,"anyOf","0"]}));return _&&{anyOf:[_,{type:"null"}]};case a0.ZodFirstPartyTypeKind.ZodOptional:if(r.currentPath.toString()===(null==(l=r.propertyPath)?void 0:l.toString()))return iW(e.innerType._def,r);let w=iW(e.innerType._def,eH(eZ({},r),{currentPath:[...r.currentPath,"anyOf","1"]}));return w?{anyOf:[{not:{}},w]}:{};case a0.ZodFirstPartyTypeKind.ZodMap:if("record"===r.mapStrategy)return iH(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[iW(e.keyType._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items","items","0"]}))||{},iW(e.valueType._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}};case a0.ZodFirstPartyTypeKind.ZodSet:let S;return S={type:"array",uniqueItems:!0,items:iW(e.valueType._def,eH(eZ({},r),{currentPath:[...r.currentPath,"items"]}))},e.minSize&&(S.minItems=e.minSize.value),e.maxSize&&(S.maxItems=e.maxSize.value),S;case a0.ZodFirstPartyTypeKind.ZodLazy:return()=>e.getter()._def;case a0.ZodFirstPartyTypeKind.ZodPromise:return iW(e.type._def,r);case a0.ZodFirstPartyTypeKind.ZodNaN:case a0.ZodFirstPartyTypeKind.ZodNever:return{not:{}};case a0.ZodFirstPartyTypeKind.ZodEffects:return"input"===r.effectStrategy?iW(e.schema._def,r):{};case a0.ZodFirstPartyTypeKind.ZodAny:case a0.ZodFirstPartyTypeKind.ZodUnknown:return{};case a0.ZodFirstPartyTypeKind.ZodDefault:return eH(eZ({},iW(e.innerType._def,r)),{default:e.defaultValue()});case a0.ZodFirstPartyTypeKind.ZodBranded:return iO(e,r);case a0.ZodFirstPartyTypeKind.ZodReadonly:case a0.ZodFirstPartyTypeKind.ZodCatch:return iW(e.innerType._def,r);case a0.ZodFirstPartyTypeKind.ZodPipeline:if("input"===r.pipeStrategy)return iW(e.in._def,r);if("output"===r.pipeStrategy)return iW(e.out._def,r);let k=iW(e.in._def,eH(eZ({},r),{currentPath:[...r.currentPath,"allOf","0"]})),x=iW(e.out._def,eH(eZ({},r),{currentPath:[...r.currentPath,"allOf",k?"1":"0"]}));return{allOf:[k,x].filter(e=>void 0!==e)};case a0.ZodFirstPartyTypeKind.ZodFunction:case a0.ZodFirstPartyTypeKind.ZodVoid:case a0.ZodFirstPartyTypeKind.ZodSymbol:default:return}})(e,e.typeName,t),s="function"==typeof o?iW(o(),t):o;if(s&&iK(e,t,s),t.postProcess){let r=t.postProcess(s,e,t);return i.jsonSchema=s,r}return i.jsonSchema=s,s}var iJ=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},iK=(e,t,r)=>(e.description&&(r.description=e.description),r);function iY(e,t){var r,n;let a;if("_zod"in e){let n;return n=null!=(r=null==t?void 0:t.useReferences)&&r,i1(()=>a1.toJSONSchema(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:t=>eQ(null,null,function*(){let r=yield a1.safeParseAsync(e,t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})})}return a=null!=(n=null==t?void 0:t.useReferences)&&n,i1(()=>((e,t)=>{var r;let n,a,i=(a=void 0!==(n="string"==typeof t?eH(eZ({},iT),{name:t}):eZ(eZ({},iT),t)).name?[...n.basePath,n.definitionPath,n.name]:n.basePath,eH(eZ({},n),{currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...n.basePath,n.definitionPath,e],jsonSchema:void 0}]))})),o="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>{var n;return eH(eZ({},e),{[t]:null!=(n=iW(r._def,eH(eZ({},i),{currentPath:[...i.basePath,i.definitionPath,t]}),!0))?n:{}})},{}):void 0,s="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,l=null!=(r=iW(e._def,void 0===s?i:eH(eZ({},i),{currentPath:[...i.basePath,i.definitionPath,s]}),!1))?r:{},u="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==u&&(l.title=u);let d=void 0===s?o?eH(eZ({},l),{[i.definitionPath]:o}):l:{$ref:[..."relative"===i.$refStrategy?[]:i.basePath,i.definitionPath,s].join("/"),[i.definitionPath]:eH(eZ({},o),{[s]:l})};return d.$schema="http://json-schema.org/draft-07/schema#",d})(e,{$refStrategy:a?"root":"none"}),{validate:t=>eQ(null,null,function*(){let r=yield e.safeParseAsync(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})})}var iX=Symbol.for("vercel.ai.schema");function iQ(e){let t;return()=>(null==t&&(t=e()),t)}function i1(e,{validate:t}={}){return{[iX]:!0,_type:void 0,[io]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}var{btoa:i0,atob:i2}=globalThis;function i4(e){let t=i2(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function i6(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return i0(t)}function i3(e){return e instanceof Uint8Array?i6(e):e}function i9(e){return null==e?void 0:e.replace(/\/$/,"")}var i5=e.r(76261),i8=e.r(72358),i7=e.r(76261),oe=e.r(72358),ot=e.r(72358),or=e.r(76261),on=e.r(76261),oa=e.r(72358),oi=e.r(72358),oo=e.r(76261),os=e.r(72358),ol=e.r(72358),ou=e.r(72358),od=e.r(72358),oc=e.r(72358),op=e.r(72358),om=e.r(72358),oh=e.r(72358),of=e.r(72358),og=e.r(76261),oy=e.r(76261),ov=e.r(72358),ob=e.r(72358),o_=e.r(72358),ow=e.r(76261),oS=e.r(72358),ok=e.r(72358),ox=e.r(72358),oE=i8.z.object({error:i8.z.object({message:i8.z.string(),type:i8.z.string().nullish(),param:i8.z.any().nullish(),code:i8.z.union([i8.z.string(),i8.z.number()]).nullish()})}),oT=i_({errorSchema:oE,errorToMessage:e=>e.error.message});function oO({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function oI(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var oP=is(()=>iY(oe.z.object({id:oe.z.string().nullish(),created:oe.z.number().nullish(),model:oe.z.string().nullish(),choices:oe.z.array(oe.z.object({message:oe.z.object({role:oe.z.literal("assistant").nullish(),content:oe.z.string().nullish(),tool_calls:oe.z.array(oe.z.object({id:oe.z.string().nullish(),type:oe.z.literal("function"),function:oe.z.object({name:oe.z.string(),arguments:oe.z.string()})})).nullish(),annotations:oe.z.array(oe.z.object({type:oe.z.literal("url_citation"),start_index:oe.z.number(),end_index:oe.z.number(),url:oe.z.string(),title:oe.z.string()})).nullish()}),index:oe.z.number(),logprobs:oe.z.object({content:oe.z.array(oe.z.object({token:oe.z.string(),logprob:oe.z.number(),top_logprobs:oe.z.array(oe.z.object({token:oe.z.string(),logprob:oe.z.number()}))})).nullish()}).nullish(),finish_reason:oe.z.string().nullish()})),usage:oe.z.object({prompt_tokens:oe.z.number().nullish(),completion_tokens:oe.z.number().nullish(),total_tokens:oe.z.number().nullish(),prompt_tokens_details:oe.z.object({cached_tokens:oe.z.number().nullish()}).nullish(),completion_tokens_details:oe.z.object({reasoning_tokens:oe.z.number().nullish(),accepted_prediction_tokens:oe.z.number().nullish(),rejected_prediction_tokens:oe.z.number().nullish()}).nullish()}).nullish()}))),oC=is(()=>iY(oe.z.union([oe.z.object({id:oe.z.string().nullish(),created:oe.z.number().nullish(),model:oe.z.string().nullish(),choices:oe.z.array(oe.z.object({delta:oe.z.object({role:oe.z.enum(["assistant"]).nullish(),content:oe.z.string().nullish(),tool_calls:oe.z.array(oe.z.object({index:oe.z.number(),id:oe.z.string().nullish(),type:oe.z.literal("function").nullish(),function:oe.z.object({name:oe.z.string().nullish(),arguments:oe.z.string().nullish()})})).nullish(),annotations:oe.z.array(oe.z.object({type:oe.z.literal("url_citation"),start_index:oe.z.number(),end_index:oe.z.number(),url:oe.z.string(),title:oe.z.string()})).nullish()}).nullish(),logprobs:oe.z.object({content:oe.z.array(oe.z.object({token:oe.z.string(),logprob:oe.z.number(),top_logprobs:oe.z.array(oe.z.object({token:oe.z.string(),logprob:oe.z.number()}))})).nullish()}).nullish(),finish_reason:oe.z.string().nullish(),index:oe.z.number()})),usage:oe.z.object({prompt_tokens:oe.z.number().nullish(),completion_tokens:oe.z.number().nullish(),total_tokens:oe.z.number().nullish(),prompt_tokens_details:oe.z.object({cached_tokens:oe.z.number().nullish()}).nullish(),completion_tokens_details:oe.z.object({reasoning_tokens:oe.z.number().nullish(),accepted_prediction_tokens:oe.z.number().nullish(),rejected_prediction_tokens:oe.z.number().nullish()}).nullish()}).nullish()}),oE]))),oA=is(()=>iY(ot.z.object({logitBias:ot.z.record(ot.z.coerce.number(),ot.z.number()).optional(),logprobs:ot.z.union([ot.z.boolean(),ot.z.number()]).optional(),parallelToolCalls:ot.z.boolean().optional(),user:ot.z.string().optional(),reasoningEffort:ot.z.enum(["minimal","low","medium","high"]).optional(),maxCompletionTokens:ot.z.number().optional(),store:ot.z.boolean().optional(),metadata:ot.z.record(ot.z.string().max(64),ot.z.string().max(512)).optional(),prediction:ot.z.record(ot.z.string(),ot.z.any()).optional(),structuredOutputs:ot.z.boolean().optional(),serviceTier:ot.z.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:ot.z.boolean().optional(),textVerbosity:ot.z.enum(["low","medium","high"]).optional(),promptCacheKey:ot.z.string().optional(),safetyIdentifier:ot.z.string().optional()}))),oj=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,tools:d,toolChoice:c,providerOptions:p}){var m,h,f,g,y,v,b,_,w;let S=[],k=null!=(m=yield ip({provider:"openai",providerOptions:p,schema:oA}))?m:{},x=null==(h=k.structuredOutputs)||h;null!=a&&S.push({type:"unsupported-setting",setting:"topK"}),(null==l?void 0:l.type)!=="json"||null==l.schema||x||S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:E,warnings:T}=function({prompt:e,systemMessageMode:t="system"}){let r=[],n=[];for(let{role:a,content:i}of e)switch(a){case"system":switch(t){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((e,t)=>{var r,n,a;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${i3(e.data)}`,detail:null==(n=null==(r=e.providerOptions)?void 0:r.openai)?void 0:n.imageDetail}}}if(e.mediaType.startsWith("audio/")){if(e.data instanceof URL)throw new i7.UnsupportedFunctionalityError({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:i3(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:i3(e.data),format:"mp3"}};default:throw new i7.UnsupportedFunctionalityError({functionality:`audio content parts with media type ${e.mediaType}`})}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new i7.UnsupportedFunctionalityError({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${i3(e.data)}`}}}else throw new i7.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e="",t=[];for(let r of i)switch(r.type){case"text":e+=r.text;break;case"tool-call":t.push({id:r.toolCallId,type:"function",function:{name:r.toolName,arguments:JSON.stringify(r.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(let e of i){let t,n=e.output;switch(n.type){case"text":case"error-text":t=n.value;break;case"content":case"json":case"error-json":t=JSON.stringify(n.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:t})}break;default:throw Error(`Unsupported role: ${a}`)}return{messages:r,warnings:n}}({prompt:e,systemMessageMode:oz(y=this.modelId)?null!=(b=null==(v=oR[y])?void 0:v.systemMessageMode)?b:"developer":"system"});S.push(...T);let O=null!=(f=k.strictJsonSchema)&&f,I={model:this.modelId,logit_bias:k.logitBias,logprobs:!0===k.logprobs||"number"==typeof k.logprobs||void 0,top_logprobs:"number"==typeof k.logprobs?k.logprobs:"boolean"==typeof k.logprobs&&k.logprobs?0:void 0,user:k.user,parallel_tool_calls:k.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,response_format:(null==l?void 0:l.type)==="json"?x&&null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,strict:O,name:null!=(g=l.name)?g:"response",description:l.description}}:{type:"json_object"}:void 0,stop:s,seed:u,verbosity:k.textVerbosity,max_completion_tokens:k.maxCompletionTokens,store:k.store,metadata:k.metadata,prediction:k.prediction,reasoning_effort:k.reasoningEffort,service_tier:k.serviceTier,prompt_cache_key:k.promptCacheKey,safety_identifier:k.safetyIdentifier,messages:E};oz(this.modelId)?(null!=I.temperature&&(I.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=I.top_p&&(I.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=I.frequency_penalty&&(I.frequency_penalty=void 0,S.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=I.presence_penalty&&(I.presence_penalty=void 0,S.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=I.logit_bias&&(I.logit_bias=void 0,S.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=I.logprobs&&(I.logprobs=void 0,S.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=I.top_logprobs&&(I.top_logprobs=void 0,S.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=I.max_tokens&&(null==I.max_completion_tokens&&(I.max_completion_tokens=I.max_tokens),I.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=I.temperature&&(I.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==k.serviceTier||(_=this.modelId).startsWith("o3")||_.startsWith("o4-mini")||_.startsWith("gpt-5")&&!_.startsWith("gpt-5-chat")||(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),I.service_tier=void 0),"priority"!==k.serviceTier||(w=this.modelId).startsWith("gpt-4")||w.startsWith("gpt-5-mini")||w.startsWith("gpt-5")&&!w.startsWith("gpt-5-nano")&&!w.startsWith("gpt-5-chat")||w.startsWith("o3")||w.startsWith("o4-mini")||(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),I.service_tier=void 0);let{tools:P,toolChoice:C,toolWarnings:A}=function({tools:e,toolChoice:t,structuredOutputs:r,strictJsonSchema:n}){e=(null==e?void 0:e.length)?e:void 0;let a=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:a};let i=[];for(let t of e)"function"===t.type?i.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema,strict:r?n:void 0}}):a.push({type:"unsupported-tool",tool:t});if(null==t)return{tools:i,toolChoice:void 0,toolWarnings:a};let o=t.type;switch(o){case"auto":case"none":case"required":return{tools:i,toolChoice:o,toolWarnings:a};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:a};default:throw new or.UnsupportedFunctionalityError({functionality:`tool choice type: ${o}`})}}({tools:d,toolChoice:c,structuredOutputs:x,strictJsonSchema:O});return{args:eH(eZ({},I),{tools:P,tool_choice:C}),warnings:[...S,...A]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m,h;let{args:f,warnings:g}=yield this.getArgs(e),{responseHeaders:y,value:v,rawValue:b}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:f,failedResponseHandler:oT,successfulResponseHandler:ik(oP),abortSignal:e.abortSignal,fetch:this.config.fetch}),_=v.choices[0],w=[],S=_.message.content;for(let e of(null!=S&&S.length>0&&w.push({type:"text",text:S}),null!=(t=_.message.tool_calls)?t:[]))w.push({type:"tool-call",toolCallId:null!=(r=e.id)?r:a9(),toolName:e.function.name,input:e.function.arguments});for(let e of null!=(n=_.message.annotations)?n:[])w.push({type:"source",sourceType:"url",id:a9(),url:e.url,title:e.title});let k=null==(a=v.usage)?void 0:a.completion_tokens_details,x=null==(i=v.usage)?void 0:i.prompt_tokens_details,E={openai:{}};return(null==k?void 0:k.accepted_prediction_tokens)!=null&&(E.openai.acceptedPredictionTokens=null==k?void 0:k.accepted_prediction_tokens),(null==k?void 0:k.rejected_prediction_tokens)!=null&&(E.openai.rejectedPredictionTokens=null==k?void 0:k.rejected_prediction_tokens),(null==(o=_.logprobs)?void 0:o.content)!=null&&(E.openai.logprobs=_.logprobs.content),{content:w,finishReason:oI(_.finish_reason),usage:{inputTokens:null!=(l=null==(s=v.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(u=v.usage)?void 0:u.completion_tokens)?d:void 0,totalTokens:null!=(p=null==(c=v.usage)?void 0:c.total_tokens)?p:void 0,reasoningTokens:null!=(m=null==k?void 0:k.reasoning_tokens)?m:void 0,cachedInputTokens:null!=(h=null==x?void 0:x.cached_tokens)?h:void 0},request:{body:f},response:eH(eZ({},oO(v)),{headers:y,body:b}),warnings:g,providerMetadata:E}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:oT,successfulResponseHandler:iw(oC),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=[],s="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0,d=!1,c={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){var n,a,i,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){s="error",r.enqueue({type:"error",error:t.error});return}let z=t.value;if("error"in z){s="error",r.enqueue({type:"error",error:z.error});return}u&&(u=!1,r.enqueue(eZ({type:"response-metadata"},oO(z)))),null!=z.usage&&(l.inputTokens=null!=(n=z.usage.prompt_tokens)?n:void 0,l.outputTokens=null!=(a=z.usage.completion_tokens)?a:void 0,l.totalTokens=null!=(i=z.usage.total_tokens)?i:void 0,l.reasoningTokens=null!=(m=null==(p=z.usage.completion_tokens_details)?void 0:p.reasoning_tokens)?m:void 0,l.cachedInputTokens=null!=(f=null==(h=z.usage.prompt_tokens_details)?void 0:h.cached_tokens)?f:void 0,(null==(g=z.usage.completion_tokens_details)?void 0:g.accepted_prediction_tokens)!=null&&(c.openai.acceptedPredictionTokens=null==(y=z.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens),(null==(v=z.usage.completion_tokens_details)?void 0:v.rejected_prediction_tokens)!=null&&(c.openai.rejectedPredictionTokens=null==(b=z.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens));let R=z.choices[0];if((null==R?void 0:R.finish_reason)!=null&&(s=oI(R.finish_reason)),(null==(_=null==R?void 0:R.logprobs)?void 0:_.content)!=null&&(c.openai.logprobs=R.logprobs.content),(null==R?void 0:R.delta)==null)return;let N=R.delta;if(null!=N.content&&(d||(r.enqueue({type:"text-start",id:"0"}),d=!0),r.enqueue({type:"text-delta",id:"0",delta:N.content})),null!=N.tool_calls)for(let e of N.tool_calls){let t=e.index;if(null==o[t]){if("function"!==e.type)throw new i5.InvalidResponseDataError({data:e,message:"Expected 'function' type."});if(null==e.id)throw new i5.InvalidResponseDataError({data:e,message:"Expected 'id' to be a string."});if((null==(w=e.function)?void 0:w.name)==null)throw new i5.InvalidResponseDataError({data:e,message:"Expected 'function.name' to be a string."});r.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),o[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(S=e.function.arguments)?S:""},hasFinished:!1};let n=o[t];(null==(k=n.function)?void 0:k.name)!=null&&(null==(x=n.function)?void 0:x.arguments)!=null&&(n.function.arguments.length>0&&r.enqueue({type:"tool-input-delta",id:n.id,delta:n.function.arguments}),ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(E=n.id)?E:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0));continue}let n=o[t];!n.hasFinished&&((null==(T=e.function)?void 0:T.arguments)!=null&&(n.function.arguments+=null!=(I=null==(O=e.function)?void 0:O.arguments)?I:""),r.enqueue({type:"tool-input-delta",id:n.id,delta:null!=(P=e.function.arguments)?P:""}),(null==(C=n.function)?void 0:C.name)!=null&&(null==(A=n.function)?void 0:A.arguments)!=null&&ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(j=n.id)?j:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0))}if(null!=N.annotations)for(let e of N.annotations)r.enqueue({type:"source",sourceType:"url",id:a9(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(eZ({type:"finish",finishReason:s,usage:l},null!=c?{providerMetadata:c}:{}))}})),request:{body:n},response:{headers:a}}})}};function oz(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}var oR={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function oN({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function o$(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var oM=is(()=>iY(oa.z.object({id:oa.z.string().nullish(),created:oa.z.number().nullish(),model:oa.z.string().nullish(),choices:oa.z.array(oa.z.object({text:oa.z.string(),finish_reason:oa.z.string(),logprobs:oa.z.object({tokens:oa.z.array(oa.z.string()),token_logprobs:oa.z.array(oa.z.number()),top_logprobs:oa.z.array(oa.z.record(oa.z.string(),oa.z.number())).nullish()}).nullish()})),usage:oa.z.object({prompt_tokens:oa.z.number(),completion_tokens:oa.z.number(),total_tokens:oa.z.number()}).nullish()}))),oD=is(()=>iY(oa.z.union([oa.z.object({id:oa.z.string().nullish(),created:oa.z.number().nullish(),model:oa.z.string().nullish(),choices:oa.z.array(oa.z.object({text:oa.z.string(),finish_reason:oa.z.string().nullish(),index:oa.z.number(),logprobs:oa.z.object({tokens:oa.z.array(oa.z.string()),token_logprobs:oa.z.array(oa.z.number()),top_logprobs:oa.z.array(oa.z.record(oa.z.string(),oa.z.number())).nullish()}).nullish()})),usage:oa.z.object({prompt_tokens:oa.z.number(),completion_tokens:oa.z.number(),total_tokens:oa.z.number()}).nullish()}),oE]))),oF=is(()=>iY(oi.z.object({echo:oi.z.boolean().optional(),logitBias:oi.z.record(oi.z.string(),oi.z.number()).optional(),suffix:oi.z.string().optional(),user:oi.z.string().optional(),logprobs:oi.z.union([oi.z.boolean(),oi.z.number()]).optional()}))),oU=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,tools:u,toolChoice:d,seed:c,providerOptions:p}){let m=[],h=eZ(eZ({},(yield ip({provider:"openai",providerOptions:p,schema:oF}))),(yield ip({provider:this.providerOptionsName,providerOptions:p,schema:oF})));null!=a&&m.push({type:"unsupported-setting",setting:"topK"}),(null==u?void 0:u.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=d&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=l&&"text"!==l.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:f,stopSequences:g}=function({prompt:e,user:t="user",assistant:r="assistant"}){let n="";for(let{role:a,content:i}of("system"===e[0].role&&(n+=`${e[0].content}

`,e=e.slice(1)),e))switch(a){case"system":throw new on.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("");n+=`${t}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new on.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${e}

`;break}case"tool":throw new on.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${a}`)}return{prompt:n+=`${r}:
`,stopSequences:[`
${t}:`]}}({prompt:e}),y=[...null!=g?g:[],...null!=s?s:[]];return{args:{model:this.modelId,echo:h.echo,logit_bias:h.logitBias,logprobs:(null==h?void 0:h.logprobs)===!0?0:(null==h?void 0:h.logprobs)===!1||null==h?void 0:h.logprobs,suffix:h.suffix,user:h.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,seed:c,prompt:f,stop:y.length>0?y:void 0},warnings:m}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let{args:a,warnings:i}=yield this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:a,failedResponseHandler:oT,successfulResponseHandler:ik(oM),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=s.choices[0],d={openai:{}};return null!=u.logprobs&&(d.openai.logprobs=u.logprobs),{content:[{type:"text",text:u.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(r=s.usage)?void 0:r.completion_tokens,totalTokens:null==(n=s.usage)?void 0:n.total_tokens},finishReason:o$(u.finish_reason),request:{body:a},response:eH(eZ({},oN(s)),{headers:o,body:l}),providerMetadata:d,warnings:i}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:oT,successfulResponseHandler:iw(oD),abortSignal:e.abortSignal,fetch:this.config.fetch}),o="unknown",s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){o="error",r.enqueue({type:"error",error:t.error});return}let n=t.value;if("error"in n){o="error",r.enqueue({type:"error",error:n.error});return}u&&(u=!1,r.enqueue(eZ({type:"response-metadata"},oN(n))),r.enqueue({type:"text-start",id:"0"})),null!=n.usage&&(l.inputTokens=n.usage.prompt_tokens,l.outputTokens=n.usage.completion_tokens,l.totalTokens=n.usage.total_tokens);let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(o=o$(a.finish_reason)),(null==a?void 0:a.logprobs)!=null&&(s.openai.logprobs=a.logprobs),(null==a?void 0:a.text)!=null&&a.text.length>0&&r.enqueue({type:"text-delta",id:"0",delta:a.text})},flush(e){u||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,providerMetadata:s,usage:l})}})),request:{body:n},response:{headers:a}}})}},oL=is(()=>iY(os.z.object({dimensions:os.z.number().optional(),user:os.z.string().optional()}))),oq=is(()=>iY(ol.z.object({data:ol.z.array(ol.z.object({embedding:ol.z.array(ol.z.number())})),usage:ol.z.object({prompt_tokens:ol.z.number()}).nullish()}))),oV=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}doEmbed(e){return eQ(this,arguments,function*({values:e,headers:t,abortSignal:r,providerOptions:n}){var a;if(e.length>this.maxEmbeddingsPerCall)throw new oo.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=null!=(a=yield ip({provider:"openai",providerOptions:n,schema:oL}))?a:{},{responseHeaders:o,value:s,rawValue:l}=yield im({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:a6(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:oT,successfulResponseHandler:ik(oq),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.data.map(e=>e.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,response:{headers:o,body:l}}})}},oB=is(()=>iY(ou.z.object({data:ou.z.array(ou.z.object({b64_json:ou.z.string(),revised_prompt:ou.z.string().optional()}))}))),oZ={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},oH=new Set(["gpt-image-1","gpt-image-1-mini"]),oG=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=oZ[this.modelId])?e:1}get provider(){return this.config.provider}doGenerate(e){return eQ(this,arguments,function*({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l,u,d,c;let p=[];null!=n&&p.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&p.push({type:"unsupported-setting",setting:"seed"});let m=null!=(d=null==(u=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:u.call(l))?d:new Date,{value:h,responseHeaders:f}=yield im({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:a6(this.config.headers(),o),body:eZ(eZ({model:this.modelId,prompt:e,n:t,size:r},null!=(c=i.openai)?c:{}),oH.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:oT,successfulResponseHandler:ik(oB),abortSignal:s,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:p,response:{timestamp:m,modelId:this.modelId,headers:f},providerMetadata:{openai:{images:h.data.map(e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null)}}}})}},oW=iQ(()=>iY(od.z.object({code:od.z.string().nullish(),containerId:od.z.string()}))),oJ=iQ(()=>iY(od.z.object({outputs:od.z.array(od.z.discriminatedUnion("type",[od.z.object({type:od.z.literal("logs"),logs:od.z.string()}),od.z.object({type:od.z.literal("image"),url:od.z.string()})])).nullish()}))),oK=iQ(()=>iY(od.z.object({container:od.z.union([od.z.string(),od.z.object({fileIds:od.z.array(od.z.string()).optional()})]).optional()}))),oY=iv({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:oW,outputSchema:oJ}),oX=oc.z.object({key:oc.z.string(),type:oc.z.enum(["eq","ne","gt","gte","lt","lte"]),value:oc.z.union([oc.z.string(),oc.z.number(),oc.z.boolean()])}),oQ=oc.z.object({type:oc.z.enum(["and","or"]),filters:oc.z.array(oc.z.union([oX,oc.z.lazy(()=>oQ)]))}),o1=iQ(()=>iY(oc.z.object({vectorStoreIds:oc.z.array(oc.z.string()),maxNumResults:oc.z.number().optional(),ranking:oc.z.object({ranker:oc.z.string().optional(),scoreThreshold:oc.z.number().optional()}).optional(),filters:oc.z.union([oX,oQ]).optional()}))),o0=iQ(()=>iY(oc.z.object({queries:oc.z.array(oc.z.string()),results:oc.z.array(oc.z.object({attributes:oc.z.record(oc.z.string(),oc.z.unknown()),fileId:oc.z.string(),filename:oc.z.string(),score:oc.z.number(),text:oc.z.string()})).nullable()}))),o2=iv({id:"openai.file_search",name:"file_search",inputSchema:oc.z.object({}),outputSchema:o0}),o4=iQ(()=>iY(op.z.object({background:op.z.enum(["auto","opaque","transparent"]).optional(),inputFidelity:op.z.enum(["low","high"]).optional(),inputImageMask:op.z.object({fileId:op.z.string().optional(),imageUrl:op.z.string().optional()}).optional(),model:op.z.string().optional(),moderation:op.z.enum(["auto"]).optional(),outputCompression:op.z.number().int().min(0).max(100).optional(),outputFormat:op.z.enum(["png","jpeg","webp"]).optional(),partialImages:op.z.number().int().min(0).max(3).optional(),quality:op.z.enum(["auto","low","medium","high"]).optional(),size:op.z.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),o6=iv({id:"openai.image_generation",name:"image_generation",inputSchema:iQ(()=>iY(op.z.object({}))),outputSchema:iQ(()=>iY(op.z.object({result:op.z.string()})))}),o3=iQ(()=>iY(om.z.object({action:om.z.object({type:om.z.literal("exec"),command:om.z.array(om.z.string()),timeoutMs:om.z.number().optional(),user:om.z.string().optional(),workingDirectory:om.z.string().optional(),env:om.z.record(om.z.string(),om.z.string()).optional()})}))),o9=iQ(()=>iY(om.z.object({output:om.z.string()}))),o5=iv({id:"openai.local_shell",name:"local_shell",inputSchema:o3,outputSchema:o9}),o8=iQ(()=>iY(oh.z.object({filters:oh.z.object({allowedDomains:oh.z.array(oh.z.string()).optional()}).optional(),searchContextSize:oh.z.enum(["low","medium","high"]).optional(),userLocation:oh.z.object({type:oh.z.literal("approximate"),country:oh.z.string().optional(),city:oh.z.string().optional(),region:oh.z.string().optional(),timezone:oh.z.string().optional()}).optional()}))),o7=iv({id:"openai.web_search",name:"web_search",inputSchema:iQ(()=>iY(oh.z.object({}))),outputSchema:iQ(()=>iY(oh.z.object({action:oh.z.discriminatedUnion("type",[oh.z.object({type:oh.z.literal("search"),query:oh.z.string().optional()}),oh.z.object({type:oh.z.literal("openPage"),url:oh.z.string()}),oh.z.object({type:oh.z.literal("find"),url:oh.z.string(),pattern:oh.z.string()})])})))}),se=iQ(()=>iY(of.z.object({searchContextSize:of.z.enum(["low","medium","high"]).optional(),userLocation:of.z.object({type:of.z.literal("approximate"),country:of.z.string().optional(),city:of.z.string().optional(),region:of.z.string().optional(),timezone:of.z.string().optional()}).optional()}))),st={codeInterpreter:(e={})=>oY(e),fileSearch:o2,imageGeneration:(e={})=>o6(e),localShell:o5,webSearchPreview:iv({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:iQ(()=>iY(of.z.object({}))),outputSchema:iQ(()=>iY(of.z.object({action:of.z.discriminatedUnion("type",[of.z.object({type:of.z.literal("search"),query:of.z.string().optional()}),of.z.object({type:of.z.literal("openPage"),url:of.z.string()}),of.z.object({type:of.z.literal("find"),url:of.z.string(),pattern:of.z.string()})])})))}),webSearch:(e={})=>o7(e)};function sr(e,t){return!!t&&t.some(t=>e.startsWith(t))}var sn=ov.z.object({itemId:ov.z.string().nullish(),reasoningEncryptedContent:ov.z.string().nullish()});function sa({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}var si=is(()=>iY(ob.z.union([ob.z.object({type:ob.z.literal("response.output_text.delta"),item_id:ob.z.string(),delta:ob.z.string(),logprobs:ob.z.array(ob.z.object({token:ob.z.string(),logprob:ob.z.number(),top_logprobs:ob.z.array(ob.z.object({token:ob.z.string(),logprob:ob.z.number()}))})).nullish()}),ob.z.object({type:ob.z.enum(["response.completed","response.incomplete"]),response:ob.z.object({incomplete_details:ob.z.object({reason:ob.z.string()}).nullish(),usage:ob.z.object({input_tokens:ob.z.number(),input_tokens_details:ob.z.object({cached_tokens:ob.z.number().nullish()}).nullish(),output_tokens:ob.z.number(),output_tokens_details:ob.z.object({reasoning_tokens:ob.z.number().nullish()}).nullish()}),service_tier:ob.z.string().nullish()})}),ob.z.object({type:ob.z.literal("response.created"),response:ob.z.object({id:ob.z.string(),created_at:ob.z.number(),model:ob.z.string(),service_tier:ob.z.string().nullish()})}),ob.z.object({type:ob.z.literal("response.output_item.added"),output_index:ob.z.number(),item:ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("message"),id:ob.z.string()}),ob.z.object({type:ob.z.literal("reasoning"),id:ob.z.string(),encrypted_content:ob.z.string().nullish()}),ob.z.object({type:ob.z.literal("function_call"),id:ob.z.string(),call_id:ob.z.string(),name:ob.z.string(),arguments:ob.z.string()}),ob.z.object({type:ob.z.literal("web_search_call"),id:ob.z.string(),status:ob.z.string()}),ob.z.object({type:ob.z.literal("computer_call"),id:ob.z.string(),status:ob.z.string()}),ob.z.object({type:ob.z.literal("file_search_call"),id:ob.z.string()}),ob.z.object({type:ob.z.literal("image_generation_call"),id:ob.z.string()}),ob.z.object({type:ob.z.literal("code_interpreter_call"),id:ob.z.string(),container_id:ob.z.string(),code:ob.z.string().nullable(),outputs:ob.z.array(ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("logs"),logs:ob.z.string()}),ob.z.object({type:ob.z.literal("image"),url:ob.z.string()})])).nullable(),status:ob.z.string()})])}),ob.z.object({type:ob.z.literal("response.output_item.done"),output_index:ob.z.number(),item:ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("message"),id:ob.z.string()}),ob.z.object({type:ob.z.literal("reasoning"),id:ob.z.string(),encrypted_content:ob.z.string().nullish()}),ob.z.object({type:ob.z.literal("function_call"),id:ob.z.string(),call_id:ob.z.string(),name:ob.z.string(),arguments:ob.z.string(),status:ob.z.literal("completed")}),ob.z.object({type:ob.z.literal("code_interpreter_call"),id:ob.z.string(),code:ob.z.string().nullable(),container_id:ob.z.string(),outputs:ob.z.array(ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("logs"),logs:ob.z.string()}),ob.z.object({type:ob.z.literal("image"),url:ob.z.string()})])).nullable()}),ob.z.object({type:ob.z.literal("image_generation_call"),id:ob.z.string(),result:ob.z.string()}),ob.z.object({type:ob.z.literal("web_search_call"),id:ob.z.string(),status:ob.z.string(),action:ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("search"),query:ob.z.string().nullish()}),ob.z.object({type:ob.z.literal("open_page"),url:ob.z.string()}),ob.z.object({type:ob.z.literal("find"),url:ob.z.string(),pattern:ob.z.string()})])}),ob.z.object({type:ob.z.literal("file_search_call"),id:ob.z.string(),queries:ob.z.array(ob.z.string()),results:ob.z.array(ob.z.object({attributes:ob.z.record(ob.z.string(),ob.z.unknown()),file_id:ob.z.string(),filename:ob.z.string(),score:ob.z.number(),text:ob.z.string()})).nullish()}),ob.z.object({type:ob.z.literal("local_shell_call"),id:ob.z.string(),call_id:ob.z.string(),action:ob.z.object({type:ob.z.literal("exec"),command:ob.z.array(ob.z.string()),timeout_ms:ob.z.number().optional(),user:ob.z.string().optional(),working_directory:ob.z.string().optional(),env:ob.z.record(ob.z.string(),ob.z.string()).optional()})}),ob.z.object({type:ob.z.literal("computer_call"),id:ob.z.string(),status:ob.z.literal("completed")})])}),ob.z.object({type:ob.z.literal("response.function_call_arguments.delta"),item_id:ob.z.string(),output_index:ob.z.number(),delta:ob.z.string()}),ob.z.object({type:ob.z.literal("response.image_generation_call.partial_image"),item_id:ob.z.string(),output_index:ob.z.number(),partial_image_b64:ob.z.string()}),ob.z.object({type:ob.z.literal("response.code_interpreter_call_code.delta"),item_id:ob.z.string(),output_index:ob.z.number(),delta:ob.z.string()}),ob.z.object({type:ob.z.literal("response.code_interpreter_call_code.done"),item_id:ob.z.string(),output_index:ob.z.number(),code:ob.z.string()}),ob.z.object({type:ob.z.literal("response.output_text.annotation.added"),annotation:ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("url_citation"),url:ob.z.string(),title:ob.z.string()}),ob.z.object({type:ob.z.literal("file_citation"),file_id:ob.z.string(),filename:ob.z.string().nullish(),index:ob.z.number().nullish(),start_index:ob.z.number().nullish(),end_index:ob.z.number().nullish(),quote:ob.z.string().nullish()})])}),ob.z.object({type:ob.z.literal("response.reasoning_summary_part.added"),item_id:ob.z.string(),summary_index:ob.z.number()}),ob.z.object({type:ob.z.literal("response.reasoning_summary_text.delta"),item_id:ob.z.string(),summary_index:ob.z.number(),delta:ob.z.string()}),ob.z.object({type:ob.z.literal("response.reasoning_summary_part.done"),item_id:ob.z.string(),summary_index:ob.z.number()}),ob.z.object({type:ob.z.literal("error"),code:ob.z.string(),message:ob.z.string(),param:ob.z.string().nullish(),sequence_number:ob.z.number()}),ob.z.object({type:ob.z.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),so=is(()=>iY(ob.z.object({id:ob.z.string(),created_at:ob.z.number(),error:ob.z.object({code:ob.z.string(),message:ob.z.string()}).nullish(),model:ob.z.string(),output:ob.z.array(ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("message"),role:ob.z.literal("assistant"),id:ob.z.string(),content:ob.z.array(ob.z.object({type:ob.z.literal("output_text"),text:ob.z.string(),logprobs:ob.z.array(ob.z.object({token:ob.z.string(),logprob:ob.z.number(),top_logprobs:ob.z.array(ob.z.object({token:ob.z.string(),logprob:ob.z.number()}))})).nullish(),annotations:ob.z.array(ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("url_citation"),start_index:ob.z.number(),end_index:ob.z.number(),url:ob.z.string(),title:ob.z.string()}),ob.z.object({type:ob.z.literal("file_citation"),file_id:ob.z.string(),filename:ob.z.string().nullish(),index:ob.z.number().nullish(),start_index:ob.z.number().nullish(),end_index:ob.z.number().nullish(),quote:ob.z.string().nullish()}),ob.z.object({type:ob.z.literal("container_file_citation")})]))}))}),ob.z.object({type:ob.z.literal("web_search_call"),id:ob.z.string(),status:ob.z.string(),action:ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("search"),query:ob.z.string().nullish()}),ob.z.object({type:ob.z.literal("open_page"),url:ob.z.string()}),ob.z.object({type:ob.z.literal("find"),url:ob.z.string(),pattern:ob.z.string()})])}),ob.z.object({type:ob.z.literal("file_search_call"),id:ob.z.string(),queries:ob.z.array(ob.z.string()),results:ob.z.array(ob.z.object({attributes:ob.z.record(ob.z.string(),ob.z.unknown()),file_id:ob.z.string(),filename:ob.z.string(),score:ob.z.number(),text:ob.z.string()})).nullish()}),ob.z.object({type:ob.z.literal("code_interpreter_call"),id:ob.z.string(),code:ob.z.string().nullable(),container_id:ob.z.string(),outputs:ob.z.array(ob.z.discriminatedUnion("type",[ob.z.object({type:ob.z.literal("logs"),logs:ob.z.string()}),ob.z.object({type:ob.z.literal("image"),url:ob.z.string()})])).nullable()}),ob.z.object({type:ob.z.literal("image_generation_call"),id:ob.z.string(),result:ob.z.string()}),ob.z.object({type:ob.z.literal("local_shell_call"),id:ob.z.string(),call_id:ob.z.string(),action:ob.z.object({type:ob.z.literal("exec"),command:ob.z.array(ob.z.string()),timeout_ms:ob.z.number().optional(),user:ob.z.string().optional(),working_directory:ob.z.string().optional(),env:ob.z.record(ob.z.string(),ob.z.string()).optional()})}),ob.z.object({type:ob.z.literal("function_call"),call_id:ob.z.string(),name:ob.z.string(),arguments:ob.z.string(),id:ob.z.string()}),ob.z.object({type:ob.z.literal("computer_call"),id:ob.z.string(),status:ob.z.string().optional()}),ob.z.object({type:ob.z.literal("reasoning"),id:ob.z.string(),encrypted_content:ob.z.string().nullish(),summary:ob.z.array(ob.z.object({type:ob.z.literal("summary_text"),text:ob.z.string()}))})])),service_tier:ob.z.string().nullish(),incomplete_details:ob.z.object({reason:ob.z.string()}).nullish(),usage:ob.z.object({input_tokens:ob.z.number(),input_tokens_details:ob.z.object({cached_tokens:ob.z.number().nullish()}).nullish(),output_tokens:ob.z.number(),output_tokens_details:ob.z.object({reasoning_tokens:ob.z.number().nullish()}).nullish()})}))),ss=is(()=>iY(o_.z.object({include:o_.z.array(o_.z.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:o_.z.string().nullish(),logprobs:o_.z.union([o_.z.boolean(),o_.z.number().min(1).max(20)]).optional(),maxToolCalls:o_.z.number().nullish(),metadata:o_.z.any().nullish(),parallelToolCalls:o_.z.boolean().nullish(),previousResponseId:o_.z.string().nullish(),promptCacheKey:o_.z.string().nullish(),reasoningEffort:o_.z.string().nullish(),reasoningSummary:o_.z.string().nullish(),safetyIdentifier:o_.z.string().nullish(),serviceTier:o_.z.enum(["auto","flex","priority","default"]).nullish(),store:o_.z.boolean().nullish(),strictJsonSchema:o_.z.boolean().nullish(),textVerbosity:o_.z.enum(["low","medium","high"]).nullish(),truncation:o_.z.enum(["auto","disabled"]).nullish(),user:o_.z.string().nullish()}))),sl=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({maxOutputTokens:e,temperature:t,stopSequences:r,topP:n,topK:a,presencePenalty:i,frequencyPenalty:o,seed:s,prompt:l,providerOptions:u,tools:d,toolChoice:c,responseFormat:p}){var m,h,f,g,y;let v,b=[],_=(v={systemMessageMode:"system",supportsFlexProcessing:(y=this.modelId).startsWith("o3")||y.startsWith("o4-mini")||y.startsWith("gpt-5")&&!y.startsWith("gpt-5-chat"),supportsPriorityProcessing:y.startsWith("gpt-4")||y.startsWith("gpt-5-mini")||y.startsWith("gpt-5")&&!y.startsWith("gpt-5-nano")&&!y.startsWith("gpt-5-chat")||y.startsWith("o3")||y.startsWith("o4-mini")},y.startsWith("gpt-5-chat")?eH(eZ({},v),{isReasoningModel:!1}):y.startsWith("o")||y.startsWith("gpt-5")||y.startsWith("codex-")||y.startsWith("computer-use")?y.startsWith("o1-mini")||y.startsWith("o1-preview")?eH(eZ({},v),{isReasoningModel:!0,systemMessageMode:"remove"}):eH(eZ({},v),{isReasoningModel:!0,systemMessageMode:"developer"}):eH(eZ({},v),{isReasoningModel:!1}));null!=a&&b.push({type:"unsupported-setting",setting:"topK"}),null!=s&&b.push({type:"unsupported-setting",setting:"seed"}),null!=i&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&b.push({type:"unsupported-setting",setting:"stopSequences"});let w=yield ip({provider:"openai",providerOptions:u,schema:ss}),{input:S,warnings:k}=yield function(e){return eQ(this,arguments,function*({prompt:e,systemMessageMode:t,fileIdPrefixes:r,store:n,hasLocalShellTool:a=!1}){var i,o,s,l;let u=[],d=[];for(let{role:c,content:p}of e)switch(c){case"system":switch(t){case"system":u.push({role:"system",content:p});break;case"developer":u.push({role:"developer",content:p});break;case"remove":d.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":u.push({role:"user",content:p.map((e,t)=>{var n,a,i;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return eH(eZ({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"==typeof e.data&&sr(e.data,r)?{file_id:e.data}:{image_url:`data:${t};base64,${i3(e.data)}`}),{detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail})}if("application/pdf"===e.mediaType){if(e.data instanceof URL)return{type:"input_file",file_url:e.data.toString()};return eZ({type:"input_file"},"string"==typeof e.data&&sr(e.data,r)?{file_id:e.data}:{filename:null!=(i=e.filename)?i:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${i3(e.data)}`})}throw new oy.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e={},t={};for(let r of p)switch(r.type){case"text":{let e=null==(o=null==(i=r.providerOptions)?void 0:i.openai)?void 0:o.itemId;if(n&&null!=e){u.push({type:"item_reference",id:e});break}u.push({role:"assistant",content:[{type:"output_text",text:r.text}],id:e});break}case"tool-call":{if(t[r.toolCallId]=r,r.providerExecuted)break;let e=null==(l=null==(s=r.providerOptions)?void 0:s.openai)?void 0:l.itemId;if(n&&null!=e){u.push({type:"item_reference",id:e});break}if(a&&"local_shell"===r.toolName){let t=yield il({value:r.input,schema:o3});u.push({type:"local_shell_call",call_id:r.toolCallId,id:e,action:{type:"exec",command:t.action.command,timeout_ms:t.action.timeoutMs,user:t.action.user,working_directory:t.action.workingDirectory,env:t.action.env}});break}u.push({type:"function_call",call_id:r.toolCallId,name:r.toolName,arguments:JSON.stringify(r.input),id:e});break}case"tool-result":n?u.push({type:"item_reference",id:r.toolCallId}):d.push({type:"other",message:`Results for OpenAI tool ${r.toolName} are not sent to the API when store is false`});break;case"reasoning":{let t=yield ip({provider:"openai",providerOptions:r.providerOptions,schema:sn}),a=null==t?void 0:t.itemId;if(null!=a){let i=e[a];if(n)void 0===i&&(u.push({type:"item_reference",id:a}),e[a]={type:"reasoning",id:a,summary:[]});else{let n=[];r.text.length>0?n.push({type:"summary_text",text:r.text}):void 0!==i&&d.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(r)}.`}),void 0===i?(e[a]={type:"reasoning",id:a,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:n},u.push(e[a])):(i.summary.push(...n),(null==t?void 0:t.reasoningEncryptedContent)!=null&&(i.encrypted_content=t.reasoningEncryptedContent))}}else d.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(r)}.`})}}break}case"tool":for(let e of p){let t,r=e.output;if(a&&"local_shell"===e.toolName&&"json"===r.type){let t=yield il({value:r.value,schema:o9});u.push({type:"local_shell_call_output",call_id:e.toolCallId,output:t.output});break}switch(r.type){case"text":case"error-text":t=r.value;break;case"json":case"error-json":t=JSON.stringify(r.value);break;case"content":t=r.value.map(e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${e.mediaType};base64,${e.data}`}:{type:"input_file",filename:"data",file_data:`data:${e.mediaType};base64,${e.data}`}}})}u.push({type:"function_call_output",call_id:e.toolCallId,output:t})}break;default:throw Error(`Unsupported role: ${c}`)}return{input:u,warnings:d}})}({prompt:l,systemMessageMode:_.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==w?void 0:w.store)||m,hasLocalShellTool:O("openai.local_shell")});b.push(...k);let x=null!=(h=null==w?void 0:w.strictJsonSchema)&&h,E=null==w?void 0:w.include;function T(e){null==E?E=[e]:E.includes(e)||(E=[...E,e])}function O(e){return(null==d?void 0:d.find(t=>"provider-defined"===t.type&&t.id===e))!=null}let I="number"==typeof(null==w?void 0:w.logprobs)?null==w?void 0:w.logprobs:(null==w?void 0:w.logprobs)===!0?20:void 0;I&&T("message.output_text.logprobs");let P=null==(f=null==d?void 0:d.find(e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id)))?void 0:f.name;P&&T("web_search_call.action.sources"),O("openai.code_interpreter")&&T("code_interpreter_call.outputs");let C=null==w?void 0:w.store;!1===C&&_.isReasoningModel&&T("reasoning.encrypted_content");let A=eZ(eH(eZ({model:this.modelId,input:S,temperature:t,top_p:n,max_output_tokens:e},((null==p?void 0:p.type)==="json"||(null==w?void 0:w.textVerbosity))&&{text:eZ(eZ({},(null==p?void 0:p.type)==="json"&&{format:null!=p.schema?{type:"json_schema",strict:x,name:null!=(g=p.name)?g:"response",description:p.description,schema:p.schema}:{type:"json_object"}}),(null==w?void 0:w.textVerbosity)&&{verbosity:w.textVerbosity})}),{max_tool_calls:null==w?void 0:w.maxToolCalls,metadata:null==w?void 0:w.metadata,parallel_tool_calls:null==w?void 0:w.parallelToolCalls,previous_response_id:null==w?void 0:w.previousResponseId,store:C,user:null==w?void 0:w.user,instructions:null==w?void 0:w.instructions,service_tier:null==w?void 0:w.serviceTier,include:E,prompt_cache_key:null==w?void 0:w.promptCacheKey,safety_identifier:null==w?void 0:w.safetyIdentifier,top_logprobs:I,truncation:null==w?void 0:w.truncation}),_.isReasoningModel&&((null==w?void 0:w.reasoningEffort)!=null||(null==w?void 0:w.reasoningSummary)!=null)&&{reasoning:eZ(eZ({},(null==w?void 0:w.reasoningEffort)!=null&&{effort:w.reasoningEffort}),(null==w?void 0:w.reasoningSummary)!=null&&{summary:w.reasoningSummary})});_.isReasoningModel?(null!=A.temperature&&(A.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=A.top_p&&(A.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):((null==w?void 0:w.reasoningEffort)!=null&&b.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),(null==w?void 0:w.reasoningSummary)!=null&&b.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),(null==w?void 0:w.serviceTier)!=="flex"||_.supportsFlexProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete A.service_tier),(null==w?void 0:w.serviceTier)!=="priority"||_.supportsPriorityProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete A.service_tier);let{tools:j,toolChoice:z,toolWarnings:R}=yield function(e){return eQ(this,arguments,function*({tools:e,toolChoice:t,strictJsonSchema:r}){e=(null==e?void 0:e.length)?e:void 0;let n=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let a=[];for(let t of e)switch(t.type){case"function":a.push({type:"function",name:t.name,description:t.description,parameters:t.inputSchema,strict:r});break;case"provider-defined":switch(t.id){case"openai.file_search":{let e=yield il({value:t.args,schema:o1});a.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":a.push({type:"local_shell"});break;case"openai.web_search_preview":{let e=yield il({value:t.args,schema:se});a.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{let e=yield il({value:t.args,schema:o8});a.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{let e=yield il({value:t.args,schema:oK});a.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"==typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{let e=yield il({value:t.args,schema:o4});a.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression})}}break;default:n.push({type:"unsupported-tool",tool:t})}if(null==t)return{tools:a,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:a,toolChoice:i,toolWarnings:n};case"tool":return{tools:a,toolChoice:"code_interpreter"===t.toolName||"file_search"===t.toolName||"image_generation"===t.toolName||"web_search_preview"===t.toolName||"web_search"===t.toolName?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:n};default:throw new ow.UnsupportedFunctionalityError({functionality:`tool choice type: ${i}`})}})}({tools:d,toolChoice:c,strictJsonSchema:x});return{webSearchToolName:P,args:eH(eZ({},A),{tools:j,tool_choice:z}),warnings:[...b,...R],store:C}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b;let{args:_,warnings:w,webSearchToolName:S}=yield this.getArgs(e),k=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:x,value:E,rawValue:T}=yield im({url:k,headers:a6(this.config.headers(),e.headers),body:_,failedResponseHandler:oT,successfulResponseHandler:ik(so),abortSignal:e.abortSignal,fetch:this.config.fetch});if(E.error)throw new og.APICallError({message:E.error.message,url:k,requestBodyValues:_,statusCode:400,responseHeaders:x,responseBody:T,isRetryable:!1});let O=[],I=[],P=!1;for(let f of E.output)switch(f.type){case"reasoning":for(let e of(0===f.summary.length&&f.summary.push({type:"summary_text",text:""}),f.summary))O.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:f.id,reasoningEncryptedContent:null!=(t=f.encrypted_content)?t:null}}});break;case"image_generation_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"image_generation",result:{result:f.result},providerExecuted:!0});break;case"local_shell_call":O.push({type:"tool-call",toolCallId:f.call_id,toolName:"local_shell",input:JSON.stringify({action:f.action}),providerMetadata:{openai:{itemId:f.id}}});break;case"message":for(let t of f.content)for(let m of((null==(n=null==(r=e.providerOptions)?void 0:r.openai)?void 0:n.logprobs)&&t.logprobs&&I.push(t.logprobs),O.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:f.id}}}),t.annotations))"url_citation"===m.type?O.push({type:"source",sourceType:"url",id:null!=(o=null==(i=(a=this.config).generateId)?void 0:i.call(a))?o:a9(),url:m.url,title:m.title}):"file_citation"===m.type&&O.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:a9(),mediaType:"text/plain",title:null!=(c=null!=(d=m.quote)?d:m.filename)?c:"Document",filename:null!=(p=m.filename)?p:m.file_id});break;case"function_call":P=!0,O.push({type:"tool-call",toolCallId:f.call_id,toolName:f.name,input:f.arguments,providerMetadata:{openai:{itemId:f.id}}});break;case"web_search_call":O.push({type:"tool-call",toolCallId:f.id,toolName:null!=S?S:"web_search",input:JSON.stringify({}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:null!=S?S:"web_search",result:sd(f.action),providerExecuted:!0});break;case"computer_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"computer_use",input:"",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:f.status||"completed"},providerExecuted:!0});break;case"file_search_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"file_search",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"file_search",result:{queries:f.queries,results:null!=(h=null==(m=f.results)?void 0:m.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?h:null},providerExecuted:!0});break;case"code_interpreter_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"code_interpreter",input:JSON.stringify({code:f.code,containerId:f.container_id}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"code_interpreter",result:{outputs:f.outputs},providerExecuted:!0})}let C={openai:{responseId:E.id}};return I.length>0&&(C.openai.logprobs=I),"string"==typeof E.service_tier&&(C.openai.serviceTier=E.service_tier),{content:O,finishReason:sa({finishReason:null==(f=E.incomplete_details)?void 0:f.reason,hasFunctionCall:P}),usage:{inputTokens:E.usage.input_tokens,outputTokens:E.usage.output_tokens,totalTokens:E.usage.input_tokens+E.usage.output_tokens,reasoningTokens:null!=(y=null==(g=E.usage.output_tokens_details)?void 0:g.reasoning_tokens)?y:void 0,cachedInputTokens:null!=(b=null==(v=E.usage.input_tokens_details)?void 0:v.cached_tokens)?b:void 0},request:{body:_},response:{id:E.id,timestamp:new Date(1e3*E.created_at),modelId:E.model,headers:x,body:T},providerMetadata:C,warnings:w}})}doStream(e){return eQ(this,null,function*(){let t,{args:r,warnings:n,webSearchToolName:a,store:i}=yield this.getArgs(e),{responseHeaders:o,value:s}=yield im({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},r),{stream:!0}),failedResponseHandler:oT,successfulResponseHandler:iw(si),abortSignal:e.abortSignal,fetch:this.config.fetch}),l=this,u="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},c=[],p=null,m={},h=!1,f={};return{stream:s.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(r,n){var o,s,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:r.rawValue}),!r.success){u="error",n.enqueue({type:"error",error:r.error});return}let M=r.value;if(su(M))"function_call"===M.item.type?(m[M.output_index]={toolName:M.item.name,toolCallId:M.item.call_id},n.enqueue({type:"tool-input-start",id:M.item.call_id,toolName:M.item.name})):"web_search_call"===M.item.type?(m[M.output_index]={toolName:null!=a?a:"web_search",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:null!=a?a:"web_search",providerExecuted:!0}),n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"web_search",input:JSON.stringify({}),providerExecuted:!0})):"computer_call"===M.item.type?(m[M.output_index]={toolName:"computer_use",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===M.item.type?(m[M.output_index]={toolName:"code_interpreter",toolCallId:M.item.id,codeInterpreter:{containerId:M.item.container_id}},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:M.item.id,delta:`{"containerId":"${M.item.container_id}","code":"`})):"file_search_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===M.item.type?n.enqueue({type:"text-start",id:M.item.id,providerMetadata:{openai:{itemId:M.item.id}}}):su(M)&&"reasoning"===M.item.type&&(f[M.item.id]={encryptedContent:M.item.encrypted_content,summaryParts:{0:"active"}},n.enqueue({type:"reasoning-start",id:`${M.item.id}:0`,providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(o=M.item.encrypted_content)?o:null}}}));else if("response.output_item.done"===M.type){if("function_call"===M.item.type)m[M.output_index]=void 0,h=!0,n.enqueue({type:"tool-input-end",id:M.item.call_id}),n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:M.item.name,input:M.item.arguments,providerMetadata:{openai:{itemId:M.item.id}}});else if("web_search_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"web_search",result:sd(M.item.action),providerExecuted:!0});else if("computer_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"file_search",result:{queries:M.item.queries,results:null!=(g=null==(s=M.item.results)?void 0:s.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?g:null},providerExecuted:!0});else if("code_interpreter_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"code_interpreter",result:{outputs:M.item.outputs},providerExecuted:!0});else if("image_generation_call"===M.item.type)n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"image_generation",result:{result:M.item.result},providerExecuted:!0});else if("local_shell_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:M.item.action.command,timeoutMs:M.item.action.timeout_ms,user:M.item.action.user,workingDirectory:M.item.action.working_directory,env:M.item.action.env}}),providerMetadata:{openai:{itemId:M.item.id}}});else if("message"===M.item.type)n.enqueue({type:"text-end",id:M.item.id});else if("reasoning"===M.item.type){for(let e of Object.entries(f[M.item.id].summaryParts).filter(([e,t])=>"active"===t||"can-conclude"===t).map(([e])=>e))n.enqueue({type:"reasoning-end",id:`${M.item.id}:${e}`,providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(y=M.item.encrypted_content)?y:null}}});delete f[M.item.id]}}else if("response.function_call_arguments.delta"===M.type){let e=m[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:M.delta})}else if("response.code_interpreter_call_code.delta"===M.type){let e=m[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(M.delta).slice(1,-1)})}else if("response.code_interpreter_call_code.done"===M.type){let e=m[M.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else if("response.created"===M.type)p=M.response.id,n.enqueue({type:"response-metadata",id:M.response.id,timestamp:new Date(1e3*M.response.created_at),modelId:M.response.model});else if("response.output_text.delta"===M.type)n.enqueue({type:"text-delta",id:M.item_id,delta:M.delta}),(null==(b=null==(v=e.providerOptions)?void 0:v.openai)?void 0:b.logprobs)&&M.logprobs&&c.push(M.logprobs);else if("response.reasoning_summary_part.added"===M.type){if(M.summary_index>0){let e=f[M.item_id];for(let t of(e.summaryParts[M.summary_index]="active",Object.keys(e.summaryParts)))"can-conclude"===e.summaryParts[t]&&(n.enqueue({type:"reasoning-end",id:`${M.item_id}:${t}`,providerMetadata:{openai:{itemId:M.item_id}}}),e.summaryParts[t]="concluded");n.enqueue({type:"reasoning-start",id:`${M.item_id}:${M.summary_index}`,providerMetadata:{openai:{itemId:M.item_id,reasoningEncryptedContent:null!=(w=null==(_=f[M.item_id])?void 0:_.encryptedContent)?w:null}}})}}else{"response.reasoning_summary_text.delta"===M.type?n.enqueue({type:"reasoning-delta",id:`${M.item_id}:${M.summary_index}`,delta:M.delta,providerMetadata:{openai:{itemId:M.item_id}}}):"response.reasoning_summary_part.done"===M.type?i?(n.enqueue({type:"reasoning-end",id:`${M.item_id}:${M.summary_index}`,providerMetadata:{openai:{itemId:M.item_id}}}),f[M.item_id].summaryParts[M.summary_index]="concluded"):f[M.item_id].summaryParts[M.summary_index]="can-conclude":"response.completed"===($=M).type||"response.incomplete"===$.type?(u=sa({finishReason:null==(S=M.response.incomplete_details)?void 0:S.reason,hasFunctionCall:h}),d.inputTokens=M.response.usage.input_tokens,d.outputTokens=M.response.usage.output_tokens,d.totalTokens=M.response.usage.input_tokens+M.response.usage.output_tokens,d.reasoningTokens=null!=(x=null==(k=M.response.usage.output_tokens_details)?void 0:k.reasoning_tokens)?x:void 0,d.cachedInputTokens=null!=(T=null==(E=M.response.usage.input_tokens_details)?void 0:E.cached_tokens)?T:void 0,"string"==typeof M.response.service_tier&&(t=M.response.service_tier)):"response.output_text.annotation.added"===M.type?"url_citation"===M.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(P=null==(I=(O=l.config).generateId)?void 0:I.call(O))?P:a9(),url:M.annotation.url,title:M.annotation.title}):"file_citation"===M.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(j=null==(A=(C=l.config).generateId)?void 0:A.call(C))?j:a9(),mediaType:"text/plain",title:null!=(R=null!=(z=M.annotation.quote)?z:M.annotation.filename)?R:"Document",filename:null!=(N=M.annotation.filename)?N:M.annotation.file_id}):"error"===M.type&&n.enqueue({type:"error",error:M})}},flush(e){let r={openai:{responseId:p}};c.length>0&&(r.openai.logprobs=c),void 0!==t&&(r.openai.serviceTier=t),e.enqueue({type:"finish",finishReason:u,usage:d,providerMetadata:r})}})),request:{body:r},response:{headers:o}}})}};function su(e){return"response.output_item.added"===e.type}function sd(e){var t;switch(e.type){case"search":return{action:{type:"search",query:null!=(t=e.query)?t:void 0}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}var sc=is(()=>iY(oS.z.object({instructions:oS.z.string().nullish(),speed:oS.z.number().min(.25).max(4).default(1).nullish()}))),sp=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:a,language:i,providerOptions:o}){let s=[],l=yield ip({provider:"openai",providerOptions:o,schema:sc}),u={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:a};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?u.response_format=r:s.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let e={};for(let t in e){let r=e[t];void 0!==r&&(u[t]=r)}}return i&&s.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:u,warnings:s}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let a=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{requestBody:i,warnings:o}=yield this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=yield im({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:i,failedResponseHandler:oT,successfulResponseHandler:ix(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(i)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}})}},sm=is(()=>iY(ok.z.object({text:ok.z.string(),language:ok.z.string().nullish(),duration:ok.z.number().nullish(),words:ok.z.array(ok.z.object({word:ok.z.string(),start:ok.z.number(),end:ok.z.number()})).nullish(),segments:ok.z.array(ok.z.object({id:ok.z.number(),seek:ok.z.number(),start:ok.z.number(),end:ok.z.number(),text:ok.z.string(),tokens:ok.z.array(ok.z.number()),temperature:ok.z.number(),avg_logprob:ok.z.number(),compression_ratio:ok.z.number(),no_speech_prob:ok.z.number()})).nullish()}))),sh=is(()=>iY(ox.z.object({include:ox.z.array(ox.z.string()).optional(),language:ox.z.string().optional(),prompt:ox.z.string().optional(),temperature:ox.z.number().min(0).max(1).default(0).optional(),timestampGranularities:ox.z.array(ox.z.enum(["word","segment"])).default(["segment"]).optional()}))),sf={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},sg=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({audio:e,mediaType:t,providerOptions:r}){let n=yield ip({provider:"openai",providerOptions:r,schema:sh}),a=new FormData,i=e instanceof Uint8Array?new Blob([e]):new Blob([i4(e)]);a.append("model",this.modelId);let o=it(t);if(a.append("file",new File([i],"audio",{type:t}),`audio.${o}`),n){for(let[e,t]of Object.entries({include:n.include,language:n.language,prompt:n.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:n.temperature,timestamp_granularities:n.timestampGranularities}))if(null!=t)if(Array.isArray(t))for(let r of t)a.append(`${e}[]`,String(r));else a.append(e,String(t))}return{formData:a,warnings:[]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l;let u=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:d,warnings:c}=yield this.getArgs(e),{value:p,responseHeaders:m,rawValue:h}=yield ih({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),formData:d,failedResponseHandler:oT,successfulResponseHandler:ik(sm),abortSignal:e.abortSignal,fetch:this.config.fetch}),f=null!=p.language&&p.language in sf?sf[p.language]:void 0;return{text:p.text,segments:null!=(s=null!=(o=null==(a=p.segments)?void 0:a.map(e=>({text:e.text,startSecond:e.start,endSecond:e.end})))?o:null==(i=p.words)?void 0:i.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?s:[],language:f,durationInSeconds:null!=(l=p.duration)?l:void 0,warnings:c,response:{timestamp:u,modelId:this.modelId,headers:m,body:h}}})}};function sy(e={}){var t,r;let n=null!=(t=i9(function({settingValue:e,environmentVariableName:t}){return"string"==typeof e?e:null!=e||"u"<typeof process?void 0:null!=(e=process.env[t])&&"string"==typeof e?e:void 0}({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",a=null!=(r=e.name)?r:"openai",i=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/2.0.53"),o=t=>new oV(t,{provider:`${a}.embedding`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),s=t=>new oG(t,{provider:`${a}.image`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),l=t=>new sg(t,{provider:`${a}.transcription`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),u=t=>new sp(t,{provider:`${a}.speech`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),d=e=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return c(e)},c=t=>new sl(t,{provider:`${a}.responses`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),p=function(e){return d(e)};return p.languageModel=d,p.chat=t=>new oj(t,{provider:`${a}.chat`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),p.completion=t=>new oU(t,{provider:`${a}.completion`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),p.responses=c,p.embedding=o,p.textEmbedding=o,p.textEmbeddingModel=o,p.image=s,p.imageModel=s,p.transcription=l,p.transcriptionModel=l,p.speech=u,p.speechModel=u,p.tools=st,p}var sv=sy(),sb=e.r(76261),s_=e.r(76261),sw=e.r(72358),sS=e.r(72358),sk=e.r(72358),sx=e.r(76261),sE=e.r(72358),sT=e.r(72358),sO=e.r(72358),sI=e.r(76261),sP=e.r(72358),sC=e.r(72358),sA=e.r(72358),sj=e.r(72358),sz=e.r(72358),sR=e.r(72358),sN=e.r(72358),s$=e.r(72358),sM=e.r(72358),sD=e.r(72358),sF=i_({errorSchema:iQ(()=>iY(sw.z.object({type:sw.z.literal("error"),error:sw.z.object({type:sw.z.string(),message:sw.z.string()})}))),errorToMessage:e=>e.error.message}),sU=iQ(()=>iY(sS.z.object({type:sS.z.literal("message"),id:sS.z.string().nullish(),model:sS.z.string().nullish(),content:sS.z.array(sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("text"),text:sS.z.string(),citations:sS.z.array(sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("web_search_result_location"),cited_text:sS.z.string(),url:sS.z.string(),title:sS.z.string(),encrypted_index:sS.z.string()}),sS.z.object({type:sS.z.literal("page_location"),cited_text:sS.z.string(),document_index:sS.z.number(),document_title:sS.z.string().nullable(),start_page_number:sS.z.number(),end_page_number:sS.z.number()}),sS.z.object({type:sS.z.literal("char_location"),cited_text:sS.z.string(),document_index:sS.z.number(),document_title:sS.z.string().nullable(),start_char_index:sS.z.number(),end_char_index:sS.z.number()})])).optional()}),sS.z.object({type:sS.z.literal("thinking"),thinking:sS.z.string(),signature:sS.z.string()}),sS.z.object({type:sS.z.literal("redacted_thinking"),data:sS.z.string()}),sS.z.object({type:sS.z.literal("tool_use"),id:sS.z.string(),name:sS.z.string(),input:sS.z.unknown()}),sS.z.object({type:sS.z.literal("server_tool_use"),id:sS.z.string(),name:sS.z.string(),input:sS.z.record(sS.z.string(),sS.z.unknown()).nullish()}),sS.z.object({type:sS.z.literal("web_fetch_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.object({type:sS.z.literal("web_fetch_result"),url:sS.z.string(),retrieved_at:sS.z.string(),content:sS.z.object({type:sS.z.literal("document"),title:sS.z.string().nullable(),citations:sS.z.object({enabled:sS.z.boolean()}).optional(),source:sS.z.object({type:sS.z.literal("text"),media_type:sS.z.string(),data:sS.z.string()})})}),sS.z.object({type:sS.z.literal("web_fetch_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("web_search_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.array(sS.z.object({type:sS.z.literal("web_search_result"),url:sS.z.string(),title:sS.z.string(),encrypted_content:sS.z.string(),page_age:sS.z.string().nullish()})),sS.z.object({type:sS.z.literal("web_search_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.object({type:sS.z.literal("code_execution_result"),stdout:sS.z.string(),stderr:sS.z.string(),return_code:sS.z.number()}),sS.z.object({type:sS.z.literal("code_execution_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("bash_code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("bash_code_execution_result"),content:sS.z.array(sS.z.object({type:sS.z.literal("bash_code_execution_output"),file_id:sS.z.string()})),stdout:sS.z.string(),stderr:sS.z.string(),return_code:sS.z.number()}),sS.z.object({type:sS.z.literal("bash_code_execution_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("text_editor_code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("text_editor_code_execution_tool_result_error"),error_code:sS.z.string()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_view_result"),content:sS.z.string(),file_type:sS.z.string(),num_lines:sS.z.number().nullable(),start_line:sS.z.number().nullable(),total_lines:sS.z.number().nullable()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_create_result"),is_file_update:sS.z.boolean()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_str_replace_result"),lines:sS.z.array(sS.z.string()).nullable(),new_lines:sS.z.number().nullable(),new_start:sS.z.number().nullable(),old_lines:sS.z.number().nullable(),old_start:sS.z.number().nullable()})])})])),stop_reason:sS.z.string().nullish(),stop_sequence:sS.z.string().nullish(),usage:sS.z.looseObject({input_tokens:sS.z.number(),output_tokens:sS.z.number(),cache_creation_input_tokens:sS.z.number().nullish(),cache_read_input_tokens:sS.z.number().nullish()}),container:sS.z.object({expires_at:sS.z.string(),id:sS.z.string(),skills:sS.z.array(sS.z.object({type:sS.z.union([sS.z.literal("anthropic"),sS.z.literal("custom")]),skill_id:sS.z.string(),version:sS.z.string()})).nullish()}).nullish()}))),sL=iQ(()=>iY(sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("message_start"),message:sS.z.object({id:sS.z.string().nullish(),model:sS.z.string().nullish(),usage:sS.z.looseObject({input_tokens:sS.z.number(),cache_creation_input_tokens:sS.z.number().nullish(),cache_read_input_tokens:sS.z.number().nullish()})})}),sS.z.object({type:sS.z.literal("content_block_start"),index:sS.z.number(),content_block:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("text"),text:sS.z.string()}),sS.z.object({type:sS.z.literal("thinking"),thinking:sS.z.string()}),sS.z.object({type:sS.z.literal("tool_use"),id:sS.z.string(),name:sS.z.string()}),sS.z.object({type:sS.z.literal("redacted_thinking"),data:sS.z.string()}),sS.z.object({type:sS.z.literal("server_tool_use"),id:sS.z.string(),name:sS.z.string(),input:sS.z.record(sS.z.string(),sS.z.unknown()).nullish()}),sS.z.object({type:sS.z.literal("web_fetch_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.object({type:sS.z.literal("web_fetch_result"),url:sS.z.string(),retrieved_at:sS.z.string(),content:sS.z.object({type:sS.z.literal("document"),title:sS.z.string().nullable(),citations:sS.z.object({enabled:sS.z.boolean()}).optional(),source:sS.z.object({type:sS.z.literal("text"),media_type:sS.z.string(),data:sS.z.string()})})}),sS.z.object({type:sS.z.literal("web_fetch_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("web_search_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.array(sS.z.object({type:sS.z.literal("web_search_result"),url:sS.z.string(),title:sS.z.string(),encrypted_content:sS.z.string(),page_age:sS.z.string().nullish()})),sS.z.object({type:sS.z.literal("web_search_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.union([sS.z.object({type:sS.z.literal("code_execution_result"),stdout:sS.z.string(),stderr:sS.z.string(),return_code:sS.z.number()}),sS.z.object({type:sS.z.literal("code_execution_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("bash_code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("bash_code_execution_result"),content:sS.z.array(sS.z.object({type:sS.z.literal("bash_code_execution_output"),file_id:sS.z.string()})),stdout:sS.z.string(),stderr:sS.z.string(),return_code:sS.z.number()}),sS.z.object({type:sS.z.literal("bash_code_execution_tool_result_error"),error_code:sS.z.string()})])}),sS.z.object({type:sS.z.literal("text_editor_code_execution_tool_result"),tool_use_id:sS.z.string(),content:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("text_editor_code_execution_tool_result_error"),error_code:sS.z.string()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_view_result"),content:sS.z.string(),file_type:sS.z.string(),num_lines:sS.z.number().nullable(),start_line:sS.z.number().nullable(),total_lines:sS.z.number().nullable()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_create_result"),is_file_update:sS.z.boolean()}),sS.z.object({type:sS.z.literal("text_editor_code_execution_str_replace_result"),lines:sS.z.array(sS.z.string()).nullable(),new_lines:sS.z.number().nullable(),new_start:sS.z.number().nullable(),old_lines:sS.z.number().nullable(),old_start:sS.z.number().nullable()})])})])}),sS.z.object({type:sS.z.literal("content_block_delta"),index:sS.z.number(),delta:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("input_json_delta"),partial_json:sS.z.string()}),sS.z.object({type:sS.z.literal("text_delta"),text:sS.z.string()}),sS.z.object({type:sS.z.literal("thinking_delta"),thinking:sS.z.string()}),sS.z.object({type:sS.z.literal("signature_delta"),signature:sS.z.string()}),sS.z.object({type:sS.z.literal("citations_delta"),citation:sS.z.discriminatedUnion("type",[sS.z.object({type:sS.z.literal("web_search_result_location"),cited_text:sS.z.string(),url:sS.z.string(),title:sS.z.string(),encrypted_index:sS.z.string()}),sS.z.object({type:sS.z.literal("page_location"),cited_text:sS.z.string(),document_index:sS.z.number(),document_title:sS.z.string().nullable(),start_page_number:sS.z.number(),end_page_number:sS.z.number()}),sS.z.object({type:sS.z.literal("char_location"),cited_text:sS.z.string(),document_index:sS.z.number(),document_title:sS.z.string().nullable(),start_char_index:sS.z.number(),end_char_index:sS.z.number()})])})])}),sS.z.object({type:sS.z.literal("content_block_stop"),index:sS.z.number()}),sS.z.object({type:sS.z.literal("error"),error:sS.z.object({type:sS.z.string(),message:sS.z.string()})}),sS.z.object({type:sS.z.literal("message_delta"),delta:sS.z.object({stop_reason:sS.z.string().nullish(),stop_sequence:sS.z.string().nullish(),container:sS.z.object({expires_at:sS.z.string(),id:sS.z.string(),skills:sS.z.array(sS.z.object({type:sS.z.union([sS.z.literal("anthropic"),sS.z.literal("custom")]),skill_id:sS.z.string(),version:sS.z.string()})).nullish()}).nullish()}),usage:sS.z.looseObject({output_tokens:sS.z.number(),cache_creation_input_tokens:sS.z.number().nullish()})}),sS.z.object({type:sS.z.literal("message_stop")}),sS.z.object({type:sS.z.literal("ping")})]))),sq=iQ(()=>iY(sS.z.object({signature:sS.z.string().optional(),redactedData:sS.z.string().optional()}))),sV=sk.z.object({citations:sk.z.object({enabled:sk.z.boolean()}).optional(),title:sk.z.string().optional(),context:sk.z.string().optional()}),sB=sk.z.object({sendReasoning:sk.z.boolean().optional(),thinking:sk.z.object({type:sk.z.union([sk.z.literal("enabled"),sk.z.literal("disabled")]),budgetTokens:sk.z.number().optional()}).optional(),disableParallelToolUse:sk.z.boolean().optional(),cacheControl:sk.z.object({type:sk.z.literal("ephemeral"),ttl:sk.z.union([sk.z.literal("5m"),sk.z.literal("1h")]).optional()}).optional(),container:sk.z.object({id:sk.z.string().optional(),skills:sk.z.array(sk.z.object({type:sk.z.union([sk.z.literal("anthropic"),sk.z.literal("custom")]),skillId:sk.z.string(),version:sk.z.string().optional()})).optional()}).optional()}),sZ=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){var r;let n,a=null!=(r=null==(n=null==e?void 0:e.anthropic)?void 0:n.cacheControl)?r:null==n?void 0:n.cache_control;if(a)return t.canCache?(this.breakpointCount++,this.breakpointCount>4)?void this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum 4 cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`}):a:void this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${t.type}. It will be ignored.`})}getWarnings(){return this.warnings}},sH=iQ(()=>iY(sE.z.object({maxCharacters:sE.z.number().optional()}))),sG=iy({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:iQ(()=>iY(sE.z.object({command:sE.z.enum(["view","create","str_replace","insert"]),path:sE.z.string(),file_text:sE.z.string().optional(),insert_line:sE.z.number().int().optional(),new_str:sE.z.string().optional(),old_str:sE.z.string().optional(),view_range:sE.z.array(sE.z.number().int()).optional()})))}),sW=iQ(()=>iY(sT.z.object({maxUses:sT.z.number().optional(),allowedDomains:sT.z.array(sT.z.string()).optional(),blockedDomains:sT.z.array(sT.z.string()).optional(),userLocation:sT.z.object({type:sT.z.literal("approximate"),city:sT.z.string().optional(),region:sT.z.string().optional(),country:sT.z.string().optional(),timezone:sT.z.string().optional()}).optional()}))),sJ=iQ(()=>iY(sT.z.array(sT.z.object({url:sT.z.string(),title:sT.z.string(),pageAge:sT.z.string().nullable(),encryptedContent:sT.z.string(),type:sT.z.literal("web_search_result")})))),sK=iv({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:iQ(()=>iY(sT.z.object({query:sT.z.string()}))),outputSchema:sJ}),sY=iQ(()=>iY(sO.z.object({maxUses:sO.z.number().optional(),allowedDomains:sO.z.array(sO.z.string()).optional(),blockedDomains:sO.z.array(sO.z.string()).optional(),citations:sO.z.object({enabled:sO.z.boolean()}).optional(),maxContentTokens:sO.z.number().optional()}))),sX=iQ(()=>iY(sO.z.object({type:sO.z.literal("web_fetch_result"),url:sO.z.string(),content:sO.z.object({type:sO.z.literal("document"),title:sO.z.string(),citations:sO.z.object({enabled:sO.z.boolean()}).optional(),source:sO.z.union([sO.z.object({type:sO.z.literal("base64"),mediaType:sO.z.literal("application/pdf"),data:sO.z.string()}),sO.z.object({type:sO.z.literal("text"),mediaType:sO.z.literal("text/plain"),data:sO.z.string()})])}),retrievedAt:sO.z.string().nullable()}))),sQ=iv({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:iQ(()=>iY(sO.z.object({url:sO.z.string()}))),outputSchema:sX}),s1=iQ(()=>iY(sP.z.object({type:sP.z.literal("code_execution_result"),stdout:sP.z.string(),stderr:sP.z.string(),return_code:sP.z.number()}))),s0=iv({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:iQ(()=>iY(sP.z.object({code:sP.z.string()}))),outputSchema:s1}),s2=iQ(()=>iY(sC.z.discriminatedUnion("type",[sC.z.object({type:sC.z.literal("bash_code_execution_result"),content:sC.z.array(sC.z.object({type:sC.z.literal("bash_code_execution_output"),file_id:sC.z.string()})),stdout:sC.z.string(),stderr:sC.z.string(),return_code:sC.z.number()}),sC.z.object({type:sC.z.literal("bash_code_execution_tool_result_error"),error_code:sC.z.string()}),sC.z.object({type:sC.z.literal("text_editor_code_execution_tool_result_error"),error_code:sC.z.string()}),sC.z.object({type:sC.z.literal("text_editor_code_execution_view_result"),content:sC.z.string(),file_type:sC.z.string(),num_lines:sC.z.number().nullable(),start_line:sC.z.number().nullable(),total_lines:sC.z.number().nullable()}),sC.z.object({type:sC.z.literal("text_editor_code_execution_create_result"),is_file_update:sC.z.boolean()}),sC.z.object({type:sC.z.literal("text_editor_code_execution_str_replace_result"),lines:sC.z.array(sC.z.string()).nullable(),new_lines:sC.z.number().nullable(),new_start:sC.z.number().nullable(),old_lines:sC.z.number().nullable(),old_start:sC.z.number().nullable()})]))),s4=iv({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:iQ(()=>iY(sC.z.discriminatedUnion("type",[sC.z.object({type:sC.z.literal("bash_code_execution"),command:sC.z.string()}),sC.z.discriminatedUnion("command",[sC.z.object({type:sC.z.literal("text_editor_code_execution"),command:sC.z.literal("view"),path:sC.z.string()}),sC.z.object({type:sC.z.literal("text_editor_code_execution"),command:sC.z.literal("create"),path:sC.z.string(),file_text:sC.z.string().nullish()}),sC.z.object({type:sC.z.literal("text_editor_code_execution"),command:sC.z.literal("str_replace"),path:sC.z.string(),old_str:sC.z.string(),new_str:sC.z.string()})])]))),outputSchema:s2});function s6({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function s3(e,t,r){var n;if("page_location"!==e.type&&"char_location"!==e.type)return;let a=t[e.document_index];if(a)return{type:"source",sourceType:"document",id:r(),mediaType:a.mediaType,title:null!=(n=e.document_title)?n:a.title,filename:a.filename,providerMetadata:{anthropic:"page_location"===e.type?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}var s9=class{constructor(e,t){var r;this.specificationVersion="v2",this.modelId=e,this.config=t,this.generateId=null!=(r=t.generateId)?r:a9}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,tools:d,toolChoice:c,providerOptions:p}){var m,h,f,g,y;let v=[];null!=i&&v.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=o&&v.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=u&&v.push({type:"unsupported-setting",setting:"seed"}),(null==l?void 0:l.type)==="json"&&(null==l.schema?v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):null!=d&&v.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let b=(null==l?void 0:l.type)==="json"&&null!=l.schema?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:l.schema}:void 0,_=yield ip({provider:"anthropic",providerOptions:p,schema:sB}),w=new sZ,{prompt:S,betas:k}=yield function(e){return eQ(this,arguments,function*({prompt:e,sendReasoning:t,warnings:r,cacheControlValidator:n}){var a,i,o,s,l;let u,d=new Set,c=function(e){let t,r=[];for(let n of e){let{role:e}=n;switch(e){case"system":(null==t?void 0:t.type)!=="system"&&(t={type:"system",messages:[]},r.push(t)),t.messages.push(n);break;case"assistant":(null==t?void 0:t.type)!=="assistant"&&(t={type:"assistant",messages:[]},r.push(t)),t.messages.push(n);break;case"user":case"tool":(null==t?void 0:t.type)!=="user"&&(t={type:"user",messages:[]},r.push(t)),t.messages.push(n);break;default:throw Error(`Unsupported role: ${e}`)}}return r}(e),p=n||new sZ,m=[];function h(e){return eQ(this,null,function*(){var t,r;let n=yield ip({provider:"anthropic",providerOptions:e,schema:sV});return null!=(r=null==(t=null==n?void 0:n.citations)?void 0:t.enabled)&&r})}function f(e){return eQ(this,null,function*(){let t=yield ip({provider:"anthropic",providerOptions:e,schema:sV});return{title:null==t?void 0:t.title,context:null==t?void 0:t.context}})}for(let e=0;e<c.length;e++){let n=c[e],g=e===c.length-1,y=n.type;switch(y){case"system":if(null!=u)throw new sI.UnsupportedFunctionalityError({functionality:"Multiple system messages that are separated by user/assistant messages"});u=n.messages.map(({content:e,providerOptions:t})=>({type:"text",text:e,cache_control:p.getCacheControl(t,{type:"system message",canCache:!0})}));break;case"user":{let e=[];for(let t of n.messages){let{role:r,content:n}=t;switch(r){case"user":for(let r=0;r<n.length;r++){let s=n[r],l=r===n.length-1,u=null!=(a=p.getCacheControl(s.providerOptions,{type:"user message part",canCache:!0}))?a:l?p.getCacheControl(t.providerOptions,{type:"user message",canCache:!0}):void 0;switch(s.type){case"text":e.push({type:"text",text:s.text,cache_control:u});break;case"file":if(s.mediaType.startsWith("image/"))e.push({type:"image",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"image/*"===s.mediaType?"image/jpeg":s.mediaType,data:i3(s.data)},cache_control:u});else if("application/pdf"===s.mediaType){d.add("pdfs-2024-09-25");let t=yield h(s.providerOptions),r=yield f(s.providerOptions);e.push(eH(eZ(eZ({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"base64",media_type:"application/pdf",data:i3(s.data)},title:null!=(i=r.title)?i:s.filename},r.context&&{context:r.context}),t&&{citations:{enabled:!0}}),{cache_control:u}))}else if("text/plain"===s.mediaType){let t=yield h(s.providerOptions),r=yield f(s.providerOptions);e.push(eH(eZ(eZ({type:"document",source:s.data instanceof URL?{type:"url",url:s.data.toString()}:{type:"text",media_type:"text/plain",data:function(e){if("string"==typeof e)return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);if(e instanceof URL)throw new sI.UnsupportedFunctionalityError({functionality:"URL-based text documents are not supported for citations"});throw new sI.UnsupportedFunctionalityError({functionality:`unsupported data type for text documents: ${typeof e}`})}(s.data)},title:null!=(o=r.title)?o:s.filename},r.context&&{context:r.context}),t&&{citations:{enabled:!0}}),{cache_control:u}))}else throw new sI.UnsupportedFunctionalityError({functionality:`media type: ${s.mediaType}`})}}break;case"tool":for(let r=0;r<n.length;r++){let a,i=n[r],o=r===n.length-1,l=null!=(s=p.getCacheControl(i.providerOptions,{type:"tool result part",canCache:!0}))?s:o?p.getCacheControl(t.providerOptions,{type:"tool result message",canCache:!0}):void 0,u=i.output;switch(u.type){case"content":a=u.value.map(e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"media":if(e.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:e.mediaType,data:e.data}};if("application/pdf"===e.mediaType)return d.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:e.mediaType,data:e.data}};throw new sI.UnsupportedFunctionalityError({functionality:`media type: ${e.mediaType}`})}});break;case"text":case"error-text":a=u.value;break;default:a=JSON.stringify(u.value)}e.push({type:"tool_result",tool_use_id:i.toolCallId,content:a,is_error:"error-text"===u.type||"error-json"===u.type||void 0,cache_control:l})}break;default:throw Error(`Unsupported role: ${r}`)}}m.push({role:"user",content:e});break}case"assistant":{let e=[];for(let a=0;a<n.messages.length;a++){let i=n.messages[a],o=a===n.messages.length-1,{content:s}=i;for(let n=0;n<s.length;n++){let a=s[n],u=n===s.length-1,d=null!=(l=p.getCacheControl(a.providerOptions,{type:"assistant message part",canCache:!0}))?l:u?p.getCacheControl(i.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(a.type){case"text":e.push({type:"text",text:g&&o&&u?a.text.trim():a.text,cache_control:d});break;case"reasoning":if(t){let t=yield ip({provider:"anthropic",providerOptions:a.providerOptions,schema:sq});null!=t?null!=t.signature?(p.getCacheControl(a.providerOptions,{type:"thinking block",canCache:!1}),e.push({type:"thinking",thinking:a.text,signature:t.signature})):null!=t.redactedData?(p.getCacheControl(a.providerOptions,{type:"redacted thinking block",canCache:!1}),e.push({type:"redacted_thinking",data:t.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":if(a.providerExecuted){"code_execution"===a.toolName&&null!=a.input&&"object"==typeof a.input&&"type"in a.input&&"string"==typeof a.input.type&&("bash_code_execution"===a.input.type||"text_editor_code_execution"===a.input.type)?e.push({type:"server_tool_use",id:a.toolCallId,name:a.input.type,input:a.input,cache_control:d}):"code_execution"===a.toolName||"web_fetch"===a.toolName||"web_search"===a.toolName?e.push({type:"server_tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:d}):r.push({type:"other",message:`provider executed tool call for tool ${a.toolName} is not supported`});break}e.push({type:"tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:d});break;case"tool-result":if("code_execution"===a.toolName){let t=a.output;if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}if(null==t.value||"object"!=typeof t.value||!("type"in t.value)||"string"!=typeof t.value.type){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${a.toolName}`});break}if("code_execution_result"===t.value.type){let r=yield il({value:t.value,schema:s1});e.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:r.type,stdout:r.stdout,stderr:r.stderr,return_code:r.return_code},cache_control:d})}else{let r=yield il({value:t.value,schema:s2});e.push("bash_code_execution_result"===r.type||"bash_code_execution_tool_result_error"===r.type?{type:"bash_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:d,content:r}:{type:"text_editor_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:d,content:r})}break}if("web_fetch"===a.toolName){let t=a.output;if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}let n=yield il({value:t.value,schema:sX});e.push({type:"web_fetch_tool_result",tool_use_id:a.toolCallId,content:{type:"web_fetch_result",url:n.url,retrieved_at:n.retrievedAt,content:{type:"document",title:n.content.title,citations:n.content.citations,source:{type:n.content.source.type,media_type:n.content.source.mediaType,data:n.content.source.data}}},cache_control:d});break}if("web_search"===a.toolName){let t=a.output;if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}let n=yield il({value:t.value,schema:sJ});e.push({type:"web_search_tool_result",tool_use_id:a.toolCallId,content:n.map(e=>({url:e.url,title:e.title,page_age:e.pageAge,encrypted_content:e.encryptedContent,type:e.type})),cache_control:d});break}r.push({type:"other",message:`provider executed tool result for tool ${a.toolName} is not supported`})}}}m.push({role:"assistant",content:e});break}default:throw Error(`content type: ${y}`)}}return{prompt:{system:u,messages:m},betas:d}})}({prompt:e,sendReasoning:null==(m=null==_?void 0:_.sendReasoning)||m,warnings:v,cacheControlValidator:w}),x=(null==(h=null==_?void 0:_.thinking)?void 0:h.type)==="enabled",E=null==(f=null==_?void 0:_.thinking)?void 0:f.budgetTokens,T=(y=this.modelId).includes("claude-sonnet-4-")||y.includes("claude-3-7-sonnet")||y.includes("claude-haiku-4-5")?64e3:y.includes("claude-opus-4-")?32e3:y.includes("claude-3-5-haiku")?8192:4096,O=null!=t?t:T,I=eH(eZ(eZ({model:this.modelId,max_tokens:O,temperature:r,top_k:a,top_p:n,stop_sequences:s},x&&{thinking:{type:"enabled",budget_tokens:E}}),(null==_?void 0:_.container)&&{container:{id:_.container.id,skills:null==(g=_.container.skills)?void 0:g.map(e=>({type:e.type,skill_id:e.skillId,version:e.version}))}}),{system:S.system,messages:S.messages});if(x){if(null==E)throw new s_.UnsupportedFunctionalityError({functionality:"thinking requires a budget"});null!=I.temperature&&(I.temperature=void 0,v.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=a&&(I.top_k=void 0,v.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=n&&(I.top_p=void 0,v.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),I.max_tokens=O+E}I.max_tokens>T&&(null!=t&&v.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${I.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${T} max output tokens. The max output tokens have been limited to ${T}.`}),I.max_tokens=T),(null==_?void 0:_.container)&&_.container.skills&&_.container.skills.length>0&&(k.add("code-execution-2025-08-25"),k.add("skills-2025-10-02"),k.add("files-api-2025-04-14"),(null==d?void 0:d.some(e=>"provider-defined"===e.type&&"anthropic.code_execution_20250825"===e.id))||v.push({type:"other",message:"code execution tool is required when using skills"}));let{tools:P,toolChoice:C,toolWarnings:A,betas:j}=yield function(e){return eQ(this,arguments,function*({tools:e,toolChoice:t,disableParallelToolUse:r,cacheControlValidator:n}){e=(null==e?void 0:e.length)?e:void 0;let a=[],i=new Set,o=n||new sZ;if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:a,betas:i};let s=[];for(let t of e)switch(t.type){case"function":{let e=o.getCacheControl(t.providerOptions,{type:"tool definition",canCache:!0});s.push({name:t.name,description:t.description,input_schema:t.inputSchema,cache_control:e});break}case"provider-defined":switch(t.id){case"anthropic.code_execution_20250522":i.add("code-execution-2025-05-22"),s.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break;case"anthropic.code_execution_20250825":i.add("code-execution-2025-08-25"),s.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":i.add("computer-use-2025-01-24"),s.push({name:"computer",type:"computer_20250124",display_width_px:t.args.displayWidthPx,display_height_px:t.args.displayHeightPx,display_number:t.args.displayNumber,cache_control:void 0});break;case"anthropic.computer_20241022":i.add("computer-use-2024-10-22"),s.push({name:"computer",type:"computer_20241022",display_width_px:t.args.displayWidthPx,display_height_px:t.args.displayHeightPx,display_number:t.args.displayNumber,cache_control:void 0});break;case"anthropic.text_editor_20250124":i.add("computer-use-2025-01-24"),s.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break;case"anthropic.text_editor_20241022":i.add("computer-use-2024-10-22"),s.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break;case"anthropic.text_editor_20250429":i.add("computer-use-2025-01-24"),s.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break;case"anthropic.text_editor_20250728":{let e=yield il({value:t.args,schema:sH});s.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:e.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":i.add("computer-use-2025-01-24"),s.push({name:"bash",type:"bash_20250124",cache_control:void 0});break;case"anthropic.bash_20241022":i.add("computer-use-2024-10-22"),s.push({name:"bash",type:"bash_20241022",cache_control:void 0});break;case"anthropic.memory_20250818":i.add("context-management-2025-06-27"),s.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{i.add("web-fetch-2025-09-10");let e=yield il({value:t.args,schema:sY});s.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,citations:e.citations,max_content_tokens:e.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let e=yield il({value:t.args,schema:sW});s.push({type:"web_search_20250305",name:"web_search",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,user_location:e.userLocation,cache_control:void 0});break}default:a.push({type:"unsupported-tool",tool:t})}break;default:a.push({type:"unsupported-tool",tool:t})}if(null==t)return{tools:s,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:a,betas:i};let l=t.type;switch(l){case"auto":return{tools:s,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:a,betas:i};case"required":return{tools:s,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:a,betas:i};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:a,betas:i};case"tool":return{tools:s,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:r},toolWarnings:a,betas:i};default:throw new sx.UnsupportedFunctionalityError({functionality:`tool choice type: ${l}`})}})}(null!=b?{tools:[b],toolChoice:{type:"tool",toolName:b.name},disableParallelToolUse:!0,cacheControlValidator:w}:{tools:null!=d?d:[],toolChoice:c,disableParallelToolUse:null==_?void 0:_.disableParallelToolUse,cacheControlValidator:w}),z=w.getWarnings();return{args:eH(eZ({},I),{tools:P,tool_choice:C}),warnings:[...v,...A,...z],betas:new Set([...k,...j]),usesJsonResponseTool:null!=b}})}getHeaders(e){return eQ(this,arguments,function*({betas:e,headers:t}){return a6((yield ib(this.config.headers)),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)})}buildRequestUrl(e){var t,r,n;return null!=(n=null==(r=(t=this.config).buildRequestUrl)?void 0:r.call(t,this.config.baseURL,e))?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return null!=(n=null==(r=(t=this.config).transformRequestBody)?void 0:r.call(t,e))?n:e}extractCitationDocuments(e){return e.filter(e=>"user"===e.role).flatMap(e=>e.content).filter(e=>{var t,r;if("file"!==e.type||"application/pdf"!==e.mediaType&&"text/plain"!==e.mediaType)return!1;let n=null==(t=e.providerOptions)?void 0:t.anthropic,a=null==n?void 0:n.citations;return null!=(r=null==a?void 0:a.enabled)&&r}).map(e=>{var t;return{title:null!=(t=e.filename)?t:"Untitled Document",filename:e.filename,mediaType:e.mediaType}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l;let{args:u,warnings:d,betas:c,usesJsonResponseTool:p}=yield this.getArgs(e),m=this.extractCitationDocuments(e.prompt),{responseHeaders:h,value:f,rawValue:g}=yield im({url:this.buildRequestUrl(!1),headers:yield this.getHeaders({betas:c,headers:e.headers}),body:this.transformRequestBody(u),failedResponseHandler:sF,successfulResponseHandler:ik(sU),abortSignal:e.abortSignal,fetch:this.config.fetch}),y=[];for(let e of f.content)switch(e.type){case"text":if(!p&&(y.push({type:"text",text:e.text}),e.citations))for(let t of e.citations){let e=s3(t,m,this.generateId);e&&y.push(e)}break;case"thinking":y.push({type:"reasoning",text:e.thinking,providerMetadata:{anthropic:{signature:e.signature}}});break;case"redacted_thinking":y.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:e.data}}});break;case"tool_use":y.push(p?{type:"text",text:JSON.stringify(e.input)}:{type:"tool-call",toolCallId:e.id,toolName:e.name,input:JSON.stringify(e.input)});break;case"server_tool_use":"text_editor_code_execution"===e.name||"bash_code_execution"===e.name?y.push({type:"tool-call",toolCallId:e.id,toolName:"code_execution",input:JSON.stringify(eZ({type:e.name},e.input)),providerExecuted:!0}):("web_search"===e.name||"code_execution"===e.name||"web_fetch"===e.name)&&y.push({type:"tool-call",toolCallId:e.id,toolName:e.name,input:JSON.stringify(e.input),providerExecuted:!0});break;case"web_fetch_tool_result":"web_fetch_result"===e.content.type?y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}},providerExecuted:!0}):"web_fetch_tool_result_error"===e.content.type&&y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});break;case"web_search_tool_result":if(Array.isArray(e.content))for(let r of(y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",result:e.content.map(e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}}),providerExecuted:!0}),e.content))y.push({type:"source",sourceType:"url",id:this.generateId(),url:r.url,title:r.title,providerMetadata:{anthropic:{pageAge:null!=(t=r.page_age)?t:null}}});else y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});break;case"code_execution_tool_result":"code_execution_result"===e.content.type?y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===e.content.type&&y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":y.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:e.content,providerExecuted:!0})}return{content:y,finishReason:s6({finishReason:f.stop_reason,isJsonResponseFromTool:p}),usage:{inputTokens:f.usage.input_tokens,outputTokens:f.usage.output_tokens,totalTokens:f.usage.input_tokens+f.usage.output_tokens,cachedInputTokens:null!=(r=f.usage.cache_read_input_tokens)?r:void 0},request:{body:u},response:{id:null!=(n=f.id)?n:void 0,modelId:null!=(a=f.model)?a:void 0,headers:h,body:g},warnings:d,providerMetadata:{anthropic:{usage:f.usage,cacheCreationInputTokens:null!=(i=f.usage.cache_creation_input_tokens)?i:null,stopSequence:null!=(o=f.stop_sequence)?o:null,container:f.container?{expiresAt:f.container.expires_at,id:f.container.id,skills:null!=(l=null==(s=f.container.skills)?void 0:s.map(e=>({type:e.type,skillId:e.skill_id,version:e.version})))?l:null}:null}}}})}doStream(e){return eQ(this,null,function*(){let t,r,{args:n,warnings:a,betas:i,usesJsonResponseTool:o}=yield this.getArgs(e),s=this.extractCitationDocuments(e.prompt),l=eH(eZ({},n),{stream:!0}),{responseHeaders:u,value:d}=yield im({url:this.buildRequestUrl(!0),headers:yield this.getHeaders({betas:i,headers:e.headers}),body:this.transformRequestBody(l),failedResponseHandler:sF,successfulResponseHandler:iw(sL),abortSignal:e.abortSignal,fetch:this.config.fetch}),c="unknown",p={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},m={},h=null,f=null,g=null,y=this.generateId;return{stream:d.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:a})},transform(n,a){var i,l,u,d,v,b,_,w,S,k;if(e.includeRawChunks&&a.enqueue({type:"raw",rawValue:n.rawValue}),!n.success)return void a.enqueue({type:"error",error:n.error});let x=n.value;switch(x.type){case"ping":return;case"content_block_start":{let e=x.content_block.type;switch(r=e,e){case"text":m[x.index]={type:"text"},a.enqueue({type:"text-start",id:String(x.index)});return;case"thinking":m[x.index]={type:"reasoning"},a.enqueue({type:"reasoning-start",id:String(x.index)});return;case"redacted_thinking":m[x.index]={type:"reasoning"},a.enqueue({type:"reasoning-start",id:String(x.index),providerMetadata:{anthropic:{redactedData:x.content_block.data}}});return;case"tool_use":m[x.index]=o?{type:"text"}:{type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",firstDelta:!0},a.enqueue(o?{type:"text-start",id:String(x.index)}:{type:"tool-input-start",id:x.content_block.id,toolName:x.content_block.name});return;case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(x.content_block.name)){m[x.index]={type:"tool-call",toolCallId:x.content_block.id,toolName:x.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let e="text_editor_code_execution"===x.content_block.name||"bash_code_execution"===x.content_block.name?"code_execution":x.content_block.name;a.enqueue({type:"tool-input-start",id:x.content_block.id,toolName:e,providerExecuted:!0})}return;case"web_fetch_tool_result":{let e=x.content_block;"web_fetch_result"===e.content.type?a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}}}):"web_fetch_tool_result_error"===e.content.type&&a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let e=x.content_block;if(Array.isArray(e.content))for(let t of(a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",result:e.content.map(e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}}),providerExecuted:!0}),e.content))a.enqueue({type:"source",sourceType:"url",id:y(),url:t.url,title:t.title,providerMetadata:{anthropic:{pageAge:null!=(i=t.page_age)?i:null}}});else a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let e=x.content_block;"code_execution_result"===e.content.type?a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===e.content.type&&a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let e=x.content_block;a.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:"code_execution",result:e.content,providerExecuted:!0});return}default:throw Error(`Unsupported content block type: ${e}`)}}case"content_block_stop":if(null!=m[x.index]){let e=m[x.index];switch(e.type){case"text":a.enqueue({type:"text-end",id:String(x.index)});break;case"reasoning":a.enqueue({type:"reasoning-end",id:String(x.index)});break;case"tool-call":if(!o){a.enqueue({type:"tool-input-end",id:e.toolCallId});let t="text_editor_code_execution"===e.toolName||"bash_code_execution"===e.toolName?"code_execution":e.toolName;a.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:t,input:e.input,providerExecuted:e.providerExecuted})}}delete m[x.index]}r=void 0;return;case"content_block_delta":{let e=x.delta.type;switch(e){case"text_delta":if(o)return;a.enqueue({type:"text-delta",id:String(x.index),delta:x.delta.text});return;case"thinking_delta":return void a.enqueue({type:"reasoning-delta",id:String(x.index),delta:x.delta.thinking});case"signature_delta":"thinking"===r&&a.enqueue({type:"reasoning-delta",id:String(x.index),delta:"",providerMetadata:{anthropic:{signature:x.delta.signature}}});return;case"input_json_delta":{let e=m[x.index],t=x.delta.partial_json;if(0===t.length)return;if(o){if((null==e?void 0:e.type)!=="text")return;a.enqueue({type:"text-delta",id:String(x.index),delta:t})}else{if((null==e?void 0:e.type)!=="tool-call")return;e.firstDelta&&("bash_code_execution"===e.toolName||"text_editor_code_execution"===e.toolName)&&(t=`{"type": "${e.toolName}",${t.substring(1)}`),a.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:t}),e.input+=t,e.firstDelta=!1}return}case"citations_delta":{let e=s3(x.delta.citation,s,y);e&&a.enqueue(e);return}default:throw Error(`Unsupported delta type: ${e}`)}}case"message_start":p.inputTokens=x.message.usage.input_tokens,p.cachedInputTokens=null!=(l=x.message.usage.cache_read_input_tokens)?l:void 0,t=eZ({},x.message.usage),h=null!=(u=x.message.usage.cache_creation_input_tokens)?u:null,a.enqueue({type:"response-metadata",id:null!=(d=x.message.id)?d:void 0,modelId:null!=(v=x.message.model)?v:void 0});return;case"message_delta":p.outputTokens=x.usage.output_tokens,p.totalTokens=(null!=(b=p.inputTokens)?b:0)+(null!=(_=x.usage.output_tokens)?_:0),c=s6({finishReason:x.delta.stop_reason,isJsonResponseFromTool:o}),f=null!=(w=x.delta.stop_sequence)?w:null,g=null!=x.delta.container?{expiresAt:x.delta.container.expires_at,id:x.delta.container.id,skills:null!=(k=null==(S=x.delta.container.skills)?void 0:S.map(e=>({type:e.type,skillId:e.skill_id,version:e.version})))?k:null}:null,t=eZ(eZ({},t),x.usage);return;case"message_stop":return void a.enqueue({type:"finish",finishReason:c,usage:p,providerMetadata:{anthropic:{usage:null!=t?t:null,cacheCreationInputTokens:h,stopSequence:f,container:g}}});case"error":return void a.enqueue({type:"error",error:x.error});default:throw Error(`Unsupported chunk type: ${x}`)}}})),request:{body:l},response:{headers:u}}})}},s5=iy({id:"anthropic.bash_20241022",name:"bash",inputSchema:iQ(()=>iY(sA.z.object({command:sA.z.string(),restart:sA.z.boolean().optional()})))}),s8=iy({id:"anthropic.bash_20250124",name:"bash",inputSchema:iQ(()=>iY(sj.z.object({command:sj.z.string(),restart:sj.z.boolean().optional()})))}),s7=iy({id:"anthropic.computer_20241022",name:"computer",inputSchema:iQ(()=>iY(sz.z.object({action:sz.z.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:sz.z.array(sz.z.number().int()).optional(),text:sz.z.string().optional()})))}),le=iy({id:"anthropic.computer_20250124",name:"computer",inputSchema:iQ(()=>iY(sR.z.object({action:sR.z.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:sR.z.tuple([sR.z.number().int(),sR.z.number().int()]).optional(),duration:sR.z.number().optional(),scroll_amount:sR.z.number().optional(),scroll_direction:sR.z.enum(["up","down","left","right"]).optional(),start_coordinate:sR.z.tuple([sR.z.number().int(),sR.z.number().int()]).optional(),text:sR.z.string().optional()})))}),lt=iy({id:"anthropic.memory_20250818",name:"memory",inputSchema:iQ(()=>iY(sN.z.discriminatedUnion("command",[sN.z.object({command:sN.z.literal("view"),path:sN.z.string(),view_range:sN.z.tuple([sN.z.number(),sN.z.number()]).optional()}),sN.z.object({command:sN.z.literal("create"),path:sN.z.string(),file_text:sN.z.string()}),sN.z.object({command:sN.z.literal("str_replace"),path:sN.z.string(),old_str:sN.z.string(),new_str:sN.z.string()}),sN.z.object({command:sN.z.literal("insert"),path:sN.z.string(),insert_line:sN.z.number(),insert_text:sN.z.string()}),sN.z.object({command:sN.z.literal("delete"),path:sN.z.string()}),sN.z.object({command:sN.z.literal("rename"),old_path:sN.z.string(),new_path:sN.z.string()})])))}),lr={bash_20241022:s5,bash_20250124:s8,codeExecution_20250522:(e={})=>s0(e),codeExecution_20250825:(e={})=>s4(e),computer_20241022:s7,computer_20250124:le,memory_20250818:lt,textEditor_20241022:iy({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:iQ(()=>iY(s$.z.object({command:s$.z.enum(["view","create","str_replace","insert","undo_edit"]),path:s$.z.string(),file_text:s$.z.string().optional(),insert_line:s$.z.number().int().optional(),new_str:s$.z.string().optional(),old_str:s$.z.string().optional(),view_range:s$.z.array(s$.z.number().int()).optional()})))}),textEditor_20250124:iy({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:iQ(()=>iY(sM.z.object({command:sM.z.enum(["view","create","str_replace","insert","undo_edit"]),path:sM.z.string(),file_text:sM.z.string().optional(),insert_line:sM.z.number().int().optional(),new_str:sM.z.string().optional(),old_str:sM.z.string().optional(),view_range:sM.z.array(sM.z.number().int()).optional()})))}),textEditor_20250429:iy({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:iQ(()=>iY(sD.z.object({command:sD.z.enum(["view","create","str_replace","insert"]),path:sD.z.string(),file_text:sD.z.string().optional(),insert_line:sD.z.number().int().optional(),new_str:sD.z.string().optional(),old_str:sD.z.string().optional(),view_range:sD.z.array(sD.z.number().int()).optional()})))}),textEditor_20250728:(e={})=>sG(e),webFetch_20250910:(e={})=>sQ(e),webSearch_20250305:(e={})=>sK(e)};function ln(e={}){var t;let r=null!=(t=i9(e.baseURL))?t:"https://api.anthropic.com/v1",n=()=>a7(eZ({"anthropic-version":"2023-06-01","x-api-key":ie({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"})},e.headers),"ai-sdk/anthropic/2.0.34"),a=t=>{var a;return new s9(t,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch,generateId:null!=(a=e.generateId)?a:a9,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},i=function(e){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return a(e)};return i.languageModel=a,i.chat=a,i.messages=a,i.textEmbeddingModel=e=>{throw new sb.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},i.imageModel=e=>{throw new sb.NoSuchModelError({modelId:e,modelType:"imageModel"})},i.tools=lr,i}var la=ln(),li=e.r(76261),lo=e.r(72358),ls=e.r(72358),ll=e.r(72358),lu=e.r(72358),ld=e.r(76261),lc=e.r(72358),lp=e.r(76261),lm=e.r(72358),lh=e.r(72358),lf=e.r(72358),lg=e.r(72358),ly=i_({errorSchema:iQ(()=>iY(ls.z.object({error:ls.z.object({code:ls.z.number().nullable(),message:ls.z.string(),status:ls.z.string()})}))),errorToMessage:e=>e.error.message}),lv=iQ(()=>iY(ll.z.object({outputDimensionality:ll.z.number().optional(),taskType:ll.z.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),lb=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}doEmbed(e){return eQ(this,arguments,function*({values:e,headers:t,abortSignal:r,providerOptions:n}){let a=yield ip({provider:"google",providerOptions:n,schema:lv});if(e.length>this.maxEmbeddingsPerCall)throw new li.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=a6((yield ib(this.config.headers)),t);if(1===e.length){let{responseHeaders:t,value:n,rawValue:o}=yield im({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:i,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:null==a?void 0:a.outputDimensionality,taskType:null==a?void 0:a.taskType},failedResponseHandler:ly,successfulResponseHandler:ik(lw),abortSignal:r,fetch:this.config.fetch});return{embeddings:[n.embedding.values],usage:void 0,response:{headers:t,body:o}}}let{responseHeaders:o,value:s,rawValue:l}=yield im({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:i,body:{requests:e.map(e=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:e}]},outputDimensionality:null==a?void 0:a.outputDimensionality,taskType:null==a?void 0:a.taskType}))},failedResponseHandler:ly,successfulResponseHandler:ik(l_),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.embeddings.map(e=>e.values),usage:void 0,response:{headers:o,body:l}}})}},l_=iQ(()=>iY(lo.z.object({embeddings:lo.z.array(lo.z.object({values:lo.z.array(lo.z.number())}))}))),lw=iQ(()=>iY(lo.z.object({embedding:lo.z.object({values:lo.z.array(lo.z.number())})})));function lS(e){var t;if(null==e||null!=(t=e)&&"object"==typeof t&&"object"===t.type&&(null==t.properties||0===Object.keys(t.properties).length)&&!t.additionalProperties)return;if("boolean"==typeof e)return{type:"boolean",properties:{}};let{type:r,description:n,required:a,properties:i,items:o,allOf:s,anyOf:l,oneOf:u,format:d,const:c,minLength:p,enum:m}=e,h={};if(n&&(h.description=n),a&&(h.required=a),d&&(h.format=d),void 0!==c&&(h.enum=[c]),r&&(Array.isArray(r)?r.includes("null")?(h.type=r.filter(e=>"null"!==e)[0],h.nullable=!0):h.type=r:"null"===r?h.type="null":h.type=r),void 0!==m&&(h.enum=m),null!=i&&(h.properties=Object.entries(i).reduce((e,[t,r])=>(e[t]=lS(r),e),{})),o&&(h.items=Array.isArray(o)?o.map(lS):lS(o)),s&&(h.allOf=s.map(lS)),l)if(l.some(e=>"object"==typeof e&&(null==e?void 0:e.type)==="null")){let e=l.filter(e=>"object"!=typeof e||(null==e?void 0:e.type)!=="null");if(1===e.length){let t=lS(e[0]);"object"==typeof t&&(h.nullable=!0,Object.assign(h,t))}else h.anyOf=e.map(lS),h.nullable=!0}else h.anyOf=l.map(lS);return u&&(h.oneOf=u.map(lS)),void 0!==p&&(h.minLength=p),h}function lk(e){return e.includes("/")?e:`models/${e}`}var lx=iQ(()=>iY(lc.z.object({responseModalities:lc.z.array(lc.z.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:lc.z.object({thinkingBudget:lc.z.number().optional(),includeThoughts:lc.z.boolean().optional()}).optional(),cachedContent:lc.z.string().optional(),structuredOutputs:lc.z.boolean().optional(),safetySettings:lc.z.array(lc.z.object({category:lc.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:lc.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:lc.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:lc.z.boolean().optional(),labels:lc.z.record(lc.z.string(),lc.z.string()).optional(),mediaResolution:lc.z.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:lc.z.object({aspectRatio:lc.z.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional()}).optional()})));function lE({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}var lT=class{constructor(e,t){var r;this.specificationVersion="v2",this.modelId=e,this.config=t,this.generateId=null!=(r=t.generateId)?r:a9}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,tools:d,toolChoice:c,providerOptions:p}){var m,h;let f=[],g=yield ip({provider:"google",providerOptions:p,schema:lx});(null==(m=null==g?void 0:g.thinkingConfig)?void 0:m.includeThoughts)!==!0||this.config.provider.startsWith("google.vertex.")||f.push({type:"other",message:`The 'includeThoughts' option is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let y=this.modelId.toLowerCase().startsWith("gemma-"),{contents:v,systemInstruction:b}=function(e,t){var r;let n=[],a=[],i=!0,o=null!=(r=null==t?void 0:t.isGemmaModel)&&r;for(let{role:t,content:r}of e)switch(t){case"system":if(!i)throw new ld.UnsupportedFunctionalityError({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:r});break;case"user":{i=!1;let e=[];for(let t of r)switch(t.type){case"text":e.push({text:t.text});break;case"file":{let r="image/*"===t.mediaType?"image/jpeg":t.mediaType;e.push(t.data instanceof URL?{fileData:{mimeType:r,fileUri:t.data.toString()}}:{inlineData:{mimeType:r,data:i3(t.data)}})}}a.push({role:"user",parts:e});break}case"assistant":i=!1,a.push({role:"model",parts:r.map(e=>{var t,r,n,a,i,o;switch(e.type){case"text":return 0===e.text.length?void 0:{text:e.text,thoughtSignature:null==(r=null==(t=e.providerOptions)?void 0:t.google)?void 0:r.thoughtSignature};case"reasoning":return 0===e.text.length?void 0:{text:e.text,thought:!0,thoughtSignature:null==(a=null==(n=e.providerOptions)?void 0:n.google)?void 0:a.thoughtSignature};case"file":if("image/png"!==e.mediaType)throw new ld.UnsupportedFunctionalityError({functionality:"Only PNG images are supported in assistant messages"});if(e.data instanceof URL)throw new ld.UnsupportedFunctionalityError({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:e.mediaType,data:i3(e.data)}};case"tool-call":return{functionCall:{name:e.toolName,args:e.input},thoughtSignature:null==(o=null==(i=e.providerOptions)?void 0:i.google)?void 0:o.thoughtSignature}}}).filter(e=>void 0!==e)});break;case"tool":{i=!1;let e=[];for(let t of r){let r=t.output;if("content"===r.type)for(let n of r.value)switch(n.type){case"text":e.push({functionResponse:{name:t.toolName,response:{name:t.toolName,content:n.text}}});break;case"media":e.push({inlineData:{mimeType:n.mediaType,data:n.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:e.push({text:JSON.stringify(n)})}else e.push({functionResponse:{name:t.toolName,response:{name:t.toolName,content:r.value}}})}a.push({role:"user",parts:e})}}if(o&&n.length>0&&a.length>0&&"user"===a[0].role){let e=n.map(e=>e.text).join("\n\n");a[0].parts.unshift({text:e+"\n\n"})}return{systemInstruction:n.length>0&&!o?{parts:n}:void 0,contents:a}}(e,{isGemmaModel:y}),{tools:_,toolConfig:w,toolWarnings:S}=function({tools:e,toolChoice:t,modelId:r}){var n;e=(null==e?void 0:e.length)?e:void 0;let a=[],i=r.includes("gemini-2"),o=r.includes("gemini-1.5-flash")&&!r.includes("-8b");if(null==e)return{tools:void 0,toolConfig:void 0,toolWarnings:a};let s=e.some(e=>"function"===e.type),l=e.some(e=>"provider-defined"===e.type);if(s&&l&&a.push({type:"unsupported-tool",tool:e.find(e=>"function"===e.type),details:"Cannot mix function tools with provider-defined tools in the same request. Please use either function tools or provider-defined tools, but not both."}),l){let t=[];return e.filter(e=>"provider-defined"===e.type).forEach(e=>{switch(e.id){case"google.google_search":i?t.push({googleSearch:{}}):o?t.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:e.args.mode,dynamicThreshold:e.args.dynamicThreshold}}}):t.push({googleSearchRetrieval:{}});break;case"google.url_context":i?t.push({urlContext:{}}):a.push({type:"unsupported-tool",tool:e,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":i?t.push({codeExecution:{}}):a.push({type:"unsupported-tool",tool:e,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;default:a.push({type:"unsupported-tool",tool:e})}}),{tools:t.length>0?t:void 0,toolConfig:void 0,toolWarnings:a}}let u=[];for(let t of e)"function"===t.type?u.push({name:t.name,description:null!=(n=t.description)?n:"",parameters:lS(t.inputSchema)}):a.push({type:"unsupported-tool",tool:t});if(null==t)return{tools:{functionDeclarations:u},toolConfig:void 0,toolWarnings:a};let d=t.type;switch(d){case"auto":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:a};case"none":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:a};case"required":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:a};case"tool":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:a};default:throw new lp.UnsupportedFunctionalityError({functionality:`tool choice type: ${d}`})}}({tools:d,toolChoice:c,modelId:this.modelId});return{args:{generationConfig:eZ(eZ(eH(eZ({maxOutputTokens:t,temperature:r,topK:a,topP:n,frequencyPenalty:i,presencePenalty:o,stopSequences:s,seed:u,responseMimeType:(null==l?void 0:l.type)==="json"?"application/json":void 0,responseSchema:(null==l?void 0:l.type)==="json"&&null!=l.schema&&(null==(h=null==g?void 0:g.structuredOutputs)||h)?lS(l.schema):void 0},(null==g?void 0:g.audioTimestamp)&&{audioTimestamp:g.audioTimestamp}),{responseModalities:null==g?void 0:g.responseModalities,thinkingConfig:null==g?void 0:g.thinkingConfig}),(null==g?void 0:g.imageConfig)&&{imageConfig:g.imageConfig}),(null==g?void 0:g.mediaResolution)&&{mediaResolution:g.mediaResolution}),contents:v,systemInstruction:y?void 0:b,safetySettings:null==g?void 0:g.safetySettings,tools:_,toolConfig:w,cachedContent:null==g?void 0:g.cachedContent,labels:null==g?void 0:g.labels},warnings:[...f,...S]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m;let h,{args:f,warnings:g}=yield this.getArgs(e),y=JSON.stringify(f),v=a6((yield ib(this.config.headers)),e.headers),{responseHeaders:b,value:_,rawValue:w}=yield im({url:`${this.config.baseURL}/${lk(this.modelId)}:generateContent`,headers:v,body:f,failedResponseHandler:ly,successfulResponseHandler:ik(lz),abortSignal:e.abortSignal,fetch:this.config.fetch}),S=_.candidates[0],k=[],x=null!=(r=null==(t=S.content)?void 0:t.parts)?r:[],E=_.usageMetadata;for(let e of x)if("executableCode"in e&&(null==(n=e.executableCode)?void 0:n.code)){let t=this.config.generateId();h=t,k.push({type:"tool-call",toolCallId:t,toolName:"code_execution",input:JSON.stringify(e.executableCode),providerExecuted:!0})}else"codeExecutionResult"in e&&e.codeExecutionResult?(k.push({type:"tool-result",toolCallId:h,toolName:"code_execution",result:{outcome:e.codeExecutionResult.outcome,output:e.codeExecutionResult.output},providerExecuted:!0}),h=void 0):"text"in e&&null!=e.text&&e.text.length>0?k.push({type:!0===e.thought?"reasoning":"text",text:e.text,providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0}):"functionCall"in e?k.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:e.functionCall.name,input:JSON.stringify(e.functionCall.args),providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0}):"inlineData"in e&&k.push({type:"file",data:e.inlineData.data,mediaType:e.inlineData.mimeType});for(let e of null!=(a=lO({groundingMetadata:S.groundingMetadata,generateId:this.config.generateId}))?a:[])k.push(e);return{content:k,finishReason:lE({finishReason:S.finishReason,hasToolCalls:k.some(e=>"tool-call"===e.type)}),usage:{inputTokens:null!=(i=null==E?void 0:E.promptTokenCount)?i:void 0,outputTokens:null!=(o=null==E?void 0:E.candidatesTokenCount)?o:void 0,totalTokens:null!=(s=null==E?void 0:E.totalTokenCount)?s:void 0,reasoningTokens:null!=(l=null==E?void 0:E.thoughtsTokenCount)?l:void 0,cachedInputTokens:null!=(u=null==E?void 0:E.cachedContentTokenCount)?u:void 0},warnings:g,providerMetadata:{google:{promptFeedback:null!=(d=_.promptFeedback)?d:null,groundingMetadata:null!=(c=S.groundingMetadata)?c:null,urlContextMetadata:null!=(p=S.urlContextMetadata)?p:null,safetyRatings:null!=(m=S.safetyRatings)?m:null,usageMetadata:null!=E?E:null}},request:{body:y},response:{headers:b,body:w}}})}doStream(e){return eQ(this,null,function*(){let t,r,{args:n,warnings:a}=yield this.getArgs(e),i=JSON.stringify(n),o=a6((yield ib(this.config.headers)),e.headers),{responseHeaders:s,value:l}=yield im({url:`${this.config.baseURL}/${lk(this.modelId)}:streamGenerateContent?alt=sse`,headers:o,body:n,failedResponseHandler:ly,successfulResponseHandler:iw(lR),abortSignal:e.abortSignal,fetch:this.config.fetch}),u="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},c=this.config.generateId,p=!1,m=null,h=null,f=0,g=new Set;return{stream:l.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:a})},transform(n,a){var i,o,s,l,y,v,b,_,w,S,k,x,E;if(e.includeRawChunks&&a.enqueue({type:"raw",rawValue:n.rawValue}),!n.success)return void a.enqueue({type:"error",error:n.error});let T=n.value,O=T.usageMetadata;null!=O&&(d.inputTokens=null!=(i=O.promptTokenCount)?i:void 0,d.outputTokens=null!=(o=O.candidatesTokenCount)?o:void 0,d.totalTokens=null!=(s=O.totalTokenCount)?s:void 0,d.reasoningTokens=null!=(l=O.thoughtsTokenCount)?l:void 0,d.cachedInputTokens=null!=(y=O.cachedContentTokenCount)?y:void 0);let I=null==(v=T.candidates)?void 0:v[0];if(null==I)return;let P=I.content,C=lO({groundingMetadata:I.groundingMetadata,generateId:c});if(null!=C)for(let e of C)"url"!==e.sourceType||g.has(e.url)||(g.add(e.url),a.enqueue(e));if(null!=P){for(let e of null!=(b=P.parts)?b:[])if("executableCode"in e&&(null==(_=e.executableCode)?void 0:_.code)){let r=c();t=r,a.enqueue({type:"tool-call",toolCallId:r,toolName:"code_execution",input:JSON.stringify(e.executableCode),providerExecuted:!0}),p=!0}else if("codeExecutionResult"in e&&e.codeExecutionResult){let r=t;r&&(a.enqueue({type:"tool-result",toolCallId:r,toolName:"code_execution",result:{outcome:e.codeExecutionResult.outcome,output:e.codeExecutionResult.output},providerExecuted:!0}),t=void 0)}else"text"in e&&null!=e.text&&e.text.length>0&&(!0===e.thought?(null!==m&&(a.enqueue({type:"text-end",id:m}),m=null),null===h&&(h=String(f++),a.enqueue({type:"reasoning-start",id:h,providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0})),a.enqueue({type:"reasoning-delta",id:h,delta:e.text,providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0})):(null!==h&&(a.enqueue({type:"reasoning-end",id:h}),h=null),null===m&&(m=String(f++),a.enqueue({type:"text-start",id:m,providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0})),a.enqueue({type:"text-delta",id:m,delta:e.text,providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0})));let e=null==(E=P.parts)?void 0:E.filter(e=>"inlineData"in e);if(null!=e)for(let t of e)a.enqueue({type:"file",mediaType:t.inlineData.mimeType,data:t.inlineData.data});let r=function({parts:e,generateId:t}){let r=null==e?void 0:e.filter(e=>"functionCall"in e);return null==r||0===r.length?void 0:r.map(e=>({type:"tool-call",toolCallId:t(),toolName:e.functionCall.name,args:JSON.stringify(e.functionCall.args),providerMetadata:e.thoughtSignature?{google:{thoughtSignature:e.thoughtSignature}}:void 0}))}({parts:P.parts,generateId:c});if(null!=r)for(let e of r)a.enqueue({type:"tool-input-start",id:e.toolCallId,toolName:e.toolName,providerMetadata:e.providerMetadata}),a.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:e.args,providerMetadata:e.providerMetadata}),a.enqueue({type:"tool-input-end",id:e.toolCallId,providerMetadata:e.providerMetadata}),a.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.args,providerMetadata:e.providerMetadata}),p=!0}null!=I.finishReason&&(u=lE({finishReason:I.finishReason,hasToolCalls:p}),r={google:{promptFeedback:null!=(w=T.promptFeedback)?w:null,groundingMetadata:null!=(S=I.groundingMetadata)?S:null,urlContextMetadata:null!=(k=I.urlContextMetadata)?k:null,safetyRatings:null!=(x=I.safetyRatings)?x:null}},null!=O&&(r.google.usageMetadata=O))},flush(e){null!==m&&e.enqueue({type:"text-end",id:m}),null!==h&&e.enqueue({type:"reasoning-end",id:h}),e.enqueue({type:"finish",finishReason:u,usage:d,providerMetadata:r})}})),response:{headers:s},request:{body:i}}})}};function lO({groundingMetadata:e,generateId:t}){var r;return null==(r=null==e?void 0:e.groundingChunks)?void 0:r.filter(e=>null!=e.web).map(e=>({type:"source",sourceType:"url",id:t(),url:e.web.uri,title:e.web.title}))}var lI=()=>lu.z.object({webSearchQueries:lu.z.array(lu.z.string()).nullish(),retrievalQueries:lu.z.array(lu.z.string()).nullish(),searchEntryPoint:lu.z.object({renderedContent:lu.z.string()}).nullish(),groundingChunks:lu.z.array(lu.z.object({web:lu.z.object({uri:lu.z.string(),title:lu.z.string()}).nullish(),retrievedContext:lu.z.object({uri:lu.z.string(),title:lu.z.string()}).nullish()})).nullish(),groundingSupports:lu.z.array(lu.z.object({segment:lu.z.object({startIndex:lu.z.number().nullish(),endIndex:lu.z.number().nullish(),text:lu.z.string().nullish()}),segment_text:lu.z.string().nullish(),groundingChunkIndices:lu.z.array(lu.z.number()).nullish(),supportChunkIndices:lu.z.array(lu.z.number()).nullish(),confidenceScores:lu.z.array(lu.z.number()).nullish(),confidenceScore:lu.z.array(lu.z.number()).nullish()})).nullish(),retrievalMetadata:lu.z.union([lu.z.object({webDynamicRetrievalScore:lu.z.number()}),lu.z.object({})]).nullish()}),lP=()=>lu.z.object({parts:lu.z.array(lu.z.union([lu.z.object({functionCall:lu.z.object({name:lu.z.string(),args:lu.z.unknown()}),thoughtSignature:lu.z.string().nullish()}),lu.z.object({inlineData:lu.z.object({mimeType:lu.z.string(),data:lu.z.string()})}),lu.z.object({executableCode:lu.z.object({language:lu.z.string(),code:lu.z.string()}).nullish(),codeExecutionResult:lu.z.object({outcome:lu.z.string(),output:lu.z.string()}).nullish(),text:lu.z.string().nullish(),thought:lu.z.boolean().nullish(),thoughtSignature:lu.z.string().nullish()})])).nullish()}),lC=()=>lu.z.object({category:lu.z.string().nullish(),probability:lu.z.string().nullish(),probabilityScore:lu.z.number().nullish(),severity:lu.z.string().nullish(),severityScore:lu.z.number().nullish(),blocked:lu.z.boolean().nullish()}),lA=lu.z.object({cachedContentTokenCount:lu.z.number().nullish(),thoughtsTokenCount:lu.z.number().nullish(),promptTokenCount:lu.z.number().nullish(),candidatesTokenCount:lu.z.number().nullish(),totalTokenCount:lu.z.number().nullish()}),lj=()=>lu.z.object({urlMetadata:lu.z.array(lu.z.object({retrievedUrl:lu.z.string(),urlRetrievalStatus:lu.z.string()}))}),lz=iQ(()=>iY(lu.z.object({candidates:lu.z.array(lu.z.object({content:lP().nullish().or(lu.z.object({}).strict()),finishReason:lu.z.string().nullish(),safetyRatings:lu.z.array(lC()).nullish(),groundingMetadata:lI().nullish(),urlContextMetadata:lj().nullish()})),usageMetadata:lA.nullish(),promptFeedback:lu.z.object({blockReason:lu.z.string().nullish(),safetyRatings:lu.z.array(lC()).nullish()}).nullish()}))),lR=iQ(()=>iY(lu.z.object({candidates:lu.z.array(lu.z.object({content:lP().nullish(),finishReason:lu.z.string().nullish(),safetyRatings:lu.z.array(lC()).nullish(),groundingMetadata:lI().nullish(),urlContextMetadata:lj().nullish()})).nullish(),usageMetadata:lA.nullish(),promptFeedback:lu.z.object({blockReason:lu.z.string().nullish(),safetyRatings:lu.z.array(lC()).nullish()}).nullish()}))),lN=iv({id:"google.code_execution",name:"code_execution",inputSchema:lm.z.object({language:lm.z.string().describe("The programming language of the code."),code:lm.z.string().describe("The code to be executed.")}),outputSchema:lm.z.object({outcome:lm.z.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:lm.z.string().describe("The output from the code execution.")})}),l$={googleSearch:iy({id:"google.google_search",name:"google_search",inputSchema:iQ(()=>iY(lh.z.object({mode:lh.z.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:lh.z.number().default(1)})))}),urlContext:iy({id:"google.url_context",name:"url_context",inputSchema:iQ(()=>iY(lf.z.object({})))}),codeExecution:lN},lM=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=this.settings.maxImagesPerCall)?e:4}get provider(){return this.config.provider}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let{prompt:a,n:i=1,size:o="1024x1024",aspectRatio:s="1:1",seed:l,providerOptions:u,headers:d,abortSignal:c}=e,p=[];null!=o&&p.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),null!=l&&p.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let m=yield ip({provider:"google",providerOptions:u,schema:lF}),h=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,f={sampleCount:i};null!=s&&(f.aspectRatio=s),m&&Object.assign(f,m);let{responseHeaders:g,value:y}=yield im({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:a6((yield ib(this.config.headers)),d),body:{instances:[{prompt:a}],parameters:f},failedResponseHandler:ly,successfulResponseHandler:ik(lD),abortSignal:c,fetch:this.config.fetch});return{images:y.predictions.map(e=>e.bytesBase64Encoded),warnings:null!=p?p:[],providerMetadata:{google:{images:y.predictions.map(e=>({}))}},response:{timestamp:h,modelId:this.modelId,headers:g}}})}},lD=iQ(()=>iY(lg.z.object({predictions:lg.z.array(lg.z.object({bytesBase64Encoded:lg.z.string()})).default([])}))),lF=iQ(()=>iY(lg.z.object({personGeneration:lg.z.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:lg.z.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function lU(e={}){var t;let r=null!=(t=i9(e.baseURL))?t:"https://generativelanguage.googleapis.com/v1beta",n=()=>a7(eZ({"x-goog-api-key":ie({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"})},e.headers),"ai-sdk/google/2.0.23"),a=t=>{var a;return new lT(t,{provider:"google.generative-ai",baseURL:r,headers:n,generateId:null!=(a=e.generateId)?a:a9,supportedUrls:()=>({"*":[RegExp(`^${r}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:e.fetch})},i=t=>new lb(t,{provider:"google.generative-ai",baseURL:r,headers:n,fetch:e.fetch}),o=(t,a={})=>new lM(t,a,{provider:"google.generative-ai",baseURL:r,headers:n,fetch:e.fetch}),s=function(e){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return a(e)};return s.languageModel=a,s.chat=a,s.generativeAI=a,s.embedding=i,s.textEmbedding=i,s.textEmbeddingModel=i,s.image=o,s.imageModel=o,s.tools=l$,s}var lL=lU(),lq=e.r(76261),lV=e.r(72358),lB=e.r(76261),lZ=e.r(72358),lH=e.r(72358),lG=e.r(76261),lW=e.r(72358),lJ=e.r(76261),lK=e.r(72358),lY=e.r(76261),lX=e.r(72358),lQ=e.r(72358),l1=e.r(72358);function l0(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.providerOptions)?void 0:t.openaiCompatible)?r:{}}function l2({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function l4(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var l6=lZ.z.object({user:lZ.z.string().optional(),reasoningEffort:lZ.z.string().optional(),textVerbosity:lZ.z.string().optional()}),l3={errorSchema:lH.z.object({error:lH.z.object({message:lH.z.string(),type:lH.z.string().nullish(),param:lH.z.any().nullish(),code:lH.z.union([lH.z.string(),lH.z.number()]).nullish()})}),errorToMessage:e=>e.error.message},l9=class{constructor(e,t){var r,n;this.specificationVersion="v2",this.modelId=e,this.config=t;const a=null!=(r=t.errorStructure)?r:l3;this.chunkSchema=l7(a.errorSchema),this.failedResponseHandler=i_(a),this.supportsStructuredOutputs=null!=(n=t.supportsStructuredOutputs)&&n}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,providerOptions:s,stopSequences:l,responseFormat:u,seed:d,toolChoice:c,tools:p}){var m,h,f,g;let y=[],v=Object.assign(null!=(m=yield ip({provider:"openai-compatible",providerOptions:s,schema:l6}))?m:{},null!=(h=yield ip({provider:this.providerOptionsName,providerOptions:s,schema:l6}))?h:{});null!=a&&y.push({type:"unsupported-setting",setting:"topK"}),(null==u?void 0:u.type)!=="json"||null==u.schema||this.supportsStructuredOutputs||y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{tools:b,toolChoice:_,toolWarnings:w}=function({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let n=[];for(let t of e)"provider-defined"===t.type?r.push({type:"unsupported-tool",tool:t}):n.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}});if(null==t)return{tools:n,toolChoice:void 0,toolWarnings:r};let a=t.type;switch(a){case"auto":case"none":case"required":return{tools:n,toolChoice:a,toolWarnings:r};case"tool":return{tools:n,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:r};default:throw new lG.UnsupportedFunctionalityError({functionality:`tool choice type: ${a}`})}}({tools:p,toolChoice:c});return{args:eH(eZ({model:this.modelId,user:v.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,response_format:(null==u?void 0:u.type)==="json"?!0===this.supportsStructuredOutputs&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,name:null!=(f=u.name)?f:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:d},Object.fromEntries(Object.entries(null!=(g=null==s?void 0:s[this.providerOptionsName])?g:{}).filter(([e])=>!Object.keys(l6.shape).includes(e)))),{reasoning_effort:v.reasoningEffort,verbosity:v.textVerbosity,messages:function(e){let t=[];for(let r of e){let{role:e,content:n}=r,a=l0(eZ({},eG(r,["role","content"])));switch(e){case"system":t.push(eZ({role:"system",content:n},a));break;case"user":if(1===n.length&&"text"===n[0].type){t.push(eZ({role:"user",content:n[0].text},l0(n[0])));break}t.push(eZ({role:"user",content:n.map(e=>{let t=l0(e);switch(e.type){case"text":return eZ({type:"text",text:e.text},t);case"file":if(e.mediaType.startsWith("image/")){let r="image/*"===e.mediaType?"image/jpeg":e.mediaType;return eZ({type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${r};base64,${i3(e.data)}`}},t)}throw new lB.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})},a));break;case"assistant":{let e="",r=[];for(let t of n){let n=l0(t);switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push(eZ({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}},n))}}t.push(eZ({role:"assistant",content:e,tool_calls:r.length>0?r:void 0},a));break}case"tool":for(let e of n){let r,n=e.output;switch(n.type){case"text":case"error-text":r=n.value;break;case"content":case"json":case"error-json":r=JSON.stringify(n.value)}let a=l0(e);t.push(eZ({role:"tool",tool_call_id:e.toolCallId,content:r},a))}break;default:throw Error(`Unsupported role: ${e}`)}}return t}(e),tools:b,tool_choice:_}),warnings:[...y,...w]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y;let{args:v,warnings:b}=yield this.getArgs(eZ({},e)),_=JSON.stringify(v),{responseHeaders:w,value:S,rawValue:k}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:v,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:ik(l8),abortSignal:e.abortSignal,fetch:this.config.fetch}),x=S.choices[0],E=[],T=x.message.content;null!=T&&T.length>0&&E.push({type:"text",text:T});let O=null!=(t=x.message.reasoning_content)?t:x.message.reasoning;if(null!=O&&O.length>0&&E.push({type:"reasoning",text:O}),null!=x.message.tool_calls)for(let e of x.message.tool_calls)E.push({type:"tool-call",toolCallId:null!=(r=e.id)?r:a9(),toolName:e.function.name,input:e.function.arguments});let I=eZ({[this.providerOptionsName]:{}},(yield null==(a=null==(n=this.config.metadataExtractor)?void 0:n.extractMetadata)?void 0:a.call(n,{parsedBody:k}))),P=null==(i=S.usage)?void 0:i.completion_tokens_details;return(null==P?void 0:P.accepted_prediction_tokens)!=null&&(I[this.providerOptionsName].acceptedPredictionTokens=null==P?void 0:P.accepted_prediction_tokens),(null==P?void 0:P.rejected_prediction_tokens)!=null&&(I[this.providerOptionsName].rejectedPredictionTokens=null==P?void 0:P.rejected_prediction_tokens),{content:E,finishReason:l4(x.finish_reason),usage:{inputTokens:null!=(s=null==(o=S.usage)?void 0:o.prompt_tokens)?s:void 0,outputTokens:null!=(u=null==(l=S.usage)?void 0:l.completion_tokens)?u:void 0,totalTokens:null!=(c=null==(d=S.usage)?void 0:d.total_tokens)?c:void 0,reasoningTokens:null!=(h=null==(m=null==(p=S.usage)?void 0:p.completion_tokens_details)?void 0:m.reasoning_tokens)?h:void 0,cachedInputTokens:null!=(y=null==(g=null==(f=S.usage)?void 0:f.prompt_tokens_details)?void 0:g.cached_tokens)?y:void 0},providerMetadata:I,request:{body:_},response:eH(eZ({},l2(S)),{headers:w,body:k}),warnings:b}})}doStream(e){return eQ(this,null,function*(){var t;let{args:r,warnings:n}=yield this.getArgs(eZ({},e)),a=eH(eZ({},r),{stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0}),i=null==(t=this.config.metadataExtractor)?void 0:t.createStreamExtractor(),{responseHeaders:o,value:s}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:a,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:iw(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),l=[],u="unknown",d={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0},totalTokens:void 0},c=!0,p=this.providerOptionsName,m=!1,h=!1;return{stream:s.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,r){var n,a,o,s,p,f,g,y,v,b,_,w,S;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){u="error",r.enqueue({type:"error",error:t.error});return}let k=t.value;if(null==i||i.processChunk(t.rawValue),"error"in k){u="error",r.enqueue({type:"error",error:k.error.message});return}if(c&&(c=!1,r.enqueue(eZ({type:"response-metadata"},l2(k)))),null!=k.usage){let{prompt_tokens:e,completion_tokens:t,total_tokens:r,prompt_tokens_details:n,completion_tokens_details:a}=k.usage;d.promptTokens=null!=e?e:void 0,d.completionTokens=null!=t?t:void 0,d.totalTokens=null!=r?r:void 0,(null==a?void 0:a.reasoning_tokens)!=null&&(d.completionTokensDetails.reasoningTokens=null==a?void 0:a.reasoning_tokens),(null==a?void 0:a.accepted_prediction_tokens)!=null&&(d.completionTokensDetails.acceptedPredictionTokens=null==a?void 0:a.accepted_prediction_tokens),(null==a?void 0:a.rejected_prediction_tokens)!=null&&(d.completionTokensDetails.rejectedPredictionTokens=null==a?void 0:a.rejected_prediction_tokens),(null==n?void 0:n.cached_tokens)!=null&&(d.promptTokensDetails.cachedTokens=null==n?void 0:n.cached_tokens)}let x=k.choices[0];if((null==x?void 0:x.finish_reason)!=null&&(u=l4(x.finish_reason)),(null==x?void 0:x.delta)==null)return;let E=x.delta,T=null!=(n=E.reasoning_content)?n:E.reasoning;if(T&&(m||(r.enqueue({type:"reasoning-start",id:"reasoning-0"}),m=!0),r.enqueue({type:"reasoning-delta",id:"reasoning-0",delta:T})),E.content&&(h||(r.enqueue({type:"text-start",id:"txt-0"}),h=!0),r.enqueue({type:"text-delta",id:"txt-0",delta:E.content})),null!=E.tool_calls)for(let e of E.tool_calls){let t=e.index;if(null==l[t]){if(null==e.id)throw new lq.InvalidResponseDataError({data:e,message:"Expected 'id' to be a string."});if((null==(a=e.function)?void 0:a.name)==null)throw new lq.InvalidResponseDataError({data:e,message:"Expected 'function.name' to be a string."});r.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),l[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(o=e.function.arguments)?o:""},hasFinished:!1};let n=l[t];(null==(s=n.function)?void 0:s.name)!=null&&(null==(p=n.function)?void 0:p.arguments)!=null&&(n.function.arguments.length>0&&r.enqueue({type:"tool-input-delta",id:n.id,delta:n.function.arguments}),ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(f=n.id)?f:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0));continue}let n=l[t];!n.hasFinished&&((null==(g=e.function)?void 0:g.arguments)!=null&&(n.function.arguments+=null!=(v=null==(y=e.function)?void 0:y.arguments)?v:""),r.enqueue({type:"tool-input-delta",id:n.id,delta:null!=(b=e.function.arguments)?b:""}),(null==(_=n.function)?void 0:_.name)!=null&&(null==(w=n.function)?void 0:w.arguments)!=null&&ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(S=n.id)?S:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0))}},flush(e){var t,r,n,a,o,s;for(let r of(m&&e.enqueue({type:"reasoning-end",id:"reasoning-0"}),h&&e.enqueue({type:"text-end",id:"txt-0"}),l.filter(e=>!e.hasFinished)))e.enqueue({type:"tool-input-end",id:r.id}),e.enqueue({type:"tool-call",toolCallId:null!=(t=r.id)?t:a9(),toolName:r.function.name,input:r.function.arguments});let c=eZ({[p]:{}},null==i?void 0:i.buildMetadata());null!=d.completionTokensDetails.acceptedPredictionTokens&&(c[p].acceptedPredictionTokens=d.completionTokensDetails.acceptedPredictionTokens),null!=d.completionTokensDetails.rejectedPredictionTokens&&(c[p].rejectedPredictionTokens=d.completionTokensDetails.rejectedPredictionTokens),e.enqueue({type:"finish",finishReason:u,usage:{inputTokens:null!=(r=d.promptTokens)?r:void 0,outputTokens:null!=(n=d.completionTokens)?n:void 0,totalTokens:null!=(a=d.totalTokens)?a:void 0,reasoningTokens:null!=(o=d.completionTokensDetails.reasoningTokens)?o:void 0,cachedInputTokens:null!=(s=d.promptTokensDetails.cachedTokens)?s:void 0},providerMetadata:c})}})),request:{body:a},response:{headers:o}}})}},l5=lV.z.object({prompt_tokens:lV.z.number().nullish(),completion_tokens:lV.z.number().nullish(),total_tokens:lV.z.number().nullish(),prompt_tokens_details:lV.z.object({cached_tokens:lV.z.number().nullish()}).nullish(),completion_tokens_details:lV.z.object({reasoning_tokens:lV.z.number().nullish(),accepted_prediction_tokens:lV.z.number().nullish(),rejected_prediction_tokens:lV.z.number().nullish()}).nullish()}).nullish(),l8=lV.z.object({id:lV.z.string().nullish(),created:lV.z.number().nullish(),model:lV.z.string().nullish(),choices:lV.z.array(lV.z.object({message:lV.z.object({role:lV.z.literal("assistant").nullish(),content:lV.z.string().nullish(),reasoning_content:lV.z.string().nullish(),reasoning:lV.z.string().nullish(),tool_calls:lV.z.array(lV.z.object({id:lV.z.string().nullish(),function:lV.z.object({name:lV.z.string(),arguments:lV.z.string()})})).nullish()}),finish_reason:lV.z.string().nullish()})),usage:l5}),l7=e=>lV.z.union([lV.z.object({id:lV.z.string().nullish(),created:lV.z.number().nullish(),model:lV.z.string().nullish(),choices:lV.z.array(lV.z.object({delta:lV.z.object({role:lV.z.enum(["assistant"]).nullish(),content:lV.z.string().nullish(),reasoning_content:lV.z.string().nullish(),reasoning:lV.z.string().nullish(),tool_calls:lV.z.array(lV.z.object({index:lV.z.number(),id:lV.z.string().nullish(),function:lV.z.object({name:lV.z.string().nullish(),arguments:lV.z.string().nullish()})})).nullish()}).nullish(),finish_reason:lV.z.string().nullish()})),usage:l5}),e]);function ue({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function ut(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var ur=lK.z.object({echo:lK.z.boolean().optional(),logitBias:lK.z.record(lK.z.string(),lK.z.number()).optional(),suffix:lK.z.string().optional(),user:lK.z.string().optional()}),un=class{constructor(e,t){var r;this.specificationVersion="v2",this.modelId=e,this.config=t;const n=null!=(r=t.errorStructure)?r:l3;this.chunkSchema=uo(n.errorSchema),this.failedResponseHandler=i_(n)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,providerOptions:d,tools:c,toolChoice:p}){var m;let h=[],f=null!=(m=yield ip({provider:this.providerOptionsName,providerOptions:d,schema:ur}))?m:{};null!=a&&h.push({type:"unsupported-setting",setting:"topK"}),(null==c?void 0:c.length)&&h.push({type:"unsupported-setting",setting:"tools"}),null!=p&&h.push({type:"unsupported-setting",setting:"toolChoice"}),null!=l&&"text"!==l.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:g,stopSequences:y}=function({prompt:e,user:t="user",assistant:r="assistant"}){let n="";for(let{role:a,content:i}of("system"===e[0].role&&(n+=`${e[0].content}

`,e=e.slice(1)),e))switch(a){case"system":throw new lJ.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("");n+=`${t}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new lJ.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${e}

`;break}case"tool":throw new lJ.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${a}`)}return{prompt:n+=`${r}:
`,stopSequences:[`
${t}:`]}}({prompt:e}),v=[...null!=y?y:[],...null!=s?s:[]];return{args:eH(eZ({model:this.modelId,echo:f.echo,logit_bias:f.logitBias,suffix:f.suffix,user:f.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,seed:u},null==d?void 0:d[this.providerOptionsName]),{prompt:g,stop:v.length>0?v:void 0}),warnings:h}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o;let{args:s,warnings:l}=yield this.getArgs(e),{responseHeaders:u,value:d,rawValue:c}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:s,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:ik(ui),abortSignal:e.abortSignal,fetch:this.config.fetch}),p=d.choices[0],m=[];return null!=p.text&&p.text.length>0&&m.push({type:"text",text:p.text}),{content:m,usage:{inputTokens:null!=(r=null==(t=d.usage)?void 0:t.prompt_tokens)?r:void 0,outputTokens:null!=(a=null==(n=d.usage)?void 0:n.completion_tokens)?a:void 0,totalTokens:null!=(o=null==(i=d.usage)?void 0:i.total_tokens)?o:void 0},finishReason:ut(p.finish_reason),request:{body:s},response:eH(eZ({},ue(d)),{headers:u,body:c}),warnings:l}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:iw(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),o="unknown",s={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},l=!0;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){var n,a,i;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){o="error",r.enqueue({type:"error",error:t.error});return}let u=t.value;if("error"in u){o="error",r.enqueue({type:"error",error:u.error});return}l&&(l=!1,r.enqueue(eZ({type:"response-metadata"},ue(u))),r.enqueue({type:"text-start",id:"0"})),null!=u.usage&&(s.inputTokens=null!=(n=u.usage.prompt_tokens)?n:void 0,s.outputTokens=null!=(a=u.usage.completion_tokens)?a:void 0,s.totalTokens=null!=(i=u.usage.total_tokens)?i:void 0);let d=u.choices[0];(null==d?void 0:d.finish_reason)!=null&&(o=ut(d.finish_reason)),(null==d?void 0:d.text)!=null&&r.enqueue({type:"text-delta",id:"0",delta:d.text})},flush(e){l||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,usage:s})}})),request:{body:n},response:{headers:a}}})}},ua=lW.z.object({prompt_tokens:lW.z.number(),completion_tokens:lW.z.number(),total_tokens:lW.z.number()}),ui=lW.z.object({id:lW.z.string().nullish(),created:lW.z.number().nullish(),model:lW.z.string().nullish(),choices:lW.z.array(lW.z.object({text:lW.z.string(),finish_reason:lW.z.string()})),usage:ua.nullish()}),uo=e=>lW.z.union([lW.z.object({id:lW.z.string().nullish(),created:lW.z.number().nullish(),model:lW.z.string().nullish(),choices:lW.z.array(lW.z.object({text:lW.z.string(),finish_reason:lW.z.string().nullish(),index:lW.z.number()})),usage:ua.nullish()}),e]),us=lQ.z.object({dimensions:lQ.z.number().optional(),user:lQ.z.string().optional()}),ul=class{constructor(e,t){this.specificationVersion="v2",this.modelId=e,this.config=t}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.config.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.config.supportsParallelCalls)||e}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}doEmbed(e){return eQ(this,arguments,function*({values:e,headers:t,abortSignal:r,providerOptions:n}){var a,i,o;let s=Object.assign(null!=(a=yield ip({provider:"openai-compatible",providerOptions:n,schema:us}))?a:{},null!=(i=yield ip({provider:this.providerOptionsName,providerOptions:n,schema:us}))?i:{});if(e.length>this.maxEmbeddingsPerCall)throw new lY.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:l,value:u,rawValue:d}=yield im({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:a6(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:s.dimensions,user:s.user},failedResponseHandler:i_(null!=(o=this.config.errorStructure)?o:l3),successfulResponseHandler:ik(uu),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.data.map(e=>e.embedding),usage:u.usage?{tokens:u.usage.prompt_tokens}:void 0,providerMetadata:u.providerMetadata,response:{headers:l,body:d}}})}},uu=lX.z.object({data:lX.z.array(lX.z.object({embedding:lX.z.array(lX.z.number())})),usage:lX.z.object({prompt_tokens:lX.z.number()}).nullish(),providerMetadata:lX.z.record(lX.z.string(),lX.z.record(lX.z.string(),lX.z.any())).optional()}),ud=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=10}get provider(){return this.config.provider}doGenerate(e){return eQ(this,arguments,function*({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l,u,d,c,p;let m=[];null!=n&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&m.push({type:"unsupported-setting",setting:"seed"});let h=null!=(d=null==(u=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:u.call(l))?d:new Date,{value:f,responseHeaders:g}=yield im({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:a6(this.config.headers(),o),body:eH(eZ({model:this.modelId,prompt:e,n:t,size:r},null!=(c=i.openai)?c:{}),{response_format:"b64_json"}),failedResponseHandler:i_(null!=(p=this.config.errorStructure)?p:l3),successfulResponseHandler:ik(uc),abortSignal:s,fetch:this.config.fetch});return{images:f.data.map(e=>e.b64_json),warnings:m,response:{timestamp:h,modelId:this.modelId,headers:g}}})}},uc=l1.z.object({data:l1.z.array(l1.z.object({b64_json:l1.z.string()}))}),up=e.r(76261),um=e.r(72358),uh=e.r(76261),uf=e.r(72358),ug=e.r(72358),uy=e.r(76261);function uv({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function ub(e){switch(e){case"stop":return"stop";case"length":return"length";case"tool_calls":case"function_call":return"tool-calls";case"content_filter":return"content-filter";default:return"unknown"}}var u_=uf.z.object({type:uf.z.literal("web"),country:uf.z.string().length(2).optional(),excludedWebsites:uf.z.array(uf.z.string()).max(5).optional(),allowedWebsites:uf.z.array(uf.z.string()).max(5).optional(),safeSearch:uf.z.boolean().optional()}),uw=uf.z.object({type:uf.z.literal("x"),excludedXHandles:uf.z.array(uf.z.string()).optional(),includedXHandles:uf.z.array(uf.z.string()).optional(),postFavoriteCount:uf.z.number().int().optional(),postViewCount:uf.z.number().int().optional(),xHandles:uf.z.array(uf.z.string()).optional()}),uS=uf.z.object({type:uf.z.literal("news"),country:uf.z.string().length(2).optional(),excludedWebsites:uf.z.array(uf.z.string()).max(5).optional(),safeSearch:uf.z.boolean().optional()}),uk=uf.z.object({type:uf.z.literal("rss"),links:uf.z.array(uf.z.string().url()).max(1)}),ux=uf.z.discriminatedUnion("type",[u_,uw,uS,uk]),uE=uf.z.object({reasoningEffort:uf.z.enum(["low","high"]).optional(),searchParameters:uf.z.object({mode:uf.z.enum(["off","auto","on"]),returnCitations:uf.z.boolean().optional(),fromDate:uf.z.string().optional(),toDate:uf.z.string().optional(),maxSearchResults:uf.z.number().min(1).max(50).optional(),sources:uf.z.array(ux).optional()}).optional()}),uT=ug.z.object({error:ug.z.object({message:ug.z.string(),type:ug.z.string().nullish(),param:ug.z.any().nullish(),code:ug.z.union([ug.z.string(),ug.z.number()]).nullish()})}),uO=i_({errorSchema:uT,errorToMessage:e=>e.error.message}),uI=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,seed:l,responseFormat:u,providerOptions:d,tools:c,toolChoice:p}){var m,h,f;let g=[],y=null!=(m=yield ip({provider:"xai",providerOptions:d,schema:uE}))?m:{};null!=a&&g.push({type:"unsupported-setting",setting:"topK"}),null!=i&&g.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=o&&g.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&g.push({type:"unsupported-setting",setting:"stopSequences"}),null!=u&&"json"===u.type&&null!=u.schema&&g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let{messages:v,warnings:b}=function(e){let t=[];for(let{role:r,content:n}of e)switch(r){case"system":t.push({role:"system",content:n});break;case"user":if(1===n.length&&"text"===n[0].type){t.push({role:"user",content:n[0].text});break}t.push({role:"user",content:n.map(e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${i3(e.data)}`}}}throw new uh.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e="",r=[];for(let t of n)switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}})}t.push({role:"assistant",content:e,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of n){let r,n=e.output;switch(n.type){case"text":case"error-text":r=n.value;break;case"content":case"json":case"error-json":r=JSON.stringify(n.value)}t.push({role:"tool",tool_call_id:e.toolCallId,content:r})}break;default:throw Error(`Unsupported role: ${r}`)}return{messages:t,warnings:[]}}(e);g.push(...b);let{tools:_,toolChoice:w,toolWarnings:S}=function({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let n=[];for(let t of e)"provider-defined"===t.type?r.push({type:"unsupported-tool",tool:t}):n.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}});if(null==t)return{tools:n,toolChoice:void 0,toolWarnings:r};let a=t.type;switch(a){case"auto":case"none":return{tools:n,toolChoice:a,toolWarnings:r};case"required":return{tools:n,toolChoice:"required",toolWarnings:r};case"tool":return{tools:n,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:r};default:throw new uy.UnsupportedFunctionalityError({functionality:`tool choice type: ${a}`})}}({tools:c,toolChoice:p});return g.push(...S),{args:{model:this.modelId,max_tokens:t,temperature:r,top_p:n,seed:l,reasoning_effort:y.reasoningEffort,response_format:(null==u?void 0:u.type)==="json"?null!=u.schema?{type:"json_schema",json_schema:{name:null!=(h=u.name)?h:"response",schema:u.schema,strict:!0}}:{type:"json_object"}:void 0,search_parameters:y.searchParameters?{mode:y.searchParameters.mode,return_citations:y.searchParameters.returnCitations,from_date:y.searchParameters.fromDate,to_date:y.searchParameters.toDate,max_search_results:y.searchParameters.maxSearchResults,sources:null==(f=y.searchParameters.sources)?void 0:f.map(e=>{var t;return eZ(eZ(eZ(eZ({type:e.type},"web"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,allowed_websites:e.allowedWebsites,safe_search:e.safeSearch}),"x"===e.type&&{excluded_x_handles:e.excludedXHandles,included_x_handles:null!=(t=e.includedXHandles)?t:e.xHandles,post_favorite_count:e.postFavoriteCount,post_view_count:e.postViewCount}),"news"===e.type&&{country:e.country,excluded_websites:e.excludedWebsites,safe_search:e.safeSearch}),"rss"===e.type&&{links:e.links})})}:void 0,messages:v,tools:_,tool_choice:w},warnings:g}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let{args:a,warnings:i}=yield this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=yield im({url:`${null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1"}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:a,failedResponseHandler:uO,successfulResponseHandler:ik(uC),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=s.choices[0],d=[];if(null!=u.message.content&&u.message.content.length>0){let e=u.message.content,t=a.messages[a.messages.length-1];(null==t?void 0:t.role)==="assistant"&&e===t.content&&(e=""),e.length>0&&d.push({type:"text",text:e})}if(null!=u.message.reasoning_content&&u.message.reasoning_content.length>0&&d.push({type:"reasoning",text:u.message.reasoning_content}),null!=u.message.tool_calls)for(let e of u.message.tool_calls)d.push({type:"tool-call",toolCallId:e.id,toolName:e.function.name,input:e.function.arguments});if(null!=s.citations)for(let e of s.citations)d.push({type:"source",sourceType:"url",id:this.config.generateId(),url:e});return{content:d,finishReason:ub(u.finish_reason),usage:{inputTokens:s.usage.prompt_tokens,outputTokens:s.usage.completion_tokens,totalTokens:s.usage.total_tokens,reasoningTokens:null!=(n=null==(r=s.usage.completion_tokens_details)?void 0:r.reasoning_tokens)?n:void 0},request:{body:a},response:eH(eZ({},uv(s)),{headers:o,body:l}),warnings:i}})}doStream(e){return eQ(this,null,function*(){var t;let{args:r,warnings:n}=yield this.getArgs(e),a=eH(eZ({},r),{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:i,value:o}=yield im({url:`${null!=(t=this.config.baseURL)?t:"https://api.x.ai/v1"}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:a,failedResponseHandler:uO,successfulResponseHandler:iw(uA),abortSignal:e.abortSignal,fetch:this.config.fetch}),s="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0,d={},c={},p=this;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,r){var n,i;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void r.enqueue({type:"error",error:t.error});let o=t.value;if(u&&(r.enqueue(eZ({type:"response-metadata"},uv(o))),u=!1),null!=o.citations)for(let e of o.citations)r.enqueue({type:"source",sourceType:"url",id:p.config.generateId(),url:e});null!=o.usage&&(l.inputTokens=o.usage.prompt_tokens,l.outputTokens=o.usage.completion_tokens,l.totalTokens=o.usage.total_tokens,l.reasoningTokens=null!=(i=null==(n=o.usage.completion_tokens_details)?void 0:n.reasoning_tokens)?i:void 0);let m=o.choices[0];if((null==m?void 0:m.finish_reason)!=null&&(s=ub(m.finish_reason)),(null==m?void 0:m.delta)==null)return;let h=m.delta,f=m.index;if(null!=h.content&&h.content.length>0){let e=h.content,t=a.messages[a.messages.length-1];if((null==t?void 0:t.role)==="assistant"&&e===t.content)return;let n=`text-${o.id||f}`;null==d[n]&&(d[n]={type:"text"},r.enqueue({type:"text-start",id:n})),r.enqueue({type:"text-delta",id:n,delta:e})}if(null!=h.reasoning_content&&h.reasoning_content.length>0){let e=`reasoning-${o.id||f}`;if(c[e]===h.reasoning_content)return;c[e]=h.reasoning_content,null==d[e]&&(d[e]={type:"reasoning"},r.enqueue({type:"reasoning-start",id:e})),r.enqueue({type:"reasoning-delta",id:e,delta:h.reasoning_content})}if(null!=h.tool_calls)for(let e of h.tool_calls){let t=e.id;r.enqueue({type:"tool-input-start",id:t,toolName:e.function.name}),r.enqueue({type:"tool-input-delta",id:t,delta:e.function.arguments}),r.enqueue({type:"tool-input-end",id:t}),r.enqueue({type:"tool-call",toolCallId:t,toolName:e.function.name,input:e.function.arguments})}},flush(e){for(let[t,r]of Object.entries(d))e.enqueue({type:"text"===r.type?"text-end":"reasoning-end",id:t});e.enqueue({type:"finish",finishReason:s,usage:l})}})),request:{body:a},response:{headers:i}}})}},uP=um.z.object({prompt_tokens:um.z.number(),completion_tokens:um.z.number(),total_tokens:um.z.number(),completion_tokens_details:um.z.object({reasoning_tokens:um.z.number().nullish()}).nullish()}),uC=um.z.object({id:um.z.string().nullish(),created:um.z.number().nullish(),model:um.z.string().nullish(),choices:um.z.array(um.z.object({message:um.z.object({role:um.z.literal("assistant"),content:um.z.string().nullish(),reasoning_content:um.z.string().nullish(),tool_calls:um.z.array(um.z.object({id:um.z.string(),type:um.z.literal("function"),function:um.z.object({name:um.z.string(),arguments:um.z.string()})})).nullish()}),index:um.z.number(),finish_reason:um.z.string().nullish()})),object:um.z.literal("chat.completion"),usage:uP,citations:um.z.array(um.z.string().url()).nullish()}),uA=um.z.object({id:um.z.string().nullish(),created:um.z.number().nullish(),model:um.z.string().nullish(),choices:um.z.array(um.z.object({delta:um.z.object({role:um.z.enum(["assistant"]).optional(),content:um.z.string().nullish(),reasoning_content:um.z.string().nullish(),tool_calls:um.z.array(um.z.object({id:um.z.string(),type:um.z.literal("function"),function:um.z.object({name:um.z.string(),arguments:um.z.string()})})).nullish()}),finish_reason:um.z.string().nullish(),index:um.z.number()})),usage:uP.nullish(),citations:um.z.array(um.z.string().url()).nullish()}),uj={errorSchema:uT,errorToMessage:e=>e.error.message};function uz(e={}){var t;let r=i9(null!=(t=e.baseURL)?t:"https://api.x.ai/v1"),n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`},e.headers),"ai-sdk/xai/2.0.26"),a=t=>new uI(t,{provider:"xai.chat",baseURL:r,headers:n,generateId:a9,fetch:e.fetch}),i=t=>new ud(t,{provider:"xai.image",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch,errorStructure:uj}),o=e=>a(e);return o.languageModel=a,o.chat=a,o.textEmbeddingModel=e=>{throw new up.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},o.imageModel=i,o.image=i,o}var uR=uz(),uN=e.r(76261),u$=e.r(72358),uM=e.r(76261),uD=e.r(72358),uF=e.r(72358),uU=e.r(76261),uL=e.r(76261),uq=e.r(72358),uV=e.r(72358),uB=e.r(76261),uZ=e.r(72358),uH=e.r(72358),uG=e.r(72358),uW=e.r(72358),uJ=e.r(72358),uK=e.r(72358),uY=e.r(76261),uX=e.r(76261),uQ=e.r(72358),u1=e.r(72358),u0=e.r(72358),u2=e.r(72358),u4=e.r(76261),u6=e.r(72358),u3=e.r(72358),u9=e.r(72358),u5=e.r(72358),u8=e.r(72358),u7=u$.z.object({error:u$.z.object({message:u$.z.string(),type:u$.z.string().nullish(),param:u$.z.any().nullish(),code:u$.z.union([u$.z.string(),u$.z.number()]).nullish()})}),de=i_({errorSchema:u7,errorToMessage:e=>e.error.message});function dt({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function dr(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var dn=is(()=>iY(uD.z.object({id:uD.z.string().nullish(),created:uD.z.number().nullish(),model:uD.z.string().nullish(),choices:uD.z.array(uD.z.object({message:uD.z.object({role:uD.z.literal("assistant").nullish(),content:uD.z.string().nullish(),tool_calls:uD.z.array(uD.z.object({id:uD.z.string().nullish(),type:uD.z.literal("function"),function:uD.z.object({name:uD.z.string(),arguments:uD.z.string()})})).nullish(),annotations:uD.z.array(uD.z.object({type:uD.z.literal("url_citation"),start_index:uD.z.number(),end_index:uD.z.number(),url:uD.z.string(),title:uD.z.string()})).nullish()}),index:uD.z.number(),logprobs:uD.z.object({content:uD.z.array(uD.z.object({token:uD.z.string(),logprob:uD.z.number(),top_logprobs:uD.z.array(uD.z.object({token:uD.z.string(),logprob:uD.z.number()}))})).nullish()}).nullish(),finish_reason:uD.z.string().nullish()})),usage:uD.z.object({prompt_tokens:uD.z.number().nullish(),completion_tokens:uD.z.number().nullish(),total_tokens:uD.z.number().nullish(),prompt_tokens_details:uD.z.object({cached_tokens:uD.z.number().nullish()}).nullish(),completion_tokens_details:uD.z.object({reasoning_tokens:uD.z.number().nullish(),accepted_prediction_tokens:uD.z.number().nullish(),rejected_prediction_tokens:uD.z.number().nullish()}).nullish()}).nullish()}))),da=is(()=>iY(uD.z.union([uD.z.object({id:uD.z.string().nullish(),created:uD.z.number().nullish(),model:uD.z.string().nullish(),choices:uD.z.array(uD.z.object({delta:uD.z.object({role:uD.z.enum(["assistant"]).nullish(),content:uD.z.string().nullish(),tool_calls:uD.z.array(uD.z.object({index:uD.z.number(),id:uD.z.string().nullish(),type:uD.z.literal("function").nullish(),function:uD.z.object({name:uD.z.string().nullish(),arguments:uD.z.string().nullish()})})).nullish(),annotations:uD.z.array(uD.z.object({type:uD.z.literal("url_citation"),start_index:uD.z.number(),end_index:uD.z.number(),url:uD.z.string(),title:uD.z.string()})).nullish()}).nullish(),logprobs:uD.z.object({content:uD.z.array(uD.z.object({token:uD.z.string(),logprob:uD.z.number(),top_logprobs:uD.z.array(uD.z.object({token:uD.z.string(),logprob:uD.z.number()}))})).nullish()}).nullish(),finish_reason:uD.z.string().nullish(),index:uD.z.number()})),usage:uD.z.object({prompt_tokens:uD.z.number().nullish(),completion_tokens:uD.z.number().nullish(),total_tokens:uD.z.number().nullish(),prompt_tokens_details:uD.z.object({cached_tokens:uD.z.number().nullish()}).nullish(),completion_tokens_details:uD.z.object({reasoning_tokens:uD.z.number().nullish(),accepted_prediction_tokens:uD.z.number().nullish(),rejected_prediction_tokens:uD.z.number().nullish()}).nullish()}).nullish()}),u7]))),di=is(()=>iY(uF.z.object({logitBias:uF.z.record(uF.z.coerce.number(),uF.z.number()).optional(),logprobs:uF.z.union([uF.z.boolean(),uF.z.number()]).optional(),parallelToolCalls:uF.z.boolean().optional(),user:uF.z.string().optional(),reasoningEffort:uF.z.enum(["minimal","low","medium","high"]).optional(),maxCompletionTokens:uF.z.number().optional(),store:uF.z.boolean().optional(),metadata:uF.z.record(uF.z.string().max(64),uF.z.string().max(512)).optional(),prediction:uF.z.record(uF.z.string(),uF.z.any()).optional(),structuredOutputs:uF.z.boolean().optional(),serviceTier:uF.z.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:uF.z.boolean().optional(),textVerbosity:uF.z.enum(["low","medium","high"]).optional(),promptCacheKey:uF.z.string().optional(),safetyIdentifier:uF.z.string().optional()}))),ds=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,tools:d,toolChoice:c,providerOptions:p}){var m,h,f,g,y,v,b,_,w;let S=[],k=null!=(m=yield ip({provider:"openai",providerOptions:p,schema:di}))?m:{},x=null==(h=k.structuredOutputs)||h;null!=a&&S.push({type:"unsupported-setting",setting:"topK"}),(null==l?void 0:l.type)!=="json"||null==l.schema||x||S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:E,warnings:T}=function({prompt:e,systemMessageMode:t="system"}){let r=[],n=[];for(let{role:a,content:i}of e)switch(a){case"system":switch(t){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((e,t)=>{var r,n,a;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${i3(e.data)}`,detail:null==(n=null==(r=e.providerOptions)?void 0:r.openai)?void 0:n.imageDetail}}}if(e.mediaType.startsWith("audio/")){if(e.data instanceof URL)throw new uM.UnsupportedFunctionalityError({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:i3(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:i3(e.data),format:"mp3"}};default:throw new uM.UnsupportedFunctionalityError({functionality:`audio content parts with media type ${e.mediaType}`})}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new uM.UnsupportedFunctionalityError({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${i3(e.data)}`}}}else throw new uM.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e="",t=[];for(let r of i)switch(r.type){case"text":e+=r.text;break;case"tool-call":t.push({id:r.toolCallId,type:"function",function:{name:r.toolName,arguments:JSON.stringify(r.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(let e of i){let t,n=e.output;switch(n.type){case"text":case"error-text":t=n.value;break;case"content":case"json":case"error-json":t=JSON.stringify(n.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:t})}break;default:throw Error(`Unsupported role: ${a}`)}return{messages:r,warnings:n}}({prompt:e,systemMessageMode:dl(y=this.modelId)?null!=(b=null==(v=du[y])?void 0:v.systemMessageMode)?b:"developer":"system"});S.push(...T);let O=null!=(f=k.strictJsonSchema)&&f,I={model:this.modelId,logit_bias:k.logitBias,logprobs:!0===k.logprobs||"number"==typeof k.logprobs||void 0,top_logprobs:"number"==typeof k.logprobs?k.logprobs:"boolean"==typeof k.logprobs&&k.logprobs?0:void 0,user:k.user,parallel_tool_calls:k.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,response_format:(null==l?void 0:l.type)==="json"?x&&null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,strict:O,name:null!=(g=l.name)?g:"response",description:l.description}}:{type:"json_object"}:void 0,stop:s,seed:u,verbosity:k.textVerbosity,max_completion_tokens:k.maxCompletionTokens,store:k.store,metadata:k.metadata,prediction:k.prediction,reasoning_effort:k.reasoningEffort,service_tier:k.serviceTier,prompt_cache_key:k.promptCacheKey,safety_identifier:k.safetyIdentifier,messages:E};dl(this.modelId)?(null!=I.temperature&&(I.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=I.top_p&&(I.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=I.frequency_penalty&&(I.frequency_penalty=void 0,S.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=I.presence_penalty&&(I.presence_penalty=void 0,S.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=I.logit_bias&&(I.logit_bias=void 0,S.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=I.logprobs&&(I.logprobs=void 0,S.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=I.top_logprobs&&(I.top_logprobs=void 0,S.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=I.max_tokens&&(null==I.max_completion_tokens&&(I.max_completion_tokens=I.max_tokens),I.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=I.temperature&&(I.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==k.serviceTier||(_=this.modelId).startsWith("o3")||_.startsWith("o4-mini")||_.startsWith("gpt-5")&&!_.startsWith("gpt-5-chat")||(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),I.service_tier=void 0),"priority"!==k.serviceTier||(w=this.modelId).startsWith("gpt-4")||w.startsWith("gpt-5-mini")||w.startsWith("gpt-5")&&!w.startsWith("gpt-5-nano")&&!w.startsWith("gpt-5-chat")||w.startsWith("o3")||w.startsWith("o4-mini")||(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),I.service_tier=void 0);let{tools:P,toolChoice:C,toolWarnings:A}=function({tools:e,toolChoice:t,structuredOutputs:r,strictJsonSchema:n}){e=(null==e?void 0:e.length)?e:void 0;let a=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:a};let i=[];for(let t of e)"function"===t.type?i.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema,strict:r?n:void 0}}):a.push({type:"unsupported-tool",tool:t});if(null==t)return{tools:i,toolChoice:void 0,toolWarnings:a};let o=t.type;switch(o){case"auto":case"none":case"required":return{tools:i,toolChoice:o,toolWarnings:a};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:a};default:throw new uU.UnsupportedFunctionalityError({functionality:`tool choice type: ${o}`})}}({tools:d,toolChoice:c,structuredOutputs:x,strictJsonSchema:O});return{args:eH(eZ({},I),{tools:P,tool_choice:C}),warnings:[...S,...A]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m,h;let{args:f,warnings:g}=yield this.getArgs(e),{responseHeaders:y,value:v,rawValue:b}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:f,failedResponseHandler:de,successfulResponseHandler:ik(dn),abortSignal:e.abortSignal,fetch:this.config.fetch}),_=v.choices[0],w=[],S=_.message.content;for(let e of(null!=S&&S.length>0&&w.push({type:"text",text:S}),null!=(t=_.message.tool_calls)?t:[]))w.push({type:"tool-call",toolCallId:null!=(r=e.id)?r:a9(),toolName:e.function.name,input:e.function.arguments});for(let e of null!=(n=_.message.annotations)?n:[])w.push({type:"source",sourceType:"url",id:a9(),url:e.url,title:e.title});let k=null==(a=v.usage)?void 0:a.completion_tokens_details,x=null==(i=v.usage)?void 0:i.prompt_tokens_details,E={openai:{}};return(null==k?void 0:k.accepted_prediction_tokens)!=null&&(E.openai.acceptedPredictionTokens=null==k?void 0:k.accepted_prediction_tokens),(null==k?void 0:k.rejected_prediction_tokens)!=null&&(E.openai.rejectedPredictionTokens=null==k?void 0:k.rejected_prediction_tokens),(null==(o=_.logprobs)?void 0:o.content)!=null&&(E.openai.logprobs=_.logprobs.content),{content:w,finishReason:dr(_.finish_reason),usage:{inputTokens:null!=(l=null==(s=v.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(u=v.usage)?void 0:u.completion_tokens)?d:void 0,totalTokens:null!=(p=null==(c=v.usage)?void 0:c.total_tokens)?p:void 0,reasoningTokens:null!=(m=null==k?void 0:k.reasoning_tokens)?m:void 0,cachedInputTokens:null!=(h=null==x?void 0:x.cached_tokens)?h:void 0},request:{body:f},response:eH(eZ({},dt(v)),{headers:y,body:b}),warnings:g,providerMetadata:E}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:de,successfulResponseHandler:iw(da),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=[],s="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0,d=!1,c={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){var n,a,i,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){s="error",r.enqueue({type:"error",error:t.error});return}let z=t.value;if("error"in z){s="error",r.enqueue({type:"error",error:z.error});return}u&&(u=!1,r.enqueue(eZ({type:"response-metadata"},dt(z)))),null!=z.usage&&(l.inputTokens=null!=(n=z.usage.prompt_tokens)?n:void 0,l.outputTokens=null!=(a=z.usage.completion_tokens)?a:void 0,l.totalTokens=null!=(i=z.usage.total_tokens)?i:void 0,l.reasoningTokens=null!=(m=null==(p=z.usage.completion_tokens_details)?void 0:p.reasoning_tokens)?m:void 0,l.cachedInputTokens=null!=(f=null==(h=z.usage.prompt_tokens_details)?void 0:h.cached_tokens)?f:void 0,(null==(g=z.usage.completion_tokens_details)?void 0:g.accepted_prediction_tokens)!=null&&(c.openai.acceptedPredictionTokens=null==(y=z.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens),(null==(v=z.usage.completion_tokens_details)?void 0:v.rejected_prediction_tokens)!=null&&(c.openai.rejectedPredictionTokens=null==(b=z.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens));let R=z.choices[0];if((null==R?void 0:R.finish_reason)!=null&&(s=dr(R.finish_reason)),(null==(_=null==R?void 0:R.logprobs)?void 0:_.content)!=null&&(c.openai.logprobs=R.logprobs.content),(null==R?void 0:R.delta)==null)return;let N=R.delta;if(null!=N.content&&(d||(r.enqueue({type:"text-start",id:"0"}),d=!0),r.enqueue({type:"text-delta",id:"0",delta:N.content})),null!=N.tool_calls)for(let e of N.tool_calls){let t=e.index;if(null==o[t]){if("function"!==e.type)throw new uN.InvalidResponseDataError({data:e,message:"Expected 'function' type."});if(null==e.id)throw new uN.InvalidResponseDataError({data:e,message:"Expected 'id' to be a string."});if((null==(w=e.function)?void 0:w.name)==null)throw new uN.InvalidResponseDataError({data:e,message:"Expected 'function.name' to be a string."});r.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),o[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(S=e.function.arguments)?S:""},hasFinished:!1};let n=o[t];(null==(k=n.function)?void 0:k.name)!=null&&(null==(x=n.function)?void 0:x.arguments)!=null&&(n.function.arguments.length>0&&r.enqueue({type:"tool-input-delta",id:n.id,delta:n.function.arguments}),ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(E=n.id)?E:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0));continue}let n=o[t];!n.hasFinished&&((null==(T=e.function)?void 0:T.arguments)!=null&&(n.function.arguments+=null!=(I=null==(O=e.function)?void 0:O.arguments)?I:""),r.enqueue({type:"tool-input-delta",id:n.id,delta:null!=(P=e.function.arguments)?P:""}),(null==(C=n.function)?void 0:C.name)!=null&&(null==(A=n.function)?void 0:A.arguments)!=null&&ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(j=n.id)?j:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0))}if(null!=N.annotations)for(let e of N.annotations)r.enqueue({type:"source",sourceType:"url",id:a9(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(eZ({type:"finish",finishReason:s,usage:l},null!=c?{providerMetadata:c}:{}))}})),request:{body:n},response:{headers:a}}})}};function dl(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}var du={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function dd({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function dc(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var dp=is(()=>iY(uq.z.object({id:uq.z.string().nullish(),created:uq.z.number().nullish(),model:uq.z.string().nullish(),choices:uq.z.array(uq.z.object({text:uq.z.string(),finish_reason:uq.z.string(),logprobs:uq.z.object({tokens:uq.z.array(uq.z.string()),token_logprobs:uq.z.array(uq.z.number()),top_logprobs:uq.z.array(uq.z.record(uq.z.string(),uq.z.number())).nullish()}).nullish()})),usage:uq.z.object({prompt_tokens:uq.z.number(),completion_tokens:uq.z.number(),total_tokens:uq.z.number()}).nullish()}))),dm=is(()=>iY(uq.z.union([uq.z.object({id:uq.z.string().nullish(),created:uq.z.number().nullish(),model:uq.z.string().nullish(),choices:uq.z.array(uq.z.object({text:uq.z.string(),finish_reason:uq.z.string().nullish(),index:uq.z.number(),logprobs:uq.z.object({tokens:uq.z.array(uq.z.string()),token_logprobs:uq.z.array(uq.z.number()),top_logprobs:uq.z.array(uq.z.record(uq.z.string(),uq.z.number())).nullish()}).nullish()})),usage:uq.z.object({prompt_tokens:uq.z.number(),completion_tokens:uq.z.number(),total_tokens:uq.z.number()}).nullish()}),u7]))),dh=is(()=>iY(uV.z.object({echo:uV.z.boolean().optional(),logitBias:uV.z.record(uV.z.string(),uV.z.number()).optional(),suffix:uV.z.string().optional(),user:uV.z.string().optional(),logprobs:uV.z.union([uV.z.boolean(),uV.z.number()]).optional()}))),df=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,tools:u,toolChoice:d,seed:c,providerOptions:p}){let m=[],h=eZ(eZ({},(yield ip({provider:"openai",providerOptions:p,schema:dh}))),(yield ip({provider:this.providerOptionsName,providerOptions:p,schema:dh})));null!=a&&m.push({type:"unsupported-setting",setting:"topK"}),(null==u?void 0:u.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=d&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=l&&"text"!==l.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:f,stopSequences:g}=function({prompt:e,user:t="user",assistant:r="assistant"}){let n="";for(let{role:a,content:i}of("system"===e[0].role&&(n+=`${e[0].content}

`,e=e.slice(1)),e))switch(a){case"system":throw new uL.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("");n+=`${t}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new uL.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${e}

`;break}case"tool":throw new uL.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${a}`)}return{prompt:n+=`${r}:
`,stopSequences:[`
${t}:`]}}({prompt:e}),y=[...null!=g?g:[],...null!=s?s:[]];return{args:{model:this.modelId,echo:h.echo,logit_bias:h.logitBias,logprobs:(null==h?void 0:h.logprobs)===!0?0:(null==h?void 0:h.logprobs)===!1||null==h?void 0:h.logprobs,suffix:h.suffix,user:h.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,seed:c,prompt:f,stop:y.length>0?y:void 0},warnings:m}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let{args:a,warnings:i}=yield this.getArgs(e),{responseHeaders:o,value:s,rawValue:l}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:a,failedResponseHandler:de,successfulResponseHandler:ik(dp),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=s.choices[0],d={openai:{}};return null!=u.logprobs&&(d.openai.logprobs=u.logprobs),{content:[{type:"text",text:u.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(r=s.usage)?void 0:r.completion_tokens,totalTokens:null==(n=s.usage)?void 0:n.total_tokens},finishReason:dc(u.finish_reason),request:{body:a},response:eH(eZ({},dd(s)),{headers:o,body:l}),providerMetadata:d,warnings:i}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:de,successfulResponseHandler:iw(dm),abortSignal:e.abortSignal,fetch:this.config.fetch}),o="unknown",s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){o="error",r.enqueue({type:"error",error:t.error});return}let n=t.value;if("error"in n){o="error",r.enqueue({type:"error",error:n.error});return}u&&(u=!1,r.enqueue(eZ({type:"response-metadata"},dd(n))),r.enqueue({type:"text-start",id:"0"})),null!=n.usage&&(l.inputTokens=n.usage.prompt_tokens,l.outputTokens=n.usage.completion_tokens,l.totalTokens=n.usage.total_tokens);let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(o=dc(a.finish_reason)),(null==a?void 0:a.logprobs)!=null&&(s.openai.logprobs=a.logprobs),(null==a?void 0:a.text)!=null&&a.text.length>0&&r.enqueue({type:"text-delta",id:"0",delta:a.text})},flush(e){u||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,providerMetadata:s,usage:l})}})),request:{body:n},response:{headers:a}}})}},dg=is(()=>iY(uZ.z.object({dimensions:uZ.z.number().optional(),user:uZ.z.string().optional()}))),dy=is(()=>iY(uH.z.object({data:uH.z.array(uH.z.object({embedding:uH.z.array(uH.z.number())})),usage:uH.z.object({prompt_tokens:uH.z.number()}).nullish()}))),dv=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}doEmbed(e){return eQ(this,arguments,function*({values:e,headers:t,abortSignal:r,providerOptions:n}){var a;if(e.length>this.maxEmbeddingsPerCall)throw new uB.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=null!=(a=yield ip({provider:"openai",providerOptions:n,schema:dg}))?a:{},{responseHeaders:o,value:s,rawValue:l}=yield im({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:a6(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:de,successfulResponseHandler:ik(dy),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.data.map(e=>e.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,response:{headers:o,body:l}}})}},db=is(()=>iY(uG.z.object({data:uG.z.array(uG.z.object({b64_json:uG.z.string(),revised_prompt:uG.z.string().optional()}))}))),d_={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},dw=new Set(["gpt-image-1","gpt-image-1-mini"]),dS=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=d_[this.modelId])?e:1}get provider(){return this.config.provider}doGenerate(e){return eQ(this,arguments,function*({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l,u,d,c;let p=[];null!=n&&p.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&p.push({type:"unsupported-setting",setting:"seed"});let m=null!=(d=null==(u=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:u.call(l))?d:new Date,{value:h,responseHeaders:f}=yield im({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:a6(this.config.headers(),o),body:eZ(eZ({model:this.modelId,prompt:e,n:t,size:r},null!=(c=i.openai)?c:{}),dw.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:de,successfulResponseHandler:ik(db),abortSignal:s,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:p,response:{timestamp:m,modelId:this.modelId,headers:f},providerMetadata:{openai:{images:h.data.map(e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null)}}}})}},dk=is(()=>iY(uW.z.object({text:uW.z.string(),language:uW.z.string().nullish(),duration:uW.z.number().nullish(),words:uW.z.array(uW.z.object({word:uW.z.string(),start:uW.z.number(),end:uW.z.number()})).nullish(),segments:uW.z.array(uW.z.object({id:uW.z.number(),seek:uW.z.number(),start:uW.z.number(),end:uW.z.number(),text:uW.z.string(),tokens:uW.z.array(uW.z.number()),temperature:uW.z.number(),avg_logprob:uW.z.number(),compression_ratio:uW.z.number(),no_speech_prob:uW.z.number()})).nullish()}))),dx=is(()=>iY(uJ.z.object({include:uJ.z.array(uJ.z.string()).optional(),language:uJ.z.string().optional(),prompt:uJ.z.string().optional(),temperature:uJ.z.number().min(0).max(1).default(0).optional(),timestampGranularities:uJ.z.array(uJ.z.enum(["word","segment"])).default(["segment"]).optional()}))),dE={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},dT=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({audio:e,mediaType:t,providerOptions:r}){let n=yield ip({provider:"openai",providerOptions:r,schema:dx}),a=new FormData,i=e instanceof Uint8Array?new Blob([e]):new Blob([i4(e)]);a.append("model",this.modelId);let o=it(t);if(a.append("file",new File([i],"audio",{type:t}),`audio.${o}`),n){for(let[e,t]of Object.entries({include:n.include,language:n.language,prompt:n.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:n.temperature,timestamp_granularities:n.timestampGranularities}))if(null!=t)if(Array.isArray(t))for(let r of t)a.append(`${e}[]`,String(r));else a.append(e,String(t))}return{formData:a,warnings:[]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l;let u=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:d,warnings:c}=yield this.getArgs(e),{value:p,responseHeaders:m,rawValue:h}=yield ih({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),formData:d,failedResponseHandler:de,successfulResponseHandler:ik(dk),abortSignal:e.abortSignal,fetch:this.config.fetch}),f=null!=p.language&&p.language in dE?dE[p.language]:void 0;return{text:p.text,segments:null!=(s=null!=(o=null==(a=p.segments)?void 0:a.map(e=>({text:e.text,startSecond:e.start,endSecond:e.end})))?o:null==(i=p.words)?void 0:i.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?s:[],language:f,durationInSeconds:null!=(l=p.duration)?l:void 0,warnings:c,response:{timestamp:u,modelId:this.modelId,headers:m,body:h}}})}},dO=is(()=>iY(uK.z.object({instructions:uK.z.string().nullish(),speed:uK.z.number().min(.25).max(4).default(1).nullish()}))),dI=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:a,language:i,providerOptions:o}){let s=[],l=yield ip({provider:"openai",providerOptions:o,schema:dO}),u={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:a};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?u.response_format=r:s.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let e={};for(let t in e){let r=e[t];void 0!==r&&(u[t]=r)}}return i&&s.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:u,warnings:s}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n;let a=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{requestBody:i,warnings:o}=yield this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=yield im({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:i,failedResponseHandler:de,successfulResponseHandler:ix(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(i)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}})}},dP=iQ(()=>iY(u1.z.object({action:u1.z.object({type:u1.z.literal("exec"),command:u1.z.array(u1.z.string()),timeoutMs:u1.z.number().optional(),user:u1.z.string().optional(),workingDirectory:u1.z.string().optional(),env:u1.z.record(u1.z.string(),u1.z.string()).optional()})}))),dC=iQ(()=>iY(u1.z.object({output:u1.z.string()})));function dA(e,t){return!!t&&t.some(t=>e.startsWith(t))}iv({id:"openai.local_shell",name:"local_shell",inputSchema:dP,outputSchema:dC});var dj=uQ.z.object({itemId:uQ.z.string().nullish(),reasoningEncryptedContent:uQ.z.string().nullish()});function dz({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}var dR=is(()=>iY(u0.z.union([u0.z.object({type:u0.z.literal("response.output_text.delta"),item_id:u0.z.string(),delta:u0.z.string(),logprobs:u0.z.array(u0.z.object({token:u0.z.string(),logprob:u0.z.number(),top_logprobs:u0.z.array(u0.z.object({token:u0.z.string(),logprob:u0.z.number()}))})).nullish()}),u0.z.object({type:u0.z.enum(["response.completed","response.incomplete"]),response:u0.z.object({incomplete_details:u0.z.object({reason:u0.z.string()}).nullish(),usage:u0.z.object({input_tokens:u0.z.number(),input_tokens_details:u0.z.object({cached_tokens:u0.z.number().nullish()}).nullish(),output_tokens:u0.z.number(),output_tokens_details:u0.z.object({reasoning_tokens:u0.z.number().nullish()}).nullish()}),service_tier:u0.z.string().nullish()})}),u0.z.object({type:u0.z.literal("response.created"),response:u0.z.object({id:u0.z.string(),created_at:u0.z.number(),model:u0.z.string(),service_tier:u0.z.string().nullish()})}),u0.z.object({type:u0.z.literal("response.output_item.added"),output_index:u0.z.number(),item:u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("message"),id:u0.z.string()}),u0.z.object({type:u0.z.literal("reasoning"),id:u0.z.string(),encrypted_content:u0.z.string().nullish()}),u0.z.object({type:u0.z.literal("function_call"),id:u0.z.string(),call_id:u0.z.string(),name:u0.z.string(),arguments:u0.z.string()}),u0.z.object({type:u0.z.literal("web_search_call"),id:u0.z.string(),status:u0.z.string()}),u0.z.object({type:u0.z.literal("computer_call"),id:u0.z.string(),status:u0.z.string()}),u0.z.object({type:u0.z.literal("file_search_call"),id:u0.z.string()}),u0.z.object({type:u0.z.literal("image_generation_call"),id:u0.z.string()}),u0.z.object({type:u0.z.literal("code_interpreter_call"),id:u0.z.string(),container_id:u0.z.string(),code:u0.z.string().nullable(),outputs:u0.z.array(u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("logs"),logs:u0.z.string()}),u0.z.object({type:u0.z.literal("image"),url:u0.z.string()})])).nullable(),status:u0.z.string()})])}),u0.z.object({type:u0.z.literal("response.output_item.done"),output_index:u0.z.number(),item:u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("message"),id:u0.z.string()}),u0.z.object({type:u0.z.literal("reasoning"),id:u0.z.string(),encrypted_content:u0.z.string().nullish()}),u0.z.object({type:u0.z.literal("function_call"),id:u0.z.string(),call_id:u0.z.string(),name:u0.z.string(),arguments:u0.z.string(),status:u0.z.literal("completed")}),u0.z.object({type:u0.z.literal("code_interpreter_call"),id:u0.z.string(),code:u0.z.string().nullable(),container_id:u0.z.string(),outputs:u0.z.array(u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("logs"),logs:u0.z.string()}),u0.z.object({type:u0.z.literal("image"),url:u0.z.string()})])).nullable()}),u0.z.object({type:u0.z.literal("image_generation_call"),id:u0.z.string(),result:u0.z.string()}),u0.z.object({type:u0.z.literal("web_search_call"),id:u0.z.string(),status:u0.z.string(),action:u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("search"),query:u0.z.string().nullish()}),u0.z.object({type:u0.z.literal("open_page"),url:u0.z.string()}),u0.z.object({type:u0.z.literal("find"),url:u0.z.string(),pattern:u0.z.string()})])}),u0.z.object({type:u0.z.literal("file_search_call"),id:u0.z.string(),queries:u0.z.array(u0.z.string()),results:u0.z.array(u0.z.object({attributes:u0.z.record(u0.z.string(),u0.z.unknown()),file_id:u0.z.string(),filename:u0.z.string(),score:u0.z.number(),text:u0.z.string()})).nullish()}),u0.z.object({type:u0.z.literal("local_shell_call"),id:u0.z.string(),call_id:u0.z.string(),action:u0.z.object({type:u0.z.literal("exec"),command:u0.z.array(u0.z.string()),timeout_ms:u0.z.number().optional(),user:u0.z.string().optional(),working_directory:u0.z.string().optional(),env:u0.z.record(u0.z.string(),u0.z.string()).optional()})}),u0.z.object({type:u0.z.literal("computer_call"),id:u0.z.string(),status:u0.z.literal("completed")})])}),u0.z.object({type:u0.z.literal("response.function_call_arguments.delta"),item_id:u0.z.string(),output_index:u0.z.number(),delta:u0.z.string()}),u0.z.object({type:u0.z.literal("response.image_generation_call.partial_image"),item_id:u0.z.string(),output_index:u0.z.number(),partial_image_b64:u0.z.string()}),u0.z.object({type:u0.z.literal("response.code_interpreter_call_code.delta"),item_id:u0.z.string(),output_index:u0.z.number(),delta:u0.z.string()}),u0.z.object({type:u0.z.literal("response.code_interpreter_call_code.done"),item_id:u0.z.string(),output_index:u0.z.number(),code:u0.z.string()}),u0.z.object({type:u0.z.literal("response.output_text.annotation.added"),annotation:u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("url_citation"),url:u0.z.string(),title:u0.z.string()}),u0.z.object({type:u0.z.literal("file_citation"),file_id:u0.z.string(),filename:u0.z.string().nullish(),index:u0.z.number().nullish(),start_index:u0.z.number().nullish(),end_index:u0.z.number().nullish(),quote:u0.z.string().nullish()})])}),u0.z.object({type:u0.z.literal("response.reasoning_summary_part.added"),item_id:u0.z.string(),summary_index:u0.z.number()}),u0.z.object({type:u0.z.literal("response.reasoning_summary_text.delta"),item_id:u0.z.string(),summary_index:u0.z.number(),delta:u0.z.string()}),u0.z.object({type:u0.z.literal("response.reasoning_summary_part.done"),item_id:u0.z.string(),summary_index:u0.z.number()}),u0.z.object({type:u0.z.literal("error"),code:u0.z.string(),message:u0.z.string(),param:u0.z.string().nullish(),sequence_number:u0.z.number()}),u0.z.object({type:u0.z.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),dN=is(()=>iY(u0.z.object({id:u0.z.string(),created_at:u0.z.number(),error:u0.z.object({code:u0.z.string(),message:u0.z.string()}).nullish(),model:u0.z.string(),output:u0.z.array(u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("message"),role:u0.z.literal("assistant"),id:u0.z.string(),content:u0.z.array(u0.z.object({type:u0.z.literal("output_text"),text:u0.z.string(),logprobs:u0.z.array(u0.z.object({token:u0.z.string(),logprob:u0.z.number(),top_logprobs:u0.z.array(u0.z.object({token:u0.z.string(),logprob:u0.z.number()}))})).nullish(),annotations:u0.z.array(u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("url_citation"),start_index:u0.z.number(),end_index:u0.z.number(),url:u0.z.string(),title:u0.z.string()}),u0.z.object({type:u0.z.literal("file_citation"),file_id:u0.z.string(),filename:u0.z.string().nullish(),index:u0.z.number().nullish(),start_index:u0.z.number().nullish(),end_index:u0.z.number().nullish(),quote:u0.z.string().nullish()}),u0.z.object({type:u0.z.literal("container_file_citation")})]))}))}),u0.z.object({type:u0.z.literal("web_search_call"),id:u0.z.string(),status:u0.z.string(),action:u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("search"),query:u0.z.string().nullish()}),u0.z.object({type:u0.z.literal("open_page"),url:u0.z.string()}),u0.z.object({type:u0.z.literal("find"),url:u0.z.string(),pattern:u0.z.string()})])}),u0.z.object({type:u0.z.literal("file_search_call"),id:u0.z.string(),queries:u0.z.array(u0.z.string()),results:u0.z.array(u0.z.object({attributes:u0.z.record(u0.z.string(),u0.z.unknown()),file_id:u0.z.string(),filename:u0.z.string(),score:u0.z.number(),text:u0.z.string()})).nullish()}),u0.z.object({type:u0.z.literal("code_interpreter_call"),id:u0.z.string(),code:u0.z.string().nullable(),container_id:u0.z.string(),outputs:u0.z.array(u0.z.discriminatedUnion("type",[u0.z.object({type:u0.z.literal("logs"),logs:u0.z.string()}),u0.z.object({type:u0.z.literal("image"),url:u0.z.string()})])).nullable()}),u0.z.object({type:u0.z.literal("image_generation_call"),id:u0.z.string(),result:u0.z.string()}),u0.z.object({type:u0.z.literal("local_shell_call"),id:u0.z.string(),call_id:u0.z.string(),action:u0.z.object({type:u0.z.literal("exec"),command:u0.z.array(u0.z.string()),timeout_ms:u0.z.number().optional(),user:u0.z.string().optional(),working_directory:u0.z.string().optional(),env:u0.z.record(u0.z.string(),u0.z.string()).optional()})}),u0.z.object({type:u0.z.literal("function_call"),call_id:u0.z.string(),name:u0.z.string(),arguments:u0.z.string(),id:u0.z.string()}),u0.z.object({type:u0.z.literal("computer_call"),id:u0.z.string(),status:u0.z.string().optional()}),u0.z.object({type:u0.z.literal("reasoning"),id:u0.z.string(),encrypted_content:u0.z.string().nullish(),summary:u0.z.array(u0.z.object({type:u0.z.literal("summary_text"),text:u0.z.string()}))})])),service_tier:u0.z.string().nullish(),incomplete_details:u0.z.object({reason:u0.z.string()}).nullish(),usage:u0.z.object({input_tokens:u0.z.number(),input_tokens_details:u0.z.object({cached_tokens:u0.z.number().nullish()}).nullish(),output_tokens:u0.z.number(),output_tokens_details:u0.z.object({reasoning_tokens:u0.z.number().nullish()}).nullish()})}))),d$=is(()=>iY(u2.z.object({include:u2.z.array(u2.z.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:u2.z.string().nullish(),logprobs:u2.z.union([u2.z.boolean(),u2.z.number().min(1).max(20)]).optional(),maxToolCalls:u2.z.number().nullish(),metadata:u2.z.any().nullish(),parallelToolCalls:u2.z.boolean().nullish(),previousResponseId:u2.z.string().nullish(),promptCacheKey:u2.z.string().nullish(),reasoningEffort:u2.z.string().nullish(),reasoningSummary:u2.z.string().nullish(),safetyIdentifier:u2.z.string().nullish(),serviceTier:u2.z.enum(["auto","flex","priority","default"]).nullish(),store:u2.z.boolean().nullish(),strictJsonSchema:u2.z.boolean().nullish(),textVerbosity:u2.z.enum(["low","medium","high"]).nullish(),truncation:u2.z.enum(["auto","disabled"]).nullish(),user:u2.z.string().nullish()}))),dM=iQ(()=>iY(u6.z.object({code:u6.z.string().nullish(),containerId:u6.z.string()}))),dD=iQ(()=>iY(u6.z.object({outputs:u6.z.array(u6.z.discriminatedUnion("type",[u6.z.object({type:u6.z.literal("logs"),logs:u6.z.string()}),u6.z.object({type:u6.z.literal("image"),url:u6.z.string()})])).nullish()}))),dF=iQ(()=>iY(u6.z.object({container:u6.z.union([u6.z.string(),u6.z.object({fileIds:u6.z.array(u6.z.string()).optional()})]).optional()}))),dU=iv({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:dM,outputSchema:dD}),dL=u3.z.object({key:u3.z.string(),type:u3.z.enum(["eq","ne","gt","gte","lt","lte"]),value:u3.z.union([u3.z.string(),u3.z.number(),u3.z.boolean()])}),dq=u3.z.object({type:u3.z.enum(["and","or"]),filters:u3.z.array(u3.z.union([dL,u3.z.lazy(()=>dq)]))}),dV=iQ(()=>iY(u3.z.object({vectorStoreIds:u3.z.array(u3.z.string()),maxNumResults:u3.z.number().optional(),ranking:u3.z.object({ranker:u3.z.string().optional(),scoreThreshold:u3.z.number().optional()}).optional(),filters:u3.z.union([dL,dq]).optional()}))),dB=iQ(()=>iY(u3.z.object({queries:u3.z.array(u3.z.string()),results:u3.z.array(u3.z.object({attributes:u3.z.record(u3.z.string(),u3.z.unknown()),fileId:u3.z.string(),filename:u3.z.string(),score:u3.z.number(),text:u3.z.string()})).nullable()}))),dZ=iv({id:"openai.file_search",name:"file_search",inputSchema:u3.z.object({}),outputSchema:dB}),dH=iQ(()=>iY(u9.z.object({filters:u9.z.object({allowedDomains:u9.z.array(u9.z.string()).optional()}).optional(),searchContextSize:u9.z.enum(["low","medium","high"]).optional(),userLocation:u9.z.object({type:u9.z.literal("approximate"),country:u9.z.string().optional(),city:u9.z.string().optional(),region:u9.z.string().optional(),timezone:u9.z.string().optional()}).optional()})));iv({id:"openai.web_search",name:"web_search",inputSchema:iQ(()=>iY(u9.z.object({}))),outputSchema:iQ(()=>iY(u9.z.object({action:u9.z.discriminatedUnion("type",[u9.z.object({type:u9.z.literal("search"),query:u9.z.string().optional()}),u9.z.object({type:u9.z.literal("openPage"),url:u9.z.string()}),u9.z.object({type:u9.z.literal("find"),url:u9.z.string(),pattern:u9.z.string()})])})))});var dG=iQ(()=>iY(u5.z.object({searchContextSize:u5.z.enum(["low","medium","high"]).optional(),userLocation:u5.z.object({type:u5.z.literal("approximate"),country:u5.z.string().optional(),city:u5.z.string().optional(),region:u5.z.string().optional(),timezone:u5.z.string().optional()}).optional()})));iv({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:iQ(()=>iY(u5.z.object({}))),outputSchema:iQ(()=>iY(u5.z.object({action:u5.z.discriminatedUnion("type",[u5.z.object({type:u5.z.literal("search"),query:u5.z.string().optional()}),u5.z.object({type:u5.z.literal("openPage"),url:u5.z.string()}),u5.z.object({type:u5.z.literal("find"),url:u5.z.string(),pattern:u5.z.string()})])})))});var dW=iQ(()=>iY(u8.z.object({background:u8.z.enum(["auto","opaque","transparent"]).optional(),inputFidelity:u8.z.enum(["low","high"]).optional(),inputImageMask:u8.z.object({fileId:u8.z.string().optional(),imageUrl:u8.z.string().optional()}).optional(),model:u8.z.string().optional(),moderation:u8.z.enum(["auto"]).optional(),outputCompression:u8.z.number().int().min(0).max(100).optional(),outputFormat:u8.z.enum(["png","jpeg","webp"]).optional(),partialImages:u8.z.number().int().min(0).max(3).optional(),quality:u8.z.enum(["auto","low","medium","high"]).optional(),size:u8.z.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),dJ=iv({id:"openai.image_generation",name:"image_generation",inputSchema:iQ(()=>iY(u8.z.object({}))),outputSchema:iQ(()=>iY(u8.z.object({result:u8.z.string()})))}),dK=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({maxOutputTokens:e,temperature:t,stopSequences:r,topP:n,topK:a,presencePenalty:i,frequencyPenalty:o,seed:s,prompt:l,providerOptions:u,tools:d,toolChoice:c,responseFormat:p}){var m,h,f,g,y;let v,b=[],_=(v={systemMessageMode:"system",supportsFlexProcessing:(y=this.modelId).startsWith("o3")||y.startsWith("o4-mini")||y.startsWith("gpt-5")&&!y.startsWith("gpt-5-chat"),supportsPriorityProcessing:y.startsWith("gpt-4")||y.startsWith("gpt-5-mini")||y.startsWith("gpt-5")&&!y.startsWith("gpt-5-nano")&&!y.startsWith("gpt-5-chat")||y.startsWith("o3")||y.startsWith("o4-mini")},y.startsWith("gpt-5-chat")?eH(eZ({},v),{isReasoningModel:!1}):y.startsWith("o")||y.startsWith("gpt-5")||y.startsWith("codex-")||y.startsWith("computer-use")?y.startsWith("o1-mini")||y.startsWith("o1-preview")?eH(eZ({},v),{isReasoningModel:!0,systemMessageMode:"remove"}):eH(eZ({},v),{isReasoningModel:!0,systemMessageMode:"developer"}):eH(eZ({},v),{isReasoningModel:!1}));null!=a&&b.push({type:"unsupported-setting",setting:"topK"}),null!=s&&b.push({type:"unsupported-setting",setting:"seed"}),null!=i&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=o&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&b.push({type:"unsupported-setting",setting:"stopSequences"});let w=yield ip({provider:"openai",providerOptions:u,schema:d$}),{input:S,warnings:k}=yield function(e){return eQ(this,arguments,function*({prompt:e,systemMessageMode:t,fileIdPrefixes:r,store:n,hasLocalShellTool:a=!1}){var i,o,s,l;let u=[],d=[];for(let{role:c,content:p}of e)switch(c){case"system":switch(t){case"system":u.push({role:"system",content:p});break;case"developer":u.push({role:"developer",content:p});break;case"remove":d.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":u.push({role:"user",content:p.map((e,t)=>{var n,a,i;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return eH(eZ({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"==typeof e.data&&dA(e.data,r)?{file_id:e.data}:{image_url:`data:${t};base64,${i3(e.data)}`}),{detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail})}if("application/pdf"===e.mediaType){if(e.data instanceof URL)return{type:"input_file",file_url:e.data.toString()};return eZ({type:"input_file"},"string"==typeof e.data&&dA(e.data,r)?{file_id:e.data}:{filename:null!=(i=e.filename)?i:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${i3(e.data)}`})}throw new uX.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e={},t={};for(let r of p)switch(r.type){case"text":{let e=null==(o=null==(i=r.providerOptions)?void 0:i.openai)?void 0:o.itemId;if(n&&null!=e){u.push({type:"item_reference",id:e});break}u.push({role:"assistant",content:[{type:"output_text",text:r.text}],id:e});break}case"tool-call":{if(t[r.toolCallId]=r,r.providerExecuted)break;let e=null==(l=null==(s=r.providerOptions)?void 0:s.openai)?void 0:l.itemId;if(n&&null!=e){u.push({type:"item_reference",id:e});break}if(a&&"local_shell"===r.toolName){let t=yield il({value:r.input,schema:dP});u.push({type:"local_shell_call",call_id:r.toolCallId,id:e,action:{type:"exec",command:t.action.command,timeout_ms:t.action.timeoutMs,user:t.action.user,working_directory:t.action.workingDirectory,env:t.action.env}});break}u.push({type:"function_call",call_id:r.toolCallId,name:r.toolName,arguments:JSON.stringify(r.input),id:e});break}case"tool-result":n?u.push({type:"item_reference",id:r.toolCallId}):d.push({type:"other",message:`Results for OpenAI tool ${r.toolName} are not sent to the API when store is false`});break;case"reasoning":{let t=yield ip({provider:"openai",providerOptions:r.providerOptions,schema:dj}),a=null==t?void 0:t.itemId;if(null!=a){let i=e[a];if(n)void 0===i&&(u.push({type:"item_reference",id:a}),e[a]={type:"reasoning",id:a,summary:[]});else{let n=[];r.text.length>0?n.push({type:"summary_text",text:r.text}):void 0!==i&&d.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(r)}.`}),void 0===i?(e[a]={type:"reasoning",id:a,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:n},u.push(e[a])):(i.summary.push(...n),(null==t?void 0:t.reasoningEncryptedContent)!=null&&(i.encrypted_content=t.reasoningEncryptedContent))}}else d.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(r)}.`})}}break}case"tool":for(let e of p){let t,r=e.output;if(a&&"local_shell"===e.toolName&&"json"===r.type){let t=yield il({value:r.value,schema:dC});u.push({type:"local_shell_call_output",call_id:e.toolCallId,output:t.output});break}switch(r.type){case"text":case"error-text":t=r.value;break;case"json":case"error-json":t=JSON.stringify(r.value);break;case"content":t=r.value.map(e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${e.mediaType};base64,${e.data}`}:{type:"input_file",filename:"data",file_data:`data:${e.mediaType};base64,${e.data}`}}})}u.push({type:"function_call_output",call_id:e.toolCallId,output:t})}break;default:throw Error(`Unsupported role: ${c}`)}return{input:u,warnings:d}})}({prompt:l,systemMessageMode:_.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==w?void 0:w.store)||m,hasLocalShellTool:O("openai.local_shell")});b.push(...k);let x=null!=(h=null==w?void 0:w.strictJsonSchema)&&h,E=null==w?void 0:w.include;function T(e){null==E?E=[e]:E.includes(e)||(E=[...E,e])}function O(e){return(null==d?void 0:d.find(t=>"provider-defined"===t.type&&t.id===e))!=null}let I="number"==typeof(null==w?void 0:w.logprobs)?null==w?void 0:w.logprobs:(null==w?void 0:w.logprobs)===!0?20:void 0;I&&T("message.output_text.logprobs");let P=null==(f=null==d?void 0:d.find(e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id)))?void 0:f.name;P&&T("web_search_call.action.sources"),O("openai.code_interpreter")&&T("code_interpreter_call.outputs");let C=null==w?void 0:w.store;!1===C&&_.isReasoningModel&&T("reasoning.encrypted_content");let A=eZ(eH(eZ({model:this.modelId,input:S,temperature:t,top_p:n,max_output_tokens:e},((null==p?void 0:p.type)==="json"||(null==w?void 0:w.textVerbosity))&&{text:eZ(eZ({},(null==p?void 0:p.type)==="json"&&{format:null!=p.schema?{type:"json_schema",strict:x,name:null!=(g=p.name)?g:"response",description:p.description,schema:p.schema}:{type:"json_object"}}),(null==w?void 0:w.textVerbosity)&&{verbosity:w.textVerbosity})}),{max_tool_calls:null==w?void 0:w.maxToolCalls,metadata:null==w?void 0:w.metadata,parallel_tool_calls:null==w?void 0:w.parallelToolCalls,previous_response_id:null==w?void 0:w.previousResponseId,store:C,user:null==w?void 0:w.user,instructions:null==w?void 0:w.instructions,service_tier:null==w?void 0:w.serviceTier,include:E,prompt_cache_key:null==w?void 0:w.promptCacheKey,safety_identifier:null==w?void 0:w.safetyIdentifier,top_logprobs:I,truncation:null==w?void 0:w.truncation}),_.isReasoningModel&&((null==w?void 0:w.reasoningEffort)!=null||(null==w?void 0:w.reasoningSummary)!=null)&&{reasoning:eZ(eZ({},(null==w?void 0:w.reasoningEffort)!=null&&{effort:w.reasoningEffort}),(null==w?void 0:w.reasoningSummary)!=null&&{summary:w.reasoningSummary})});_.isReasoningModel?(null!=A.temperature&&(A.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=A.top_p&&(A.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):((null==w?void 0:w.reasoningEffort)!=null&&b.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),(null==w?void 0:w.reasoningSummary)!=null&&b.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),(null==w?void 0:w.serviceTier)!=="flex"||_.supportsFlexProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete A.service_tier),(null==w?void 0:w.serviceTier)!=="priority"||_.supportsPriorityProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete A.service_tier);let{tools:j,toolChoice:z,toolWarnings:R}=yield function(e){return eQ(this,arguments,function*({tools:e,toolChoice:t,strictJsonSchema:r}){e=(null==e?void 0:e.length)?e:void 0;let n=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let a=[];for(let t of e)switch(t.type){case"function":a.push({type:"function",name:t.name,description:t.description,parameters:t.inputSchema,strict:r});break;case"provider-defined":switch(t.id){case"openai.file_search":{let e=yield il({value:t.args,schema:dV});a.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":a.push({type:"local_shell"});break;case"openai.web_search_preview":{let e=yield il({value:t.args,schema:dG});a.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{let e=yield il({value:t.args,schema:dH});a.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{let e=yield il({value:t.args,schema:dF});a.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"==typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{let e=yield il({value:t.args,schema:dW});a.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression})}}break;default:n.push({type:"unsupported-tool",tool:t})}if(null==t)return{tools:a,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:a,toolChoice:i,toolWarnings:n};case"tool":return{tools:a,toolChoice:"code_interpreter"===t.toolName||"file_search"===t.toolName||"image_generation"===t.toolName||"web_search_preview"===t.toolName||"web_search"===t.toolName?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:n};default:throw new u4.UnsupportedFunctionalityError({functionality:`tool choice type: ${i}`})}})}({tools:d,toolChoice:c,strictJsonSchema:x});return{webSearchToolName:P,args:eH(eZ({},A),{tools:j,tool_choice:z}),warnings:[...b,...R],store:C}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b;let{args:_,warnings:w,webSearchToolName:S}=yield this.getArgs(e),k=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:x,value:E,rawValue:T}=yield im({url:k,headers:a6(this.config.headers(),e.headers),body:_,failedResponseHandler:de,successfulResponseHandler:ik(dN),abortSignal:e.abortSignal,fetch:this.config.fetch});if(E.error)throw new uY.APICallError({message:E.error.message,url:k,requestBodyValues:_,statusCode:400,responseHeaders:x,responseBody:T,isRetryable:!1});let O=[],I=[],P=!1;for(let f of E.output)switch(f.type){case"reasoning":for(let e of(0===f.summary.length&&f.summary.push({type:"summary_text",text:""}),f.summary))O.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:f.id,reasoningEncryptedContent:null!=(t=f.encrypted_content)?t:null}}});break;case"image_generation_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"image_generation",result:{result:f.result},providerExecuted:!0});break;case"local_shell_call":O.push({type:"tool-call",toolCallId:f.call_id,toolName:"local_shell",input:JSON.stringify({action:f.action}),providerMetadata:{openai:{itemId:f.id}}});break;case"message":for(let t of f.content)for(let m of((null==(n=null==(r=e.providerOptions)?void 0:r.openai)?void 0:n.logprobs)&&t.logprobs&&I.push(t.logprobs),O.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:f.id}}}),t.annotations))"url_citation"===m.type?O.push({type:"source",sourceType:"url",id:null!=(o=null==(i=(a=this.config).generateId)?void 0:i.call(a))?o:a9(),url:m.url,title:m.title}):"file_citation"===m.type&&O.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:a9(),mediaType:"text/plain",title:null!=(c=null!=(d=m.quote)?d:m.filename)?c:"Document",filename:null!=(p=m.filename)?p:m.file_id});break;case"function_call":P=!0,O.push({type:"tool-call",toolCallId:f.call_id,toolName:f.name,input:f.arguments,providerMetadata:{openai:{itemId:f.id}}});break;case"web_search_call":O.push({type:"tool-call",toolCallId:f.id,toolName:null!=S?S:"web_search",input:JSON.stringify({}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:null!=S?S:"web_search",result:dX(f.action),providerExecuted:!0});break;case"computer_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"computer_use",input:"",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:f.status||"completed"},providerExecuted:!0});break;case"file_search_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"file_search",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"file_search",result:{queries:f.queries,results:null!=(h=null==(m=f.results)?void 0:m.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?h:null},providerExecuted:!0});break;case"code_interpreter_call":O.push({type:"tool-call",toolCallId:f.id,toolName:"code_interpreter",input:JSON.stringify({code:f.code,containerId:f.container_id}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:f.id,toolName:"code_interpreter",result:{outputs:f.outputs},providerExecuted:!0})}let C={openai:{responseId:E.id}};return I.length>0&&(C.openai.logprobs=I),"string"==typeof E.service_tier&&(C.openai.serviceTier=E.service_tier),{content:O,finishReason:dz({finishReason:null==(f=E.incomplete_details)?void 0:f.reason,hasFunctionCall:P}),usage:{inputTokens:E.usage.input_tokens,outputTokens:E.usage.output_tokens,totalTokens:E.usage.input_tokens+E.usage.output_tokens,reasoningTokens:null!=(y=null==(g=E.usage.output_tokens_details)?void 0:g.reasoning_tokens)?y:void 0,cachedInputTokens:null!=(b=null==(v=E.usage.input_tokens_details)?void 0:v.cached_tokens)?b:void 0},request:{body:_},response:{id:E.id,timestamp:new Date(1e3*E.created_at),modelId:E.model,headers:x,body:T},providerMetadata:C,warnings:w}})}doStream(e){return eQ(this,null,function*(){let t,{args:r,warnings:n,webSearchToolName:a,store:i}=yield this.getArgs(e),{responseHeaders:o,value:s}=yield im({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},r),{stream:!0}),failedResponseHandler:de,successfulResponseHandler:iw(dR),abortSignal:e.abortSignal,fetch:this.config.fetch}),l=this,u="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},c=[],p=null,m={},h=!1,f={};return{stream:s.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(r,n){var o,s,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:r.rawValue}),!r.success){u="error",n.enqueue({type:"error",error:r.error});return}let M=r.value;if(dY(M))"function_call"===M.item.type?(m[M.output_index]={toolName:M.item.name,toolCallId:M.item.call_id},n.enqueue({type:"tool-input-start",id:M.item.call_id,toolName:M.item.name})):"web_search_call"===M.item.type?(m[M.output_index]={toolName:null!=a?a:"web_search",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:null!=a?a:"web_search",providerExecuted:!0}),n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"web_search",input:JSON.stringify({}),providerExecuted:!0})):"computer_call"===M.item.type?(m[M.output_index]={toolName:"computer_use",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===M.item.type?(m[M.output_index]={toolName:"code_interpreter",toolCallId:M.item.id,codeInterpreter:{containerId:M.item.container_id}},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:M.item.id,delta:`{"containerId":"${M.item.container_id}","code":"`})):"file_search_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===M.item.type?n.enqueue({type:"text-start",id:M.item.id,providerMetadata:{openai:{itemId:M.item.id}}}):dY(M)&&"reasoning"===M.item.type&&(f[M.item.id]={encryptedContent:M.item.encrypted_content,summaryParts:{0:"active"}},n.enqueue({type:"reasoning-start",id:`${M.item.id}:0`,providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(o=M.item.encrypted_content)?o:null}}}));else if("response.output_item.done"===M.type){if("function_call"===M.item.type)m[M.output_index]=void 0,h=!0,n.enqueue({type:"tool-input-end",id:M.item.call_id}),n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:M.item.name,input:M.item.arguments,providerMetadata:{openai:{itemId:M.item.id}}});else if("web_search_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"web_search",result:dX(M.item.action),providerExecuted:!0});else if("computer_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"file_search",result:{queries:M.item.queries,results:null!=(g=null==(s=M.item.results)?void 0:s.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?g:null},providerExecuted:!0});else if("code_interpreter_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"code_interpreter",result:{outputs:M.item.outputs},providerExecuted:!0});else if("image_generation_call"===M.item.type)n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"image_generation",result:{result:M.item.result},providerExecuted:!0});else if("local_shell_call"===M.item.type)m[M.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:M.item.action.command,timeoutMs:M.item.action.timeout_ms,user:M.item.action.user,workingDirectory:M.item.action.working_directory,env:M.item.action.env}}),providerMetadata:{openai:{itemId:M.item.id}}});else if("message"===M.item.type)n.enqueue({type:"text-end",id:M.item.id});else if("reasoning"===M.item.type){for(let e of Object.entries(f[M.item.id].summaryParts).filter(([e,t])=>"active"===t||"can-conclude"===t).map(([e])=>e))n.enqueue({type:"reasoning-end",id:`${M.item.id}:${e}`,providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(y=M.item.encrypted_content)?y:null}}});delete f[M.item.id]}}else if("response.function_call_arguments.delta"===M.type){let e=m[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:M.delta})}else if("response.code_interpreter_call_code.delta"===M.type){let e=m[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(M.delta).slice(1,-1)})}else if("response.code_interpreter_call_code.done"===M.type){let e=m[M.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else if("response.created"===M.type)p=M.response.id,n.enqueue({type:"response-metadata",id:M.response.id,timestamp:new Date(1e3*M.response.created_at),modelId:M.response.model});else if("response.output_text.delta"===M.type)n.enqueue({type:"text-delta",id:M.item_id,delta:M.delta}),(null==(b=null==(v=e.providerOptions)?void 0:v.openai)?void 0:b.logprobs)&&M.logprobs&&c.push(M.logprobs);else if("response.reasoning_summary_part.added"===M.type){if(M.summary_index>0){let e=f[M.item_id];for(let t of(e.summaryParts[M.summary_index]="active",Object.keys(e.summaryParts)))"can-conclude"===e.summaryParts[t]&&(n.enqueue({type:"reasoning-end",id:`${M.item_id}:${t}`,providerMetadata:{openai:{itemId:M.item_id}}}),e.summaryParts[t]="concluded");n.enqueue({type:"reasoning-start",id:`${M.item_id}:${M.summary_index}`,providerMetadata:{openai:{itemId:M.item_id,reasoningEncryptedContent:null!=(w=null==(_=f[M.item_id])?void 0:_.encryptedContent)?w:null}}})}}else{"response.reasoning_summary_text.delta"===M.type?n.enqueue({type:"reasoning-delta",id:`${M.item_id}:${M.summary_index}`,delta:M.delta,providerMetadata:{openai:{itemId:M.item_id}}}):"response.reasoning_summary_part.done"===M.type?i?(n.enqueue({type:"reasoning-end",id:`${M.item_id}:${M.summary_index}`,providerMetadata:{openai:{itemId:M.item_id}}}),f[M.item_id].summaryParts[M.summary_index]="concluded"):f[M.item_id].summaryParts[M.summary_index]="can-conclude":"response.completed"===($=M).type||"response.incomplete"===$.type?(u=dz({finishReason:null==(S=M.response.incomplete_details)?void 0:S.reason,hasFunctionCall:h}),d.inputTokens=M.response.usage.input_tokens,d.outputTokens=M.response.usage.output_tokens,d.totalTokens=M.response.usage.input_tokens+M.response.usage.output_tokens,d.reasoningTokens=null!=(x=null==(k=M.response.usage.output_tokens_details)?void 0:k.reasoning_tokens)?x:void 0,d.cachedInputTokens=null!=(T=null==(E=M.response.usage.input_tokens_details)?void 0:E.cached_tokens)?T:void 0,"string"==typeof M.response.service_tier&&(t=M.response.service_tier)):"response.output_text.annotation.added"===M.type?"url_citation"===M.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(P=null==(I=(O=l.config).generateId)?void 0:I.call(O))?P:a9(),url:M.annotation.url,title:M.annotation.title}):"file_citation"===M.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(j=null==(A=(C=l.config).generateId)?void 0:A.call(C))?j:a9(),mediaType:"text/plain",title:null!=(R=null!=(z=M.annotation.quote)?z:M.annotation.filename)?R:"Document",filename:null!=(N=M.annotation.filename)?N:M.annotation.file_id}):"error"===M.type&&n.enqueue({type:"error",error:M})}},flush(e){let r={openai:{responseId:p}};c.length>0&&(r.openai.logprobs=c),void 0!==t&&(r.openai.serviceTier=t),e.enqueue({type:"finish",finishReason:u,usage:d,providerMetadata:r})}})),request:{body:r},response:{headers:o}}})}};function dY(e){return"response.output_item.added"===e.type}function dX(e){var t;switch(e.type){case"search":return{action:{type:"search",query:null!=(t=e.query)?t:void 0}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}var dQ={codeInterpreter:(e={})=>dU(e),fileSearch:dZ,imageGeneration:(e={})=>dJ(e)};function d1(e={}){var t;let r=()=>a7(eZ({"api-key":ie({apiKey:e.apiKey,environmentVariableName:"AZURE_API_KEY",description:"Azure OpenAI"})},e.headers),"ai-sdk/azure/2.0.54"),n=null!=(t=e.apiVersion)?t:"v1",a=({path:t,modelId:r})=>{var a;let i,o=null!=(a=e.baseURL)?a:`https://${function({settingValue:e,environmentVariableName:t,settingName:r,description:n}){if("string"==typeof e)return e;if(null!=e)throw new aB.LoadSettingError({message:`${n} setting must be a string.`});if("u"<typeof process)throw new aB.LoadSettingError({message:`${n} setting is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new aB.LoadSettingError({message:`${n} setting is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new aB.LoadSettingError({message:`${n} setting must be a string. The value of the ${t} environment variable is not a string.`});return e}({settingValue:e.resourceName,settingName:"resourceName",environmentVariableName:"AZURE_RESOURCE_NAME",description:"Azure OpenAI resource name"})}.openai.azure.com/openai`;return(i=new URL(e.useDeploymentBasedUrls?`${o}/deployments/${r}${t}`:`${o}/v1${t}`)).searchParams.set("api-version",n),i.toString()},i=t=>new ds(t,{provider:"azure.chat",url:a,headers:r,fetch:e.fetch}),o=t=>new dv(t,{provider:"azure.embeddings",headers:r,url:a,fetch:e.fetch}),s=t=>new dS(t,{provider:"azure.image",url:a,headers:r,fetch:e.fetch}),l=function(e){if(new.target)throw Error("The Azure OpenAI model function cannot be called with the new keyword.");return i(e)};return l.languageModel=i,l.chat=i,l.completion=t=>new df(t,{provider:"azure.completion",url:a,headers:r,fetch:e.fetch}),l.embedding=o,l.image=s,l.imageModel=s,l.textEmbedding=o,l.textEmbeddingModel=o,l.responses=t=>new dK(t,{provider:"azure.responses",url:a,headers:r,fetch:e.fetch,fileIdPrefixes:["assistant-"]}),l.transcription=t=>new dT(t,{provider:"azure.transcription",url:a,headers:r,fetch:e.fetch}),l.speech=t=>new dI(t,{provider:"azure.speech",url:a,headers:r,fetch:e.fetch}),l.tools=dQ,l}var d0=d1(),d2=e.r(76261),d4=e.r(76261),d6=e.r(72358),d3=e.r(76261),d9=e.r(72358),d5=e.r(72358),d8=e.r(76261),d7=e.r(72358),ce=e.r(72358);function ct({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}var cr=d9.z.object({reasoningFormat:d9.z.enum(["parsed","raw","hidden"]).optional(),reasoningEffort:d9.z.string().optional(),parallelToolCalls:d9.z.boolean().optional(),user:d9.z.string().optional(),structuredOutputs:d9.z.boolean().optional(),serviceTier:d9.z.enum(["on_demand","flex","auto"]).optional()}),cn=d5.z.object({error:d5.z.object({message:d5.z.string(),type:d5.z.string()})}),ca=i_({errorSchema:cn,errorToMessage:e=>e.error.message}),ci=["openai/gpt-oss-20b","openai/gpt-oss-120b"];function co(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var cs=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,stream:d,tools:c,toolChoice:p,providerOptions:m}){var h,f;let g=[],y=yield ip({provider:"groq",providerOptions:m,schema:cr}),v=null==(h=null==y?void 0:y.structuredOutputs)||h;null!=a&&g.push({type:"unsupported-setting",setting:"topK"}),(null==l?void 0:l.type)!=="json"||null==l.schema||v||g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{tools:b,toolChoice:_,toolWarnings:w}=function({tools:e,toolChoice:t,modelId:r}){e=(null==e?void 0:e.length)?e:void 0;let n=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let a=[];for(let t of e)if("provider-defined"===t.type)if("groq.browser_search"===t.id)ci.includes(r)?a.push({type:"browser_search"}):n.push({type:"unsupported-tool",tool:t,details:`Browser search is only supported on the following models: ${ci.join(", ")}. Current model: ${r}`});else n.push({type:"unsupported-tool",tool:t});else a.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}});if(null==t)return{tools:a,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:a,toolChoice:i,toolWarnings:n};case"tool":return{tools:a,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:n};default:throw new d8.UnsupportedFunctionalityError({functionality:`tool choice type: ${i}`})}}({tools:c,toolChoice:p,modelId:this.modelId});return{args:{model:this.modelId,user:null==y?void 0:y.user,parallel_tool_calls:null==y?void 0:y.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,stop:s,seed:u,response_format:(null==l?void 0:l.type)==="json"?v&&null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,name:null!=(f=l.name)?f:"response",description:l.description}}:{type:"json_object"}:void 0,reasoning_format:null==y?void 0:y.reasoningFormat,reasoning_effort:null==y?void 0:y.reasoningEffort,service_tier:null==y?void 0:y.serviceTier,messages:function(e){let t=[];for(let{role:r,content:n}of e)switch(r){case"system":t.push({role:"system",content:n});break;case"user":if(1===n.length&&"text"===n[0].type){t.push({role:"user",content:n[0].text});break}t.push({role:"user",content:n.map(e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"file":{if(!e.mediaType.startsWith("image/"))throw new d3.UnsupportedFunctionalityError({functionality:"Non-image file content parts"});let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${i3(e.data)}`}}}}})});break;case"assistant":{let e="",r="",a=[];for(let t of n)switch(t.type){case"reasoning":r+=t.text;break;case"text":e+=t.text;break;case"tool-call":a.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}})}t.push(eZ(eZ({role:"assistant",content:e},r.length>0?{reasoning:r}:null),a.length>0?{tool_calls:a}:null));break}case"tool":for(let e of n){let r,n=e.output;switch(n.type){case"text":case"error-text":r=n.value;break;case"content":case"json":case"error-json":r=JSON.stringify(n.value)}t.push({role:"tool",tool_call_id:e.toolCallId,content:r})}break;default:throw Error(`Unsupported role: ${r}`)}return t}(e),tools:b,tool_choice:_},warnings:[...g,...w]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d;let{args:c,warnings:p}=yield this.getArgs(eH(eZ({},e),{stream:!1})),m=JSON.stringify(c),{responseHeaders:h,value:f,rawValue:g}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:c,failedResponseHandler:ca,successfulResponseHandler:ik(cl),abortSignal:e.abortSignal,fetch:this.config.fetch}),y=f.choices[0],v=[],b=y.message.content;null!=b&&b.length>0&&v.push({type:"text",text:b});let _=y.message.reasoning;if(null!=_&&_.length>0&&v.push({type:"reasoning",text:_}),null!=y.message.tool_calls)for(let e of y.message.tool_calls)v.push({type:"tool-call",toolCallId:null!=(t=e.id)?t:a9(),toolName:e.function.name,input:e.function.arguments});return{content:v,finishReason:co(y.finish_reason),usage:{inputTokens:null!=(n=null==(r=f.usage)?void 0:r.prompt_tokens)?n:void 0,outputTokens:null!=(i=null==(a=f.usage)?void 0:a.completion_tokens)?i:void 0,totalTokens:null!=(s=null==(o=f.usage)?void 0:o.total_tokens)?s:void 0,cachedInputTokens:null!=(d=null==(u=null==(l=f.usage)?void 0:l.prompt_tokens_details)?void 0:u.cached_tokens)?d:void 0},response:eH(eZ({},ct(f)),{headers:h,body:g}),warnings:p,request:{body:m}}})}doStream(e){return eQ(this,null,function*(){let t,{args:r,warnings:n}=yield this.getArgs(eH(eZ({},e),{stream:!0})),a=JSON.stringify(eH(eZ({},r),{stream:!0})),{responseHeaders:i,value:o}=yield im({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},r),{stream:!0}),failedResponseHandler:ca,successfulResponseHandler:iw(cu),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],l="unknown",u={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,cachedInputTokens:void 0},d=!0,c=!1,p=!1;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,r){var n,a,i,o,m,h,f,g,y,v,b,_,w,S,k,x,E,T;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success){l="error",r.enqueue({type:"error",error:t.error});return}let O=t.value;if("error"in O){l="error",r.enqueue({type:"error",error:O.error});return}d&&(d=!1,r.enqueue(eZ({type:"response-metadata"},ct(O)))),(null==(n=O.x_groq)?void 0:n.usage)!=null&&(u.inputTokens=null!=(a=O.x_groq.usage.prompt_tokens)?a:void 0,u.outputTokens=null!=(i=O.x_groq.usage.completion_tokens)?i:void 0,u.totalTokens=null!=(o=O.x_groq.usage.total_tokens)?o:void 0,u.cachedInputTokens=null!=(h=null==(m=O.x_groq.usage.prompt_tokens_details)?void 0:m.cached_tokens)?h:void 0);let I=O.choices[0];if((null==I?void 0:I.finish_reason)!=null&&(l=co(I.finish_reason)),(null==I?void 0:I.delta)==null)return;let P=I.delta;if(null!=P.reasoning&&P.reasoning.length>0&&(p||(r.enqueue({type:"reasoning-start",id:"reasoning-0"}),p=!0),r.enqueue({type:"reasoning-delta",id:"reasoning-0",delta:P.reasoning})),null!=P.content&&P.content.length>0&&(c||(r.enqueue({type:"text-start",id:"txt-0"}),c=!0),r.enqueue({type:"text-delta",id:"txt-0",delta:P.content})),null!=P.tool_calls)for(let e of P.tool_calls){let t=e.index;if(null==s[t]){if("function"!==e.type)throw new d4.InvalidResponseDataError({data:e,message:"Expected 'function' type."});if(null==e.id)throw new d4.InvalidResponseDataError({data:e,message:"Expected 'id' to be a string."});if((null==(f=e.function)?void 0:f.name)==null)throw new d4.InvalidResponseDataError({data:e,message:"Expected 'function.name' to be a string."});r.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),s[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(g=e.function.arguments)?g:""},hasFinished:!1};let n=s[t];(null==(y=n.function)?void 0:y.name)!=null&&(null==(v=n.function)?void 0:v.arguments)!=null&&(n.function.arguments.length>0&&r.enqueue({type:"tool-input-delta",id:n.id,delta:n.function.arguments}),ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(b=n.id)?b:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0));continue}let n=s[t];!n.hasFinished&&((null==(_=e.function)?void 0:_.arguments)!=null&&(n.function.arguments+=null!=(S=null==(w=e.function)?void 0:w.arguments)?S:""),r.enqueue({type:"tool-input-delta",id:n.id,delta:null!=(k=e.function.arguments)?k:""}),(null==(x=n.function)?void 0:x.name)!=null&&(null==(E=n.function)?void 0:E.arguments)!=null&&ic(n.function.arguments)&&(r.enqueue({type:"tool-input-end",id:n.id}),r.enqueue({type:"tool-call",toolCallId:null!=(T=n.id)?T:a9(),toolName:n.function.name,input:n.function.arguments}),n.hasFinished=!0))}},flush(e){p&&e.enqueue({type:"reasoning-end",id:"reasoning-0"}),c&&e.enqueue({type:"text-end",id:"txt-0"}),e.enqueue(eZ({type:"finish",finishReason:l,usage:u},null!=t?{providerMetadata:t}:{}))}})),request:{body:a},response:{headers:i}}})}},cl=d6.z.object({id:d6.z.string().nullish(),created:d6.z.number().nullish(),model:d6.z.string().nullish(),choices:d6.z.array(d6.z.object({message:d6.z.object({content:d6.z.string().nullish(),reasoning:d6.z.string().nullish(),tool_calls:d6.z.array(d6.z.object({id:d6.z.string().nullish(),type:d6.z.literal("function"),function:d6.z.object({name:d6.z.string(),arguments:d6.z.string()})})).nullish()}),index:d6.z.number(),finish_reason:d6.z.string().nullish()})),usage:d6.z.object({prompt_tokens:d6.z.number().nullish(),completion_tokens:d6.z.number().nullish(),total_tokens:d6.z.number().nullish(),prompt_tokens_details:d6.z.object({cached_tokens:d6.z.number().nullish()}).nullish()}).nullish()}),cu=d6.z.union([d6.z.object({id:d6.z.string().nullish(),created:d6.z.number().nullish(),model:d6.z.string().nullish(),choices:d6.z.array(d6.z.object({delta:d6.z.object({content:d6.z.string().nullish(),reasoning:d6.z.string().nullish(),tool_calls:d6.z.array(d6.z.object({index:d6.z.number(),id:d6.z.string().nullish(),type:d6.z.literal("function").optional(),function:d6.z.object({name:d6.z.string().nullish(),arguments:d6.z.string().nullish()})})).nullish()}).nullish(),finish_reason:d6.z.string().nullable().optional(),index:d6.z.number()})),x_groq:d6.z.object({usage:d6.z.object({prompt_tokens:d6.z.number().nullish(),completion_tokens:d6.z.number().nullish(),total_tokens:d6.z.number().nullish(),prompt_tokens_details:d6.z.object({cached_tokens:d6.z.number().nullish()}).nullish()}).nullish()}).nullish()}),cn]),cd=d7.z.object({language:d7.z.string().nullish(),prompt:d7.z.string().nullish(),responseFormat:d7.z.string().nullish(),temperature:d7.z.number().min(0).max(1).nullish(),timestampGranularities:d7.z.array(d7.z.string()).nullish()}),cc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({audio:e,mediaType:t,providerOptions:r}){var n,a,i,o,s;let l=yield ip({provider:"groq",providerOptions:r,schema:cd}),u=new FormData,d=e instanceof Uint8Array?new Blob([e]):new Blob([i4(e)]);u.append("model",this.modelId);let c=it(t);if(u.append("file",new File([d],"audio",{type:t}),`audio.${c}`),l){let e={language:null!=(n=l.language)?n:void 0,prompt:null!=(a=l.prompt)?a:void 0,response_format:null!=(i=l.responseFormat)?i:void 0,temperature:null!=(o=l.temperature)?o:void 0,timestamp_granularities:null!=(s=l.timestampGranularities)?s:void 0};for(let t in e){let r=e[t];void 0!==r&&u.append(t,String(r))}}return{formData:u,warnings:[]}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s;let l=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:u,warnings:d}=yield this.getArgs(e),{value:c,responseHeaders:p,rawValue:m}=yield ih({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),formData:u,failedResponseHandler:ca,successfulResponseHandler:ik(cp),abortSignal:e.abortSignal,fetch:this.config.fetch});return{text:c.text,segments:null!=(i=null==(a=c.segments)?void 0:a.map(e=>({text:e.text,startSecond:e.start,endSecond:e.end})))?i:[],language:null!=(o=c.language)?o:void 0,durationInSeconds:null!=(s=c.duration)?s:void 0,warnings:d,response:{timestamp:l,modelId:this.modelId,headers:p,body:m}}})}},cp=d7.z.object({text:d7.z.string(),x_groq:d7.z.object({id:d7.z.string()}),task:d7.z.string().nullish(),language:d7.z.string().nullish(),duration:d7.z.number().nullish(),segments:d7.z.array(d7.z.object({id:d7.z.number(),seek:d7.z.number(),start:d7.z.number(),end:d7.z.number(),text:d7.z.string(),tokens:d7.z.array(d7.z.number()),temperature:d7.z.number(),avg_logprob:d7.z.number(),compression_ratio:d7.z.number(),no_speech_prob:d7.z.number()})).nullish()}),cm={browserSearch:iy({id:"groq.browser_search",name:"browser_search",inputSchema:ce.z.object({})})};function ch(e={}){var t;let r=null!=(t=i9(e.baseURL))?t:"https://api.groq.com/openai/v1",n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`},e.headers),"ai-sdk/groq/2.0.24"),a=t=>new cs(t,{provider:"groq.chat",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),i=e=>{if(new.target)throw Error("The Groq model function cannot be called with the new keyword.");return a(e)},o=t=>new cc(t,{provider:"groq.transcription",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),s=function(e){return i(e)};return s.languageModel=i,s.chat=a,s.textEmbeddingModel=e=>{throw new d2.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},s.imageModel=e=>{throw new d2.NoSuchModelError({modelId:e,modelType:"imageModel"})},s.transcription=o,s.transcriptionModel=o,s.tools=cm,s}var cf=ch(),cg=e.r(76261),cy=e.r(72358),cv={errorSchema:cy.z.object({message:cy.z.string(),type:cy.z.string(),param:cy.z.string(),code:cy.z.string()}),errorToMessage:e=>e.message};function cb(e={}){var t;let r=i9(null!=(t=e.baseURL)?t:"https://api.cerebras.ai/v1"),n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"CEREBRAS_API_KEY",description:"Cerebras API key"})}`},e.headers),"ai-sdk/cerebras/1.0.25"),a=t=>new l9(t,{provider:"cerebras.chat",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch,errorStructure:cv,supportsStructuredOutputs:!0}),i=e=>a(e);return i.languageModel=a,i.chat=a,i.textEmbeddingModel=e=>{throw new cg.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},i.imageModel=e=>{throw new cg.NoSuchModelError({modelId:e,modelType:"imageModel"})},i}var c_=cb(),cw=e.r(72358),cS=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=1}get provider(){return this.config.provider}doGenerate(e){return eQ(this,arguments,function*({prompt:e,n:t,size:r,seed:n,providerOptions:a,headers:i,abortSignal:o}){var s,l,u,d;let c=[];null!=r&&c.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support the `aspectRatio` option. Use `size` instead."});let p=null!=(u=null==(l=null==(s=this.config._internal)?void 0:s.currentDate)?void 0:l.call(s))?u:new Date,m=null==r?void 0:r.split("x"),{value:h,responseHeaders:f}=yield im({url:`${this.config.baseURL}/images/generations`,headers:a6(this.config.headers(),i),body:eZ(eH(eZ({model:this.modelId,prompt:e,seed:n,n:t},m&&{width:parseInt(m[0]),height:parseInt(m[1])}),{response_format:"base64"}),null!=(d=a.togetherai)?d:{}),failedResponseHandler:i_({errorSchema:cx,errorToMessage:e=>e.error.message}),successfulResponseHandler:ik(ck),abortSignal:o,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:c,response:{timestamp:p,modelId:this.modelId,headers:f}}})}},ck=cw.z.object({data:cw.z.array(cw.z.object({b64_json:cw.z.string()}))}),cx=cw.z.object({error:cw.z.object({message:cw.z.string()})});function cE(e={}){var t;let r=i9(null!=(t=e.baseURL)?t:"https://api.together.xyz/v1/"),n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"TOGETHER_AI_API_KEY",description:"TogetherAI"})}`},e.headers),"ai-sdk/togetherai/1.0.23"),a=t=>({provider:`togetherai.${t}`,url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),i=e=>new l9(e,a("chat")),o=e=>new cS(e,eH(eZ({},a("image")),{baseURL:null!=r?r:"https://api.together.xyz/v1/"})),s=e=>i(e);return s.completionModel=e=>new un(e,a("completion")),s.languageModel=i,s.chatModel=i,s.textEmbeddingModel=e=>new ul(e,a("embedding")),s.image=o,s.imageModel=o,s}var cT=cE(),cO=e.r(76261),cI=e.r(72358),cP=e.r(76261),cC=e.r(72358),cA=e.r(72358),cj=e.r(76261),cz=e.r(76261),cR=e.r(72358);function cN({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function c$(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var cM=cC.z.object({safePrompt:cC.z.boolean().optional(),documentImageLimit:cC.z.number().optional(),documentPageLimit:cC.z.number().optional(),structuredOutputs:cC.z.boolean().optional(),strictJsonSchema:cC.z.boolean().optional(),parallelToolCalls:cC.z.boolean().optional()}),cD=i_({errorSchema:cA.z.object({object:cA.z.literal("error"),message:cA.z.string(),type:cA.z.string(),param:cA.z.string().nullable(),code:cA.z.string().nullable()}),errorToMessage:e=>e.message}),cF=class{constructor(e,t){var r;this.specificationVersion="v2",this.supportedUrls={"application/pdf":[/^https:\/\/.*$/]},this.modelId=e,this.config=t,this.generateId=null!=(r=t.generateId)?r:a9}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,providerOptions:d,tools:c,toolChoice:p}){var m,h,f,g;let y=[],v=null!=(m=yield ip({provider:"mistral",providerOptions:d,schema:cM}))?m:{};null!=a&&y.push({type:"unsupported-setting",setting:"topK"}),null!=i&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=o&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&y.push({type:"unsupported-setting",setting:"stopSequences"});let b=null==(h=v.structuredOutputs)||h,_=null!=(f=v.strictJsonSchema)&&f;(null==l?void 0:l.type)!=="json"||(null==l?void 0:l.schema)||(e=function({messages:e,schema:t,schemaPrefix:r,schemaSuffix:n}){var a,i;let o=(null==(a=e[0])?void 0:a.role)==="system"?eZ({},e[0]):{role:"system",content:""};return o.content=function({prompt:e,schema:t,schemaPrefix:r=null!=t?"JSON schema:":void 0,schemaSuffix:n=null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON."}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,r,null!=t?JSON.stringify(t):void 0,n].filter(e=>null!=e).join("\n")}({prompt:o.content,schema:t,schemaPrefix:r,schemaSuffix:n}),[o,...(null==(i=e[0])?void 0:i.role)==="system"?e.slice(1):e]}({messages:e,schema:l.schema}));let w={model:this.modelId,safe_prompt:v.safePrompt,max_tokens:t,temperature:r,top_p:n,random_seed:u,response_format:(null==l?void 0:l.type)==="json"?b&&(null==l?void 0:l.schema)!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:_,name:null!=(g=l.name)?g:"response",description:l.description}}:{type:"json_object"}:void 0,document_image_limit:v.documentImageLimit,document_page_limit:v.documentPageLimit,messages:function(e){let t=[];for(let r=0;r<e.length;r++){let{role:n,content:a}=e[r],i=r===e.length-1;switch(n){case"system":t.push({role:"system",content:a});break;case"user":t.push({role:"user",content:a.map(e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:e.data instanceof URL?e.data.toString():`data:${t};base64,${i3(e.data)}`}}if("application/pdf"===e.mediaType)return{type:"document_url",document_url:e.data.toString()};throw new cP.UnsupportedFunctionalityError({functionality:"Only images and PDF file parts are supported"})}})});break;case"assistant":{let e="",r=[];for(let t of a)switch(t.type){case"text":case"reasoning":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.input)}});break;default:throw Error(`Unsupported content type in assistant message: ${t.type}`)}t.push({role:"assistant",content:e,prefix:!!i||void 0,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of a){let r,n=e.output;switch(n.type){case"text":case"error-text":r=n.value;break;case"content":case"json":case"error-json":r=JSON.stringify(n.value)}t.push({role:"tool",name:e.toolName,tool_call_id:e.toolCallId,content:r})}break;default:throw Error(`Unsupported role: ${n}`)}}return t}(e)},{tools:S,toolChoice:k,toolWarnings:x}=function({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let n=[];for(let t of e)"provider-defined"===t.type?r.push({type:"unsupported-tool",tool:t}):n.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}});if(null==t)return{tools:n,toolChoice:void 0,toolWarnings:r};let a=t.type;switch(a){case"auto":case"none":return{tools:n,toolChoice:a,toolWarnings:r};case"required":return{tools:n,toolChoice:"any",toolWarnings:r};case"tool":return{tools:n.filter(e=>e.function.name===t.toolName),toolChoice:"any",toolWarnings:r};default:throw new cj.UnsupportedFunctionalityError({functionality:`tool choice type: ${a}`})}}({tools:c,toolChoice:p});return{args:eZ(eH(eZ({},w),{tools:S,tool_choice:k}),null!=S&&void 0!==v.parallelToolCalls?{parallel_tool_calls:v.parallelToolCalls}:{}),warnings:[...y,...x]}})}doGenerate(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),{responseHeaders:n,value:a,rawValue:i}=yield im({url:`${this.config.baseURL}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:t,failedResponseHandler:cD,successfulResponseHandler:ik(cB),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=a.choices[0],s=[];if(null!=o.message.content&&Array.isArray(o.message.content))for(let e of o.message.content)if("thinking"===e.type){let t=cU(e.thinking);t.length>0&&s.push({type:"reasoning",text:t})}else"text"===e.type&&e.text.length>0&&s.push({type:"text",text:e.text});else{let e=cL(o.message.content);null!=e&&e.length>0&&s.push({type:"text",text:e})}if(null!=o.message.tool_calls)for(let e of o.message.tool_calls)s.push({type:"tool-call",toolCallId:e.id,toolName:e.function.name,input:e.function.arguments});return{content:s,finishReason:c$(o.finish_reason),usage:{inputTokens:a.usage.prompt_tokens,outputTokens:a.usage.completion_tokens,totalTokens:a.usage.total_tokens},request:{body:t},response:eH(eZ({},cN(a)),{headers:n,body:i}),warnings:r}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0}),{responseHeaders:a,value:i}=yield im({url:`${this.config.baseURL}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:cD,successfulResponseHandler:iw(cZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),o="unknown",s={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},l=!0,u=!1,d=null,c=this.generateId;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void r.enqueue({type:"error",error:t.error});let n=t.value;l&&(l=!1,r.enqueue(eZ({type:"response-metadata"},cN(n)))),null!=n.usage&&(s.inputTokens=n.usage.prompt_tokens,s.outputTokens=n.usage.completion_tokens,s.totalTokens=n.usage.total_tokens);let a=n.choices[0],i=a.delta,p=cL(i.content);if(null!=i.content&&Array.isArray(i.content)){for(let e of i.content)if("thinking"===e.type){let t=cU(e.thinking);t.length>0&&(null==d&&(u&&(r.enqueue({type:"text-end",id:"0"}),u=!1),d=c(),r.enqueue({type:"reasoning-start",id:d})),r.enqueue({type:"reasoning-delta",id:d,delta:t}))}}if(null!=p&&p.length>0&&(u||(null!=d&&(r.enqueue({type:"reasoning-end",id:d}),d=null),r.enqueue({type:"text-start",id:"0"}),u=!0),r.enqueue({type:"text-delta",id:"0",delta:p})),(null==i?void 0:i.tool_calls)!=null)for(let e of i.tool_calls){let t=e.id,n=e.function.name,a=e.function.arguments;r.enqueue({type:"tool-input-start",id:t,toolName:n}),r.enqueue({type:"tool-input-delta",id:t,delta:a}),r.enqueue({type:"tool-input-end",id:t}),r.enqueue({type:"tool-call",toolCallId:t,toolName:n,input:a})}null!=a.finish_reason&&(o=c$(a.finish_reason))},flush(e){null!=d&&e.enqueue({type:"reasoning-end",id:d}),u&&e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,usage:s})}})),request:{body:n},response:{headers:a}}})}};function cU(e){return e.filter(e=>"text"===e.type).map(e=>e.text).join("")}function cL(e){if("string"==typeof e)return e;if(null==e)return;let t=[];for(let r of e){let{type:e}=r;switch(e){case"text":t.push(r.text);break;case"thinking":case"image_url":case"reference":break;default:throw Error(`Unsupported type: ${e}`)}}return t.length?t.join(""):void 0}var cq=cI.z.union([cI.z.string(),cI.z.array(cI.z.discriminatedUnion("type",[cI.z.object({type:cI.z.literal("text"),text:cI.z.string()}),cI.z.object({type:cI.z.literal("image_url"),image_url:cI.z.union([cI.z.string(),cI.z.object({url:cI.z.string(),detail:cI.z.string().nullable()})])}),cI.z.object({type:cI.z.literal("reference"),reference_ids:cI.z.array(cI.z.number())}),cI.z.object({type:cI.z.literal("thinking"),thinking:cI.z.array(cI.z.object({type:cI.z.literal("text"),text:cI.z.string()}))})]))]).nullish(),cV=cI.z.object({prompt_tokens:cI.z.number(),completion_tokens:cI.z.number(),total_tokens:cI.z.number()}),cB=cI.z.object({id:cI.z.string().nullish(),created:cI.z.number().nullish(),model:cI.z.string().nullish(),choices:cI.z.array(cI.z.object({message:cI.z.object({role:cI.z.literal("assistant"),content:cq,tool_calls:cI.z.array(cI.z.object({id:cI.z.string(),function:cI.z.object({name:cI.z.string(),arguments:cI.z.string()})})).nullish()}),index:cI.z.number(),finish_reason:cI.z.string().nullish()})),object:cI.z.literal("chat.completion"),usage:cV}),cZ=cI.z.object({id:cI.z.string().nullish(),created:cI.z.number().nullish(),model:cI.z.string().nullish(),choices:cI.z.array(cI.z.object({delta:cI.z.object({role:cI.z.enum(["assistant"]).optional(),content:cq,tool_calls:cI.z.array(cI.z.object({id:cI.z.string(),function:cI.z.object({name:cI.z.string(),arguments:cI.z.string()})})).nullish()}),finish_reason:cI.z.string().nullish(),index:cI.z.number()})),usage:cV.nullish()}),cH=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=32,this.supportsParallelCalls=!1,this.modelId=e,this.config=t}get provider(){return this.config.provider}doEmbed(e){return eQ(this,arguments,function*({values:e,abortSignal:t,headers:r}){if(e.length>this.maxEmbeddingsPerCall)throw new cz.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a,rawValue:i}=yield im({url:`${this.config.baseURL}/embeddings`,headers:a6(this.config.headers(),r),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:cD,successfulResponseHandler:ik(cG),abortSignal:t,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,response:{headers:n,body:i}}})}},cG=cR.z.object({data:cR.z.array(cR.z.object({embedding:cR.z.array(cR.z.number())})),usage:cR.z.object({prompt_tokens:cR.z.number()}).nullish()});function cW(e={}){var t;let r=null!=(t=i9(e.baseURL))?t:"https://api.mistral.ai/v1",n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`},e.headers),"ai-sdk/mistral/2.0.19"),a=t=>new cF(t,{provider:"mistral.chat",baseURL:r,headers:n,fetch:e.fetch,generateId:e.generateId}),i=t=>new cH(t,{provider:"mistral.embedding",baseURL:r,headers:n,fetch:e.fetch}),o=function(e){if(new.target)throw Error("The Mistral model function cannot be called with the new keyword.");return a(e)};return o.languageModel=a,o.chat=a,o.embedding=i,o.textEmbedding=i,o.textEmbeddingModel=i,o.imageModel=e=>{throw new cO.NoSuchModelError({modelId:e,modelType:"imageModel"})},o}var cJ=cW(),cK=e.r(76261),cY=e.r(72358),cX=e=>{var t,r;return null==e?void 0:{deepseek:{promptCacheHitTokens:null!=(t=e.prompt_cache_hit_tokens)?t:NaN,promptCacheMissTokens:null!=(r=e.prompt_cache_miss_tokens)?r:NaN}}},cQ={extractMetadata:e=>eQ(null,[e],function*({parsedBody:e}){let t=yield iu({value:e,schema:c0});return t.success&&null!=t.value.usage?cX(t.value.usage):void 0}),createStreamExtractor:()=>{let e;return{processChunk:t=>eQ(null,null,function*(){var r,n;let a=yield iu({value:t,schema:c2});a.success&&(null==(n=null==(r=a.value.choices)?void 0:r[0])?void 0:n.finish_reason)==="stop"&&a.value.usage&&(e=a.value.usage)}),buildMetadata:()=>cX(e)}}},c1=cY.z.object({prompt_cache_hit_tokens:cY.z.number().nullish(),prompt_cache_miss_tokens:cY.z.number().nullish()}),c0=cY.z.object({usage:c1.nullish()}),c2=cY.z.object({choices:cY.z.array(cY.z.object({finish_reason:cY.z.string().nullish()})).nullish(),usage:c1.nullish()});function c4(e={}){var t;let r=i9(null!=(t=e.baseURL)?t:"https://api.deepseek.com/v1"),n=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"DEEPSEEK_API_KEY",description:"DeepSeek API key"})}`},e.headers),"ai-sdk/deepseek/1.0.23"),a=t=>new l9(t,{provider:"deepseek.chat",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch,metadataExtractor:cQ}),i=e=>a(e);return i.languageModel=a,i.chat=a,i.textEmbeddingModel=e=>{throw new cK.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},i.imageModel=e=>{throw new cK.NoSuchModelError({modelId:e,modelType:"imageModel"})},i}var c6=c4(),c3=e.r(76261),c9=e.r(72358),c5=e.r(76261);function c8(e){switch(e){case"stop":case"length":return e;default:return"unknown"}}var c7=class{constructor(e,t){this.specificationVersion="v2",this.provider="perplexity",this.supportedUrls={},this.modelId=e,this.config=t}getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,seed:u,providerOptions:d}){var c;let p=[];return null!=a&&p.push({type:"unsupported-setting",setting:"topK"}),null!=s&&p.push({type:"unsupported-setting",setting:"stopSequences"}),null!=u&&p.push({type:"unsupported-setting",setting:"seed"}),{args:eH(eZ({model:this.modelId,frequency_penalty:i,max_tokens:t,presence_penalty:o,temperature:r,top_k:a,top_p:n,response_format:(null==l?void 0:l.type)==="json"?{type:"json_schema",json_schema:{schema:l.schema}}:void 0},null!=(c=null==d?void 0:d.perplexity)?c:{}),{messages:function(e){let t=[];for(let{role:r,content:n}of e)switch(r){case"system":t.push({role:"system",content:n});break;case"user":case"assistant":{let e=n.some(e=>"file"===e.type&&e.mediaType.startsWith("image/")),a=n.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text};case"file":return e.data instanceof URL?{type:"image_url",image_url:{url:e.data.toString()}}:{type:"image_url",image_url:{url:`data:${null!=(t=e.mediaType)?t:"image/jpeg"};base64,${"string"==typeof e.data?e.data:i6(e.data)}`}}}}).filter(Boolean);t.push({role:r,content:e?a:a.filter(e=>"text"===e.type).map(e=>e.text).join("")});break}case"tool":throw new c5.UnsupportedFunctionalityError({functionality:"Tool messages"});default:throw Error(`Unsupported role: ${r}`)}return t}(e)}),warnings:p}}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a,i,o,s,l,u,d;let{args:c,warnings:p}=this.getArgs(e),{responseHeaders:m,value:h,rawValue:f}=yield im({url:`${this.config.baseURL}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:c,failedResponseHandler:i_({errorSchema:pi,errorToMessage:po}),successfulResponseHandler:ik(pn),abortSignal:e.abortSignal,fetch:this.config.fetch}),g=h.choices[0],y=[],v=g.message.content;if(v.length>0&&y.push({type:"text",text:v}),null!=h.citations)for(let e of h.citations)y.push({type:"source",sourceType:"url",id:this.config.generateId(),url:e});return{content:y,finishReason:c8(g.finish_reason),usage:{inputTokens:null==(t=h.usage)?void 0:t.prompt_tokens,outputTokens:null==(r=h.usage)?void 0:r.completion_tokens,totalTokens:null!=(a=null==(n=h.usage)?void 0:n.total_tokens)?a:void 0},request:{body:c},response:eH(eZ({},pe(h)),{headers:m,body:f}),warnings:p,providerMetadata:{perplexity:{images:null!=(o=null==(i=h.images)?void 0:i.map(e=>({imageUrl:e.image_url,originUrl:e.origin_url,height:e.height,width:e.width})))?o:null,usage:{citationTokens:null!=(l=null==(s=h.usage)?void 0:s.citation_tokens)?l:null,numSearchQueries:null!=(d=null==(u=h.usage)?void 0:u.num_search_queries)?d:null}}}}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=this.getArgs(e),n=eH(eZ({},t),{stream:!0}),{responseHeaders:a,value:i}=yield im({url:`${this.config.baseURL}/chat/completions`,headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:i_({errorSchema:pi,errorToMessage:po}),successfulResponseHandler:iw(pa),abortSignal:e.abortSignal,fetch:this.config.fetch}),o="unknown",s={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},l={perplexity:{usage:{citationTokens:null,numSearchQueries:null},images:null}},u=!0,d=!1,c=this;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:r})},transform(t,r){var n,a,i;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void r.enqueue({type:"error",error:t.error});let p=t.value;u&&(r.enqueue(eZ({type:"response-metadata"},pe(p))),null==(n=p.citations)||n.forEach(e=>{r.enqueue({type:"source",sourceType:"url",id:c.config.generateId(),url:e})}),u=!1),null!=p.usage&&(s.inputTokens=p.usage.prompt_tokens,s.outputTokens=p.usage.completion_tokens,l.perplexity.usage={citationTokens:null!=(a=p.usage.citation_tokens)?a:null,numSearchQueries:null!=(i=p.usage.num_search_queries)?i:null}),null!=p.images&&(l.perplexity.images=p.images.map(e=>({imageUrl:e.image_url,originUrl:e.origin_url,height:e.height,width:e.width})));let m=p.choices[0];if((null==m?void 0:m.finish_reason)!=null&&(o=c8(m.finish_reason)),(null==m?void 0:m.delta)==null)return;let h=m.delta.content;null!=h&&(d||(r.enqueue({type:"text-start",id:"0"}),d=!0),r.enqueue({type:"text-delta",id:"0",delta:h}))},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,usage:s,providerMetadata:l})}})),request:{body:n},response:{headers:a}}})}};function pe({id:e,model:t,created:r}){return{id:e,modelId:t,timestamp:new Date(1e3*r)}}var pt=c9.z.object({prompt_tokens:c9.z.number(),completion_tokens:c9.z.number(),total_tokens:c9.z.number().nullish(),citation_tokens:c9.z.number().nullish(),num_search_queries:c9.z.number().nullish()}),pr=c9.z.object({image_url:c9.z.string(),origin_url:c9.z.string(),height:c9.z.number(),width:c9.z.number()}),pn=c9.z.object({id:c9.z.string(),created:c9.z.number(),model:c9.z.string(),choices:c9.z.array(c9.z.object({message:c9.z.object({role:c9.z.literal("assistant"),content:c9.z.string()}),finish_reason:c9.z.string().nullish()})),citations:c9.z.array(c9.z.string()).nullish(),images:c9.z.array(pr).nullish(),usage:pt.nullish()}),pa=c9.z.object({id:c9.z.string(),created:c9.z.number(),model:c9.z.string(),choices:c9.z.array(c9.z.object({delta:c9.z.object({role:c9.z.literal("assistant"),content:c9.z.string()}),finish_reason:c9.z.string().nullish()})),citations:c9.z.array(c9.z.string()).nullish(),images:c9.z.array(pr).nullish(),usage:pt.nullish()}),pi=c9.z.object({error:c9.z.object({code:c9.z.number(),message:c9.z.string().nullish(),type:c9.z.string().nullish()})}),po=e=>{var t,r;return null!=(r=null!=(t=e.error.message)?t:e.error.type)?r:"unknown error"};function ps(e={}){let t=()=>a7(eZ({Authorization:`Bearer ${ie({apiKey:e.apiKey,environmentVariableName:"PERPLEXITY_API_KEY",description:"Perplexity"})}`},e.headers),"ai-sdk/perplexity/2.0.13"),r=r=>{var n;return new c7(r,{baseURL:i9(null!=(n=e.baseURL)?n:"https://api.perplexity.ai"),headers:t,generateId:a9,fetch:e.fetch})},n=e=>r(e);return n.languageModel=r,n.textEmbeddingModel=e=>{throw new c3.NoSuchModelError({modelId:e,modelType:"textEmbeddingModel"})},n.imageModel=e=>{throw new c3.NoSuchModelError({modelId:e,modelType:"imageModel"})},n}var pl=ps(),pu=e.r(76261),pd=e.r(72358),pc=e.r(72358),pp=e.r(76261),pm=e.r(76261),ph=e.r(72358),pf=e.r(76261),pg=e.r(76261),py=e.r(72358),pv=e.r(72358),pb=e.r(76261),p_=i_({errorSchema:pc.z.object({error:pc.z.object({message:pc.z.string(),type:pc.z.string().nullish(),param:pc.z.any().nullish(),code:pc.z.union([pc.z.string(),pc.z.number()]).nullish()})}),errorToMessage:e=>e.error.message});function pw(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}function pS({model:e,created_at:t}){return{id:void 0,modelId:null!=e?e:void 0,timestamp:null!=t?new Date(t):void 0}}var pk=pd.z.object({think:pd.z.boolean().optional(),user:pd.z.string().optional(),suffix:pd.z.string().optional(),echo:pd.z.boolean().optional()}),px=class{constructor(e,t,r){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs(e){return eQ(this,arguments,function*({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:s,responseFormat:l,tools:u,toolChoice:d,seed:c,providerOptions:p}){var m;let h=[],f=null!=(m=yield ip({provider:"ollama",providerOptions:p,schema:pk}))?m:{};null!=a&&h.push({type:"unsupported-setting",setting:"topK"}),(null==u?void 0:u.length)&&h.push({type:"unsupported-setting",setting:"tools"}),null!=d&&h.push({type:"unsupported-setting",setting:"toolChoice"}),null!=l&&"text"!==l.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:g,stopSequences:y}=function({prompt:e,user:t="user",assistant:r="assistant"}){let n="";for(let{role:a,content:i}of("system"===e[0].role&&(n+=`${e[0].content}

`,e=e.slice(1)),e))switch(a){case"system":throw new pp.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("");n+=`${t}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new pp.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${e}

`;break}case"tool":throw new pp.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${a}`)}return{prompt:n+=`${r}:
`,stopSequences:[`
${t}:`]}}({prompt:e}),v=[...null!=y?y:[],...null!=s?s:[]];return{args:{model:this.modelId,user:f.user,think:f.think,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:o,stop:v,prompt:g,suffix:f.suffix,echo:f.echo,stream:!1},warnings:h}})}doGenerate(e){return eQ(this,null,function*(){var t,r,n,a;let{args:i,warnings:o}=yield this.getArgs(e),{responseHeaders:s,value:l,rawValue:u}=yield im({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},i),{stream:!1}),failedResponseHandler:p_,successfulResponseHandler:ik(pE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:d}=i;return eG(i,["prompt"]),{content:[{type:"text",text:l.response}],usage:{inputTokens:null!=(t=l.prompt_eval_count)?t:void 0,outputTokens:null!=(r=l.eval_count)?r:void 0,totalTokens:(null!=(n=l.prompt_eval_count)?n:0)+(null!=(a=l.eval_count)?a:0)},finishReason:pw("stop"),request:{body:JSON.stringify(i)},response:eH(eZ({},pS(l)),{headers:s,body:u}),warnings:o,providerMetadata:{ollama:{}}}})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.getArgs(e),n=eH(eZ({},t),{stream:!0}),{responseHeaders:a,value:i}=yield im({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:n,failedResponseHandler:p_,successfulResponseHandler:iS(pE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o}=t;eG(t,["prompt"]);let s="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=!0;return{stream:i.pipeThrough(new TransformStream({transform(e,t){if(!e.success){s="error",t.enqueue({type:"error",error:e.error});return}let r=e.value;if("error"in r){s="error",t.enqueue({type:"error",error:r.error});return}u&&(u=!1,t.enqueue(eZ({type:"response-metadata"},pS(r)))),r.done&&(s=pw("stop")),null!=r.response&&t.enqueue({type:"text-delta",id:"0",delta:r.response})},flush(e){e.enqueue({type:"finish",finishReason:s,usage:l})}})),request:{body:JSON.stringify(n)},response:{headers:a}}})}},pE=pd.z.object({model:pd.z.string(),created_at:pd.z.string(),response:pd.z.string(),done:pd.z.boolean(),context:pd.z.array(pd.z.number()),eval_count:pd.z.number().optional(),eval_duration:pd.z.number().optional(),load_duration:pd.z.number().optional(),total_duration:pd.z.number().optional(),prompt_eval_count:pd.z.number().optional(),prompt_eval_duration:pd.z.number().optional()}),pT=ph.z.object({dimensions:ph.z.number().optional(),truncate:ph.z.boolean().optional(),keepAlive:ph.z.string().optional()}),pO=class{constructor(e,t,r){this.specificationVersion="v2",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}getArgs(e){return eQ(this,arguments,function*({values:e,providerOptions:t}){var r,n;let a=null!=(r=yield ip({provider:"ollama",providerOptions:t,schema:pT}))?r:{};return{args:{model:this.modelId,input:e,dimensions:null!=(n=a.dimensions)?n:this.settings.dimensions,truncate:a.truncate,keep_alive:a.keepAlive}}})}doEmbed(e){return eQ(this,arguments,function*({values:e,headers:t,abortSignal:r,providerOptions:n}){if(e.length>this.maxEmbeddingsPerCall)throw new pm.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{args:a}=yield this.getArgs({values:e,providerOptions:n}),{responseHeaders:i,value:o,rawValue:s}=yield im({url:this.config.url({path:"/embed",modelId:this.modelId}),headers:a6(this.config.headers(),t),body:eZ({},a),failedResponseHandler:p_,successfulResponseHandler:ik(pI),abortSignal:r,fetch:this.config.fetch});return{embeddings:o.embeddings.map(e=>e),usage:{tokens:o.prompt_eval_count},response:{headers:i,body:s}}})}},pI=ph.z.object({model:ph.z.string(),embeddings:ph.z.array(ph.z.array(ph.z.number())),total_duration:ph.z.number(),load_duration:ph.z.number(),prompt_eval_count:ph.z.number()}),pP=py.z.object({think:py.z.boolean().optional(),options:py.z.object({num_ctx:py.z.number().optional(),repeat_last_n:py.z.number().optional(),repeat_penalty:py.z.number().optional(),temperature:py.z.number().optional(),seed:py.z.number().optional(),stop:py.z.array(py.z.string()).optional(),num_predict:py.z.number().optional(),top_k:py.z.number().optional(),top_p:py.z.number().optional(),min_p:py.z.number().optional()}).optional()}),pC=class{buildRequest(e){return eQ(this,arguments,function*({modelId:e,maxOutputTokens:t,temperature:r,stopSequences:n,topP:a,topK:i,presencePenalty:o,frequencyPenalty:s,seed:l,prompt:u,providerOptions:d,tools:c,toolChoice:p,responseFormat:m}){let h=this.collectUnsupportedSettingsWarnings({topK:i,seed:l,presencePenalty:o,frequencyPenalty:s,stopSequences:n}),{messages:f,warnings:g}=function({prompt:e,systemMessageMode:t}){let r=[],n=[];for(let{role:a,content:i}of e)switch(a){case"system":switch(t){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":r.push({role:"user",content:i.map((e,t)=>{var r,n,a;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"input_image",image_url:e.data instanceof URL?e.data.toString():`data:${t};base64,${e.data}`,detail:null==(n=null==(r=e.providerOptions)?void 0:r.ollama)?void 0:n.imageDetail}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new pf.UnsupportedFunctionalityError({functionality:"PDF file parts with URLs"});return{type:"input_file",filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`}}throw new pf.UnsupportedFunctionalityError({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":for(let e of i)switch(e.type){case"text":r.push({role:"assistant",content:[{type:"output_text",text:e.text}]});break;case"tool-call":if(e.providerExecuted)break;r.push({type:"function_call",call_id:e.toolCallId,name:e.toolName,arguments:JSON.stringify(e.input)});break;case"tool-result":n.push({type:"other",message:"tool result parts in assistant messages are not supported for Ollama responses"})}break;case"tool":for(let e of i){let t,n=e.output;switch(n.type){case"text":case"error-text":t=n.value;break;case"content":case"json":case"error-json":t=JSON.stringify(n.value)}r.push({type:"function_call_output",call_id:e.toolCallId,output:t})}break;default:throw Error(`Unsupported role: ${a}`)}return{messages:r,warnings:n}}({prompt:u,systemMessageMode:"system"});h.push(...g);let y=yield this.parseProviderOptions(d),v=this.buildBaseArgs({modelId:e,prompt:u,temperature:r,topP:a,maxOutputTokens:t,responseFormat:m,ollamaOptions:y}),{tools:b,toolChoice:_,toolWarnings:w}=function({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let n=[];for(let t of e)if("function"===t.type){let e=t.inputSchema;e?e&&"object"==typeof e&&"object"===e.type&&e.properties&&0===Object.keys(e.properties).length&&(e=eH(eZ({},e),{properties:{},required:[]})):e={type:"object",properties:{},required:[]},n.push({type:"function",function:{name:t.name,description:t.description,parameters:e}})}else r.push({type:"unsupported-tool",tool:t});if(null==t)return{tools:n,toolChoice:void 0,toolWarnings:r};let a=t.type;switch(a){case"auto":case"none":case"required":return{tools:n,toolChoice:a,toolWarnings:r};case"tool":return{tools:n,toolChoice:"web_search_preview"==t.toolName?{type:"web_search_preview"}:{type:"function",name:t.toolName},toolWarnings:r};default:throw new pg.UnsupportedFunctionalityError({functionality:`tool choice type: ${a}`})}}({tools:c,toolChoice:p});return{args:eH(eZ({},v),{tools:b,tool_choice:_}),warnings:[...h,...w]}})}collectUnsupportedSettingsWarnings({topK:e,seed:t,presencePenalty:r,frequencyPenalty:n,stopSequences:a}){let i=[];for(let{value:o,name:s}of[{value:e,name:"topK"},{value:t,name:"seed"},{value:r,name:"presencePenalty"},{value:n,name:"frequencyPenalty"},{value:a,name:"stopSequences"}])null!=o&&i.push({type:"unsupported-setting",setting:s});return i}parseProviderOptions(e){return eQ(this,null,function*(){let t=yield ip({provider:"ollama",providerOptions:e,schema:pP});return null!=t?t:null})}buildBaseArgs({modelId:e,prompt:t,temperature:r,topP:n,maxOutputTokens:a,responseFormat:i,ollamaOptions:o}){var s,l;return eH(eZ({model:e,messages:function({prompt:e,systemMessageMode:t="system"}){let r=[];for(let{role:n,content:a}of e)switch(n){case"system":switch(t){case"system":r.push({role:"system",content:a});break;case"developer":r.push({role:"developer",content:a});break;case"remove":break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":{if(1===a.length&&"text"===a[0].type){r.push({role:"user",content:a[0].text});break}let e=a.filter(e=>"text"===e.type).map(e=>e.text).join(""),t=a.filter(e=>"file"===e.type&&e.mediaType.startsWith("image/")).map(e=>e.data);r.push({role:"user",content:e.length>0?e:[],images:t.length>0?t:void 0});break}case"assistant":{let e="",t="",n=[];for(let r of a)switch(r.type){case"text":e+=r.text;break;case"tool-call":n.push({id:r.toolCallId,type:"function",function:{name:r.toolName,arguments:r.input}});break;case"reasoning":t+=r.text;break;default:throw Error(`Unsupported part: ${r}`)}r.push(eH(eZ({role:"assistant",content:e},t&&{thinking:t}),{tool_calls:n.length>0?n:void 0}));break}case"tool":for(let e of a){let t,n=e.output;switch(n.type){case"text":case"error-text":t=n.value;break;case"content":case"json":case"error-json":t=JSON.stringify(n.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:t})}break;default:throw Error(`Unsupported role: ${n}`)}return r}({prompt:t,systemMessageMode:"system"}),temperature:r,top_p:n,max_output_tokens:a},(null==i?void 0:i.type)==="json"&&{format:null!=i.schema?i.schema:"json"}),{think:null!=(s=null==o?void 0:o.think)&&s,options:null!=(l=null==o?void 0:o.options)?l:void 0})}},pA=pv.z.object({model:pv.z.string(),created_at:pv.z.string(),done:pv.z.boolean(),message:pv.z.object({content:pv.z.string(),role:pv.z.string(),thinking:pv.z.string().optional(),tool_calls:pv.z.array(pv.z.object({function:pv.z.object({name:pv.z.string(),arguments:pv.z.record(pv.z.string(),pv.z.any())}),id:pv.z.string().optional()})).optional().nullable()}),done_reason:pv.z.string().optional(),eval_count:pv.z.number().optional(),eval_duration:pv.z.number().optional(),load_duration:pv.z.number().optional(),prompt_eval_count:pv.z.number().optional(),prompt_eval_duration:pv.z.number().optional(),total_duration:pv.z.number().optional()}),pj=class{constructor(e){this.config=e}processGenerateResponse(e){let t=this.extractContent(e),r=pw(e.done_reason);return{content:t,finishReason:r,usage:this.extractUsage(e),providerMetadata:{ollama:{}}}}extractContent(e){var t,r,n,a,i;let o=[],s=e.message.content;for(let l of(null!=s&&s.length>0&&o.push({type:"text",text:s}),null!=(t=e.message.tool_calls)?t:[]))o.push({type:"tool-call",toolCallId:null!=(i=l.id)?i:null!=(a=null==(n=(r=this.config).generateId)?void 0:n.call(r))?a:a9(),toolName:l.function.name,input:JSON.stringify(l.function.arguments)});return o}extractUsage(e){var t,r,n,a;return{inputTokens:null!=(t=e.prompt_eval_count)?t:void 0,outputTokens:null!=(r=e.eval_count)?r:void 0,totalTokens:(null!=(n=e.prompt_eval_count)?n:0)+(null!=(a=e.eval_count)?a:0),reasoningTokens:void 0,cachedInputTokens:void 0}}},pz=class{constructor(e){this.config=e,this.state=this.initializeState()}createTransformStream(e,t){return new TransformStream({start:t=>{t.enqueue({type:"stream-start",warnings:e})},transform:(e,r)=>{this.processChunk(e,r,t)},flush:e=>{this.finalizeStream(e)}})}initializeState(){return{finishReason:"unknown",usage:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},responseId:null,ongoingToolCalls:{},hasToolCalls:!1,isFirstChunk:!0,hasTextStarted:!1,hasReasoningStarted:!1,textEnded:!1,reasoningEnded:!1,textId:a9()}}processChunk(e,t,r){(null==r?void 0:r.includeRawChunks)&&t.enqueue({type:"raw",rawValue:e.rawValue});let n=function(e){var t;if(e.success)return[e.value];let r=[],n=null==(t=e.error)?void 0:t.text;if("string"!=typeof n||0===n.length)return r;for(let e of n.split(/\r?\n/)){let t=e.trim();if(""!==t)try{let e=JSON.parse(t),n=pA.safeParse(e);n.success&&r.push(n.data)}catch(e){}}return r}(e);if(0===n.length){e.success||(this.state.finishReason="error",t.enqueue({type:"error",error:e.error}));return}for(let e of n)this.processResponseValue(e,t)}processResponseValue(e,t){if(e&&"object"==typeof e&&"error"in e){this.state.finishReason="error",t.enqueue({type:"error",error:e.error});return}this.state.isFirstChunk&&(this.state.isFirstChunk=!1,t.enqueue(eZ({type:"response-metadata"},pS(e)))),e.done&&this.handleDoneChunk(e,t);let r=null==e?void 0:e.message;r&&this.processDelta(r,t)}handleDoneChunk(e,t){var r,n,a;this.state.finishReason=pw(e.done_reason),this.state.usage={inputTokens:e.prompt_eval_count||0,outputTokens:null!=(r=e.eval_count)?r:void 0,totalTokens:(null!=(n=e.prompt_eval_count)?n:0)+(null!=(a=e.eval_count)?a:0)},this.state.hasTextStarted&&!this.state.textEnded&&(t.enqueue({type:"text-end",id:this.state.textId}),this.state.textEnded=!0),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&(t.enqueue({type:"reasoning-end",id:"0"}),this.state.reasoningEnded=!0)}processDelta(e,t){this.processTextContent(e,t),this.processThinking(e,t),this.processToolCalls(e,t)}processTextContent(e,t){(null==e?void 0:e.content)!=null&&(this.state.hasTextStarted||(t.enqueue({type:"text-start",id:this.state.textId}),this.state.hasTextStarted=!0),t.enqueue({type:"text-delta",id:this.state.textId,delta:e.content}))}processThinking(e,t){(null==e?void 0:e.thinking)&&(this.state.hasReasoningStarted||(t.enqueue({type:"reasoning-start",id:"0"}),this.state.hasReasoningStarted=!0),t.enqueue({type:"reasoning-delta",id:"0",delta:e.thinking}))}processToolCalls(e,t){var r,n,a,i;for(let o of null!=(r=e.tool_calls)?r:[]){if((null==(n=o.function)?void 0:n.name)==null)throw new pb.InvalidResponseDataError({data:o,message:"Expected 'function.name' to be a string."});(null==(a=o.function)?void 0:a.name)!=null&&(null==(i=o.function)?void 0:i.arguments)!=null&&this.emitToolCall(o,t)}}emitToolCall(e,t){var r,n,a,i;let o=null!=(i=e.id)?i:null!=(a=null==(n=(r=this.config).generateId)?void 0:n.call(r))?a:a9();t.enqueue({type:"tool-input-start",id:o,toolName:e.function.name}),t.enqueue({type:"tool-input-delta",id:o,delta:JSON.stringify(e.function.arguments)}),t.enqueue({type:"tool-input-end",id:o}),t.enqueue({type:"tool-call",toolCallId:o,toolName:e.function.name,input:JSON.stringify(e.function.arguments)}),this.state.hasToolCalls=!0}finalizeStream(e){this.state.hasTextStarted&&!this.state.textEnded&&e.enqueue({type:"text-end",id:"0"}),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&e.enqueue({type:"reasoning-end",id:"0"}),e.enqueue({type:"finish",finishReason:this.state.finishReason,usage:this.state.usage,providerMetadata:{ollama:{responseId:this.state.responseId}}})}},pR=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t,this.requestBuilder=new pC,this.responseProcessor=new pj(t)}get provider(){return this.config.provider}doGenerate(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.prepareRequest(e),{responseHeaders:n,value:a,rawValue:i}=yield im({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},t),{stream:!1}),failedResponseHandler:p_,successfulResponseHandler:ik(pA),abortSignal:e.abortSignal,fetch:this.config.fetch});return eH(eZ({},this.responseProcessor.processGenerateResponse(a)),{request:{body:JSON.stringify(t)},response:{modelId:this.modelId,timestamp:new Date,headers:n,body:i},warnings:r})})}doStream(e){return eQ(this,null,function*(){let{args:t,warnings:r}=yield this.prepareRequest(e),{responseHeaders:n,value:a}=yield im({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:a6(this.config.headers(),e.headers),body:eH(eZ({},t),{stream:!0}),failedResponseHandler:p_,successfulResponseHandler:iS(pA),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=new pz(this.config);return{stream:a.pipeThrough(i.createTransformStream(r,e)),request:{body:t},response:{headers:n}}})}prepareRequest(e){return eQ(this,null,function*(){return yield this.requestBuilder.buildRequest(eZ({modelId:this.modelId},e))})}},pN={openai:sv,anthropic:la,google:lL,xai:uR,azure:d0,groq:cf,cerebras:c_,togetherai:cT,mistral:cJ,deepseek:c6,perplexity:pl,ollama:function(e={}){var t,r;let n=null!=(t=i9(e.baseURL))?t:"http://127.0.0.1:11434/api",a=null!=(r=e.name)?r:"ollama",i=()=>eZ({"Ollama-Organization":e.organization,"Ollama-Project":e.project},e.headers),o=(t,r={})=>new pO(t,r,{provider:`${a}.embedding`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),s=e=>{if(new.target)throw Error("The Ollama model function cannot be called with the new keyword.");return l(e)},l=t=>new pR(t,{provider:`${a}.responses`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),u=function(e){return s(e)};return u.languageModel=s,u.chat=s,u.completion=(t,r={})=>new px(t,r,{provider:`${a}.completion`,url:({path:e})=>`${n}${e}`,headers:i,fetch:e.fetch}),u.embedding=o,u.textEmbedding=o,u.textEmbeddingModel=o,u.imageModel=e=>{throw new pu.NoSuchModelError({modelId:e,modelType:"imageModel",message:"Image generation is unsupported with Ollama"})},u}()},p$={openai:sy,anthropic:ln,google:lU,xai:uz,azure:d1,groq:ch,cerebras:cb,togetherai:cE,mistral:cW,deepseek:c4,perplexity:ps},pM={"gpt-4.1":"openai","gpt-4.1-mini":"openai","gpt-4.1-nano":"openai","o4-mini":"openai",o3:"openai","o3-mini":"openai",o1:"openai","o1-mini":"openai","gpt-4o":"openai","gpt-4o-mini":"openai","gpt-4o-2024-08-06":"openai","gpt-4.5-preview":"openai","o1-preview":"openai","claude-3-5-sonnet-latest":"anthropic","claude-3-5-sonnet-20240620":"anthropic","claude-3-5-sonnet-20241022":"anthropic","claude-3-7-sonnet-20250219":"anthropic","claude-3-7-sonnet-latest":"anthropic","cerebras-llama-3.3-70b":"cerebras","cerebras-llama-3.1-8b":"cerebras","groq-llama-3.3-70b-versatile":"groq","groq-llama-3.3-70b-specdec":"groq","moonshotai/kimi-k2-instruct":"groq","gemini-1.5-flash":"google","gemini-1.5-pro":"google","gemini-1.5-flash-8b":"google","gemini-2.0-flash-lite":"google","gemini-2.0-flash":"google","gemini-2.5-flash-preview-04-17":"google","gemini-2.5-pro-preview-03-25":"google"},pD=class{constructor(e){this.logger=e}getClient(e,t){if(e.includes("/")){let r=e.indexOf("/");return new aS({model:function(e,t,r,n){if(r){let a=p$[e];if(!a)throw new p(e,Object.keys(p$));let i={apiKey:r};return n&&(i.baseURL=n),a(i)(t)}{let r=pN[e];if(!r)throw new p(e,Object.keys(pN));return r(t)}}(e.substring(0,r),e.substring(r+1),null==t?void 0:t.apiKey,null==t?void 0:t.baseURL),logger:this.logger})}let r=pM[e];if(!r)throw new d(Object.keys(pM));switch(r){case"openai":return new aU({logger:this.logger,modelName:e,clientOptions:t});case"anthropic":return new aE({logger:this.logger,modelName:e,clientOptions:t});case"cerebras":return new aP({logger:this.logger,modelName:e,clientOptions:t});case"groq":return new a$({logger:this.logger,modelName:e,clientOptions:t});case"google":return new az({logger:this.logger,modelName:e,clientOptions:t});default:throw new c([...new Set(Object.values(pM))])}}static getModelProvider(e){if(e.includes("/")){let t=e.indexOf("/");if(pN[e.substring(0,t)])return"aisdk"}return pM[e]}};e6();var pF=e.r(22314),pU=e.r(12217),pL=e.r(17976);e0();var pq=e=>eQ(null,null,function*(){try{let t,r;if("object"==typeof e&&"command"in e)t=new pL.StdioClientTransport(e);else{let n;"string"==typeof e||e instanceof URL?n=e:(n=e.serverUrl,r=e.clientOptions),t=new pU.StreamableHTTPClientTransport(new URL(n))}let n=new pF.Client(eZ({name:"Stagehand",version:"1.0.0"},r));yield n.connect(t);try{yield n.ping()}catch(t){throw yield n.close(),new $(e.toString(),t)}return n}catch(t){if(t instanceof $)throw t;throw new $(e.toString(),t)}}),pV=(e,t)=>eQ(null,null,function*(){let r=eZ({},t);for(let t of e){let e,n;e="string"==typeof t?yield pq(t):t;do{let t=yield e.listTools({cursor:n});for(let n of t.tools)r[n.name]={description:n.description,inputSchema:ra(n.inputSchema),execute:t=>eQ(null,null,function*(){return yield e.callTool({name:n.name,arguments:t})})};n=t.nextCursor}while(n)}return r}),pB=["openai/computer-use-preview","openai/computer-use-preview-2025-03-11","anthropic/claude-3-7-sonnet-latest","anthropic/claude-haiku-4-5-20251001","anthropic/claude-sonnet-4-20250514","anthropic/claude-sonnet-4-5-20250929","google/gemini-2.5-computer-use-preview-10-2025"],pZ=class extends Error{constructor(e){super(e),this.name=this.constructor.name}},pH=class extends pZ{constructor(e){super(e||"Unauthorized request")}},pG=class extends pZ{constructor(e){super(e)}},pW=class extends pZ{constructor(e){super(e)}},pJ=class extends pZ{constructor(){super("Response body is null")}},pK=class extends pZ{constructor(e){super(e)}},pY={0:"error",1:"info",2:"debug"};tz(),t$(),e0();var pX=e.r(28595),pQ=class extends aw{constructor({model:e}){super(e.modelId),this.type="aisdk",this.model=e}createChatCompletion(e){return eQ(this,arguments,function*({options:e}){var t,r,n,a,i,o,s,l,u,d;let c=e.messages.map(e=>{if(Array.isArray(e.content)){if("system"===e.role)return{role:"system",content:e.content.map(e=>"text"in e?e.text:"").join("\n")};let t=e.content.map(e=>"image_url"in e?{type:"image",image:e.image_url.url}:{type:"text",text:e.text});return"user"===e.role?{role:"user",content:t}:{role:"assistant",content:t.map(e=>({type:"text",text:"image"===e.type?"[Image]":e.text}))}}return{role:e.role,content:e.content}});if(e.response_model){let o=yield(0,pX.generateObject)({model:this.model,messages:c,schema:e.response_model.schema});return{data:o.object,usage:{prompt_tokens:null!=(t=o.usage.inputTokens)?t:0,completion_tokens:null!=(r=o.usage.outputTokens)?r:0,reasoning_tokens:null!=(n=o.usage.reasoningTokens)?n:0,cached_input_tokens:null!=(a=o.usage.cachedInputTokens)?a:0,total_tokens:null!=(i=o.usage.totalTokens)?i:0}}}let p={};for(let t of e.tools)p[t.name]={description:t.description,inputSchema:t.parameters};let m=yield(0,pX.generateText)({model:this.model,messages:c,tools:p});return{data:m.text,usage:{prompt_tokens:null!=(o=m.usage.inputTokens)?o:0,completion_tokens:null!=(s=m.usage.outputTokens)?s:0,reasoning_tokens:null!=(l=m.usage.reasoningTokens)?l:0,cached_input_tokens:null!=(u=m.usage.cachedInputTokens)?u:0,total_tokens:null!=(d=m.usage.totalTokens)?d:0}}})}};e6();var p1=eX(e.r(58717)),p0=class e{constructor(e){this.nextId=1,this.inflight=new Map,this.eventHandlers=new Map,this.sessions=new Map,this.id=null,this.transportCloseHandlers=new Set,this.ws=e,this.ws.on("close",(e,t)=>{let r=`socket-close code=${e} reason=${String(t||"")}`;this.emitTransportClosed(r)}),this.ws.on("error",e=>{var t;let r=`socket-error ${null!=(t=null==e?void 0:e.message)?t:String(e)}`;this.emitTransportClosed(r)}),this.ws.on("message",e=>this.onMessage(e.toString()))}onTransportClosed(e){this.transportCloseHandlers.add(e)}offTransportClosed(e){this.transportCloseHandlers.delete(e)}emitTransportClosed(e){for(let t of this.transportCloseHandlers)try{t(e)}catch(e){}}static connect(t){return eQ(this,null,function*(){let r=new p1.default(t);return yield new Promise((e,t)=>{r.once("open",()=>e()),r.once("error",e=>t(e))}),new e(r)})}enableAutoAttach(){return eQ(this,null,function*(){yield this.send("Target.setAutoAttach",{autoAttach:!0,flatten:!0,waitForDebuggerOnStart:!1,filter:[{type:"worker",exclude:!0},{type:"shared_worker",exclude:!0},{type:"service_worker",exclude:!0}]}),yield this.send("Target.setDiscoverTargets",{discover:!0})})}send(e,t){return eQ(this,null,function*(){var r;let n=this.nextId++,a=null==(r=Error().stack)?void 0:r.split("\n").slice(1,4).join("\n"),i=new Promise((r,i)=>{this.inflight.set(n,{resolve:r,reject:i,sessionId:null,method:e,params:t,stack:a,ts:Date.now()})});return this.ws.send(JSON.stringify({id:n,method:e,params:t})),i})}on(e,t){var r;let n=null!=(r=this.eventHandlers.get(e))?r:new Set;n.add(t),this.eventHandlers.set(e,n)}off(e,t){let r=this.eventHandlers.get(e);r&&r.delete(t)}close(){return eQ(this,null,function*(){yield new Promise(e=>{this.ws.once("close",()=>e()),this.ws.close()})})}getSession(e){return this.sessions.get(e)}attachToTarget(e){return eQ(this,null,function*(){let{sessionId:t}=yield this.send("Target.attachToTarget",{targetId:e,flatten:!0}),r=this.sessions.get(t);return r||(r=new p2(this,t),this.sessions.set(t,r)),r})}getTargets(){return eQ(this,null,function*(){return(yield this.send("Target.getTargets")).targetInfos})}onMessage(e){let t=JSON.parse(e);if("id"in t){let e=this.inflight.get(t.id);if(!e)return;this.inflight.delete(t.id),"error"in t&&t.error?e.reject(Error(`${t.error.code} ${t.error.message}`)):e.resolve(t.result);return}if("method"in t){if("Target.attachedToTarget"===t.method){let e=t.params;this.sessions.has(e.sessionId)||this.sessions.set(e.sessionId,new p2(this,e.sessionId))}else if("Target.detachedFromTarget"===t.method){let e=t.params;for(let[t,r]of this.inflight.entries())r.sessionId===e.sessionId&&(r.reject(Error("CDP session detached")),this.inflight.delete(t));this.sessions.delete(e.sessionId)}let{method:e,params:r,sessionId:n}=t;if(n){let t=this.sessions.get(n);null==t||t.dispatch(e,r)}else{let t=this.eventHandlers.get(e);if(t)for(let e of t)e(r)}}}_sendViaSession(e,t,r){var n;let a=this.nextId++,i=null==(n=Error().stack)?void 0:n.split("\n").slice(1,4).join("\n"),o=new Promise((n,o)=>{this.inflight.set(a,{resolve:n,reject:o,sessionId:e,method:t,params:r,stack:i,ts:Date.now()})});return this.ws.send(JSON.stringify({id:a,method:t,params:r,sessionId:e})),o}_onSessionEvent(e,t,r){var n;let a=`${e}:${t}`,i=null!=(n=this.eventHandlers.get(a))?n:new Set;i.add(r),this.eventHandlers.set(a,i)}_offSessionEvent(e,t,r){let n=`${e}:${t}`,a=this.eventHandlers.get(n);a&&a.delete(r)}_dispatchToSession(e,t,r){let n=`${e}:${t}`,a=this.eventHandlers.get(n);if(a)for(let e of a)e(r)}},p2=class{constructor(e,t){this.root=e,this.id=t}send(e,t){return this.root._sendViaSession(this.id,e,t)}on(e,t){this.root._onSessionEvent(this.id,e,t)}off(e,t){this.root._offSessionEvent(this.id,e,t)}close(){return eQ(this,null,function*(){yield this.root.send("Target.detachFromTarget",{sessionId:this.id})})}dispatch(e,t){this.root._dispatchToSession(this.id,e,t)}};tG(),e6();var p4='(()=>{function b(_={}){let S=n=>{let{hostToRoot:l}=n,m=t=>{let o=[];if(t instanceof Document)return t.documentElement&&o.push(t.documentElement),o;if(t instanceof ShadowRoot||t instanceof DocumentFragment)return o.push(...Array.from(t.children)),o;if(t instanceof Element){o.push(...Array.from(t.children));let a=t.shadowRoot;a&&o.push(...Array.from(a.children));let r=l.get(t);return r&&o.push(...Array.from(r.children)),o}return o},v=t=>{let o=[],a=[...m(t)];for(;a.length;){let r=a.shift();o.push(r),a.push(...m(r))}return o},y=t=>{let o=String(t||"").trim();if(!o)return null;let a=o.replace(/^xpath=/i,""),r=[];{let e=0;for(;e<a.length;){let d="child";a.startsWith("//",e)?(d="desc",e+=2):a[e]==="/"&&(d="child",e+=1);let h=e;for(;e<a.length&&a[e]!=="/";)e++;let u=a.slice(h,e).trim();if(!u)continue;let p=u.match(/^(.*?)(\\[(\\d+)\\])?$/u),i=(p?.[1]??u).trim(),c=p?.[3]?Math.max(1,Number(p[3])):null,R=i===""?"*":i.toLowerCase();r.push({axis:d,raw:u,tag:R,index:c})}}n.debug&&console.info("[v3-piercer][resolve] start",{url:location.href,steps:r.map(e=>({axis:e.axis,raw:e.raw,tag:e.tag,index:e.index}))});let g=[document];for(let e of r){let d=e.index,h=null;for(let u of g){let p=e.axis==="child"?m(u):v(u),i=[];for(let c of p)(e.tag==="*"||c.localName===e.tag)&&i.push(c);if(n.debug&&console.info("[v3-piercer][resolve] step",{axis:e.axis,tag:e.tag,index:d,poolCount:p.length,matchesCount:i.length}),!!i.length){if(d!=null){let c=d-1;h=c>=0&&c<i.length?i[c]:null}else h=i[0];if(h)break}}if(!h)return n.debug&&console.info("[v3-piercer][resolve] no-match",{step:e.raw}),null;g=[h]}let E=g.length?g[0]:null;return n.debug&&console.info("[v3-piercer][resolve] done",{found:!!E,tag:E?.localName??""}),E};window.__stagehandV3__={getClosedRoot:t=>l.get(t),stats:()=>({installed:!0,url:location.href,isTop:window.top===window,open:n.openCount,closed:n.closedCount}),resolveSimpleXPath:y}},f=Element.prototype.attachShadow;if(f.__v3Patched&&f.__v3State){f.__v3State.debug=!0,S(f.__v3State);return}let s={hostToRoot:new WeakMap,openCount:0,closedCount:0,debug:!0},x=f,w=function(n){let l=n?.mode??"open",m=x.call(this,n);try{s.hostToRoot.set(this,m),l==="closed"?s.closedCount++:s.openCount++,s.debug&&console.info("[v3-piercer] attachShadow",{tag:this.tagName?.toLowerCase()??"",mode:l,url:location.href})}catch{}return m};if(w.__v3Patched=!0,w.__v3State=s,Object.defineProperty(Element.prototype,"attachShadow",{configurable:!0,writable:!0,value:w}),_.tagExisting)try{let n=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT);for(;n.nextNode();){let l=n.currentNode;l.shadowRoot&&(s.hostToRoot.set(l,l.shadowRoot),s.openCount++)}}catch{}window.__stagehandV3Injected=!0,S(s),s.debug&&console.info("[v3-piercer] installed",{url:location.href,isTop:window.top===window,readyState:document.readyState})}b({debug:!0,tagExisting:!1});})();\n';function p6(e){return"page"===e.type&&"iframe"!==e.subtype}e3(),e0();var p3=class e{constructor(e,t="LOCAL",r=null,n=null){this.conn=e,this.env=t,this.apiClient=r,this.localBrowserLaunchOptions=n,this._piercerInstalled=new Set,this._lastPopupSignalAt=0,this._sessionInit=new Set,this.pagesByTarget=new Map,this.mainFrameToTarget=new Map,this.sessionOwnerPage=new Map,this.frameOwnerPage=new Map,this.pendingOopifByMainFrame=new Map,this.createdAtByTarget=new Map,this.typeByTarget=new Map,this._pageOrder=[],this.pendingCreatedTargetUrl=new Map}sessionKey(e){var t;return null!=(t=e.id)?t:"root"}static create(t,r){return eQ(this,null,function*(){var n,a,i;let o=new e((yield p0.connect(t)),null!=(n=null==r?void 0:r.env)?n:"LOCAL",null!=(a=null==r?void 0:r.apiClient)?a:null,null!=(i=null==r?void 0:r.localBrowserLaunchOptions)?i:null);return yield o.bootstrap(),yield o.waitForFirstTopLevelPage(5e3),o})}waitForFirstTopLevelPage(e){return eQ(this,null,function*(){let t=Date.now()+e;for(;Date.now()<t;){for(let[e,t]of this.typeByTarget)if("page"===t&&this.pagesByTarget.get(e))return;yield new Promise(e=>setTimeout(e,25))}throw new V("waitForFirstTopLevelPage (no top-level Page)",e)})}waitForInitialTopLevelTargets(e,t=3e3){return eQ(this,null,function*(){if(!e.length)return;let r=new Set(e),n=Date.now()+t;for(;r.size&&Date.now()<n;){for(let e of Array.from(r))this.pagesByTarget.has(e)&&r.delete(e);if(!r.size)return;yield new Promise(e=>setTimeout(e,25))}r.size&&e4({category:"ctx",message:"Timed out waiting for existing top-level targets to attach",level:2,auxiliary:{remainingTargets:{value:JSON.stringify(Array.from(r)),type:"object"}}})})}ensurePiercer(e){return eQ(this,null,function*(){let t=this.sessionKey(e);if(this._piercerInstalled.has(t))return!0;let r=yield function(e){return eQ(this,null,function*(){var t,r;if(!(yield e.send("Page.enable").then(()=>!0).catch(()=>!1)))return!1;yield e.send("Runtime.enable").catch(()=>{});try{yield e.send("Page.addScriptToEvaluateOnNewDocument",{source:p4,runImmediately:!0})}catch(e){if(String(null!=(r=null!=(t=null==e?void 0:e.message)?t:e)?r:"").includes("Session with given id not found"))return!1}return yield e.send("Runtime.evaluate",{expression:p4,returnByValue:!0,awaitPromise:!0}).catch(()=>{}),yield e.send("Runtime.evaluate",{expression:'(()=>{function s(){try{let o=window.__stagehandV3__;if(!o||typeof o.getClosedRoot!="function")return;let t=[],r=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT);for(;r.nextNode();){let e=r.currentNode,n=e.tagName?.toLowerCase()??"";if(!n.includes("-")||typeof customElements?.get!="function"||!customElements.get(n))continue;let c=!!e.shadowRoot,i=!!o.getClosedRoot(e);c||i||t.push(e)}for(let e of t)try{let n=e.cloneNode(!0);e.replaceWith(n)}catch{}o.stats&&t.length&&console.info("[v3-piercer] rerender",{count:t.length})}catch(o){console.info("[v3-piercer] rerender error",{message:String(o??"")})}}s();})();\n',returnByValue:!0,awaitPromise:!1}).catch(()=>{}),!0})}(e);return r&&this._piercerInstalled.add(t),r})}_pushActive(e){let t=this._pageOrder.indexOf(e);-1!==t&&this._pageOrder.splice(t,1),this._pageOrder.push(e)}_removeFromOrder(e){let t=this._pageOrder.indexOf(e);-1!==t&&this._pageOrder.splice(t,1)}activePage(){var e;let t;for(let e=this._pageOrder.length-1;e>=0;e--){let t=this._pageOrder[e],r=this.pagesByTarget.get(t);if(r)return r;this._pageOrder.splice(e,1)}let r=-1;for(let[n]of this.pagesByTarget){let a=null!=(e=this.createdAtByTarget.get(n))?e:0;a>r&&(r=a,t=n)}return t?this.pagesByTarget.get(t):void 0}setActivePage(e){let t=e.targetId();if(this.pagesByTarget.get(t)!==e){let r=this.findTargetIdByPage(e);if(!r)return void e4({category:"ctx",message:"setActivePage called with unknown Page",level:2,auxiliary:{targetId:{value:String(t),type:"string"}}});t=r}this._pushActive(t),this.conn.send("Target.activateTarget",{targetId:t}).catch(()=>{})}pages(){var e;let t=[];for(let[r,n]of this.pagesByTarget)"page"===this.typeByTarget.get(r)&&t.push({tid:r,page:n,created:null!=(e=this.createdAtByTarget.get(r))?e:0});return t.sort((e,t)=>e.created-t.created),t.map(e=>e.page)}resolvePageByMainFrameId(e){let t=this.mainFrameToTarget.get(e);return t?this.pagesByTarget.get(t):void 0}getFullFrameTreeByMainFrameId(e){return eQ(this,null,function*(){let t=this.resolvePageByMainFrameId(e);if(!t)throw new B(`mainFrameId=${e}`);return t.asProtocolFrameTree(e)})}newPage(e="about:blank"){return eQ(this,null,function*(){let{targetId:t}=yield this.conn.send("Target.createTarget",{url:e});this.pendingCreatedTargetUrl.set(t,e),yield this.conn.send("Target.activateTarget",{targetId:t}).catch(()=>{});let r=Date.now()+5e3;for(;Date.now()<r;){let e=this.pagesByTarget.get(t);if(e)return e;yield new Promise(e=>setTimeout(e,25))}throw new V(`newPage: target not attached (${t})`,5e3)})}close(){return eQ(this,null,function*(){yield this.conn.close(),this.pagesByTarget.clear(),this.mainFrameToTarget.clear(),this.sessionOwnerPage.clear(),this.frameOwnerPage.clear(),this.pendingOopifByMainFrame.clear(),this.createdAtByTarget.clear(),this.typeByTarget.clear(),this.pendingCreatedTargetUrl.clear()})}bootstrap(){return eQ(this,null,function*(){this.conn.on("Target.attachedToTarget",e=>eQ(this,null,function*(){yield this.onAttachedToTarget(e.targetInfo,e.sessionId)})),this.conn.on("Target.detachedFromTarget",e=>{var t;this.onDetachedFromTarget(e.sessionId,null!=(t=e.targetId)?t:null)}),this.conn.on("Target.targetDestroyed",e=>{this.cleanupByTarget(e.targetId)}),this.conn.on("Target.targetCreated",e=>eQ(this,null,function*(){let t=e.targetInfo;if("worker"!==t.type&&"service_worker"!==t.type&&"shared_worker"!==t.type){"page"===t.type&&((null==t?void 0:t.openerId)||(null==t?void 0:t.openerFrameId))&&this._notePopupSignal();try{yield this.conn.attachToTarget(t.targetId)}catch(e){}}})),yield this.conn.enableAutoAttach();let e=yield this.conn.getTargets();for(let t of e)try{yield this.conn.attachToTarget(t.targetId)}catch(e){}let t=e.filter(e=>p6(e)).map(e=>e.targetId);yield this.waitForInitialTopLevelTargets(t)})}onAttachedToTarget(e,t){return eQ(this,null,function*(){var r;let n=this.conn.getSession(t);if(!(!n||this._sessionInit.has(t))&&(this._sessionInit.add(t),yield n.send("Runtime.runIfWaitingForDebugger").catch(()=>{}),W.attachSession(n),yield this.ensurePiercer(n))){if(yield n.send("Page.setLifecycleEventsEnabled",{enabled:!0}).catch(()=>{}),p6(e)){let a=yield ek.create(this.conn,n,e.targetId,this.apiClient,this.localBrowserLaunchOptions,"BROWSERBASE"===this.env);this.wireSessionToOwnerPage(t,a),this.pagesByTarget.set(e.targetId,a),this.mainFrameToTarget.set(a.mainFrameId(),e.targetId),this.sessionOwnerPage.set(t,a),this.frameOwnerPage.set(a.mainFrameId(),a),this.typeByTarget.set(e.targetId,"page"),this.createdAtByTarget.has(e.targetId)||this.createdAtByTarget.set(e.targetId,Date.now());let i=this.pendingCreatedTargetUrl.get(e.targetId);this.pendingCreatedTargetUrl.delete(e.targetId),a.seedCurrentUrl(null!=(r=null!=i?i:e.url)?r:""),this._pushActive(e.targetId),this.installFrameEventBridges(t,a);return}try{let{frameTree:e}=yield n.send("Page.getFrameTree"),r=e.frame.id,a=this.frameOwnerPage.get(r);if(!a)for(let e of this.pagesByTarget.values()){let t=e.asProtocolFrameTree(e.mainFrameId());if(function e(t){var n;if(t.frame.id===r)return!0;for(let r of null!=(n=t.childFrames)?n:[])if(e(r))return!0;return!1}(t)){a=e;break}}a?(a.adoptOopifSession(n,r),this.sessionOwnerPage.set(t,a),this.installFrameEventBridges(t,a),W.waitForMainWorld(n,r).catch(()=>{})):this.pendingOopifByMainFrame.set(r,t)}catch(e){}}})}onDetachedFromTarget(e,t){let r=this.sessionOwnerPage.get(e);for(let[n,a]of(r&&(r.detachOopifSession(e),this.sessionOwnerPage.delete(e)),t&&this.pagesByTarget.has(t)&&this.cleanupByTarget(t),Array.from(this.pendingOopifByMainFrame.entries())))a===e&&this.pendingOopifByMainFrame.delete(n)}cleanupByTarget(e){let t=this.pagesByTarget.get(e);if(!t)return;let r=t.mainFrameId();for(let[e,n]of(this.mainFrameToTarget.delete(r),this.frameOwnerPage.delete(r),Array.from(this.sessionOwnerPage.entries())))n===t&&this.sessionOwnerPage.delete(e);for(let[e]of Array.from(this.pendingOopifByMainFrame.entries())){let r=this.frameOwnerPage.get(e);r&&r!==t||this.pendingOopifByMainFrame.delete(e)}this._removeFromOrder(e),this.pagesByTarget.delete(e),this.createdAtByTarget.delete(e),this.typeByTarget.delete(e),this.pendingCreatedTargetUrl.delete(e)}installFrameEventBridges(e,t){let r=this.conn.getSession(e);r&&(r.on("Page.frameAttached",e=>{let{frameId:n,parentFrameId:a}=e;t.onFrameAttached(n,null!=a?a:null,r);let i=this.pendingOopifByMainFrame.get(n);if(i){let e=this.conn.getSession(i);e&&(t.adoptOopifSession(e,n),this.sessionOwnerPage.set(e.id,t),this.installFrameEventBridges(i,t)),this.pendingOopifByMainFrame.delete(n)}if(this.frameOwnerPage.set(n,t),!a){let e=t.mainFrameId(),r=this.findTargetIdByPage(t);r&&this.mainFrameToTarget.set(e,r),this.frameOwnerPage.set(e,t)}}),r.on("Page.frameDetached",e=>{var r;t.onFrameDetached(e.frameId,null!=(r=e.reason)?r:"remove"),"swap"!==e.reason&&this.frameOwnerPage.delete(e.frameId)}),r.on("Page.frameNavigated",e=>{t.onFrameNavigated(e.frame,r)}),r.on("Page.navigatedWithinDocument",e=>{t.onNavigatedWithinDocument(e.frameId,e.url,r)}),r.on("Page.windowOpen",()=>{this._notePopupSignal()}))}wireSessionToOwnerPage(e,t){this.sessionOwnerPage.set(e,t)}findTargetIdByPage(e){for(let[t,r]of this.pagesByTarget)if(r===e)return t}_notePopupSignal(){this._lastPopupSignalAt=Date.now()}awaitActivePage(e){return eQ(this,null,function*(){var t;let r="BROWSERBASE"===this.env?4e3:2e3;e=null!=e?e:r;let n="BROWSERBASE"===this.env?1e3:300,a=Date.now(),i=a-this._lastPopupSignalAt<=n,o=this.activePage();if(!i&&o)return o;let s=a+e;for(;Date.now()<s;){let e,r=-1;for(let[n]of this.pagesByTarget){let a=null!=(t=this.createdAtByTarget.get(n))?t:0;a>r&&(r=a,e=n)}if(e){let t=this.pagesByTarget.get(e);if(t&&r>=this._lastPopupSignalAt)return t}yield new Promise(e=>setTimeout(e,25))}if(o)return o;throw new B("awaitActivePage: no page available")})}},p9=eX(e.r(27488)),p5=eX(e.r(78017));e1();var p8=class{constructor({apiKey:e,projectId:t,logger:r}){this.apiKey=e,this.projectId=t,this.logger=r,this.fetchWithCookies=(0,p9.default)(fetch)}init(e){return eQ(this,arguments,function*({modelName:e,modelApiKey:t,domSettleTimeoutMs:r,verbose:n,systemPrompt:a,selfHeal:i,browserbaseSessionCreateParams:o,browserbaseSessionID:s}){var l;if(!t)throw new pZ("modelApiKey is required");this.modelApiKey=t;let u=null==o?void 0:o.region;if(u&&"us-west-2"!==u)return{sessionId:null!=s?s:null,available:!1};this.logger({category:"init",message:"Creating new browserbase session...",level:1});let d=yield this.request("/sessions/start",{method:"POST",body:JSON.stringify({modelName:e,domSettleTimeoutMs:r,verbose:n,systemPrompt:a,selfHeal:i,browserbaseSessionCreateParams:o,browserbaseSessionID:s})});if(401===d.status)throw new pH("Unauthorized. Ensure you provided a valid API key.");if(200!==d.status){let e=yield d.text();throw this.logger({category:"api",message:`API error (${d.status}): ${e}`,level:0}),new pG(`Unknown error: ${d.status}`)}let c=yield d.json();if(!1===c.success)throw new pZ(c.message);return this.sessionId=c.data.sessionId,(null==(l=c.data)?void 0:l.available)||!s||(c.data.sessionId=s),c.data})}act(e){return eQ(this,arguments,function*({input:e,options:t,frameId:r}){let n={input:e,frameId:r};if(t){let{page:e}=t,r=eG(t,["page"]);Object.keys(r).length>0&&(n.options=r)}return this.execute({method:"act",args:n})})}extract(e){return eQ(this,arguments,function*({instruction:e,schema:t,options:r,frameId:n}){let a={schema:t?(0,p5.default)(t):void 0,instruction:e,frameId:n};if(r){let{page:e}=r,t=eG(r,["page"]);Object.keys(t).length>0&&(a.options=t)}return this.execute({method:"extract",args:a})})}observe(e){return eQ(this,arguments,function*({instruction:e,options:t,frameId:r}){let n={instruction:e,frameId:r};if(t){let{page:e}=t,r=eG(t,["page"]);Object.keys(r).length>0&&(n.options=r)}return this.execute({method:"observe",args:n})})}goto(e,t,r){return eQ(this,null,function*(){return this.execute({method:"navigate",args:{url:e,options:t,frameId:r}})})}agentExecute(e,t,r){return eQ(this,null,function*(){if(e.integrations&&e.integrations.length>0)throw new j("MCP integrations");if("object"==typeof t&&t.page){let e=t,{page:r}=e;t=eG(e,["page"])}return this.execute({method:"agentExecute",args:{agentConfig:e,executeOptions:t,frameId:r}})})}end(){return eQ(this,null,function*(){let e=`/sessions/${this.sessionId}/end`;return yield this.request(e,{method:"POST"})})}getReplayMetrics(){return eQ(this,null,function*(){if(!this.sessionId)throw new pZ("sessionId is required to fetch metrics.");let e=yield this.request(`/sessions/${this.sessionId}/replay`,{method:"GET"});if(200!==e.status){let t=yield e.text();throw this.logger({category:"api",message:`Failed to fetch metrics. Status ${e.status}: ${t}`,level:0}),new pG(`Failed to fetch metrics with status ${e.status}: ${t}`)}let t=yield e.json();if(!t.success)throw new pZ(`Failed to fetch metrics: ${t.error||"Unknown error"}`);let r=t.data||{},n={actPromptTokens:0,actCompletionTokens:0,actReasoningTokens:0,actCachedInputTokens:0,actInferenceTimeMs:0,extractPromptTokens:0,extractCompletionTokens:0,extractReasoningTokens:0,extractCachedInputTokens:0,extractInferenceTimeMs:0,observePromptTokens:0,observeCompletionTokens:0,observeReasoningTokens:0,observeCachedInputTokens:0,observeInferenceTimeMs:0,agentPromptTokens:0,agentCompletionTokens:0,agentReasoningTokens:0,agentCachedInputTokens:0,agentInferenceTimeMs:0,totalPromptTokens:0,totalCompletionTokens:0,totalReasoningTokens:0,totalCachedInputTokens:0,totalInferenceTimeMs:0};for(let e of r.pages||[])for(let t of e.actions||[]){let e=(t.method||"").toLowerCase(),r=t.tokenUsage;if(r){let t=r.inputTokens||0,a=r.outputTokens||0,i=r.reasoningTokens||0,o=r.cachedInputTokens||0,s=r.timeMs||0;"act"===e?(n.actPromptTokens+=t,n.actCompletionTokens+=a,n.actReasoningTokens+=i,n.actCachedInputTokens+=o,n.actInferenceTimeMs+=s):"extract"===e?(n.extractPromptTokens+=t,n.extractCompletionTokens+=a,n.extractReasoningTokens+=i,n.extractCachedInputTokens+=o,n.extractInferenceTimeMs+=s):"observe"===e?(n.observePromptTokens+=t,n.observeCompletionTokens+=a,n.observeReasoningTokens+=i,n.observeCachedInputTokens+=o,n.observeInferenceTimeMs+=s):"agent"===e&&(n.agentPromptTokens+=t,n.agentCompletionTokens+=a,n.agentReasoningTokens+=i,n.agentCachedInputTokens+=o,n.agentInferenceTimeMs+=s),n.totalPromptTokens+=t,n.totalCompletionTokens+=a,n.totalReasoningTokens+=i,n.totalCachedInputTokens+=o,n.totalInferenceTimeMs+=s}}return n})}execute(e){return eQ(this,arguments,function*({method:e,args:t,params:r}){let n=new URLSearchParams(r).toString(),a=`/sessions/${this.sessionId}/${e}${n?`?${n}`:""}`,i=yield this.request(a,{method:"POST",body:JSON.stringify(t)});if(!i.ok){let e=yield i.text();throw new pG(`HTTP error! status: ${i.status}, body: ${e}`)}if(!i.body)throw new pJ;let o=i.body.getReader(),s=new TextDecoder,l="";for(;;){let{value:e,done:t}=yield o.read();if(t&&!l)throw new pW("Stream ended without completion signal");let r=(l+=s.decode(e,{stream:!0})).split("\n\n");for(let e of(l=r.pop()||"",r))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));if("system"===t.type){if("error"===t.data.status)throw new pW(t.data.error);if("finished"===t.data.status)return t.data.result}else"log"===t.type&&this.logger(t.data.message)}catch(t){if(t instanceof pW)throw t;let e=t instanceof Error?t.message:String(t);throw this.logger({category:"api",message:`Failed to parse SSE event: ${e}`,level:0}),new pK(`Failed to parse server response: ${e}`)}if(t){if(l.trim()&&l.startsWith("data: "))try{let e=JSON.parse(l.slice(6));if("system"===e.type&&"finished"===e.data.status)return e.data.result}catch(e){this.logger({category:"api",message:`Incomplete data in final buffer: ${l.substring(0,100)}`,level:0})}throw new pW("Stream ended without completion signal")}}})}request(e,t){return eQ(this,null,function*(){var r;let n={"x-bb-api-key":this.apiKey,"x-bb-project-id":this.projectId,"x-bb-session-id":this.sessionId,"x-stream-response":"true","x-model-api-key":this.modelApiKey,"x-sent-at":new Date().toISOString(),"x-language":"typescript","x-sdk-version":i};return"POST"===t.method&&t.body&&(n["Content-Type"]="application/json"),yield this.fetchWithCookies(`${null!=(r=process.env.STAGEHAND_API_URL)?r:"https://api.stagehand.browserbase.com/v1"}${e}`,eH(eZ({},t),{headers:eZ(eZ({},n),t.headers)}))})}},p7="openai/gpt-4.1-mini",me={width:1288,height:711};tJ.default.config({path:".env"});var mt=class e{constructor(t){var r,n,a,i,o,s,l,u,d,c,p;this.state={kind:"UNINITIALIZED"},this.actHandler=null,this.extractHandler=null,this.observeHandler=null,this.ctx=null,this.overrideLlmClients=new Map,this._isClosing=!1,this._onCdpClosed=e=>{this._immediateShutdown(`CDP transport closed: ${e}`).catch(()=>{})},this.experimental=!1,this.logInferenceToFile=!1,this.disableAPI=!1,this.verbose=1,this._history=[],this.apiClient=null,this.stagehandMetrics={actPromptTokens:0,actCompletionTokens:0,actReasoningTokens:0,actCachedInputTokens:0,actInferenceTimeMs:0,extractPromptTokens:0,extractCompletionTokens:0,extractReasoningTokens:0,extractCachedInputTokens:0,extractInferenceTimeMs:0,observePromptTokens:0,observeCompletionTokens:0,observeReasoningTokens:0,observeCachedInputTokens:0,observeInferenceTimeMs:0,agentPromptTokens:0,agentCompletionTokens:0,agentReasoningTokens:0,agentCachedInputTokens:0,agentInferenceTimeMs:0,totalPromptTokens:0,totalCompletionTokens:0,totalReasoningTokens:0,totalCachedInputTokens:0,totalInferenceTimeMs:0},e._installProcessGuards(),this.externalLogger=t.logger,this.verbose=null!=(r=t.verbose)?r:1,this.instanceId=null!=(i=null==(a=null==(n=globalThis.crypto)?void 0:n.randomUUID)?void 0:a.call(n))?i:`${Date.now()}-${Math.floor(1e9*Math.random())}`;const m={pretty:!0,level:"info"};void 0!==t.disablePino&&(m.usePino=!t.disablePino),this.stagehandLogger=new rl(m,t.logger),this.stagehandLogger.setVerbosity(this.verbose);try{this.externalLogger?(u=this.instanceId,d=this.externalLogger,G.set(u,d)):(c=this.instanceId,p=e=>{this.stagehandLogger.log(e)},G.set(c,p))}catch(e){}const{modelName:h,clientOptions:f}=function(e){if(!e)return{modelName:p7};if("string"==typeof e)return{modelName:e};if(e&&"object"==typeof e){let{modelName:t}=e,r=eG(e,["modelName"]);if(!t)throw new b("model.modelName is required when providing client options.");return{modelName:t,clientOptions:r}}return{modelName:p7}}(t.model);this.modelName=h,this.experimental=null!=(o=t.experimental)&&o,this.logInferenceToFile=null!=(s=t.logInferenceToFile)&&s,this.llmProvider=new pD(this.logger),this.domSettleTimeoutMs=t.domSettleTimeout,this.disableAPI=null!=(l=t.disableAPI)&&l;const g=f?eZ({},f):{};if(t.llmClient)this.llmClient=t.llmClient,this.modelClientOptions=g,this.disableAPI=!0;else{let e=g.apiKey;if(!e)try{e=rr(this.modelName.split("/")[0],this.logger)}catch(e){throw this.logger({category:"init",message:`Error loading API key for model ${this.modelName}: ${e}. Continuing without LLM client.`,level:0}),e}this.modelClientOptions=eH(eZ({},g),{apiKey:e}),this.llmClient=this.llmProvider.getClient(this.modelName,this.modelClientOptions)}this.cacheStorage=rv.create(t.cacheDir,this.logger,{label:"cache directory"}),this.actCache=new rp({storage:this.cacheStorage,logger:this.logger,getActHandler:()=>this.actHandler,getDefaultLlmClient:()=>this.resolveLlmClient(),domSettleTimeoutMs:this.domSettleTimeoutMs}),this.agentCache=new rf({storage:this.cacheStorage,logger:this.logger,getActHandler:()=>this.actHandler,getContext:()=>this.ctx,getDefaultLlmClient:()=>this.resolveLlmClient(),getBaseModelName:()=>this.modelName,getSystemPrompt:()=>t.systemPrompt,domSettleTimeoutMs:this.domSettleTimeoutMs,act:this.act.bind(this)}),this.opts=t,e._instances.add(this)}get browserbaseSessionID(){return this.browserbaseSessionId}get metrics(){return this.apiClient?this.apiClient.getReplayMetrics().catch(e=>(this.logger({category:"metrics",message:`Failed to fetch metrics from API: ${e}`,level:0}),this.stagehandMetrics)):Promise.resolve(this.stagehandMetrics)}resolveLlmClient(e){let t,r;if(!e)return this.llmClient;if("string"==typeof e)t=e;else{let{modelName:n}=e,a=eG(e,["modelName"]);t=n,r=a}if(t===this.modelName&&(!r||0===Object.keys(r).length))return this.llmClient;let n=String(t).split("/")[0],a=eZ(eZ({},n===String(this.modelName).split("/")[0]?this.modelClientOptions:{}),null!=r?r:{});if(!a.apiKey){let e=rr(n,this.logger);e&&(a.apiKey=e)}let i=JSON.stringify({modelName:t,clientOptions:a}),o=this.overrideLlmClients.get(i);if(o)return o;let s=this.llmProvider.getClient(t,a);return this.overrideLlmClients.set(i,s),s}beginAgentReplayRecording(){this.agentCache.beginRecording()}endAgentReplayRecording(){return this.agentCache.endRecording()}discardAgentReplayRecording(){this.agentCache.discardRecording()}isAgentReplayRecording(){return this.agentCache.isRecording()}isAgentReplayActive(){return this.agentCache.isReplayActive()}recordAgentReplayStep(e){this.agentCache.recordStep(e)}get history(){return Promise.resolve(Object.freeze([...this._history]))}addToHistory(e,t,r){this._history.push({method:e,parameters:t,result:null!=r?r:null,timestamp:new Date().toISOString()})}updateMetrics(e,t,r,n,a,i){switch(e){case"ACT":this.stagehandMetrics.actPromptTokens+=t,this.stagehandMetrics.actCompletionTokens+=r,this.stagehandMetrics.actReasoningTokens+=n,this.stagehandMetrics.actCachedInputTokens+=a,this.stagehandMetrics.actInferenceTimeMs+=i;break;case"EXTRACT":this.stagehandMetrics.extractPromptTokens+=t,this.stagehandMetrics.extractCompletionTokens+=r,this.stagehandMetrics.extractReasoningTokens+=n,this.stagehandMetrics.extractCachedInputTokens+=a,this.stagehandMetrics.extractInferenceTimeMs+=i;break;case"OBSERVE":this.stagehandMetrics.observePromptTokens+=t,this.stagehandMetrics.observeCompletionTokens+=r,this.stagehandMetrics.observeReasoningTokens+=n,this.stagehandMetrics.observeCachedInputTokens+=a,this.stagehandMetrics.observeInferenceTimeMs+=i;break;case"AGENT":this.stagehandMetrics.agentPromptTokens+=t,this.stagehandMetrics.agentCompletionTokens+=r,this.stagehandMetrics.agentReasoningTokens+=n,this.stagehandMetrics.agentCachedInputTokens+=a,this.stagehandMetrics.agentInferenceTimeMs+=i}this.updateTotalMetrics(t,r,n,a,i)}updateTotalMetrics(e,t,r,n,a){this.stagehandMetrics.totalPromptTokens+=e,this.stagehandMetrics.totalCompletionTokens+=t,this.stagehandMetrics.totalReasoningTokens+=r,this.stagehandMetrics.totalCachedInputTokens+=n,this.stagehandMetrics.totalInferenceTimeMs+=a}_immediateShutdown(e){return eQ(this,null,function*(){try{this.logger({category:"v3",message:`initiating shutdown \u2192 ${e}`,level:0})}catch(e){}try{this.logger({category:"v3",message:`closing resources \u2192 ${e}`,level:0}),yield this.close({force:!0})}catch(e){}})}static _installProcessGuards(){if(e._processGuardsInstalled)return;e._processGuardsInstalled=!0;let t=t=>eQ(null,null,function*(){let r=Array.from(e._instances);yield Promise.all(r.map(e=>e._immediateShutdown(t)))});tQ.default.once("SIGINT",()=>{for(let t of(e4({category:"v3",message:"SIGINT: initiating shutdown",level:0}),e._instances))if(t.apiClient)return void t.apiClient.end();t("signal SIGINT")}),tQ.default.once("SIGTERM",()=>{for(let t of(e4({category:"v3",message:"SIGTERM: initiating shutdown",level:0}),e._instances))if(t.apiClient)return void t.apiClient.end();t("signal SIGTERM")}),tQ.default.once("uncaughtException",e=>{e4({category:"v3",message:"uncaughtException",level:0,auxiliary:{err:{value:String(e),type:"string"}}})}),tQ.default.once("unhandledRejection",e=>{e4({category:"v3",message:"unhandledRejection",level:0,auxiliary:{reason:{value:String(e),type:"string"}}})})}init(){return eQ(this,null,function*(){try{return yield e2(this.instanceId,()=>eQ(this,null,function*(){var e,t,r,n,a,i,o,s,l,d,c,p,m,h,g,y,v,b;if(this.actHandler=new rH(this.llmClient,this.modelName,this.modelClientOptions,e=>this.resolveLlmClient(e),null!=(e=this.opts.systemPrompt)?e:"",this.logInferenceToFile,null==(t=this.opts.selfHeal)||t,(e,t,r,n,a,i)=>this.updateMetrics(e,t,r,n,a,i),this.domSettleTimeoutMs),this.extractHandler=new rW(this.llmClient,this.modelName,this.modelClientOptions,e=>this.resolveLlmClient(e),null!=(r=this.opts.systemPrompt)?r:"",this.logInferenceToFile,this.experimental,(e,t,r,n,a,i)=>this.updateMetrics(e,t,r,n,a,i)),this.observeHandler=new rJ(this.llmClient,this.modelName,this.modelClientOptions,e=>this.resolveLlmClient(e),null!=(n=this.opts.systemPrompt)?n:"",this.logInferenceToFile,this.experimental,(e,t,r,n,a,i)=>this.updateMetrics(e,t,r,n,a,i)),"LOCAL"===this.opts.env){let e=tQ.default.env.HEADLESS;if(void 0!==e){let t=e.trim().toLowerCase();"true"!==t&&delete tQ.default.env.HEADLESS}let t=null!=(a=this.opts.localBrowserLaunchOptions)?a:{};if(t.cdpUrl){this.logger({category:"init",message:"Connecting to local browser",level:1}),this.ctx=yield p3.create(t.cdpUrl,{env:"LOCAL"}),this.ctx.conn.onTransportClosed(this._onCdpClosed),this.state={kind:"LOCAL",chrome:{kill:()=>eQ(this,null,function*(){})},ws:t.cdpUrl},yield this._applyPostConnectLocalOptions(t);return}this.logger({category:"init",message:"Launching local browser",level:1});let r=t.userDataDir,n=!1;if(!r){let e=tX.default.join(tY.default.tmpdir(),"stagehand-v3");tK.default.mkdirSync(e,{recursive:!0}),r=tK.default.mkdtempSync(tX.default.join(e,"profile-")),n=!0}let u=["--remote-allow-origins=*","--no-first-run","--no-default-browser-check","--disable-dev-shm-usage","--site-per-process"],d=[],c=t.ignoreDefaultArgs;d=!0===c?[]:Array.isArray(c)?u.filter(e=>!c.some(t=>e.includes(t))):[...u],t.devtools&&d.push("--auto-open-devtools-for-tabs"),t.locale&&d.push(`--lang=${t.locale}`),t.viewport||(t.viewport=me),(null==(i=t.viewport)?void 0:i.width)&&(null==(o=t.viewport)?void 0:o.height)&&d.push(`--window-size=${t.viewport.width},${t.viewport.height+87}`),"number"==typeof t.deviceScaleFactor&&d.push(`--force-device-scale-factor=${Math.max(.1,t.deviceScaleFactor)}`),t.hasTouch&&d.push("--touch-events=enabled"),t.ignoreHTTPSErrors&&d.push("--ignore-certificate-errors"),(null==(s=t.proxy)?void 0:s.server)&&d.push(`--proxy-server=${t.proxy.server}`),(null==(l=t.proxy)?void 0:l.bypass)&&d.push(`--proxy-bypass-list=${t.proxy.bypass}`),Array.isArray(t.args)&&d.push(...t.args);let{ws:p,chrome:m}=yield function(e){return eQ(this,null,function*(){var t,r,n;let a=[null!=(t=e.headless)&&t?"--headless=new":void 0,"--remote-allow-origins=*","--no-first-run","--no-default-browser-check","--disable-dev-shm-usage","--site-per-process",e.userDataDir?`--user-data-dir=${e.userDataDir}`:void 0,...null!=(r=e.chromeFlags)?r:[]].filter(e=>"string"==typeof e),i=yield function(){return eQ(this,arguments,function*(e={}){e.handleSIGINT=n1(e.handleSIGINT,!0);let t=new ay(e);return e.handleSIGINT&&0===af.size&&process.on(am,ag),af.add(t),yield t.launch(),{pid:t.pid,port:t.port,process:t.chromeProcess,remoteDebuggingPipes:t.remoteDebuggingPipes,kill:()=>{af.delete(t),0===af.size&&process.removeListener(am,ag),t.kill()}}})}({chromePath:e.chromePath,chromeFlags:a});return{ws:yield function(e,t){return eQ(this,null,function*(){let r=Date.now()+t,n="";for(;Date.now()<r;){try{let t=yield fetch(`http://127.0.0.1:${e}/json/version`);if(t.ok){let e=(yield t.json()).webSocketDebuggerUrl;if("string"==typeof e)return e}else n=`${t.status} ${t.statusText}`}catch(e){n=e instanceof Error?e.message:String(e)}yield new Promise(e=>setTimeout(e,250))}throw new Z(`Timed out waiting for /json/version on port ${e}${n?` (last error: ${n})`:""}`)})}(i.port,null!=(n=e.connectTimeoutMs)?n:15e3),chrome:i}})}({chromePath:t.executablePath,chromeFlags:d,headless:t.headless,userDataDir:r,connectTimeoutMs:t.connectTimeoutMs});this.ctx=yield p3.create(p,{env:"LOCAL",localBrowserLaunchOptions:t}),this.ctx.conn.onTransportClosed(this._onCdpClosed),this.state={kind:"LOCAL",chrome:m,ws:p,userDataDir:r,createdTempProfile:n,preserveUserDataDir:!!t.preserveUserDataDir},this.browserbaseSessionId=void 0,yield this._applyPostConnectLocalOptions(t);return}if("BROWSERBASE"===this.opts.env){let{apiKey:e,projectId:t}=this.requireBrowserbaseCreds();if(!e||!t)throw new u("BROWSERBASE_API_KEY and BROWSERBASE_PROJECT_ID","Browserbase environment");if(this.logger({category:"init",message:"Starting browserbase session",level:1}),!this.disableAPI&&!this.experimental){this.apiClient=new p8({apiKey:e,projectId:t,logger:this.logger});let r=eH(eZ({projectId:null!=(c=null==(d=this.opts.browserbaseSessionCreateParams)?void 0:d.projectId)?c:t},this.opts.browserbaseSessionCreateParams),{browserSettings:eH(eZ({},null!=(m=null==(p=this.opts.browserbaseSessionCreateParams)?void 0:p.browserSettings)?m:{}),{viewport:null!=(y=null==(g=null==(h=this.opts.browserbaseSessionCreateParams)?void 0:h.browserSettings)?void 0:g.viewport)?y:{width:1288,height:711}}),userMetadata:eH(eZ({},null!=(b=null==(v=this.opts.browserbaseSessionCreateParams)?void 0:v.userMetadata)?b:{}),{stagehand:"true"})}),{sessionId:n,available:a}=yield this.apiClient.init({modelName:this.modelName,modelApiKey:this.modelClientOptions.apiKey,domSettleTimeoutMs:this.domSettleTimeoutMs,verbose:this.verbose,systemPrompt:this.opts.systemPrompt,selfHeal:this.opts.selfHeal,browserbaseSessionCreateParams:r,browserbaseSessionID:this.opts.browserbaseSessionID});a||(this.apiClient=null),this.opts.browserbaseSessionID=n}let{ws:r,sessionId:n,bb:a}=yield function(e,t,r,n){return eQ(this,null,function*(){var a;let i=new nP.default({apiKey:e});if(n){let e=yield i.sessions.retrieve(n);if(!(null==e?void 0:e.id))throw new f;let t=e.connectUrl;if(!t)throw new N(`Browserbase session resume missing connectUrl for ${n}`);return{ws:t,sessionId:n,bb:i}}let o=null!=r?r:{},{projectId:s,browserSettings:l,userMetadata:u}=o,d=eH(eZ({projectId:null!=s?s:t},eG(o,["projectId","browserSettings","userMetadata"])),{browserSettings:eH(eZ({},null!=l?l:{}),{viewport:null!=(a=null==l?void 0:l.viewport)?a:{width:1288,height:711}}),userMetadata:eH(eZ({},null!=u?u:{}),{stagehand:"true"})}),c=yield i.sessions.create(d);if(!(null==c?void 0:c.connectUrl)||!(null==c?void 0:c.id))throw new N("Browserbase session creation returned an unexpected shape.");return{ws:c.connectUrl,sessionId:c.id,bb:i}})}(e,t,this.opts.browserbaseSessionCreateParams,this.opts.browserbaseSessionID);this.ctx=yield p3.create(r,{env:"BROWSERBASE",apiClient:this.apiClient}),this.ctx.conn.onTransportClosed(this._onCdpClosed),this.state={kind:"BROWSERBASE",sessionId:n,ws:r,bb:a},this.browserbaseSessionId=n,yield this._ensureBrowserbaseDownloadsEnabled();try{let e,t=!!this.opts.browserbaseSessionID;try{let t=yield a.sessions.debug(n);e=null==t?void 0:t.debuggerUrl}catch(e){}let r=`https://www.browserbase.com/sessions/${n}`;this.logger({category:"init",message:t?this.apiClient?"Browserbase session started":"Browserbase session resumed":"Browserbase session started",level:1,auxiliary:eH(eZ({sessionUrl:{value:r,type:"string"}},e&&{debugUrl:{value:e,type:"string"}}),{sessionId:{value:n,type:"string"}})})}catch(e){}return}let _=this.opts.env;throw new N(`Unsupported env: ${_}`)}))}catch(t){if(this.externalLogger)try{var e;e=this.instanceId,G.delete(e)}catch(e){}throw t}})}_applyPostConnectLocalOptions(e){return eQ(this,null,function*(){var t;try{if(e.downloadsPath||void 0!==e.acceptDownloads){let r=!1===e.acceptDownloads?"deny":"allow";yield null==(t=this.ctx)?void 0:t.conn.send("Browser.setDownloadBehavior",{behavior:r,downloadPath:e.downloadsPath,eventsEnabled:!0}).catch(()=>{})}}catch(e){}})}_ensureBrowserbaseDownloadsEnabled(){return eQ(this,null,function*(){var e;let t=null==(e=this.ctx)?void 0:e.conn;if(t)try{yield t.send("Browser.setDownloadBehavior",{behavior:"allow",downloadPath:"downloads",eventsEnabled:!0})}catch(e){}})}act(e,t){return eQ(this,null,function*(){return yield e2(this.instanceId,()=>eQ(this,null,function*(){var r;let n;if(!this.actHandler)throw new h("act()");if((r=e)&&"object"==typeof r&&"selector"in r){let r=yield this.resolvePage(null==t?void 0:t.page),a=e.selector;return n=this.apiClient?yield this.apiClient.act({input:e,options:t,frameId:r.mainFrameId()}):yield this.actHandler.actFromObserveResult(eH(eZ({},e),{selector:a}),r,this.domSettleTimeoutMs,this.resolveLlmClient(null==t?void 0:t.model)),this.addToHistory("act",{observeResult:e},n),n}if("string"!=typeof e||!e.trim())throw new b("act(): instruction string is required unless passing an Action");let a=yield this.resolvePage(null==t?void 0:t.page),i=null;if("string"==typeof e&&!this.isAgentReplayRecording()&&this.actCache.enabled&&(i=yield this.actCache.prepareContext(e,a,null==t?void 0:t.variables))){let r=yield this.actCache.tryReplay(i,a,null==t?void 0:t.timeout);if(r)return this.addToHistory("act",{instruction:e,variables:null==t?void 0:t.variables,timeout:null==t?void 0:t.timeout,cacheHit:!0},r),r}let o={instruction:e,page:a,variables:null==t?void 0:t.variables,timeout:null==t?void 0:t.timeout,model:null==t?void 0:t.model};if(this.apiClient){let r=a.mainFrameId();n=yield this.apiClient.act({input:e,options:t,frameId:r})}else n=yield this.actHandler.act(o);return this.addToHistory("act",{instruction:e,variables:null==t?void 0:t.variables,timeout:null==t?void 0:t.timeout},n),i&&n.success&&Array.isArray(n.actions)&&n.actions.length>0&&(yield this.actCache.store(i,n)),n}))})}extract(e,t,r){return eQ(this,null,function*(){return yield e2(this.instanceId,()=>eQ(this,null,function*(){let n,a,i,o;if(!this.extractHandler)throw new h("extract()");if("string"==typeof e)n=e,t&&"object"==typeof t&&"parse"in t&&"safeParse"in t?(a=t,i=r):i=t;else i=e||void 0;if(!n&&a)throw new b("extract(): schema provided without instruction");let s=n&&!a?rj:a,l=yield this.resolvePage(null==i?void 0:i.page),u={instruction:n,schema:s,model:null==i?void 0:i.model,timeout:null==i?void 0:i.timeout,selector:null==i?void 0:i.selector,page:l};if(this.apiClient){let e=l.mainFrameId();o=yield this.apiClient.extract({instruction:u.instruction,schema:u.schema,options:i,frameId:e})}else o=yield this.extractHandler.extract(u);return o}))})}observe(e,t){return eQ(this,null,function*(){return yield e2(this.instanceId,()=>eQ(this,null,function*(){let r,n,a;if(!this.observeHandler)throw new h("observe()");"string"==typeof e?(r=e,n=t):n=e;let i=yield this.resolvePage(null==n?void 0:n.page),o={instruction:r,model:null==n?void 0:n.model,timeout:null==n?void 0:n.timeout,selector:null==n?void 0:n.selector,page:i};if(this.apiClient){let e=i.mainFrameId();a=yield this.apiClient.observe({instruction:r,options:n,frameId:e})}else a=yield this.observeHandler.observe(o);return this.addToHistory("observe",{instruction:r,timeout:null==n?void 0:n.timeout},a),a}))})}connectURL(){if("UNINITIALIZED"===this.state.kind)throw new h("connectURL()");return this.state.ws}get context(){return this.ctx}close(t){return eQ(this,null,function*(){var r,n,a,i,o;if(this.apiClient&&(yield this.apiClient.end()),!this._isClosing||(null==t?void 0:t.force)){this._isClosing=!0;try{try{(null==(r=this.ctx)?void 0:r.conn)&&this._onCdpClosed&&(null==(a=(n=this.ctx.conn).offTransportClosed)||a.call(n,this._onCdpClosed))}catch(e){}try{yield null==(i=this.ctx)?void 0:i.close()}catch(e){}if("LOCAL"===this.state.kind){try{yield this.state.chrome.kill()}catch(e){}try{this.state.createdTempProfile&&!this.state.preserveUserDataDir&&this.state.userDataDir&&tK.default.rmSync(this.state.userDataDir,{recursive:!0,force:!0})}catch(e){}}}finally{this.state={kind:"UNINITIALIZED"},this.ctx=null,this._isClosing=!1,this.browserbaseSessionId=void 0;try{o=this.instanceId,G.delete(o)}catch(e){}e._instances.delete(this)}}})}requireBrowserbaseCreds(){var e,t;let{apiKey:r,projectId:n}=this.opts;if(r||(r=null!=(e=tQ.default.env.BROWSERBASE_API_KEY)?e:tQ.default.env.BB_API_KEY),n||(n=null!=(t=tQ.default.env.BROWSERBASE_PROJECT_ID)?t:tQ.default.env.BB_PROJECT_ID),!r||!n){let e=[];throw r||e.push("BROWSERBASE_API_KEY"),n||e.push("BROWSERBASE_PROJECT_ID"),new u(e.join(", "),"Browserbase")}return this.opts.apiKey=r,this.opts.projectId=n,this.logger({category:"init",message:"Using Browserbase credentials",level:1}),{apiKey:r,projectId:n}}get logger(){return e=>{var t;let r=eH(eZ({},e),{level:null!=(t=e.level)?t:1});this.stagehandLogger.log(r)}}resolveTopFrameId(e){return eQ(this,null,function*(){if(this.isPlaywrightPage(e)||this.isPatchrightPage(e)){let t=yield e.context().newCDPSession(e),{frameTree:r}=yield t.send("Page.getFrameTree");return r.frame.id}if(this.isPuppeteerPage(e)){let t=yield e.target().createCDPSession(),{frameTree:r}=yield t.send("Page.getFrameTree");return this.logger({category:"v3",message:"Puppeteer frame id",level:2,auxiliary:{frameId:{value:r.frame.id,type:"string"}}}),r.frame.id}throw new b("Unsupported page object passed to V3.act()")})}isPlaywrightPage(e){return"object"==typeof e&&null!==e&&"function"==typeof e.context}isPatchrightPage(e){return"object"==typeof e&&null!==e&&"function"==typeof e.context}isPuppeteerPage(e){return"object"==typeof e&&null!==e&&"function"==typeof e.target}resolvePage(e){return eQ(this,null,function*(){if(e)return yield this.normalizeToV3Page(e);let t=this.ctx;if(!t)throw new h("resolvePage()");return yield t.awaitActivePage()})}normalizeToV3Page(e){return eQ(this,null,function*(){if(e instanceof(yield Promise.resolve().then(()=>(tG(),tH))).Page)return e;if(this.isPlaywrightPage(e)){let t=yield this.resolveTopFrameId(e),r=this.ctx.resolvePageByMainFrameId(t);if(!r)throw new N("Failed to resolve V3 Page from Playwright page.");return r}if(this.isPatchrightPage(e)){let t=yield this.resolveTopFrameId(e),r=this.ctx.resolvePageByMainFrameId(t);if(!r)throw new N("Failed to resolve V3 Page from Patchright page.");return r}if(this.isPuppeteerPage(e)){let t=yield this.resolveTopFrameId(e),r=this.ctx.resolvePageByMainFrameId(t);if(!r)throw new N("Failed to resolve V3 Page from Puppeteer page.");return r}throw new b("Unsupported page object.")})}agent(e){var t,r;if(this.logger({category:"agent",message:`Creating v3 agent instance with options: ${JSON.stringify(e)}`,level:1,auxiliary:eZ({cua:{value:(null==e?void 0:e.cua)?"true":"false",type:"boolean"},model:(null==e?void 0:e.model)?"string"==typeof(null==e?void 0:e.model)?{value:e.model,type:"string"}:{value:e.model.modelName,type:"string"}:{value:this.llmClient.modelName,type:"string"},systemPrompt:{value:null!=(t=null==e?void 0:e.systemPrompt)?t:"",type:"string"},tools:{value:JSON.stringify(null!=(r=null==e?void 0:e.tools)?r:{}),type:"object"}},(null==e?void 0:e.integrations)&&{integrations:{value:JSON.stringify(e.integrations),type:"object"}})}),null==e?void 0:e.cua){if(((null==e?void 0:e.integrations)||(null==e?void 0:e.tools))&&!this.experimental)throw new j("MCP integrations and custom tools");let{modelName:t,isCua:r,clientOptions:n}=function(e){let t,r="string"==typeof e?e:e.modelName,n="string"==typeof e?{}:(()=>{let{modelName:t}=e;return eG(e,["modelName"])})(),{provider:a,modelName:i}=(t=r.indexOf("/"),{provider:r.substring(0,t),modelName:r.substring(t+1)});return{provider:a,modelName:i,clientOptions:n,isCua:pB.includes(r)}}((null==e?void 0:e.model)||eZ({modelName:this.modelName},this.modelClientOptions));if(!r)throw new z(pB);let a=this.agentCache.buildConfigSignature(e);return{execute:r=>eQ(this,null,function*(){return e2(this.instanceId,()=>eQ(this,null,function*(){var i,o;let s;if((null==e?void 0:e.integrations)&&!this.experimental)throw new j("MCP integrations");let l=(null==e?void 0:e.integrations)?yield pV(e.integrations,e.tools):null!=(i=null==e?void 0:e.tools)?i:{},u=new nI(this,this.logger,{modelName:t,clientOptions:n,userProvidedInstructions:null!=(o=e.systemPrompt)?o:`You are a helpful assistant that can use a web browser.
Do not ask follow up questions, the user will trust your judgement.`},l),d="string"==typeof r?{instruction:r}:r;if(d.page){let e=yield this.normalizeToV3Page(d.page);this.ctx.setActivePage(e)}let c=d.instruction.trim(),p=this.agentCache.sanitizeExecuteOptions(d),m=null;if(this.agentCache.shouldAttemptCache(c)){let e=yield this.ctx.awaitActivePage();if(m=yield this.agentCache.prepareContext({instruction:c,options:p,configSignature:a,page:e})){let e=yield this.agentCache.tryReplay(m);if(e)return e}}let h=[],f=!!m;f&&this.beginAgentReplayRecording();try{if(this.apiClient&&!this.experimental){let t=yield this.ctx.awaitActivePage();s=yield this.apiClient.agentExecute(e,d,t.mainFrameId())}else s=yield u.execute(r);return f&&(h=this.endAgentReplayRecording()),m&&s.success&&h.length>0&&(yield this.agentCache.store(m,h,s)),s}catch(e){throw f&&this.discardAgentReplayRecording(),e}finally{f&&this.discardAgentReplayRecording()}}))})}}let n=this.agentCache.buildConfigSignature(e);return{execute:t=>eQ(this,null,function*(){return e2(this.instanceId,()=>eQ(this,null,function*(){var r,a;let i;if(((null==e?void 0:e.integrations)||(null==e?void 0:e.tools))&&!this.experimental)throw new j("MCP integrations and custom tools");let o=(null==e?void 0:e.integrations)?yield pV(e.integrations,e.tools):null!=(r=null==e?void 0:e.tools)?r:{},s=(null==e?void 0:e.model)?this.resolveLlmClient(e.model):this.llmClient,l=new np(this,this.logger,s,"string"==typeof(null==e?void 0:e.executionModel)?e.executionModel:null==(a=null==e?void 0:e.executionModel)?void 0:a.modelName,null==e?void 0:e.systemPrompt,o),u="string"==typeof t?{instruction:t}:t;if(u.page){let e=yield this.normalizeToV3Page(u.page);this.ctx.setActivePage(e)}let d=u.instruction.trim(),c=this.agentCache.sanitizeExecuteOptions(u),p=null;if(this.agentCache.shouldAttemptCache(d)){let e=yield this.ctx.awaitActivePage();if(p=yield this.agentCache.prepareContext({instruction:d,options:c,configSignature:n,page:e})){let e=yield this.agentCache.tryReplay(p);if(e)return e}}let m=[],h=!!p;h&&this.beginAgentReplayRecording();try{if(this.apiClient&&!this.experimental){let t=yield this.ctx.awaitActivePage();i=yield this.apiClient.agentExecute(e,u,t.mainFrameId())}else i=yield l.execute(t);return h&&(m=this.endAgentReplayRecording()),p&&i.success&&m.length>0&&(yield this.agentCache.store(p,m,i)),i}catch(e){throw h&&this.discardAgentReplayRecording(),e}finally{h&&this.discardAgentReplayRecording()}}))})}}};mt._processGuardsInstalled=!1,mt._instances=new Set;var mr=mt,mn=eX(e.r(97289)),ma=e.r(43629);e0(),mn.default.config();var mi=ma.z.object({evaluation:ma.z.enum(["YES","NO"]),reasoning:ma.z.string()}),mo=ma.z.array(mi),ms=class{constructor(e,t,r){this.silentLogger=()=>{},this.v3=e,this.modelName=t||"google/gemini-2.5-flash",this.modelClientOptions=r||{apiKey:process.env.GEMINI_API_KEY||process.env.GOOGLE_GENERATIVE_AI_API_KEY||""}}getClient(){return new pD(this.v3.logger).getClient(this.modelName,this.modelClientOptions)}ask(e){return eQ(this,null,function*(){let t,{question:r,answer:n,screenshot:a=!0,systemPrompt:i,screenshotDelayMs:o=250,agentReasoning:s}=e;if(!r)throw new b("Question cannot be an empty string");if(!n&&!a)throw new b("Either answer (text) or screenshot must be provided");if(Array.isArray(a))return this._evaluateWithMultipleScreenshots({question:r,screenshots:a,systemPrompt:i,agentReasoning:s});let l=`You are an expert evaluator that confidently returns YES or NO based on if the original goal was achieved. You have access to  ${a?"a screenshot":"the agents reasoning and actions throughout the task"} that you can use to evaluate the tasks completion. Provide detailed reasoning for your answer.
          Today's date is ${new Date().toLocaleDateString()}`;if(yield new Promise(e=>setTimeout(e,o)),a){let e=yield this.v3.context.awaitActivePage();t=yield e.screenshot({fullPage:!1})}let u=this.getClient(),d=yield u.createChatCompletion({logger:this.silentLogger,options:{messages:[{role:"system",content:i||l},{role:"user",content:[{type:"text",text:s?`Question: ${r}

Agent's reasoning and actions taken:
${s}`:r},...a&&t?[{type:"image_url",image_url:{url:`data:image/jpeg;base64,${t.toString("base64")}`}}]:[],...n?[{type:"text",text:`the answer is ${n}`}]:[]]}],response_model:{name:"EvaluationResult",schema:mi}}});try{let e=d.data;return{evaluation:e.evaluation,reasoning:e.reasoning}}catch(t){let e=t instanceof Error?t.message:String(t);return{evaluation:"INVALID",reasoning:`Failed to get structured response: ${e}`}}})}batchAsk(e){return eQ(this,null,function*(){let t,{questions:r,screenshot:n=!0,systemPrompt:a="You are an expert evaluator that returns YES or NO with a concise reasoning.",screenshotDelayMs:i=250}=e;if(!(null==r?void 0:r.length))throw new b("Questions array cannot be empty");if(yield new Promise(e=>setTimeout(e,i)),n){let e=yield this.v3.context.awaitActivePage();t=yield e.screenshot({fullPage:!1})}let o=this.getClient(),s=r.map((e,t)=>`${t+1}. ${e.question}${e.answer?`
   Answer: ${e.answer}`:""}`).join("\n\n"),l=yield o.createChatCompletion({logger:this.silentLogger,options:{messages:[{role:"system",content:`${a}

You will be given multiple questions${n?" with a screenshot":""}. ${r.some(e=>e.answer)?"Some questions include answers to evaluate.":""} Answer each question by returning an object in the specified JSON format. Return a single JSON array containing one object for each question in the order they were asked.`},{role:"user",content:[{type:"text",text:s},...n&&t?[{type:"image_url",image_url:{url:`data:image/jpeg;base64,${t.toString("base64")}`}}]:[]]}],response_model:{name:"BatchEvaluationResult",schema:mo}}});try{return l.data.map(e=>({evaluation:e.evaluation,reasoning:e.reasoning}))}catch(t){let e=t instanceof Error?t.message:String(t);return r.map(()=>({evaluation:"INVALID",reasoning:`Failed to get structured response: ${e}`}))}})}_evaluateWithMultipleScreenshots(e){return eQ(this,null,function*(){let{question:t,screenshots:r,agentReasoning:n,systemPrompt:a=`You are an expert evaluator that confidently returns YES or NO given a question and multiple screenshots showing the progression of a task.
        ${n?"You also have access to the agent's detailed reasoning and thought process throughout the task.":""}
        Analyze ALL screenshots to understand the complete journey. Look for evidence of task completion across all screenshots, not just the last one.
        Success criteria may appear at different points in the sequence (confirmation messages, intermediate states, etc).
        ${n?"The agent's reasoning provides crucial context about what actions were attempted, what was observed, and the decision-making process. Use this alongside the visual evidence to make a comprehensive evaluation.":""}
        Today's date is ${new Date().toLocaleDateString()}`}=e;if(!t)throw new b("Question cannot be an empty string");if(!r||0===r.length)throw new b("At least one screenshot must be provided");let i=this.getClient(),o=r.map(e=>({type:"image_url",image_url:{url:`data:image/jpeg;base64,${e.toString("base64")}`}})),s=yield i.createChatCompletion({logger:this.silentLogger,options:{messages:[{role:"system",content:a},{role:"user",content:[{type:"text",text:n?`Question: ${t}

Agent's reasoning and actions throughout the task:
${n}

I'm providing ${r.length} screenshots showing the progression of the task. Please analyze both the agent's reasoning and all screenshots to determine if the task was completed successfully.`:`${t}

I'm providing ${r.length} screenshots showing the progression of the task. Please analyze all of them to determine if the task was completed successfully.`},...o]}],response_model:{name:"EvaluationResult",schema:mi}}});try{let e=s.data;return{evaluation:e.evaluation,reasoning:e.reasoning}}catch(t){let e=t instanceof Error?t.message:String(t);return{evaluation:"INVALID",reasoning:`Failed to get structured response: ${e}`}}})}}},93280,99730,38851,e=>{"use strict";let t,r,n;var a,i,o,s,l,u,d,c,p,m,h,f,g,y,v,b,_,w,S,k,x,E,T,O,I,P,C,A,j,z,R,N,$,M=e.i(10671);(a=z||(z={})).assertEqual=e=>{},a.assertIs=function(e){},a.assertNever=function(e){throw Error()},a.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},a.getValidEnumValues=e=>{let t=a.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return a.objectValues(r)},a.objectValues=e=>a.objectKeys(e).map(function(t){return e[t]}),a.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},a.find=(e,t)=>{for(let r of e)if(t(r))return r},a.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,a.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},a.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(R||(R={})).mergeShapes=(e,t)=>({...e,...t});let D=z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),F=e=>{switch(typeof e){case"undefined":return D.undefined;case"string":return D.string;case"number":return Number.isNaN(e)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":if(Array.isArray(e))return D.array;if(null===e)return D.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return D.promise;if("u">typeof Map&&e instanceof Map)return D.map;if("u">typeof Set&&e instanceof Set)return D.set;if("u">typeof Date&&e instanceof Date)return D.date;return D.object;default:return D.unknown}};e.s(["ZodParsedType",0,D,"getParsedType",0,F,"objectUtil",()=>R,"util",()=>z],75367);let U=z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),L=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class q extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof q))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,z.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}q.create=e=>new q(e),e.s(["ZodError",()=>q,"ZodIssueCode",0,U,"quotelessJson",0,L],63867);let V=(e,t)=>{let r;switch(e.code){case U.invalid_type:r=e.received===D.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,z.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${z.joinValues(e.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${z.joinValues(e.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${z.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:z.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case U.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case U.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=t.defaultError,z.assertNever(e)}return{message:r}},B=V;function Z(e){B=e}function H(){return B}e.s(["getErrorMap",()=>H,"setErrorMap",()=>Z],48822);let G=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},W=[];function J(e,t){let r=B,n=G({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===V?void 0:V].filter(e=>!!e)});e.common.issues.push(n)}class K{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return Y;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return K.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return Y;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let Y=Object.freeze({status:"aborted"}),X=e=>({status:"dirty",value:e}),Q=e=>({status:"valid",value:e}),ee=e=>"aborted"===e.status,et=e=>"dirty"===e.status,er=e=>"valid"===e.status,en=e=>"u">typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,X,"EMPTY_PATH",0,W,"INVALID",0,Y,"OK",0,Q,"ParseStatus",()=>K,"addIssueToContext",()=>J,"isAborted",0,ee,"isAsync",0,en,"isDirty",0,et,"isValid",0,er,"makeIssue",0,G],60958),e.s([],52231),(i=N||(N={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},i.toString=e=>"string"==typeof e?e:e?.message;class ea{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ei=(e,t)=>{if(er(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new q(e.common.issues);return this._error=t,this._error}}};function eo(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:i}=e;return"invalid_enum_value"===t.code?{message:i??a.defaultError}:void 0===a.data?{message:i??n??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:i??r??a.defaultError}},description:a}}class es{get description(){return this._def.description}_getType(e){return F(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:F(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new K,ctx:{common:e.parent.common,data:e.data,parsedType:F(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(en(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:F(e)},n=this._parseSync({data:e,path:r.path,parent:r});return ei(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:F(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return er(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>er(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:F(e)},n=this._parse({data:e,path:r.path,parent:r});return ei(r,await (en(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let a=e(r),i=()=>n.addIssue({code:U.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"u">typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new e0({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return e2.create(this,this._def)}nullable(){return e4.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eD.create(this)}promise(){return e1.create(this,this._def)}or(e){return eU.create([this,e],this._def)}and(e){return eV.create(this,e,this._def)}transform(e){return new e0({...eo(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new e6({...eo(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:$.ZodDefault})}brand(){return new e8({typeName:$.ZodBranded,type:this,...eo(this._def)})}catch(e){return new e3({...eo(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:$.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return e7.create(this,e)}readonly(){return te.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let el=/^c[^\s-]{8,}$/i,eu=/^[0-9a-z]+$/,ed=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ec=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ep=/^[a-z0-9_-]{21}$/i,em=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ef=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ey=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ev=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ew=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ek=RegExp(`^${eS}$`);function ex(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eE(e){let t=`${eS}T${ex(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class eT extends es{_parse(e){var r,n,a,i;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.string,received:t.parsedType}),Y}let s=new K;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(J(o=this._getOrReturnCtx(e,o),{code:U.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("max"===l.kind)e.data.length>l.value&&(J(o=this._getOrReturnCtx(e,o),{code:U.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?J(o,{code:U.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&J(o,{code:U.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if("email"===l.kind)ef.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"email",code:U.invalid_string,message:l.message}),s.dirty());else if("emoji"===l.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:U.invalid_string,message:l.message}),s.dirty());else if("uuid"===l.kind)ec.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:U.invalid_string,message:l.message}),s.dirty());else if("nanoid"===l.kind)ep.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:U.invalid_string,message:l.message}),s.dirty());else if("cuid"===l.kind)el.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:U.invalid_string,message:l.message}),s.dirty());else if("cuid2"===l.kind)eu.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:U.invalid_string,message:l.message}),s.dirty());else if("ulid"===l.kind)ed.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:U.invalid_string,message:l.message}),s.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{J(o=this._getOrReturnCtx(e,o),{validation:"url",code:U.invalid_string,message:l.message}),s.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"regex",code:U.invalid_string,message:l.message}),s.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):"datetime"===l.kind?eE(l).test(e.data)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:"datetime",message:l.message}),s.dirty()):"date"===l.kind?ek.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:"date",message:l.message}),s.dirty()):"time"===l.kind?RegExp(`^${ex(l)}$`).test(e.data)||(J(o=this._getOrReturnCtx(e,o),{code:U.invalid_string,validation:"time",message:l.message}),s.dirty()):"duration"===l.kind?eh.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"duration",code:U.invalid_string,message:l.message}),s.dirty()):"ip"===l.kind?(r=e.data,!(("v4"===(n=l.version)||!n)&&eg.test(r)||("v6"===n||!n)&&ev.test(r))&&1&&(J(o=this._getOrReturnCtx(e,o),{validation:"ip",code:U.invalid_string,message:l.message}),s.dirty())):"jwt"===l.kind?!function(e,t){if(!em.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(J(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:U.invalid_string,message:l.message}),s.dirty()):"cidr"===l.kind?(a=e.data,!(("v4"===(i=l.version)||!i)&&ey.test(a)||("v6"===i||!i)&&eb.test(a))&&1&&(J(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:U.invalid_string,message:l.message}),s.dirty())):"base64"===l.kind?e_.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"base64",code:U.invalid_string,message:l.message}),s.dirty()):"base64url"===l.kind?ew.test(e.data)||(J(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:U.invalid_string,message:l.message}),s.dirty()):z.assertNever(l);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:U.invalid_string,...N.errToObj(r)})}_addCheck(e){return new eT({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...N.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...N.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...N.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...N.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...N.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...N.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...N.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...N.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...N.errToObj(t)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new eT({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eT({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eT({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eT.create=e=>new eT({checks:[],typeName:$.ZodString,coerce:e?.coerce??!1,...eo(e)});class eO extends es{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.number,received:t.parsedType}),Y}let r=new K;for(let n of this._def.checks)"int"===n.kind?z.isInteger(e.data)||(J(t=this._getOrReturnCtx(e,t),{code:U.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}(e.data,n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:U.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(J(t=this._getOrReturnCtx(e,t),{code:U.not_finite,message:n.message}),r.dirty()):z.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,r,n){return new eO({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:N.toString(n)}]})}_addCheck(e){return new eO({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&z.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}eO.create=e=>new eO({checks:[],typeName:$.ZodNumber,coerce:e?.coerce||!1,...eo(e)});class eI extends es{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==D.bigint)return this._getInvalidInput(e);let r=new K;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(J(t=this._getOrReturnCtx(e,t),{code:U.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):z.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.bigint,received:t.parsedType}),Y}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,r,n){return new eI({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:N.toString(n)}]})}_addCheck(e){return new eI({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eI.create=e=>new eI({checks:[],typeName:$.ZodBigInt,coerce:e?.coerce??!1,...eo(e)});class eP extends es{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.boolean,received:t.parsedType}),Y}return Q(e.data)}}eP.create=e=>new eP({typeName:$.ZodBoolean,coerce:e?.coerce||!1,...eo(e)});class eC extends es{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.date,received:t.parsedType}),Y}if(Number.isNaN(e.data.getTime()))return J(this._getOrReturnCtx(e),{code:U.invalid_date}),Y;let r=new K;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(J(t=this._getOrReturnCtx(e,t),{code:U.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):z.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eC({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}eC.create=e=>new eC({checks:[],coerce:e?.coerce||!1,typeName:$.ZodDate,...eo(e)});class eA extends es{_parse(e){if(this._getType(e)!==D.symbol){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.symbol,received:t.parsedType}),Y}return Q(e.data)}}eA.create=e=>new eA({typeName:$.ZodSymbol,...eo(e)});class ej extends es{_parse(e){if(this._getType(e)!==D.undefined){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.undefined,received:t.parsedType}),Y}return Q(e.data)}}ej.create=e=>new ej({typeName:$.ZodUndefined,...eo(e)});class ez extends es{_parse(e){if(this._getType(e)!==D.null){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.null,received:t.parsedType}),Y}return Q(e.data)}}ez.create=e=>new ez({typeName:$.ZodNull,...eo(e)});class eR extends es{constructor(){super(...arguments),this._any=!0}_parse(e){return Q(e.data)}}eR.create=e=>new eR({typeName:$.ZodAny,...eo(e)});class eN extends es{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Q(e.data)}}eN.create=e=>new eN({typeName:$.ZodUnknown,...eo(e)});class e$ extends es{_parse(e){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.never,received:t.parsedType}),Y}}e$.create=e=>new e$({typeName:$.ZodNever,...eo(e)});class eM extends es{_parse(e){if(this._getType(e)!==D.undefined){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.void,received:t.parsedType}),Y}return Q(e.data)}}eM.create=e=>new eM({typeName:$.ZodVoid,...eo(e)});class eD extends es{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==D.array)return J(t,{code:U.invalid_type,expected:D.array,received:t.parsedType}),Y;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(J(t,{code:e?U.too_big:U.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(J(t,{code:U.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(J(t,{code:U.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new ea(t,e,t.path,r)))).then(e=>K.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new ea(t,e,t.path,r)));return K.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new eD({...this._def,minLength:{value:e,message:N.toString(t)}})}max(e,t){return new eD({...this._def,maxLength:{value:e,message:N.toString(t)}})}length(e,t){return new eD({...this._def,exactLength:{value:e,message:N.toString(t)}})}nonempty(e){return this.min(1,e)}}eD.create=(e,t)=>new eD({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...eo(t)});class eF extends es{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=z.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==D.object){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.object,received:t.parsedType}),Y}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof e$&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let o=[];for(let e of a){let t=n[e],a=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new ea(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof e$){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(J(r,{code:U.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new ea(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>K.mergeObjectSync(t,e)):K.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new eF({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:N.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new eF({...this._def,unknownKeys:"strip"})}passthrough(){return new eF({...this._def,unknownKeys:"passthrough"})}extend(e){return new eF({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eF({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eF({...this._def,catchall:e})}pick(e){let t={};for(let r of z.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new eF({...this._def,shape:()=>t})}omit(e){let t={};for(let r of z.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new eF({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eF){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=e2.create(e(a))}return new eF({...t._def,shape:()=>r})}if(t instanceof eD)return new eD({...t._def,type:e(t.element)});if(t instanceof e2)return e2.create(e(t.unwrap()));if(t instanceof e4)return e4.create(e(t.unwrap()));if(t instanceof eB)return eB.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of z.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new eF({...this._def,shape:()=>t})}required(e){let t={};for(let r of z.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof e2;)e=e._def.innerType;t[r]=e}return new eF({...this._def,shape:()=>t})}keyof(){return eY(z.objectKeys(this.shape))}}eF.create=(e,t)=>new eF({shape:()=>e,unknownKeys:"strip",catchall:e$.create(),typeName:$.ZodObject,...eo(t)}),eF.strictCreate=(e,t)=>new eF({shape:()=>e,unknownKeys:"strict",catchall:e$.create(),typeName:$.ZodObject,...eo(t)}),eF.lazycreate=(e,t)=>new eF({shape:e,unknownKeys:"strip",catchall:e$.create(),typeName:$.ZodObject,...eo(t)});class eU extends es{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new q(e.ctx.common.issues));return J(t,{code:U.invalid_union,unionErrors:r}),Y});{let e,n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new q(e));return J(t,{code:U.invalid_union,unionErrors:a}),Y}}get options(){return this._def.options}}eU.create=(e,t)=>new eU({options:e,typeName:$.ZodUnion,...eo(t)});let eL=e=>{if(e instanceof eJ)return eL(e.schema);if(e instanceof e0)return eL(e.innerType());if(e instanceof eK)return[e.value];if(e instanceof eX)return e.options;if(e instanceof eQ)return z.objectValues(e.enum);else if(e instanceof e6)return eL(e._def.innerType);else if(e instanceof ej)return[void 0];else if(e instanceof ez)return[null];else if(e instanceof e2)return[void 0,...eL(e.unwrap())];else if(e instanceof e4)return[null,...eL(e.unwrap())];else if(e instanceof e8)return eL(e.unwrap());else if(e instanceof te)return eL(e.unwrap());else if(e instanceof e3)return eL(e._def.innerType);else return[]};class eq extends es{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==D.object)return J(t,{code:U.invalid_type,expected:D.object,received:t.parsedType}),Y;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(J(t,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=eL(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new eq({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...eo(r)})}}class eV extends es{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(ee(e)||ee(n))return Y;let a=function e(t,r){let n=F(t),a=F(r);if(t===r)return{valid:!0,data:t};if(n===D.object&&a===D.object){let n=z.objectKeys(r),a=z.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i[n]=a.data}return{valid:!0,data:i}}if(n===D.array&&a===D.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}if(n===D.date&&a===D.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return a.valid?((et(e)||et(n))&&t.dirty(),{status:t.value,value:a.data}):(J(r,{code:U.invalid_intersection_types}),Y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eV.create=(e,t,r)=>new eV({left:e,right:t,typeName:$.ZodIntersection,...eo(r)});class eB extends es{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.array)return J(r,{code:U.invalid_type,expected:D.array,received:r.parsedType}),Y;if(r.data.length<this._def.items.length)return J(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new ea(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>K.mergeArray(t,e)):K.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eB({...this._def,rest:e})}}eB.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eB({items:e,typeName:$.ZodTuple,rest:null,...eo(t)})};class eZ extends es{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.object)return J(r,{code:U.invalid_type,expected:D.object,received:r.parsedType}),Y;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new ea(r,e,r.path,e)),value:i._parse(new ea(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?K.mergeObjectAsync(t,n):K.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eZ(t instanceof es?{keyType:e,valueType:t,typeName:$.ZodRecord,...eo(r)}:{keyType:eT.create(),valueType:e,typeName:$.ZodRecord,...eo(t)})}}class eH extends es{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.map)return J(r,{code:U.invalid_type,expected:D.map,received:r.parsedType}),Y;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new ea(r,e,r.path,[i,"key"])),value:a._parse(new ea(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return Y;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return Y;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}eH.create=(e,t,r)=>new eH({valueType:t,keyType:e,typeName:$.ZodMap,...eo(r)});class eG extends es{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.set)return J(r,{code:U.invalid_type,expected:D.set,received:r.parsedType}),Y;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(J(r,{code:U.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(J(r,{code:U.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return Y;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>a._parse(new ea(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new eG({...this._def,minSize:{value:e,message:N.toString(t)}})}max(e,t){return new eG({...this._def,maxSize:{value:e,message:N.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eG.create=(e,t)=>new eG({valueType:e,minSize:null,maxSize:null,typeName:$.ZodSet,...eo(t)});class eW extends es{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==D.function)return J(t,{code:U.invalid_type,expected:D.function,received:t.parsedType}),Y;function r(e,r){return G({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,B,V].filter(e=>!!e),issueData:{code:U.invalid_arguments,argumentsError:r}})}function n(e,r){return G({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,B,V].filter(e=>!!e),issueData:{code:U.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof e1){let e=this;return Q(async function(...t){let o=new q([]),s=await e._def.args.parseAsync(t,a).catch(e=>{throw o.addIssue(r(t,e)),o}),l=await Reflect.apply(i,this,s);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw o.addIssue(n(l,e)),o})})}{let e=this;return Q(function(...t){let o=e._def.args.safeParse(t,a);if(!o.success)throw new q([r(t,o.error)]);let s=Reflect.apply(i,this,o.data),l=e._def.returns.safeParse(s,a);if(!l.success)throw new q([n(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eW({...this._def,args:eB.create(e).rest(eN.create())})}returns(e){return new eW({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eW({args:e||eB.create([]).rest(eN.create()),returns:t||eN.create(),typeName:$.ZodFunction,...eo(r)})}}class eJ extends es{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eJ.create=(e,t)=>new eJ({getter:e,typeName:$.ZodLazy,...eo(t)});class eK extends es{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return J(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eY(e,t){return new eX({values:e,typeName:$.ZodEnum,...eo(t)})}eK.create=(e,t)=>new eK({value:e,typeName:$.ZodLiteral,...eo(t)});class eX extends es{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return J(t,{expected:z.joinValues(r),received:t.parsedType,code:U.invalid_type}),Y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return J(t,{received:t.data,code:U.invalid_enum_value,options:r}),Y}return Q(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eX.create(e,{...this._def,...t})}exclude(e,t=this._def){return eX.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eX.create=eY;class eQ extends es{_parse(e){let t=z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==D.string&&r.parsedType!==D.number){let e=z.objectValues(t);return J(r,{expected:z.joinValues(e),received:r.parsedType,code:U.invalid_type}),Y}if(this._cache||(this._cache=new Set(z.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=z.objectValues(t);return J(r,{received:r.data,code:U.invalid_enum_value,options:e}),Y}return Q(e.data)}get enum(){return this._def.values}}eQ.create=(e,t)=>new eQ({values:e,typeName:$.ZodNativeEnum,...eo(t)});class e1 extends es{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==D.promise&&!1===t.common.async?(J(t,{code:U.invalid_type,expected:D.promise,received:t.parsedType}),Y):Q((t.parsedType===D.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}e1.create=(e,t)=>new e1({type:e,typeName:$.ZodPromise,...eo(t)});class e0 extends es{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{J(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Y;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?Y:"dirty"===n.status||"dirty"===t.value?X(n.value):n});{if("aborted"===t.value)return Y;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?Y:"dirty"===n.status||"dirty"===t.value?X(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?Y:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?Y:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>er(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):Y);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!er(e))return Y;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}z.assertNever(n)}}e0.create=(e,t,r)=>new e0({schema:e,typeName:$.ZodEffects,effect:t,...eo(r)}),e0.createWithPreprocess=(e,t,r)=>new e0({schema:t,effect:{type:"preprocess",transform:e},typeName:$.ZodEffects,...eo(r)});class e2 extends es{_parse(e){return this._getType(e)===D.undefined?Q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e2.create=(e,t)=>new e2({innerType:e,typeName:$.ZodOptional,...eo(t)});class e4 extends es{_parse(e){return this._getType(e)===D.null?Q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e4.create=(e,t)=>new e4({innerType:e,typeName:$.ZodNullable,...eo(t)});class e6 extends es{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===D.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}e6.create=(e,t)=>new e6({innerType:e,typeName:$.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eo(t)});class e3 extends es{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return en(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new q(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new q(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}e3.create=(e,t)=>new e3({innerType:e,typeName:$.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eo(t)});class e9 extends es{_parse(e){if(this._getType(e)!==D.nan){let t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:D.nan,received:t.parsedType}),Y}return{status:"valid",value:e.data}}}e9.create=e=>new e9({typeName:$.ZodNaN,...eo(e)});let e5=Symbol("zod_brand");class e8 extends es{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class e7 extends es{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Y:"dirty"===e.status?(t.dirty(),X(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Y:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new e7({in:e,out:t,typeName:$.ZodPipeline})}}class te extends es{_parse(e){let t=this._def.innerType._parse(e),r=e=>(er(e)&&(e.value=Object.freeze(e.value)),e);return en(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function tt(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function tr(e,t={},r){return e?eR.create().superRefine((n,a)=>{let i=e(n);if(i instanceof Promise)return i.then(e=>{if(!e){let e=tt(t,n),i=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:i})}});if(!i){let e=tt(t,n),i=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:i})}}):eR.create()}te.create=(e,t)=>new te({innerType:e,typeName:$.ZodReadonly,...eo(t)});let tn={object:eF.lazycreate};(o=$||($={})).ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly";let ta=(e,t={message:`Input not instance of ${e.name}`})=>tr(t=>t instanceof e,t),ti=eT.create,to=eO.create,ts=e9.create,tl=eI.create,tu=eP.create,td=eC.create,tc=eA.create,tp=ej.create,tm=ez.create,th=eR.create,tf=eN.create,tg=e$.create,ty=eM.create,tv=eD.create,tb=eF.create,t_=eF.strictCreate,tw=eU.create,tS=eq.create,tk=eV.create,tx=eB.create,tE=eZ.create,tT=eH.create,tO=eG.create,tI=eW.create,tP=eJ.create,tC=eK.create,tA=eX.create,tj=eQ.create,tz=e1.create,tR=e0.create,tN=e2.create,t$=e4.create,tM=e0.createWithPreprocess,tD=e7.create,tF=()=>ti().optional(),tU=()=>to().optional(),tL=()=>tu().optional(),tq={string:e=>eT.create({...e,coerce:!0}),number:e=>eO.create({...e,coerce:!0}),boolean:e=>eP.create({...e,coerce:!0}),bigint:e=>eI.create({...e,coerce:!0}),date:e=>eC.create({...e,coerce:!0})};e.s(["BRAND",0,e5,"NEVER",0,Y,"Schema",()=>es,"ZodAny",()=>eR,"ZodArray",()=>eD,"ZodBigInt",()=>eI,"ZodBoolean",()=>eP,"ZodBranded",()=>e8,"ZodCatch",()=>e3,"ZodDate",()=>eC,"ZodDefault",()=>e6,"ZodDiscriminatedUnion",()=>eq,"ZodEffects",()=>e0,"ZodEnum",()=>eX,"ZodFirstPartyTypeKind",()=>$,"ZodFunction",()=>eW,"ZodIntersection",()=>eV,"ZodLazy",()=>eJ,"ZodLiteral",()=>eK,"ZodMap",()=>eH,"ZodNaN",()=>e9,"ZodNativeEnum",()=>eQ,"ZodNever",()=>e$,"ZodNull",()=>ez,"ZodNullable",()=>e4,"ZodNumber",()=>eO,"ZodObject",()=>eF,"ZodOptional",()=>e2,"ZodPipeline",()=>e7,"ZodPromise",()=>e1,"ZodReadonly",()=>te,"ZodRecord",()=>eZ,"ZodSchema",()=>es,"ZodSet",()=>eG,"ZodString",()=>eT,"ZodSymbol",()=>eA,"ZodTransformer",()=>e0,"ZodTuple",()=>eB,"ZodType",()=>es,"ZodUndefined",()=>ej,"ZodUnion",()=>eU,"ZodUnknown",()=>eN,"ZodVoid",()=>eM,"any",()=>th,"array",()=>tv,"bigint",()=>tl,"boolean",()=>tu,"coerce",0,tq,"custom",()=>tr,"date",()=>td,"datetimeRegex",()=>eE,"discriminatedUnion",()=>tS,"effect",()=>tR,"enum",()=>tA,"function",()=>tI,"instanceof",()=>ta,"intersection",()=>tk,"late",0,tn,"lazy",()=>tP,"literal",()=>tC,"map",()=>tT,"nan",()=>ts,"nativeEnum",()=>tj,"never",()=>tg,"null",()=>tm,"nullable",()=>t$,"number",()=>to,"object",()=>tb,"oboolean",()=>tL,"onumber",()=>tU,"optional",()=>tN,"ostring",()=>tF,"pipeline",()=>tD,"preprocess",()=>tM,"promise",()=>tz,"record",()=>tE,"set",()=>tO,"strictObject",()=>t_,"string",()=>ti,"symbol",()=>tc,"transformer",()=>tR,"tuple",()=>tx,"undefined",()=>tp,"union",()=>tw,"unknown",()=>tf,"void",()=>ty],22765),e.s([],24083),e.i(24083),e.i(48822),e.s(["defaultErrorMap",0,V,"getErrorMap",()=>H,"setErrorMap",()=>Z],52310),e.i(52310),e.i(60958),e.i(52231),e.i(75367),e.i(22765),e.i(63867),e.s(["BRAND",0,e5,"DIRTY",0,X,"EMPTY_PATH",0,W,"INVALID",0,Y,"NEVER",0,Y,"OK",0,Q,"ParseStatus",()=>K,"Schema",()=>es,"ZodAny",()=>eR,"ZodArray",()=>eD,"ZodBigInt",()=>eI,"ZodBoolean",()=>eP,"ZodBranded",()=>e8,"ZodCatch",()=>e3,"ZodDate",()=>eC,"ZodDefault",()=>e6,"ZodDiscriminatedUnion",()=>eq,"ZodEffects",()=>e0,"ZodEnum",()=>eX,"ZodError",()=>q,"ZodFirstPartyTypeKind",()=>$,"ZodFunction",()=>eW,"ZodIntersection",()=>eV,"ZodIssueCode",0,U,"ZodLazy",()=>eJ,"ZodLiteral",()=>eK,"ZodMap",()=>eH,"ZodNaN",()=>e9,"ZodNativeEnum",()=>eQ,"ZodNever",()=>e$,"ZodNull",()=>ez,"ZodNullable",()=>e4,"ZodNumber",()=>eO,"ZodObject",()=>eF,"ZodOptional",()=>e2,"ZodParsedType",0,D,"ZodPipeline",()=>e7,"ZodPromise",()=>e1,"ZodReadonly",()=>te,"ZodRecord",()=>eZ,"ZodSchema",()=>es,"ZodSet",()=>eG,"ZodString",()=>eT,"ZodSymbol",()=>eA,"ZodTransformer",()=>e0,"ZodTuple",()=>eB,"ZodType",()=>es,"ZodUndefined",()=>ej,"ZodUnion",()=>eU,"ZodUnknown",()=>eN,"ZodVoid",()=>eM,"addIssueToContext",()=>J,"any",()=>th,"array",()=>tv,"bigint",()=>tl,"boolean",()=>tu,"coerce",0,tq,"custom",()=>tr,"date",()=>td,"datetimeRegex",()=>eE,"defaultErrorMap",0,V,"discriminatedUnion",()=>tS,"effect",()=>tR,"enum",()=>tA,"function",()=>tI,"getErrorMap",()=>H,"getParsedType",0,F,"instanceof",()=>ta,"intersection",()=>tk,"isAborted",0,ee,"isAsync",0,en,"isDirty",0,et,"isValid",0,er,"late",0,tn,"lazy",()=>tP,"literal",()=>tC,"makeIssue",0,G,"map",()=>tT,"nan",()=>ts,"nativeEnum",()=>tj,"never",()=>tg,"null",()=>tm,"nullable",()=>t$,"number",()=>to,"object",()=>tb,"objectUtil",()=>R,"oboolean",()=>tL,"onumber",()=>tU,"optional",()=>tN,"ostring",()=>tF,"pipeline",()=>tD,"preprocess",()=>tM,"promise",()=>tz,"quotelessJson",0,L,"record",()=>tE,"set",()=>tO,"setErrorMap",()=>Z,"strictObject",()=>t_,"string",()=>ti,"symbol",()=>tc,"transformer",()=>tR,"tuple",()=>tx,"undefined",()=>tp,"union",()=>tw,"unknown",()=>tf,"util",()=>z,"void",()=>ty],85895);var tV=e.i(85895);e.s(["default",0,tV],13014);let tB=Symbol("Let zodToJsonSchema decide on which parser to use"),tZ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};function tH(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function tG(e,t,r,n,a){e[t]=r,tH(e,t,n,a)}let tW=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function tJ(e){if("openAi"!==e.target)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?tW(t,e.currentPath):t.join("/")}}function tK(e,t){return rs(e.type._def,t)}let tY=/^[cC][^\s-]{8,}$/,tX=/^[0-9a-z]+$/,tQ=/^[0-9A-HJKMNP-TV-Z]{26}$/,t1=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,t0=()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),t2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,t4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,t9=/^[a-zA-Z0-9_-]{21}$/,t5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function t8(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":tG(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":tG(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":rt(r,"email",n.message,t);break;case"format:idn-email":rt(r,"idn-email",n.message,t);break;case"pattern:zod":rr(r,t1,n.message,t)}break;case"url":rt(r,"uri",n.message,t);break;case"uuid":rt(r,"uuid",n.message,t);break;case"regex":rr(r,n.regex,n.message,t);break;case"cuid":rr(r,tY,n.message,t);break;case"cuid2":rr(r,tX,n.message,t);break;case"startsWith":rr(r,RegExp(`^${t7(n.value,t)}`),n.message,t);break;case"endsWith":rr(r,RegExp(`${t7(n.value,t)}$`),n.message,t);break;case"datetime":rt(r,"date-time",n.message,t);break;case"date":rt(r,"date",n.message,t);break;case"time":rt(r,"time",n.message,t);break;case"duration":rt(r,"duration",n.message,t);break;case"length":tG(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),tG(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":rr(r,RegExp(t7(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&rt(r,"ipv4",n.message,t),"v4"!==n.version&&rt(r,"ipv6",n.message,t);break;case"base64url":rr(r,t3,n.message,t);break;case"jwt":rr(r,t5,n.message,t);break;case"cidr":"v6"!==n.version&&rr(r,t2,n.message,t),"v4"!==n.version&&rr(r,t4,n.message,t);break;case"emoji":rr(r,t0(),n.message,t);break;case"ulid":rr(r,tQ,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":rt(r,"binary",n.message,t);break;case"contentEncoding:base64":tG(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":rr(r,t6,n.message,t)}break;case"nanoid":rr(r,t9,n.message,t)}return r}function t7(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)re.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let re=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rt(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):tG(e,"format",t,r,n)}function rr(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:rn(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):tG(e,"pattern",rn(t,n),r,n)}function rn(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",i=!1,o=!1,s=!1;for(let e=0;e<n.length;e++){if(i){a+=n[e],i=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){s?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),s=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],s=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?i=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function ra(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===$.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:rs(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??tJ(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:rs(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===$.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=t8(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===$.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===$.ZodBranded&&e.keyType._def.type._def.typeName===$.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=tK(e.keyType._def,t);return{...r,propertyNames:a}}return r}let ri={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},ro=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>rs(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0};function rs(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==tB)return a}if(n&&!r){let e=rl(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=((e,t,r)=>{switch(t){case $.ZodString:return t8(e,r);case $.ZodNumber:let n={type:"number"};if(!e.checks)return n;for(let t of e.checks)switch(t.kind){case"int":n.type="integer",tH(n,"type",t.message,r);break;case"min":"jsonSchema7"===r.target?t.inclusive?tG(n,"minimum",t.value,t.message,r):tG(n,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(n.exclusiveMinimum=!0),tG(n,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?tG(n,"maximum",t.value,t.message,r):tG(n,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(n.exclusiveMaximum=!0),tG(n,"maximum",t.value,t.message,r));break;case"multipleOf":tG(n,"multipleOf",t.value,t.message,r)}return n;case $.ZodObject:return function(e,t){let r="openAi"===t.target,n={type:"object",properties:{}},a=[],i=e.shape();for(let e in i){let o=i[e];if(void 0===o||void 0===o._def)continue;let s=function(e){try{return e.isOptional()}catch{return!0}}(o);s&&r&&("ZodOptional"===o._def.typeName&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),s=!1);let l=rs(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(n.properties[e]=l,s||a.push(e))}a.length&&(n.required=a);let o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return rs(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}(e,r);case $.ZodBigInt:let a={type:"integer",format:"int64"};if(!e.checks)return a;for(let t of e.checks)switch(t.kind){case"min":"jsonSchema7"===r.target?t.inclusive?tG(a,"minimum",t.value,t.message,r):tG(a,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(a.exclusiveMinimum=!0),tG(a,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?tG(a,"maximum",t.value,t.message,r):tG(a,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(a.exclusiveMaximum=!0),tG(a,"maximum",t.value,t.message,r));break;case"multipleOf":tG(a,"multipleOf",t.value,t.message,r)}return a;case $.ZodBoolean:return{type:"boolean"};case $.ZodDate:return function e(t,r,n){let a=n??r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var i=t,o=r;let s={type:"integer",format:"unix-time"};if("openApi3"===o.target)return s;for(let e of i.checks)switch(e.kind){case"min":tG(s,"minimum",e.value,e.message,o);break;case"max":tG(s,"maximum",e.value,e.message,o)}return s}}(e,r);case $.ZodUndefined:return{not:tJ(r)};case $.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case $.ZodArray:let i;return i={type:"array"},e.type?._def&&e.type?._def?.typeName!==$.ZodAny&&(i.items=rs(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&tG(i,"minItems",e.minLength.value,e.minLength.message,r),e.maxLength&&tG(i,"maxItems",e.maxLength.value,e.maxLength.message,r),e.exactLength&&(tG(i,"minItems",e.exactLength.value,e.exactLength.message,r),tG(i,"maxItems",e.exactLength.value,e.exactLength.message,r)),i;case $.ZodUnion:case $.ZodDiscriminatedUnion:if("openApi3"===r.target)return ro(e,r);let o=e.options instanceof Map?Array.from(e.options.values()):e.options;if(o.every(e=>e._def.typeName in ri&&(!e._def.checks||!e._def.checks.length))){let e=o.reduce((e,t)=>{let r=ri[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(o.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=o.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===o.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:o.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(o.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:o.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return ro(e,r);case $.ZodIntersection:let s,l,u;return s=[rs(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),rs(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),l="jsonSchema2019-09"===r.target?{unevaluatedProperties:!1}:void 0,u=[],s.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)u.push(...e.allOf),void 0===e.unevaluatedProperties&&(l=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else l=void 0;u.push(t)}}),u.length?{allOf:u,...l}:void 0;case $.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>rs(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:rs(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>rs(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case $.ZodRecord:return ra(e,r);case $.ZodLiteral:let d;return"bigint"!=(d=typeof e.value)&&"number"!==d&&"boolean"!==d&&"string"!==d?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===r.target?{type:"bigint"===d?"integer":d,enum:[e.value]}:{type:"bigint"===d?"integer":d,const:e.value};case $.ZodEnum:return{type:"string",enum:Array.from(e.values)};case $.ZodNativeEnum:let c,p,m;return c=e.values,{type:1===(m=Array.from(new Set((p=Object.keys(e.values).filter(e=>"number"!=typeof c[c[e]]).map(e=>c[e])).map(e=>typeof e)))).length?"string"===m[0]?"string":"number":["string","number"],enum:p};case $.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===r.target?{type:ri[e.innerType._def.typeName],nullable:!0}:{type:[ri[e.innerType._def.typeName],"null"]};if("openApi3"===r.target){let t=rs(e.innerType._def,{...r,currentPath:[...r.currentPath]});return t&&"$ref"in t?{allOf:[t],nullable:!0}:t&&{...t,nullable:!0}}let h=rs(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return h&&{anyOf:[h,{type:"null"}]};case $.ZodOptional:if(r.currentPath.toString()===r.propertyPath?.toString())return rs(e.innerType._def,r);let f=rs(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return f?{anyOf:[{not:tJ(r)},f]}:tJ(r);case $.ZodMap:if("record"===r.mapStrategy)return ra(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[rs(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||tJ(r),rs(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||tJ(r)],minItems:2,maxItems:2}};case $.ZodSet:let g;return g={type:"array",uniqueItems:!0,items:rs(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&tG(g,"minItems",e.minSize.value,e.minSize.message,r),e.maxSize&&tG(g,"maxItems",e.maxSize.value,e.maxSize.message,r),g;case $.ZodLazy:return()=>e.getter()._def;case $.ZodPromise:return rs(e.type._def,r);case $.ZodNaN:case $.ZodNever:return"openAi"===r.target?void 0:{not:tJ({...r,currentPath:[...r.currentPath,"not"]})};case $.ZodEffects:return"input"===r.effectStrategy?rs(e.schema._def,r):tJ(r);case $.ZodAny:case $.ZodUnknown:return tJ(r);case $.ZodDefault:return{...rs(e.innerType._def,r),default:e.defaultValue()};case $.ZodBranded:return tK(e,r);case $.ZodReadonly:case $.ZodCatch:return rs(e.innerType._def,r);case $.ZodPipeline:if("input"===r.pipeStrategy)return rs(e.in._def,r);if("output"===r.pipeStrategy)return rs(e.out._def,r);let y=rs(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),v=rs(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",y?"1":"0"]});return{allOf:[y,v].filter(e=>void 0!==e)};case $.ZodFunction:case $.ZodVoid:case $.ZodSymbol:default:return}})(e,e.typeName,t),o="function"==typeof i?rs(i(),t):i;if(o&&ru(e,t,o),t.postProcess){let r=t.postProcess(o,e,t);return a.jsonSchema=o,r}return a.jsonSchema=o,o}let rl=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:tW(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),tJ(t);return"seen"===t.$refStrategy?tJ(t):void 0}},ru=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var rd=((s=rd||{})[s.BadRequest=400]="BadRequest",s[s.NotFound=404]="NotFound",s[s.Unauthorized=401]="Unauthorized",s[s.Forbidden=403]="Forbidden",s[s.TooManyRequests=429]="TooManyRequests",s[s.RequestTimeout=408]="RequestTimeout",s[s.InternalServerError=500]="InternalServerError",s[s.ServiceUnavailable=503]="ServiceUnavailable",s),rc=class extends Error{constructor(e,t,r,n){super(e),this.name="ExaError",this.statusCode=t,this.timestamp=r??new Date().toISOString(),this.path=n}};function rp(e){return e instanceof es}function rm(e){return((e,t)=>{let r,n,a=(n=void 0!==(r="string"==typeof t?{...tZ,name:t}:{...tZ,...t}).name?[...r.basePath,r.definitionPath,r.name]:r.basePath,{...r,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(r.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...r.basePath,r.definitionPath,e],jsonSchema:void 0}]))}),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:rs(r._def,{...a,currentPath:[...a.basePath,a.definitionPath,t]},!0)??tJ(a)}),{}):void 0,o="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,s=rs(e._def,void 0===o?a:{...a,currentPath:[...a.basePath,a.definitionPath,o]},!1)??tJ(a),l="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(s.title=l),a.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[a.openAiAnyTypeName]||(i[a.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===a.$refStrategy?"1":[...a.basePath,a.definitionPath,a.openAiAnyTypeName].join("/")}}));let u=void 0===o?i?{...s,[a.definitionPath]:i}:s:{$ref:[..."relative"===a.$refStrategy?[]:a.basePath,a.definitionPath,o].join("/"),[a.definitionPath]:{...i,[o]:s}};return"jsonSchema7"===a.target?u.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===a.target||"openAi"===a.target)&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===a.target&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u})(e,{$refStrategy:"none"})}var rh=class{constructor(e){this.client=e}async request(e,t="POST",r,n){return this.client.request(`/research/v1${e}`,t,r,n)}async rawRequest(e,t="POST",r,n){return this.client.rawRequest(`/research/v1${e}`,t,r,n)}buildPaginationParams(e){let t={};return e&&(e.cursor&&(t.cursor=e.cursor),e.limit&&(t.limit=e.limit)),t}},rf=class extends rh{constructor(e){super(e)}async create(e){let{instructions:t,model:r,outputSchema:n}=e,a=n;a&&rp(a)&&(a=rm(a));let i={instructions:t,model:r??"exa-research-fast"};return a&&(i.outputSchema=a),this.request("","POST",i)}get(e,t){if(t?.stream)return(async()=>{let r={stream:"true"};void 0!==t.events&&(r.events=t.events.toString());let n=await this.rawRequest(`/${e}`,"GET",void 0,r);if(!n.body)throw Error("No response body for SSE stream");let a=n.body.getReader(),i=new TextDecoder,o="";function s(e){let t=e.split("\n").slice(1).join("\n");t.startsWith("data:")&&(t=t.slice(5).trimStart());try{return JSON.parse(t)}catch(e){return null}}return async function*(){for(;;){let{done:e,value:t}=await a.read();if(e)break;let r=(o+=i.decode(t,{stream:!0})).split("\n\n");for(let e of(o=r.pop()??"",r)){let t=s(e);t&&(yield t)}}if(o.trim()){let e=s(o.trim());e&&(yield e)}}()})();{let r={stream:"false"};return t?.events!==void 0&&(r.events=t.events.toString()),this.request(`/${e}`,"GET",void 0,r)}}async list(e){let t=this.buildPaginationParams(e);return this.request("","GET",void 0,t)}async pollUntilFinished(e,t){let r=t?.pollInterval??1e3,n=t?.timeoutMs??6e5,a=Date.now(),i=0;for(;;){try{let r=await this.get(e,{events:t?.events});if(i=0,"completed"===r.status||"failed"===r.status||"canceled"===r.status)return r}catch(t){if((i+=1)>=5)throw Error(`Polling failed 5 times in a row for research ${e}: ${t}`)}if(Date.now()-a>n)throw Error(`Polling timeout: Research ${e} did not complete within ${n}ms`);await new Promise(e=>setTimeout(e,r))}}},rg=class{constructor(e){this.client=e}async request(e,t="POST",r,n,a){return this.client.request(`/websets${e}`,t,r,n,a)}buildPaginationParams(e){let t={};return e&&(e.cursor&&(t.cursor=e.cursor),e.limit&&(t.limit=e.limit)),t}},ry=class extends rg{async create(e,t){return this.request(`/v0/websets/${e}/enrichments`,"POST",t)}async get(e,t){return this.request(`/v0/websets/${e}/enrichments/${t}`,"GET")}async delete(e,t){return this.request(`/v0/websets/${e}/enrichments/${t}`,"DELETE")}async update(e,t,r){return this.request(`/v0/websets/${e}/enrichments/${t}`,"PATCH",r)}async cancel(e,t){return this.request(`/v0/websets/${e}/enrichments/${t}/cancel`,"POST")}},rv=class extends rg{constructor(e){super(e)}async list(e){let t={cursor:e?.cursor,limit:e?.limit,types:e?.types};return this.request("/v0/events","GET",void 0,t)}async get(e){return this.request(`/v0/events/${e}`,"GET")}},rb=((l=rb||{}).text="text",l.date="date",l.number="number",l.options="options",l.email="email",l.phone="phone",l.url="url",l),r_=((u=r_||{}).csv="csv",u),rw=((d=rw||{}).import="import",d.webset="webset",d),rS=((c=rS||{}).webset_created="webset.created",c.webset_deleted="webset.deleted",c.webset_paused="webset.paused",c.webset_idle="webset.idle",c.webset_search_created="webset.search.created",c.webset_search_canceled="webset.search.canceled",c.webset_search_completed="webset.search.completed",c.webset_search_updated="webset.search.updated",c.import_created="import.created",c.import_completed="import.completed",c.webset_item_created="webset.item.created",c.webset_item_enriched="webset.item.enriched",c.monitor_created="monitor.created",c.monitor_updated="monitor.updated",c.monitor_deleted="monitor.deleted",c.monitor_run_created="monitor.run.created",c.monitor_run_completed="monitor.run.completed",c.webset_export_created="webset.export.created",c.webset_export_completed="webset.export.completed",c),rk=((p=rk||{}).invalid_format="invalid_format",p.invalid_file_content="invalid_file_content",p.missing_identifier="missing_identifier",p),rx=((m=rx||{}).csv="csv",m.webset="webset",m),rE=((h=rE||{}).import="import",h),rT=((f=rT||{}).pending="pending",f.processing="processing",f.completed="completed",f.failed="failed",f),rO=((g=rO||{}).monitor="monitor",g),rI=((y=rI||{}).enabled="enabled",y.disabled="disabled",y),rP=((v=rP||{}).monitor_run="monitor_run",v),rC=((b=rC||{}).created="created",b.running="running",b.completed="completed",b.canceled="canceled",b.failed="failed",b),rA=((_=rA||{}).search="search",_.refresh="refresh",_),rj=((w=rj||{}).enabled="enabled",w.disabled="disabled",w),rz=((S=rz||{}).active="active",S.inactive="inactive",S),rR=((k=rR||{}).idle="idle",k.pending="pending",k.running="running",k.paused="paused",k),rN=((x=rN||{}).pending="pending",x.canceled="canceled",x.completed="completed",x),r$=((E=r$||{}).text="text",E.date="date",E.number="number",E.options="options",E.email="email",E.phone="phone",E.url="url",E),rM=((T=rM||{}).search="search",T.import="import",T),rD=((O=rD||{}).yes="yes",O.no="no",O.unclear="unclear",O),rF=((I=rF||{}).import="import",I.webset="webset",I),rU=((P=rU||{}).import="import",P.webset="webset",P),rL=((C=rL||{}).created="created",C.pending="pending",C.running="running",C.completed="completed",C.canceled="canceled",C),rq=((A=rq||{}).override="override",A.append="append",A),rV=((j=rV||{}).webset_deleted="webset_deleted",j.webset_canceled="webset_canceled",j),rB=class extends rg{async create(e,t){let r;if(void 0===t)return this.request("/v0/imports","POST",e);if("string"==typeof t)r=Buffer.from(t,"utf8");else if(Buffer.isBuffer(t))r=t;else throw new rc("Invalid CSV data input. Must be string or Buffer",400);let n=r.length,a=Math.max(1,Math.ceil(n/1048576)),i=Math.max(0,r.toString("utf8").split("\n").filter(e=>e.trim().length>0).length-1);if(a>50)throw new rc(`CSV file too large: ${a}MB. Maximum size is 50MB.`,400);if(0===i)throw new rc("CSV file appears to have no data records (only header or empty)",400);let o={title:e.title,format:"csv",entity:e.entity,size:n,count:i,metadata:e.metadata,csv:e.csv},s=await this.request("/v0/imports","POST",o);try{let e=await fetch(s.uploadUrl,{method:"PUT",body:r});if(!e.ok){let t=await e.text();throw new rc(`Upload failed: ${e.status} ${e.statusText}. ${t}`,400)}}catch(e){if(e instanceof rc)throw e;throw new rc(`Failed to upload CSV data: ${e.message}`,400)}return s}async get(e){return this.request(`/v0/imports/${e}`,"GET")}async list(e){let t=this.buildPaginationParams(e);return this.request("/v0/imports","GET",void 0,t)}async update(e,t){return this.request(`/v0/imports/${e}`,"PATCH",t)}async delete(e){return this.request(`/v0/imports/${e}`,"DELETE")}async waitUntilCompleted(e,t){let r=t?.timeout??18e5,n=t?.pollInterval??2e3,a=t?.onPoll,i=Date.now();for(;;){let t=await this.get(e);if(a&&a(t.status),"completed"===t.status)return t;if("failed"===t.status)throw new rc(`Import ${e} failed: ${t.failedMessage||"Unknown error"}`,400);if(Date.now()-i>r)throw new rc(`Import ${e} did not complete within ${r}ms. Current status: ${t.status}`,408);await new Promise(e=>setTimeout(e,n))}}},rZ=class extends rg{list(e,t){let r={...this.buildPaginationParams(t),sourceId:t?.sourceId};return this.request(`/v0/websets/${e}/items`,"GET",void 0,r)}async *listAll(e,t){let r,n=t?{...t}:{};for(;;){n.cursor=r;let t=await this.list(e,n);for(let e of t.data)yield e;if(!t.hasMore||!t.nextCursor)break;r=t.nextCursor}}async getAll(e,t){let r=[];for await(let n of this.listAll(e,t))r.push(n);return r}async get(e,t){return this.request(`/v0/websets/${e}/items/${t}`,"GET")}async delete(e,t){return this.request(`/v0/websets/${e}/items/${t}`,"DELETE")}},rH=class extends rg{async list(e,t){let r=this.buildPaginationParams(t);return this.request(`/v0/monitors/${e}/runs`,"GET",void 0,r)}async get(e,t){return this.request(`/v0/monitors/${e}/runs/${t}`,"GET")}},rG=class extends rg{constructor(e){super(e),this.runs=new rH(e)}async create(e){return this.request("/v0/monitors","POST",e)}async get(e){return this.request(`/v0/monitors/${e}`,"GET")}async list(e){let t={cursor:e?.cursor,limit:e?.limit,websetId:e?.websetId};return this.request("/v0/monitors","GET",void 0,t)}async update(e,t){return this.request(`/v0/monitors/${e}`,"PATCH",t)}async delete(e){return this.request(`/v0/monitors/${e}`,"DELETE")}},rW=class extends rg{async create(e,t,r){return this.request(`/v0/websets/${e}/searches`,"POST",t,void 0,r?.headers)}async get(e,t){return this.request(`/v0/websets/${e}/searches/${t}`,"GET")}async cancel(e,t){return this.request(`/v0/websets/${e}/searches/${t}/cancel`,"POST")}},rJ=class extends rg{async create(e){return this.request("/v0/webhooks","POST",e)}async get(e){return this.request(`/v0/webhooks/${e}`,"GET")}async list(e){let t=this.buildPaginationParams(e);return this.request("/v0/webhooks","GET",void 0,t)}async *listAll(e){let t,r=e?{...e}:{};for(;;){r.cursor=t;let e=await this.list(r);for(let t of e.data)yield t;if(!e.hasMore||!e.nextCursor)break;t=e.nextCursor}}async getAll(e){let t=[];for await(let r of this.listAll(e))t.push(r);return t}async update(e,t){return this.request(`/v0/webhooks/${e}`,"PATCH",t)}async delete(e){return this.request(`/v0/webhooks/${e}`,"DELETE")}async listAttempts(e,t){let r={cursor:t?.cursor,limit:t?.limit,eventType:t?.eventType,successful:t?.successful};return this.request(`/v0/webhooks/${e}/attempts`,"GET",void 0,r)}async *listAllAttempts(e,t){let r,n=t?{...t}:{};for(;;){n.cursor=r;let t=await this.listAttempts(e,n);for(let e of t.data)yield e;if(!t.hasMore||!t.nextCursor)break;r=t.nextCursor}}async getAllAttempts(e,t){let r=[];for await(let n of this.listAllAttempts(e,t))r.push(n);return r}},rK=class extends rg{constructor(e){super(e),this.events=new rv(e),this.imports=new rB(e),this.items=new rZ(e),this.searches=new rW(e),this.enrichments=new ry(e),this.monitors=new rG(e),this.webhooks=new rJ(e)}async create(e,t){return this.request("/v0/websets","POST",e,void 0,t?.headers)}async preview(e,t){let r={};return t?.search!==void 0&&(r.search=t.search),this.request("/v0/websets/preview","POST",e,r)}async get(e,t){let r={};return t&&(r.expand=t),this.request(`/v0/websets/${e}`,"GET",void 0,r)}async list(e){let t=this.buildPaginationParams(e);return this.request("/v0/websets","GET",void 0,t)}async *listAll(e){let t,r=e?{...e}:{};for(;;){r.cursor=t;let e=await this.list(r);for(let t of e.data)yield t;if(!e.hasMore||!e.nextCursor)break;t=e.nextCursor}}async getAll(e){let t=[];for await(let r of this.listAll(e))t.push(r);return t}async update(e,t){return this.request(`/v0/websets/${e}`,"POST",t)}async delete(e){return this.request(`/v0/websets/${e}`,"DELETE")}async cancel(e){return this.request(`/v0/websets/${e}/cancel`,"POST")}async waitUntilIdle(e,t){let r,n,a=1e3;"number"==typeof t?r=t:t&&(r=t.timeout,a=t.pollInterval||1e3,n=t.onPoll);let i=Date.now();for(;;){let t=await this.get(e);if(n&&n(t.status),"idle"===t.status)return t;if(r&&Date.now()-i>r)throw new rc(`Webset ${e} did not reach idle state within ${r}ms. Current status: ${t.status}`,408);await new Promise(e=>setTimeout(e,a))}}},rY=e.g.fetch?e.g.fetch:M.default,rX=e.g.Headers?e.g.Headers:M.Headers,rQ=class{extractContentsOptions(e){let{text:t,highlights:r,summary:n,subpages:a,subpageTarget:i,extras:o,livecrawl:s,livecrawlTimeout:l,context:u,...d}=e,c={};return void 0===t&&void 0===n&&void 0===r&&void 0===o&&(c.text=!0),void 0!==t&&(c.text=t),void 0!==r&&(c.highlights=r),void 0!==n&&("object"==typeof n&&null!==n&&"schema"in n&&n.schema&&rp(n.schema)?c.summary={...n,schema:rm(n.schema)}:c.summary=n),void 0!==a&&(c.subpages=a),void 0!==i&&(c.subpageTarget=i),void 0!==o&&(c.extras=o),void 0!==s&&(c.livecrawl=s),void 0!==l&&(c.livecrawlTimeout=l),void 0!==u&&(c.context=u),{contentsOptions:c,restOptions:d}}constructor(e,t="https://api.exa.ai"){if(this.baseURL=t,!e&&!(e=process.env.EXA_API_KEY))throw new rc("API key must be provided as an argument or as an environment variable (EXA_API_KEY)",401);this.headers=new rX({"x-api-key":e,"Content-Type":"application/json","User-Agent":"exa-node 2.0.12"}),this.websets=new rK(this),this.research=new rf(this)}async request(e,t,r,n,a){let i=this.baseURL+e;if(n&&Object.keys(n).length>0){let e=new URLSearchParams;for(let[t,r]of Object.entries(n))if(Array.isArray(r))for(let n of r)e.append(t,n);else void 0!==r&&e.append(t,String(r));i+=`?${e.toString()}`}let o={};this.headers instanceof rX?this.headers.forEach((e,t)=>{o[t]=e}):o={...this.headers},a&&(o={...o,...a});let s=await rY(i,{method:t,headers:o,body:r?JSON.stringify(r):void 0});if(!s.ok){let t=await s.json();t.statusCode||(t.statusCode=s.status),t.timestamp||(t.timestamp=new Date().toISOString()),t.path||(t.path=e);let r=t.error||"Unknown error";throw t.message&&(r+=(r.length>0?". ":"")+t.message),new rc(r,s.status,t.timestamp,t.path)}return(s.headers.get("content-type")||"").includes("text/event-stream")?await this.parseSSEStream(s):await s.json()}async rawRequest(e,t="POST",r,n){let a=this.baseURL+e;if(n){let e=new URLSearchParams;for(let[t,r]of Object.entries(n))if(Array.isArray(r))for(let n of r)e.append(t,String(n));else void 0!==r&&e.append(t,String(r));a+=`?${e.toString()}`}return await rY(a,{method:t,headers:this.headers,body:r?JSON.stringify(r):void 0})}async search(e,t){if(void 0===t||!("contents"in t))return await this.request("/search","POST",{query:e,...t,contents:{text:{maxCharacters:1e4}}});if(!1===t.contents||null===t.contents||void 0===t.contents){let{contents:r,...n}=t;return await this.request("/search","POST",{query:e,...n})}return await this.request("/search","POST",{query:e,...t})}async searchAndContents(e,t){let{contentsOptions:r,restOptions:n}=void 0===t?{contentsOptions:{text:{maxCharacters:1e4}},restOptions:{}}:this.extractContentsOptions(t);return await this.request("/search","POST",{query:e,contents:r,...n})}async findSimilar(e,t){if(void 0===t||!("contents"in t))return await this.request("/findSimilar","POST",{url:e,...t,contents:{text:{maxCharacters:1e4}}});if(!1===t.contents||null===t.contents||void 0===t.contents){let{contents:r,...n}=t;return await this.request("/findSimilar","POST",{url:e,...n})}return await this.request("/findSimilar","POST",{url:e,...t})}async findSimilarAndContents(e,t){let{contentsOptions:r,restOptions:n}=void 0===t?{contentsOptions:{text:{maxCharacters:1e4}},restOptions:{}}:this.extractContentsOptions(t);return await this.request("/findSimilar","POST",{url:e,contents:r,...n})}async getContents(e,t){if(!e||Array.isArray(e)&&0===e.length)throw new rc("Must provide at least one URL",400);let r={urls:"string"==typeof e?[e]:"string"==typeof e[0]?e:e.map(e=>e.url),...t};return await this.request("/contents","POST",r)}async answer(e,t){if(t?.stream)throw new rc("For streaming responses, please use streamAnswer() instead:\n\nfor await (const chunk of exa.streamAnswer(query)) {\n  // Handle chunks\n}",400);let r=t?.outputSchema;r&&rp(r)&&(r=rm(r));let n={query:e,stream:!1,text:t?.text??!1,model:t?.model??"exa",systemPrompt:t?.systemPrompt,outputSchema:r,userLocation:t?.userLocation};return await this.request("/answer","POST",n)}async *streamAnswer(e,t){let r=t?.outputSchema;r&&rp(r)&&(r=rm(r));let n={query:e,text:t?.text??!1,stream:!0,model:t?.model??"exa",systemPrompt:t?.systemPrompt,outputSchema:r},a=await rY(this.baseURL+"/answer",{method:"POST",headers:this.headers,body:JSON.stringify(n)});if(!a.ok)throw new rc(await a.text(),a.status,new Date().toISOString());let i=a.body?.getReader();if(!i)throw new rc("No response body available for streaming.",500,new Date().toISOString());let o=new TextDecoder,s="";try{for(;;){let{done:e,value:t}=await i.read();if(e)break;let r=(s+=o.decode(t,{stream:!0})).split("\n");for(let e of(s=r.pop()||"",r)){let t;if(!e.startsWith("data: "))continue;let r=e.replace(/^data:\s*/,"").trim();if(!r||"[DONE]"===r)continue;try{t=JSON.parse(r)}catch(e){continue}let n=this.processChunk(t);(n.content||n.citations)&&(yield n)}}if(s.startsWith("data: ")){let e=s.replace(/^data:\s*/,"").trim();if(e&&"[DONE]"!==e)try{let t=JSON.parse(e),r=this.processChunk(t);(r.content||r.citations)&&(yield r)}catch(e){}}}finally{i.releaseLock()}}processChunk(e){let t,r;return e.choices&&e.choices[0]&&e.choices[0].delta&&(t=e.choices[0].delta.content),e.citations&&"null"!==e.citations&&(r=e.citations.map(e=>({id:e.id,url:e.url,title:e.title,publishedDate:e.publishedDate,author:e.author,text:e.text}))),{content:t,citations:r}}async parseSSEStream(e){let t=e.body?.getReader();if(!t)throw new rc("No response body available for streaming.",500,new Date().toISOString());let r=new TextDecoder,n="";return new Promise(async(e,a)=>{try{for(;;){let{done:i,value:o}=await t.read();if(i)break;let s=(n+=r.decode(o,{stream:!0})).split("\n");for(let r of(n=s.pop()||"",s)){let n;if(!r.startsWith("data: "))continue;let i=r.replace(/^data:\s*/,"").trim();if(i&&"[DONE]"!==i){try{n=JSON.parse(i)}catch{continue}switch(n.tag){case"complete":t.releaseLock(),e(n.data);return;case"error":{let e=n.error?.message||"Unknown error";t.releaseLock(),a(new rc(e,500,new Date().toISOString()));return}}}}}a(new rc("Stream ended without a completion event.",500,new Date().toISOString()))}catch(e){a(e)}finally{try{t.releaseLock()}catch{}}})}};e.s(["default",()=>rQ],93280);let r1=(e=0)=>t=>`\u001B[${t+e}m`,r0=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,r2=(e=0)=>(t,r,n)=>`\u001B[${38+e};2;${t};${r};${n}m`,r4={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(r4.modifier),[...Object.keys(r4.color),...Object.keys(r4.bgColor)];let r6=function(){let e=new Map;for(let[t,r]of Object.entries(r4)){for(let[t,n]of Object.entries(r))r4[t]={open:`\u001B[${n[0]}m`,close:`\u001B[${n[1]}m`},r[t]=r4[t],e.set(n[0],n[1]);Object.defineProperty(r4,t,{value:r,enumerable:!1})}return Object.defineProperty(r4,"codes",{value:e,enumerable:!1}),r4.color.close="\x1b[39m",r4.bgColor.close="\x1b[49m",r4.color.ansi=r1(),r4.color.ansi256=r0(),r4.color.ansi16m=r2(),r4.bgColor.ansi=r1(10),r4.bgColor.ansi256=r0(10),r4.bgColor.ansi16m=r2(10),Object.defineProperties(r4,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>r4.rgbToAnsi256(...r4.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,n;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,n=t;else{let a=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(a/6)/5,n=a%6/5}let a=2*Math.max(t,r,n);if(0===a)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return 2===a&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>r4.ansi256ToAnsi(r4.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>r4.ansi256ToAnsi(r4.hexToAnsi256(e)),enumerable:!1}}),r4}();var r3=e.i(59639),r9=e.i(60526),r5=e.i(9656);function r8(e,t=globalThis.Deno?globalThis.Deno.args:r3.default.argv){let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),a=t.indexOf("--");return -1!==n&&(-1===a||n<a)}let{env:r7}=r3.default;function ne(e,t={}){var n;return 0!==(n=function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){let a=function(){if("FORCE_COLOR"in r7)return"true"===r7.FORCE_COLOR?1:"false"===r7.FORCE_COLOR?0:0===r7.FORCE_COLOR.length?1:Math.min(Number.parseInt(r7.FORCE_COLOR,10),3)}();void 0!==a&&(r=a);let i=n?r:a;if(0===i)return 0;if(n){if(r8("color=16m")||r8("color=full")||r8("color=truecolor"))return 3;if(r8("color=256"))return 2}if("TF_BUILD"in r7&&"AGENT_NAME"in r7)return 1;if(e&&!t&&void 0===i)return 0;let o=i||0;if("dumb"===r7.TERM)return o;if("win32"===r3.default.platform){let e=r9.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in r7)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(e=>e in r7)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(e=>e in r7)||"codeship"===r7.CI_NAME?1:o;if("TEAMCITY_VERSION"in r7)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r7.TEAMCITY_VERSION);if("truecolor"===r7.COLORTERM||"xterm-kitty"===r7.TERM||"xterm-ghostty"===r7.TERM||"wezterm"===r7.TERM)return 3;if("TERM_PROGRAM"in r7){let e=Number.parseInt((r7.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r7.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r7.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r7.TERM)||"COLORTERM"in r7?1:o}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}r8("no-color")||r8("no-colors")||r8("color=false")||r8("color=never")?r=0:(r8("color")||r8("colors")||r8("color=true")||r8("color=always"))&&(r=1);let{stdout:nt,stderr:nr}={stdout:ne({isTTY:r5.default.isatty(1)}),stderr:ne({isTTY:r5.default.isatty(2)})},nn=Symbol("GENERATOR"),na=Symbol("STYLER"),ni=Symbol("IS_EMPTY"),no=["ansi","ansi","ansi256","ansi16m"],ns=Object.create(null);function nl(e){let t;return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=nt?nt.level:0;e.level=void 0===t.level?r:t.level})(t=(...e)=>e.join(" "),e),Object.setPrototypeOf(t,nl.prototype),t}for(let[e,t]of(Object.setPrototypeOf(nl.prototype,Function.prototype),Object.entries(r6)))ns[e]={get(){let r=np(this,nc(t.open,t.close,this[na]),this[ni]);return Object.defineProperty(this,e,{value:r}),r}};ns.visible={get(){let e=np(this,this[na],!0);return Object.defineProperty(this,"visible",{value:e}),e}};let nu=(e,t,r,...n)=>"rgb"===e?"ansi16m"===t?r6[r].ansi16m(...n):"ansi256"===t?r6[r].ansi256(r6.rgbToAnsi256(...n)):r6[r].ansi(r6.rgbToAnsi(...n)):"hex"===e?nu("rgb",t,r,...r6.hexToRgb(...n)):r6[r][e](...n);for(let e of["rgb","hex","ansi256"])ns[e]={get(){let{level:t}=this;return function(...r){return np(this,nc(nu(e,no[t],"color",...r),r6.color.close,this[na]),this[ni])}}},ns["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return np(this,nc(nu(e,no[t],"bgColor",...r),r6.bgColor.close,this[na]),this[ni])}}};let nd=Object.defineProperties(()=>{},{...ns,level:{enumerable:!0,get(){return this[nn].level},set(e){this[nn].level=e}}}),nc=(e,t,r)=>{let n,a;return void 0===r?(n=e,a=t):(n=r.openAll+e,a=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:a,parent:r}},np=(e,t,r)=>{let n=(...e)=>nm(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,nd),n[nn]=e,n[na]=t,n[ni]=r,n},nm=(e,t)=>{if(e.level<=0||!t)return e[ni]?"":t;let r=e[na];if(void 0===r)return t;let{openAll:n,closeAll:a}=r;if(t.includes("\x1b"))for(;void 0!==r;)t=function(e,t,r){let n=e.indexOf(t);if(-1===n)return e;let a=t.length,i=0,o="";do o+=e.slice(i,n)+t+r,i=n+a,n=e.indexOf(t,i);while(-1!==n)return o+e.slice(i)}(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=function(e,t,r,n){let a=0,i="";do{let o="\r"===e[n-1];i+=e.slice(a,o?n-1:n)+t+(o?"\r\n":"\n")+r,a=n+1,n=e.indexOf("\n",a)}while(-1!==n)return i+e.slice(a)}(t,a,n,i)),n+t+a};Object.defineProperties(nl.prototype,ns);let nh=nl();function nf(e,t="info"){let r={info:nh.blue(""),success:nh.green(""),error:nh.red(""),warn:nh.yellow("")};console.log(`${r[t]} ${e}`)}function ng(){return new Date().toISOString().split("T")[0]}function ny(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}async function nv(e){return new Promise(t=>setTimeout(t,e))}async function nb(e,t={}){let r,{maxRetries:n=3,initialDelay:a=1e3,maxDelay:i=1e4,backoffMultiplier:o=2,shouldRetry:s=()=>!0}=t,l=a;for(let t=0;t<=n;t++)try{return await e()}catch(a){if(r=a,!s(a)||t===n)throw a;let e=a instanceof Error?a.message:String(a);nf(`Attempt ${t+1}/${n+1} failed: ${e}. Retrying in ${l}ms...`,"warn"),await nv(l),l=Math.min(l*o,i)}throw r}function n_(e){if(!e)return!1;let t=e instanceof Error?e.message:String(e),r=e instanceof Error?e.name:e?.constructor?.name||"";return r.includes("ParseError")||r.includes("TimeoutError")||r.includes("NetworkError")||t.includes("parse")||t.includes("timeout")||t.includes("Timeout")||t.includes("network")||t.includes("ECONNREFUSED")||t.includes("ETIMEDOUT")||t.includes("Failed to parse")}nl({level:nr?nr.level:0}),e.s(["delay",()=>nv,"formatDate",()=>ng,"isRetryableError",()=>n_,"log",()=>nf,"retryWithBackoff",()=>nb,"sanitizeFilename",()=>ny],99730);var nw=e.i(62562),nS=e.i(88947);process.env.VERCEL||process.env.AWS_LAMBDA_FUNCTION_NAME||process.env.NETLIFY,console.log("[Init] Detected serverless environment, disabling pino-pretty"),process.env.LOG_LEVEL=process.env.LOG_LEVEL||"info",delete process.env.PINO_PRETTY,delete process.env.PINO_TRANSPORT_TARGET,(0,nw.createRequire)({get url(){return`file://${e.P("src/init.ts")}`}}.url);let nk=e.r(62562),nx=nk.prototype.require;nk.prototype.require=function(e){return"pino-pretty"===e?function(){return new nS.Transform({transform(e,t,r){r(null,e)}})}:nx.apply(this,arguments)};let nE=process.emit;process.emit=function(e,...t){if("warning"===e&&t[0]){let e=t[0],r=e?.message||String(e);if(r.includes("pino-pretty")||r.includes("pino")&&r.includes("transport"))return!1}if("uncaughtException"===e||"unhandledRejection"===e){let e=t[0];if(e&&"object"==typeof e){let t=e.message||String(e);if(t.includes("unable to determine transport target")||t.includes("pino-pretty")||t.includes("pino")&&t.includes("target"))return console.warn("[Init] Suppressed pino-pretty error (expected in serverless)"),!0}}return nE.apply(this,arguments)},process.on("unhandledRejection",e=>{let t=e?.message||String(e);if(!(t.includes("pino-pretty")||t.includes("unable to determine transport target")))throw e}),e.i(64913);var nT=e.i(44689);e.i(13014);let nO=tV.object({name:tV.string().describe("Official company name"),mission:tV.string().nullish().describe("Company mission statement or tagline"),description:tV.string().nullish().describe("Brief company description or about section"),headquarters:tV.string().nullish().describe("Headquarters location"),industry:tV.string().nullish().describe("Industry or sector"),website:tV.string().nullish().describe("Official website URL")}),nI=tV.object({title:tV.string().describe("News headline or title"),date:tV.string().describe("Publication date"),source:tV.string().describe("News source or publication"),summary:tV.string().describe("Brief summary of the news"),url:tV.string().optional().describe("Link to full article")}),nP=tV.object({articles:tV.array(nI).describe("Recent company news items")}),nC=tV.object({languages:tV.array(tV.string()).describe("Programming languages used"),frameworks:tV.array(tV.string()).describe("Frameworks and libraries"),tools:tV.array(tV.string()).describe("Development tools and platforms"),infrastructure:tV.array(tV.string()).describe("Cloud and infrastructure technologies")}),nA=tV.object({name:tV.string().describe("Competitor company name"),description:tV.string().nullish().describe("Brief description of what they do"),website:tV.string().nullish().describe("Competitor website URL")}),nj=tV.object({competitors:tV.array(nA).describe("Main competitors of the company")}),nz=tV.object({name:tV.string().describe("Full name of the recruiter"),title:tV.string().describe("Job title (e.g., Technical Recruiter, Talent Acquisition Manager)"),linkedInUrl:tV.string().optional().describe("LinkedIn profile URL"),email:tV.string().optional().describe("Email address if publicly available"),department:tV.string().optional().describe("Department or team they recruit for")}),nR=tV.object({recruiters:tV.array(nz).describe("Recruiters and HR contacts at the company")});class nN{stagehand;verbose;constructor(e=!1){this.verbose=e;const t=this.getModelConfig(),r=process.env.BROWSERBASE_API_KEY&&process.env.BROWSERBASE_PROJECT_ID?"BROWSERBASE":"LOCAL";this.stagehand=new nT.Stagehand({env:r,verbose:+!!e,apiKey:process.env.BROWSERBASE_API_KEY,projectId:process.env.BROWSERBASE_PROJECT_ID,disablePino:!0,disableAPI:!0,model:t.modelName?{...t.modelClientOptions,modelName:t.modelName}:void 0}),e&&nf(`Environment: ${r}`,"info")}getModelConfig(){return process.env.GOOGLE_API_KEY?{modelName:"gemini-2.0-flash",modelClientOptions:{apiKey:process.env.GOOGLE_API_KEY}}:process.env.ANTHROPIC_API_KEY?{modelName:"claude-3-5-sonnet-20241022",modelClientOptions:{apiKey:process.env.ANTHROPIC_API_KEY}}:process.env.OPENAI_API_KEY?{modelName:"gpt-4o",modelClientOptions:{apiKey:process.env.OPENAI_API_KEY}}:{}}guessCompanyWebsite(e){let t={stripe:"https://stripe.com",anthropic:"https://www.anthropic.com",openai:"https://openai.com",google:"https://www.google.com/about",meta:"https://about.meta.com",facebook:"https://about.meta.com",amazon:"https://www.aboutamazon.com",microsoft:"https://www.microsoft.com/about",apple:"https://www.apple.com/about",netflix:"https://about.netflix.com",uber:"https://www.uber.com/about",airbnb:"https://www.airbnb.com/about",shopify:"https://www.shopify.com/about",salesforce:"https://www.salesforce.com/company"},r=e.toLowerCase().trim();return t[r]?t[r]:`https://www.${r}.com`}async initialize(){await this.stagehand.init(),this.verbose&&(nf("Stagehand initialized successfully","success"),this.stagehand.browserbaseSessionID&&nf(`Watch live: https://browserbase.com/sessions/${this.stagehand.browserbaseSessionID}`,"info"))}async close(){await this.stagehand.close()}getPage(){let e=this.stagehand.context.pages();if(!e||0===e.length)throw Error("No page available in Stagehand context. Make sure initialize() was called.");return e[0]}async research(e){try{nf(`Starting research for: ${e}`,"info");let t=await this.extractCompanyInfo(e),r=await this.extractCompetitors(e),n=await this.extractNews(e),a=await this.extractTechStack(e);return{companyInfo:t,news:n,techStack:a,competitors:r,researchDate:new Date().toISOString()}}catch(e){throw nf(`Research failed: ${e}`,"error"),e}}async extractCompanyInfo(e){nf("Extracting company information...","info");try{let t,r=this.getPage(),n=this.guessCompanyWebsite(e);nf(`Navigating to ${n}...`,"info");try{await r.goto(n,{waitUntil:"networkidle",timeoutMs:3e4})}catch(e){nf("Network idle failed, trying domcontentloaded...","warn"),await r.goto(n,{waitUntil:"domcontentloaded",timeoutMs:3e4})}await nv(5e3);try{if(nf(`[Extract] Starting extraction for ${e} from ${n}`,"info"),t=await nb(async()=>await this.stagehand.extract(`You are researching ${e}. Extract ALL available information using the page content as primary source, but MUST supplement with your general knowledge for any missing details.

REQUIRED FIELDS (do NOT return null - use your knowledge if not on page):
- name: "${e}" or official name from page
- description: Write 4-6 sentences describing what ${e} does, their products/services, market position, and key achievements. Use page content + your knowledge of the company.
- mission: Write 4-6 sentences about ${e}'s mission, purpose, values and goals. Use page content + your knowledge.
- headquarters: City and country/state (check your knowledge of ${e}'s headquarters)
- industry: Specific sector (e.g., "AI Safety", "E-commerce Platform", "Payment Processing")
- website: Official URL

CRITICAL: For well-known companies like ${e}, you likely know their headquarters and industry. Do NOT return null for these fields - use your training data knowledge to fill them in accurately.`,nO),{maxRetries:2,initialDelay:2e3,shouldRetry:n_}),nf("Company information extracted","success"),console.log("[Extract] Successfully extracted data:",JSON.stringify(t,null,2)),!t.headquarters){nf("Headquarters is missing, using LLM knowledge...","info");try{t.headquarters=(await this.stagehand.extract(`Where is ${e}'s headquarters located? Respond with city and state/country (e.g., "San Francisco, California", "London, UK", "New York, NY"). Use your knowledge of ${e}.`,tV.object({headquarters:tV.string()}))).headquarters||"Location not specified",nf(`Headquarters filled: ${t.headquarters}`,"success")}catch(e){t.headquarters="Location not specified"}}if(!t.industry){nf("Industry is missing, using LLM knowledge...","info");try{t.industry=(await this.stagehand.extract(`What industry or sector does ${e} operate in? Respond with a specific industry (e.g., "AI Safety", "E-commerce Platform", "Payment Processing", "Browser Automation"). Use your knowledge of ${e}.`,tV.object({industry:tV.string()}))).industry||"Technology",nf(`Industry filled: ${t.industry}`,"success")}catch(e){t.industry="Technology"}}if(!t.description){nf("Description is missing, using LLM knowledge...","info");try{t.description=(await this.stagehand.extract(`Write a 4-6 sentence description of ${e}. Include what they do, their main products/services, and their market position. Use your knowledge of ${e}.`,tV.object({description:tV.string()}))).description||`${e} is a technology company.`,nf(`Description filled (length: ${t.description?.length||0})`,"success")}catch(r){t.description=`${e} is a technology company.`}}return t.website=n,nf("All required fields guaranteed","success"),t}catch(a){let t=a instanceof Error?a.message:String(a),r=a instanceof Error?a.stack:void 0;throw nf(`Failed to extract company info after retries: ${t}`,"error"),console.error("[Extract] Failed to extract company info:",{error:t,stack:r,companyName:e,website:n,errorType:a?.constructor?.name,errorDetails:a}),a}}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error?n.stack:void 0;return nf(`Failed to extract company info (outer catch): ${t}`,"error"),console.error("[Extract] Outer error catch:",{error:t,stack:r,errorType:n?.constructor?.name}),{name:e,mission:"Not found",description:"Not found"}}}async extractCompetitors(e){nf("Extracting competitors...","info");try{let t;this.getPage(),await nv(2e3);try{nf(`[Extract] Starting competitors extraction for ${e}`,"info");let r=(t=await this.stagehand.extract(`Based on the visible content and your knowledge of ${e}, identify 5-7 main competitors in the same industry. For each competitor, provide:
- Company name (exact official name)
- Brief description of what they do and how they compete (2-3 lines explaining their products/services)
- Website URL (if known)
Use both the page content and your general knowledge of the industry.`,nj)).competitors||[];return nf(`Extracted ${r.length} competitors`,"success"),console.log("[Extract] Successfully extracted competitors:",JSON.stringify(t,null,2)),r.slice(0,7)}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error?n.stack:void 0;throw nf(`Failed to extract competitors: ${t}`,"error"),console.error("[Extract] Failed to extract competitors:",{error:t,stack:r,companyName:e,errorType:n?.constructor?.name,errorDetails:n}),n}}catch(e){return nf(`Failed to extract competitors: ${e}`,"warn"),[]}}async extractNews(e){nf("Extracting recent news...","info");try{let t,r=this.getPage(),n=this.guessCompanyWebsite(e);await r.goto(`${n}/newsroom`),await nv(2e3);try{nf(`[Extract] Starting news extraction for ${e}`,"info");let r=(t=await this.stagehand.extract("Extract the top 5 recent news articles about this company. For each article, get the title, date, source, and a brief summary. Only include news from the last 6 months if possible.",nP)).articles||[];return nf(`Extracted ${r.length} news items`,"success"),console.log("[Extract] Successfully extracted news:",JSON.stringify(t,null,2)),r.slice(0,5)}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error?n.stack:void 0;throw nf(`Failed to extract news: ${t}`,"error"),console.error("[Extract] Failed to extract news:",{error:t,stack:r,companyName:e,errorType:n?.constructor?.name,errorDetails:n}),n}}catch(e){return nf(`Failed to extract news: ${e}`,"warn"),[]}}async extractTechStack(e){nf("Detecting tech stack...","info");try{let t,r=this.getPage(),n=this.guessCompanyWebsite(e);await r.goto(`${n}/careers`),await nv(3e3);try{return nf(`[Extract] Starting tech stack extraction for ${e}`,"info"),t=await this.stagehand.extract("Extract information about the technologies used by this company. Look for programming languages, frameworks, tools, and infrastructure. If this is a careers page, look at job listings for required skills. If this is a tech blog, look at technologies mentioned.",nC),nf("Tech stack detected","success"),console.log("[Extract] Successfully extracted tech stack:",JSON.stringify(t,null,2)),t}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error?n.stack:void 0;throw nf(`Failed to extract tech stack: ${t}`,"error"),console.error("[Extract] Failed to extract tech stack:",{error:t,stack:r,companyName:e,errorType:n?.constructor?.name,errorDetails:n}),n}}catch(e){return nf(`Failed to extract tech stack: ${e}`,"warn"),{languages:[],frameworks:[],tools:[],infrastructure:[]}}}async extractRecruiters(e){nf("Extracting recruiters...","info");let t=[];try{let r=this.getPage();nf("Searching LinkedIn for recruiters...","info");try{let n=`https://www.linkedin.com/search/results/people/?keywords=${encodeURIComponent(e+" recruiter")}&origin=GLOBAL_SEARCH_HEADER`;await r.goto(n,{waitUntil:"domcontentloaded",timeoutMs:3e4}),await nv(3e3);let a=await nb(async()=>await this.stagehand.extract(`Extract recruiter profiles from LinkedIn search results. Look for people with titles containing "Recruiter", "Talent Acquisition", "HR", "People Operations", or similar recruiting roles at ${e}.

For each person found, extract:
- Full name
- Job title (exact title from their profile)
- LinkedIn profile URL
- Department they recruit for (if mentioned)

Only include people who work at or recruit for ${e}. Limit to 10 recruiters.`,nR),{maxRetries:2,initialDelay:2e3,shouldRetry:n_});a?.recruiters?.length>0&&(t.push(...a.recruiters),nf(`Found ${a.recruiters.length} recruiters on LinkedIn`,"success"))}catch(e){nf(`LinkedIn search failed: ${e instanceof Error?e.message:e}`,"warn")}nf("Checking company careers/team page...","info");try{let n=this.guessCompanyWebsite(e);await r.goto(`${n}/careers`,{waitUntil:"domcontentloaded",timeoutMs:2e4}),await nv(2e3);let a=await this.stagehand.extract(`Look for recruiting team members, HR contacts, or talent acquisition professionals on this page.

Extract:
- Full name
- Job title
- Email (if publicly listed)
- Department they recruit for

Also check for "Contact Recruiting", "Meet Our Team", or similar sections.`,nR);if(a?.recruiters?.length>0){let e=new Set(t.map(e=>e.name.toLowerCase())),r=a.recruiters.filter(t=>!e.has(t.name.toLowerCase()));t.push(...r),nf(`Found ${r.length} additional recruiters on careers page`,"success")}}catch(e){nf(`Careers page search failed: ${e instanceof Error?e.message:e}`,"warn")}try{let n=this.guessCompanyWebsite(e);await r.goto(`${n}/about`,{waitUntil:"domcontentloaded",timeoutMs:2e4}),await nv(2e3);let a=await this.stagehand.extract(`Look for HR, People Operations, or Recruiting team members on this about/team page.

Extract:
- Full name
- Job title (look for titles with HR, Recruiting, Talent, People in them)
- LinkedIn URL (if available)
- Department
`,nR);if(a?.recruiters?.length>0){let e=new Set(t.map(e=>e.name.toLowerCase())),r=a.recruiters.filter(t=>!e.has(t.name.toLowerCase()));t.push(...r),nf(`Found ${r.length} additional recruiters on about page`,"success")}}catch(e){nf(`About page search failed: ${e instanceof Error?e.message:e}`,"warn")}if(0===t.length){nf("No recruiters found, using LLM knowledge...","info");try{let r=await this.stagehand.extract(`Based on your knowledge, who are some known recruiters or talent acquisition professionals at ${e}?

For well-known companies, you may have information about:
- Head of Recruiting / Talent Acquisition
- Technical Recruiters
- University Recruiters
- HR Leadership

Provide names and titles if known. Include LinkedIn URLs if you know them.`,nR);r?.recruiters?.length>0&&(t.push(...r.recruiters),nf(`Added ${r.recruiters.length} recruiters from LLM knowledge`,"success"))}catch(e){nf(`LLM knowledge extraction failed: ${e instanceof Error?e.message:e}`,"warn")}}return nf(`Total recruiters found: ${t.length}`,"success"),t.slice(0,10)}catch(e){return nf(`Failed to extract recruiters: ${e}`,"error"),[]}}}e.s(["CompanyResearcher",()=>nN],38851)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1c758db0._.js.map