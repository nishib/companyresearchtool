{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["file:///Users/nishibhagat/stagehandsdk/node_modules/%40browserbasehq/stagehand/dist/index.js"],"sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve2, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve2(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// lib/version.ts\nvar STAGEHAND_VERSION;\nvar init_version = __esm({\n  \"lib/version.ts\"() {\n    STAGEHAND_VERSION = \"3.0.3\";\n  }\n});\n\n// lib/v3/types/public/sdkErrors.ts\nvar StagehandError, StagehandDefaultError, StagehandEnvironmentError, MissingEnvironmentVariableError, UnsupportedModelError, UnsupportedModelProviderError, UnsupportedAISDKModelProviderError, InvalidAISDKModelFormatError, StagehandNotInitializedError, BrowserbaseSessionNotFoundError, CaptchaTimeoutError, MissingLLMConfigurationError, HandlerNotInitializedError, StagehandInvalidArgumentError, StagehandElementNotFoundError, AgentScreenshotProviderError, StagehandMissingArgumentError, CreateChatCompletionResponseError, StagehandEvalError, StagehandDomProcessError, StagehandClickError, LLMResponseError, StagehandIframeError, ContentFrameNotFoundError, XPathResolutionError, ExperimentalApiConflictError, ExperimentalNotConfiguredError, CuaModelRequiredError, ZodSchemaValidationError, StagehandInitError, MCPConnectionError, StagehandShadowRootMissingError, StagehandShadowSegmentEmptyError, StagehandShadowSegmentNotFoundError, ElementNotVisibleError, ResponseBodyError, ResponseParseError, TimeoutError, PageNotFoundError, ConnectionTimeoutError;\nvar init_sdkErrors = __esm({\n  \"lib/v3/types/public/sdkErrors.ts\"() {\n    init_version();\n    StagehandError = class extends Error {\n      constructor(message) {\n        super(message);\n        this.name = this.constructor.name;\n      }\n    };\n    StagehandDefaultError = class extends StagehandError {\n      constructor(error) {\n        if (error instanceof Error || error instanceof StagehandError) {\n          super(\n            `\nHey! We're sorry you ran into an error. \nStagehand version: ${STAGEHAND_VERSION} \nIf you need help, please open a Github issue or reach out to us on Slack: https://stagehand.dev/slack\n\nFull error:\n${error.message}`\n          );\n        }\n      }\n    };\n    StagehandEnvironmentError = class extends StagehandError {\n      constructor(currentEnvironment, requiredEnvironment, feature) {\n        super(\n          `You seem to be setting the current environment to ${currentEnvironment}.Ensure the environment is set to ${requiredEnvironment} if you want to use ${feature}.`\n        );\n      }\n    };\n    MissingEnvironmentVariableError = class extends StagehandError {\n      constructor(missingEnvironmentVariable, feature) {\n        super(\n          `${missingEnvironmentVariable} is required to use ${feature}.Please set ${missingEnvironmentVariable} in your environment.`\n        );\n      }\n    };\n    UnsupportedModelError = class extends StagehandError {\n      constructor(supportedModels, feature) {\n        super(\n          feature ? `${feature} requires one of the following models: ${supportedModels}` : `please use one of the supported models: ${supportedModels}`\n        );\n      }\n    };\n    UnsupportedModelProviderError = class extends StagehandError {\n      constructor(supportedProviders, feature) {\n        super(\n          feature ? `${feature} requires one of the following model providers: ${supportedProviders}` : `please use one of the supported model providers: ${supportedProviders}`\n        );\n      }\n    };\n    UnsupportedAISDKModelProviderError = class extends StagehandError {\n      constructor(provider, supportedProviders) {\n        super(\n          `${provider} is not currently supported for aiSDK. please use one of the supported model providers: ${supportedProviders}`\n        );\n      }\n    };\n    InvalidAISDKModelFormatError = class extends StagehandError {\n      constructor(modelName) {\n        super(\n          `${modelName} does not follow correct format for specifying aiSDK models. Please define your model as 'provider/model-name'. For example: \\`model: 'openai/gpt-4o-mini'\\``\n        );\n      }\n    };\n    StagehandNotInitializedError = class extends StagehandError {\n      constructor(prop) {\n        super(\n          `You seem to be calling \\`${prop}\\` on a page in an uninitialized \\`Stagehand\\` object. Ensure you are running \\`await stagehand.init()\\` on the Stagehand object before referencing the \\`page\\` object.`\n        );\n      }\n    };\n    BrowserbaseSessionNotFoundError = class extends StagehandError {\n      constructor() {\n        super(\"No Browserbase session ID found\");\n      }\n    };\n    CaptchaTimeoutError = class extends StagehandError {\n      constructor() {\n        super(\"Captcha timeout\");\n      }\n    };\n    MissingLLMConfigurationError = class extends StagehandError {\n      constructor() {\n        super(\n          \"No LLM API key or LLM Client configured. An LLM API key or a custom LLM Client is required to use act, extract, or observe.\"\n        );\n      }\n    };\n    HandlerNotInitializedError = class extends StagehandError {\n      constructor(handlerType) {\n        super(`${handlerType} handler not initialized`);\n      }\n    };\n    StagehandInvalidArgumentError = class extends StagehandError {\n      constructor(message) {\n        super(`InvalidArgumentError: ${message}`);\n      }\n    };\n    StagehandElementNotFoundError = class extends StagehandError {\n      constructor(xpaths) {\n        super(`Could not find an element for the given xPath(s): ${xpaths}`);\n      }\n    };\n    AgentScreenshotProviderError = class extends StagehandError {\n      constructor(message) {\n        super(`ScreenshotProviderError: ${message}`);\n      }\n    };\n    StagehandMissingArgumentError = class extends StagehandError {\n      constructor(message) {\n        super(`MissingArgumentError: ${message}`);\n      }\n    };\n    CreateChatCompletionResponseError = class extends StagehandError {\n      constructor(message) {\n        super(`CreateChatCompletionResponseError: ${message}`);\n      }\n    };\n    StagehandEvalError = class extends StagehandError {\n      constructor(message) {\n        super(`StagehandEvalError: ${message}`);\n      }\n    };\n    StagehandDomProcessError = class extends StagehandError {\n      constructor(message) {\n        super(`Error Processing Dom: ${message}`);\n      }\n    };\n    StagehandClickError = class extends StagehandError {\n      constructor(message, selector) {\n        super(\n          `Error Clicking Element with selector: ${selector} Reason: ${message}`\n        );\n      }\n    };\n    LLMResponseError = class extends StagehandError {\n      constructor(primitive, message) {\n        super(`${primitive} LLM response error: ${message}`);\n      }\n    };\n    StagehandIframeError = class extends StagehandError {\n      constructor(frameUrl, message) {\n        super(\n          `Unable to resolve frameId for iframe with URL: ${frameUrl} Full error: ${message}`\n        );\n      }\n    };\n    ContentFrameNotFoundError = class extends StagehandError {\n      constructor(selector) {\n        super(`Unable to obtain a content frame for selector: ${selector}`);\n      }\n    };\n    XPathResolutionError = class extends StagehandError {\n      constructor(xpath) {\n        super(`XPath \"${xpath}\" does not resolve in the current page or frames`);\n      }\n    };\n    ExperimentalApiConflictError = class extends StagehandError {\n      constructor() {\n        super(\n          \"`experimental` mode cannot be used together with the Stagehand API. To use experimental features, set experimental: true, and useApi: false in the stagehand constructor. To use the Stagehand API, set experimental: false and useApi: true in the stagehand constructor. \"\n        );\n      }\n    };\n    ExperimentalNotConfiguredError = class extends StagehandError {\n      constructor(featureName) {\n        super(`Feature \"${featureName}\" is an experimental feature, and cannot be configured when useAPI: true. \n    Please set experimental: true and useAPI: false in the stagehand constructor to use this feature. \n    If you wish to use the Stagehand API, please ensure ${featureName} is not defined in your function call, \n    and set experimental: false, useAPI: true in the Stagehand constructor. `);\n      }\n    };\n    CuaModelRequiredError = class extends StagehandError {\n      constructor(availableModels) {\n        super(\n          `To use the computer use agent (CUA), please provide a CUA model in the agent constructor or stagehand config. Try one of our supported CUA models: ${availableModels.join(\", \")}`\n        );\n      }\n    };\n    ZodSchemaValidationError = class extends Error {\n      constructor(received, issues) {\n        super(`Zod schema validation failed\n\n\\u2014 Received \\u2014\n${JSON.stringify(received, null, 2)}\n\n\\u2014 Issues \\u2014\n${JSON.stringify(issues, null, 2)}`);\n        this.received = received;\n        this.issues = issues;\n        this.name = \"ZodSchemaValidationError\";\n      }\n    };\n    StagehandInitError = class extends StagehandError {\n      constructor(message) {\n        super(message);\n      }\n    };\n    MCPConnectionError = class extends StagehandError {\n      constructor(serverUrl, originalError) {\n        const errorMessage = originalError instanceof Error ? originalError.message : String(originalError);\n        super(\n          `Failed to connect to MCP server at \"${serverUrl}\". ${errorMessage}. Please verify the server URL is correct and the server is running.`\n        );\n        this.serverUrl = serverUrl;\n        this.originalError = originalError;\n      }\n    };\n    StagehandShadowRootMissingError = class extends StagehandError {\n      constructor(detail) {\n        super(\n          `No shadow root present on the resolved host` + (detail ? `: ${detail}` : \"\")\n        );\n      }\n    };\n    StagehandShadowSegmentEmptyError = class extends StagehandError {\n      constructor() {\n        super(`Empty selector segment after shadow-DOM hop (\"//\")`);\n      }\n    };\n    StagehandShadowSegmentNotFoundError = class extends StagehandError {\n      constructor(segment, hint) {\n        super(\n          `Shadow segment '${segment}' matched no element inside shadow root` + (hint ? ` ${hint}` : \"\")\n        );\n      }\n    };\n    ElementNotVisibleError = class extends StagehandError {\n      constructor(selector) {\n        super(`Element not visible (no box model): ${selector}`);\n      }\n    };\n    ResponseBodyError = class extends StagehandError {\n      constructor(message) {\n        super(`Failed to retrieve response body: ${message}`);\n      }\n    };\n    ResponseParseError = class extends StagehandError {\n      constructor(message) {\n        super(`Failed to parse response: ${message}`);\n      }\n    };\n    TimeoutError = class extends StagehandError {\n      constructor(operation, timeoutMs) {\n        super(`${operation} timed out after ${timeoutMs}ms`);\n      }\n    };\n    PageNotFoundError = class extends StagehandError {\n      constructor(identifier) {\n        super(`No Page found for ${identifier}`);\n      }\n    };\n    ConnectionTimeoutError = class extends StagehandError {\n      constructor(message) {\n        super(`Connection timeout: ${message}`);\n      }\n    };\n  }\n});\n\n// lib/v3/logger.ts\nfunction bindInstanceLogger(instanceId, logger) {\n  instanceLoggers.set(instanceId, logger);\n}\nfunction unbindInstanceLogger(instanceId) {\n  instanceLoggers.delete(instanceId);\n}\nfunction withInstanceLogContext(instanceId, fn) {\n  return logContext.run(instanceId, fn);\n}\nfunction v3Logger(line) {\n  var _a, _b, _c;\n  const id = logContext.getStore();\n  if (id) {\n    const fn = instanceLoggers.get(id);\n    if (fn) {\n      const enriched = __spreadProps(__spreadValues({}, line), {\n        auxiliary: __spreadValues({}, line.auxiliary || {})\n      });\n      try {\n        fn(enriched);\n        return;\n      } catch (e) {\n      }\n    }\n  }\n  const ts = (_a = line.timestamp) != null ? _a : (/* @__PURE__ */ new Date()).toISOString();\n  const lvl = (_b = line.level) != null ? _b : 1;\n  const levelStr = lvl === 0 ? \"ERROR\" : lvl === 2 ? \"DEBUG\" : \"INFO\";\n  let output = `[${ts}] ${levelStr}: ${line.message}`;\n  if (line.auxiliary) {\n    for (const [key, { value, type }] of Object.entries(line.auxiliary)) {\n      let formattedValue = value;\n      if (type === \"object\") {\n        try {\n          formattedValue = JSON.stringify(JSON.parse(value), null, 2).split(\"\\n\").map((line2, i) => i === 0 ? line2 : `    ${line2}`).join(\"\\n\");\n        } catch (e) {\n          formattedValue = value;\n        }\n      }\n      output += `\n    ${key}: ${formattedValue}`;\n    }\n  }\n  if (lvl === 0) {\n    console.error(output);\n  } else if (lvl === 2) {\n    ((_c = console.debug) != null ? _c : console.log)(output);\n  } else {\n    console.log(output);\n  }\n}\nvar import_node_async_hooks, logContext, instanceLoggers;\nvar init_logger = __esm({\n  \"lib/v3/logger.ts\"() {\n    import_node_async_hooks = require(\"async_hooks\");\n    logContext = new import_node_async_hooks.AsyncLocalStorage();\n    instanceLoggers = /* @__PURE__ */ new Map();\n  }\n});\n\n// lib/v3/understudy/executionContextRegistry.ts\nvar ExecutionContextRegistry, executionContexts;\nvar init_executionContextRegistry = __esm({\n  \"lib/v3/understudy/executionContextRegistry.ts\"() {\n    ExecutionContextRegistry = class {\n      constructor() {\n        this.byFrame = /* @__PURE__ */ new WeakMap();\n        this.byExec = /* @__PURE__ */ new WeakMap();\n      }\n      /** Wire listeners for this session. Call BEFORE Runtime.enable. */\n      attachSession(session) {\n        const onCreated = (evt) => {\n          var _a;\n          const aux = (_a = evt.context.auxData) != null ? _a : {};\n          if (aux.isDefault === true && typeof aux.frameId === \"string\") {\n            this.register(session, aux.frameId, evt.context.id);\n          }\n        };\n        const onDestroyed = (evt) => {\n          const rev = this.byExec.get(session);\n          const fwd = this.byFrame.get(session);\n          if (!rev || !fwd) return;\n          const frameId = rev.get(evt.executionContextId);\n          if (!frameId) return;\n          rev.delete(evt.executionContextId);\n          if (fwd.get(frameId) === evt.executionContextId) fwd.delete(frameId);\n        };\n        const onCleared = () => {\n          this.byFrame.delete(session);\n          this.byExec.delete(session);\n        };\n        session.on(\"Runtime.executionContextCreated\", onCreated);\n        session.on(\"Runtime.executionContextDestroyed\", onDestroyed);\n        session.on(\"Runtime.executionContextsCleared\", onCleared);\n      }\n      getMainWorld(session, frameId) {\n        var _a, _b;\n        return (_b = (_a = this.byFrame.get(session)) == null ? void 0 : _a.get(frameId)) != null ? _b : null;\n      }\n      waitForMainWorld(session, frameId, timeoutMs = 800) {\n        return __async(this, null, function* () {\n          const cached = this.getMainWorld(session, frameId);\n          if (cached) return cached;\n          yield session.send(\"Runtime.enable\").catch(() => {\n          });\n          const after = this.getMainWorld(session, frameId);\n          if (after) return after;\n          return yield new Promise((resolve2, reject) => {\n            let done = false;\n            const onCreated = (evt) => {\n              var _a;\n              const aux = (_a = evt.context.auxData) != null ? _a : {};\n              if (aux.isDefault === true && aux.frameId === frameId) {\n                this.register(session, frameId, evt.context.id);\n                if (!done) {\n                  done = true;\n                  clearTimeout(timer);\n                  session.off(\"Runtime.executionContextCreated\", onCreated);\n                  resolve2(evt.context.id);\n                }\n              }\n            };\n            const timer = setTimeout(() => {\n              if (!done) {\n                done = true;\n                session.off(\"Runtime.executionContextCreated\", onCreated);\n                reject(new Error(`main world not ready for frame ${frameId}`));\n              }\n            }, timeoutMs);\n            session.on(\"Runtime.executionContextCreated\", onCreated);\n          });\n        });\n      }\n      register(session, frameId, ctxId) {\n        let fwd = this.byFrame.get(session);\n        if (!fwd) {\n          fwd = /* @__PURE__ */ new Map();\n          this.byFrame.set(session, fwd);\n        }\n        let rev = this.byExec.get(session);\n        if (!rev) {\n          rev = /* @__PURE__ */ new Map();\n          this.byExec.set(session, rev);\n        }\n        fwd.set(frameId, ctxId);\n        rev.set(ctxId, frameId);\n      }\n    };\n    executionContexts = new ExecutionContextRegistry();\n  }\n});\n\n// lib/v3/understudy/a11y/snapshot.ts\nfunction resolveXpathForLocation(page, x, y) {\n  return __async(this, null, function* () {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const tree = page.getFullFrameTree();\n    const parentByFrame = /* @__PURE__ */ new Map();\n    (function index(n, parent) {\n      var _a2;\n      parentByFrame.set(n.frame.id, parent);\n      for (const c of (_a2 = n.childFrames) != null ? _a2 : []) index(c, n.frame.id);\n    })(tree, null);\n    const iframeChain = [];\n    let curFrameId = page.mainFrameId();\n    let curSession = page.getSessionForFrame(curFrameId);\n    let curX = x;\n    let curY = y;\n    for (let depth = 0; depth < 8; depth++) {\n      try {\n        yield curSession.send(\"DOM.enable\").catch(() => {\n        });\n        let sx = 0;\n        let sy = 0;\n        try {\n          yield curSession.send(\"Runtime.enable\").catch(() => {\n          });\n          const ctxId = yield executionContexts.waitForMainWorld(curSession, curFrameId).catch(() => {\n          });\n          const evalParams = ctxId ? {\n            contextId: ctxId,\n            expression: scrollOffsetsExpr(),\n            returnByValue: true\n          } : { expression: scrollOffsetsExpr(), returnByValue: true };\n          const { result } = yield curSession.send(\"Runtime.evaluate\", evalParams);\n          sx = Number((_b = (_a = result == null ? void 0 : result.value) == null ? void 0 : _a.sx) != null ? _b : 0);\n          sy = Number((_d = (_c = result == null ? void 0 : result.value) == null ? void 0 : _c.sy) != null ? _d : 0);\n        } catch (e) {\n        }\n        const xi = Math.max(0, Math.floor(curX + sx));\n        const yi = Math.max(0, Math.floor(curY + sy));\n        let res;\n        try {\n          res = yield curSession.send(\"DOM.getNodeForLocation\", {\n            x: xi,\n            y: yi,\n            includeUserAgentShadowDOM: false,\n            ignorePointerEventsNone: false\n          });\n        } catch (e) {\n          return null;\n        }\n        const be = res == null ? void 0 : res.backendNodeId;\n        const reportedFrameId = res == null ? void 0 : res.frameId;\n        if (typeof be === \"number\" && reportedFrameId && reportedFrameId !== curFrameId) {\n          const abs = yield buildAbsoluteXPathFromChain(\n            iframeChain,\n            curSession,\n            be\n          );\n          return abs ? { frameId: reportedFrameId, backendNodeId: be, absoluteXPath: abs } : null;\n        }\n        if (typeof be !== \"number\") return null;\n        let matchedChild;\n        for (const fid of listChildrenOf(parentByFrame, curFrameId)) {\n          try {\n            const { backendNodeId } = yield curSession.send(\"DOM.getFrameOwner\", { frameId: fid });\n            if (backendNodeId === be) {\n              matchedChild = fid;\n              break;\n            }\n          } catch (e) {\n          }\n        }\n        if (!matchedChild) {\n          const abs = yield buildAbsoluteXPathFromChain(\n            iframeChain,\n            curSession,\n            be\n          );\n          return abs ? { frameId: curFrameId, backendNodeId: be, absoluteXPath: abs } : null;\n        }\n        iframeChain.push({\n          parentFrameId: curFrameId,\n          parentSession: curSession,\n          iframeBackendNodeId: be\n        });\n        let left = 0;\n        let top = 0;\n        try {\n          const { object } = yield curSession.send(\"DOM.resolveNode\", { backendNodeId: be });\n          const objectId = object == null ? void 0 : object.objectId;\n          if (objectId) {\n            const { result } = yield curSession.send(\"Runtime.callFunctionOn\", {\n              objectId,\n              functionDeclaration: \"function(){ const r=this.getBoundingClientRect(); return {left:r.left, top:r.top}; }\",\n              returnByValue: true\n            });\n            left = Number((_f = (_e = result == null ? void 0 : result.value) == null ? void 0 : _e.left) != null ? _f : 0);\n            top = Number((_h = (_g = result == null ? void 0 : result.value) == null ? void 0 : _g.top) != null ? _h : 0);\n            yield curSession.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        } catch (e) {\n        }\n        curX = Math.max(0, curX - left);\n        curY = Math.max(0, curY - top);\n        curFrameId = matchedChild;\n        curSession = page.getSessionForFrame(curFrameId);\n      } catch (e) {\n        return null;\n      }\n    }\n    return null;\n  });\n}\nfunction computeActiveElementXpath(page) {\n  return __async(this, null, function* () {\n    var _a;\n    const tree = page.getFullFrameTree();\n    const parentByFrame = /* @__PURE__ */ new Map();\n    (function index(n, parent) {\n      var _a2;\n      parentByFrame.set(n.frame.id, parent);\n      for (const c of (_a2 = n.childFrames) != null ? _a2 : []) index(c, n.frame.id);\n    })(tree, null);\n    const frames = page.listAllFrameIds();\n    let focusedFrameId = null;\n    for (const fid of frames) {\n      const sess = page.getSessionForFrame(fid);\n      try {\n        yield sess.send(\"Runtime.enable\").catch(() => {\n        });\n        const ctxId = yield executionContexts.waitForMainWorld(sess, fid, 1e3).catch(() => {\n        });\n        const evalParams = ctxId ? {\n          contextId: ctxId,\n          expression: \"document.hasFocus()===true\",\n          returnByValue: true\n        } : { expression: \"document.hasFocus()===true\", returnByValue: true };\n        const { result } = yield sess.send(\n          \"Runtime.evaluate\",\n          evalParams\n        );\n        if ((result == null ? void 0 : result.value) === true) {\n          focusedFrameId = fid;\n          break;\n        }\n      } catch (e) {\n      }\n    }\n    if (!focusedFrameId) focusedFrameId = page.mainFrameId();\n    const focusedSession = page.getSessionForFrame(focusedFrameId);\n    let objectId;\n    try {\n      yield focusedSession.send(\"Runtime.enable\").catch(() => {\n      });\n      const ctxId = yield executionContexts.waitForMainWorld(focusedSession, focusedFrameId, 1e3).catch(() => {\n      });\n      const expr = `(() => {\n      try {\n        function deepActive(doc) {\n          let el = doc.activeElement || null;\n          while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n            el = el.shadowRoot.activeElement;\n          }\n          return el || null;\n        }\n        return deepActive(document);\n      } catch { return null; }\n    })()`;\n      const evalParams = ctxId ? { contextId: ctxId, expression: expr, returnByValue: false } : { expression: expr, returnByValue: false };\n      const { result } = yield focusedSession.send(\n        \"Runtime.evaluate\",\n        evalParams\n      );\n      objectId = result == null ? void 0 : result.objectId;\n    } catch (e) {\n      objectId = void 0;\n    }\n    if (!objectId) return null;\n    const leafXPath = yield (() => __async(null, null, function* () {\n      try {\n        const { result } = yield focusedSession.send(\"Runtime.callFunctionOn\", {\n          objectId,\n          functionDeclaration: `function() {\n            try {\n              const node = this;\n              function sibIndex(n) {\n                let i = 1; const t = n.nodeType+':'+(n.nodeName||'').toLowerCase();\n                for (let p = n.previousSibling; p; p = p.previousSibling) {\n                  const key = p.nodeType+':'+(p.nodeName||'').toLowerCase();\n                  if (key === t) i++;\n                }\n                return i;\n              }\n              function step(n) {\n                if (!n) return '';\n                if (n.nodeType === Node.DOCUMENT_NODE) return '';\n                if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) return '//';\n                if (n.nodeType === Node.TEXT_NODE) return 'text()[' + sibIndex(n) + ']';\n                if (n.nodeType === Node.COMMENT_NODE) return 'comment()[' + sibIndex(n) + ']';\n                const tag = (n.nodeName||'').toLowerCase();\n                const name = tag.includes(':') ? \"*[name()='\"+tag+\"']\" : tag;\n                return name + '[' + sibIndex(n) + ']';\n              }\n              const parts = [];\n              let cur = node;\n              while (cur) {\n                if (cur.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  parts.push('//');\n                  cur = (cur && cur.host) ? cur.host : null;\n                  continue;\n                }\n                const s = step(cur);\n                if (s) parts.push(s);\n                cur = cur.parentNode;\n              }\n              parts.reverse();\n              let out = '';\n              for (const s of parts) {\n                if (s === '//') out = out ? (out.endsWith('/') ? out + '/' : out + '//') : '//';\n                else out = out ? (out.endsWith('/') ? out + s : out + '/' + s) : '/' + s;\n              }\n              return out || '/';\n            } catch { return ''; }\n          }`,\n          returnByValue: true\n        });\n        try {\n          yield focusedSession.send(\"Runtime.releaseObject\", { objectId });\n        } catch (e) {\n        }\n        const xp = (result == null ? void 0 : result.value) || \"\";\n        return typeof xp === \"string\" && xp ? xp : null;\n      } catch (e) {\n        try {\n          yield focusedSession.send(\"Runtime.releaseObject\", { objectId });\n        } catch (e2) {\n        }\n        return null;\n      }\n    }))();\n    if (!leafXPath) return null;\n    let prefix = \"\";\n    let cur = focusedFrameId;\n    while (cur) {\n      const parent = (_a = parentByFrame.get(cur)) != null ? _a : null;\n      if (!parent) break;\n      const parentSess = page.getSessionForFrame(parent);\n      try {\n        const { backendNodeId } = yield parentSess.send(\"DOM.getFrameOwner\", { frameId: cur });\n        if (typeof backendNodeId === \"number\") {\n          const xp = yield absoluteXPathForBackendNode(parentSess, backendNodeId);\n          if (xp) prefix = prefix ? prefixXPath(prefix, xp) : normalizeXPath(xp);\n        }\n      } catch (e) {\n      }\n      cur = parent;\n    }\n    return prefix ? prefixXPath(prefix, leafXPath) : normalizeXPath(leafXPath);\n  });\n}\nfunction scrollOffsetsExpr() {\n  return \"({sx:(window.scrollX||window.pageXOffset||0),sy:(window.scrollY||window.pageYOffset||0)})\";\n}\nfunction buildAbsoluteXPathFromChain(chain, leafSession, leafBackendNodeId) {\n  return __async(this, null, function* () {\n    let prefix = \"\";\n    for (const step of chain) {\n      const xp = yield absoluteXPathForBackendNode(\n        step.parentSession,\n        step.iframeBackendNodeId\n      );\n      if (!xp) continue;\n      prefix = prefix ? prefixXPath(prefix, xp) : normalizeXPath(xp);\n    }\n    const leaf = yield absoluteXPathForBackendNode(\n      leafSession,\n      leafBackendNodeId\n    );\n    if (!leaf) return prefix || \"/\";\n    return prefix ? prefixXPath(prefix, leaf) : normalizeXPath(leaf);\n  });\n}\nfunction absoluteXPathForBackendNode(session, backendNodeId) {\n  return __async(this, null, function* () {\n    try {\n      const { object } = yield session.send(\n        \"DOM.resolveNode\",\n        { backendNodeId }\n      );\n      const objectId = object == null ? void 0 : object.objectId;\n      if (!objectId) return null;\n      const { result } = yield session.send(\n        \"Runtime.callFunctionOn\",\n        {\n          objectId,\n          functionDeclaration: `function() {\n          try {\n            const node = this;\n            function sibIndex(n) {\n              let i = 1; const t = n.nodeType+':'+(n.nodeName||'').toLowerCase();\n              for (let p = n.previousSibling; p; p = p.previousSibling) {\n                const key = p.nodeType+':'+(p.nodeName||'').toLowerCase();\n                if (key === t) i++;\n              }\n              return i;\n            }\n            function step(n) {\n              if (!n) return '';\n              if (n.nodeType === Node.DOCUMENT_NODE) return '';\n              if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) return '//'; // ShadowRoot hop\n              if (n.nodeType === Node.TEXT_NODE) return 'text()[' + sibIndex(n) + ']';\n              if (n.nodeType === Node.COMMENT_NODE) return 'comment()[' + sibIndex(n) + ']';\n              const tag = (n.nodeName||'').toLowerCase();\n              const name = tag.includes(':') ? \"*[name()='\"+tag+\"']\" : tag;\n              return name + '[' + sibIndex(n) + ']';\n            }\n            const parts = [];\n            let cur = node;\n            while (cur) {\n              // Insert a marker before stepping out of a ShadowRoot\n              if (cur.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                parts.push('//');\n                cur = (cur && cur.host) ? cur.host : null;\n                continue;\n              }\n              const s = step(cur);\n              if (s) parts.push(s);\n              cur = cur.parentNode;\n            }\n            parts.reverse();\n            let out = '';\n            for (const s of parts) {\n              if (s === '//') out = out ? (out.endsWith('/') ? out + '/' : out + '//') : '//';\n              else out = out ? (out.endsWith('/') ? out + s : out + '/' + s) : '/' + s;\n            }\n            return out || '/';\n          } catch { return ''; }\n        }`,\n          returnByValue: true\n        }\n      );\n      yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n      });\n      return typeof (result == null ? void 0 : result.value) === \"string\" && result.value ? result.value : null;\n    } catch (e) {\n      return null;\n    }\n  });\n}\nfunction captureHybridSnapshot(page, options) {\n  return __async(this, null, function* () {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n    const pierce = (_a = options == null ? void 0 : options.pierceShadow) != null ? _a : true;\n    const rootId = page.mainFrameId();\n    const frameTree = page.asProtocolFrameTree(rootId);\n    const parentByFrame = /* @__PURE__ */ new Map();\n    (function index(n, parent) {\n      var _a2;\n      parentByFrame.set(n.frame.id, parent);\n      for (const c of (_a2 = n.childFrames) != null ? _a2 : []) index(c, n.frame.id);\n    })(frameTree, null);\n    const frames = page.listAllFrameIds();\n    const combinedXpathMap = {};\n    const combinedUrlMap = {};\n    const perFrameOutlines = [];\n    const perFrameMaps = /* @__PURE__ */ new Map();\n    const requestedFocus = (_b = options == null ? void 0 : options.focusSelector) == null ? void 0 : _b.trim();\n    if (requestedFocus) {\n      const logScopeFallback = () => {\n        var _a2;\n        v3Logger({\n          message: `Unable to narrow scope with selector. Falling back to using full DOM`,\n          level: 1,\n          auxiliary: {\n            arguments: {\n              value: `selector: ${(_a2 = options == null ? void 0 : options.focusSelector) == null ? void 0 : _a2.trim()}`,\n              type: \"string\"\n            }\n          }\n        });\n      };\n      try {\n        let targetFrameId;\n        let tailSelector;\n        let absPrefix2;\n        const looksLikeXPath = /^xpath=/i.test(requestedFocus) || requestedFocus.startsWith(\"/\");\n        if (looksLikeXPath) {\n          const focus = normalizeXPath(requestedFocus);\n          const hit = yield resolveFocusFrameAndTail(\n            page,\n            focus,\n            parentByFrame,\n            rootId\n          );\n          targetFrameId = hit.targetFrameId;\n          tailSelector = hit.tailXPath || void 0;\n          absPrefix2 = hit.absPrefix;\n        } else {\n          const cssHit = yield resolveCssFocusFrameAndTail(\n            page,\n            requestedFocus,\n            parentByFrame,\n            rootId\n          );\n          targetFrameId = cssHit.targetFrameId;\n          tailSelector = cssHit.tailSelector || void 0;\n          absPrefix2 = cssHit.absPrefix;\n        }\n        const owningSess = ownerSession(page, targetFrameId);\n        const parentId = parentByFrame.get(targetFrameId);\n        const sameSessionAsParent = !!parentId && ownerSession(page, parentId) === ownerSession(page, targetFrameId);\n        const { tagNameMap, xpathMap, scrollableMap } = yield domMapsForSession(\n          owningSess,\n          targetFrameId,\n          pierce,\n          (fid, be) => `${page.getOrdinal(fid)}-${be}`,\n          /*attemptOwnerLookup=*/\n          sameSessionAsParent\n        );\n        const { outline, urlMap, scopeApplied } = yield a11yForFrame(\n          owningSess,\n          targetFrameId,\n          {\n            focusSelector: tailSelector || void 0,\n            tagNameMap,\n            experimental: (_c = options == null ? void 0 : options.experimental) != null ? _c : false,\n            scrollableMap,\n            encode: (backendNodeId) => `${page.getOrdinal(targetFrameId)}-${backendNodeId}`\n          }\n        );\n        const combinedXpathMap2 = {};\n        const abs = absPrefix2 != null ? absPrefix2 : \"\";\n        const isRoot = !abs || abs === \"/\";\n        if (isRoot) {\n          Object.assign(combinedXpathMap2, xpathMap);\n        } else {\n          for (const [encId, xp] of Object.entries(xpathMap)) {\n            combinedXpathMap2[encId] = prefixXPath(abs, xp);\n          }\n        }\n        const combinedUrlMap2 = __spreadValues({}, urlMap);\n        const snapshot = {\n          combinedTree: outline,\n          combinedXpathMap: combinedXpathMap2,\n          combinedUrlMap: combinedUrlMap2,\n          perFrame: [\n            {\n              frameId: targetFrameId,\n              outline,\n              xpathMap,\n              urlMap\n            }\n          ]\n        };\n        if (scopeApplied) {\n          return snapshot;\n        }\n        logScopeFallback();\n      } catch (e) {\n        logScopeFallback();\n      }\n    }\n    function buildSessionDomIndex(session, pierce2) {\n      return __async(this, null, function* () {\n        var _a2, _b2;\n        yield session.send(\"DOM.enable\").catch(() => {\n        });\n        const { root } = yield session.send(\n          \"DOM.getDocument\",\n          { depth: -1, pierce: pierce2 }\n        );\n        const absByBe = /* @__PURE__ */ new Map();\n        const tagByBe = /* @__PURE__ */ new Map();\n        const scrollByBe = /* @__PURE__ */ new Map();\n        const docRootOf = /* @__PURE__ */ new Map();\n        const contentDocRootByIframe = /* @__PURE__ */ new Map();\n        const rootBe = root.backendNodeId;\n        const stack = [{ node: root, xp: \"/\", docRootBe: rootBe }];\n        while (stack.length) {\n          const { node, xp, docRootBe } = stack.pop();\n          if (node.backendNodeId) {\n            absByBe.set(node.backendNodeId, xp || \"/\");\n            tagByBe.set(node.backendNodeId, String(node.nodeName).toLowerCase());\n            if ((node == null ? void 0 : node.isScrollable) === true)\n              scrollByBe.set(node.backendNodeId, true);\n            docRootOf.set(node.backendNodeId, docRootBe);\n          }\n          const kids = (_a2 = node.children) != null ? _a2 : [];\n          if (kids.length) {\n            const segs = buildChildXPathSegments(kids);\n            for (let i = kids.length - 1; i >= 0; i--) {\n              const child = kids[i];\n              const step = segs[i];\n              stack.push({ node: child, xp: joinXPath(xp, step), docRootBe });\n            }\n          }\n          for (const sr of (_b2 = node.shadowRoots) != null ? _b2 : []) {\n            stack.push({ node: sr, xp: joinXPath(xp, \"//\"), docRootBe });\n          }\n          const cd = node.contentDocument;\n          if (cd && typeof cd.backendNodeId === \"number\") {\n            contentDocRootByIframe.set(node.backendNodeId, cd.backendNodeId);\n            stack.push({ node: cd, xp, docRootBe: cd.backendNodeId });\n          }\n        }\n        return {\n          rootBackend: rootBe,\n          absByBe,\n          tagByBe,\n          scrollByBe,\n          docRootOf,\n          contentDocRootByIframe\n        };\n      });\n    }\n    function relativizeXPath(baseAbs, nodeAbs) {\n      const base = normalizeXPath(baseAbs);\n      const abs = normalizeXPath(nodeAbs);\n      if (abs === base) return \"/\";\n      if (abs.startsWith(base)) {\n        const tail = abs.slice(base.length);\n        if (!tail) return \"/\";\n        return tail.startsWith(\"/\") || tail.startsWith(\"//\") ? tail : `/${tail}`;\n      }\n      if (base === \"/\") return abs;\n      return abs;\n    }\n    const sessionToIndex = /* @__PURE__ */ new Map();\n    const sessionById = /* @__PURE__ */ new Map();\n    for (const frameId of frames) {\n      const sess = ownerSession(page, frameId);\n      const sid = (_d = sess.id) != null ? _d : \"root\";\n      if (!sessionById.has(sid)) sessionById.set(sid, sess);\n    }\n    for (const [sid, sess] of sessionById.entries()) {\n      const idx = yield buildSessionDomIndex(sess, pierce);\n      sessionToIndex.set(sid, idx);\n    }\n    for (const frameId of frames) {\n      const sess = ownerSession(page, frameId);\n      const sid = (_e = sess.id) != null ? _e : \"root\";\n      let idx = sessionToIndex.get(sid);\n      if (!idx) {\n        idx = yield buildSessionDomIndex(sess, pierce);\n        sessionToIndex.set(sid, idx);\n      }\n      const parentId = parentByFrame.get(frameId);\n      const sameSessionAsParent = !!parentId && ownerSession(page, parentId) === sess;\n      let docRootBe = idx.rootBackend;\n      if (sameSessionAsParent) {\n        try {\n          const { backendNodeId } = yield sess.send(\n            \"DOM.getFrameOwner\",\n            { frameId }\n          );\n          if (typeof backendNodeId === \"number\") {\n            const cdBe = idx.contentDocRootByIframe.get(backendNodeId);\n            if (typeof cdBe === \"number\") docRootBe = cdBe;\n          }\n        } catch (e) {\n        }\n      }\n      const tagNameMap = {};\n      const xpathMap = {};\n      const scrollableMap = {};\n      const enc = (be) => `${page.getOrdinal(frameId)}-${be}`;\n      const baseAbs = (_f = idx.absByBe.get(docRootBe)) != null ? _f : \"/\";\n      for (const [be, nodeAbs] of idx.absByBe.entries()) {\n        const nodeDocRoot = idx.docRootOf.get(be);\n        if (nodeDocRoot !== docRootBe) continue;\n        const rel = relativizeXPath(baseAbs, nodeAbs);\n        const key = enc(be);\n        xpathMap[key] = rel;\n        const tag = idx.tagByBe.get(be);\n        if (tag) tagNameMap[key] = tag;\n        if (idx.scrollByBe.get(be)) scrollableMap[key] = true;\n      }\n      const { outline, urlMap } = yield a11yForFrame(sess, frameId, {\n        experimental: (_g = options == null ? void 0 : options.experimental) != null ? _g : false,\n        tagNameMap,\n        scrollableMap,\n        encode: (backendNodeId) => `${page.getOrdinal(frameId)}-${backendNodeId}`\n      });\n      perFrameOutlines.push({ frameId, outline });\n      perFrameMaps.set(frameId, { tagNameMap, xpathMap, scrollableMap, urlMap });\n    }\n    const absPrefix = /* @__PURE__ */ new Map();\n    const iframeHostEncByChild = /* @__PURE__ */ new Map();\n    absPrefix.set(rootId, \"\");\n    const queue = [rootId];\n    while (queue.length) {\n      const parent = queue.shift();\n      const parentAbs = absPrefix.get(parent);\n      for (const child of frames) {\n        if (parentByFrame.get(child) !== parent) continue;\n        queue.push(child);\n        const parentSess = parentSession(page, parentByFrame, child);\n        const ownerBackendNodeId = yield (() => __async(null, null, function* () {\n          try {\n            const { backendNodeId } = yield parentSess.send(\"DOM.getFrameOwner\", { frameId: child });\n            return backendNodeId;\n          } catch (e) {\n            return void 0;\n          }\n        }))();\n        if (!ownerBackendNodeId) {\n          absPrefix.set(child, parentAbs);\n          continue;\n        }\n        const parentDom = perFrameMaps.get(parent);\n        const iframeEnc = `${page.getOrdinal(parent)}-${ownerBackendNodeId}`;\n        const iframeXPath = parentDom == null ? void 0 : parentDom.xpathMap[iframeEnc];\n        const childAbs = iframeXPath ? prefixXPath(parentAbs || \"/\", iframeXPath) : parentAbs;\n        absPrefix.set(child, childAbs);\n        iframeHostEncByChild.set(child, iframeEnc);\n      }\n    }\n    for (const frameId of frames) {\n      const maps = perFrameMaps.get(frameId);\n      if (!maps) continue;\n      const abs = (_h = absPrefix.get(frameId)) != null ? _h : \"\";\n      const isRoot = abs === \"\" || abs === \"/\";\n      if (isRoot) {\n        Object.assign(combinedXpathMap, maps.xpathMap);\n        Object.assign(combinedUrlMap, maps.urlMap);\n        continue;\n      }\n      for (const [encId, xp] of Object.entries(maps.xpathMap)) {\n        combinedXpathMap[encId] = prefixXPath(abs, xp);\n      }\n      Object.assign(combinedUrlMap, maps.urlMap);\n    }\n    const idToTree = /* @__PURE__ */ new Map();\n    for (const { frameId, outline } of perFrameOutlines) {\n      const parentEnc = iframeHostEncByChild.get(frameId);\n      if (parentEnc) idToTree.set(parentEnc, outline);\n    }\n    const rootOutline = (_l = (_k = (_i = perFrameOutlines.find((o) => o.frameId === rootId)) == null ? void 0 : _i.outline) != null ? _k : (_j = perFrameOutlines[0]) == null ? void 0 : _j.outline) != null ? _l : \"\";\n    const combinedTree = injectSubtrees(rootOutline, idToTree);\n    return {\n      combinedTree,\n      combinedXpathMap,\n      combinedUrlMap,\n      perFrame: perFrameOutlines.map(({ frameId, outline }) => {\n        var _a2, _b2;\n        const maps = perFrameMaps.get(frameId);\n        return {\n          frameId,\n          outline,\n          xpathMap: (_a2 = maps == null ? void 0 : maps.xpathMap) != null ? _a2 : {},\n          urlMap: (_b2 = maps == null ? void 0 : maps.urlMap) != null ? _b2 : {}\n        };\n      })\n    };\n  });\n}\nfunction prefixXPath(parentAbs, child) {\n  const p = parentAbs === \"/\" ? \"\" : parentAbs.replace(/\\/$/, \"\");\n  if (!child || child === \"/\") return p || \"/\";\n  if (child.startsWith(\"//\"))\n    return p ? `${p}//${child.slice(2)}` : `//${child.slice(2)}`;\n  const c = child.replace(/^\\//, \"\");\n  return p ? `${p}/${c}` : `/${c}`;\n}\nfunction normalizeXPath(x) {\n  if (!x) return \"\";\n  let s = x.trim().replace(/^xpath=/i, \"\");\n  if (!s.startsWith(\"/\")) s = \"/\" + s;\n  if (s.length > 1 && s.endsWith(\"/\")) s = s.slice(0, -1);\n  return s;\n}\nfunction parseXPathToSteps(path7) {\n  const s = path7.trim();\n  let i = 0;\n  const steps = [];\n  while (i < s.length) {\n    let axis = \"child\";\n    if (s.startsWith(\"//\", i)) {\n      axis = \"desc\";\n      i += 2;\n    } else if (s[i] === \"/\") {\n      axis = \"child\";\n      i += 1;\n    }\n    const start = i;\n    while (i < s.length && s[i] !== \"/\") i++;\n    const raw = s.slice(start, i).trim();\n    if (!raw) continue;\n    const name = raw.replace(/\\[\\d+\\]\\s*$/u, \"\").toLowerCase();\n    steps.push({ axis, raw, name });\n  }\n  return steps;\n}\nfunction buildXPathFromSteps(steps) {\n  let out = \"\";\n  for (const st of steps) {\n    out += st.axis === \"desc\" ? \"//\" : \"/\";\n    out += st.raw;\n  }\n  return out || \"/\";\n}\nfunction resolveFocusFrameAndTail(page, absoluteXPath, parentByFrame, rootId) {\n  return __async(this, null, function* () {\n    const steps = parseXPathToSteps(absoluteXPath);\n    let ctxFrameId = rootId;\n    let buf = [];\n    let absPrefix = \"\";\n    const flushIntoChild = () => __async(null, null, function* () {\n      if (!buf.length) return;\n      const selectorForIframe = buildXPathFromSteps(buf);\n      const parentSess = page.getSessionForFrame(ctxFrameId);\n      const objectId = yield resolveObjectIdForXPath(\n        parentSess,\n        selectorForIframe,\n        ctxFrameId\n      );\n      if (!objectId)\n        throw new StagehandIframeError(\n          selectorForIframe,\n          \"Failed to resolve iframe element by XPath\"\n        );\n      try {\n        yield parentSess.send(\"DOM.enable\").catch(() => {\n        });\n        const desc = yield parentSess.send(\n          \"DOM.describeNode\",\n          { objectId }\n        );\n        const iframeBackendNodeId = desc.node.backendNodeId;\n        let childFrameId;\n        for (const fid of listChildrenOf(parentByFrame, ctxFrameId)) {\n          try {\n            const { backendNodeId } = yield parentSess.send(\"DOM.getFrameOwner\", { frameId: fid });\n            if (backendNodeId === iframeBackendNodeId) {\n              childFrameId = fid;\n              break;\n            }\n          } catch (e) {\n          }\n        }\n        if (!childFrameId)\n          throw new StagehandIframeError(\n            selectorForIframe,\n            \"Could not map iframe to child frameId\"\n          );\n        absPrefix = prefixXPath(absPrefix || \"/\", selectorForIframe);\n        ctxFrameId = childFrameId;\n      } finally {\n        yield parentSess.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n        });\n      }\n      buf = [];\n    });\n    for (const st of steps) {\n      buf.push(st);\n      if (IFRAME_STEP_RE.test(st.name)) {\n        yield flushIntoChild();\n      }\n    }\n    const tailXPath = buildXPathFromSteps(buf);\n    return { targetFrameId: ctxFrameId, tailXPath, absPrefix };\n  });\n}\nfunction resolveCssFocusFrameAndTail(page, rawSelector, parentByFrame, rootId) {\n  return __async(this, null, function* () {\n    var _a;\n    const parts = rawSelector.split(\">>\").map((s) => s.trim()).filter(Boolean);\n    let ctxFrameId = rootId;\n    const absPrefix = \"\";\n    for (let i = 0; i < Math.max(0, parts.length - 1); i++) {\n      const parentSess = page.getSessionForFrame(ctxFrameId);\n      const objectId = yield resolveObjectIdForCss(\n        parentSess,\n        parts[i],\n        ctxFrameId\n      );\n      if (!objectId)\n        throw new StagehandIframeError(\n          parts[i],\n          \"Failed to resolve iframe via CSS hop\"\n        );\n      try {\n        yield parentSess.send(\"DOM.enable\").catch(() => {\n        });\n        const desc = yield parentSess.send(\n          \"DOM.describeNode\",\n          { objectId }\n        );\n        const iframeBackendNodeId = desc.node.backendNodeId;\n        let childFrameId;\n        for (const fid of listChildrenOf(parentByFrame, ctxFrameId)) {\n          try {\n            const { backendNodeId } = yield parentSess.send(\"DOM.getFrameOwner\", { frameId: fid });\n            if (backendNodeId === iframeBackendNodeId) {\n              childFrameId = fid;\n              break;\n            }\n          } catch (e) {\n          }\n        }\n        if (!childFrameId)\n          throw new StagehandIframeError(\n            parts[i],\n            \"Could not map CSS iframe hop to child frameId\"\n          );\n        ctxFrameId = childFrameId;\n      } finally {\n        yield parentSess.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n        });\n      }\n    }\n    const tailSelector = (_a = parts[parts.length - 1]) != null ? _a : \"*\";\n    return { targetFrameId: ctxFrameId, tailSelector, absPrefix };\n  });\n}\nfunction listChildrenOf(parentByFrame, parentId) {\n  const out = [];\n  for (const [fid, p] of parentByFrame.entries()) {\n    if (p === parentId) out.push(fid);\n  }\n  return out;\n}\nfunction domMapsForSession(session, frameId, pierce, encode = (fid, be) => `${fid}-${be}`, attemptOwnerLookup = true) {\n  return __async(this, null, function* () {\n    var _a, _b;\n    yield session.send(\"DOM.enable\").catch(() => {\n    });\n    const { root } = yield session.send(\n      \"DOM.getDocument\",\n      { depth: -1, pierce }\n    );\n    let startNode = root;\n    if (attemptOwnerLookup) {\n      try {\n        const owner = yield session.send(\n          \"DOM.getFrameOwner\",\n          { frameId }\n        );\n        const ownerBackendId = owner.backendNodeId;\n        if (typeof ownerBackendId === \"number\") {\n          const ownerEl = findNodeByBackendId(root, ownerBackendId);\n          if (ownerEl == null ? void 0 : ownerEl.contentDocument) {\n            startNode = ownerEl.contentDocument;\n          }\n        }\n      } catch (e) {\n      }\n    }\n    const tagNameMap = {};\n    const xpathMap = {};\n    const scrollableMap = {};\n    const stack = [{ node: startNode, xpath: \"\" }];\n    while (stack.length) {\n      const { node, xpath } = stack.pop();\n      if (node.backendNodeId) {\n        const encId = encode(frameId, node.backendNodeId);\n        tagNameMap[encId] = String(node.nodeName).toLowerCase();\n        xpathMap[encId] = xpath || \"/\";\n        const isScrollable = (node == null ? void 0 : node.isScrollable) === true;\n        if (isScrollable) scrollableMap[encId] = true;\n      }\n      const kids = (_a = node.children) != null ? _a : [];\n      if (kids.length) {\n        const segs = buildChildXPathSegments(kids);\n        for (let i = kids.length - 1; i >= 0; i--) {\n          const child = kids[i];\n          const step = segs[i];\n          stack.push({\n            node: child,\n            xpath: joinXPath(xpath, step)\n          });\n        }\n      }\n      for (const sr of (_b = node.shadowRoots) != null ? _b : []) {\n        stack.push({\n          node: sr,\n          xpath: joinXPath(xpath, \"//\")\n        });\n      }\n    }\n    return { tagNameMap, xpathMap, scrollableMap };\n  });\n}\nfunction buildChildXPathSegments(kids) {\n  var _a;\n  const segs = [];\n  const ctr = {};\n  for (const child of kids) {\n    const tag = String(child.nodeName).toLowerCase();\n    const key = `${child.nodeType}:${tag}`;\n    const idx = ctr[key] = ((_a = ctr[key]) != null ? _a : 0) + 1;\n    if (child.nodeType === 3) {\n      segs.push(`text()[${idx}]`);\n    } else if (child.nodeType === 8) {\n      segs.push(`comment()[${idx}]`);\n    } else {\n      segs.push(\n        tag.includes(\":\") ? `*[name()='${tag}'][${idx}]` : `${tag}[${idx}]`\n      );\n    }\n  }\n  return segs;\n}\nfunction joinXPath(base, step) {\n  if (step === \"//\") {\n    if (!base || base === \"/\") return \"//\";\n    return base.endsWith(\"/\") ? `${base}/` : `${base}//`;\n  }\n  if (!base || base === \"/\") return step ? `/${step}` : \"/\";\n  if (base.endsWith(\"//\")) return `${base}${step}`;\n  if (!step) return base;\n  return `${base}/${step}`;\n}\nfunction a11yForFrame(session, frameId, opts) {\n  return __async(this, null, function* () {\n    var _a, _b;\n    yield session.send(\"Accessibility.enable\").catch(() => {\n    });\n    yield session.send(\"Runtime.enable\").catch(() => {\n    });\n    yield session.send(\"DOM.enable\").catch(() => {\n    });\n    let nodes = [];\n    try {\n      const params = frameId ? { frameId } : {};\n      ({ nodes } = yield session.send(\"Accessibility.getFullAXTree\", params));\n    } catch (e) {\n      const msg = String((_b = (_a = e == null ? void 0 : e.message) != null ? _a : e) != null ? _b : \"\");\n      const isFrameScopeError = msg.includes(\"Frame with the given\") || msg.includes(\"does not belong to the target\") || msg.includes(\"is not found\");\n      if (!isFrameScopeError || !frameId) throw e;\n      ({ nodes } = yield session.send(\"Accessibility.getFullAXTree\"));\n    }\n    const urlMap = {};\n    for (const n of nodes) {\n      const be = n.backendDOMNodeId;\n      if (typeof be !== \"number\") continue;\n      const url = extractUrlFromAXNode(n);\n      if (!url) continue;\n      const enc = opts.encode(be);\n      urlMap[enc] = url;\n    }\n    let scopeApplied = false;\n    const nodesForOutline = yield (() => __async(null, null, function* () {\n      var _a2, _b2, _c;\n      const sel = (_a2 = opts.focusSelector) == null ? void 0 : _a2.trim();\n      if (!sel) return nodes;\n      try {\n        const looksLikeXPath = /^xpath=/i.test(sel) || sel.startsWith(\"/\");\n        const objectId = looksLikeXPath ? yield resolveObjectIdForXPath(session, sel, frameId) : yield resolveObjectIdForCss(session, sel, frameId);\n        if (!objectId) return nodes;\n        const desc = yield session.send(\n          \"DOM.describeNode\",\n          { objectId }\n        );\n        const be = (_b2 = desc.node) == null ? void 0 : _b2.backendNodeId;\n        if (typeof be !== \"number\") return nodes;\n        const target = nodes.find((n) => n.backendDOMNodeId === be);\n        if (!target) return nodes;\n        scopeApplied = true;\n        const keep = /* @__PURE__ */ new Set([target.nodeId]);\n        const queue = [target];\n        while (queue.length) {\n          const cur = queue.shift();\n          for (const id of (_c = cur.childIds) != null ? _c : []) {\n            if (keep.has(id)) continue;\n            keep.add(id);\n            const child = nodes.find((n) => n.nodeId === id);\n            if (child) queue.push(child);\n          }\n        }\n        return nodes.filter((n) => keep.has(n.nodeId)).map(\n          (n) => n.nodeId === target.nodeId ? __spreadProps(__spreadValues({}, n), { parentId: void 0 }) : n\n        );\n      } catch (e) {\n        return nodes;\n      }\n    }))();\n    const decorated = decorateRoles(nodesForOutline, opts);\n    const { tree } = yield buildHierarchicalTree(decorated, opts);\n    const simplified = tree.map((n) => formatTreeLine(n)).join(\"\\n\");\n    return { outline: simplified.trimEnd(), urlMap, scopeApplied };\n  });\n}\nfunction resolveObjectIdForXPath(session, xpath, frameId) {\n  return __async(this, null, function* () {\n    var _a;\n    let contextId;\n    try {\n      if (frameId) {\n        contextId = yield executionContexts.waitForMainWorld(session, frameId, 800).catch(\n          () => {\n            var _a2;\n            return (_a2 = executionContexts.getMainWorld(session, frameId)) != null ? _a2 : void 0;\n          }\n        );\n      }\n    } catch (e) {\n      contextId = void 0;\n    }\n    const expr = `(() => {\n    const xp = ${JSON.stringify(xpath)};\n    try {\n      if (window.__stagehandV3__ && typeof window.__stagehandV3__.resolveSimpleXPath === 'function') {\n        return window.__stagehandV3__.resolveSimpleXPath(xp);\n      }\n    } catch {}\n    try {\n      const res = document.evaluate(xp, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);\n      return res.singleNodeValue;\n    } catch { return null; }\n  })()`;\n    const { result, exceptionDetails } = yield session.send(\"Runtime.evaluate\", {\n      expression: expr,\n      returnByValue: false,\n      contextId,\n      awaitPromise: true\n    });\n    if (exceptionDetails) return null;\n    return (_a = result == null ? void 0 : result.objectId) != null ? _a : null;\n  });\n}\nfunction resolveObjectIdForCss(session, selector, frameId) {\n  return __async(this, null, function* () {\n    var _a;\n    let contextId;\n    try {\n      if (frameId) {\n        contextId = yield executionContexts.waitForMainWorld(session, frameId, 800).catch(\n          () => {\n            var _a2;\n            return (_a2 = executionContexts.getMainWorld(session, frameId)) != null ? _a2 : void 0;\n          }\n        );\n      }\n    } catch (e) {\n      contextId = void 0;\n    }\n    const expr = `(() => {\n    const selector = ${JSON.stringify(selector)};\n    function queryOpenDeep(root) {\n      try {\n        const hit = root.querySelector(selector);\n        if (hit) return hit;\n      } catch {}\n      const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n      let n;\n      while ((n = walker.nextNode())) {\n        if (n.shadowRoot) {\n          const found = queryOpenDeep(n.shadowRoot);\n          if (found) return found;\n        }\n      }\n      return null;\n    }\n    const backdoor = window.__stagehandV3__;\n    if (backdoor && typeof backdoor.getClosedRoot === 'function') {\n      function* roots() {\n        yield document;\n        const queue = [];\n        try {\n          const w = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT);\n          let e; while ((e = w.nextNode())) {\n            if (e.shadowRoot) queue.push(e.shadowRoot);\n            try { const closed = backdoor.getClosedRoot(e); if (closed) queue.push(closed); } catch {}\n          }\n        } catch {}\n        while (queue.length) {\n          const r = queue.shift();\n          yield r;\n          try {\n            const w2 = document.createTreeWalker(r, NodeFilter.SHOW_ELEMENT);\n            let e2; while ((e2 = w2.nextNode())) {\n              if (e2.shadowRoot) queue.push(e2.shadowRoot);\n              try { const closed2 = backdoor.getClosedRoot(e2); if (closed2) queue.push(closed2); } catch {}\n            }\n          } catch {}\n        }\n      }\n      for (const r of roots()) {\n        try { const hit = r.querySelector(selector); if (hit) return hit; } catch {}\n      }\n      return null;\n    }\n    return queryOpenDeep(document);\n  })()`;\n    const { result, exceptionDetails } = yield session.send(\"Runtime.evaluate\", {\n      expression: expr,\n      returnByValue: false,\n      contextId,\n      awaitPromise: true\n    });\n    if (exceptionDetails) return null;\n    return (_a = result == null ? void 0 : result.objectId) != null ? _a : null;\n  });\n}\nfunction decorateRoles(nodes, opts) {\n  const asRole = (n) => {\n    var _a, _b;\n    return String((_b = (_a = n.role) == null ? void 0 : _a.value) != null ? _b : \"\");\n  };\n  return nodes.map((n) => {\n    var _a, _b, _c;\n    let encodedId;\n    if (typeof n.backendDOMNodeId === \"number\") {\n      try {\n        encodedId = opts.encode(n.backendDOMNodeId);\n      } catch (e) {\n      }\n    }\n    let role = asRole(n);\n    const domIsScrollable = encodedId ? opts.scrollableMap[encodedId] === true : false;\n    const tag = encodedId ? opts.tagNameMap[encodedId] : void 0;\n    const isHtmlElement = tag === \"html\";\n    if ((domIsScrollable || isHtmlElement) && tag !== \"#document\") {\n      const tagLabel = tag && tag.startsWith(\"#\") ? tag.slice(1) : tag;\n      role = tagLabel ? `scrollable, ${tagLabel}` : `scrollable${role ? `, ${role}` : \"\"}`;\n    }\n    return {\n      role,\n      name: (_a = n.name) == null ? void 0 : _a.value,\n      description: (_b = n.description) == null ? void 0 : _b.value,\n      value: (_c = n.value) == null ? void 0 : _c.value,\n      nodeId: n.nodeId,\n      backendDOMNodeId: n.backendDOMNodeId,\n      parentId: n.parentId,\n      childIds: n.childIds,\n      encodedId\n    };\n  });\n}\nfunction buildHierarchicalTree(nodes, opts) {\n  return __async(this, null, function* () {\n    var _a;\n    const nodeMap = /* @__PURE__ */ new Map();\n    for (const n of nodes) {\n      const keep = !!(n.name && n.name.trim()) || !!(n.childIds && n.childIds.length) || !isStructural(n.role);\n      if (!keep) continue;\n      nodeMap.set(n.nodeId, __spreadValues({}, n));\n    }\n    for (const n of nodes) {\n      if (!n.parentId) continue;\n      const parent = nodeMap.get(n.parentId);\n      const cur = nodeMap.get(n.nodeId);\n      if (parent && cur) ((_a = parent.children) != null ? _a : parent.children = []).push(cur);\n    }\n    const roots = nodes.filter((n) => !n.parentId && nodeMap.has(n.nodeId)).map((n) => nodeMap.get(n.nodeId));\n    const cleaned = (yield Promise.all(roots.map(pruneStructuralSafe))).filter(\n      Boolean\n    );\n    return { tree: cleaned };\n    function pruneStructuralSafe(node) {\n      return __async(this, null, function* () {\n        var _a2;\n        if (+node.nodeId < 0) return null;\n        const children = (_a2 = node.children) != null ? _a2 : [];\n        if (!children.length) {\n          return isStructural(node.role) ? null : node;\n        }\n        const cleanedKids = (yield Promise.all(children.map(pruneStructuralSafe))).filter(Boolean);\n        const prunedStatic = removeRedundantStaticTextChildren(node, cleanedKids);\n        if (isStructural(node.role)) {\n          if (prunedStatic.length === 1) return prunedStatic[0];\n          if (prunedStatic.length === 0) return null;\n        }\n        let newRole = node.role;\n        if ((newRole === \"generic\" || newRole === \"none\") && node.encodedId) {\n          const tagName = opts.tagNameMap[node.encodedId];\n          if (tagName) newRole = tagName;\n        }\n        if (newRole === \"combobox\" && node.encodedId) {\n          const tagName = opts.tagNameMap[node.encodedId];\n          if (tagName === \"select\") newRole = \"select\";\n        }\n        return __spreadProps(__spreadValues({}, node), { role: newRole, children: prunedStatic });\n      });\n    }\n  });\n}\nfunction formatTreeLine(node, level = 0) {\n  var _a, _b, _c;\n  const indent = \"  \".repeat(level);\n  const labelId = (_a = node.encodedId) != null ? _a : node.nodeId;\n  const label = `[${labelId}] ${node.role}${node.name ? `: ${cleanText(node.name)}` : \"\"}`;\n  const kids = (_c = (_b = node.children) == null ? void 0 : _b.map((c) => formatTreeLine(c, level + 1)).join(\"\\n\")) != null ? _c : \"\";\n  return kids ? `${indent}${label}\n${kids}` : `${indent}${label}`;\n}\nfunction isStructural(role) {\n  const r = role == null ? void 0 : role.toLowerCase();\n  return r === \"generic\" || r === \"none\" || r === \"inlinetextbox\";\n}\nfunction cleanText(input) {\n  const PUA_START = 57344;\n  const PUA_END = 63743;\n  const NBSP = /* @__PURE__ */ new Set([160, 8239, 8199, 65279]);\n  let out = \"\";\n  let prevSpace = false;\n  for (let i = 0; i < input.length; i++) {\n    const code = input.charCodeAt(i);\n    if (code >= PUA_START && code <= PUA_END) continue;\n    if (NBSP.has(code)) {\n      if (!prevSpace) {\n        out += \" \";\n        prevSpace = true;\n      }\n      continue;\n    }\n    out += input[i];\n    prevSpace = input[i] === \" \";\n  }\n  return out.trim();\n}\nfunction extractUrlFromAXNode(ax) {\n  var _a, _b;\n  const props = (_a = ax.properties) != null ? _a : [];\n  const urlProp = props.find((p) => p.name === \"url\");\n  const value = (_b = urlProp == null ? void 0 : urlProp.value) == null ? void 0 : _b.value;\n  return typeof value === \"string\" && value.trim() ? value.trim() : void 0;\n}\nfunction normaliseSpaces(s) {\n  let out = \"\";\n  let inWs = false;\n  for (let i = 0; i < s.length; i++) {\n    const ch = s[i];\n    const isWs = /\\s/.test(ch);\n    if (isWs) {\n      if (!inWs) {\n        out += \" \";\n        inWs = true;\n      }\n    } else {\n      out += ch;\n      inWs = false;\n    }\n  }\n  return out;\n}\nfunction removeRedundantStaticTextChildren(parent, children) {\n  if (!parent.name) return children;\n  const parentNorm = normaliseSpaces(parent.name).trim();\n  let combined = \"\";\n  for (const c of children) {\n    if (c.role === \"StaticText\" && c.name) {\n      combined += normaliseSpaces(c.name).trim();\n    }\n  }\n  if (combined === parentNorm) {\n    return children.filter((c) => c.role !== \"StaticText\");\n  }\n  return children;\n}\nfunction findNodeByBackendId(root, backendNodeId) {\n  const stack = [root];\n  while (stack.length) {\n    const n = stack.pop();\n    if (n.backendNodeId === backendNodeId) return n;\n    if (n.children) for (const c of n.children) stack.push(c);\n    if (n.shadowRoots) for (const s of n.shadowRoots) stack.push(s);\n  }\n  return void 0;\n}\nfunction injectSubtrees(rootOutline, idToTree) {\n  var _a, _b;\n  const out = [];\n  const visited = /* @__PURE__ */ new Set();\n  const stack = [{ lines: rootOutline.split(\"\\n\"), i: 0 }];\n  while (stack.length) {\n    const top = stack[stack.length - 1];\n    if (top.i >= top.lines.length) {\n      stack.pop();\n      continue;\n    }\n    const raw = top.lines[top.i++];\n    out.push(raw);\n    const indent = (_b = (_a = raw.match(/^(\\s*)/)) == null ? void 0 : _a[1]) != null ? _b : \"\";\n    const content = raw.slice(indent.length);\n    const m = content.match(/^\\[([^\\]]+)]/);\n    if (!m) continue;\n    const encId = m[1];\n    const childOutline = idToTree.get(encId);\n    if (!childOutline || visited.has(encId)) continue;\n    visited.add(encId);\n    const fullyInjectedChild = injectSubtrees(childOutline, idToTree);\n    out.push(indentBlock(fullyInjectedChild.trimEnd(), indent + \"  \"));\n  }\n  return out.join(\"\\n\");\n}\nfunction indentBlock(block, indent) {\n  if (!block) return \"\";\n  return block.split(\"\\n\").map((line) => line.length ? indent + line : indent + line).join(\"\\n\");\n}\nfunction diffCombinedTrees(prevTree, nextTree) {\n  const prevSet = new Set(\n    (prevTree || \"\").split(\"\\n\").map((l) => l.trim()).filter((l) => l.length > 0)\n  );\n  const nextLines = (nextTree || \"\").split(\"\\n\");\n  const added = [];\n  for (const line of nextLines) {\n    const core = line.trim();\n    if (!core) continue;\n    if (!prevSet.has(core)) added.push(line);\n  }\n  if (added.length === 0) return \"\";\n  let minIndent = Infinity;\n  for (const l of added) {\n    if (!l.trim()) continue;\n    const m = l.match(/^\\s*/);\n    const indentLen = m ? m[0].length : 0;\n    if (indentLen < minIndent) minIndent = indentLen;\n  }\n  if (!isFinite(minIndent)) minIndent = 0;\n  const out = added.map(\n    (l) => l.length >= minIndent ? l.slice(minIndent) : l\n  );\n  return out.join(\"\\n\");\n}\nfunction ownerSession(page, frameId) {\n  return page.getSessionForFrame(frameId);\n}\nfunction parentSession(page, parentByFrame, frameId) {\n  var _a;\n  const parentId = (_a = parentByFrame.get(frameId)) != null ? _a : null;\n  if (!parentId) {\n    return page.getSessionForFrame(frameId);\n  }\n  return page.getSessionForFrame(parentId);\n}\nvar IFRAME_STEP_RE;\nvar init_snapshot = __esm({\n  \"lib/v3/understudy/a11y/snapshot.ts\"() {\n    init_executionContextRegistry();\n    init_logger();\n    init_sdkErrors();\n    IFRAME_STEP_RE = /^iframe(?:\\[\\d+])?$/i;\n  }\n});\n\n// lib/v3/dom/build/locatorScripts.generated.ts\nvar locatorScriptBootstrap, locatorScriptSources, locatorScriptGlobalRefs;\nvar init_locatorScripts_generated = __esm({\n  \"lib/v3/dom/build/locatorScripts.generated.ts\"() {\n    locatorScriptBootstrap = 'if (!globalThis.__stagehandLocatorScripts) { var __stagehandLocatorScriptsFactory=(()=>{var L=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var D=(t,e)=>{for(var c in e)L(t,c,{get:e[c],enumerable:!0})},A=(t,e,c,n)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of k(e))!H.call(t,o)&&o!==c&&L(t,o,{get:()=>e[o],enumerable:!(n=R(e,o))||n.enumerable});return t};var _=t=>A(L({},\"__esModule\",{value:!0}),t);var oe={};D(oe,{assignFilePayloadsToInputElement:()=>F,countCssMatchesPierce:()=>ee,countCssMatchesPrimary:()=>Z,countTextMatches:()=>te,countXPathMatchesMainWorld:()=>ne,dispatchDomClick:()=>W,ensureFileInputElement:()=>I,fillElementValue:()=>O,focusElement:()=>V,isElementChecked:()=>B,isElementVisible:()=>Y,prepareElementForTyping:()=>T,readElementInnerHTML:()=>U,readElementInnerText:()=>j,readElementInputValue:()=>$,readElementTextContent:()=>z,resolveCssSelector:()=>K,resolveCssSelectorPierce:()=>G,resolveTextSelector:()=>J,resolveXPathMainWorld:()=>Q,scrollElementToPercent:()=>q,selectElementOptions:()=>X});function I(){try{return(this.tagName?.toLowerCase()??\"\")!==\"input\"?!1:String(this.type??\"\").toLowerCase()===\"file\"}catch{return!1}}function F(t){try{let e=this;if(!e||e.tagName?.toLowerCase()!==\"input\"||(e.type??\"\").toLowerCase()!==\"file\")return!1;let c=(()=>{try{return new DataTransfer}catch{return null}})();if(!c)return!1;let n=Array.isArray(t)?t:[];for(let o of n){if(!o)continue;let y=o.name||\"upload.bin\",u=o.mimeType||\"application/octet-stream\",a=typeof o.lastModified==\"number\"?o.lastModified:Date.now(),l=window.atob(o.base64??\"\"),i=new Uint8Array(l.length);for(let s=0;s<l.length;s+=1)i[s]=l.charCodeAt(s);let f=new Blob([i],{type:u}),h=new File([f],y,{type:u,lastModified:a});c.items.add(h)}return e.files=c.files,e.dispatchEvent(new Event(\"input\",{bubbles:!0})),e.dispatchEvent(new Event(\"change\",{bubbles:!0})),!0}catch{return!1}}function W(t){let e=t??{};try{let c=new MouseEvent(\"click\",{bubbles:!!e.bubbles,cancelable:!!e.cancelable,composed:!!e.composed,detail:typeof e.detail==\"number\"?e.detail:1,view:this?.ownerDocument?.defaultView??window});this.dispatchEvent(c)}catch{try{this.click()}catch{}}}function q(t){let e=c=>{if(typeof c==\"number\"&&Number.isFinite(c))return c;let n=String(c??\"\").trim();if(!n)return 0;let o=parseFloat(n.replace(\"%\",\"\"));return Number.isNaN(o)||!Number.isFinite(o)?0:o};try{let c=Math.max(0,Math.min(e(t),100)),n=this,o=n.tagName?.toLowerCase()??\"\";if(o===\"html\"||o===\"body\"){let h=(n.ownerDocument?.scrollingElement||n.ownerDocument?.documentElement||n.ownerDocument?.body||document.scrollingElement||document.documentElement||document.body)?.scrollHeight??document.body.scrollHeight??0,s=n.ownerDocument?.defaultView?.innerHeight??window.innerHeight,g=Math.max(0,h-s)*(c/100);return n.ownerDocument?.defaultView?.scrollTo({top:g,left:n.ownerDocument?.defaultView?.scrollX??window.scrollX??0,behavior:\"smooth\"}),!0}let u=n.scrollHeight??0,a=n.clientHeight??0,i=Math.max(0,u-a)*(c/100);return n.scrollTo({top:i,left:n.scrollLeft??0,behavior:\"smooth\"}),!0}catch{return!1}}var v=new Set([\"color\",\"date\",\"datetime-local\",\"month\",\"range\",\"time\",\"week\"]),P=new Set([\"\",\"email\",\"number\",\"password\",\"search\",\"tel\",\"text\",\"url\"]);function T(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument||document,c=e.defaultView||window;try{typeof t.focus==\"function\"&&t.focus()}catch{}if(t instanceof c.HTMLInputElement||t instanceof c.HTMLTextAreaElement){try{if(typeof t.select==\"function\")return t.select(),!0}catch{}try{let n=(t.value??\"\").length;if(typeof t.setSelectionRange==\"function\")return t.setSelectionRange(0,n),!0}catch{}return!0}if(t.isContentEditable){let n=e.getSelection?.(),o=e.createRange?.();if(n&&o)try{o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o)}catch{}return!0}return!1}catch{return!1}}function O(t){let e=this;if(!e.isConnected)return{status:\"error\",reason:\"notconnected\"};let n=(e.ownerDocument||document).defaultView||window,o=t??\"\";try{let y=u=>{let a;if(typeof n.InputEvent==\"function\")try{a=new n.InputEvent(\"input\",{bubbles:!0,composed:!0,data:u,inputType:\"insertText\"})}catch{a=new n.Event(\"input\",{bubbles:!0,composed:!0})}else a=new n.Event(\"input\",{bubbles:!0,composed:!0});e.dispatchEvent(a);let l=new n.Event(\"change\",{bubbles:!0});e.dispatchEvent(l)};if(e instanceof n.HTMLInputElement){let u=(e.type||\"\").toLowerCase();if(!P.has(u)&&!v.has(u))return{status:\"error\",reason:`unsupported-input-type:${u}`};let a=t;if(u===\"number\"){let l=t.trim();if(l!==\"\"&&Number.isNaN(Number(l)))return{status:\"error\",reason:\"invalid-number-value\"};a=l}if(o=a,v.has(u)){let l=t.trim();o=l,T.call(e);let i=n.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(i,\"value\")?.set;return typeof h==\"function\"?h.call(e,l):e.value=l,e._valueTracker?.setValue?.(l),e.value!==l?{status:\"error\",reason:\"malformed-value\"}:(y(l),{status:\"done\"})}return T.call(e),{status:\"needsinput\",value:a}}return e instanceof n.HTMLTextAreaElement?(T.call(e),o=t,{status:\"needsinput\",value:t}):e instanceof n.HTMLSelectElement?{status:\"error\",reason:\"unsupported-element\"}:e.isContentEditable?(T.call(e),o=t,{status:\"needsinput\",value:t}):{status:\"error\",reason:\"unsupported-element\"}}catch(y){let u=\"exception\";if(y&&typeof y==\"object\"){let a=y.message;typeof a==\"string\"&&a.trim().length>0&&(u=`exception:${a}`)}return{status:\"needsinput\",value:o,reason:u}}}function V(){try{typeof this.focus==\"function\"&&this.focus()}catch{}}function X(t){try{if(!(this instanceof HTMLSelectElement))return[];let e=Array.isArray(t)?t:[t],c=new Set(e.map(u=>String(u??\"\").trim())),n=u=>{let a=(u.label||u.textContent||\"\").trim(),l=String(u.value??\"\").trim();return c.has(a)||c.has(l)};if(this.multiple)for(let u of Array.from(this.options))u.selected=n(u);else{let u=!1;for(let a of Array.from(this.options))!u&&n(a)?(a.selected=!0,this.value=a.value,u=!0):a.selected=!1}let o=new Event(\"input\",{bubbles:!0}),y=new Event(\"change\",{bubbles:!0});return this.dispatchEvent(o),this.dispatchEvent(y),Array.from(this.selectedOptions).map(u=>u.value)}catch{return[]}}function Y(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument?.defaultView?.getComputedStyle(t)??window.getComputedStyle(t);if(!e||e.display===\"none\"||e.visibility===\"hidden\")return!1;let c=parseFloat(e.opacity??\"1\");if(!Number.isFinite(c)||c===0)return!1;let n=t.getBoundingClientRect();return!(!n||Math.max(n.width,n.height)===0||t.getClientRects().length===0)}catch{return!1}}function B(){try{let t=this;if((t.tagName||\"\").toLowerCase()===\"input\"){let n=t.type?.toLowerCase()??\"\";if(n===\"checkbox\"||n===\"radio\")return!!t.checked}let c=t.getAttribute?.(\"aria-checked\");return c!=null?c===\"true\":!1}catch{return!1}}function $(){try{let t=this,e=(t.tagName||\"\").toLowerCase();return e===\"input\"||e===\"textarea\"||e===\"select\"?String(t.value??\"\"):t.isContentEditable?String(t.textContent??\"\"):\"\"}catch{return\"\"}}function z(){try{return String(this.textContent??\"\")}catch{return\"\"}}function U(){try{return String(this.innerHTML??\"\")}catch{return\"\"}}function j(){try{let t=this,e=t.innerText;if(typeof e==\"string\"&&e.length>0)return e;let c=t.textContent;return typeof c==\"string\"?c:\"\"}catch{return\"\"}}var N=t=>{let e=Number(t??0);return!Number.isFinite(e)||e<0?0:Math.floor(e)},M=(t,e)=>{if(!t)return[];let c=new WeakSet,n=new Set,o=[],y=[document],u=a=>{if(!(!a||c.has(a)||o.length>=e)){c.add(a);try{let l=a.querySelectorAll(t);for(let i of l)if(!n.has(i)&&(n.add(i),o.push(i),o.length>=e))return}catch{}try{let i=(a instanceof Document?a:a.host?.ownerDocument??document).createTreeWalker(a,NodeFilter.SHOW_ELEMENT),f;for(;f=i.nextNode();){if(!(f instanceof Element))continue;let h=f.shadowRoot;h&&y.push(h)}}catch{}}};for(;y.length&&o.length<e;){let a=y.shift();a&&u(a)}return o};function K(t,e){let c=String(t??\"\").trim();if(!c)return null;let n=N(e);return M(c,n+1)[n]??null}function G(t,e){let c=String(t??\"\").trim();if(!c)return null;let n=N(e),o=window.__stagehandV3__;if(!o||typeof o.getClosedRoot!=\"function\")return M(c,n+1)[n]??null;let y=h=>{try{return o.getClosedRoot(h)??null}catch{return null}},u=new WeakSet,a=new Set,l=[],i=[document],f=h=>{if(!(!h||u.has(h)||l.length>=n+1)){u.add(h);try{let s=h.querySelectorAll(c);for(let d of s)if(!a.has(d)&&(a.add(d),l.push(d),l.length>=n+1))return}catch{}try{let d=(h instanceof Document?h:h.host?.ownerDocument??document).createTreeWalker(h,NodeFilter.SHOW_ELEMENT),g;for(;g=d.nextNode();){if(!(g instanceof Element))continue;let w=g.shadowRoot;w&&i.push(w);let E=y(g);E&&i.push(E)}}catch{}}};for(;i.length&&l.length<n+1;){let h=i.shift();h&&f(h)}return l[n]??null}function J(t,e){let c=String(t??\"\");if(!c)return null;let n=c.toLowerCase(),o=N(e),y=new Set([\"SCRIPT\",\"STYLE\",\"TEMPLATE\",\"NOSCRIPT\",\"HEAD\",\"TITLE\",\"LINK\",\"META\",\"HTML\",\"BODY\"]),u=r=>{if(!r)return!1;let p=r.tagName?.toUpperCase()??\"\";return y.has(p)},a=r=>{try{if(u(r))return\"\";let p=r.innerText;if(typeof p==\"string\"&&p.trim())return p.trim()}catch{}try{let p=r.textContent;if(typeof p==\"string\")return p.trim()}catch{}return\"\"},l=r=>{let p=a(r);return!!p&&p.toLowerCase().includes(n)},i=window.__stagehandV3__,f=i&&typeof i.getClosedRoot==\"function\"?r=>{try{return i.getClosedRoot(r)??null}catch{return null}}:r=>null,h=new WeakSet,s=[],d=[],g=r=>{!r||h.has(r)||(h.add(r),s.push(r))},w=r=>{try{return(r instanceof Document?r:r?.ownerDocument??document).createTreeWalker(r,NodeFilter.SHOW_ELEMENT)}catch{return null}};for(g(document);s.length;){let r=s.shift();if(!r)continue;r instanceof Element&&l(r)&&d.push({element:r,tag:r.tagName??\"\",id:r.id??\"\",className:r.className??\"\",text:a(r)});let p=w(r);if(!p)continue;let x;for(;x=p.nextNode();){if(!(x instanceof Element))continue;l(x)&&d.push({element:x,tag:x.tagName??\"\",id:x.id??\"\",className:x.className??\"\",text:a(x)});let b=x.shadowRoot;b&&g(b);let S=f(x);S&&g(S)}}let E=[];for(let r of d){let p=r.element,x=!1;for(let b of d)if(r!==b)try{if(p.contains(b.element)){x=!0;break}}catch{}x||E.push(r)}return E[o]?.element??null}function Q(t,e){let c=String(t??\"\").trim();if(!c)return null;let n=N(e),o=window.__stagehandV3__;if(n===0){try{if(o&&typeof o.resolveSimpleXPath==\"function\"){let s=o.resolveSimpleXPath(c);if(s)return s}}catch{}try{return document.evaluate(c,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch{}}let u=(s=>{let d=String(s||\"\").trim();if(!d)return[];let g=d.replace(/^xpath=/i,\"\"),w=[],E=0;for(;E<g.length;){let m=\"child\";g.startsWith(\"//\",E)?(m=\"desc\",E+=2):g[E]===\"/\"&&(m=\"child\",E+=1);let r=E;for(;E<g.length&&g[E]!==\"/\";)E+=1;let p=g.slice(r,E).trim();if(!p)continue;let x=p.match(/^(.*?)(\\\\[(\\\\d+)\\\\])?$/u),b=(x?.[1]??p).trim(),S=x?.[3]?Math.max(1,Number(x[3])):null,C=b===\"\"?\"*\":b.toLowerCase();w.push({axis:m,tag:C,index:S})}return w})(c);if(!u.length)return null;let a=o&&typeof o.getClosedRoot==\"function\"?s=>{try{return o.getClosedRoot(s)??null}catch{return null}}:s=>null,l=s=>{let d=[];if(!s)return d;if(s instanceof Document)return s.documentElement&&d.push(s.documentElement),d;if(s instanceof ShadowRoot||s instanceof DocumentFragment)return d.push(...Array.from(s.children??[])),d;if(s instanceof Element){d.push(...Array.from(s.children??[]));let g=s.shadowRoot;g&&d.push(...Array.from(g.children??[]));let w=a(s);return w&&d.push(...Array.from(w.children??[])),d}return d},i=s=>{let d=[],g=new Set,w=[...l(s)];for(;w.length;){let E=w.shift();!E||g.has(E)||(g.add(E),d.push(E),w.push(...l(E)))}return d},f=[document];for(let s of u){let d=[],g=new Set;for(let w of f){if(!w)continue;let E=s.axis===\"child\"?l(w):i(w);if(!E.length)continue;let m=E.filter(r=>r instanceof Element?s.tag===\"*\"?!0:r.localName===s.tag:!1);if(s.index!=null){let r=s.index-1,p=r>=0&&r<m.length?m[r]:null;p&&!g.has(p)&&(g.add(p),d.push(p))}else for(let r of m)g.has(r)||(g.add(r),d.push(r))}if(!d.length)return null;f=d}return f[n]??null}function Z(t){let e=String(t??\"\").trim();if(!e)return 0;let c=new WeakSet,n=o=>{if(!o||c.has(o))return 0;c.add(o);let y=0;try{let u=o;typeof u.querySelectorAll==\"function\"&&(y+=u.querySelectorAll(e).length)}catch{}try{let a=(o instanceof Document?o:o?.ownerDocument??document).createTreeWalker(o,NodeFilter.SHOW_ELEMENT),l;for(;l=a.nextNode();)l instanceof Element&&l.shadowRoot&&(y+=n(l.shadowRoot))}catch{}return y};try{return n(document)}catch{try{return document.querySelectorAll(e).length}catch{return 0}}}function ee(t){let e=String(t??\"\").trim();if(!e)return 0;let c=window.__stagehandV3__;if(!c||typeof c.getClosedRoot!=\"function\")try{return document.querySelectorAll(e).length}catch{return 0}let n=new WeakSet,o=[],y=l=>{!l||n.has(l)||(n.add(l),o.push(l))};y(document);let u=0,a=l=>{let i=l.shadowRoot;i&&y(i);try{let f=c.getClosedRoot(l);f&&y(f)}catch{}};for(;o.length;){let l=o.shift();if(l){try{let i=l;typeof i.querySelectorAll==\"function\"&&(u+=i.querySelectorAll(e).length)}catch{}try{let f=(l instanceof Document?l:l instanceof ShadowRoot?l.host?.ownerDocument??document:l.ownerDocument??document).createTreeWalker(l,NodeFilter.SHOW_ELEMENT),h;for(;h=f.nextNode();)h instanceof Element&&a(h)}catch{}}}return u}function te(t){let e=String(t??\"\");if(!e)return{count:0,sample:[],error:null};let c=e.toLowerCase(),n=new Set([\"SCRIPT\",\"STYLE\",\"TEMPLATE\",\"NOSCRIPT\",\"HEAD\",\"TITLE\",\"LINK\",\"META\",\"HTML\",\"BODY\"]),o=m=>{if(!m)return!1;let r=m.tagName?.toUpperCase()??\"\";return n.has(r)},y=m=>{try{if(o(m))return\"\";let r=m.innerText;if(typeof r==\"string\"&&r.trim())return r.trim()}catch{}try{let r=m.textContent;if(typeof r==\"string\")return r.trim()}catch{}return\"\"},u=m=>{let r=y(m);return!!r&&r.toLowerCase().includes(c)},a=window.__stagehandV3__,l=a&&typeof a.getClosedRoot==\"function\"?m=>{try{return a.getClosedRoot(m)??null}catch{return null}}:m=>null,i=new WeakSet,f=[],h=m=>{!m||i.has(m)||(i.add(m),f.push(m))},s=m=>{try{return(m instanceof Document?m:m?.ownerDocument??document).createTreeWalker(m,NodeFilter.SHOW_ELEMENT)}catch{return null}},d=[];for(h(document);f.length;){let m=f.shift();if(!m)continue;m instanceof Element&&u(m)&&d.push({element:m,tag:m.tagName??\"\",id:m.id??\"\",className:m.className??\"\",text:y(m)});let r=s(m);if(!r)continue;let p;for(;p=r.nextNode();){if(!(p instanceof Element))continue;u(p)&&d.push({element:p,tag:p.tagName??\"\",id:p.id??\"\",className:p.className??\"\",text:y(p)});let x=p.shadowRoot;x&&h(x);let b=l(p);b&&h(b)}}let g=[];for(let m of d){let r=m.element,p=!1;for(let x of d)if(m!==x)try{if(r.contains(x.element)){p=!0;break}}catch{}p||g.push(m)}let w=g.length,E=g.slice(0,5).map(m=>({tag:m.tag,id:m.id,class:m.className,text:m.text}));return{count:w,sample:E,error:null}}function ne(t){let e=String(t??\"\").trim();if(!e)return 0;let n=(i=>{let f=String(i||\"\").trim().replace(/^xpath=/i,\"\");if(!f)return[];let h=[],s=0;for(;s<f.length;){let d=\"child\";f.startsWith(\"//\",s)?(d=\"desc\",s+=2):f[s]===\"/\"&&(d=\"child\",s+=1);let g=s;for(;s<f.length&&f[s]!==\"/\";)s+=1;let w=f.slice(g,s).trim();if(!w)continue;let E=w.match(/^(.*?)(\\\\[(\\\\d+)\\\\])?$/u),m=(E?.[1]??w).trim(),r=E?.[3]?Math.max(1,Number(E[3])):null,p=m===\"\"?\"*\":m.toLowerCase();h.push({axis:d,tag:p,index:r})}return h})(e);if(!n.length)return 0;let o=window.__stagehandV3__,y=o&&typeof o.getClosedRoot==\"function\"?i=>{try{return o.getClosedRoot(i)??null}catch{return null}}:i=>null,u=i=>{let f=[];if(!i)return f;if(i instanceof Document)return i.documentElement&&f.push(i.documentElement),f;if(i instanceof ShadowRoot||i instanceof DocumentFragment)return f.push(...Array.from(i.children??[])),f;if(i instanceof Element){f.push(...Array.from(i.children??[]));let h=i.shadowRoot;h&&f.push(...Array.from(h.children??[]));let s=y(i);return s&&f.push(...Array.from(s.children??[])),f}return f},a=i=>{let f=[],h=new Set,s=[...u(i)];for(;s.length;){let d=s.shift();!d||h.has(d)||(h.add(d),f.push(d),s.push(...u(d)))}return f},l=[document];for(let i of n){let f=[],h=new Set;for(let s of l){if(!s)continue;let d=i.axis===\"child\"?u(s):a(s);if(!d.length)continue;let g=d.filter(w=>w instanceof Element?i.tag===\"*\"?!0:w.localName===i.tag:!1);if(i.index!=null){let w=i.index-1,E=w>=0&&w<g.length?g[w]:null;E&&!h.has(E)&&(h.add(E),f.push(E))}else for(let w of g)h.has(w)||(h.add(w),f.push(w))}if(!f.length)return 0;l=f}return l.length}return _(oe);})();\\n  globalThis.__stagehandLocatorScripts = __stagehandLocatorScriptsFactory;\\n}';\n    locatorScriptSources = {\n      \"assignFilePayloadsToInputElement\": 'function k(t){try{let e=this;if(!e||e.tagName?.toLowerCase()!==\"input\"||(e.type??\"\").toLowerCase()!==\"file\")return!1;let i=(()=>{try{return new DataTransfer}catch{return null}})();if(!i)return!1;let n=Array.isArray(t)?t:[];for(let s of n){if(!s)continue;let y=s.name||\"upload.bin\",u=s.mimeType||\"application/octet-stream\",a=typeof s.lastModified==\"number\"?s.lastModified:Date.now(),l=window.atob(s.base64??\"\"),c=new Uint8Array(l.length);for(let r=0;r<l.length;r+=1)c[r]=l.charCodeAt(r);let f=new Blob([c],{type:u}),h=new File([f],y,{type:u,lastModified:a});i.items.add(h)}return e.files=i.files,e.dispatchEvent(new Event(\"input\",{bubbles:!0})),e.dispatchEvent(new Event(\"change\",{bubbles:!0})),!0}catch{return!1}}',\n      \"countCssMatchesPierce\": 'function K(t){let e=String(t??\"\").trim();if(!e)return 0;let i=window.__stagehandV3__;if(!i||typeof i.getClosedRoot!=\"function\")try{return document.querySelectorAll(e).length}catch{return 0}let n=new WeakSet,s=[],y=l=>{!l||n.has(l)||(n.add(l),s.push(l))};y(document);let u=0,a=l=>{let c=l.shadowRoot;c&&y(c);try{let f=i.getClosedRoot(l);f&&y(f)}catch{}};for(;s.length;){let l=s.shift();if(l){try{let c=l;typeof c.querySelectorAll==\"function\"&&(u+=c.querySelectorAll(e).length)}catch{}try{let f=(l instanceof Document?l:l instanceof ShadowRoot?l.host?.ownerDocument??document:l.ownerDocument??document).createTreeWalker(l,NodeFilter.SHOW_ELEMENT),h;for(;h=f.nextNode();)h instanceof Element&&a(h)}catch{}}}return u}',\n      \"countCssMatchesPrimary\": 'function j(t){let e=String(t??\"\").trim();if(!e)return 0;let i=new WeakSet,n=s=>{if(!s||i.has(s))return 0;i.add(s);let y=0;try{let u=s;typeof u.querySelectorAll==\"function\"&&(y+=u.querySelectorAll(e).length)}catch{}try{let a=(s instanceof Document?s:s?.ownerDocument??document).createTreeWalker(s,NodeFilter.SHOW_ELEMENT),l;for(;l=a.nextNode();)l instanceof Element&&l.shadowRoot&&(y+=n(l.shadowRoot))}catch{}return y};try{return n(document)}catch{try{return document.querySelectorAll(e).length}catch{return 0}}}',\n      \"countTextMatches\": 'function G(t){let e=String(t??\"\");if(!e)return{count:0,sample:[],error:null};let i=e.toLowerCase(),n=new Set([\"SCRIPT\",\"STYLE\",\"TEMPLATE\",\"NOSCRIPT\",\"HEAD\",\"TITLE\",\"LINK\",\"META\",\"HTML\",\"BODY\"]),s=m=>{if(!m)return!1;let o=m.tagName?.toUpperCase()??\"\";return n.has(o)},y=m=>{try{if(s(m))return\"\";let o=m.innerText;if(typeof o==\"string\"&&o.trim())return o.trim()}catch{}try{let o=m.textContent;if(typeof o==\"string\")return o.trim()}catch{}return\"\"},u=m=>{let o=y(m);return!!o&&o.toLowerCase().includes(i)},a=window.__stagehandV3__,l=a&&typeof a.getClosedRoot==\"function\"?m=>{try{return a.getClosedRoot(m)??null}catch{return null}}:m=>null,c=new WeakSet,f=[],h=m=>{!m||c.has(m)||(c.add(m),f.push(m))},r=m=>{try{return(m instanceof Document?m:m?.ownerDocument??document).createTreeWalker(m,NodeFilter.SHOW_ELEMENT)}catch{return null}},d=[];for(h(document);f.length;){let m=f.shift();if(!m)continue;m instanceof Element&&u(m)&&d.push({element:m,tag:m.tagName??\"\",id:m.id??\"\",className:m.className??\"\",text:y(m)});let o=r(m);if(!o)continue;let p;for(;p=o.nextNode();){if(!(p instanceof Element))continue;u(p)&&d.push({element:p,tag:p.tagName??\"\",id:p.id??\"\",className:p.className??\"\",text:y(p)});let x=p.shadowRoot;x&&h(x);let b=l(p);b&&h(b)}}let g=[];for(let m of d){let o=m.element,p=!1;for(let x of d)if(m!==x)try{if(o.contains(x.element)){p=!0;break}}catch{}p||g.push(m)}let w=g.length,E=g.slice(0,5).map(m=>({tag:m.tag,id:m.id,class:m.className,text:m.text}));return{count:w,sample:E,error:null}}',\n      \"countXPathMatchesMainWorld\": 'function J(t){let e=String(t??\"\").trim();if(!e)return 0;let n=(c=>{let f=String(c||\"\").trim().replace(/^xpath=/i,\"\");if(!f)return[];let h=[],r=0;for(;r<f.length;){let d=\"child\";f.startsWith(\"//\",r)?(d=\"desc\",r+=2):f[r]===\"/\"&&(d=\"child\",r+=1);let g=r;for(;r<f.length&&f[r]!==\"/\";)r+=1;let w=f.slice(g,r).trim();if(!w)continue;let E=w.match(/^(.*?)(\\\\[(\\\\d+)\\\\])?$/u),m=(E?.[1]??w).trim(),o=E?.[3]?Math.max(1,Number(E[3])):null,p=m===\"\"?\"*\":m.toLowerCase();h.push({axis:d,tag:p,index:o})}return h})(e);if(!n.length)return 0;let s=window.__stagehandV3__,y=s&&typeof s.getClosedRoot==\"function\"?c=>{try{return s.getClosedRoot(c)??null}catch{return null}}:c=>null,u=c=>{let f=[];if(!c)return f;if(c instanceof Document)return c.documentElement&&f.push(c.documentElement),f;if(c instanceof ShadowRoot||c instanceof DocumentFragment)return f.push(...Array.from(c.children??[])),f;if(c instanceof Element){f.push(...Array.from(c.children??[]));let h=c.shadowRoot;h&&f.push(...Array.from(h.children??[]));let r=y(c);return r&&f.push(...Array.from(r.children??[])),f}return f},a=c=>{let f=[],h=new Set,r=[...u(c)];for(;r.length;){let d=r.shift();!d||h.has(d)||(h.add(d),f.push(d),r.push(...u(d)))}return f},l=[document];for(let c of n){let f=[],h=new Set;for(let r of l){if(!r)continue;let d=c.axis===\"child\"?u(r):a(r);if(!d.length)continue;let g=d.filter(w=>w instanceof Element?c.tag===\"*\"?!0:w.localName===c.tag:!1);if(c.index!=null){let w=c.index-1,E=w>=0&&w<g.length?g[w]:null;E&&!h.has(E)&&(h.add(E),f.push(E))}else for(let w of g)h.has(w)||(h.add(w),f.push(w))}if(!f.length)return 0;l=f}return l.length}',\n      \"dispatchDomClick\": 'function H(t){let e=t??{};try{let i=new MouseEvent(\"click\",{bubbles:!!e.bubbles,cancelable:!!e.cancelable,composed:!!e.composed,detail:typeof e.detail==\"number\"?e.detail:1,view:this?.ownerDocument?.defaultView??window});this.dispatchEvent(i)}catch{try{this.click()}catch{}}}',\n      \"ensureFileInputElement\": 'function R(){try{return(this.tagName?.toLowerCase()??\"\")!==\"input\"?!1:String(this.type??\"\").toLowerCase()===\"file\"}catch{return!1}}',\n      \"fillElementValue\": 'function A(t){let e=this;if(!e.isConnected)return{status:\"error\",reason:\"notconnected\"};let n=(e.ownerDocument||document).defaultView||window,s=t??\"\";try{let y=u=>{let a;if(typeof n.InputEvent==\"function\")try{a=new n.InputEvent(\"input\",{bubbles:!0,composed:!0,data:u,inputType:\"insertText\"})}catch{a=new n.Event(\"input\",{bubbles:!0,composed:!0})}else a=new n.Event(\"input\",{bubbles:!0,composed:!0});e.dispatchEvent(a);let l=new n.Event(\"change\",{bubbles:!0});e.dispatchEvent(l)};if(e instanceof n.HTMLInputElement){let u=(e.type||\"\").toLowerCase();if(!C.has(u)&&!L.has(u))return{status:\"error\",reason:`unsupported-input-type:${u}`};let a=t;if(u===\"number\"){let l=t.trim();if(l!==\"\"&&Number.isNaN(Number(l)))return{status:\"error\",reason:\"invalid-number-value\"};a=l}if(s=a,L.has(u)){let l=t.trim();s=l,S.call(e);let c=n.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,\"value\")?.set;return typeof h==\"function\"?h.call(e,l):e.value=l,e._valueTracker?.setValue?.(l),e.value!==l?{status:\"error\",reason:\"malformed-value\"}:(y(l),{status:\"done\"})}return S.call(e),{status:\"needsinput\",value:a}}return e instanceof n.HTMLTextAreaElement?(S.call(e),s=t,{status:\"needsinput\",value:t}):e instanceof n.HTMLSelectElement?{status:\"error\",reason:\"unsupported-element\"}:e.isContentEditable?(S.call(e),s=t,{status:\"needsinput\",value:t}):{status:\"error\",reason:\"unsupported-element\"}}catch(y){let u=\"exception\";if(y&&typeof y==\"object\"){let a=y.message;typeof a==\"string\"&&a.trim().length>0&&(u=`exception:${a}`)}return{status:\"needsinput\",value:s,reason:u}}}',\n      \"focusElement\": 'function _(){try{typeof this.focus==\"function\"&&this.focus()}catch{}}',\n      \"isElementChecked\": 'function W(){try{let t=this;if((t.tagName||\"\").toLowerCase()===\"input\"){let n=t.type?.toLowerCase()??\"\";if(n===\"checkbox\"||n===\"radio\")return!!t.checked}let i=t.getAttribute?.(\"aria-checked\");return i!=null?i===\"true\":!1}catch{return!1}}',\n      \"isElementVisible\": 'function F(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument?.defaultView?.getComputedStyle(t)??window.getComputedStyle(t);if(!e||e.display===\"none\"||e.visibility===\"hidden\")return!1;let i=parseFloat(e.opacity??\"1\");if(!Number.isFinite(i)||i===0)return!1;let n=t.getBoundingClientRect();return!(!n||Math.max(n.width,n.height)===0||t.getClientRects().length===0)}catch{return!1}}',\n      \"prepareElementForTyping\": 'function S(){try{let t=this;if(!t.isConnected)return!1;let e=t.ownerDocument||document,i=e.defaultView||window;try{typeof t.focus==\"function\"&&t.focus()}catch{}if(t instanceof i.HTMLInputElement||t instanceof i.HTMLTextAreaElement){try{if(typeof t.select==\"function\")return t.select(),!0}catch{}try{let n=(t.value??\"\").length;if(typeof t.setSelectionRange==\"function\")return t.setSelectionRange(0,n),!0}catch{}return!0}if(t.isContentEditable){let n=e.getSelection?.(),s=e.createRange?.();if(n&&s)try{s.selectNodeContents(t),n.removeAllRanges(),n.addRange(s)}catch{}return!0}return!1}catch{return!1}}',\n      \"readElementInnerHTML\": 'function O(){try{return String(this.innerHTML??\"\")}catch{return\"\"}}',\n      \"readElementInnerText\": 'function V(){try{let t=this,e=t.innerText;if(typeof e==\"string\"&&e.length>0)return e;let i=t.textContent;return typeof i==\"string\"?i:\"\"}catch{return\"\"}}',\n      \"readElementInputValue\": 'function q(){try{let t=this,e=(t.tagName||\"\").toLowerCase();return e===\"input\"||e===\"textarea\"||e===\"select\"?String(t.value??\"\"):t.isContentEditable?String(t.textContent??\"\"):\"\"}catch{return\"\"}}',\n      \"readElementTextContent\": 'function P(){try{return String(this.textContent??\"\")}catch{return\"\"}}',\n      \"resolveCssSelector\": 'function Y(t,e){let i=String(t??\"\").trim();if(!i)return null;let n=N(e);return v(i,n+1)[n]??null}',\n      \"resolveCssSelectorPierce\": 'function B(t,e){let i=String(t??\"\").trim();if(!i)return null;let n=N(e),s=window.__stagehandV3__;if(!s||typeof s.getClosedRoot!=\"function\")return v(i,n+1)[n]??null;let y=h=>{try{return s.getClosedRoot(h)??null}catch{return null}},u=new WeakSet,a=new Set,l=[],c=[document],f=h=>{if(!(!h||u.has(h)||l.length>=n+1)){u.add(h);try{let r=h.querySelectorAll(i);for(let d of r)if(!a.has(d)&&(a.add(d),l.push(d),l.length>=n+1))return}catch{}try{let d=(h instanceof Document?h:h.host?.ownerDocument??document).createTreeWalker(h,NodeFilter.SHOW_ELEMENT),g;for(;g=d.nextNode();){if(!(g instanceof Element))continue;let w=g.shadowRoot;w&&c.push(w);let E=y(g);E&&c.push(E)}}catch{}}};for(;c.length&&l.length<n+1;){let h=c.shift();h&&f(h)}return l[n]??null}',\n      \"resolveTextSelector\": 'function $(t,e){let i=String(t??\"\");if(!i)return null;let n=i.toLowerCase(),s=N(e),y=new Set([\"SCRIPT\",\"STYLE\",\"TEMPLATE\",\"NOSCRIPT\",\"HEAD\",\"TITLE\",\"LINK\",\"META\",\"HTML\",\"BODY\"]),u=o=>{if(!o)return!1;let p=o.tagName?.toUpperCase()??\"\";return y.has(p)},a=o=>{try{if(u(o))return\"\";let p=o.innerText;if(typeof p==\"string\"&&p.trim())return p.trim()}catch{}try{let p=o.textContent;if(typeof p==\"string\")return p.trim()}catch{}return\"\"},l=o=>{let p=a(o);return!!p&&p.toLowerCase().includes(n)},c=window.__stagehandV3__,f=c&&typeof c.getClosedRoot==\"function\"?o=>{try{return c.getClosedRoot(o)??null}catch{return null}}:o=>null,h=new WeakSet,r=[],d=[],g=o=>{!o||h.has(o)||(h.add(o),r.push(o))},w=o=>{try{return(o instanceof Document?o:o?.ownerDocument??document).createTreeWalker(o,NodeFilter.SHOW_ELEMENT)}catch{return null}};for(g(document);r.length;){let o=r.shift();if(!o)continue;o instanceof Element&&l(o)&&d.push({element:o,tag:o.tagName??\"\",id:o.id??\"\",className:o.className??\"\",text:a(o)});let p=w(o);if(!p)continue;let x;for(;x=p.nextNode();){if(!(x instanceof Element))continue;l(x)&&d.push({element:x,tag:x.tagName??\"\",id:x.id??\"\",className:x.className??\"\",text:a(x)});let b=x.shadowRoot;b&&g(b);let T=f(x);T&&g(T)}}let E=[];for(let o of d){let p=o.element,x=!1;for(let b of d)if(o!==b)try{if(p.contains(b.element)){x=!0;break}}catch{}x||E.push(o)}return E[s]?.element??null}',\n      \"resolveXPathMainWorld\": 'function z(t,e){let i=String(t??\"\").trim();if(!i)return null;let n=N(e),s=window.__stagehandV3__;if(n===0){try{if(s&&typeof s.resolveSimpleXPath==\"function\"){let r=s.resolveSimpleXPath(i);if(r)return r}}catch{}try{return document.evaluate(i,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch{}}let u=(r=>{let d=String(r||\"\").trim();if(!d)return[];let g=d.replace(/^xpath=/i,\"\"),w=[],E=0;for(;E<g.length;){let m=\"child\";g.startsWith(\"//\",E)?(m=\"desc\",E+=2):g[E]===\"/\"&&(m=\"child\",E+=1);let o=E;for(;E<g.length&&g[E]!==\"/\";)E+=1;let p=g.slice(o,E).trim();if(!p)continue;let x=p.match(/^(.*?)(\\\\[(\\\\d+)\\\\])?$/u),b=(x?.[1]??p).trim(),T=x?.[3]?Math.max(1,Number(x[3])):null,M=b===\"\"?\"*\":b.toLowerCase();w.push({axis:m,tag:M,index:T})}return w})(i);if(!u.length)return null;let a=s&&typeof s.getClosedRoot==\"function\"?r=>{try{return s.getClosedRoot(r)??null}catch{return null}}:r=>null,l=r=>{let d=[];if(!r)return d;if(r instanceof Document)return r.documentElement&&d.push(r.documentElement),d;if(r instanceof ShadowRoot||r instanceof DocumentFragment)return d.push(...Array.from(r.children??[])),d;if(r instanceof Element){d.push(...Array.from(r.children??[]));let g=r.shadowRoot;g&&d.push(...Array.from(g.children??[]));let w=a(r);return w&&d.push(...Array.from(w.children??[])),d}return d},c=r=>{let d=[],g=new Set,w=[...l(r)];for(;w.length;){let E=w.shift();!E||g.has(E)||(g.add(E),d.push(E),w.push(...l(E)))}return d},f=[document];for(let r of u){let d=[],g=new Set;for(let w of f){if(!w)continue;let E=r.axis===\"child\"?l(w):c(w);if(!E.length)continue;let m=E.filter(o=>o instanceof Element?r.tag===\"*\"?!0:o.localName===r.tag:!1);if(r.index!=null){let o=r.index-1,p=o>=0&&o<m.length?m[o]:null;p&&!g.has(p)&&(g.add(p),d.push(p))}else for(let o of m)g.has(o)||(g.add(o),d.push(o))}if(!d.length)return null;f=d}return f[n]??null}',\n      \"scrollElementToPercent\": 'function D(t){let e=i=>{if(typeof i==\"number\"&&Number.isFinite(i))return i;let n=String(i??\"\").trim();if(!n)return 0;let s=parseFloat(n.replace(\"%\",\"\"));return Number.isNaN(s)||!Number.isFinite(s)?0:s};try{let i=Math.max(0,Math.min(e(t),100)),n=this,s=n.tagName?.toLowerCase()??\"\";if(s===\"html\"||s===\"body\"){let h=(n.ownerDocument?.scrollingElement||n.ownerDocument?.documentElement||n.ownerDocument?.body||document.scrollingElement||document.documentElement||document.body)?.scrollHeight??document.body.scrollHeight??0,r=n.ownerDocument?.defaultView?.innerHeight??window.innerHeight,g=Math.max(0,h-r)*(i/100);return n.ownerDocument?.defaultView?.scrollTo({top:g,left:n.ownerDocument?.defaultView?.scrollX??window.scrollX??0,behavior:\"smooth\"}),!0}let u=n.scrollHeight??0,a=n.clientHeight??0,c=Math.max(0,u-a)*(i/100);return n.scrollTo({top:c,left:n.scrollLeft??0,behavior:\"smooth\"}),!0}catch{return!1}}',\n      \"selectElementOptions\": 'function I(t){try{if(!(this instanceof HTMLSelectElement))return[];let e=Array.isArray(t)?t:[t],i=new Set(e.map(u=>String(u??\"\").trim())),n=u=>{let a=(u.label||u.textContent||\"\").trim(),l=String(u.value??\"\").trim();return i.has(a)||i.has(l)};if(this.multiple)for(let u of Array.from(this.options))u.selected=n(u);else{let u=!1;for(let a of Array.from(this.options))!u&&n(a)?(a.selected=!0,this.value=a.value,u=!0):a.selected=!1}let s=new Event(\"input\",{bubbles:!0}),y=new Event(\"change\",{bubbles:!0});return this.dispatchEvent(s),this.dispatchEvent(y),Array.from(this.selectedOptions).map(u=>u.value)}catch{return[]}}'\n    };\n    locatorScriptGlobalRefs = {\n      \"assignFilePayloadsToInputElement\": \"globalThis.__stagehandLocatorScripts.assignFilePayloadsToInputElement\",\n      \"countCssMatchesPierce\": \"globalThis.__stagehandLocatorScripts.countCssMatchesPierce\",\n      \"countCssMatchesPrimary\": \"globalThis.__stagehandLocatorScripts.countCssMatchesPrimary\",\n      \"countTextMatches\": \"globalThis.__stagehandLocatorScripts.countTextMatches\",\n      \"countXPathMatchesMainWorld\": \"globalThis.__stagehandLocatorScripts.countXPathMatchesMainWorld\",\n      \"dispatchDomClick\": \"globalThis.__stagehandLocatorScripts.dispatchDomClick\",\n      \"ensureFileInputElement\": \"globalThis.__stagehandLocatorScripts.ensureFileInputElement\",\n      \"fillElementValue\": \"globalThis.__stagehandLocatorScripts.fillElementValue\",\n      \"focusElement\": \"globalThis.__stagehandLocatorScripts.focusElement\",\n      \"isElementChecked\": \"globalThis.__stagehandLocatorScripts.isElementChecked\",\n      \"isElementVisible\": \"globalThis.__stagehandLocatorScripts.isElementVisible\",\n      \"prepareElementForTyping\": \"globalThis.__stagehandLocatorScripts.prepareElementForTyping\",\n      \"readElementInnerHTML\": \"globalThis.__stagehandLocatorScripts.readElementInnerHTML\",\n      \"readElementInnerText\": \"globalThis.__stagehandLocatorScripts.readElementInnerText\",\n      \"readElementInputValue\": \"globalThis.__stagehandLocatorScripts.readElementInputValue\",\n      \"readElementTextContent\": \"globalThis.__stagehandLocatorScripts.readElementTextContent\",\n      \"resolveCssSelector\": \"globalThis.__stagehandLocatorScripts.resolveCssSelector\",\n      \"resolveCssSelectorPierce\": \"globalThis.__stagehandLocatorScripts.resolveCssSelectorPierce\",\n      \"resolveTextSelector\": \"globalThis.__stagehandLocatorScripts.resolveTextSelector\",\n      \"resolveXPathMainWorld\": \"globalThis.__stagehandLocatorScripts.resolveXPathMainWorld\",\n      \"scrollElementToPercent\": \"globalThis.__stagehandLocatorScripts.scrollElementToPercent\",\n      \"selectElementOptions\": \"globalThis.__stagehandLocatorScripts.selectElementOptions\"\n    };\n  }\n});\n\n// lib/v3/understudy/selectorResolver.ts\nvar FrameSelectorResolver;\nvar init_selectorResolver = __esm({\n  \"lib/v3/understudy/selectorResolver.ts\"() {\n    init_locatorScripts_generated();\n    init_logger();\n    init_executionContextRegistry();\n    FrameSelectorResolver = class {\n      constructor(frame) {\n        this.frame = frame;\n      }\n      static parseSelector(raw) {\n        const trimmed = raw.trim();\n        const isText = /^text=/i.test(trimmed);\n        const looksLikeXPath = /^xpath=/i.test(trimmed) || trimmed.startsWith(\"/\") || trimmed.startsWith(\"(\");\n        const isCssPrefixed = /^css=/i.test(trimmed);\n        if (isText) {\n          let value = trimmed.replace(/^text=/i, \"\").trim();\n          if (value.startsWith('\"') && value.endsWith('\"') || value.startsWith(\"'\") && value.endsWith(\"'\")) {\n            value = value.slice(1, -1);\n          }\n          return { kind: \"text\", value };\n        }\n        if (looksLikeXPath) {\n          const value = trimmed.replace(/^xpath=/i, \"\");\n          return { kind: \"xpath\", value };\n        }\n        let selector = isCssPrefixed ? trimmed.replace(/^css=/i, \"\") : trimmed;\n        if (selector.includes(\">>\")) {\n          selector = selector.split(\">>\").map((piece) => piece.trim()).filter(Boolean).join(\" \");\n        }\n        return { kind: \"css\", value: selector };\n      }\n      resolveFirst(query) {\n        return __async(this, null, function* () {\n          return this.resolveAtIndex(query, 0);\n        });\n      }\n      resolveAll(_0) {\n        return __async(this, arguments, function* (query, { limit = Infinity } = {}) {\n          if (limit <= 0) return [];\n          switch (query.kind) {\n            case \"css\":\n              return this.resolveCss(query.value, limit);\n            case \"text\":\n              return this.resolveText(query.value, limit);\n            case \"xpath\":\n              return this.resolveXPath(query.value, limit);\n            default:\n              return [];\n          }\n        });\n      }\n      count(query) {\n        return __async(this, null, function* () {\n          switch (query.kind) {\n            case \"css\":\n              return this.countCss(query.value);\n            case \"text\":\n              return this.countText(query.value);\n            case \"xpath\":\n              return this.countXPath(query.value);\n            default:\n              return 0;\n          }\n        });\n      }\n      resolveAtIndex(query, index) {\n        return __async(this, null, function* () {\n          var _a;\n          if (index < 0 || !Number.isFinite(index)) return null;\n          const results = yield this.resolveAll(query, { limit: index + 1 });\n          return (_a = results[index]) != null ? _a : null;\n        });\n      }\n      buildLocatorInvocation(name, args) {\n        const call = `${locatorScriptGlobalRefs[name]}(${args.join(\", \")})`;\n        return `(() => { ${locatorScriptBootstrap}; return ${call}; })()`;\n      }\n      resolveCss(selector, limit) {\n        return __async(this, null, function* () {\n          if (limit <= 0) return [];\n          const session = this.frame.session;\n          const { executionContextId } = yield session.send(\"Page.createIsolatedWorld\", {\n            frameId: this.frame.frameId,\n            worldName: \"v3-world\"\n          });\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          const results = [];\n          let loggedFallback = false;\n          for (let index = 0; index < limit; index += 1) {\n            const primaryExpr = this.buildLocatorInvocation(\"resolveCssSelector\", [\n              JSON.stringify(selector),\n              String(index)\n            ]);\n            const primary = yield this.evaluateElement(\n              primaryExpr,\n              executionContextId\n            );\n            if (primary) {\n              results.push(primary);\n              continue;\n            }\n            if (!loggedFallback) {\n              v3Logger({\n                category: \"locator\",\n                message: \"css pierce-fallback\",\n                level: 2,\n                auxiliary: {\n                  frameId: { value: String(this.frame.frameId), type: \"string\" },\n                  selector: { value: selector, type: \"string\" }\n                }\n              });\n              loggedFallback = true;\n            }\n            const fallbackExpr = this.buildLocatorInvocation(\n              \"resolveCssSelectorPierce\",\n              [JSON.stringify(selector), String(index)]\n            );\n            const fallback = yield this.evaluateElement(fallbackExpr, ctxId);\n            if (fallback) {\n              results.push(fallback);\n              continue;\n            }\n            break;\n          }\n          return results;\n        });\n      }\n      resolveText(value, limit) {\n        return __async(this, null, function* () {\n          if (limit <= 0) return [];\n          const session = this.frame.session;\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          const results = [];\n          for (let index = 0; index < limit; index += 1) {\n            const expr = this.buildLocatorInvocation(\"resolveTextSelector\", [\n              JSON.stringify(value),\n              String(index)\n            ]);\n            const resolved = yield this.evaluateElement(expr, ctxId);\n            if (!resolved) break;\n            results.push(resolved);\n          }\n          return results;\n        });\n      }\n      resolveXPath(value, limit) {\n        return __async(this, null, function* () {\n          if (limit <= 0) return [];\n          const session = this.frame.session;\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          v3Logger({\n            category: \"locator\",\n            message: \"xpath main-world\",\n            level: 2,\n            auxiliary: {\n              frameId: { value: String(this.frame.frameId), type: \"string\" },\n              xp: { value, type: \"string\" },\n              ctxId: { value: String(ctxId), type: \"string\" }\n            }\n          });\n          const results = [];\n          for (let index = 0; index < limit; index += 1) {\n            const expr = this.buildLocatorInvocation(\"resolveXPathMainWorld\", [\n              JSON.stringify(value),\n              String(index)\n            ]);\n            const resolved = yield this.evaluateElement(expr, ctxId);\n            if (!resolved) break;\n            results.push(resolved);\n          }\n          return results;\n        });\n      }\n      countCss(selector) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { executionContextId } = yield session.send(\"Page.createIsolatedWorld\", {\n            frameId: this.frame.frameId,\n            worldName: \"v3-world\"\n          });\n          const primaryExpr = this.buildLocatorInvocation(\"countCssMatchesPrimary\", [\n            JSON.stringify(selector)\n          ]);\n          const primary = yield this.evaluateCount(primaryExpr, executionContextId);\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          const fallbackExpr = this.buildLocatorInvocation(\"countCssMatchesPierce\", [\n            JSON.stringify(selector)\n          ]);\n          const fallback = yield this.evaluateCount(fallbackExpr, ctxId);\n          return Math.max(primary, fallback);\n        });\n      }\n      countText(value) {\n        return __async(this, null, function* () {\n          var _a, _b, _c, _d, _e, _f;\n          const session = this.frame.session;\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          const expr = this.buildLocatorInvocation(\"countTextMatches\", [\n            JSON.stringify(value)\n          ]);\n          try {\n            const evalRes = yield session.send(\n              \"Runtime.evaluate\",\n              {\n                expression: expr,\n                contextId: ctxId,\n                returnByValue: true,\n                awaitPromise: true\n              }\n            );\n            if (evalRes.exceptionDetails) {\n              const details = evalRes.exceptionDetails;\n              v3Logger({\n                category: \"locator\",\n                message: \"count text evaluate exception\",\n                level: 0,\n                auxiliary: {\n                  frameId: { value: String(this.frame.frameId), type: \"string\" },\n                  selector: { value, type: \"string\" },\n                  exception: {\n                    value: (_e = details.text) != null ? _e : String(\n                      (_d = (_c = (_a = details.exception) == null ? void 0 : _a.description) != null ? _c : (_b = details.exception) == null ? void 0 : _b.value) != null ? _d : \"\"\n                    ),\n                    type: \"string\"\n                  }\n                }\n              });\n              return 0;\n            }\n            const data = (_f = evalRes.result.value) != null ? _f : {};\n            const num = typeof data.count === \"number\" ? data.count : Number(data.count);\n            if (!Number.isFinite(num)) return 0;\n            return Math.max(0, Math.floor(num));\n          } catch (e) {\n            return 0;\n          }\n        });\n      }\n      countXPath(value) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const ctxId = yield executionContexts.waitForMainWorld(\n            session,\n            this.frame.frameId,\n            1e3\n          );\n          const expr = this.buildLocatorInvocation(\"countXPathMatchesMainWorld\", [\n            JSON.stringify(value)\n          ]);\n          try {\n            const evalRes = yield session.send(\n              \"Runtime.evaluate\",\n              {\n                expression: expr,\n                contextId: ctxId,\n                returnByValue: true,\n                awaitPromise: true\n              }\n            );\n            if (evalRes.exceptionDetails) {\n              return 0;\n            }\n            const num = typeof evalRes.result.value === \"number\" ? evalRes.result.value : Number(evalRes.result.value);\n            if (!Number.isFinite(num)) return 0;\n            return Math.max(0, Math.floor(num));\n          } catch (e) {\n            return 0;\n          }\n        });\n      }\n      resolveFromObjectId(objectId) {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          let nodeId = null;\n          try {\n            const rn = yield session.send(\n              \"DOM.requestNode\",\n              { objectId }\n            );\n            nodeId = (_a = rn.nodeId) != null ? _a : null;\n          } catch (e) {\n            nodeId = null;\n          }\n          return { objectId, nodeId };\n        });\n      }\n      evaluateCount(expression, contextId) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          try {\n            const evalRes = yield session.send(\n              \"Runtime.evaluate\",\n              {\n                expression,\n                contextId,\n                returnByValue: true,\n                awaitPromise: true\n              }\n            );\n            if (evalRes.exceptionDetails) {\n              return 0;\n            }\n            const value = evalRes.result.value;\n            const num = typeof value === \"number\" ? value : Number(value);\n            if (!Number.isFinite(num)) return 0;\n            return Math.max(0, Math.floor(num));\n          } catch (e) {\n            return 0;\n          }\n        });\n      }\n      evaluateElement(expression, contextId) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          try {\n            const evalRes = yield session.send(\n              \"Runtime.evaluate\",\n              {\n                expression,\n                contextId,\n                returnByValue: false,\n                awaitPromise: true\n              }\n            );\n            if (evalRes.exceptionDetails || !evalRes.result.objectId) {\n              return null;\n            }\n            return this.resolveFromObjectId(evalRes.result.objectId);\n          } catch (e) {\n            return null;\n          }\n        });\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/fileUploadUtils.ts\nfunction normalizeInputFiles(_0) {\n  return __async(this, arguments, function* (files, opts = {}) {\n    var _a;\n    if (files === null || files === void 0) return [];\n    const flattened = Array.isArray(files) ? files : [files];\n    if (!flattened.length) return [];\n    const baseDir = (_a = opts.baseDir) != null ? _a : process.cwd();\n    const normalized = [];\n    for (const entry of flattened) {\n      if (typeof entry === \"string\") {\n        const absolutePath = import_path3.default.isAbsolute(entry) ? entry : import_path3.default.resolve(baseDir, entry);\n        const stat = yield statFile(absolutePath);\n        if (!stat.isFile()) {\n          throw new StagehandInvalidArgumentError(\n            `setInputFiles(): expected a file but received directory or special entry at ${absolutePath}`\n          );\n        }\n        const buffer = yield import_fs3.promises.readFile(absolutePath);\n        normalized.push({\n          name: import_path3.default.basename(absolutePath) || \"upload.bin\",\n          mimeType: DEFAULT_MIME_TYPE,\n          buffer,\n          lastModified: stat.mtimeMs || Date.now(),\n          absolutePath\n        });\n        continue;\n      }\n      if (entry && typeof entry === \"object\" && \"buffer\" in entry) {\n        const payload = entry;\n        const buffer = toBuffer(payload.buffer);\n        normalized.push({\n          name: payload.name || \"upload.bin\",\n          mimeType: payload.mimeType || DEFAULT_MIME_TYPE,\n          buffer,\n          lastModified: typeof payload.lastModified === \"number\" ? payload.lastModified : Date.now()\n        });\n        continue;\n      }\n      throw new StagehandInvalidArgumentError(\n        \"setInputFiles(): expected file path(s) or payload object(s)\"\n      );\n    }\n    return normalized;\n  });\n}\nfunction statFile(absolutePath) {\n  return __async(this, null, function* () {\n    try {\n      return yield import_fs3.promises.stat(absolutePath);\n    } catch (error) {\n      const code = error == null ? void 0 : error.code;\n      if (code === \"ENOENT\") {\n        throw new StagehandInvalidArgumentError(\n          `setInputFiles(): file not found at ${absolutePath}`\n        );\n      }\n      throw error;\n    }\n  });\n}\nfunction toBuffer(data) {\n  if (import_buffer.Buffer.isBuffer(data)) return data;\n  if (data instanceof Uint8Array) return import_buffer.Buffer.from(data);\n  if (typeof data === \"string\") return import_buffer.Buffer.from(data);\n  if (data instanceof ArrayBuffer) return import_buffer.Buffer.from(new Uint8Array(data));\n  throw new StagehandInvalidArgumentError(\n    \"Unsupported file payload buffer type\"\n  );\n}\nvar import_fs3, import_path3, import_buffer, DEFAULT_MIME_TYPE;\nvar init_fileUploadUtils = __esm({\n  \"lib/v3/understudy/fileUploadUtils.ts\"() {\n    import_fs3 = require(\"fs\");\n    import_path3 = __toESM(require(\"path\"));\n    import_buffer = require(\"buffer\");\n    init_sdkErrors();\n    DEFAULT_MIME_TYPE = \"application/octet-stream\";\n  }\n});\n\n// lib/v3/understudy/locator.ts\nvar fs4, os, path4, MAX_REMOTE_UPLOAD_BYTES, Locator;\nvar init_locator = __esm({\n  \"lib/v3/understudy/locator.ts\"() {\n    fs4 = __toESM(require(\"fs\"));\n    os = __toESM(require(\"os\"));\n    path4 = __toESM(require(\"path\"));\n    init_locatorScripts_generated();\n    init_selectorResolver();\n    init_sdkErrors();\n    init_fileUploadUtils();\n    MAX_REMOTE_UPLOAD_BYTES = 50 * 1024 * 1024;\n    Locator = class _Locator {\n      constructor(frame, selector, options, nthIndex = 0) {\n        this.frame = frame;\n        this.selector = selector;\n        this.options = options;\n        this.selectorResolver = new FrameSelectorResolver(this.frame);\n        this.selectorQuery = FrameSelectorResolver.parseSelector(selector);\n        this.nthIndex = Math.max(\n          0,\n          Math.floor(Number.isFinite(nthIndex) ? nthIndex : 0)\n        );\n      }\n      /** Return the owning Frame for this locator (typed accessor, no private access). */\n      getFrame() {\n        return this.frame;\n      }\n      /**\n       * Set files on an <input type=\"file\"> element.\n       *\n       * Mirrors Playwright's Locator.setInputFiles basics:\n       * - Accepts file path(s) or payload object(s) { name, mimeType, buffer }.\n       * - Uses CDP DOM.setFileInputFiles under the hood.\n       * - Besteffort dispatches change/input via CDP (Chrome does by default).\n       * - Passing an empty array clears the selection.\n       */\n      setInputFiles(files) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          const tempFiles = [];\n          try {\n            try {\n              const res = yield session.send(\n                \"Runtime.callFunctionOn\",\n                {\n                  objectId,\n                  functionDeclaration: locatorScriptSources.ensureFileInputElement,\n                  returnByValue: true\n                }\n              );\n              const ok = Boolean(res.result.value);\n              if (!ok)\n                throw new StagehandInvalidArgumentError(\n                  'Target is not an <input type=\"file\"> element'\n                );\n            } catch (e) {\n              throw new StagehandInvalidArgumentError(\n                e instanceof Error ? e.message : \"Unable to verify file input element\"\n              );\n            }\n            const normalized = yield normalizeInputFiles(files);\n            if (!normalized.length) {\n              yield session.send(\"DOM.setFileInputFiles\", {\n                objectId,\n                files: []\n              });\n              return;\n            }\n            if (this.frame.isBrowserRemote()) {\n              yield this.assignFilesViaPayloadInjection(objectId, normalized);\n              return;\n            }\n            const filePaths = [];\n            for (const payload of normalized) {\n              if (payload.absolutePath) {\n                filePaths.push(payload.absolutePath);\n                continue;\n              }\n              const ext = path4.extname(payload.name);\n              const tmp = path4.join(\n                os.tmpdir(),\n                `stagehand-upload-${Date.now()}-${Math.random().toString(36).slice(2)}${ext}`\n              );\n              yield fs4.promises.writeFile(tmp, payload.buffer);\n              tempFiles.push(tmp);\n              filePaths.push(tmp);\n            }\n            yield session.send(\"DOM.setFileInputFiles\", {\n              objectId,\n              files: filePaths\n            });\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n            for (const p of tempFiles) {\n              try {\n                yield fs4.promises.unlink(p);\n              } catch (e) {\n              }\n            }\n          }\n        });\n      }\n      /**\n       * Remote browser fallback: build File objects inside the page and attach them via JS.\n       *\n       * When Stagehand is driving a browser that cannot see the local filesystem (Browserbase,\n       * remote CDP, etc.), CDP's DOM.setFileInputFiles would fail because Chrome can't reach\n       * our temp files. Instead we base64-encode the payloads, send them into the page, and\n       * let a DOM helper create File objects + dispatch change/input events.\n       */\n      assignFilesViaPayloadInjection(objectId, files) {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          for (const payload of files) {\n            if (payload.buffer.length > MAX_REMOTE_UPLOAD_BYTES) {\n              throw new StagehandInvalidArgumentError(\n                `setInputFiles(): file \"${payload.name}\" is larger than the 50MB limit for remote uploads`\n              );\n            }\n          }\n          const serialized = files.map((payload) => ({\n            name: payload.name,\n            mimeType: payload.mimeType,\n            lastModified: payload.lastModified,\n            base64: payload.buffer.toString(\"base64\")\n          }));\n          const res = yield session.send(\n            \"Runtime.callFunctionOn\",\n            {\n              objectId,\n              functionDeclaration: locatorScriptSources.assignFilePayloadsToInputElement,\n              arguments: [\n                {\n                  value: serialized\n                }\n              ],\n              returnByValue: true\n            }\n          );\n          const ok = Boolean((_a = res.result) == null ? void 0 : _a.value);\n          if (!ok) {\n            throw new StagehandInvalidArgumentError(\n              \"Unable to assign file payloads to remote input element\"\n            );\n          }\n        });\n      }\n      /**\n       * Return the DOM backendNodeId for this locator's target element.\n       * Useful for identity comparisons without needing element handles.\n       */\n      backendNodeId() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            yield session.send(\"DOM.enable\").catch(() => {\n            });\n            const { node } = yield session.send(\n              \"DOM.describeNode\",\n              { objectId }\n            );\n            return node.backendNodeId;\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /** Return how many nodes the current selector resolves to. */\n      count() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          yield session.send(\"Runtime.enable\");\n          yield session.send(\"DOM.enable\");\n          return this.selectorResolver.count(this.selectorQuery);\n        });\n      }\n      /**\n       * Return the center of the element's bounding box in the owning frame's viewport\n       * (CSS pixels), rounded to integers. Scrolls into view best-effort.\n       */\n      centroid() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            yield session.send(\"DOM.scrollIntoViewIfNeeded\", { objectId }).catch(() => {\n            });\n            const box = yield session.send(\n              \"DOM.getBoxModel\",\n              { objectId }\n            );\n            if (!box.model) throw new ElementNotVisibleError(this.selector);\n            const { cx, cy } = this.centerFromBoxContent(box.model.content);\n            return { x: Math.round(cx), y: Math.round(cy) };\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /**\n       * Highlight the element's bounding box using the CDP Overlay domain.\n       * - Scrolls element into view best-effort.\n       * - Shows a semi-transparent overlay briefly, then hides it.\n       */\n      highlight(options) {\n        return __async(this, null, function* () {\n          var _a, _b, _c;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          const duration = Math.max(0, (_a = options == null ? void 0 : options.durationMs) != null ? _a : 800);\n          const borderColor = (_b = options == null ? void 0 : options.borderColor) != null ? _b : { r: 255, g: 0, b: 0, a: 0.9 };\n          const contentColor = (_c = options == null ? void 0 : options.contentColor) != null ? _c : { r: 255, g: 200, b: 0, a: 0.2 };\n          try {\n            yield session.send(\"Overlay.enable\").catch(() => {\n            });\n            yield session.send(\"DOM.scrollIntoViewIfNeeded\", { objectId }).catch(() => {\n            });\n            yield session.send(\"DOM.enable\").catch(() => {\n            });\n            let backendNodeId;\n            try {\n              const { node } = yield session.send(\n                \"DOM.describeNode\",\n                { objectId }\n              );\n              backendNodeId = node.backendNodeId;\n            } catch (e) {\n              backendNodeId = void 0;\n            }\n            const highlightConfig = {\n              showInfo: false,\n              showStyles: false,\n              showRulers: false,\n              showExtensionLines: false,\n              borderColor,\n              contentColor\n            };\n            const highlightOnce = () => __async(this, null, function* () {\n              yield session.send(\"Overlay.highlightNode\", __spreadProps(__spreadValues({}, backendNodeId ? { backendNodeId } : { objectId }), {\n                highlightConfig\n              }));\n            });\n            yield highlightOnce();\n            if (duration > 0) {\n              const start = Date.now();\n              const tick = Math.min(300, Math.max(100, Math.floor(duration / 50)));\n              while (Date.now() - start < duration) {\n                yield new Promise((r) => setTimeout(r, tick));\n                try {\n                  yield highlightOnce();\n                } catch (e) {\n                }\n              }\n              yield session.send(\"Overlay.hideHighlight\").catch(() => {\n              });\n            }\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /**\n       * Move the mouse cursor to the element's visual center without clicking.\n       * - Scrolls into view best-effort, resolves geometry, then dispatches a mouse move.\n       */\n      hover() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            yield session.send(\"DOM.scrollIntoViewIfNeeded\", { objectId }).catch(() => {\n            });\n            const box = yield session.send(\n              \"DOM.getBoxModel\",\n              { objectId }\n            );\n            if (!box.model) throw new ElementNotVisibleError(this.selector);\n            const { cx, cy } = this.centerFromBoxContent(box.model.content);\n            yield session.send(\"Input.dispatchMouseEvent\", {\n              type: \"mouseMoved\",\n              x: cx,\n              y: cy,\n              button: \"none\"\n            });\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /**\n       * Click the element at its visual center.\n       * Steps:\n       *  1) Resolve selector to { objectId } in the frame world.\n       *  2) Scroll into view via `DOM.scrollIntoViewIfNeeded({ objectId })`.\n       *  3) Read geometry via `DOM.getBoxModel({ objectId })`  compute a center point.\n       *  4) Synthesize mouse press + release via `Input.dispatchMouseEvent`.\n       */\n      click(options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          const button = (_a = options == null ? void 0 : options.button) != null ? _a : \"left\";\n          const clickCount = (_b = options == null ? void 0 : options.clickCount) != null ? _b : 1;\n          try {\n            yield session.send(\"DOM.scrollIntoViewIfNeeded\", { objectId });\n            const box = yield session.send(\n              \"DOM.getBoxModel\",\n              { objectId }\n            );\n            if (!box.model) throw new ElementNotVisibleError(this.selector);\n            const { cx, cy } = this.centerFromBoxContent(box.model.content);\n            yield session.send(\"Input.dispatchMouseEvent\", {\n              type: \"mouseMoved\",\n              x: cx,\n              y: cy,\n              button: \"none\"\n            });\n            yield session.send(\"Input.dispatchMouseEvent\", {\n              type: \"mousePressed\",\n              x: cx,\n              y: cy,\n              button,\n              clickCount\n            });\n            yield session.send(\"Input.dispatchMouseEvent\", {\n              type: \"mouseReleased\",\n              x: cx,\n              y: cy,\n              button,\n              clickCount\n            });\n          } finally {\n            try {\n              yield session.send(\"Runtime.releaseObject\", { objectId });\n            } catch (e) {\n            }\n          }\n        });\n      }\n      /**\n       * Dispatch a DOM 'click' MouseEvent on the element itself.\n       * - Does not synthesize real pointer input; directly dispatches an event.\n       * - Useful for elements that rely on click handlers without needing hit-testing.\n       */\n      sendClickEvent(options) {\n        return __async(this, null, function* () {\n          var _a, _b, _c, _d;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          const bubbles = (_a = options == null ? void 0 : options.bubbles) != null ? _a : true;\n          const cancelable = (_b = options == null ? void 0 : options.cancelable) != null ? _b : true;\n          const composed = (_c = options == null ? void 0 : options.composed) != null ? _c : true;\n          const detail = (_d = options == null ? void 0 : options.detail) != null ? _d : 1;\n          try {\n            yield session.send(\"DOM.scrollIntoViewIfNeeded\", { objectId }).catch(() => {\n            });\n            yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.dispatchDomClick,\n                arguments: [\n                  {\n                    value: { bubbles, cancelable, composed, detail }\n                  }\n                ],\n                returnByValue: true\n              }\n            );\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /**\n       * Scroll the element vertically to a given percentage (0100).\n       * - If the element is <html> or <body>, scrolls the window/document.\n       * - Otherwise, scrolls the element itself via element.scrollTo.\n       */\n      scrollTo(percent) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.scrollElementToPercent,\n                arguments: [{ value: percent }],\n                returnByValue: true\n              }\n            );\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /**\n       * Fill an input/textarea/contenteditable element.\n       * Mirrors Playwright semantics: the DOM helper either applies the native\n       * value setter (for special input types) or asks us to type text via the CDP\n       * Input domain after focusing/selecting.\n       */\n      fill(value) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          let releaseNeeded = true;\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.fillElementValue,\n                arguments: [{ value }],\n                returnByValue: true\n              }\n            );\n            const result = res.result.value;\n            const status = typeof result === \"object\" && result ? result.status : void 0;\n            if (status === \"done\") {\n              return;\n            }\n            if (status === \"needsinput\") {\n              yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n              });\n              releaseNeeded = false;\n              const valueToType = typeof (result == null ? void 0 : result.value) === \"string\" ? result.value : value;\n              let prepared = false;\n              try {\n                const { objectId: prepObjectId } = yield this.resolveNode();\n                try {\n                  const prepRes = yield session.send(\n                    \"Runtime.callFunctionOn\",\n                    {\n                      objectId: prepObjectId,\n                      functionDeclaration: locatorScriptSources.prepareElementForTyping,\n                      returnByValue: true\n                    }\n                  );\n                  prepared = Boolean(prepRes.result.value);\n                } finally {\n                  yield session.send(\"Runtime.releaseObject\", { objectId: prepObjectId }).catch(() => {\n                  });\n                }\n              } catch (e) {\n              }\n              if (!prepared && valueToType.length > 0) {\n                yield this.type(valueToType);\n                return;\n              }\n              if (valueToType.length === 0) {\n                yield session.send(\"Input.dispatchKeyEvent\", {\n                  type: \"keyDown\",\n                  key: \"Backspace\",\n                  code: \"Backspace\",\n                  windowsVirtualKeyCode: 8,\n                  nativeVirtualKeyCode: 8\n                });\n                yield session.send(\"Input.dispatchKeyEvent\", {\n                  type: \"keyUp\",\n                  key: \"Backspace\",\n                  code: \"Backspace\",\n                  windowsVirtualKeyCode: 8,\n                  nativeVirtualKeyCode: 8\n                });\n              } else {\n                yield session.send(\"Input.insertText\", { text: valueToType });\n              }\n              return;\n            }\n            if (status === \"error\") {\n              const reason = typeof (result == null ? void 0 : result.reason) === \"string\" && result.reason.length > 0 ? result.reason : \"Failed to fill element\";\n              throw new StagehandInvalidArgumentError(\n                `Failed to fill element (${reason})`\n              );\n            }\n            if (!status) {\n              yield this.type(value);\n            }\n          } finally {\n            if (releaseNeeded) {\n              yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n              });\n            }\n          }\n        });\n      }\n      /**\n       * Type text into the element (focuses first).\n       * - Focus via element.focus() in page JS (no DOM.focus(nodeId)).\n       * - If no delay, uses `Input.insertText` for efficiency.\n       * - With delay, synthesizes `keyDown`/`keyUp` per character.\n       */\n      type(text, options) {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.focusElement,\n                returnByValue: true\n              }\n            );\n            if (!(options == null ? void 0 : options.delay)) {\n              yield session.send(\"Input.insertText\", { text });\n              return;\n            }\n            for (const ch of text) {\n              yield session.send(\"Input.dispatchKeyEvent\", {\n                type: \"keyDown\",\n                text: ch,\n                key: ch\n              });\n              yield session.send(\"Input.dispatchKeyEvent\", {\n                type: \"keyUp\",\n                text: ch,\n                key: ch\n              });\n              yield new Promise((r) => setTimeout(r, options.delay));\n            }\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Select one or more options on a `<select>` element.\n       * Returns the values actually selected after the operation.\n       */\n      selectOption(values) {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          const desired = Array.isArray(values) ? values : [values];\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.selectElementOptions,\n                arguments: [{ value: desired }],\n                returnByValue: true\n              }\n            );\n            return (_a = res.result.value) != null ? _a : [];\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return true if the element is attached and visible (rough heuristic).\n       */\n      isVisible() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.isElementVisible,\n                returnByValue: true\n              }\n            );\n            return Boolean(res.result.value);\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return true if the element is an input[type=checkbox|radio] and is checked.\n       * Also considers aria-checked for ARIA widgets.\n       */\n      isChecked() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.isElementChecked,\n                returnByValue: true\n              }\n            );\n            return Boolean(res.result.value);\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return the element's input value (for input/textarea/select/contenteditable).\n       */\n      inputValue() {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.readElementInputValue,\n                returnByValue: true\n              }\n            );\n            return String((_a = res.result.value) != null ? _a : \"\");\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return the element's textContent (raw, not innerText).\n       */\n      textContent() {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.readElementTextContent,\n                returnByValue: true\n              }\n            );\n            return String((_a = res.result.value) != null ? _a : \"\");\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return the element's innerHTML string.\n       */\n      innerHtml() {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.readElementInnerHTML,\n                returnByValue: true\n              }\n            );\n            return String((_a = res.result.value) != null ? _a : \"\");\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * Return the element's innerText (layout-aware, visible text).\n       */\n      innerText() {\n        return __async(this, null, function* () {\n          var _a;\n          const session = this.frame.session;\n          const { objectId } = yield this.resolveNode();\n          try {\n            const res = yield session.send(\n              \"Runtime.callFunctionOn\",\n              {\n                objectId,\n                functionDeclaration: locatorScriptSources.readElementInnerText,\n                returnByValue: true\n              }\n            );\n            return String((_a = res.result.value) != null ? _a : \"\");\n          } finally {\n            yield session.send(\"Runtime.releaseObject\", { objectId });\n          }\n        });\n      }\n      /**\n       * For API parity, returns the same locator (querySelector already returns the first match).\n       */\n      first() {\n        return this;\n      }\n      /** Return a locator narrowed to the element at the given zero-based index. */\n      nth(index) {\n        const value = Number(index);\n        if (!Number.isFinite(value) || value < 0) {\n          throw new StagehandInvalidArgumentError(\n            \"locator().nth() expects a non-negative index\"\n          );\n        }\n        const nextIndex = Math.floor(value);\n        if (nextIndex === this.nthIndex) {\n          return this;\n        }\n        return new _Locator(this.frame, this.selector, this.options, nextIndex);\n      }\n      // ---------- helpers ----------\n      /**\n       * Resolve `this.selector` within the frame to `{ objectId, nodeId? }`:\n       * Delegates to a shared selector resolver so all selector logic stays in sync.\n       */\n      resolveNode() {\n        return __async(this, null, function* () {\n          const session = this.frame.session;\n          yield session.send(\"Runtime.enable\");\n          yield session.send(\"DOM.enable\");\n          const resolved = yield this.selectorResolver.resolveAtIndex(\n            this.selectorQuery,\n            this.nthIndex\n          );\n          if (!resolved) {\n            throw new StagehandElementNotFoundError([this.selector]);\n          }\n          return resolved;\n        });\n      }\n      /** Compute a center point from a BoxModel content quad */\n      centerFromBoxContent(content) {\n        if (!content || content.length < 8) {\n          throw new StagehandInvalidArgumentError(\"Invalid box model content quad\");\n        }\n        const xs = [content[0], content[2], content[4], content[6]];\n        const ys = [content[1], content[3], content[5], content[7]];\n        const cx = (xs[0] + xs[1] + xs[2] + xs[3]) / 4;\n        const cy = (ys[0] + ys[1] + ys[2] + ys[3]) / 4;\n        return { cx, cy };\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/frameLocator.ts\nfunction frameLocatorFromFrame(page, root, selector) {\n  return new FrameLocator(page, selector, void 0, root);\n}\nfunction listDirectChildFrameIdsFromRegistry(page, parentFrameId, timeoutMs) {\n  return __async(this, null, function* () {\n    var _a, _b;\n    const deadline = Date.now() + timeoutMs;\n    while (true) {\n      try {\n        const tree = page.getFullFrameTree();\n        const node = findFrameNode(tree, parentFrameId);\n        const ids = (_b = (_a = node == null ? void 0 : node.childFrames) == null ? void 0 : _a.map((c) => c.frame.id)) != null ? _b : [];\n        if (ids.length > 0 || Date.now() >= deadline) return ids;\n      } catch (e) {\n      }\n      yield new Promise((r) => setTimeout(r, 50));\n    }\n  });\n}\nfunction findFrameNode(tree, targetId) {\n  var _a;\n  if (tree.frame.id === targetId) return tree;\n  for (const c of (_a = tree.childFrames) != null ? _a : []) {\n    const hit = findFrameNode(c, targetId);\n    if (hit) return hit;\n  }\n  return void 0;\n}\nfunction ensureChildFrameReady(page, parentFrame, childFrameId, budgetMs) {\n  return __async(this, null, function* () {\n    const parentSession2 = parentFrame.session;\n    const deadline = Date.now() + Math.max(0, budgetMs);\n    const owner = page.getSessionForFrame(childFrameId);\n    if (owner && owner !== parentSession2) {\n      try {\n        yield executionContexts.waitForMainWorld(owner, childFrameId, 600);\n      } catch (e) {\n      }\n      return;\n    }\n    const hasMainWorldOnParent = () => {\n      try {\n        return executionContexts.getMainWorld(parentSession2, childFrameId) !== null;\n      } catch (e) {\n        return false;\n      }\n    };\n    if (hasMainWorldOnParent()) return;\n    yield parentSession2.send(\"Page.setLifecycleEventsEnabled\", { enabled: true }).catch(() => {\n    });\n    yield parentSession2.send(\"Runtime.enable\").catch(() => {\n    });\n    yield new Promise((resolve2) => {\n      let done = false;\n      const finish = () => {\n        if (done) return;\n        done = true;\n        parentSession2.off(\"Page.lifecycleEvent\", onLifecycle);\n        resolve2();\n      };\n      const onLifecycle = (evt) => {\n        if (evt.frameId !== childFrameId || evt.name !== \"DOMContentLoaded\" && evt.name !== \"load\" && evt.name !== \"networkIdle\" && evt.name !== \"networkidle\") {\n          return;\n        }\n        if (hasMainWorldOnParent()) return finish();\n        try {\n          const nowOwner = page.getSessionForFrame(childFrameId);\n          if (nowOwner && nowOwner !== parentSession2) {\n            const left = Math.max(150, deadline - Date.now());\n            executionContexts.waitForMainWorld(nowOwner, childFrameId, left).finally(finish);\n          }\n        } catch (e) {\n        }\n      };\n      parentSession2.on(\"Page.lifecycleEvent\", onLifecycle);\n      const tick = () => {\n        if (done) return;\n        if (hasMainWorldOnParent()) return finish();\n        try {\n          const nowOwner = page.getSessionForFrame(childFrameId);\n          if (nowOwner && nowOwner !== parentSession2) {\n            const left = Math.max(150, deadline - Date.now());\n            executionContexts.waitForMainWorld(nowOwner, childFrameId, left).finally(finish);\n            return;\n          }\n        } catch (e) {\n        }\n        if (Date.now() >= deadline) return finish();\n        setTimeout(tick, 50);\n      };\n      tick();\n    });\n  });\n}\nvar FrameLocator, LocatorDelegate;\nvar init_frameLocator = __esm({\n  \"lib/v3/understudy/frameLocator.ts\"() {\n    init_executionContextRegistry();\n    init_sdkErrors();\n    FrameLocator = class _FrameLocator {\n      constructor(page, selector, parent, root) {\n        this.page = page;\n        this.selector = selector;\n        this.parent = parent;\n        this.root = root;\n      }\n      /** Create a nested FrameLocator under this one. */\n      frameLocator(selector) {\n        return new _FrameLocator(this.page, selector, this);\n      }\n      /** Resolve to the concrete Frame for this FrameLocator chain. */\n      resolveFrame() {\n        return __async(this, null, function* () {\n          var _a;\n          const parentFrame = this.parent ? yield this.parent.resolveFrame() : (_a = this.root) != null ? _a : this.page.mainFrame();\n          const tmp = parentFrame.locator(this.selector);\n          const parentSession2 = parentFrame.session;\n          const { objectId } = yield tmp.resolveNode();\n          try {\n            yield parentSession2.send(\"DOM.enable\").catch(() => {\n            });\n            const desc = yield parentSession2.send(\n              \"DOM.describeNode\",\n              { objectId }\n            );\n            const iframeBackendNodeId = desc.node.backendNodeId;\n            const childIds = yield listDirectChildFrameIdsFromRegistry(\n              this.page,\n              parentFrame.frameId,\n              1e3\n            );\n            for (const fid of childIds) {\n              try {\n                const owner = yield parentSession2.send(\"DOM.getFrameOwner\", { frameId: fid });\n                if (owner.backendNodeId === iframeBackendNodeId) {\n                  yield ensureChildFrameReady(this.page, parentFrame, fid, 1200);\n                  return this.page.frameForId(fid);\n                }\n              } catch (e) {\n              }\n            }\n            throw new ContentFrameNotFoundError(this.selector);\n          } finally {\n            yield parentSession2.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n            });\n          }\n        });\n      }\n      /** Return a Locator scoped to this frame. Methods delegate to the frame lazily. */\n      locator(selector) {\n        return new LocatorDelegate(this, selector);\n      }\n    };\n    LocatorDelegate = class {\n      constructor(fl, sel) {\n        this.fl = fl;\n        this.sel = sel;\n      }\n      real() {\n        return __async(this, null, function* () {\n          const frame = yield this.fl.resolveFrame();\n          return frame.locator(this.sel);\n        });\n      }\n      // Locator API delegates\n      click(options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).click(options);\n        });\n      }\n      hover() {\n        return __async(this, null, function* () {\n          return (yield this.real()).hover();\n        });\n      }\n      fill(value) {\n        return __async(this, null, function* () {\n          return (yield this.real()).fill(value);\n        });\n      }\n      type(text, options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).type(text, options);\n        });\n      }\n      selectOption(values) {\n        return __async(this, null, function* () {\n          return (yield this.real()).selectOption(values);\n        });\n      }\n      scrollTo(percent) {\n        return __async(this, null, function* () {\n          return (yield this.real()).scrollTo(percent);\n        });\n      }\n      isVisible() {\n        return __async(this, null, function* () {\n          return (yield this.real()).isVisible();\n        });\n      }\n      isChecked() {\n        return __async(this, null, function* () {\n          return (yield this.real()).isChecked();\n        });\n      }\n      inputValue() {\n        return __async(this, null, function* () {\n          return (yield this.real()).inputValue();\n        });\n      }\n      textContent() {\n        return __async(this, null, function* () {\n          return (yield this.real()).textContent();\n        });\n      }\n      innerHtml() {\n        return __async(this, null, function* () {\n          return (yield this.real()).innerHtml();\n        });\n      }\n      innerText() {\n        return __async(this, null, function* () {\n          return (yield this.real()).innerText();\n        });\n      }\n      count() {\n        return __async(this, null, function* () {\n          return (yield this.real()).count();\n        });\n      }\n      first() {\n        return this;\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/deepLocator.ts\nfunction parseXPath(path7) {\n  const s = path7.trim();\n  let i = 0;\n  const steps = [];\n  while (i < s.length) {\n    let axis = \"child\";\n    if (s.startsWith(\"//\", i)) {\n      axis = \"desc\";\n      i += 2;\n    } else if (s[i] === \"/\") {\n      axis = \"child\";\n      i += 1;\n    }\n    const start = i;\n    while (i < s.length && s[i] !== \"/\") i++;\n    const raw = s.slice(start, i).trim();\n    if (!raw) continue;\n    const name = raw.replace(/\\[\\d+\\]\\s*$/u, \"\").toLowerCase();\n    steps.push({ axis, raw, name });\n  }\n  return steps;\n}\nfunction buildXPathFromSteps2(steps) {\n  let out = \"\";\n  for (const st of steps) {\n    out += st.axis === \"desc\" ? \"//\" : \"/\";\n    out += st.raw;\n  }\n  return out || \"/\";\n}\nfunction deepLocatorThroughIframes(page, root, xpathOrSelector) {\n  return __async(this, null, function* () {\n    let path7 = xpathOrSelector.trim();\n    if (path7.startsWith(\"xpath=\")) path7 = path7.slice(\"xpath=\".length).trim();\n    if (!path7.startsWith(\"/\")) path7 = \"/\" + path7;\n    const steps = parseXPath(path7);\n    let fl;\n    let buf = [];\n    const flushIntoFrameLocator = () => {\n      if (!buf.length) return;\n      const selectorForIframe = \"xpath=\" + buildXPathFromSteps2(buf);\n      v3Logger({\n        category: \"deep-hop\",\n        message: \"resolving iframe via FrameLocator\",\n        level: 2,\n        auxiliary: {\n          selectorForIframe: { value: selectorForIframe, type: \"string\" },\n          rootFrameId: { value: String(root.frameId), type: \"string\" }\n        }\n      });\n      fl = fl ? fl.frameLocator(selectorForIframe) : frameLocatorFromFrame(page, root, selectorForIframe);\n      buf = [];\n    };\n    for (const st of steps) {\n      buf.push(st);\n      if (IFRAME_STEP_RE2.test(st.name)) flushIntoFrameLocator();\n    }\n    const finalSelector = \"xpath=\" + buildXPathFromSteps2(buf);\n    const targetFrame = fl ? yield fl.resolveFrame() : root;\n    v3Logger({\n      category: \"deep-hop\",\n      message: \"final tail\",\n      level: 2,\n      auxiliary: {\n        frameId: { value: String(targetFrame.frameId), type: \"string\" },\n        finalSelector: { value: finalSelector, type: \"string\" }\n      }\n    });\n    return new Locator(targetFrame, finalSelector);\n  });\n}\nfunction resolveLocatorWithHops(page, root, selectorRaw) {\n  return __async(this, null, function* () {\n    const sel = selectorRaw.trim();\n    const parts = sel.split(\">>\").map((s) => s.trim()).filter(Boolean);\n    if (parts.length > 1) {\n      let fl = frameLocatorFromFrame(page, root, parts[0]);\n      for (let i = 1; i < parts.length - 1; i++) {\n        fl = fl.frameLocator(parts[i]);\n      }\n      const targetFrame = yield fl.resolveFrame();\n      return new Locator(targetFrame, parts[parts.length - 1]);\n    }\n    const isXPath = sel.startsWith(\"xpath=\") || sel.startsWith(\"/\");\n    if (isXPath) return deepLocatorThroughIframes(page, root, sel);\n    return new Locator(root, sel);\n  });\n}\nfunction deepLocatorFromPage(page, root, selector) {\n  return new DeepLocatorDelegate(page, root, selector);\n}\nvar IFRAME_STEP_RE2, DeepLocatorDelegate;\nvar init_deepLocator = __esm({\n  \"lib/v3/understudy/deepLocator.ts\"() {\n    init_locator();\n    init_logger();\n    init_frameLocator();\n    init_sdkErrors();\n    IFRAME_STEP_RE2 = /^iframe(?:\\[\\d+])?$/i;\n    DeepLocatorDelegate = class _DeepLocatorDelegate {\n      constructor(page, root, selector, nthIndex = 0) {\n        this.page = page;\n        this.root = root;\n        this.selector = selector;\n        this.nthIndex = nthIndex;\n      }\n      real() {\n        return __async(this, null, function* () {\n          const base = yield resolveLocatorWithHops(\n            this.page,\n            this.root,\n            this.selector\n          );\n          return base.nth(this.nthIndex);\n        });\n      }\n      // Locator API delegates\n      click(options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).click(options);\n        });\n      }\n      count() {\n        return __async(this, null, function* () {\n          return (yield this.real()).count();\n        });\n      }\n      hover() {\n        return __async(this, null, function* () {\n          return (yield this.real()).hover();\n        });\n      }\n      fill(value) {\n        return __async(this, null, function* () {\n          return (yield this.real()).fill(value);\n        });\n      }\n      type(text, options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).type(text, options);\n        });\n      }\n      selectOption(values) {\n        return __async(this, null, function* () {\n          return (yield this.real()).selectOption(values);\n        });\n      }\n      scrollTo(percent) {\n        return __async(this, null, function* () {\n          return (yield this.real()).scrollTo(percent);\n        });\n      }\n      isVisible() {\n        return __async(this, null, function* () {\n          return (yield this.real()).isVisible();\n        });\n      }\n      isChecked() {\n        return __async(this, null, function* () {\n          return (yield this.real()).isChecked();\n        });\n      }\n      inputValue() {\n        return __async(this, null, function* () {\n          return (yield this.real()).inputValue();\n        });\n      }\n      textContent() {\n        return __async(this, null, function* () {\n          return (yield this.real()).textContent();\n        });\n      }\n      innerHtml() {\n        return __async(this, null, function* () {\n          return (yield this.real()).innerHtml();\n        });\n      }\n      innerText() {\n        return __async(this, null, function* () {\n          return (yield this.real()).innerText();\n        });\n      }\n      centroid() {\n        return __async(this, null, function* () {\n          return (yield this.real()).centroid();\n        });\n      }\n      backendNodeId() {\n        return __async(this, null, function* () {\n          return (yield this.real()).backendNodeId();\n        });\n      }\n      highlight(options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).highlight(options);\n        });\n      }\n      sendClickEvent(options) {\n        return __async(this, null, function* () {\n          return (yield this.real()).sendClickEvent(options);\n        });\n      }\n      setInputFiles(files) {\n        return __async(this, null, function* () {\n          return (yield this.real()).setInputFiles(files);\n        });\n      }\n      first() {\n        return this.nth(0);\n      }\n      nth(index) {\n        const value = Number(index);\n        if (!Number.isFinite(value) || value < 0) {\n          throw new StagehandInvalidArgumentError(\n            \"deepLocator().nth() expects a non-negative index\"\n          );\n        }\n        const nextIndex = Math.floor(value);\n        if (nextIndex === this.nthIndex) return this;\n        return new _DeepLocatorDelegate(\n          this.page,\n          this.root,\n          this.selector,\n          nextIndex\n        );\n      }\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/escape-string-regexp@4.0.0/node_modules/escape-string-regexp/index.js\nvar require_escape_string_regexp = __commonJS({\n  \"../../node_modules/.pnpm/escape-string-regexp@4.0.0/node_modules/escape-string-regexp/index.js\"(exports2, module2) {\n    \"use strict\";\n    module2.exports = (string) => {\n      if (typeof string !== \"string\") {\n        throw new TypeError(\"Expected a string\");\n      }\n      return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\").replace(/-/g, \"\\\\x2d\");\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js\nvar require_ms = __commonJS({\n  \"../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js\"(exports2, module2) {\n    var s = 1e3;\n    var m = s * 60;\n    var h = m * 60;\n    var d = h * 24;\n    var w = d * 7;\n    var y = d * 365.25;\n    module2.exports = function(val, options) {\n      options = options || {};\n      var type = typeof val;\n      if (type === \"string\" && val.length > 0) {\n        return parse(val);\n      } else if (type === \"number\" && isFinite(val)) {\n        return options.long ? fmtLong(val) : fmtShort(val);\n      }\n      throw new Error(\n        \"val is not a non-empty string or a valid number. val=\" + JSON.stringify(val)\n      );\n    };\n    function parse(str) {\n      str = String(str);\n      if (str.length > 100) {\n        return;\n      }\n      var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n        str\n      );\n      if (!match) {\n        return;\n      }\n      var n = parseFloat(match[1]);\n      var type = (match[2] || \"ms\").toLowerCase();\n      switch (type) {\n        case \"years\":\n        case \"year\":\n        case \"yrs\":\n        case \"yr\":\n        case \"y\":\n          return n * y;\n        case \"weeks\":\n        case \"week\":\n        case \"w\":\n          return n * w;\n        case \"days\":\n        case \"day\":\n        case \"d\":\n          return n * d;\n        case \"hours\":\n        case \"hour\":\n        case \"hrs\":\n        case \"hr\":\n        case \"h\":\n          return n * h;\n        case \"minutes\":\n        case \"minute\":\n        case \"mins\":\n        case \"min\":\n        case \"m\":\n          return n * m;\n        case \"seconds\":\n        case \"second\":\n        case \"secs\":\n        case \"sec\":\n        case \"s\":\n          return n * s;\n        case \"milliseconds\":\n        case \"millisecond\":\n        case \"msecs\":\n        case \"msec\":\n        case \"ms\":\n          return n;\n        default:\n          return void 0;\n      }\n    }\n    function fmtShort(ms) {\n      var msAbs = Math.abs(ms);\n      if (msAbs >= d) {\n        return Math.round(ms / d) + \"d\";\n      }\n      if (msAbs >= h) {\n        return Math.round(ms / h) + \"h\";\n      }\n      if (msAbs >= m) {\n        return Math.round(ms / m) + \"m\";\n      }\n      if (msAbs >= s) {\n        return Math.round(ms / s) + \"s\";\n      }\n      return ms + \"ms\";\n    }\n    function fmtLong(ms) {\n      var msAbs = Math.abs(ms);\n      if (msAbs >= d) {\n        return plural(ms, msAbs, d, \"day\");\n      }\n      if (msAbs >= h) {\n        return plural(ms, msAbs, h, \"hour\");\n      }\n      if (msAbs >= m) {\n        return plural(ms, msAbs, m, \"minute\");\n      }\n      if (msAbs >= s) {\n        return plural(ms, msAbs, s, \"second\");\n      }\n      return ms + \" ms\";\n    }\n    function plural(ms, msAbs, n, name) {\n      var isPlural = msAbs >= n * 1.5;\n      return Math.round(ms / n) + \" \" + name + (isPlural ? \"s\" : \"\");\n    }\n  }\n});\n\n// ../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/common.js\nvar require_common = __commonJS({\n  \"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/common.js\"(exports2, module2) {\n    function setup(env) {\n      createDebug.debug = createDebug;\n      createDebug.default = createDebug;\n      createDebug.coerce = coerce;\n      createDebug.disable = disable;\n      createDebug.enable = enable;\n      createDebug.enabled = enabled;\n      createDebug.humanize = require_ms();\n      createDebug.destroy = destroy;\n      Object.keys(env).forEach((key) => {\n        createDebug[key] = env[key];\n      });\n      createDebug.names = [];\n      createDebug.skips = [];\n      createDebug.formatters = {};\n      function selectColor(namespace) {\n        let hash = 0;\n        for (let i = 0; i < namespace.length; i++) {\n          hash = (hash << 5) - hash + namespace.charCodeAt(i);\n          hash |= 0;\n        }\n        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n      }\n      createDebug.selectColor = selectColor;\n      function createDebug(namespace) {\n        let prevTime;\n        let enableOverride = null;\n        let namespacesCache;\n        let enabledCache;\n        function debug2(...args) {\n          if (!debug2.enabled) {\n            return;\n          }\n          const self = debug2;\n          const curr = Number(/* @__PURE__ */ new Date());\n          const ms = curr - (prevTime || curr);\n          self.diff = ms;\n          self.prev = prevTime;\n          self.curr = curr;\n          prevTime = curr;\n          args[0] = createDebug.coerce(args[0]);\n          if (typeof args[0] !== \"string\") {\n            args.unshift(\"%O\");\n          }\n          let index = 0;\n          args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n            if (match === \"%%\") {\n              return \"%\";\n            }\n            index++;\n            const formatter = createDebug.formatters[format];\n            if (typeof formatter === \"function\") {\n              const val = args[index];\n              match = formatter.call(self, val);\n              args.splice(index, 1);\n              index--;\n            }\n            return match;\n          });\n          createDebug.formatArgs.call(self, args);\n          const logFn = self.log || createDebug.log;\n          logFn.apply(self, args);\n        }\n        debug2.namespace = namespace;\n        debug2.useColors = createDebug.useColors();\n        debug2.color = createDebug.selectColor(namespace);\n        debug2.extend = extend;\n        debug2.destroy = createDebug.destroy;\n        Object.defineProperty(debug2, \"enabled\", {\n          enumerable: true,\n          configurable: false,\n          get: () => {\n            if (enableOverride !== null) {\n              return enableOverride;\n            }\n            if (namespacesCache !== createDebug.namespaces) {\n              namespacesCache = createDebug.namespaces;\n              enabledCache = createDebug.enabled(namespace);\n            }\n            return enabledCache;\n          },\n          set: (v) => {\n            enableOverride = v;\n          }\n        });\n        if (typeof createDebug.init === \"function\") {\n          createDebug.init(debug2);\n        }\n        return debug2;\n      }\n      function extend(namespace, delimiter) {\n        const newDebug = createDebug(this.namespace + (typeof delimiter === \"undefined\" ? \":\" : delimiter) + namespace);\n        newDebug.log = this.log;\n        return newDebug;\n      }\n      function enable(namespaces) {\n        createDebug.save(namespaces);\n        createDebug.namespaces = namespaces;\n        createDebug.names = [];\n        createDebug.skips = [];\n        const split = (typeof namespaces === \"string\" ? namespaces : \"\").trim().replace(/\\s+/g, \",\").split(\",\").filter(Boolean);\n        for (const ns of split) {\n          if (ns[0] === \"-\") {\n            createDebug.skips.push(ns.slice(1));\n          } else {\n            createDebug.names.push(ns);\n          }\n        }\n      }\n      function matchesTemplate(search, template) {\n        let searchIndex = 0;\n        let templateIndex = 0;\n        let starIndex = -1;\n        let matchIndex = 0;\n        while (searchIndex < search.length) {\n          if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === \"*\")) {\n            if (template[templateIndex] === \"*\") {\n              starIndex = templateIndex;\n              matchIndex = searchIndex;\n              templateIndex++;\n            } else {\n              searchIndex++;\n              templateIndex++;\n            }\n          } else if (starIndex !== -1) {\n            templateIndex = starIndex + 1;\n            matchIndex++;\n            searchIndex = matchIndex;\n          } else {\n            return false;\n          }\n        }\n        while (templateIndex < template.length && template[templateIndex] === \"*\") {\n          templateIndex++;\n        }\n        return templateIndex === template.length;\n      }\n      function disable() {\n        const namespaces = [\n          ...createDebug.names,\n          ...createDebug.skips.map((namespace) => \"-\" + namespace)\n        ].join(\",\");\n        createDebug.enable(\"\");\n        return namespaces;\n      }\n      function enabled(name) {\n        for (const skip of createDebug.skips) {\n          if (matchesTemplate(name, skip)) {\n            return false;\n          }\n        }\n        for (const ns of createDebug.names) {\n          if (matchesTemplate(name, ns)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      function coerce(val) {\n        if (val instanceof Error) {\n          return val.stack || val.message;\n        }\n        return val;\n      }\n      function destroy() {\n        console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");\n      }\n      createDebug.enable(createDebug.load());\n      return createDebug;\n    }\n    module2.exports = setup;\n  }\n});\n\n// ../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/browser.js\nvar require_browser = __commonJS({\n  \"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/browser.js\"(exports2, module2) {\n    exports2.formatArgs = formatArgs;\n    exports2.save = save;\n    exports2.load = load;\n    exports2.useColors = useColors;\n    exports2.storage = localstorage();\n    exports2.destroy = /* @__PURE__ */ (() => {\n      let warned = false;\n      return () => {\n        if (!warned) {\n          warned = true;\n          console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");\n        }\n      };\n    })();\n    exports2.colors = [\n      \"#0000CC\",\n      \"#0000FF\",\n      \"#0033CC\",\n      \"#0033FF\",\n      \"#0066CC\",\n      \"#0066FF\",\n      \"#0099CC\",\n      \"#0099FF\",\n      \"#00CC00\",\n      \"#00CC33\",\n      \"#00CC66\",\n      \"#00CC99\",\n      \"#00CCCC\",\n      \"#00CCFF\",\n      \"#3300CC\",\n      \"#3300FF\",\n      \"#3333CC\",\n      \"#3333FF\",\n      \"#3366CC\",\n      \"#3366FF\",\n      \"#3399CC\",\n      \"#3399FF\",\n      \"#33CC00\",\n      \"#33CC33\",\n      \"#33CC66\",\n      \"#33CC99\",\n      \"#33CCCC\",\n      \"#33CCFF\",\n      \"#6600CC\",\n      \"#6600FF\",\n      \"#6633CC\",\n      \"#6633FF\",\n      \"#66CC00\",\n      \"#66CC33\",\n      \"#9900CC\",\n      \"#9900FF\",\n      \"#9933CC\",\n      \"#9933FF\",\n      \"#99CC00\",\n      \"#99CC33\",\n      \"#CC0000\",\n      \"#CC0033\",\n      \"#CC0066\",\n      \"#CC0099\",\n      \"#CC00CC\",\n      \"#CC00FF\",\n      \"#CC3300\",\n      \"#CC3333\",\n      \"#CC3366\",\n      \"#CC3399\",\n      \"#CC33CC\",\n      \"#CC33FF\",\n      \"#CC6600\",\n      \"#CC6633\",\n      \"#CC9900\",\n      \"#CC9933\",\n      \"#CCCC00\",\n      \"#CCCC33\",\n      \"#FF0000\",\n      \"#FF0033\",\n      \"#FF0066\",\n      \"#FF0099\",\n      \"#FF00CC\",\n      \"#FF00FF\",\n      \"#FF3300\",\n      \"#FF3333\",\n      \"#FF3366\",\n      \"#FF3399\",\n      \"#FF33CC\",\n      \"#FF33FF\",\n      \"#FF6600\",\n      \"#FF6633\",\n      \"#FF9900\",\n      \"#FF9933\",\n      \"#FFCC00\",\n      \"#FFCC33\"\n    ];\n    function useColors() {\n      if (typeof window !== \"undefined\" && window.process && (window.process.type === \"renderer\" || window.process.__nwjs)) {\n        return true;\n      }\n      if (typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n        return false;\n      }\n      let m;\n      return typeof document !== \"undefined\" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n      typeof window !== \"undefined\" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n      typeof navigator !== \"undefined\" && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n      typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n    }\n    function formatArgs(args) {\n      args[0] = (this.useColors ? \"%c\" : \"\") + this.namespace + (this.useColors ? \" %c\" : \" \") + args[0] + (this.useColors ? \"%c \" : \" \") + \"+\" + module2.exports.humanize(this.diff);\n      if (!this.useColors) {\n        return;\n      }\n      const c = \"color: \" + this.color;\n      args.splice(1, 0, c, \"color: inherit\");\n      let index = 0;\n      let lastC = 0;\n      args[0].replace(/%[a-zA-Z%]/g, (match) => {\n        if (match === \"%%\") {\n          return;\n        }\n        index++;\n        if (match === \"%c\") {\n          lastC = index;\n        }\n      });\n      args.splice(lastC, 0, c);\n    }\n    exports2.log = console.debug || console.log || (() => {\n    });\n    function save(namespaces) {\n      try {\n        if (namespaces) {\n          exports2.storage.setItem(\"debug\", namespaces);\n        } else {\n          exports2.storage.removeItem(\"debug\");\n        }\n      } catch (error) {\n      }\n    }\n    function load() {\n      let r;\n      try {\n        r = exports2.storage.getItem(\"debug\") || exports2.storage.getItem(\"DEBUG\");\n      } catch (error) {\n      }\n      if (!r && typeof process !== \"undefined\" && \"env\" in process) {\n        r = process.env.DEBUG;\n      }\n      return r;\n    }\n    function localstorage() {\n      try {\n        return localStorage;\n      } catch (error) {\n      }\n    }\n    module2.exports = require_common()(exports2);\n    var { formatters } = module2.exports;\n    formatters.j = function(v) {\n      try {\n        return JSON.stringify(v);\n      } catch (error) {\n        return \"[UnexpectedJSONParseError]: \" + error.message;\n      }\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js\nvar require_has_flag = __commonJS({\n  \"../../node_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js\"(exports2, module2) {\n    \"use strict\";\n    module2.exports = (flag, argv = process.argv) => {\n      const prefix = flag.startsWith(\"-\") ? \"\" : flag.length === 1 ? \"-\" : \"--\";\n      const position = argv.indexOf(prefix + flag);\n      const terminatorPosition = argv.indexOf(\"--\");\n      return position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js\nvar require_supports_color = __commonJS({\n  \"../../node_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js\"(exports2, module2) {\n    \"use strict\";\n    var os3 = require(\"os\");\n    var tty = require(\"tty\");\n    var hasFlag = require_has_flag();\n    var { env } = process;\n    var forceColor;\n    if (hasFlag(\"no-color\") || hasFlag(\"no-colors\") || hasFlag(\"color=false\") || hasFlag(\"color=never\")) {\n      forceColor = 0;\n    } else if (hasFlag(\"color\") || hasFlag(\"colors\") || hasFlag(\"color=true\") || hasFlag(\"color=always\")) {\n      forceColor = 1;\n    }\n    if (\"FORCE_COLOR\" in env) {\n      if (env.FORCE_COLOR === \"true\") {\n        forceColor = 1;\n      } else if (env.FORCE_COLOR === \"false\") {\n        forceColor = 0;\n      } else {\n        forceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n      }\n    }\n    function translateLevel(level) {\n      if (level === 0) {\n        return false;\n      }\n      return {\n        level,\n        hasBasic: true,\n        has256: level >= 2,\n        has16m: level >= 3\n      };\n    }\n    function supportsColor(haveStream, streamIsTTY) {\n      if (forceColor === 0) {\n        return 0;\n      }\n      if (hasFlag(\"color=16m\") || hasFlag(\"color=full\") || hasFlag(\"color=truecolor\")) {\n        return 3;\n      }\n      if (hasFlag(\"color=256\")) {\n        return 2;\n      }\n      if (haveStream && !streamIsTTY && forceColor === void 0) {\n        return 0;\n      }\n      const min = forceColor || 0;\n      if (env.TERM === \"dumb\") {\n        return min;\n      }\n      if (process.platform === \"win32\") {\n        const osRelease = os3.release().split(\".\");\n        if (Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {\n          return Number(osRelease[2]) >= 14931 ? 3 : 2;\n        }\n        return 1;\n      }\n      if (\"CI\" in env) {\n        if ([\"TRAVIS\", \"CIRCLECI\", \"APPVEYOR\", \"GITLAB_CI\", \"GITHUB_ACTIONS\", \"BUILDKITE\"].some((sign) => sign in env) || env.CI_NAME === \"codeship\") {\n          return 1;\n        }\n        return min;\n      }\n      if (\"TEAMCITY_VERSION\" in env) {\n        return /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n      }\n      if (env.COLORTERM === \"truecolor\") {\n        return 3;\n      }\n      if (\"TERM_PROGRAM\" in env) {\n        const version = parseInt((env.TERM_PROGRAM_VERSION || \"\").split(\".\")[0], 10);\n        switch (env.TERM_PROGRAM) {\n          case \"iTerm.app\":\n            return version >= 3 ? 3 : 2;\n          case \"Apple_Terminal\":\n            return 2;\n        }\n      }\n      if (/-256(color)?$/i.test(env.TERM)) {\n        return 2;\n      }\n      if (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n        return 1;\n      }\n      if (\"COLORTERM\" in env) {\n        return 1;\n      }\n      return min;\n    }\n    function getSupportLevel(stream) {\n      const level = supportsColor(stream, stream && stream.isTTY);\n      return translateLevel(level);\n    }\n    module2.exports = {\n      supportsColor: getSupportLevel,\n      stdout: translateLevel(supportsColor(true, tty.isatty(1))),\n      stderr: translateLevel(supportsColor(true, tty.isatty(2)))\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/node.js\nvar require_node = __commonJS({\n  \"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/node.js\"(exports2, module2) {\n    var tty = require(\"tty\");\n    var util = require(\"util\");\n    exports2.init = init;\n    exports2.log = log;\n    exports2.formatArgs = formatArgs;\n    exports2.save = save;\n    exports2.load = load;\n    exports2.useColors = useColors;\n    exports2.destroy = util.deprecate(\n      () => {\n      },\n      \"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"\n    );\n    exports2.colors = [6, 2, 3, 4, 5, 1];\n    try {\n      const supportsColor = require_supports_color();\n      if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n        exports2.colors = [\n          20,\n          21,\n          26,\n          27,\n          32,\n          33,\n          38,\n          39,\n          40,\n          41,\n          42,\n          43,\n          44,\n          45,\n          56,\n          57,\n          62,\n          63,\n          68,\n          69,\n          74,\n          75,\n          76,\n          77,\n          78,\n          79,\n          80,\n          81,\n          92,\n          93,\n          98,\n          99,\n          112,\n          113,\n          128,\n          129,\n          134,\n          135,\n          148,\n          149,\n          160,\n          161,\n          162,\n          163,\n          164,\n          165,\n          166,\n          167,\n          168,\n          169,\n          170,\n          171,\n          172,\n          173,\n          178,\n          179,\n          184,\n          185,\n          196,\n          197,\n          198,\n          199,\n          200,\n          201,\n          202,\n          203,\n          204,\n          205,\n          206,\n          207,\n          208,\n          209,\n          214,\n          215,\n          220,\n          221\n        ];\n      }\n    } catch (error) {\n    }\n    exports2.inspectOpts = Object.keys(process.env).filter((key) => {\n      return /^debug_/i.test(key);\n    }).reduce((obj, key) => {\n      const prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, (_, k) => {\n        return k.toUpperCase();\n      });\n      let val = process.env[key];\n      if (/^(yes|on|true|enabled)$/i.test(val)) {\n        val = true;\n      } else if (/^(no|off|false|disabled)$/i.test(val)) {\n        val = false;\n      } else if (val === \"null\") {\n        val = null;\n      } else {\n        val = Number(val);\n      }\n      obj[prop] = val;\n      return obj;\n    }, {});\n    function useColors() {\n      return \"colors\" in exports2.inspectOpts ? Boolean(exports2.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n    }\n    function formatArgs(args) {\n      const { namespace: name, useColors: useColors2 } = this;\n      if (useColors2) {\n        const c = this.color;\n        const colorCode = \"\\x1B[3\" + (c < 8 ? c : \"8;5;\" + c);\n        const prefix = `  ${colorCode};1m${name} \\x1B[0m`;\n        args[0] = prefix + args[0].split(\"\\n\").join(\"\\n\" + prefix);\n        args.push(colorCode + \"m+\" + module2.exports.humanize(this.diff) + \"\\x1B[0m\");\n      } else {\n        args[0] = getDate() + name + \" \" + args[0];\n      }\n    }\n    function getDate() {\n      if (exports2.inspectOpts.hideDate) {\n        return \"\";\n      }\n      return (/* @__PURE__ */ new Date()).toISOString() + \" \";\n    }\n    function log(...args) {\n      return process.stderr.write(util.formatWithOptions(exports2.inspectOpts, ...args) + \"\\n\");\n    }\n    function save(namespaces) {\n      if (namespaces) {\n        process.env.DEBUG = namespaces;\n      } else {\n        delete process.env.DEBUG;\n      }\n    }\n    function load() {\n      return process.env.DEBUG;\n    }\n    function init(debug2) {\n      debug2.inspectOpts = {};\n      const keys = Object.keys(exports2.inspectOpts);\n      for (let i = 0; i < keys.length; i++) {\n        debug2.inspectOpts[keys[i]] = exports2.inspectOpts[keys[i]];\n      }\n    }\n    module2.exports = require_common()(exports2);\n    var { formatters } = module2.exports;\n    formatters.o = function(v) {\n      this.inspectOpts.colors = this.useColors;\n      return util.inspect(v, this.inspectOpts).split(\"\\n\").map((str) => str.trim()).join(\" \");\n    };\n    formatters.O = function(v) {\n      this.inspectOpts.colors = this.useColors;\n      return util.inspect(v, this.inspectOpts);\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/index.js\nvar require_src = __commonJS({\n  \"../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/index.js\"(exports2, module2) {\n    if (typeof process === \"undefined\" || process.type === \"renderer\" || process.browser === true || process.__nwjs) {\n      module2.exports = require_browser();\n    } else {\n      module2.exports = require_node();\n    }\n  }\n});\n\n// ../../node_modules/.pnpm/is-docker@2.2.1/node_modules/is-docker/index.js\nvar require_is_docker = __commonJS({\n  \"../../node_modules/.pnpm/is-docker@2.2.1/node_modules/is-docker/index.js\"(exports2, module2) {\n    \"use strict\";\n    var fs9 = require(\"fs\");\n    var isDocker;\n    function hasDockerEnv() {\n      try {\n        fs9.statSync(\"/.dockerenv\");\n        return true;\n      } catch (_) {\n        return false;\n      }\n    }\n    function hasDockerCGroup() {\n      try {\n        return fs9.readFileSync(\"/proc/self/cgroup\", \"utf8\").includes(\"docker\");\n      } catch (_) {\n        return false;\n      }\n    }\n    module2.exports = () => {\n      if (isDocker === void 0) {\n        isDocker = hasDockerEnv() || hasDockerCGroup();\n      }\n      return isDocker;\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/is-wsl@2.2.0/node_modules/is-wsl/index.js\nvar require_is_wsl = __commonJS({\n  \"../../node_modules/.pnpm/is-wsl@2.2.0/node_modules/is-wsl/index.js\"(exports2, module2) {\n    \"use strict\";\n    var os3 = require(\"os\");\n    var fs9 = require(\"fs\");\n    var isDocker = require_is_docker();\n    var isWsl3 = () => {\n      if (process.platform !== \"linux\") {\n        return false;\n      }\n      if (os3.release().toLowerCase().includes(\"microsoft\")) {\n        if (isDocker()) {\n          return false;\n        }\n        return true;\n      }\n      try {\n        return fs9.readFileSync(\"/proc/version\", \"utf8\").toLowerCase().includes(\"microsoft\") ? !isDocker() : false;\n      } catch (_) {\n        return false;\n      }\n    };\n    if (process.env.__IS_WSL_TEST__) {\n      module2.exports = isWsl3;\n    } else {\n      module2.exports = isWsl3();\n    }\n  }\n});\n\n// lib/v3/understudy/consoleMessage.ts\nfunction formatRemoteObject(obj) {\n  var _a;\n  if (!obj) return \"\";\n  if (\"value\" in obj) {\n    const value = obj.value;\n    if (value === void 0) return \"\";\n    if (typeof value === \"string\") return value;\n    try {\n      return JSON.stringify(value);\n    } catch (e) {\n      return String(value);\n    }\n  }\n  if (obj.unserializableValue) return obj.unserializableValue;\n  if (obj.description) return obj.description;\n  return (_a = obj.type) != null ? _a : \"\";\n}\nvar ConsoleMessage;\nvar init_consoleMessage = __esm({\n  \"lib/v3/understudy/consoleMessage.ts\"() {\n    ConsoleMessage = class {\n      constructor(event, pageRef) {\n        this.event = event;\n        this.pageRef = pageRef;\n      }\n      type() {\n        return this.event.type;\n      }\n      text() {\n        const args = this.args();\n        if (!args.length) return \"\";\n        return args.map((arg) => formatRemoteObject(arg)).filter((chunk) => chunk.length > 0).join(\" \");\n      }\n      args() {\n        return this.event.args ? [...this.event.args] : [];\n      }\n      location() {\n        var _a, _b;\n        const frame = (_b = (_a = this.event.stackTrace) == null ? void 0 : _a.callFrames) == null ? void 0 : _b[0];\n        return {\n          url: frame == null ? void 0 : frame.url,\n          lineNumber: frame == null ? void 0 : frame.lineNumber,\n          columnNumber: frame == null ? void 0 : frame.columnNumber\n        };\n      }\n      page() {\n        return this.pageRef;\n      }\n      timestamp() {\n        return this.event.timestamp;\n      }\n      raw() {\n        return this.event;\n      }\n      toString() {\n        return this.text();\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/response.ts\nfunction isSerializableResponse(value) {\n  if (!value || typeof value !== \"object\") return false;\n  const candidate = value;\n  if (typeof candidate.requestId !== \"string\") return false;\n  if (!candidate.response || typeof candidate.response !== \"object\") {\n    return false;\n  }\n  return true;\n}\nfunction createDeferred() {\n  let resolve2;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve2 = res;\n    reject = rej;\n  });\n  return { promise, resolve: resolve2, reject };\n}\nfunction normaliseHeaderName(name) {\n  return name.toLowerCase();\n}\nfunction splitHeaderValues(value) {\n  return value.split(/\\r?\\n/).map((part) => part.trim()).filter(Boolean);\n}\nfunction parseHeadersText(headersText) {\n  if (!headersText) return [];\n  const lines = headersText.split(/\\r?\\n/);\n  const entries = [];\n  for (const line of lines) {\n    if (!line || line.startsWith(\"HTTP/\")) continue;\n    const index = line.indexOf(\":\");\n    if (index === -1) continue;\n    const name = line.slice(0, index).trim();\n    const value = line.slice(index + 1).trim();\n    entries.push({ name, value });\n  }\n  return entries;\n}\nvar Response;\nvar init_response = __esm({\n  \"lib/v3/understudy/response.ts\"() {\n    init_sdkErrors();\n    Response = class _Response {\n      /**\n       * Build a response wrapper from the CDP notification associated with a\n       * navigation. The constructor captures the owning page/session so follow-up\n       * methods (body/text/json) can query CDP on-demand. The `response` payload is\n       * the raw `Protocol.Network.Response` object emitted by Chrome.\n       */\n      constructor(params) {\n        this.headersArrayCache = null;\n        this.allHeadersCache = null;\n        this.headerValuesMap = /* @__PURE__ */ new Map();\n        this.finishedDeferred = createDeferred();\n        this.finishedSettled = false;\n        this.extraInfoHeaders = null;\n        var _a;\n        this.page = params.page;\n        this.session = params.session;\n        this.requestId = params.requestId;\n        this.frameId = params.frameId;\n        this.loaderId = params.loaderId;\n        this.response = params.response;\n        this.fromServiceWorkerFlag = params.fromServiceWorker;\n        if (params.response.remoteIPAddress && params.response.remotePort !== void 0) {\n          this.serverAddress = {\n            ipAddress: params.response.remoteIPAddress,\n            port: params.response.remotePort\n          };\n        } else {\n          this.serverAddress = null;\n        }\n        this.headersObject = {};\n        for (const [name, value] of Object.entries((_a = this.response.headers) != null ? _a : {})) {\n          const lower = normaliseHeaderName(name);\n          if (value === void 0) continue;\n          const values = splitHeaderValues(String(value));\n          this.headerValuesMap.set(lower, values);\n          this.headersObject[lower] = values.join(\", \");\n        }\n      }\n      /** URL associated with the navigation request. */\n      url() {\n        return this.response.url;\n      }\n      /** HTTP status code reported by Chrome. */\n      status() {\n        return this.response.status;\n      }\n      /** Human-readable status text that accompanied the response. */\n      statusText() {\n        return this.response.statusText;\n      }\n      /** Convenience predicate that checks for 2xx statuses. */\n      ok() {\n        const status = this.status();\n        return status >= 200 && status <= 299;\n      }\n      /** Returns the Stagehand frame object that initiated the navigation. */\n      frame() {\n        if (!this.frameId) return null;\n        try {\n          return this.page.frameForId(this.frameId);\n        } catch (e) {\n          return null;\n        }\n      }\n      /** Indicates whether the response was serviced by a Service Worker. */\n      fromServiceWorker() {\n        return this.fromServiceWorkerFlag;\n      }\n      /**\n       * Returns TLS security metadata when provided by the browser. In practice\n       * this includes certificate issuer, protocol, and validity interval.\n       */\n      securityDetails() {\n        return __async(this, null, function* () {\n          var _a;\n          return (_a = this.response.securityDetails) != null ? _a : null;\n        });\n      }\n      /** Returns the resolved server address for the navigation when available. */\n      serverAddr() {\n        return __async(this, null, function* () {\n          var _a;\n          return (_a = this.serverAddress) != null ? _a : null;\n        });\n      }\n      /**\n       * Returns the response headers normalised to lowercase keys. Matches the\n       * behaviour of Playwright's `headers()` by eliding duplicate header entries.\n       */\n      headers() {\n        return __spreadValues({}, this.headersObject);\n      }\n      /**\n       * Returns all headers including those only surfaced through\n       * `responseReceivedExtraInfo` such as `set-cookie`. Values are reported as the\n       * browser sends them (no further splitting or concatenation).\n       */\n      allHeaders() {\n        return __async(this, null, function* () {\n          var _a, _b;\n          if (this.allHeadersCache) return __spreadValues({}, this.allHeadersCache);\n          const source = (_b = (_a = this.extraInfoHeaders) != null ? _a : this.response.headers) != null ? _b : {};\n          const map = {};\n          for (const [name, value] of Object.entries(source)) {\n            map[name] = String(value);\n          }\n          this.allHeadersCache = map;\n          return __spreadValues({}, map);\n        });\n      }\n      /** Returns a concatenated header string for the supplied header name. */\n      headerValue(name) {\n        return __async(this, null, function* () {\n          const values = yield this.headerValues(name);\n          if (!values.length) return null;\n          return values.join(\", \");\n        });\n      }\n      /** Returns all values for a header (case-insensitive lookup). */\n      headerValues(name) {\n        return __async(this, null, function* () {\n          var _a;\n          const lower = normaliseHeaderName(name);\n          if (this.extraInfoHeaders) {\n            const raw = (_a = this.extraInfoHeaders[name]) != null ? _a : this.extraInfoHeaders[lower];\n            if (raw !== void 0) {\n              return splitHeaderValues(String(raw));\n            }\n          }\n          const values = this.headerValuesMap.get(lower);\n          return values ? [...values] : [];\n        });\n      }\n      /**\n       * Returns header entries preserving their original wire casing and ordering.\n       * Falls back to the CDP object when the raw header text is unavailable.\n       */\n      headersArray() {\n        return __async(this, null, function* () {\n          var _a, _b;\n          if (this.headersArrayCache) return [...this.headersArrayCache];\n          const entriesFromText = parseHeadersText(this.extraInfoHeadersText);\n          if (entriesFromText.length > 0) {\n            this.headersArrayCache = entriesFromText;\n            return [...entriesFromText];\n          }\n          const entries = [];\n          const source = (_b = (_a = this.extraInfoHeaders) != null ? _a : this.response.headers) != null ? _b : {};\n          for (const [name, value] of Object.entries(source)) {\n            const values = splitHeaderValues(String(value));\n            for (const val of values) {\n              entries.push({ name, value: val });\n            }\n          }\n          this.headersArrayCache = entries;\n          return [...entries];\n        });\n      }\n      /**\n       * Requests the raw response body from Chrome DevTools Protocol. The method is\n       * intentionally lazy because not every caller needs the payload, and CDP only\n       * allows retrieving it once the response completes.\n       */\n      body() {\n        return __async(this, null, function* () {\n          const result = yield this.session.send(\n            \"Network.getResponseBody\",\n            { requestId: this.requestId }\n          ).catch((error) => {\n            throw new ResponseBodyError(String(error));\n          });\n          if (result.base64Encoded) {\n            return Buffer.from(result.body, \"base64\");\n          }\n          return Buffer.from(result.body, \"utf-8\");\n        });\n      }\n      /** Decodes the response body as UTF-8 text. */\n      text() {\n        return __async(this, null, function* () {\n          const buffer = yield this.body();\n          return buffer.toString(\"utf-8\");\n        });\n      }\n      /** Parses the response body as JSON and throws if parsing fails. */\n      json() {\n        return __async(this, null, function* () {\n          const text = yield this.text();\n          try {\n            return JSON.parse(text);\n          } catch (error) {\n            throw new ResponseParseError(String(error));\n          }\n        });\n      }\n      /**\n       * Resolves once the underlying network request completes or fails. Mirrors\n       * Playwright's behaviour by resolving to `null` on success and to an `Error`\n       * instance when Chrome reports `Network.loadingFailed`.\n       */\n      finished() {\n        return __async(this, null, function* () {\n          return this.finishedDeferred.promise;\n        });\n      }\n      /**\n       * Internal helper invoked by the navigation tracker when CDP reports extra\n       * header information. This keeps the cached header views in sync with the\n       * richer metadata.\n       */\n      applyExtraInfo(event) {\n        var _a;\n        this.extraInfoHeaders = event.headers;\n        this.extraInfoHeadersText = event.headersText;\n        this.allHeadersCache = null;\n        this.headersArrayCache = null;\n        this.headersObject = {};\n        this.headerValuesMap.clear();\n        const source = (_a = event.headers) != null ? _a : {};\n        for (const [name, value] of Object.entries(source)) {\n          const lower = normaliseHeaderName(name);\n          const segments = splitHeaderValues(String(value));\n          this.headerValuesMap.set(lower, segments);\n          this.headersObject[lower] = segments.join(\", \");\n        }\n      }\n      /**\n       * Internal helper for creating a Response object from a Serializable\n       * goto response from the Stagehand API\n       */\n      static fromSerializable(serialized, context) {\n        var _a;\n        const reconstructed = new _Response({\n          page: context.page,\n          session: context.session,\n          requestId: serialized.requestId,\n          frameId: serialized.frameId,\n          loaderId: serialized.loaderId,\n          response: serialized.response,\n          fromServiceWorker: (_a = serialized.fromServiceWorkerFlag) != null ? _a : false\n        });\n        if (serialized.extraInfoHeaders) {\n          reconstructed.applyExtraInfo({\n            requestId: serialized.requestId,\n            headers: serialized.extraInfoHeaders,\n            headersText: serialized.extraInfoHeadersText\n          });\n        }\n        if (serialized.finishedSettled) {\n          reconstructed.markFinished(null);\n        }\n        return reconstructed;\n      }\n      /** Marks the response as finished and resolves the `finished()` promise. */\n      markFinished(error) {\n        if (this.finishedSettled) return;\n        this.finishedSettled = true;\n        if (error) {\n          this.finishedDeferred.resolve(error);\n        } else {\n          this.finishedDeferred.resolve(null);\n        }\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/frame.ts\nvar Frame;\nvar init_frame = __esm({\n  \"lib/v3/understudy/frame.ts\"() {\n    init_locator();\n    init_sdkErrors();\n    Frame = class _Frame {\n      constructor(session, frameId, pageId, remoteBrowser) {\n        this.session = session;\n        this.frameId = frameId;\n        this.pageId = pageId;\n        this.remoteBrowser = remoteBrowser;\n        var _a;\n        this.sessionId = (_a = this.session.id) != null ? _a : null;\n      }\n      /** True when the controlled browser runs on a different machine. */\n      isBrowserRemote() {\n        return this.remoteBrowser;\n      }\n      /** DOM.getNodeForLocation  DOM.describeNode */\n      getNodeAtLocation(x, y) {\n        return __async(this, null, function* () {\n          yield this.session.send(\"DOM.enable\");\n          const { backendNodeId } = yield this.session.send(\"DOM.getNodeForLocation\", {\n            x,\n            y,\n            includeUserAgentShadowDOM: true,\n            ignorePointerEventsNone: false\n          });\n          const { node } = yield this.session.send(\"DOM.describeNode\", { backendNodeId });\n          return node;\n        });\n      }\n      /** CSS selector  DOM.querySelector  DOM.getBoxModel */\n      getLocationForSelector(selector) {\n        return __async(this, null, function* () {\n          yield this.session.send(\"DOM.enable\");\n          const { root } = yield this.session.send(\n            \"DOM.getDocument\"\n          );\n          const { nodeId } = yield this.session.send(\n            \"DOM.querySelector\",\n            { nodeId: root.nodeId, selector }\n          );\n          const { model } = yield this.session.send(\n            \"DOM.getBoxModel\",\n            { nodeId }\n          );\n          const x = model.content[0];\n          const y = model.content[1];\n          const width = model.width;\n          const height = model.height;\n          return { x, y, width, height };\n        });\n      }\n      /** Accessibility.getFullAXTree (+ recurse into child frames if requested) */\n      getAccessibilityTree(withFrames = false) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          yield this.session.send(\"Accessibility.enable\");\n          let nodes = [];\n          try {\n            ({ nodes } = yield this.session.send(\"Accessibility.getFullAXTree\", { frameId: this.frameId }));\n          } catch (e) {\n            const msg = String((_b = (_a = e == null ? void 0 : e.message) != null ? _a : e) != null ? _b : \"\");\n            const isFrameScopeError = msg.includes(\"Frame with the given\") || msg.includes(\"does not belong to the target\") || msg.includes(\"is not found\");\n            if (!isFrameScopeError) throw e;\n            ({ nodes } = yield this.session.send(\"Accessibility.getFullAXTree\"));\n          }\n          if (!withFrames) return nodes;\n          const children = yield this.childFrames();\n          for (const child of children) {\n            const childNodes = yield child.getAccessibilityTree(false);\n            nodes.push(...childNodes);\n          }\n          return nodes;\n        });\n      }\n      /**\n       * Evaluate a function or expression in this frame's isolated world.\n       * - If a string is provided, treated as a JS expression.\n       * - If a function is provided, it is stringified and invoked with the optional argument.\n       */\n      evaluate(pageFunctionOrExpression, arg) {\n        return __async(this, null, function* () {\n          var _a;\n          yield this.session.send(\"Runtime.enable\").catch(() => {\n          });\n          const contextId = yield this.getExecutionContextId();\n          const isString = typeof pageFunctionOrExpression === \"string\";\n          let expression;\n          if (isString) {\n            expression = String(pageFunctionOrExpression);\n          } else {\n            const fnSrc = pageFunctionOrExpression.toString();\n            const argJson = JSON.stringify(arg);\n            expression = `(() => {\n        const __fn = ${fnSrc};\n        const __arg = ${argJson};\n        try {\n          const __res = __fn(__arg);\n          return Promise.resolve(__res).then(v => {\n            try { return JSON.parse(JSON.stringify(v)); } catch { return v; }\n          });\n        } catch (e) { throw e; }\n      })()`;\n          }\n          const res = yield this.session.send(\n            \"Runtime.evaluate\",\n            {\n              expression,\n              contextId,\n              awaitPromise: true,\n              returnByValue: true\n            }\n          );\n          if (res.exceptionDetails) {\n            throw new StagehandEvalError(\n              (_a = res.exceptionDetails.text) != null ? _a : \"Evaluation failed\"\n            );\n          }\n          return res.result.value;\n        });\n      }\n      /** Page.captureScreenshot (frame-scoped session) */\n      screenshot(options) {\n        return __async(this, null, function* () {\n          var _a;\n          yield this.session.send(\"Page.enable\");\n          const format = (_a = options == null ? void 0 : options.type) != null ? _a : \"png\";\n          const params = {\n            format,\n            fromSurface: true,\n            captureBeyondViewport: options == null ? void 0 : options.fullPage\n          };\n          const clampScale = (value) => Math.min(2, Math.max(0.1, value));\n          const normalizedScale = typeof (options == null ? void 0 : options.scale) === \"number\" ? clampScale(options.scale) : void 0;\n          if (options == null ? void 0 : options.clip) {\n            const clip = {\n              x: options.clip.x,\n              y: options.clip.y,\n              width: options.clip.width,\n              height: options.clip.height,\n              scale: normalizedScale != null ? normalizedScale : 1\n            };\n            params.clip = clip;\n          } else if (normalizedScale !== void 0 && normalizedScale !== 1) {\n            params.scale = normalizedScale;\n          }\n          if (format === \"jpeg\" && typeof (options == null ? void 0 : options.quality) === \"number\") {\n            const q = Math.round(options.quality);\n            params.quality = Math.min(100, Math.max(0, q));\n          }\n          const { data } = yield this.session.send(\n            \"Page.captureScreenshot\",\n            params\n          );\n          return Buffer.from(data, \"base64\");\n        });\n      }\n      /** Child frames via Page.getFrameTree */\n      childFrames() {\n        return __async(this, null, function* () {\n          const { frameTree } = yield this.session.send(\"Page.getFrameTree\");\n          const frames = [];\n          const collect = (tree) => {\n            var _a;\n            if (tree.frame.parentId === this.frameId) {\n              frames.push(\n                new _Frame(\n                  this.session,\n                  tree.frame.id,\n                  this.pageId,\n                  this.remoteBrowser\n                )\n              );\n            }\n            (_a = tree.childFrames) == null ? void 0 : _a.forEach(collect);\n          };\n          collect(frameTree);\n          return frames;\n        });\n      }\n      /** Wait for a lifecycle state (load/domcontentloaded/networkidle) */\n      waitForLoadState(state = \"load\") {\n        return __async(this, null, function* () {\n          yield this.session.send(\"Page.enable\");\n          yield new Promise((resolve2) => {\n            const handler = (evt) => {\n              if (evt.frameId === this.frameId && evt.name === state) {\n                this.session.off(\"Page.lifecycleEvent\", handler);\n                resolve2();\n              }\n            };\n            this.session.on(\"Page.lifecycleEvent\", handler);\n          });\n        });\n      }\n      /** Simple placeholder for your own locator abstraction */\n      locator(selector, options) {\n        return new Locator(this, selector, options);\n      }\n      /** Create/get an isolated world for this frame and return its executionContextId */\n      getExecutionContextId() {\n        return __async(this, null, function* () {\n          yield this.session.send(\"Page.enable\");\n          yield this.session.send(\"Runtime.enable\");\n          const { executionContextId } = yield this.session.send(\"Page.createIsolatedWorld\", {\n            frameId: this.frameId,\n            worldName: \"v3-world\"\n          });\n          return executionContextId;\n        });\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/frameRegistry.ts\nfunction shellFrame(id) {\n  return {\n    id,\n    loaderId: \"\",\n    url: \"\",\n    domainAndRegistry: \"\",\n    securityOrigin: \"\",\n    mimeType: \"text/html\",\n    secureContextType: \"InsecureScheme\",\n    crossOriginIsolatedContextType: \"NotIsolated\",\n    gatedAPIFeatures: []\n  };\n}\nvar FrameRegistry;\nvar init_frameRegistry = __esm({\n  \"lib/v3/understudy/frameRegistry.ts\"() {\n    FrameRegistry = class {\n      constructor(ownerTargetId, mainFrameId) {\n        /** frameId  FrameInfo */\n        this.frames = /* @__PURE__ */ new Map();\n        /** sessionId  Set<frameId> (inverse map for diagnostics/fast membership checks) */\n        this.framesBySession = /* @__PURE__ */ new Map();\n        this.ownerTargetId = ownerTargetId;\n        this.rootFrameId = mainFrameId;\n        this.ensureNode(mainFrameId);\n      }\n      // ---------------------- Mutators (called by Context/Page bridges) ----------------------\n      /**\n       * Record that a frame attached. If `parentId` is null and `frameId` differs from the current\n       * root, this is a root swap and we rename the root id.\n       *\n       * IMPORTANT: The emitter's `sessionId` is the **owner** for the new/attached frame.\n       */\n      onFrameAttached(frameId, parentId, sessionId) {\n        if (!parentId && frameId !== this.rootFrameId) {\n          this.renameNodeId(this.rootFrameId, frameId);\n          this.rootFrameId = frameId;\n          this.setOwnerSessionIdInternal(frameId, sessionId);\n          return;\n        }\n        this.ensureNode(frameId);\n        if (parentId) this.ensureNode(parentId);\n        const info = this.frames.get(frameId);\n        info.parentId = parentId != null ? parentId : null;\n        if (parentId) {\n          this.frames.get(parentId).children.add(frameId);\n        }\n        this.setOwnerSessionIdInternal(frameId, sessionId);\n      }\n      /**\n       * Record a navigation with the full CDP `Frame`. Also updates ownership based on the emitting\n       * session id. Handles root swap if the navigated frame is the new main (no parentId).\n       */\n      onFrameNavigated(frame, sessionId) {\n        this.ensureNode(frame.id);\n        const info = this.frames.get(frame.id);\n        info.lastSeen = frame;\n        this.setOwnerSessionIdInternal(frame.id, sessionId);\n        if (!(\"parentId\" in frame) || !frame.parentId) {\n          if (frame.id !== this.rootFrameId) {\n            this.renameNodeId(this.rootFrameId, frame.id);\n            this.rootFrameId = frame.id;\n          }\n        }\n      }\n      onNavigatedWithinDocument(frameId, url, sessionId) {\n        var _a;\n        this.ensureNode(frameId);\n        const info = this.frames.get(frameId);\n        const lastSeen = (_a = info.lastSeen) != null ? _a : shellFrame(frameId);\n        info.lastSeen = __spreadProps(__spreadValues({}, lastSeen), { url });\n        this.setOwnerSessionIdInternal(frameId, sessionId);\n      }\n      /**\n       * Record that a frame detached. If `reason !== \"swap\"`, remove the subtree from the graph,\n       * and clean the inverse maps. For swap we keep the node to preserve continuity.\n       */\n      onFrameDetached(frameId, reason = \"remove\") {\n        if (reason === \"swap\") return;\n        const toRemove = [];\n        const collect = (fid) => {\n          var _a, _b;\n          toRemove.push(fid);\n          const kids = (_b = (_a = this.frames.get(fid)) == null ? void 0 : _a.children) != null ? _b : /* @__PURE__ */ new Set();\n          for (const k of kids) collect(k);\n        };\n        collect(frameId);\n        for (const fid of toRemove) {\n          const info = this.frames.get(fid);\n          if (!info) continue;\n          if (info.parentId) {\n            const p = this.frames.get(info.parentId);\n            p == null ? void 0 : p.children.delete(fid);\n          }\n          if (info.ownerSessionId) {\n            const bag = this.framesBySession.get(info.ownerSessionId);\n            bag == null ? void 0 : bag.delete(fid);\n            if (bag && bag.size === 0)\n              this.framesBySession.delete(info.ownerSessionId);\n          }\n          this.frames.delete(fid);\n        }\n        if (!this.frames.has(this.rootFrameId)) {\n          const iter = this.frames.keys().next();\n          if (!iter.done) this.rootFrameId = iter.value;\n        }\n      }\n      /**\n       * An adopted OOPIF child session was created whose **main** frame id equals the parent iframes frameId.\n       * We mark the entire child subtree as owned by `childSessionId`.\n       * (Topology edges remain aligned by the parent sessions `frameAttached` events.)\n       */\n      adoptChildSession(childSessionId, childMainFrameId) {\n        this.setOwnerSessionIdInternal(childMainFrameId, childSessionId);\n      }\n      /**\n       * Seed topology and ownership from an existing `Page.getFrameTree` snapshot, typically right after\n       * a session is attached. This is a best-effort: we record frames and set the provided `sessionId`\n       * as owner for the subtree **if** an owner isn't already set.\n       */\n      seedFromFrameTree(sessionId, frameTree) {\n        const walk = (tree, parent) => {\n          var _a;\n          this.ensureNode(tree.frame.id);\n          this.frames.get(tree.frame.id).parentId = parent;\n          if (parent) this.frames.get(parent).children.add(tree.frame.id);\n          this.frames.get(tree.frame.id).lastSeen = tree.frame;\n          if (!this.frames.get(tree.frame.id).ownerSessionId) {\n            this.setOwnerSessionIdInternal(tree.frame.id, sessionId);\n          }\n          for (const c of (_a = tree.childFrames) != null ? _a : []) walk(c, tree.frame.id);\n        };\n        walk(frameTree, null);\n      }\n      /**\n       * Set the backendNodeId of the `<iframe>` element for a child frame **as seen from its parent**.\n       * This is useful for building absolute XPath prefixes later (from the parent document).\n       */\n      setOwnerBackendNodeId(childFrameId, backendNodeId) {\n        this.ensureNode(childFrameId);\n        this.frames.get(childFrameId).ownerBackendNodeId = backendNodeId;\n      }\n      // ---------------------- Readers (consumed by Page/snapshot/locators) ----------------------\n      mainFrameId() {\n        return this.rootFrameId;\n      }\n      /**\n       * Return the owner session id for this frame. If unknown, returns `undefined`.\n       */\n      getOwnerSessionId(frameId) {\n        var _a;\n        return (_a = this.frames.get(frameId)) == null ? void 0 : _a.ownerSessionId;\n      }\n      /**\n       * Return the owner backendNodeId (iframe element) if recorded.\n       * This is in the **parent** document; pair it with `getParent`.\n       */\n      getOwnerBackendNodeId(frameId) {\n        var _a;\n        return (_a = this.frames.get(frameId)) == null ? void 0 : _a.ownerBackendNodeId;\n      }\n      /**\n       * Return the parent frame id, or null for root/unknown.\n       */\n      getParent(frameId) {\n        var _a, _b;\n        return (_b = (_a = this.frames.get(frameId)) == null ? void 0 : _a.parentId) != null ? _b : null;\n      }\n      /**\n       * List frame ids in root-first DFS order (same shape as CDPs FrameTree traversal).\n       */\n      listAllFrames() {\n        const out = [];\n        const dfs = (fid) => {\n          var _a, _b;\n          out.push(fid);\n          const kids = (_b = (_a = this.frames.get(fid)) == null ? void 0 : _a.children) != null ? _b : /* @__PURE__ */ new Set();\n          for (const k of kids) dfs(k);\n        };\n        if (this.frames.has(this.rootFrameId)) dfs(this.rootFrameId);\n        return out;\n      }\n      /**\n       * Serialize to `Protocol.Page.FrameTree` starting at the given root id (typically mainFrameId()).\n       */\n      asProtocolFrameTree(rootId) {\n        const build = (fid) => {\n          var _a, _b;\n          const info = this.frames.get(fid);\n          const frame = (_a = info == null ? void 0 : info.lastSeen) != null ? _a : shellFrame(fid);\n          const kids = (_b = info == null ? void 0 : info.children) != null ? _b : /* @__PURE__ */ new Set();\n          const childFrames = kids.size ? [...kids].map((k) => build(k)) : void 0;\n          return childFrames ? { frame, childFrames } : { frame };\n        };\n        return build(rootId);\n      }\n      /**\n       * For diagnostics: return the current owner sessions for a frame id (0..n),\n       * usually 0 or 1, but helpful to see potential inconsistencies during wiring.\n       */\n      sessionsForFrame(frameId) {\n        const info = this.frames.get(frameId);\n        return (info == null ? void 0 : info.ownerSessionId) ? [info.ownerSessionId] : [];\n      }\n      /**\n       * For diagnostics: return current frame set per session.\n       */\n      framesForSession(sessionId) {\n        var _a;\n        return [...(_a = this.framesBySession.get(sessionId)) != null ? _a : /* @__PURE__ */ new Set()];\n      }\n      // ---------------------- Internal helpers ----------------------\n      ensureNode(fid) {\n        if (this.frames.has(fid)) return;\n        this.frames.set(fid, {\n          parentId: null,\n          children: /* @__PURE__ */ new Set(),\n          lastSeen: shellFrame(fid),\n          ownerSessionId: void 0,\n          ownerBackendNodeId: void 0\n        });\n      }\n      renameNodeId(oldId, newId) {\n        if (oldId === newId) return;\n        this.ensureNode(oldId);\n        const info = this.frames.get(oldId);\n        this.frames.delete(oldId);\n        this.frames.set(newId, __spreadValues({}, info));\n        if (info.parentId) {\n          const p = this.frames.get(info.parentId);\n          if (p) {\n            p.children.delete(oldId);\n            p.children.add(newId);\n          }\n        }\n        for (const c of info.children) {\n          const ci = this.frames.get(c);\n          if (ci) ci.parentId = newId;\n        }\n        if (info.ownerSessionId) {\n          const bag = this.framesBySession.get(info.ownerSessionId);\n          if (bag) {\n            bag.delete(oldId);\n            bag.add(newId);\n          }\n        }\n      }\n      setOwnerSessionIdInternal(frameId, sessionId) {\n        var _a;\n        this.ensureNode(frameId);\n        const info = this.frames.get(frameId);\n        if (info.ownerSessionId === sessionId) return;\n        if (info.ownerSessionId) {\n          const prev = this.framesBySession.get(info.ownerSessionId);\n          prev == null ? void 0 : prev.delete(frameId);\n          if (prev && prev.size === 0)\n            this.framesBySession.delete(info.ownerSessionId);\n        }\n        info.ownerSessionId = sessionId;\n        const bag = (_a = this.framesBySession.get(sessionId)) != null ? _a : /* @__PURE__ */ new Set();\n        bag.add(frameId);\n        this.framesBySession.set(sessionId, bag);\n      }\n    };\n  }\n});\n\n// lib/v3/types/private/network.ts\nvar DEFAULT_IDLE_WAIT, IGNORED_RESOURCE_TYPES;\nvar init_network = __esm({\n  \"lib/v3/types/private/network.ts\"() {\n    DEFAULT_IDLE_WAIT = 500;\n    IGNORED_RESOURCE_TYPES = /* @__PURE__ */ new Set([\"EventSource\", \"WebSocket\"]);\n  }\n});\n\n// lib/v3/understudy/networkManager.ts\nvar NetworkManager;\nvar init_networkManager = __esm({\n  \"lib/v3/understudy/networkManager.ts\"() {\n    init_network();\n    NetworkManager = class {\n      constructor() {\n        this.sessions = /* @__PURE__ */ new Map();\n        this.observers = /* @__PURE__ */ new Set();\n        this.requests = /* @__PURE__ */ new Map();\n        this.documentRequestsByFrame = /* @__PURE__ */ new Map();\n      }\n      /**\n       * Begin tracking network traffic for a CDP session (top-level or OOPIF).\n       * Safe to call multiple times; duplicate registrations are ignored.\n       */\n      trackSession(session) {\n        const sid = this.sessionKey(session);\n        if (this.sessions.has(sid)) return;\n        const onRequest = (evt) => {\n          var _a, _b, _c;\n          if (!evt || !evt.requestId) return;\n          const info = {\n            sessionId: sid,\n            requestId: evt.requestId,\n            requestKey: this.requestKey(sid, evt.requestId),\n            frameId: (_a = evt.frameId) != null ? _a : void 0,\n            loaderId: (_b = evt.loaderId) != null ? _b : void 0,\n            url: (_c = evt.request) == null ? void 0 : _c.url,\n            timestamp: Date.now(),\n            resourceType: evt.type,\n            documentRequest: evt.type === \"Document\"\n          };\n          this.requests.set(info.requestKey, info);\n          if (info.documentRequest && info.frameId) {\n            this.documentRequestsByFrame.set(info.frameId, info.requestKey);\n          }\n          this.emitStart(info);\n        };\n        const finish = (reqId) => {\n          const key = this.requestKey(sid, reqId);\n          const stored = this.requests.get(key);\n          if (stored == null ? void 0 : stored.frameId) {\n            this.documentRequestsByFrame.delete(stored.frameId);\n          }\n          const info = stored != null ? stored : {\n            sessionId: sid,\n            requestId: reqId,\n            requestKey: key,\n            timestamp: Date.now(),\n            documentRequest: false\n          };\n          this.requests.delete(key);\n          this.emitFinish(info);\n        };\n        const fail = (reqId) => {\n          const key = this.requestKey(sid, reqId);\n          const stored = this.requests.get(key);\n          if (stored == null ? void 0 : stored.frameId) {\n            this.documentRequestsByFrame.delete(stored.frameId);\n          }\n          const info = stored != null ? stored : {\n            sessionId: sid,\n            requestId: reqId,\n            requestKey: key,\n            timestamp: Date.now(),\n            documentRequest: false\n          };\n          this.requests.delete(key);\n          this.emitFailure(info);\n        };\n        const onFinished = (evt) => {\n          if (!(evt == null ? void 0 : evt.requestId)) return;\n          finish(evt.requestId);\n        };\n        const onFailed = (evt) => {\n          if (!(evt == null ? void 0 : evt.requestId)) return;\n          fail(evt.requestId);\n        };\n        const onResponse = (evt) => {\n          var _a, _b;\n          if (!(evt == null ? void 0 : evt.requestId)) return;\n          const url = (_b = (_a = evt.response) == null ? void 0 : _a.url) != null ? _b : \"\";\n          if (url.startsWith(\"data:\")) finish(evt.requestId);\n        };\n        const onFrameStopped = (evt) => {\n          if (!(evt == null ? void 0 : evt.frameId)) return;\n          const key = this.documentRequestsByFrame.get(evt.frameId);\n          if (!key) return;\n          const stored = this.requests.get(key);\n          if (!stored) {\n            this.documentRequestsByFrame.delete(evt.frameId);\n            return;\n          }\n          this.requests.delete(key);\n          this.documentRequestsByFrame.delete(evt.frameId);\n          this.emitFinish(__spreadProps(__spreadValues({}, stored), { timestamp: Date.now() }));\n        };\n        session.on(\"Network.requestWillBeSent\", onRequest);\n        session.on(\"Network.loadingFinished\", onFinished);\n        session.on(\"Network.loadingFailed\", onFailed);\n        session.on(\"Network.requestServedFromCache\", onFinished);\n        session.on(\"Network.responseReceived\", onResponse);\n        session.on(\"Page.frameStoppedLoading\", onFrameStopped);\n        void session.send(\"Network.enable\").catch(() => {\n        });\n        void session.send(\"Page.enable\").catch(() => {\n        });\n        this.sessions.set(sid, {\n          session,\n          detach: () => {\n            session.off(\"Network.requestWillBeSent\", onRequest);\n            session.off(\"Network.loadingFinished\", onFinished);\n            session.off(\"Network.loadingFailed\", onFailed);\n            session.off(\"Network.requestServedFromCache\", onFinished);\n            session.off(\"Network.responseReceived\", onResponse);\n            session.off(\"Page.frameStoppedLoading\", onFrameStopped);\n          }\n        });\n      }\n      /**\n       * Stop tracking a session and discard any inflight bookkeeping owned by it.\n       */\n      untrackSession(rawSessionId) {\n        const sid = rawSessionId != null ? rawSessionId : \"__main__\";\n        const entry = this.sessions.get(sid);\n        if (!entry) return;\n        entry.detach();\n        this.sessions.delete(sid);\n        for (const key of [...this.requests.keys()]) {\n          if (key.startsWith(`${sid}:`)) this.requests.delete(key);\n        }\n        for (const [frameId, key] of [...this.documentRequestsByFrame.entries()]) {\n          if (key.startsWith(`${sid}:`)) {\n            this.documentRequestsByFrame.delete(frameId);\n          }\n        }\n      }\n      /**\n       * Register a passive observer for request lifecycle notifications.\n       * Returns a disposer that removes the observer.\n       */\n      addObserver(observer) {\n        this.observers.add(observer);\n        return () => {\n          this.observers.delete(observer);\n        };\n      }\n      /**\n       * Resolve once no (filtered) requests are in flight for the given quiet window.\n       * The waiter automatically unregisters itself on completion or timeout.\n       */\n      waitForIdle(options) {\n        var _a, _b, _c, _d;\n        const startTime = (_a = options.startTime) != null ? _a : Date.now();\n        const idleTimeMs = (_b = options.idleTimeMs) != null ? _b : DEFAULT_IDLE_WAIT;\n        const timeoutMs = options.timeoutMs;\n        const remainingBudgetMs = Number.isFinite(timeoutMs) ? timeoutMs : void 0;\n        const originalBudgetMs = Number.isFinite((_c = options.totalBudgetMs) != null ? _c : NaN) ? options.totalBudgetMs : remainingBudgetMs;\n        const filter2 = (_d = options.filter) != null ? _d : (info) => {\n          return !IGNORED_RESOURCE_TYPES.has(info.resourceType);\n        };\n        const tracked = /* @__PURE__ */ new Set();\n        let idleTimer = null;\n        let timeoutTimer = null;\n        let settled = false;\n        let resolveFn = null;\n        let rejectFn = null;\n        const cleanup = (error) => {\n          if (settled) return;\n          settled = true;\n          if (idleTimer) clearTimeout(idleTimer);\n          if (timeoutTimer) clearTimeout(timeoutTimer);\n          removeObserver();\n          tracked.clear();\n          if (error) {\n            rejectFn == null ? void 0 : rejectFn(error);\n          } else {\n            resolveFn == null ? void 0 : resolveFn();\n          }\n        };\n        const maybeIdle = () => {\n          if (settled) return;\n          if (tracked.size === 0) {\n            if (!idleTimer) {\n              idleTimer = setTimeout(() => {\n                cleanup();\n              }, idleTimeMs);\n            }\n          } else if (idleTimer) {\n            clearTimeout(idleTimer);\n            idleTimer = null;\n          }\n        };\n        const observer = {\n          onRequestStarted: (info) => {\n            if (settled) return;\n            if (info.timestamp < startTime) return;\n            if (!filter2(info)) return;\n            tracked.add(info.requestKey);\n            if (idleTimer) {\n              clearTimeout(idleTimer);\n              idleTimer = null;\n            }\n          },\n          onRequestFinished: (info) => {\n            if (settled) return;\n            if (!tracked.delete(info.requestKey)) return;\n            maybeIdle();\n          },\n          onRequestFailed: (info) => {\n            if (settled) return;\n            if (!tracked.delete(info.requestKey)) return;\n            maybeIdle();\n          }\n        };\n        const removeObserver = this.addObserver(observer);\n        const promise = new Promise((resolve2, reject) => {\n          resolveFn = resolve2;\n          rejectFn = reject;\n        });\n        maybeIdle();\n        if (Number.isFinite(timeoutMs)) {\n          timeoutTimer = setTimeout(\n            () => {\n              const elapsed = Date.now() - startTime;\n              const message = originalBudgetMs !== void 0 ? `networkidle timed out after ${originalBudgetMs}ms` : `networkidle timed out after ${elapsed}ms`;\n              cleanup(new Error(message));\n            },\n            Math.max(0, timeoutMs)\n          );\n        }\n        return {\n          promise,\n          dispose: () => cleanup(new Error(\"waitForIdle disposed\"))\n        };\n      }\n      /**\n       * Tear down all session listeners and clear observers/bookkeeping.\n       */\n      dispose() {\n        for (const { detach } of this.sessions.values()) {\n          detach();\n        }\n        this.sessions.clear();\n        this.observers.clear();\n        this.requests.clear();\n        this.documentRequestsByFrame.clear();\n      }\n      /** Fan-out helper when a tracked request starts. */\n      emitStart(info) {\n        for (const obs of this.observers) {\n          obs.onRequestStarted(info);\n        }\n      }\n      /** Fan-out helper when a tracked request completes successfully. */\n      emitFinish(info) {\n        for (const obs of this.observers) {\n          obs.onRequestFinished(info);\n        }\n      }\n      /** Fan-out helper when a tracked request fails mid-flight. */\n      emitFailure(info) {\n        for (const obs of this.observers) {\n          obs.onRequestFailed(info);\n        }\n      }\n      /** Compute a stable key for a session (falls back to synthetic root id). */\n      sessionKey(session) {\n        var _a;\n        return (_a = session.id) != null ? _a : \"__main__\";\n      }\n      /** Compose the unique key for tracking a request under a session. */\n      requestKey(sessionId, requestId) {\n        return `${sessionId}:${requestId}`;\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/lifecycleWatcher.ts\nvar LifecycleWatcher;\nvar init_lifecycleWatcher = __esm({\n  \"lib/v3/understudy/lifecycleWatcher.ts\"() {\n    init_sdkErrors();\n    init_network();\n    LifecycleWatcher = class {\n      /**\n       * Create a watcher; callers should subsequently invoke {@link wait}.\n       */\n      constructor(params) {\n        this.cleanupCallbacks = [];\n        this.idleHandle = null;\n        this.abortReject = null;\n        this.abortError = null;\n        this.disposed = false;\n        this.pendingFollowupNavigation = false;\n        this.page = params.page;\n        this.mainSession = params.mainSession;\n        this.networkManager = params.networkManager;\n        this.waitUntil = params.waitUntil;\n        this.timeoutMs = params.timeoutMs;\n        this.startTime = Date.now();\n        this.navigationCommandId = params.navigationCommandId;\n        this.idleStartTime = this.startTime;\n        this.abortPromise = new Promise((_, reject) => {\n          this.abortReject = reject;\n        });\n        this.installSessionListeners();\n      }\n      /** Hint the watcher with the loader id returned by Page.navigate. */\n      setExpectedLoaderId(loaderId) {\n        if (!loaderId) return;\n        this.expectedLoaderId = loaderId;\n        this.initialLoaderId = loaderId;\n        this.currentLoaderId = loaderId;\n        this.idleStartTime = Date.now();\n      }\n      /** Wait for the requested lifecycle state or throw on timeout/abort. */\n      wait() {\n        return __async(this, null, function* () {\n          const deadline = Date.now() + this.timeoutMs;\n          try {\n            if (this.waitUntil === \"domcontentloaded\") {\n              yield this.awaitWithAbort(\n                this.page.waitForMainLoadState(\n                  \"domcontentloaded\",\n                  this.timeRemaining(deadline)\n                )\n              );\n              return;\n            }\n            while (true) {\n              yield this.awaitWithAbort(\n                this.page.waitForMainLoadState(\"load\", this.timeRemaining(deadline))\n              );\n              if (this.waitUntil !== \"networkidle\") break;\n              try {\n                yield this.awaitWithAbort(this.waitForNetworkIdle(deadline));\n                break;\n              } catch (error) {\n                if (this.shouldRestartAfterFollowup(error)) {\n                  continue;\n                }\n                throw error;\n              }\n            }\n          } finally {\n            this.dispose();\n          }\n          if (this.abortError) throw this.abortError;\n        });\n      }\n      /** Cancel any outstanding network-idle waits and remove event listeners. */\n      dispose() {\n        if (this.disposed) return;\n        this.disposed = true;\n        if (this.idleHandle) {\n          void this.idleHandle.promise.catch(() => {\n          });\n          this.idleHandle.dispose();\n          this.idleHandle = null;\n        }\n        for (const fn of this.cleanupCallbacks) {\n          try {\n            fn();\n          } catch (e) {\n          }\n        }\n        this.cleanupCallbacks = [];\n        this.abortReject = null;\n      }\n      /** Subscribe to main-frame events to detect abort conditions. */\n      installSessionListeners() {\n        const onFrameNavigated = (evt) => {\n          var _a;\n          if (!((_a = evt == null ? void 0 : evt.frame) == null ? void 0 : _a.id)) return;\n          const mainFrameId = this.page.mainFrameId();\n          if (evt.frame.id !== mainFrameId) return;\n          const loaderId = evt.frame.loaderId;\n          if (!loaderId) return;\n          if (!this.initialLoaderId) {\n            this.initialLoaderId = loaderId;\n            this.currentLoaderId = loaderId;\n            this.idleStartTime = Date.now();\n          }\n          if (!this.expectedLoaderId) {\n            this.expectedLoaderId = loaderId;\n            this.currentLoaderId = loaderId;\n            this.idleStartTime = Date.now();\n            return;\n          }\n          if (loaderId !== this.expectedLoaderId) {\n            if (!this.page.isCurrentNavigationCommand(this.navigationCommandId)) {\n              this.triggerAbort(\n                new Error(\"Navigation was superseded by a new request\")\n              );\n              return;\n            }\n            this.adoptNewMainLoader(loaderId);\n          }\n        };\n        const onFrameDetached = (evt) => {\n          if (!(evt == null ? void 0 : evt.frameId)) return;\n          const mainFrameId = this.page.mainFrameId();\n          if (evt.frameId !== mainFrameId) return;\n          if (evt.reason === \"swap\") return;\n          this.triggerAbort(new Error(\"Main frame was detached\"));\n        };\n        this.mainSession.on(\"Page.frameNavigated\", onFrameNavigated);\n        this.cleanupCallbacks.push(() => {\n          this.mainSession.off(\"Page.frameNavigated\", onFrameNavigated);\n        });\n        this.mainSession.on(\"Page.frameDetached\", onFrameDetached);\n        this.cleanupCallbacks.push(() => {\n          this.mainSession.off(\"Page.frameDetached\", onFrameDetached);\n        });\n      }\n      /** Compute remaining time until the shared deadline elapses. */\n      timeRemaining(deadline) {\n        const remaining = deadline - Date.now();\n        if (remaining <= 0) {\n          throw new TimeoutError(\"Lifecycle wait\", this.timeoutMs);\n        }\n        return remaining;\n      }\n      /** Await an operation but abort early if navigation replacement fires. */\n      awaitWithAbort(operation) {\n        return __async(this, null, function* () {\n          try {\n            return yield Promise.race([operation, this.abortPromise]);\n          } catch (error) {\n            if (this.abortError) throw this.abortError;\n            throw error;\n          }\n        });\n      }\n      /** Mark the watcher as aborted and reject any pending waiters. */\n      triggerAbort(error) {\n        if (this.abortError) return;\n        this.abortError = error;\n        if (this.abortReject) {\n          this.abortReject(error);\n          this.abortReject = null;\n        }\n      }\n      waitForNetworkIdle(deadline) {\n        this.pendingFollowupNavigation = false;\n        const remaining = this.timeRemaining(deadline);\n        const idleWindow = Math.min(DEFAULT_IDLE_WAIT, remaining);\n        this.idleHandle = this.networkManager.waitForIdle({\n          startTime: this.idleStartTime,\n          timeoutMs: remaining,\n          totalBudgetMs: this.timeoutMs,\n          idleTimeMs: idleWindow,\n          filter: this.buildIdleFilter()\n        });\n        return this.idleHandle.promise.catch((error) => {\n          if (this.abortError) throw this.abortError;\n          throw error;\n        });\n      }\n      shouldRestartAfterFollowup(error) {\n        if (!this.pendingFollowupNavigation) return false;\n        if (!(error instanceof Error)) return false;\n        if (error.message !== \"waitForIdle disposed\") return false;\n        this.pendingFollowupNavigation = false;\n        return true;\n      }\n      adoptNewMainLoader(loaderId) {\n        this.expectedLoaderId = loaderId;\n        this.currentLoaderId = loaderId;\n        this.idleStartTime = Date.now();\n        if (this.waitUntil !== \"networkidle\") return;\n        this.pendingFollowupNavigation = true;\n        if (this.idleHandle) {\n          const handle = this.idleHandle;\n          this.idleHandle = null;\n          void handle.promise.catch(() => {\n          });\n          handle.dispose();\n        }\n      }\n      buildIdleFilter() {\n        const loaderId = this.currentLoaderId;\n        const mainFrameId = this.page.mainFrameId();\n        return (info) => {\n          if (IGNORED_RESOURCE_TYPES.has(info.resourceType)) return false;\n          if (loaderId && info.loaderId) {\n            return info.loaderId === loaderId;\n          }\n          if (!info.loaderId && info.frameId) {\n            return info.frameId === mainFrameId;\n          }\n          return true;\n        };\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/navigationResponseTracker.ts\nvar NavigationResponseTracker;\nvar init_navigationResponseTracker = __esm({\n  \"lib/v3/understudy/navigationResponseTracker.ts\"() {\n    init_response();\n    NavigationResponseTracker = class {\n      /**\n       * Create a tracker bound to a specific navigation command. The tracker begins\n       * listening for network events immediately so it should be constructed before\n       * the navigation request is dispatched.\n       */\n      constructor(params) {\n        this.selectedRequestId = null;\n        this.selectedResponse = null;\n        this.acceptNextWithoutLoader = false;\n        this.responseResolved = false;\n        this.pendingResponsesByLoader = /* @__PURE__ */ new Map();\n        this.pendingExtraInfo = /* @__PURE__ */ new Map();\n        this.listeners = [];\n        this.page = params.page;\n        this.session = params.session;\n        this.navigationCommandId = params.navigationCommandId;\n        this.responsePromise = new Promise((resolve2) => {\n          this.resolveResponse = (value) => {\n            if (this.responseResolved) return;\n            this.responseResolved = true;\n            resolve2(value);\n          };\n        });\n        this.installListeners();\n      }\n      /** Stop listening for CDP events and release any pending bookkeeping. */\n      dispose() {\n        for (const { event, handler } of this.listeners) {\n          this.session.off(event, handler);\n        }\n        this.listeners.length = 0;\n        this.pendingResponsesByLoader.clear();\n        this.pendingExtraInfo.clear();\n      }\n      /**\n       * Hint the tracker with the loader id returned by `Page.navigate`. Chrome only\n       * emits this once the browser begins navigating, so we store early responses\n       * and match them once the loader id is known.\n       */\n      setExpectedLoaderId(loaderId) {\n        if (!loaderId) return;\n        this.expectedLoaderId = loaderId;\n        const pending = this.pendingResponsesByLoader.get(loaderId);\n        if (pending) {\n          this.pendingResponsesByLoader.delete(loaderId);\n          this.selectResponse(pending);\n        }\n      }\n      /**\n       * Some navigation APIs (reload/history traversal) do not provide a loader id\n       * up front. This flag instructs the tracker to accept the next qualifying\n       * document response even if no loader id has been announced yet.\n       */\n      expectNavigationWithoutKnownLoader() {\n        this.acceptNextWithoutLoader = true;\n      }\n      /**\n       * Returns a promise that resolves with the matched response (or `null` when\n       * no document response was observed).\n       */\n      navigationCompleted() {\n        return __async(this, null, function* () {\n          if (!this.responseResolved) {\n            queueMicrotask(() => {\n              if (!this.responseResolved) this.resolveResponse(null);\n            });\n          }\n          return this.responsePromise;\n        });\n      }\n      /** Expose the raw response promise (mainly for tests). */\n      response() {\n        return __async(this, null, function* () {\n          return this.responsePromise;\n        });\n      }\n      /** Register all CDP listeners relevant to navigation tracking. */\n      installListeners() {\n        this.addListener(\"Network.responseReceived\", (event) => {\n          this.onResponseReceived(event);\n        });\n        this.addListener(\"Network.responseReceivedExtraInfo\", (event) => {\n          this.onResponseReceivedExtraInfo(\n            event\n          );\n        });\n        this.addListener(\"Network.loadingFinished\", (event) => {\n          this.onLoadingFinished(event);\n        });\n        this.addListener(\"Network.loadingFailed\", (event) => {\n          this.onLoadingFailed(event);\n        });\n      }\n      /** Attach a CDP listener and track it for later disposal. */\n      addListener(event, handler) {\n        this.session.on(event, handler);\n        this.listeners.push({ event, handler });\n      }\n      /** Handle the initial response payload for document navigations. */\n      onResponseReceived(event) {\n        var _a;\n        if (!this.page.isCurrentNavigationCommand(this.navigationCommandId)) return;\n        if (!event || !event.response) return;\n        if (event.type !== \"Document\") return;\n        if (event.frameId !== this.page.mainFrameId()) return;\n        const loaderId = (_a = event.loaderId) != null ? _a : \"\";\n        if (this.acceptNextWithoutLoader) {\n          this.acceptNextWithoutLoader = false;\n          this.selectResponse(event);\n          return;\n        }\n        if (this.expectedLoaderId) {\n          if (loaderId && loaderId !== this.expectedLoaderId) {\n            this.pendingResponsesByLoader.set(loaderId, event);\n            return;\n          }\n          this.selectResponse(event);\n          return;\n        }\n        if (loaderId) {\n          this.pendingResponsesByLoader.set(loaderId, event);\n          return;\n        }\n        this.selectResponse(event);\n      }\n      /** Merge auxiliary header information once Chrome exposes it. */\n      onResponseReceivedExtraInfo(event) {\n        var _a;\n        if (!event || !event.requestId) return;\n        if (this.selectedRequestId && event.requestId === this.selectedRequestId) {\n          (_a = this.selectedResponse) == null ? void 0 : _a.applyExtraInfo(event);\n          return;\n        }\n        this.pendingExtraInfo.set(event.requestId, event);\n      }\n      /** Resolve the response's finished promise when the request completes. */\n      onLoadingFinished(event) {\n        var _a;\n        if (!event || !event.requestId) return;\n        if (event.requestId !== this.selectedRequestId) return;\n        (_a = this.selectedResponse) == null ? void 0 : _a.markFinished(null);\n      }\n      /** Resolve the response's finished promise with an error on failure. */\n      onLoadingFailed(event) {\n        var _a;\n        if (!event || !event.requestId) return;\n        if (event.requestId !== this.selectedRequestId) return;\n        const errorText = event.errorText || \"Navigation request failed\";\n        (_a = this.selectedResponse) == null ? void 0 : _a.markFinished(new Error(errorText));\n      }\n      /**\n       * Create the `Response` wrapper for the chosen document response and\n       * resolve awaiting consumers. Subsequent events flesh out the header/body\n       * helpers and mark the request as finished.\n       */\n      selectResponse(event) {\n        var _a, _b, _c, _d, _e, _f;\n        if (event.loaderId) {\n          this.pendingResponsesByLoader.delete(event.loaderId);\n        }\n        if (this.responseResolved) return;\n        if (this.selectedResponse) return;\n        const protocol = (_c = (_b = (_a = event.response) == null ? void 0 : _a.protocol) == null ? void 0 : _b.toLowerCase()) != null ? _c : \"\";\n        const url = (_e = (_d = event.response) == null ? void 0 : _d.url) != null ? _e : \"\";\n        const isDataUrl = protocol === \"data\" || url.startsWith(\"data:\");\n        const isAboutUrl = protocol === \"about\" || url.startsWith(\"about:\");\n        if (isDataUrl || isAboutUrl) {\n          this.pendingExtraInfo.delete(event.requestId);\n          this.selectedRequestId = null;\n          this.selectedResponse = null;\n          this.resolveResponse(null);\n          return;\n        }\n        const response = new Response({\n          page: this.page,\n          session: this.session,\n          requestId: event.requestId,\n          frameId: event.frameId,\n          loaderId: event.loaderId,\n          response: event.response,\n          fromServiceWorker: Boolean((_f = event.response) == null ? void 0 : _f.fromServiceWorker)\n        });\n        this.selectedRequestId = event.requestId;\n        this.selectedResponse = response;\n        const extraInfo = this.pendingExtraInfo.get(event.requestId);\n        if (extraInfo) {\n          response.applyExtraInfo(extraInfo);\n          this.pendingExtraInfo.delete(event.requestId);\n        }\n        this.resolveResponse(response);\n      }\n    };\n  }\n});\n\n// lib/v3/understudy/screenshotUtils.ts\nfunction collectFramesForScreenshot(page) {\n  const seen = /* @__PURE__ */ new Map();\n  const main = page.mainFrame();\n  seen.set(main.frameId, main);\n  for (const frame of page.frames()) {\n    seen.set(frame.frameId, frame);\n  }\n  return Array.from(seen.values());\n}\nfunction normalizeScreenshotClip(clip) {\n  const x = Number(clip.x);\n  const y = Number(clip.y);\n  const width = Number(clip.width);\n  const height = Number(clip.height);\n  for (const [key, value] of Object.entries({ x, y, width, height })) {\n    if (!Number.isFinite(value)) {\n      throw new StagehandInvalidArgumentError(\n        `screenshot: clip.${key} must be a finite number`\n      );\n    }\n  }\n  if (width <= 0 || height <= 0) {\n    throw new StagehandInvalidArgumentError(\n      \"screenshot: clip width/height must be positive\"\n    );\n  }\n  return { x, y, width, height };\n}\nfunction computeScreenshotScale(page, mode) {\n  return __async(this, null, function* () {\n    if (mode !== \"css\") return void 0;\n    try {\n      const frame = page.mainFrame();\n      const dpr = yield frame.evaluate(() => {\n        const ratio = Number(window.devicePixelRatio || 1);\n        return Number.isFinite(ratio) && ratio > 0 ? ratio : 1;\n      }).catch(() => 1);\n      const safeRatio = Number.isFinite(dpr) && dpr > 0 ? dpr : 1;\n      return Math.min(2, Math.max(0.1, 1 / safeRatio));\n    } catch (e) {\n      return 1;\n    }\n  });\n}\nfunction setTransparentBackground(session) {\n  return __async(this, null, function* () {\n    yield session.send(\"Emulation.setDefaultBackgroundColorOverride\", {\n      color: { r: 0, g: 0, b: 0, a: 0 }\n    }).catch(() => {\n    });\n    return () => __async(null, null, function* () {\n      yield session.send(\"Emulation.setDefaultBackgroundColorOverride\", {}).catch(() => {\n      });\n    });\n  });\n}\nfunction applyStyleToFrames(frames, css, label) {\n  return __async(this, null, function* () {\n    const trimmed = css.trim();\n    if (!trimmed) return () => __async(null, null, function* () {\n    });\n    const token = `__v3_style_${label}_${Date.now()}_${Math.random().toString(36).slice(2)}`;\n    yield Promise.all(\n      frames.map(\n        (frame) => frame.evaluate(\n          ({ css: css2, token: token2 }) => {\n            try {\n              const doc = document;\n              if (!doc) return;\n              const style = doc.createElement(\"style\");\n              style.setAttribute(\"data-stagehand-style\", token2);\n              style.textContent = css2;\n              const parent = doc.head || doc.documentElement || doc.body;\n              parent == null ? void 0 : parent.appendChild(style);\n            } catch (e) {\n            }\n          },\n          { css: trimmed, token }\n        ).catch(() => {\n        })\n      )\n    );\n    return () => __async(null, null, function* () {\n      yield Promise.all(\n        frames.map(\n          (frame) => frame.evaluate((token2) => {\n            try {\n              const doc = document;\n              if (!doc) return;\n              const nodes = doc.querySelectorAll(\n                `[data-stagehand-style=\"${token2}\"]`\n              );\n              nodes.forEach((node) => node.remove());\n            } catch (e) {\n            }\n          }, token).catch(() => {\n          })\n        )\n      );\n    });\n  });\n}\nfunction disableAnimations(frames) {\n  return __async(this, null, function* () {\n    const css = `\n*,\n*::before,\n*::after {\n  animation-delay: 0s !important;\n  animation-duration: 0s !important;\n  animation-iteration-count: 1 !important;\n  animation-play-state: paused !important;\n  transition-property: none !important;\n  transition-duration: 0s !important;\n  transition-delay: 0s !important;\n}`;\n    const cleanup = yield applyStyleToFrames(frames, css, \"animations\");\n    yield Promise.all(\n      frames.map(\n        (frame) => frame.evaluate(() => {\n          var _a, _b, _c, _d, _e;\n          try {\n            const animations = typeof document.getAnimations === \"function\" ? document.getAnimations() : [];\n            for (const animation of animations) {\n              try {\n                const details = (_b = (_a = animation.effect) == null ? void 0 : _a.getComputedTiming) == null ? void 0 : _b.call(_a);\n                if (details && details.iterations !== Infinity) {\n                  (_c = animation.finish) == null ? void 0 : _c.call(animation);\n                } else {\n                  (_d = animation.cancel) == null ? void 0 : _d.call(animation);\n                }\n              } catch (e) {\n                (_e = animation.cancel) == null ? void 0 : _e.call(animation);\n              }\n            }\n          } catch (e) {\n          }\n        }).catch(() => {\n        })\n      )\n    );\n    return cleanup;\n  });\n}\nfunction hideCaret(frames) {\n  return __async(this, null, function* () {\n    const css = `\ninput,\ntextarea,\n[contenteditable],\n[contenteditable=\"\"],\n[contenteditable=\"true\"],\n[contenteditable=\"plaintext-only\"],\n*:focus {\n  caret-color: transparent !important;\n}`;\n    return applyStyleToFrames(frames, css, \"caret\");\n  });\n}\nfunction applyMaskOverlays(locators, color) {\n  return __async(this, null, function* () {\n    var _a;\n    const rectsByFrame = /* @__PURE__ */ new Map();\n    for (const locator of locators) {\n      try {\n        const info = yield resolveMaskRect(locator);\n        if (!info) continue;\n        const list = (_a = rectsByFrame.get(info.frame)) != null ? _a : [];\n        list.push(info.rect);\n        rectsByFrame.set(info.frame, list);\n      } catch (e) {\n      }\n    }\n    if (rectsByFrame.size === 0) {\n      return () => __async(null, null, function* () {\n      });\n    }\n    const token = `__v3_mask_${Date.now()}_${Math.random().toString(36).slice(2)}`;\n    yield Promise.all(\n      Array.from(rectsByFrame.entries()).map(\n        ([frame, rects]) => frame.evaluate(\n          ({ rects: rects2, color: color2, token: token2 }) => {\n            try {\n              const doc = document;\n              if (!doc) return;\n              const root = doc.documentElement || doc.body;\n              if (!root) return;\n              for (const rect of rects2) {\n                const el = doc.createElement(\"div\");\n                el.setAttribute(\"data-stagehand-mask\", token2);\n                el.style.position = \"absolute\";\n                el.style.left = `${rect.x}px`;\n                el.style.top = `${rect.y}px`;\n                el.style.width = `${rect.width}px`;\n                el.style.height = `${rect.height}px`;\n                el.style.backgroundColor = color2;\n                el.style.pointerEvents = \"none\";\n                el.style.zIndex = \"2147483647\";\n                el.style.opacity = \"1\";\n                el.style.mixBlendMode = \"normal\";\n                root.appendChild(el);\n              }\n            } catch (e) {\n            }\n          },\n          { rects, color, token }\n        ).catch(() => {\n        })\n      )\n    );\n    return () => __async(null, null, function* () {\n      yield Promise.all(\n        Array.from(rectsByFrame.keys()).map(\n          (frame) => frame.evaluate((token2) => {\n            try {\n              const doc = document;\n              if (!doc) return;\n              const nodes = doc.querySelectorAll(\n                `[data-stagehand-mask=\"${token2}\"]`\n              );\n              nodes.forEach((node) => node.remove());\n            } catch (e) {\n            }\n          }, token).catch(() => {\n          })\n        )\n      );\n    });\n  });\n}\nfunction resolveMaskRect(locator) {\n  return __async(this, null, function* () {\n    const frame = locator.getFrame();\n    const session = frame.session;\n    let objectId = null;\n    try {\n      const resolved = yield locator.resolveNode();\n      objectId = resolved.objectId;\n      const result = yield session.send(\n        \"Runtime.callFunctionOn\",\n        {\n          objectId,\n          functionDeclaration: `function() {\n          if (!this || typeof this.getBoundingClientRect !== 'function') return null;\n          const rect = this.getBoundingClientRect();\n          if (!rect) return null;\n          const style = window.getComputedStyle(this);\n          if (!style) return null;\n          if (style.visibility === 'hidden' || style.display === 'none') return null;\n          if (rect.width <= 0 || rect.height <= 0) return null;\n          return {\n            x: rect.left + window.scrollX,\n            y: rect.top + window.scrollY,\n            width: rect.width,\n            height: rect.height,\n          };\n        }`,\n          returnByValue: true\n        }\n      );\n      if (result.exceptionDetails) {\n        return null;\n      }\n      const rect = result.result.value;\n      if (!rect) return null;\n      const { x, y, width, height } = rect;\n      if (!Number.isFinite(x) || !Number.isFinite(y) || !Number.isFinite(width) || !Number.isFinite(height) || width <= 0 || height <= 0) {\n        return null;\n      }\n      return { frame, rect: { x, y, width, height } };\n    } catch (e) {\n      return null;\n    } finally {\n      if (objectId) {\n        yield session.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n        });\n      }\n    }\n  });\n}\nfunction runScreenshotCleanups(cleanups) {\n  return __async(this, null, function* () {\n    for (let i = cleanups.length - 1; i >= 0; i -= 1) {\n      const fn = cleanups[i];\n      if (!fn) continue;\n      try {\n        const result = fn();\n        if (result && typeof result.then === \"function\") {\n          yield result;\n        }\n      } catch (e) {\n      }\n    }\n  });\n}\nfunction withScreenshotTimeout(timeoutMs, task) {\n  return __async(this, null, function* () {\n    if (!timeoutMs || timeoutMs <= 0) return task();\n    let timer = null;\n    const timeoutPromise = new Promise((_, reject) => {\n      timer = setTimeout(() => {\n        reject(new Error(`screenshot: timeout of ${timeoutMs}ms exceeded`));\n      }, timeoutMs);\n    });\n    try {\n      return yield Promise.race([task(), timeoutPromise]);\n    } finally {\n      if (timer) clearTimeout(timer);\n    }\n  });\n}\nvar init_screenshotUtils = __esm({\n  \"lib/v3/understudy/screenshotUtils.ts\"() {\n    init_sdkErrors();\n  }\n});\n\n// lib/v3/understudy/page.ts\nvar page_exports = {};\n__export(page_exports, {\n  Page: () => Page\n});\nvar import_fs6, LIFECYCLE_NAME, Page;\nvar init_page = __esm({\n  \"lib/v3/understudy/page.ts\"() {\n    import_fs6 = require(\"fs\");\n    init_logger();\n    init_frame();\n    init_frameLocator();\n    init_deepLocator();\n    init_snapshot();\n    init_frameRegistry();\n    init_networkManager();\n    init_lifecycleWatcher();\n    init_navigationResponseTracker();\n    init_response();\n    init_consoleMessage();\n    init_sdkErrors();\n    init_screenshotUtils();\n    LIFECYCLE_NAME = {\n      load: \"load\",\n      domcontentloaded: \"DOMContentLoaded\",\n      networkidle: \"networkIdle\"\n    };\n    Page = class _Page {\n      constructor(conn, mainSession, _targetId, mainFrameId, apiClient, browserIsRemote = false) {\n        this.conn = conn;\n        this.mainSession = mainSession;\n        this._targetId = _targetId;\n        /** Every CDP child session this page owns (top-level + adopted OOPIF sessions). */\n        this.sessions = /* @__PURE__ */ new Map();\n        /** Compact ordinal per frameId (used by snapshot encoding). */\n        this.frameOrdinals = /* @__PURE__ */ new Map();\n        this.nextOrdinal = 0;\n        /** cache Frames per frameId so everyone uses the same one */\n        this.frameCache = /* @__PURE__ */ new Map();\n        /** Cached current URL for synchronous page.url() */\n        this._currentUrl = \"about:blank\";\n        this.navigationCommandSeq = 0;\n        this.latestNavigationCommandId = 0;\n        /** Optional API client for routing page operations to the API */\n        this.apiClient = null;\n        this.consoleListeners = /* @__PURE__ */ new Set();\n        this.consoleHandlers = /* @__PURE__ */ new Map();\n        // --- Optional visual cursor overlay management ---\n        this.cursorEnabled = false;\n        // Track pressed modifier keys\n        this._pressedModifiers = /* @__PURE__ */ new Set();\n        this.pageId = _targetId;\n        this.apiClient = apiClient != null ? apiClient : null;\n        this.browserIsRemote = browserIsRemote;\n        if (mainSession.id) this.sessions.set(mainSession.id, mainSession);\n        this.registry = new FrameRegistry(_targetId, mainFrameId);\n        this.mainFrameWrapper = new Frame(\n          this.mainSession,\n          mainFrameId,\n          this.pageId,\n          this.browserIsRemote\n        );\n        this.networkManager = new NetworkManager();\n        this.networkManager.trackSession(this.mainSession);\n      }\n      ensureCursorScript() {\n        return __async(this, null, function* () {\n          const script = `(() => {\n      const ID = '__v3_cursor_overlay__';\n      const state = { el: null, last: null };\n      // Expose API early so move() calls before install are buffered\n      try {\n        if (!window.__v3Cursor || !window.__v3Cursor.__installed) {\n          const api = {\n            __installed: false,\n            move(x, y) {\n              if (state.el) {\n                state.el.style.left = Math.max(0, x) + 'px';\n                state.el.style.top = Math.max(0, y) + 'px';\n              } else {\n                state.last = [x, y];\n              }\n            },\n            show() { if (state.el) state.el.style.display = 'block'; },\n            hide() { if (state.el) state.el.style.display = 'none'; },\n          };\n          window.__v3Cursor = api;\n        }\n      } catch {}\n\n      function install() {\n        try {\n          if (state.el) return; // already installed\n          let el = document.getElementById(ID);\n          if (!el) {\n            const root = document.documentElement || document.body || document.head;\n            if (!root) { setTimeout(install, 50); return; }\n            el = document.createElement('div');\n            el.id = ID;\n            el.style.position = 'fixed';\n            el.style.left = '0px';\n            el.style.top = '0px';\n            el.style.width = '16px';\n            el.style.height = '24px';\n            el.style.zIndex = '2147483647';\n            el.style.pointerEvents = 'none';\n            el.style.userSelect = 'none';\n            el.style.mixBlendMode = 'normal';\n            el.style.contain = 'layout style paint';\n            el.style.willChange = 'transform,left,top';\n            el.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"24\" viewBox=\"0 0 16 24\"><path d=\"M1 0 L1 22 L6 14 L15 14 Z\" fill=\"black\" stroke=\"white\" stroke-width=\"0.7\"/></svg>';\n            root.appendChild(el);\n          }\n          state.el = el;\n          try { window.__v3Cursor.__installed = true; } catch {}\n          if (state.last) {\n            window.__v3Cursor.move(state.last[0], state.last[1]);\n            state.last = null;\n          }\n        } catch {}\n      }\n\n      if (document.readyState === 'complete' || document.readyState === 'interactive') {\n        install();\n      } else {\n        document.addEventListener('DOMContentLoaded', install, { once: true });\n        setTimeout(install, 100);\n      }\n    })();`;\n          yield this.mainSession.send(\"Page.addScriptToEvaluateOnNewDocument\", { source: script }).catch(() => {\n          });\n          yield this.mainSession.send(\"Runtime.evaluate\", {\n            expression: script,\n            includeCommandLineAPI: false\n          }).catch(() => {\n          });\n        });\n      }\n      enableCursorOverlay() {\n        return __async(this, null, function* () {\n          if (this.cursorEnabled) return;\n          yield this.ensureCursorScript();\n          this.cursorEnabled = true;\n        });\n      }\n      updateCursor(x, y) {\n        return __async(this, null, function* () {\n          if (!this.cursorEnabled) return;\n          try {\n            yield this.mainSession.send(\"Runtime.evaluate\", {\n              expression: `typeof window.__v3Cursor!==\"undefined\"&&window.__v3Cursor.move(${Math.round(x)}, ${Math.round(y)})`\n            });\n          } catch (e) {\n          }\n        });\n      }\n      /**\n       * Factory: create Page and seed registry with the shallow tree from Page.getFrameTree.\n       * Assumes Page domain is already enabled on the session passed in.\n       */\n      static create(conn, session, targetId, apiClient, localBrowserLaunchOptions, browserIsRemote = false) {\n        return __async(this, null, function* () {\n          var _a, _b, _c, _d;\n          yield session.send(\"Page.enable\").catch(() => {\n          });\n          yield session.send(\"Page.setLifecycleEventsEnabled\", { enabled: true }).catch(() => {\n          });\n          const { frameTree } = yield session.send(\"Page.getFrameTree\");\n          const mainFrameId = frameTree.frame.id;\n          const page = new _Page(\n            conn,\n            session,\n            targetId,\n            mainFrameId,\n            apiClient,\n            browserIsRemote\n          );\n          try {\n            page._currentUrl = String((_b = (_a = frameTree == null ? void 0 : frameTree.frame) == null ? void 0 : _a.url) != null ? _b : page._currentUrl);\n            if (localBrowserLaunchOptions == null ? void 0 : localBrowserLaunchOptions.viewport) {\n              yield page.setViewportSize(\n                localBrowserLaunchOptions.viewport.width,\n                localBrowserLaunchOptions.viewport.height,\n                {\n                  deviceScaleFactor: (_c = localBrowserLaunchOptions.deviceScaleFactor) != null ? _c : 1\n                }\n              );\n            }\n          } catch (e) {\n          }\n          page.registry.seedFromFrameTree((_d = session.id) != null ? _d : \"root\", frameTree);\n          return page;\n        });\n      }\n      // ---------------- Event-driven updates from Context ----------------\n      /**\n       * Parent/child session emitted a `frameAttached`.\n       * Topology update + ownership stamped to **emitting session**.\n       */\n      onFrameAttached(frameId, parentId, session) {\n        var _a;\n        this.ensureOrdinal(frameId);\n        this.registry.onFrameAttached(frameId, parentId, (_a = session.id) != null ? _a : \"root\");\n        this.frameCache.delete(frameId);\n      }\n      /**\n       * Parent/child session emitted a `frameDetached`.\n       */\n      onFrameDetached(frameId, reason = \"remove\") {\n        this.registry.onFrameDetached(frameId, reason);\n        this.frameCache.delete(frameId);\n      }\n      /**\n       * Parent/child session emitted a `frameNavigated`.\n       * Topology + ownership update. Handles root swaps.\n       */\n      onFrameNavigated(frame, session) {\n        var _a, _b, _c;\n        const prevRoot = this.mainFrameId();\n        this.registry.onFrameNavigated(frame, (_a = session.id) != null ? _a : \"root\");\n        const newRoot = this.mainFrameId();\n        if (newRoot !== prevRoot) {\n          const oldOrd = (_b = this.frameOrdinals.get(prevRoot)) != null ? _b : 0;\n          this.frameOrdinals.set(newRoot, oldOrd);\n          this.mainFrameWrapper = new Frame(\n            this.mainSession,\n            newRoot,\n            this.pageId,\n            this.browserIsRemote\n          );\n        }\n        if (frame.id === this.mainFrameId()) {\n          try {\n            this._currentUrl = String(\n              (_c = frame == null ? void 0 : frame.url) != null ? _c : this._currentUrl\n            );\n          } catch (e) {\n          }\n        }\n        this.frameCache.delete(frame.id);\n      }\n      onNavigatedWithinDocument(frameId, url, session) {\n        var _a;\n        const normalized = String(url != null ? url : \"\").trim();\n        if (!normalized) return;\n        this.registry.onNavigatedWithinDocument(\n          frameId,\n          normalized,\n          (_a = session.id) != null ? _a : \"root\"\n        );\n        if (frameId === this.mainFrameId()) {\n          this._currentUrl = normalized;\n        }\n      }\n      /**\n       * An OOPIF child session whose **main** frame id equals the parent iframes frameId\n       * has been attached; adopt the session into this Page and seed ownership for its subtree.\n       */\n      adoptOopifSession(childSession, childMainFrameId) {\n        var _a;\n        if (childSession.id) this.sessions.set(childSession.id, childSession);\n        this.networkManager.trackSession(childSession);\n        if (this.consoleListeners.size > 0) {\n          this.installConsoleTap(childSession);\n        }\n        this.registry.adoptChildSession(\n          (_a = childSession.id) != null ? _a : \"child\",\n          childMainFrameId\n        );\n        this.frameCache.delete(childMainFrameId);\n        childSession.on(\n          \"Page.frameNavigated\",\n          (evt) => {\n            this.onFrameNavigated(evt.frame, childSession);\n          }\n        );\n        childSession.on(\n          \"Page.frameAttached\",\n          (evt) => {\n            var _a2;\n            this.onFrameAttached(\n              evt.frameId,\n              (_a2 = evt.parentFrameId) != null ? _a2 : null,\n              childSession\n            );\n          }\n        );\n        childSession.on(\n          \"Page.frameDetached\",\n          (evt) => {\n            var _a2;\n            this.onFrameDetached(evt.frameId, (_a2 = evt.reason) != null ? _a2 : \"remove\");\n          }\n        );\n        void (() => __async(this, null, function* () {\n          var _a2;\n          try {\n            yield childSession.send(\"Page.enable\").catch(() => {\n            });\n            let { frameTree } = yield childSession.send(\n              \"Page.getFrameTree\"\n            );\n            if (frameTree.frame.id !== childMainFrameId) {\n              frameTree = __spreadProps(__spreadValues({}, frameTree), {\n                frame: __spreadProps(__spreadValues({}, frameTree.frame), { id: childMainFrameId })\n              });\n            }\n            this.registry.seedFromFrameTree((_a2 = childSession.id) != null ? _a2 : \"child\", frameTree);\n          } catch (e) {\n          }\n        }))();\n      }\n      /** Detach an adopted child session and prune its subtree */\n      detachOopifSession(sessionId) {\n        for (const fid of this.registry.framesForSession(sessionId)) {\n          this.registry.onFrameDetached(fid, \"remove\");\n          this.frameCache.delete(fid);\n        }\n        this.teardownConsoleTap(sessionId);\n        this.sessions.delete(sessionId);\n        this.networkManager.untrackSession(sessionId);\n      }\n      // ---------------- Ownership helpers / lookups ----------------\n      /** Return the owning CDP session for a frameId (falls back to main session) */\n      getSessionForFrame(frameId) {\n        var _a;\n        const sid = this.registry.getOwnerSessionId(frameId);\n        if (!sid) return this.mainSession;\n        return (_a = this.sessions.get(sid)) != null ? _a : this.mainSession;\n      }\n      /** Always returns a Frame bound to the owning session */\n      frameForId(frameId) {\n        const hit = this.frameCache.get(frameId);\n        if (hit) return hit;\n        const sess = this.getSessionForFrame(frameId);\n        const f = new Frame(sess, frameId, this.pageId, this.browserIsRemote);\n        this.frameCache.set(frameId, f);\n        return f;\n      }\n      /** Expose a session by id (used by snapshot to resolve session id -> session) */\n      getSessionById(id) {\n        return this.sessions.get(id);\n      }\n      registerSessionForNetwork(session) {\n        this.networkManager.trackSession(session);\n      }\n      unregisterSessionForNetwork(sessionId) {\n        this.networkManager.untrackSession(sessionId);\n      }\n      on(event, listener) {\n        if (event !== \"console\") {\n          throw new StagehandInvalidArgumentError(`Unsupported event: ${event}`);\n        }\n        const firstListener = this.consoleListeners.size === 0;\n        this.consoleListeners.add(listener);\n        if (firstListener) {\n          this.ensureConsoleTaps();\n        }\n        return this;\n      }\n      once(event, listener) {\n        if (event !== \"console\") {\n          throw new StagehandInvalidArgumentError(`Unsupported event: ${event}`);\n        }\n        const wrapper = (message) => {\n          this.off(\"console\", wrapper);\n          listener(message);\n        };\n        return this.on(\"console\", wrapper);\n      }\n      off(event, listener) {\n        if (event !== \"console\") {\n          throw new StagehandInvalidArgumentError(`Unsupported event: ${event}`);\n        }\n        this.consoleListeners.delete(listener);\n        if (this.consoleListeners.size === 0) {\n          this.removeAllConsoleTaps();\n        }\n        return this;\n      }\n      // ---------------- MAIN APIs ----------------\n      targetId() {\n        return this._targetId;\n      }\n      /**\n       * Send a CDP command through the main session.\n       * Allows external consumers to execute arbitrary Chrome DevTools Protocol commands.\n       *\n       * @param method - The CDP method name (e.g., \"Page.enable\", \"Runtime.evaluate\")\n       * @param params - Optional parameters for the CDP command\n       * @returns Promise resolving to the typed CDP response\n       *\n       * @example\n       * // Enable the Runtime domain\n       * await page.sendCDP(\"Runtime.enable\");\n       *\n       * @example\n       * // Evaluate JavaScript with typed response\n       * const result = await page.sendCDP<Protocol.Runtime.EvaluateResponse>(\n       *   \"Runtime.evaluate\",\n       *   { expression: \"1 + 1\" }\n       * );\n       */\n      sendCDP(method, params) {\n        return __async(this, null, function* () {\n          return this.mainSession.send(method, params);\n        });\n      }\n      /** Seed the cached URL before navigation events converge. */\n      seedCurrentUrl(url) {\n        if (!url) return;\n        try {\n          const normalized = String(url).trim();\n          if (!normalized) return;\n          this._currentUrl = normalized;\n        } catch (e) {\n        }\n      }\n      mainFrameId() {\n        return this.registry.mainFrameId();\n      }\n      mainFrame() {\n        return this.mainFrameWrapper;\n      }\n      /**\n       * Close this top-level page (tab). Best-effort via Target.closeTarget.\n       */\n      close() {\n        return __async(this, null, function* () {\n          try {\n            yield this.conn.send(\"Target.closeTarget\", { targetId: this._targetId });\n          } catch (e) {\n          }\n          const deadline = Date.now() + 2e3;\n          while (Date.now() < deadline) {\n            try {\n              const targets = yield this.conn.getTargets();\n              if (!targets.some((t) => t.targetId === this._targetId)) {\n                this.networkManager.dispose();\n                return;\n              }\n            } catch (e) {\n            }\n            yield new Promise((r) => setTimeout(r, 25));\n          }\n          this.networkManager.dispose();\n          this.removeAllConsoleTaps();\n          this.consoleListeners.clear();\n        });\n      }\n      getFullFrameTree() {\n        return this.asProtocolFrameTree(this.mainFrameId());\n      }\n      asProtocolFrameTree(rootMainFrameId) {\n        return this.registry.asProtocolFrameTree(rootMainFrameId);\n      }\n      ensureOrdinal(frameId) {\n        const hit = this.frameOrdinals.get(frameId);\n        if (hit !== void 0) return hit;\n        const ord = this.nextOrdinal++;\n        this.frameOrdinals.set(frameId, ord);\n        return ord;\n      }\n      /** Public getter for snapshot code / handlers. */\n      getOrdinal(frameId) {\n        return this.ensureOrdinal(frameId);\n      }\n      listAllFrameIds() {\n        return this.registry.listAllFrames();\n      }\n      ensureConsoleTaps() {\n        if (this.consoleListeners.size === 0) return;\n        this.installConsoleTap(this.mainSession);\n        for (const session of this.sessions.values()) {\n          this.installConsoleTap(session);\n        }\n      }\n      installConsoleTap(session) {\n        const key = this.sessionKey(session);\n        if (this.consoleHandlers.has(key)) return;\n        void session.send(\"Runtime.enable\").catch(() => {\n        });\n        const handler = (evt) => {\n          this.emitConsole(evt);\n        };\n        session.on(\n          \"Runtime.consoleAPICalled\",\n          handler\n        );\n        this.consoleHandlers.set(key, handler);\n      }\n      sessionKey(session) {\n        var _a;\n        return (_a = session.id) != null ? _a : \"__root__\";\n      }\n      resolveSessionByKey(key) {\n        if (this.mainSession.id) {\n          if (this.mainSession.id === key) return this.mainSession;\n        } else if (key === \"__root__\") {\n          return this.mainSession;\n        }\n        return this.sessions.get(key);\n      }\n      teardownConsoleTap(key) {\n        const handler = this.consoleHandlers.get(key);\n        if (!handler) return;\n        const session = this.resolveSessionByKey(key);\n        session == null ? void 0 : session.off(\"Runtime.consoleAPICalled\", handler);\n        this.consoleHandlers.delete(key);\n      }\n      removeAllConsoleTaps() {\n        for (const key of [...this.consoleHandlers.keys()]) {\n          this.teardownConsoleTap(key);\n        }\n      }\n      emitConsole(evt) {\n        if (this.consoleListeners.size === 0) return;\n        const message = new ConsoleMessage(evt, this);\n        const listeners = [...this.consoleListeners];\n        for (const listener of listeners) {\n          try {\n            listener(message);\n          } catch (error) {\n            v3Logger({\n              category: \"page\",\n              message: \"Console listener threw\",\n              level: 2,\n              auxiliary: {\n                error: { value: String(error), type: \"string\" },\n                type: { value: evt.type, type: \"string\" }\n              }\n            });\n          }\n        }\n      }\n      // -------- Convenience APIs delegated to the current main frame --------\n      /**\n       * Navigate the page; optionally wait for a lifecycle state.\n       * Waits on the **current** main frame and follows root swaps during navigation.\n       */\n      goto(url, options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const waitUntil = (_a = options == null ? void 0 : options.waitUntil) != null ? _a : \"domcontentloaded\";\n          const timeout = (_b = options == null ? void 0 : options.timeoutMs) != null ? _b : 15e3;\n          const navigationCommandId = this.beginNavigationCommand();\n          const tracker = new NavigationResponseTracker({\n            page: this,\n            session: this.mainSession,\n            navigationCommandId\n          });\n          const watcher = new LifecycleWatcher({\n            page: this,\n            mainSession: this.mainSession,\n            networkManager: this.networkManager,\n            waitUntil,\n            timeoutMs: timeout,\n            navigationCommandId\n          });\n          try {\n            if (this.apiClient) {\n              const result = yield this.apiClient.goto(\n                url,\n                { waitUntil: options == null ? void 0 : options.waitUntil },\n                this.mainFrameId()\n              );\n              this._currentUrl = url;\n              if (isSerializableResponse(result)) {\n                return Response.fromSerializable(result, {\n                  page: this,\n                  session: this.mainSession\n                });\n              }\n              return result;\n            }\n            const response = yield this.mainSession.send(\n              \"Page.navigate\",\n              { url }\n            );\n            this._currentUrl = url;\n            if (response == null ? void 0 : response.loaderId) {\n              watcher.setExpectedLoaderId(response.loaderId);\n              tracker.setExpectedLoaderId(response.loaderId);\n            }\n            yield watcher.wait();\n            return yield tracker.navigationCompleted();\n          } finally {\n            watcher.dispose();\n            tracker.dispose();\n          }\n        });\n      }\n      /**\n       * Reload the page; optionally wait for a lifecycle state.\n       */\n      reload(options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const waitUntil = options == null ? void 0 : options.waitUntil;\n          const timeout = (_a = options == null ? void 0 : options.timeoutMs) != null ? _a : 15e3;\n          const navigationCommandId = this.beginNavigationCommand();\n          const tracker = new NavigationResponseTracker({\n            page: this,\n            session: this.mainSession,\n            navigationCommandId\n          });\n          tracker.expectNavigationWithoutKnownLoader();\n          const watcher = waitUntil ? new LifecycleWatcher({\n            page: this,\n            mainSession: this.mainSession,\n            networkManager: this.networkManager,\n            waitUntil,\n            timeoutMs: timeout,\n            navigationCommandId\n          }) : null;\n          try {\n            yield this.mainSession.send(\"Page.reload\", {\n              ignoreCache: (_b = options == null ? void 0 : options.ignoreCache) != null ? _b : false\n            });\n            if (watcher) {\n              yield watcher.wait();\n            }\n            return yield tracker.navigationCompleted();\n          } finally {\n            watcher == null ? void 0 : watcher.dispose();\n            tracker.dispose();\n          }\n        });\n      }\n      /**\n       * Navigate back in history if possible; optionally wait for a lifecycle state.\n       */\n      goBack(options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const { entries, currentIndex } = yield this.mainSession.send(\n            \"Page.getNavigationHistory\"\n          );\n          const prev = entries[currentIndex - 1];\n          if (!prev) return null;\n          const waitUntil = options == null ? void 0 : options.waitUntil;\n          const timeout = (_a = options == null ? void 0 : options.timeoutMs) != null ? _a : 15e3;\n          const navigationCommandId = this.beginNavigationCommand();\n          const tracker = new NavigationResponseTracker({\n            page: this,\n            session: this.mainSession,\n            navigationCommandId\n          });\n          tracker.expectNavigationWithoutKnownLoader();\n          const watcher = waitUntil ? new LifecycleWatcher({\n            page: this,\n            mainSession: this.mainSession,\n            networkManager: this.networkManager,\n            waitUntil,\n            timeoutMs: timeout,\n            navigationCommandId\n          }) : null;\n          try {\n            yield this.mainSession.send(\"Page.navigateToHistoryEntry\", {\n              entryId: prev.id\n            });\n            this._currentUrl = (_b = prev.url) != null ? _b : this._currentUrl;\n            if (watcher) {\n              yield watcher.wait();\n            }\n            return yield tracker.navigationCompleted();\n          } finally {\n            watcher == null ? void 0 : watcher.dispose();\n            tracker.dispose();\n          }\n        });\n      }\n      /**\n       * Navigate forward in history if possible; optionally wait for a lifecycle state.\n       */\n      goForward(options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const { entries, currentIndex } = yield this.mainSession.send(\n            \"Page.getNavigationHistory\"\n          );\n          const next = entries[currentIndex + 1];\n          if (!next) return null;\n          const waitUntil = options == null ? void 0 : options.waitUntil;\n          const timeout = (_a = options == null ? void 0 : options.timeoutMs) != null ? _a : 15e3;\n          const navigationCommandId = this.beginNavigationCommand();\n          const tracker = new NavigationResponseTracker({\n            page: this,\n            session: this.mainSession,\n            navigationCommandId\n          });\n          tracker.expectNavigationWithoutKnownLoader();\n          const watcher = waitUntil ? new LifecycleWatcher({\n            page: this,\n            mainSession: this.mainSession,\n            networkManager: this.networkManager,\n            waitUntil,\n            timeoutMs: timeout,\n            navigationCommandId\n          }) : null;\n          try {\n            yield this.mainSession.send(\"Page.navigateToHistoryEntry\", {\n              entryId: next.id\n            });\n            this._currentUrl = (_b = next.url) != null ? _b : this._currentUrl;\n            if (watcher) {\n              yield watcher.wait();\n            }\n            return yield tracker.navigationCompleted();\n          } finally {\n            watcher == null ? void 0 : watcher.dispose();\n            tracker.dispose();\n          }\n        });\n      }\n      /**\n       * Return the current page URL (synchronous, cached from navigation events).\n       */\n      url() {\n        return this._currentUrl;\n      }\n      beginNavigationCommand() {\n        const id = ++this.navigationCommandSeq;\n        this.latestNavigationCommandId = id;\n        return id;\n      }\n      isCurrentNavigationCommand(id) {\n        return this.latestNavigationCommandId === id;\n      }\n      /**\n       * Return the current page title.\n       * Prefers reading from the active document via Runtime.evaluate to reflect dynamic changes.\n       * Falls back to navigation history title if evaluation is unavailable.\n       */\n      title() {\n        return __async(this, null, function* () {\n          var _a, _b, _c;\n          try {\n            yield this.mainSession.send(\"Runtime.enable\").catch(() => {\n            });\n            const ctxId = yield this.createIsolatedWorldForCurrentMain();\n            const { result } = yield this.mainSession.send(\n              \"Runtime.evaluate\",\n              {\n                expression: \"document.title\",\n                contextId: ctxId,\n                returnByValue: true\n              }\n            );\n            return String((_a = result == null ? void 0 : result.value) != null ? _a : \"\");\n          } catch (e) {\n            try {\n              const { entries, currentIndex } = yield this.mainSession.send(\n                \"Page.getNavigationHistory\"\n              );\n              return (_c = (_b = entries[currentIndex]) == null ? void 0 : _b.title) != null ? _c : \"\";\n            } catch (e2) {\n              return \"\";\n            }\n          }\n        });\n      }\n      /**\n       * Capture a screenshot with Playwright-style options.\n       *\n       * @param options Optional screenshot configuration.\n       * @param options.animations Control CSS/Web animations during capture. Use\n       * \"disabled\" to fast-forward finite animations and pause infinite ones.\n       * @param options.caret Either hide the text caret (default) or leave it\n       * visible via \"initial\".\n       * @param options.clip Restrict capture to a specific rectangle (in CSS\n       * pixels). Cannot be combined with `fullPage`.\n       * @param options.fullPage Capture the full scrollable page instead of the\n       * current viewport.\n       * @param options.mask Array of locators that should be covered with an\n       * overlay while the screenshot is taken.\n       * @param options.maskColor CSS color used for the mask overlay (default\n       * `#FF00FF`).\n       * @param options.omitBackground Make the default page background transparent\n       * (PNG only).\n       * @param options.path File path to write the screenshot to. The file extension\n       * determines the image type when `type` is not explicitly provided.\n       * @param options.quality JPEG quality (0100). Only applies when\n       * `type === \"jpeg\"`.\n       * @param options.scale Render scale: use \"css\" for one pixel per CSS pixel,\n       * otherwise the default \"device\" leverages the current device pixel ratio.\n       * @param options.style Additional CSS text injected into every frame before\n       * capture (removed afterwards).\n       * @param options.timeout Maximum capture duration in milliseconds before a\n       * timeout error is thrown.\n       * @param options.type Image format (`\"png\"` by default).\n       */\n      screenshot(options) {\n        return __async(this, null, function* () {\n          var _a, _b, _c, _d, _e;\n          const opts = options != null ? options : {};\n          const type = (_a = opts.type) != null ? _a : \"png\";\n          if (type !== \"png\" && type !== \"jpeg\") {\n            throw new StagehandInvalidArgumentError(\n              `screenshot: unsupported image type \"${type}\"`\n            );\n          }\n          if (opts.fullPage && opts.clip) {\n            throw new StagehandInvalidArgumentError(\n              \"screenshot: clip and fullPage cannot be used together\"\n            );\n          }\n          if (type === \"png\" && typeof opts.quality === \"number\") {\n            throw new StagehandInvalidArgumentError(\n              'screenshot: quality option is only valid for type=\"jpeg\"'\n            );\n          }\n          const caretMode = (_b = opts.caret) != null ? _b : \"hide\";\n          const animationsMode = (_c = opts.animations) != null ? _c : \"allow\";\n          const scaleMode = (_d = opts.scale) != null ? _d : \"device\";\n          const frames = collectFramesForScreenshot(this);\n          const clip = opts.clip ? normalizeScreenshotClip(opts.clip) : void 0;\n          const captureScale = yield computeScreenshotScale(this, scaleMode);\n          const maskLocators = ((_e = opts.mask) != null ? _e : []).filter(\n            (locator) => Boolean(locator)\n          );\n          const cleanupTasks = [];\n          const exec = () => __async(this, null, function* () {\n            var _a2;\n            try {\n              if (opts.omitBackground) {\n                cleanupTasks.push(yield setTransparentBackground(this.mainSession));\n              }\n              if (animationsMode === \"disabled\") {\n                cleanupTasks.push(yield disableAnimations(frames));\n              }\n              if (caretMode === \"hide\") {\n                cleanupTasks.push(yield hideCaret(frames));\n              }\n              if (opts.style && opts.style.trim()) {\n                cleanupTasks.push(\n                  yield applyStyleToFrames(frames, opts.style, \"custom\")\n                );\n              }\n              if (maskLocators.length > 0) {\n                cleanupTasks.push(\n                  yield applyMaskOverlays(maskLocators, (_a2 = opts.maskColor) != null ? _a2 : \"#FF00FF\")\n                );\n              }\n              const buffer = yield this.mainFrameWrapper.screenshot({\n                fullPage: opts.fullPage,\n                clip,\n                type,\n                quality: type === \"jpeg\" ? opts.quality : void 0,\n                scale: captureScale\n              });\n              if (opts.path) {\n                yield import_fs6.promises.writeFile(opts.path, buffer);\n              }\n              return buffer;\n            } finally {\n              yield runScreenshotCleanups(cleanupTasks);\n            }\n          });\n          return withScreenshotTimeout(opts.timeout, exec);\n        });\n      }\n      /**\n       * Create a locator bound to the current main frame.\n       */\n      locator(selector) {\n        return this.mainFrameWrapper.locator(selector);\n      }\n      /**\n       * Deep locator that supports cross-iframe traversal.\n       * - Recognizes '>>' hop notation to enter iframe contexts.\n       * - Supports deep XPath that includes iframe steps (e.g., '/html/body/iframe[2]//div').\n       * Returns a Locator scoped to the appropriate frame.\n       */\n      deepLocator(selector) {\n        return deepLocatorFromPage(this, this.mainFrameWrapper, selector);\n      }\n      /**\n       * Frame locator similar to Playwright: targets iframe elements and scopes\n       * subsequent locators to that frame. Supports chaining.\n       */\n      frameLocator(selector) {\n        return new FrameLocator(this, selector);\n      }\n      /**\n       * List all frames belonging to this page as Frame objects bound to their owning sessions.\n       * The list is ordered by a stable ordinal assigned during the page lifetime.\n       */\n      frames() {\n        const ids = this.listAllFrameIds();\n        const withOrd = ids.map((id) => ({ id, ord: this.getOrdinal(id) }));\n        withOrd.sort((a, b) => a.ord - b.ord);\n        return withOrd.map(({ id }) => this.frameForId(id));\n      }\n      /**\n       * Wait until the page reaches a lifecycle state on the current main frame.\n       * Mirrors Playwright's API signatures.\n       */\n      waitForLoadState(state, timeoutMs) {\n        return __async(this, null, function* () {\n          yield this.waitForMainLoadState(state, timeoutMs != null ? timeoutMs : 15e3);\n        });\n      }\n      /**\n       * Evaluate a function or expression in the current main frame's isolated world.\n       * - If a string is provided, it is treated as a JS expression.\n       * - If a function is provided, it is stringified and invoked with the optional argument.\n       * - The return value should be JSON-serializable. Non-serializable objects will\n       *   best-effort serialize via JSON.stringify inside the page context.\n       */\n      evaluate(pageFunctionOrExpression, arg) {\n        return __async(this, null, function* () {\n          var _a;\n          yield this.mainSession.send(\"Runtime.enable\").catch(() => {\n          });\n          const ctxId = yield this.createIsolatedWorldForCurrentMain();\n          const isString = typeof pageFunctionOrExpression === \"string\";\n          let expression;\n          if (isString) {\n            expression = String(pageFunctionOrExpression);\n          } else {\n            const fnSrc = pageFunctionOrExpression.toString();\n            const argJson = JSON.stringify(arg);\n            expression = `(() => {\n        const __fn = ${fnSrc};\n        const __arg = ${argJson};\n        try {\n          const __res = __fn(__arg);\n          return Promise.resolve(__res).then(v => {\n            try { return JSON.parse(JSON.stringify(v)); } catch { return v; }\n          });\n        } catch (e) { throw e; }\n      })()`;\n          }\n          const { result, exceptionDetails } = yield this.mainSession.send(\n            \"Runtime.evaluate\",\n            {\n              expression,\n              contextId: ctxId,\n              returnByValue: true,\n              awaitPromise: true\n            }\n          );\n          if (exceptionDetails) {\n            const msg = exceptionDetails.text || ((_a = exceptionDetails.exception) == null ? void 0 : _a.description) || \"Evaluation failed\";\n            throw new StagehandEvalError(msg);\n          }\n          return result == null ? void 0 : result.value;\n        });\n      }\n      /**\n       * Force the page viewport to an exact CSS size and device scale factor.\n       * Ensures screenshots match width x height pixels when deviceScaleFactor = 1.\n       */\n      setViewportSize(width, height, options) {\n        return __async(this, null, function* () {\n          var _a;\n          const dsf = Math.max(0.01, (_a = options == null ? void 0 : options.deviceScaleFactor) != null ? _a : 1);\n          yield this.mainSession.send(\"Emulation.setDeviceMetricsOverride\", {\n            width,\n            height,\n            deviceScaleFactor: dsf,\n            mobile: false,\n            screenWidth: width,\n            screenHeight: height,\n            positionX: 0,\n            positionY: 0,\n            scale: 1\n          }).catch(() => {\n          });\n          yield this.mainSession.send(\"Emulation.setVisibleSize\", { width, height }).catch(() => {\n          });\n        });\n      }\n      click(x, y, options) {\n        return __async(this, null, function* () {\n          var _a, _b;\n          const button = (_a = options == null ? void 0 : options.button) != null ? _a : \"left\";\n          const clickCount = (_b = options == null ? void 0 : options.clickCount) != null ? _b : 1;\n          let xpathResult;\n          if (options == null ? void 0 : options.returnXpath) {\n            try {\n              const hit = yield resolveXpathForLocation(this, x, y);\n              if (hit) {\n                v3Logger({\n                  category: \"page\",\n                  message: \"click resolved hit\",\n                  level: 2,\n                  auxiliary: {\n                    frameId: { value: String(hit.frameId), type: \"string\" },\n                    backendNodeId: {\n                      value: String(hit.backendNodeId),\n                      type: \"string\"\n                    },\n                    x: { value: String(x), type: \"integer\" },\n                    y: { value: String(y), type: \"integer\" }\n                  }\n                });\n                xpathResult = hit.absoluteXPath;\n                v3Logger({\n                  category: \"page\",\n                  message: `click resolved xpath`,\n                  level: 2,\n                  auxiliary: {\n                    xpath: { value: String(xpathResult != null ? xpathResult : \"\"), type: \"string\" }\n                  }\n                });\n              }\n            } catch (e) {\n            }\n          }\n          yield this.updateCursor(x, y);\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseMoved\",\n            x,\n            y,\n            button: \"none\"\n          });\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mousePressed\",\n            x,\n            y,\n            button,\n            clickCount\n          });\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseReleased\",\n            x,\n            y,\n            button,\n            clickCount\n          });\n          if (options == null ? void 0 : options.returnXpath) return xpathResult != null ? xpathResult : \"\";\n        });\n      }\n      scroll(x, y, deltaX, deltaY, options) {\n        return __async(this, null, function* () {\n          let xpathResult;\n          if (options == null ? void 0 : options.returnXpath) {\n            try {\n              const hit = yield resolveXpathForLocation(this, x, y);\n              if (hit) xpathResult = hit.absoluteXPath;\n            } catch (e) {\n            }\n          }\n          yield this.updateCursor(x, y);\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseMoved\",\n            x,\n            y,\n            button: \"none\"\n          });\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseWheel\",\n            x,\n            y,\n            button: \"none\",\n            deltaX,\n            deltaY\n          });\n          if (options == null ? void 0 : options.returnXpath) return xpathResult != null ? xpathResult : \"\";\n        });\n      }\n      dragAndDrop(fromX, fromY, toX, toY, options) {\n        return __async(this, null, function* () {\n          var _a, _b, _c;\n          const button = (_a = options == null ? void 0 : options.button) != null ? _a : \"left\";\n          const steps = Math.max(1, Math.floor((_b = options == null ? void 0 : options.steps) != null ? _b : 1));\n          const delay2 = Math.max(0, (_c = options == null ? void 0 : options.delay) != null ? _c : 0);\n          const sleep = (ms) => new Promise((r) => ms > 0 ? setTimeout(r, ms) : r());\n          const buttonMask = (b) => {\n            switch (b) {\n              case \"left\":\n                return 1;\n              case \"right\":\n                return 2;\n              case \"middle\":\n                return 4;\n              default:\n                return 1;\n            }\n          };\n          let fromXpath;\n          let toXpath;\n          if (options == null ? void 0 : options.returnXpath) {\n            try {\n              const start = yield resolveXpathForLocation(this, fromX, fromY);\n              if (start) fromXpath = start.absoluteXPath;\n            } catch (e) {\n            }\n            try {\n              const end = yield resolveXpathForLocation(this, toX, toY);\n              if (end) toXpath = end.absoluteXPath;\n            } catch (e) {\n            }\n          }\n          yield this.updateCursor(fromX, fromY);\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseMoved\",\n            x: fromX,\n            y: fromY,\n            button: \"none\"\n          });\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mousePressed\",\n            x: fromX,\n            y: fromY,\n            button,\n            buttons: buttonMask(button),\n            clickCount: 1\n          });\n          for (let i = 1; i <= steps; i++) {\n            const t = i / steps;\n            const x = fromX + (toX - fromX) * t;\n            const y = fromY + (toY - fromY) * t;\n            yield this.updateCursor(x, y);\n            yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n              type: \"mouseMoved\",\n              x,\n              y,\n              button,\n              buttons: buttonMask(button)\n            });\n            if (delay2) yield sleep(delay2);\n          }\n          yield this.updateCursor(toX, toY);\n          yield this.mainSession.send(\"Input.dispatchMouseEvent\", {\n            type: \"mouseReleased\",\n            x: toX,\n            y: toY,\n            button,\n            buttons: buttonMask(button),\n            clickCount: 1\n          });\n          if (options == null ? void 0 : options.returnXpath) return [fromXpath != null ? fromXpath : \"\", toXpath != null ? toXpath : \"\"];\n        });\n      }\n      /**\n       * Type a string by dispatching keyDown/keyUp events per character.\n       * Focus must already be on the desired element. Uses CDP Input.dispatchKeyEvent\n       * and never falls back to Input.insertText. Optional delay applies between\n       * successive characters.\n       */\n      type(text, options) {\n        return __async(this, null, function* () {\n          var _a;\n          const delay2 = Math.max(0, (_a = options == null ? void 0 : options.delay) != null ? _a : 0);\n          const withMistakes = !!(options == null ? void 0 : options.withMistakes);\n          const sleep = (ms) => new Promise((r) => ms > 0 ? setTimeout(r, ms) : r());\n          const keyStroke = (ch, override) => __async(this, null, function* () {\n            if (override) {\n              const base = {\n                type: \"keyDown\",\n                key: override.key,\n                code: override.code,\n                windowsVirtualKeyCode: override.windowsVirtualKeyCode\n              };\n              yield this.mainSession.send(\"Input.dispatchKeyEvent\", base);\n              yield this.mainSession.send(\"Input.dispatchKeyEvent\", __spreadProps(__spreadValues({}, base), {\n                type: \"keyUp\"\n              }));\n              return;\n            }\n            const down = {\n              type: \"keyDown\",\n              text: ch,\n              unmodifiedText: ch\n            };\n            yield this.mainSession.send(\"Input.dispatchKeyEvent\", down);\n            yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n              type: \"keyUp\"\n            });\n          });\n          const pressBackspace = () => __async(this, null, function* () {\n            return keyStroke(\"\\b\", {\n              key: \"Backspace\",\n              code: \"Backspace\",\n              windowsVirtualKeyCode: 8\n            });\n          });\n          const randomPrintable = (avoid) => {\n            const pool = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 .,;:'\\\"!?@#$%^&*()-_=+[]{}<>/\\\\|`~\";\n            let c = avoid;\n            while (c === avoid) {\n              c = pool[Math.floor(Math.random() * pool.length)];\n            }\n            return c;\n          };\n          for (const ch of text) {\n            if (ch === \"\\n\" || ch === \"\\r\") {\n              yield keyStroke(ch, {\n                key: \"Enter\",\n                code: \"Enter\",\n                windowsVirtualKeyCode: 13\n              });\n            } else if (ch === \"\t\") {\n              yield keyStroke(ch, {\n                key: \"Tab\",\n                code: \"Tab\",\n                windowsVirtualKeyCode: 9\n              });\n            } else {\n              if (withMistakes && Math.random() < 0.12) {\n                const wrong = randomPrintable(ch);\n                yield keyStroke(wrong);\n                if (delay2) yield sleep(delay2);\n                yield pressBackspace();\n                if (delay2) yield sleep(delay2);\n              }\n              yield keyStroke(ch);\n            }\n            if (delay2) yield sleep(delay2);\n          }\n        });\n      }\n      /**\n       * Press a single key or key combination (keyDown then keyUp).\n       * For printable characters, uses the text path on keyDown; for named keys, sets key/code/VK.\n       * Supports key combinations with modifiers like \"Cmd+A\", \"Ctrl+C\", \"Shift+Tab\", etc.\n       */\n      keyPress(key, options) {\n        return __async(this, null, function* () {\n          var _a;\n          const delay2 = Math.max(0, (_a = options == null ? void 0 : options.delay) != null ? _a : 0);\n          const sleep = (ms) => new Promise((r) => ms > 0 ? setTimeout(r, ms) : r());\n          function split(keyString) {\n            if (keyString === \"+\") {\n              return [\"+\"];\n            }\n            const keys = [];\n            let building = \"\";\n            for (const char of keyString) {\n              if (char === \"+\" && building) {\n                keys.push(building);\n                building = \"\";\n              } else {\n                building += char;\n              }\n            }\n            if (building) {\n              keys.push(building);\n            }\n            return keys;\n          }\n          const tokens = split(key);\n          const mainKey = tokens[tokens.length - 1];\n          const modifierKeys = tokens.slice(0, -1);\n          try {\n            for (const modKey of modifierKeys) {\n              yield this.keyDown(modKey);\n            }\n            yield this.keyDown(mainKey);\n            if (delay2) yield sleep(delay2);\n            yield this.keyUp(mainKey);\n            for (let i = modifierKeys.length - 1; i >= 0; i--) {\n              yield this.keyUp(modifierKeys[i]);\n            }\n          } catch (error) {\n            this._pressedModifiers.clear();\n            throw error;\n          }\n        });\n      }\n      /** Press a key down without releasing it */\n      keyDown(key) {\n        return __async(this, null, function* () {\n          var _a, _b, _c;\n          const normalizedKey = this.normalizeModifierKey(key);\n          const modifierKeys = [\"Alt\", \"Control\", \"Meta\", \"Shift\"];\n          if (modifierKeys.includes(normalizedKey)) {\n            this._pressedModifiers.add(normalizedKey);\n          }\n          let modifiers = 0;\n          if (this._pressedModifiers.has(\"Alt\")) modifiers |= 1;\n          if (this._pressedModifiers.has(\"Control\")) modifiers |= 2;\n          if (this._pressedModifiers.has(\"Meta\")) modifiers |= 4;\n          if (this._pressedModifiers.has(\"Shift\")) modifiers |= 8;\n          const named = this.getNamedKeys();\n          if (normalizedKey.length === 1) {\n            const hasNonShiftModifier = this._pressedModifiers.has(\"Alt\") || this._pressedModifiers.has(\"Control\") || this._pressedModifiers.has(\"Meta\");\n            if (hasNonShiftModifier) {\n              const desc = this.describePrintableKey(normalizedKey);\n              const macCommands = this.isMacOS() ? this.macCommandsFor((_a = desc.code) != null ? _a : \"\") : [];\n              const req = __spreadValues(__spreadValues(__spreadValues({\n                type: \"rawKeyDown\",\n                modifiers,\n                key: desc.key\n              }, desc.code ? { code: desc.code } : {}), typeof desc.vk === \"number\" ? { windowsVirtualKeyCode: desc.vk } : {}), macCommands.length ? { commands: macCommands } : {});\n              yield this.mainSession.send(\"Input.dispatchKeyEvent\", req);\n            } else {\n              yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n                type: \"keyDown\",\n                text: normalizedKey,\n                unmodifiedText: normalizedKey,\n                modifiers\n              });\n            }\n            return;\n          }\n          const entry = (_b = named[normalizedKey]) != null ? _b : null;\n          if (entry) {\n            const macCommands = this.isMacOS() ? this.macCommandsFor(entry.code) : [];\n            const includeText = !!entry.text && modifiers === 0;\n            const keyDown = __spreadValues(__spreadValues({\n              type: includeText ? \"keyDown\" : \"rawKeyDown\",\n              key: entry.key,\n              code: entry.code,\n              windowsVirtualKeyCode: entry.vk,\n              modifiers\n            }, includeText ? {\n              text: entry.text,\n              unmodifiedText: (_c = entry.unmodifiedText) != null ? _c : entry.text\n            } : {}), macCommands.length ? { commands: macCommands } : {});\n            yield this.mainSession.send(\"Input.dispatchKeyEvent\", keyDown);\n            return;\n          }\n          yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n            type: \"keyDown\",\n            key: normalizedKey,\n            modifiers\n          });\n        });\n      }\n      /** Release a pressed key */\n      keyUp(key) {\n        return __async(this, null, function* () {\n          var _a;\n          const normalizedKey = this.normalizeModifierKey(key);\n          let modifiers = 0;\n          if (this._pressedModifiers.has(\"Alt\")) modifiers |= 1;\n          if (this._pressedModifiers.has(\"Control\")) modifiers |= 2;\n          if (this._pressedModifiers.has(\"Meta\")) modifiers |= 4;\n          if (this._pressedModifiers.has(\"Shift\")) modifiers |= 8;\n          const modifierKeys = [\"Alt\", \"Control\", \"Meta\", \"Shift\"];\n          if (modifierKeys.includes(normalizedKey)) {\n            this._pressedModifiers.delete(normalizedKey);\n          }\n          const named = this.getNamedKeys();\n          if (normalizedKey.length === 1) {\n            const desc = this.describePrintableKey(normalizedKey);\n            yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n              type: \"keyUp\",\n              key: desc.key,\n              code: desc.code,\n              windowsVirtualKeyCode: typeof desc.vk === \"number\" ? desc.vk : void 0,\n              modifiers\n            });\n            return;\n          }\n          const entry = (_a = named[normalizedKey]) != null ? _a : null;\n          if (entry) {\n            yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n              type: \"keyUp\",\n              key: entry.key,\n              code: entry.code,\n              windowsVirtualKeyCode: entry.vk,\n              modifiers\n            });\n            return;\n          }\n          yield this.mainSession.send(\"Input.dispatchKeyEvent\", {\n            type: \"keyUp\",\n            key: normalizedKey,\n            modifiers\n          });\n        });\n      }\n      /** Normalize modifier key names to match CDP expectations */\n      normalizeModifierKey(key) {\n        const normalized = key.toLowerCase();\n        switch (normalized) {\n          case \"cmd\":\n          case \"command\":\n            return this.isMacOS() ? \"Meta\" : \"Control\";\n          case \"win\":\n          case \"windows\":\n            return \"Meta\";\n          case \"ctrl\":\n            return \"Control\";\n          case \"option\":\n            return \"Alt\";\n          case \"shift\":\n            return \"Shift\";\n          default:\n            return key;\n        }\n      }\n      /**\n       * Get the map of named keys with their properties\n       */\n      getNamedKeys() {\n        return {\n          Enter: {\n            key: \"Enter\",\n            code: \"Enter\",\n            vk: 13,\n            text: \"\\r\",\n            unmodifiedText: \"\\r\"\n          },\n          Tab: { key: \"Tab\", code: \"Tab\", vk: 9 },\n          Backspace: { key: \"Backspace\", code: \"Backspace\", vk: 8 },\n          Escape: { key: \"Escape\", code: \"Escape\", vk: 27 },\n          Delete: { key: \"Delete\", code: \"Delete\", vk: 46 },\n          ArrowLeft: { key: \"ArrowLeft\", code: \"ArrowLeft\", vk: 37 },\n          ArrowUp: { key: \"ArrowUp\", code: \"ArrowUp\", vk: 38 },\n          ArrowRight: { key: \"ArrowRight\", code: \"ArrowRight\", vk: 39 },\n          ArrowDown: { key: \"ArrowDown\", code: \"ArrowDown\", vk: 40 },\n          Home: { key: \"Home\", code: \"Home\", vk: 36 },\n          End: { key: \"End\", code: \"End\", vk: 35 },\n          PageUp: { key: \"PageUp\", code: \"PageUp\", vk: 33 },\n          PageDown: { key: \"PageDown\", code: \"PageDown\", vk: 34 },\n          // Modifier keys\n          Alt: { key: \"Alt\", code: \"AltLeft\", vk: 18 },\n          Control: { key: \"Control\", code: \"ControlLeft\", vk: 17 },\n          Meta: { key: \"Meta\", code: \"MetaLeft\", vk: 91 },\n          Shift: { key: \"Shift\", code: \"ShiftLeft\", vk: 16 }\n        };\n      }\n      /**\n       * Minimal description for printable keys (letters/digits/space) to provide code and VK.\n       * Used when non-Shift modifiers are pressed to avoid sending text while keeping accelerator info.\n       */\n      describePrintableKey(ch) {\n        const shiftDown = this._pressedModifiers.has(\"Shift\");\n        const isLetter = /^[a-zA-Z]$/.test(ch);\n        const isDigit = /^[0-9]$/.test(ch);\n        if (isLetter) {\n          const upper = ch.toUpperCase();\n          return {\n            key: shiftDown ? upper : upper.toLowerCase(),\n            code: `Key${upper}`,\n            vk: upper.charCodeAt(0)\n            // 'A'..'Z' => 65..90\n          };\n        }\n        if (isDigit) {\n          return {\n            key: ch,\n            code: `Digit${ch}`,\n            vk: ch.charCodeAt(0)\n            // '0'..'9' => 48..57\n          };\n        }\n        if (ch === \" \") {\n          return { key: \" \", code: \"Space\", vk: 32 };\n        }\n        return {\n          key: shiftDown ? ch.toUpperCase() : ch,\n          vk: ch.toUpperCase().charCodeAt(0)\n        };\n      }\n      isMacOS() {\n        try {\n          return process.platform === \"darwin\";\n        } catch (e) {\n          return false;\n        }\n      }\n      /**\n       * Return Chromium mac editing commands (without trailing ':') for a given code like 'KeyA'\n       * Only used on macOS to trigger system editing shortcuts (e.g., selectAll, copy, paste...).\n       */\n      macCommandsFor(code) {\n        if (!this.isMacOS()) return [];\n        const parts = [];\n        if (this._pressedModifiers.has(\"Shift\")) parts.push(\"Shift\");\n        if (this._pressedModifiers.has(\"Control\")) parts.push(\"Control\");\n        if (this._pressedModifiers.has(\"Alt\")) parts.push(\"Alt\");\n        if (this._pressedModifiers.has(\"Meta\")) parts.push(\"Meta\");\n        parts.push(code);\n        const shortcut = parts.join(\"+\");\n        const table = {\n          \"Meta+KeyA\": \"selectAll:\",\n          \"Meta+KeyC\": \"copy:\",\n          \"Meta+KeyX\": \"cut:\",\n          \"Meta+KeyV\": \"paste:\",\n          \"Meta+KeyZ\": \"undo:\"\n        };\n        const value = table[shortcut];\n        if (!value) return [];\n        const list = Array.isArray(value) ? value : [value];\n        return list.filter((c) => !c.startsWith(\"insert\")).map((c) => c.substring(0, c.length - 1));\n      }\n      // ---- Page-level lifecycle waiter that follows main frame id swaps ----\n      /**\n       * Create an isolated world for the **current** main frame and return its context id.\n       */\n      createIsolatedWorldForCurrentMain() {\n        return __async(this, null, function* () {\n          yield this.mainSession.send(\"Runtime.enable\").catch(() => {\n          });\n          const { executionContextId } = yield this.mainSession.send(\"Page.createIsolatedWorld\", {\n            frameId: this.mainFrameId(),\n            worldName: \"v3-world\"\n          });\n          return executionContextId;\n        });\n      }\n      /**\n       * Wait until the **current** main frame reaches a lifecycle state.\n       * - Fast path via `document.readyState`.\n       * - Event path listens at the session level and compares incoming `frameId`\n       *   to `mainFrameId()` **at event time** to follow root swaps.\n       */\n      waitForMainLoadState(state, timeoutMs = 15e3) {\n        return __async(this, null, function* () {\n          var _a;\n          yield this.mainSession.send(\"Page.setLifecycleEventsEnabled\", { enabled: true }).catch(() => {\n          });\n          try {\n            const ctxId = yield this.createIsolatedWorldForCurrentMain();\n            const { result } = yield this.mainSession.send(\n              \"Runtime.evaluate\",\n              {\n                expression: \"document.readyState\",\n                contextId: ctxId,\n                returnByValue: true\n              }\n            );\n            const rs = String((_a = result == null ? void 0 : result.value) != null ? _a : \"\");\n            if (state === \"domcontentloaded\" && (rs === \"interactive\" || rs === \"complete\") || state === \"load\" && rs === \"complete\") {\n              return;\n            }\n          } catch (e) {\n          }\n          const wanted = LIFECYCLE_NAME[state];\n          return new Promise((resolve2, reject) => {\n            let done = false;\n            let timer = null;\n            const off = () => {\n              this.mainSession.off(\"Page.lifecycleEvent\", onLifecycle);\n              this.mainSession.off(\"Page.domContentEventFired\", onDomContent);\n              this.mainSession.off(\"Page.loadEventFired\", onLoad);\n            };\n            const finish = () => {\n              if (done) return;\n              done = true;\n              if (timer) {\n                clearTimeout(timer);\n                timer = null;\n              }\n              off();\n              resolve2();\n            };\n            const onLifecycle = (evt) => {\n              if (evt.name !== wanted) return;\n              if (evt.frameId === this.mainFrameId()) finish();\n            };\n            const onDomContent = () => {\n              if (state === \"domcontentloaded\") finish();\n            };\n            const onLoad = () => {\n              if (state === \"load\") finish();\n            };\n            this.mainSession.on(\"Page.lifecycleEvent\", onLifecycle);\n            this.mainSession.on(\"Page.domContentEventFired\", onDomContent);\n            this.mainSession.on(\"Page.loadEventFired\", onLoad);\n            timer = setTimeout(() => {\n              if (done) return;\n              done = true;\n              off();\n              reject(\n                new Error(\n                  `waitForMainLoadState(${state}) timed out after ${timeoutMs}ms`\n                )\n              );\n            }, timeoutMs);\n          });\n        });\n      }\n    };\n  }\n});\n\n// lib/v3/index.ts\nvar v3_exports = {};\n__export(v3_exports, {\n  AISdkClient: () => AISdkClient2,\n  AVAILABLE_CUA_MODELS: () => AVAILABLE_CUA_MODELS,\n  AgentProvider: () => AgentProvider,\n  AgentScreenshotProviderError: () => AgentScreenshotProviderError,\n  AnnotatedScreenshotText: () => AnnotatedScreenshotText,\n  BrowserbaseSessionNotFoundError: () => BrowserbaseSessionNotFoundError,\n  CaptchaTimeoutError: () => CaptchaTimeoutError,\n  ConnectionTimeoutError: () => ConnectionTimeoutError,\n  ConsoleMessage: () => ConsoleMessage,\n  ContentFrameNotFoundError: () => ContentFrameNotFoundError,\n  CreateChatCompletionResponseError: () => CreateChatCompletionResponseError,\n  CuaModelRequiredError: () => CuaModelRequiredError,\n  ElementNotVisibleError: () => ElementNotVisibleError,\n  ExperimentalApiConflictError: () => ExperimentalApiConflictError,\n  ExperimentalNotConfiguredError: () => ExperimentalNotConfiguredError,\n  HandlerNotInitializedError: () => HandlerNotInitializedError,\n  InvalidAISDKModelFormatError: () => InvalidAISDKModelFormatError,\n  LLMClient: () => LLMClient,\n  LLMResponseError: () => LLMResponseError,\n  LOG_LEVEL_NAMES: () => LOG_LEVEL_NAMES,\n  MCPConnectionError: () => MCPConnectionError,\n  MissingEnvironmentVariableError: () => MissingEnvironmentVariableError,\n  MissingLLMConfigurationError: () => MissingLLMConfigurationError,\n  PageNotFoundError: () => PageNotFoundError,\n  Response: () => Response,\n  ResponseBodyError: () => ResponseBodyError,\n  ResponseParseError: () => ResponseParseError,\n  Stagehand: () => V3,\n  StagehandAPIError: () => StagehandAPIError,\n  StagehandAPIUnauthorizedError: () => StagehandAPIUnauthorizedError,\n  StagehandClickError: () => StagehandClickError,\n  StagehandDefaultError: () => StagehandDefaultError,\n  StagehandDomProcessError: () => StagehandDomProcessError,\n  StagehandElementNotFoundError: () => StagehandElementNotFoundError,\n  StagehandEnvironmentError: () => StagehandEnvironmentError,\n  StagehandError: () => StagehandError,\n  StagehandEvalError: () => StagehandEvalError,\n  StagehandHttpError: () => StagehandHttpError,\n  StagehandIframeError: () => StagehandIframeError,\n  StagehandInitError: () => StagehandInitError,\n  StagehandInvalidArgumentError: () => StagehandInvalidArgumentError,\n  StagehandMissingArgumentError: () => StagehandMissingArgumentError,\n  StagehandNotInitializedError: () => StagehandNotInitializedError,\n  StagehandResponseBodyError: () => StagehandResponseBodyError,\n  StagehandResponseParseError: () => StagehandResponseParseError,\n  StagehandServerError: () => StagehandServerError,\n  StagehandShadowRootMissingError: () => StagehandShadowRootMissingError,\n  StagehandShadowSegmentEmptyError: () => StagehandShadowSegmentEmptyError,\n  StagehandShadowSegmentNotFoundError: () => StagehandShadowSegmentNotFoundError,\n  TimeoutError: () => TimeoutError,\n  UnsupportedAISDKModelProviderError: () => UnsupportedAISDKModelProviderError,\n  UnsupportedModelError: () => UnsupportedModelError,\n  UnsupportedModelProviderError: () => UnsupportedModelProviderError,\n  V3: () => V3,\n  V3Evaluator: () => V3Evaluator,\n  V3FunctionName: () => V3FunctionName,\n  XPathResolutionError: () => XPathResolutionError,\n  ZodSchemaValidationError: () => ZodSchemaValidationError,\n  connectToMCPServer: () => connectToMCPServer,\n  defaultExtractSchema: () => defaultExtractSchema,\n  getZodType: () => getZodType,\n  injectUrls: () => injectUrls,\n  isRunningInBun: () => isRunningInBun,\n  jsonSchemaToZod: () => jsonSchemaToZod,\n  loadApiKeyFromEnv: () => loadApiKeyFromEnv,\n  modelToAgentProviderMap: () => modelToAgentProviderMap,\n  pageTextSchema: () => pageTextSchema,\n  providerEnvVarMap: () => providerEnvVarMap,\n  toGeminiSchema: () => toGeminiSchema,\n  transformSchema: () => transformSchema,\n  trimTrailingTextNode: () => trimTrailingTextNode,\n  validateZodSchema: () => validateZodSchema\n});\nmodule.exports = __toCommonJS(v3_exports);\n\n// lib/v3/v3.ts\nvar import_dotenv = __toESM(require(\"dotenv\"));\nvar import_fs7 = __toESM(require(\"fs\"));\nvar import_os2 = __toESM(require(\"os\"));\nvar import_path6 = __toESM(require(\"path\"));\nvar import_process2 = __toESM(require(\"process\"));\n\n// lib/utils.ts\ninit_sdkErrors();\nvar import_genai = require(\"@google/genai\");\nvar import_v3 = require(\"zod/v3\");\nvar ID_PATTERN = /^\\d+-\\d+$/;\nfunction validateZodSchema(schema, data) {\n  const result = schema.safeParse(data);\n  if (result.success) {\n    return true;\n  }\n  throw new ZodSchemaValidationError(data, result.error.format());\n}\nfunction isRunningInBun() {\n  return typeof process !== \"undefined\" && typeof process.versions !== \"undefined\" && \"bun\" in process.versions;\n}\nfunction decorateGeminiSchema(geminiSchema, zodSchema2) {\n  if (geminiSchema.nullable === void 0) {\n    geminiSchema.nullable = zodSchema2.isOptional();\n  }\n  if (zodSchema2.description) {\n    geminiSchema.description = zodSchema2.description;\n  }\n  return geminiSchema;\n}\nfunction toGeminiSchema(zodSchema2) {\n  const zodType = getZodType(zodSchema2);\n  switch (zodType) {\n    case \"ZodArray\": {\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.ARRAY,\n          items: toGeminiSchema(\n            zodSchema2.element\n          )\n        },\n        zodSchema2\n      );\n    }\n    case \"ZodObject\": {\n      const properties = {};\n      const required = [];\n      Object.entries(zodSchema2.shape).forEach(\n        ([key, value]) => {\n          properties[key] = toGeminiSchema(value);\n          if (getZodType(value) !== \"ZodOptional\") {\n            required.push(key);\n          }\n        }\n      );\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.OBJECT,\n          properties,\n          required: required.length > 0 ? required : void 0\n        },\n        zodSchema2\n      );\n    }\n    case \"ZodString\":\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.STRING\n        },\n        zodSchema2\n      );\n    case \"ZodNumber\":\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.NUMBER\n        },\n        zodSchema2\n      );\n    case \"ZodBoolean\":\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.BOOLEAN\n        },\n        zodSchema2\n      );\n    case \"ZodEnum\":\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.STRING,\n          enum: zodSchema2._def.values\n        },\n        zodSchema2\n      );\n    case \"ZodDefault\":\n    case \"ZodNullable\":\n    case \"ZodOptional\": {\n      const innerSchema = toGeminiSchema(zodSchema2._def.innerType);\n      return decorateGeminiSchema(\n        __spreadProps(__spreadValues({}, innerSchema), {\n          nullable: true\n        }),\n        zodSchema2\n      );\n    }\n    case \"ZodLiteral\":\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.STRING,\n          enum: [zodSchema2._def.value]\n        },\n        zodSchema2\n      );\n    default:\n      return decorateGeminiSchema(\n        {\n          type: import_genai.Type.OBJECT,\n          nullable: true\n        },\n        zodSchema2\n      );\n  }\n}\nfunction getZodType(schema) {\n  return schema._def.typeName;\n}\nfunction transformSchema(schema, currentPath) {\n  var _a, _b;\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodString)) {\n    const hasUrlCheck = (_b = (_a = schema._def.checks) == null ? void 0 : _a.some(\n      (check) => check.kind === \"url\"\n    )) != null ? _b : false;\n    if (hasUrlCheck) {\n      return [makeIdStringSchema(schema), [{ segments: [] }]];\n    }\n    return [schema, []];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodObject)) {\n    const shape = schema._def.shape();\n    const newShape = {};\n    const urlPaths = [];\n    let changed = false;\n    const shapeKeys = Object.keys(shape);\n    for (const key of shapeKeys) {\n      const child = shape[key];\n      const [transformedChild, childPaths] = transformSchema(child, [\n        ...currentPath,\n        key\n      ]);\n      if (transformedChild !== child) {\n        changed = true;\n      }\n      newShape[key] = transformedChild;\n      if (childPaths.length > 0) {\n        for (const cp of childPaths) {\n          urlPaths.push({ segments: [key, ...cp.segments] });\n        }\n      }\n    }\n    if (changed) {\n      return [import_v3.z.object(newShape), urlPaths];\n    }\n    return [schema, urlPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodArray)) {\n    const itemType = schema._def.type;\n    const [transformedItem, childPaths] = transformSchema(itemType, [\n      ...currentPath,\n      \"*\"\n    ]);\n    const changed = transformedItem !== itemType;\n    const arrayPaths = childPaths.map((cp) => ({\n      segments: [\"*\", ...cp.segments]\n    }));\n    if (changed) {\n      return [import_v3.z.array(transformedItem), arrayPaths];\n    }\n    return [schema, arrayPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodUnion)) {\n    const unionOptions = schema._def.options;\n    const newOptions = [];\n    let changed = false;\n    let allPaths = [];\n    unionOptions.forEach((option, idx) => {\n      const [newOption, childPaths] = transformSchema(option, [\n        ...currentPath,\n        `union_${idx}`\n      ]);\n      if (newOption !== option) {\n        changed = true;\n      }\n      newOptions.push(newOption);\n      allPaths = [...allPaths, ...childPaths];\n    });\n    if (changed) {\n      return [\n        import_v3.z.union(newOptions),\n        allPaths\n      ];\n    }\n    return [schema, allPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodIntersection)) {\n    const leftType = schema._def.left;\n    const rightType = schema._def.right;\n    const [left, leftPaths] = transformSchema(leftType, [\n      ...currentPath,\n      \"intersection_left\"\n    ]);\n    const [right, rightPaths] = transformSchema(rightType, [\n      ...currentPath,\n      \"intersection_right\"\n    ]);\n    const changed = left !== leftType || right !== rightType;\n    const allPaths = [...leftPaths, ...rightPaths];\n    if (changed) {\n      return [import_v3.z.intersection(left, right), allPaths];\n    }\n    return [schema, allPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodOptional)) {\n    const innerType = schema._def.innerType;\n    const [inner, innerPaths] = transformSchema(innerType, currentPath);\n    if (inner !== innerType) {\n      return [import_v3.z.optional(inner), innerPaths];\n    }\n    return [schema, innerPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodNullable)) {\n    const innerType = schema._def.innerType;\n    const [inner, innerPaths] = transformSchema(innerType, currentPath);\n    if (inner !== innerType) {\n      return [import_v3.z.nullable(inner), innerPaths];\n    }\n    return [schema, innerPaths];\n  }\n  if (isKind(schema, import_v3.ZodFirstPartyTypeKind.ZodEffects)) {\n    const baseSchema = schema._def.schema;\n    const [newBaseSchema, basePaths] = transformSchema(baseSchema, currentPath);\n    if (newBaseSchema !== baseSchema) {\n      return [import_v3.z.effect(newBaseSchema, schema._def.effect), basePaths];\n    }\n    return [schema, basePaths];\n  }\n  return [schema, []];\n}\nfunction injectUrls(obj, path7, idToUrlMapping) {\n  var _a, _b;\n  if (path7.length === 0) return;\n  const toId = (value) => {\n    if (typeof value === \"number\") {\n      return String(value);\n    }\n    if (typeof value === \"string\" && ID_PATTERN.test(value)) {\n      return value;\n    }\n    return void 0;\n  };\n  const [key, ...rest] = path7;\n  if (key === \"*\") {\n    if (Array.isArray(obj)) {\n      if (rest.length === 0) {\n        for (let i = 0; i < obj.length; i += 1) {\n          const id = toId(obj[i]);\n          if (id !== void 0) {\n            obj[i] = (_a = idToUrlMapping[id]) != null ? _a : \"\";\n          }\n        }\n      } else {\n        for (const item of obj) injectUrls(item, rest, idToUrlMapping);\n      }\n    }\n    return;\n  }\n  if (obj && typeof obj === \"object\") {\n    const record = obj;\n    if (path7.length === 1) {\n      const fieldValue = record[key];\n      const id = toId(fieldValue);\n      if (id !== void 0) {\n        record[key] = (_b = idToUrlMapping[id]) != null ? _b : \"\";\n      }\n    } else {\n      injectUrls(record[key], rest, idToUrlMapping);\n    }\n  }\n}\nfunction isKind(s, kind) {\n  return s._def.typeName === kind;\n}\nfunction makeIdStringSchema(orig) {\n  var _a, _b, _c;\n  const userDesc = (\n    // Zod 3.23 exposes .description directly; fall back to _def for older minor versions\n    (_c = (_b = orig.description) != null ? _b : (_a = orig._def) == null ? void 0 : _a.description) != null ? _c : \"\"\n  );\n  const base = `This field must be the element-ID in the form 'frameId-backendId' (e.g. \"0-432\").`;\n  const composed = userDesc.trim().length > 0 ? `${base} that follows this user-defined description: ${userDesc}` : base;\n  return import_v3.z.string().regex(ID_PATTERN).describe(composed);\n}\nvar providerEnvVarMap = {\n  openai: \"OPENAI_API_KEY\",\n  anthropic: \"ANTHROPIC_API_KEY\",\n  google: [\"GEMINI_API_KEY\", \"GOOGLE_GENERATIVE_AI_API_KEY\"],\n  groq: \"GROQ_API_KEY\",\n  cerebras: \"CEREBRAS_API_KEY\",\n  togetherai: \"TOGETHER_AI_API_KEY\",\n  mistral: \"MISTRAL_API_KEY\",\n  deepseek: \"DEEPSEEK_API_KEY\",\n  perplexity: \"PERPLEXITY_API_KEY\",\n  azure: \"AZURE_API_KEY\",\n  xai: \"XAI_API_KEY\",\n  google_legacy: \"GOOGLE_API_KEY\"\n};\nfunction loadApiKeyFromEnv(provider, logger) {\n  if (!provider) {\n    return void 0;\n  }\n  const envVarName = providerEnvVarMap[provider];\n  if (!envVarName) {\n    logger({\n      category: \"init\",\n      message: `No known environment variable for provider '${provider}'`,\n      level: 0\n    });\n    return void 0;\n  }\n  const apiKeyFromEnv = Array.isArray(envVarName) ? envVarName.map((name) => process.env[name]).find((key) => key && key.length > 0) : process.env[envVarName];\n  if (typeof apiKeyFromEnv === \"string\" && apiKeyFromEnv.length > 0) {\n    return apiKeyFromEnv;\n  }\n  return void 0;\n}\nfunction trimTrailingTextNode(path7) {\n  return path7 == null ? void 0 : path7.replace(/\\/text\\(\\)(\\[\\d+\\])?$/iu, \"\");\n}\nfunction jsonSchemaToZod(schema) {\n  switch (schema.type) {\n    case \"object\":\n      if (schema.properties) {\n        const shape = {};\n        for (const key in schema.properties) {\n          shape[key] = jsonSchemaToZod(schema.properties[key]);\n        }\n        let zodObject = import_v3.z.object(shape);\n        if (schema.required && Array.isArray(schema.required)) {\n          const requiredFields = schema.required.reduce(\n            (acc, field) => __spreadProps(__spreadValues({}, acc), { [field]: true }),\n            {}\n          );\n          zodObject = zodObject.partial().required(requiredFields);\n        }\n        if (schema.description) {\n          zodObject = zodObject.describe(schema.description);\n        }\n        return zodObject;\n      } else {\n        return import_v3.z.object({});\n      }\n    case \"array\":\n      if (schema.items) {\n        let zodArray = import_v3.z.array(jsonSchemaToZod(schema.items));\n        if (schema.description) {\n          zodArray = zodArray.describe(schema.description);\n        }\n        return zodArray;\n      } else {\n        return import_v3.z.array(import_v3.z.any());\n      }\n    case \"string\": {\n      if (schema.enum) {\n        return import_v3.z.string().refine((val) => schema.enum.includes(val));\n      }\n      let zodString = import_v3.z.string();\n      if (schema.description) {\n        zodString = zodString.describe(schema.description);\n      }\n      return zodString;\n    }\n    case \"number\": {\n      let zodNumber = import_v3.z.number();\n      if (schema.minimum !== void 0) {\n        zodNumber = zodNumber.min(schema.minimum);\n      }\n      if (schema.maximum !== void 0) {\n        zodNumber = zodNumber.max(schema.maximum);\n      }\n      if (schema.description) {\n        zodNumber = zodNumber.describe(schema.description);\n      }\n      return zodNumber;\n    }\n    case \"boolean\": {\n      let zodBoolean = import_v3.z.boolean();\n      if (schema.description) {\n        zodBoolean = zodBoolean.describe(schema.description);\n      }\n      return zodBoolean;\n    }\n    default:\n      return import_v3.z.any();\n  }\n}\n\n// lib/logger.ts\nvar import_pino = __toESM(require(\"pino\"));\nvar levelMapping = {\n  0: \"error\",\n  // Critical/important messages\n  1: \"info\",\n  // Standard information\n  2: \"debug\"\n  // Detailed debugging information\n};\nfunction createLogger(options = {}) {\n  const loggerConfig = {\n    level: options.level || \"info\",\n    base: void 0,\n    // Don't include pid and hostname\n    browser: {\n      asObject: true\n    },\n    // Disable worker threads to avoid issues in tests\n    transport: void 0\n  };\n  if (options.pretty && !isTestEnvironment()) {\n    try {\n      const transport = {\n        transport: {\n          target: \"pino-pretty\",\n          options: {\n            colorize: true,\n            translateTime: \"SYS:standard\",\n            ignore: \"pid,hostname\"\n          }\n        }\n      };\n      Object.assign(loggerConfig, transport);\n    } catch (e) {\n      console.warn(\n        \"pino-pretty not available, falling back to standard logging\"\n      );\n    }\n  }\n  return (0, import_pino.default)(loggerConfig, options.destination);\n}\nfunction isTestEnvironment() {\n  return process.env.NODE_ENV === \"test\" || process.env.JEST_WORKER_ID !== void 0 || process.env.PLAYWRIGHT_TEST_BASE_DIR !== void 0 || // Check if we're in a CI environment\n  process.env.CI === \"true\";\n}\nvar _StagehandLogger = class _StagehandLogger {\n  constructor(options = {}, externalLogger) {\n    this.isTest = isTestEnvironment();\n    this.externalLogger = externalLogger;\n    const externalProvided = typeof externalLogger === \"function\";\n    const explicitUsePino = options.usePino;\n    if (this.isTest) {\n      this.usePino = false;\n    } else if (explicitUsePino === true) {\n      this.usePino = true;\n    } else if (explicitUsePino === false) {\n      this.usePino = false;\n    } else {\n      this.usePino = !externalProvided;\n    }\n    if (this.usePino) {\n      if (!_StagehandLogger.sharedPinoLogger) {\n        _StagehandLogger.sharedPinoLogger = createLogger(options);\n      }\n      this.logger = _StagehandLogger.sharedPinoLogger;\n    }\n    this.verbose = 1;\n  }\n  /**\n   * Set the verbosity level\n   */\n  setVerbosity(level) {\n    this.verbose = level;\n    if (this.usePino && this.logger) {\n      switch (level) {\n        case 0:\n          this.logger.level = \"error\";\n          break;\n        case 1:\n          this.logger.level = \"info\";\n          break;\n        case 2:\n          this.logger.level = \"debug\";\n          break;\n      }\n    }\n  }\n  /**\n   * Log a message using our LogLine format\n   */\n  log(logLine) {\n    var _a, _b, _c, _d;\n    if (((_a = logLine.level) != null ? _a : 1) > this.verbose) {\n      return;\n    }\n    const shouldFallbackToConsole = !this.usePino && !this.externalLogger || this.isTest && !this.externalLogger;\n    if (shouldFallbackToConsole) {\n      const level = (_b = logLine.level) != null ? _b : 1;\n      const ts = (_c = logLine.timestamp) != null ? _c : (/* @__PURE__ */ new Date()).toISOString();\n      const levelStr = level === 0 ? \"ERROR\" : level === 2 ? \"DEBUG\" : \"INFO\";\n      let output = `[${ts}] ${levelStr}: ${logLine.message}`;\n      if (logLine.auxiliary) {\n        const formattedData = this.formatAuxiliaryData(logLine.auxiliary);\n        for (const [key, value] of Object.entries(formattedData)) {\n          let formattedValue;\n          if (typeof value === \"object\" && value !== null) {\n            formattedValue = JSON.stringify(value, null, 2).split(\"\\n\").map((line, i) => i === 0 ? line : `    ${line}`).join(\"\\n\");\n          } else {\n            formattedValue = String(value);\n          }\n          output += `\n    ${key}: ${formattedValue}`;\n        }\n      }\n      switch (level) {\n        case 0:\n          console.error(output);\n          break;\n        case 1:\n          console.log(output);\n          break;\n        case 2:\n          console.debug(output);\n          break;\n      }\n      return;\n    }\n    if (this.usePino && this.logger) {\n      const pinoLevel = levelMapping[(_d = logLine.level) != null ? _d : 1] || \"info\";\n      const logData = __spreadValues({\n        category: logLine.category,\n        timestamp: logLine.timestamp || (/* @__PURE__ */ new Date()).toISOString()\n      }, this.formatAuxiliaryData(logLine.auxiliary));\n      if (pinoLevel === \"error\") {\n        this.logger.error(logData, logLine.message);\n      } else if (pinoLevel === \"info\") {\n        this.logger.info(logData, logLine.message);\n      } else if (pinoLevel === \"debug\") {\n        this.logger.debug(logData, logLine.message);\n      } else if (pinoLevel === \"warn\") {\n        this.logger.warn(logData, logLine.message);\n      } else if (pinoLevel === \"trace\") {\n        this.logger.trace(logData, logLine.message);\n      } else {\n        this.logger.info(logData, logLine.message);\n      }\n    }\n    if (this.externalLogger) {\n      this.externalLogger(logLine);\n    }\n  }\n  /**\n   * Helper to format auxiliary data for structured logging\n   */\n  formatAuxiliaryData(auxiliary) {\n    if (!auxiliary) return {};\n    const formattedData = {};\n    for (const [key, { value, type }] of Object.entries(auxiliary)) {\n      let formattedValue;\n      switch (type) {\n        case \"integer\":\n          formattedValue = parseInt(value, 10);\n          break;\n        case \"float\":\n          formattedValue = parseFloat(value);\n          break;\n        case \"boolean\":\n          formattedValue = value === \"true\";\n          break;\n        case \"object\":\n          try {\n            formattedValue = JSON.parse(value);\n          } catch (e) {\n            formattedValue = value;\n          }\n          break;\n        default:\n          formattedValue = value;\n      }\n      if (formattedValue === void 0) continue;\n      if (typeof formattedValue === \"object\" && formattedValue !== null) {\n        const isEmpty = Array.isArray(formattedValue) ? formattedValue.length === 0 : Object.keys(formattedValue).length === 0;\n        if (isEmpty) continue;\n      }\n      formattedData[key] = formattedValue;\n    }\n    return formattedData;\n  }\n  /**\n   * Convenience methods for different log levels\n   */\n  error(message, data) {\n    this.log({\n      message,\n      level: 0,\n      auxiliary: this.convertToAuxiliary(data)\n    });\n  }\n  warn(message, data) {\n    this.log({\n      message,\n      level: 1,\n      category: \"warning\",\n      auxiliary: this.convertToAuxiliary(data)\n    });\n  }\n  info(message, data) {\n    this.log({\n      message,\n      level: 1,\n      auxiliary: this.convertToAuxiliary(data)\n    });\n  }\n  debug(message, data) {\n    this.log({\n      message,\n      level: 2,\n      auxiliary: this.convertToAuxiliary(data)\n    });\n  }\n  /**\n   * Convert a plain object to our auxiliary format\n   */\n  convertToAuxiliary(data) {\n    if (!data) return void 0;\n    const auxiliary = {};\n    for (const [key, value] of Object.entries(data)) {\n      if (value === void 0) continue;\n      const type = typeof value;\n      auxiliary[key] = {\n        value: type === \"object\" ? JSON.stringify(value) : String(value),\n        type: type === \"number\" ? Number.isInteger(value) ? \"integer\" : \"float\" : type === \"boolean\" ? \"boolean\" : type === \"object\" ? \"object\" : \"string\"\n      };\n    }\n    return auxiliary;\n  }\n};\n/**\n * Shared Pino logger instance across all StagehandLogger instances.\n * First instance to enable Pino creates it, subsequent instances reuse it.\n */\n_StagehandLogger.sharedPinoLogger = null;\nvar StagehandLogger = _StagehandLogger;\n\n// lib/v3/cache/ActCache.ts\nvar import_crypto = require(\"crypto\");\n\n// lib/v3/cache/utils.ts\nfunction cloneForCache(value) {\n  return JSON.parse(JSON.stringify(value));\n}\nfunction safeGetPageUrl(page) {\n  return __async(this, null, function* () {\n    try {\n      return page.url();\n    } catch (e) {\n      return \"\";\n    }\n  });\n}\n\n// lib/v3/cache/ActCache.ts\ninit_sdkErrors();\nvar ActCache = class {\n  constructor({\n    storage,\n    logger,\n    getActHandler,\n    getDefaultLlmClient,\n    domSettleTimeoutMs\n  }) {\n    this.storage = storage;\n    this.logger = logger;\n    this.getActHandler = getActHandler;\n    this.getDefaultLlmClient = getDefaultLlmClient;\n    this.domSettleTimeoutMs = domSettleTimeoutMs;\n  }\n  get enabled() {\n    return this.storage.enabled;\n  }\n  prepareContext(instruction, page, variables) {\n    return __async(this, null, function* () {\n      if (!this.enabled) return null;\n      const sanitizedInstruction = instruction.trim();\n      const sanitizedVariables = variables ? __spreadValues({}, variables) : {};\n      const pageUrl = yield safeGetPageUrl(page);\n      const cacheKey = this.buildActCacheKey(\n        sanitizedInstruction,\n        pageUrl,\n        sanitizedVariables\n      );\n      return {\n        instruction: sanitizedInstruction,\n        cacheKey,\n        pageUrl,\n        variables: sanitizedVariables\n      };\n    });\n  }\n  tryReplay(context, page, timeout) {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.enabled) return null;\n      const {\n        value: entry,\n        error,\n        path: path7\n      } = yield this.storage.readJson(`${context.cacheKey}.json`);\n      if (error && path7) {\n        this.logger({\n          category: \"cache\",\n          message: `failed to read act cache entry: ${path7}`,\n          level: 2,\n          auxiliary: {\n            error: { value: String(error), type: \"string\" }\n          }\n        });\n        return null;\n      }\n      if (!entry) return null;\n      if (entry.version !== 1) return null;\n      if (!Array.isArray(entry.actions) || entry.actions.length === 0) {\n        return null;\n      }\n      this.logger({\n        category: \"cache\",\n        message: \"act cache hit\",\n        level: 1,\n        auxiliary: {\n          instruction: { value: context.instruction, type: \"string\" },\n          url: {\n            value: (_a = entry.url) != null ? _a : context.pageUrl,\n            type: \"string\"\n          }\n        }\n      });\n      return yield this.replayCachedActions(context, entry, page, timeout);\n    });\n  }\n  store(context, result) {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.enabled) return;\n      const entry = {\n        version: 1,\n        instruction: context.instruction,\n        url: context.pageUrl,\n        variables: context.variables,\n        actions: (_a = result.actions) != null ? _a : [],\n        actionDescription: result.actionDescription,\n        message: result.message\n      };\n      const { error, path: path7 } = yield this.storage.writeJson(\n        `${context.cacheKey}.json`,\n        entry\n      );\n      if (error && path7) {\n        this.logger({\n          category: \"cache\",\n          message: \"failed to write act cache entry\",\n          level: 1,\n          auxiliary: {\n            error: { value: String(error), type: \"string\" }\n          }\n        });\n        return;\n      }\n      this.logger({\n        category: \"cache\",\n        message: \"act cache stored\",\n        level: 2,\n        auxiliary: {\n          instruction: { value: context.instruction, type: \"string\" },\n          url: { value: context.pageUrl, type: \"string\" }\n        }\n      });\n    });\n  }\n  buildActCacheKey(instruction, url, variables) {\n    const payload = JSON.stringify({\n      instruction,\n      url,\n      variables\n    });\n    return (0, import_crypto.createHash)(\"sha256\").update(payload).digest(\"hex\");\n  }\n  replayCachedActions(context, entry, page, timeout) {\n    return __async(this, null, function* () {\n      const handler = this.getActHandler();\n      if (!handler) {\n        throw new StagehandNotInitializedError(\"act()\");\n      }\n      const execute = () => __async(this, null, function* () {\n        var _a, _b, _c;\n        const actionResults = [];\n        for (const action of entry.actions) {\n          const result = yield handler.actFromObserveResult(\n            action,\n            page,\n            this.domSettleTimeoutMs,\n            this.getDefaultLlmClient()\n          );\n          actionResults.push(result);\n          if (!result.success) {\n            break;\n          }\n        }\n        if (actionResults.length === 0) {\n          return {\n            success: false,\n            message: \"Failed to perform act: cached entry has no actions\",\n            actionDescription: (_a = entry.actionDescription) != null ? _a : entry.instruction,\n            actions: []\n          };\n        }\n        const success = actionResults.every((r) => r.success);\n        const actions = actionResults.flatMap((r) => {\n          var _a2;\n          return (_a2 = r.actions) != null ? _a2 : [];\n        });\n        const message = actionResults.map((r) => r.message).filter((m) => m && m.trim().length > 0).join(\" \\u2192 \") || entry.message || `Replayed ${entry.actions.length} cached action${entry.actions.length === 1 ? \"\" : \"s\"}.`;\n        const actionDescription = entry.actionDescription || ((_b = actionResults[actionResults.length - 1]) == null ? void 0 : _b.actionDescription) || ((_c = entry.actions[entry.actions.length - 1]) == null ? void 0 : _c.description) || entry.instruction;\n        if (success && actions.length > 0 && this.haveActionsChanged(entry.actions, actions)) {\n          yield this.refreshCacheEntry(context, __spreadProps(__spreadValues({}, entry), {\n            actions,\n            message,\n            actionDescription\n          }));\n        }\n        return {\n          success,\n          message,\n          actionDescription,\n          actions\n        };\n      });\n      return yield this.runWithTimeout(execute, timeout);\n    });\n  }\n  haveActionsChanged(original, updated) {\n    var _a, _b, _c, _d;\n    if (original.length !== updated.length) {\n      return true;\n    }\n    for (let i = 0; i < original.length; i += 1) {\n      const orig = original[i];\n      const next = updated[i];\n      if (!next) {\n        return true;\n      }\n      if (orig.selector !== next.selector) {\n        return true;\n      }\n      if (orig.description !== next.description) {\n        return true;\n      }\n      if (((_a = orig.method) != null ? _a : \"\") !== ((_b = next.method) != null ? _b : \"\")) {\n        return true;\n      }\n      const origArgs = (_c = orig.arguments) != null ? _c : [];\n      const nextArgs = (_d = next.arguments) != null ? _d : [];\n      if (origArgs.length !== nextArgs.length) {\n        return true;\n      }\n      for (let j = 0; j < origArgs.length; j += 1) {\n        if (origArgs[j] !== nextArgs[j]) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  refreshCacheEntry(context, entry) {\n    return __async(this, null, function* () {\n      const { error, path: path7 } = yield this.storage.writeJson(\n        `${context.cacheKey}.json`,\n        entry\n      );\n      if (error && path7) {\n        this.logger({\n          category: \"cache\",\n          message: \"failed to update act cache entry after self-heal\",\n          level: 0,\n          auxiliary: {\n            error: { value: String(error), type: \"string\" }\n          }\n        });\n        return;\n      }\n      this.logger({\n        category: \"cache\",\n        message: \"act cache entry updated after self-heal\",\n        level: 2,\n        auxiliary: {\n          instruction: { value: context.instruction, type: \"string\" },\n          url: { value: context.pageUrl, type: \"string\" }\n        }\n      });\n    });\n  }\n  runWithTimeout(run, timeout) {\n    return __async(this, null, function* () {\n      if (!timeout) {\n        return yield run();\n      }\n      return yield new Promise((resolve2, reject) => {\n        const timer = setTimeout(() => {\n          reject(new Error(`act() timed out after ${timeout}ms`));\n        }, timeout);\n        void run().then(\n          (value) => {\n            clearTimeout(timer);\n            resolve2(value);\n          },\n          (err) => {\n            clearTimeout(timer);\n            reject(err);\n          }\n        );\n      });\n    });\n  }\n};\n\n// lib/v3/cache/AgentCache.ts\nvar import_crypto2 = require(\"crypto\");\nvar SENSITIVE_CONFIG_KEYS = /* @__PURE__ */ new Set([\"apikey\", \"api_key\", \"api-key\"]);\nvar AgentCache = class {\n  constructor({\n    storage,\n    logger,\n    getActHandler,\n    getContext,\n    getDefaultLlmClient,\n    getBaseModelName,\n    getSystemPrompt,\n    domSettleTimeoutMs,\n    act: act2\n  }) {\n    this.recording = null;\n    this.storage = storage;\n    this.logger = logger;\n    this.getActHandler = getActHandler;\n    this.getContext = getContext;\n    this.getDefaultLlmClient = getDefaultLlmClient;\n    this.getBaseModelName = getBaseModelName;\n    this.getSystemPrompt = getSystemPrompt;\n    this.domSettleTimeoutMs = domSettleTimeoutMs;\n    this.act = act2;\n  }\n  get enabled() {\n    return this.storage.enabled;\n  }\n  shouldAttemptCache(instruction) {\n    return this.enabled && instruction.trim().length > 0;\n  }\n  sanitizeExecuteOptions(options) {\n    if (!options) return {};\n    const sanitized = {};\n    if (typeof options.maxSteps === \"number\") {\n      sanitized.maxSteps = options.maxSteps;\n    }\n    if (\"highlightCursor\" in options && typeof options.highlightCursor === \"boolean\") {\n      sanitized.highlightCursor = options.highlightCursor;\n    }\n    return sanitized;\n  }\n  buildConfigSignature(agentOptions) {\n    var _a, _b, _c;\n    const toolKeys = (agentOptions == null ? void 0 : agentOptions.tools) ? Object.keys(agentOptions.tools).sort() : void 0;\n    const integrationSignatures = (agentOptions == null ? void 0 : agentOptions.integrations) ? agentOptions.integrations.map(\n      (integration) => typeof integration === \"string\" ? integration : \"client\"\n    ) : void 0;\n    const serializedModel = this.serializeAgentModelForCache(\n      agentOptions == null ? void 0 : agentOptions.model\n    );\n    const serializedExecutionModel = this.serializeAgentModelForCache(\n      agentOptions == null ? void 0 : agentOptions.executionModel\n    );\n    return JSON.stringify({\n      v3Model: this.getBaseModelName(),\n      systemPrompt: (_a = this.getSystemPrompt()) != null ? _a : \"\",\n      agent: {\n        cua: (_b = agentOptions == null ? void 0 : agentOptions.cua) != null ? _b : false,\n        model: serializedModel != null ? serializedModel : null,\n        executionModel: (agentOptions == null ? void 0 : agentOptions.cua) ? null : serializedExecutionModel,\n        systemPrompt: (_c = agentOptions == null ? void 0 : agentOptions.systemPrompt) != null ? _c : null,\n        toolKeys,\n        integrations: integrationSignatures\n      }\n    });\n  }\n  prepareContext(params) {\n    return __async(this, null, function* () {\n      if (!this.shouldAttemptCache(params.instruction)) {\n        return null;\n      }\n      const instruction = params.instruction.trim();\n      const startUrl = yield safeGetPageUrl(params.page);\n      const cacheKey = this.buildAgentCacheKey(\n        instruction,\n        startUrl,\n        params.options,\n        params.configSignature\n      );\n      return {\n        instruction,\n        startUrl,\n        options: params.options,\n        configSignature: params.configSignature,\n        cacheKey\n      };\n    });\n  }\n  tryReplay(context) {\n    return __async(this, null, function* () {\n      if (!this.enabled) return null;\n      const {\n        value: entry,\n        error,\n        path: path7\n      } = yield this.storage.readJson(\n        `agent-${context.cacheKey}.json`\n      );\n      if (error && path7) {\n        this.logger({\n          category: \"cache\",\n          message: `failed to read agent cache entry: ${path7}`,\n          level: 1,\n          auxiliary: {\n            error: { value: String(error), type: \"string\" }\n          }\n        });\n        return null;\n      }\n      if (!entry || entry.version !== 1) {\n        return null;\n      }\n      this.logger({\n        category: \"cache\",\n        message: \"agent cache hit\",\n        level: 1,\n        auxiliary: {\n          instruction: { value: context.instruction, type: \"string\" },\n          url: { value: context.startUrl, type: \"string\" }\n        }\n      });\n      return yield this.replayAgentCacheEntry(entry);\n    });\n  }\n  store(context, steps, result) {\n    return __async(this, null, function* () {\n      if (!this.enabled) return;\n      const entry = {\n        version: 1,\n        instruction: context.instruction,\n        startUrl: context.startUrl,\n        options: context.options,\n        configSignature: context.configSignature,\n        steps: cloneForCache(steps),\n        result: cloneForCache(result),\n        timestamp: (/* @__PURE__ */ new Date()).toISOString()\n      };\n      const { error, path: path7 } = yield this.storage.writeJson(\n        `agent-${context.cacheKey}.json`,\n        entry\n      );\n      if (error && path7) {\n        this.logger({\n          category: \"cache\",\n          message: \"failed to write agent cache entry\",\n          level: 1,\n          auxiliary: {\n            error: { value: String(error), type: \"string\" }\n          }\n        });\n        return;\n      }\n      this.logger({\n        category: \"cache\",\n        message: \"agent cache stored\",\n        level: 2,\n        auxiliary: {\n          instruction: { value: context.instruction, type: \"string\" },\n          steps: { value: String(steps.length), type: \"string\" }\n        }\n      });\n    });\n  }\n  beginRecording() {\n    this.recording = [];\n  }\n  endRecording() {\n    if (!this.recording) return [];\n    const steps = cloneForCache(this.recording);\n    this.recording = null;\n    return steps;\n  }\n  discardRecording() {\n    this.recording = null;\n  }\n  isRecording() {\n    return Array.isArray(this.recording);\n  }\n  recordStep(step) {\n    if (!this.isRecording()) return;\n    try {\n      this.recording.push(cloneForCache(step));\n    } catch (err) {\n      this.logger({\n        category: \"cache\",\n        message: \"failed to record agent replay step\",\n        level: 2,\n        auxiliary: {\n          error: { value: String(err), type: \"string\" }\n        }\n      });\n    }\n  }\n  isReplayActive() {\n    return this.isRecording();\n  }\n  serializeAgentModelForCache(model) {\n    if (!model) return null;\n    if (typeof model === \"string\") return model;\n    const _a = model, { modelName } = _a, modelOptions = __objRest(_a, [\"modelName\"]);\n    const sanitizedOptions = Object.keys(modelOptions).length > 0 ? this.sanitizeModelOptionsForCache(\n      modelOptions\n    ) : void 0;\n    return sanitizedOptions ? { modelName, options: sanitizedOptions } : modelName;\n  }\n  buildAgentCacheKey(instruction, startUrl, options, configSignature) {\n    const payload = {\n      instruction,\n      startUrl,\n      options,\n      configSignature\n    };\n    return (0, import_crypto2.createHash)(\"sha256\").update(JSON.stringify(payload)).digest(\"hex\");\n  }\n  sanitizeModelOptionsForCache(value) {\n    const sanitizedEntries = {};\n    for (const [key, rawValue] of Object.entries(value)) {\n      if (SENSITIVE_CONFIG_KEYS.has(key.toLowerCase())) {\n        continue;\n      }\n      const sanitizedValue = this.sanitizeModelValueForCache(rawValue);\n      if (sanitizedValue !== void 0) {\n        sanitizedEntries[key] = sanitizedValue;\n      }\n    }\n    return Object.keys(sanitizedEntries).length > 0 ? sanitizedEntries : void 0;\n  }\n  sanitizeModelValueForCache(value) {\n    if (Array.isArray(value)) {\n      const sanitizedArray = value.map((item) => this.sanitizeModelValueForCache(item)).filter((item) => item !== void 0);\n      return sanitizedArray;\n    }\n    if (value && typeof value === \"object\") {\n      return this.sanitizeModelOptionsForCache(\n        value\n      );\n    }\n    return value;\n  }\n  replayAgentCacheEntry(entry) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const ctx = this.getContext();\n      const handler = this.getActHandler();\n      if (!ctx || !handler) return null;\n      try {\n        for (const step of (_a = entry.steps) != null ? _a : []) {\n          yield this.executeAgentReplayStep(step, ctx, handler);\n        }\n        const result = cloneForCache(entry.result);\n        result.usage = {\n          input_tokens: 0,\n          output_tokens: 0,\n          reasoning_tokens: 0,\n          cached_input_tokens: 0,\n          inference_time_ms: 0\n        };\n        result.metadata = __spreadProps(__spreadValues({}, (_b = result.metadata) != null ? _b : {}), {\n          cacheHit: true,\n          cacheTimestamp: entry.timestamp\n        });\n        return result;\n      } catch (err) {\n        this.logger({\n          category: \"cache\",\n          message: \"agent cache replay failed\",\n          level: 1,\n          auxiliary: {\n            error: { value: String(err), type: \"string\" }\n          }\n        });\n        return null;\n      }\n    });\n  }\n  executeAgentReplayStep(step, ctx, handler) {\n    return __async(this, null, function* () {\n      switch (step.type) {\n        case \"act\":\n          yield this.replayAgentActStep(step, ctx, handler);\n          return;\n        case \"fillForm\":\n          yield this.replayAgentFillFormStep(\n            step,\n            ctx,\n            handler\n          );\n          return;\n        case \"goto\":\n          yield this.replayAgentGotoStep(step, ctx);\n          return;\n        case \"scroll\":\n          yield this.replayAgentScrollStep(step, ctx);\n          return;\n        case \"wait\":\n          yield this.replayAgentWaitStep(step);\n          return;\n        case \"navback\":\n          yield this.replayAgentNavBackStep(step, ctx);\n          return;\n        case \"close\":\n        case \"extract\":\n        case \"screenshot\":\n        case \"ariaTree\":\n          return;\n        default:\n          this.logger({\n            category: \"cache\",\n            message: `agent cache skipping step type: ${step.type}`,\n            level: 2\n          });\n      }\n    });\n  }\n  replayAgentActStep(step, ctx, handler) {\n    return __async(this, null, function* () {\n      const actions = Array.isArray(step.actions) ? step.actions : [];\n      if (actions.length > 0) {\n        const page = yield ctx.awaitActivePage();\n        for (const action of actions) {\n          yield handler.actFromObserveResult(\n            action,\n            page,\n            this.domSettleTimeoutMs,\n            this.getDefaultLlmClient()\n          );\n        }\n        return;\n      }\n      yield this.act(step.instruction, { timeout: step.timeout });\n    });\n  }\n  replayAgentFillFormStep(step, ctx, handler) {\n    return __async(this, null, function* () {\n      var _a;\n      const actions = Array.isArray(step.actions) && step.actions.length > 0 ? step.actions : (_a = step.observeResults) != null ? _a : [];\n      if (!Array.isArray(actions) || actions.length === 0) return;\n      const page = yield ctx.awaitActivePage();\n      for (const action of actions) {\n        yield handler.actFromObserveResult(\n          action,\n          page,\n          this.domSettleTimeoutMs,\n          this.getDefaultLlmClient()\n        );\n      }\n    });\n  }\n  replayAgentGotoStep(step, ctx) {\n    return __async(this, null, function* () {\n      var _a;\n      const page = yield ctx.awaitActivePage();\n      yield page.goto(step.url, { waitUntil: (_a = step.waitUntil) != null ? _a : \"load\" });\n    });\n  }\n  replayAgentScrollStep(step, ctx) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      const page = yield ctx.awaitActivePage();\n      let anchor = step.anchor;\n      if (!anchor) {\n        anchor = yield page.mainFrame().evaluate(() => ({\n          x: Math.max(0, Math.floor(window.innerWidth / 2)),\n          y: Math.max(0, Math.floor(window.innerHeight / 2))\n        }));\n      }\n      const deltaX = (_a = step.deltaX) != null ? _a : 0;\n      const deltaY = (_b = step.deltaY) != null ? _b : 0;\n      yield page.scroll(\n        Math.round((_c = anchor.x) != null ? _c : 0),\n        Math.round((_d = anchor.y) != null ? _d : 0),\n        deltaX,\n        deltaY\n      );\n    });\n  }\n  replayAgentWaitStep(step) {\n    return __async(this, null, function* () {\n      if (!step.timeMs || step.timeMs <= 0) return;\n      yield new Promise((resolve2) => setTimeout(resolve2, step.timeMs));\n    });\n  }\n  replayAgentNavBackStep(step, ctx) {\n    return __async(this, null, function* () {\n      var _a;\n      const page = yield ctx.awaitActivePage();\n      yield page.goBack({ waitUntil: (_a = step.waitUntil) != null ? _a : \"domcontentloaded\" });\n    });\n  }\n};\n\n// lib/v3/cache/CacheStorage.ts\nvar import_fs = __toESM(require(\"fs\"));\nvar import_path = __toESM(require(\"path\"));\nvar CacheStorage = class _CacheStorage {\n  constructor(logger, dir) {\n    this.logger = logger;\n    this.dir = dir;\n  }\n  static create(cacheDir, logger, options) {\n    var _a;\n    if (!cacheDir) {\n      return new _CacheStorage(logger);\n    }\n    const resolved = import_path.default.resolve(cacheDir);\n    try {\n      import_fs.default.mkdirSync(resolved, { recursive: true });\n      return new _CacheStorage(logger, resolved);\n    } catch (err) {\n      const label = (_a = options == null ? void 0 : options.label) != null ? _a : \"cache directory\";\n      logger({\n        category: \"cache\",\n        message: `unable to initialize ${label}: ${resolved}`,\n        level: 1,\n        auxiliary: {\n          error: { value: String(err), type: \"string\" }\n        }\n      });\n      return new _CacheStorage(logger);\n    }\n  }\n  get directory() {\n    return this.dir;\n  }\n  get enabled() {\n    return !!this.dir;\n  }\n  resolvePath(fileName) {\n    if (!this.dir) return null;\n    return import_path.default.join(this.dir, fileName);\n  }\n  readJson(fileName) {\n    return __async(this, null, function* () {\n      const filePath = this.resolvePath(fileName);\n      if (!filePath) {\n        return { value: null };\n      }\n      try {\n        const raw = yield import_fs.default.promises.readFile(filePath, \"utf8\");\n        return { value: JSON.parse(raw) };\n      } catch (err) {\n        const code = err == null ? void 0 : err.code;\n        if (code === \"ENOENT\") {\n          return { value: null };\n        }\n        return { value: null, error: err, path: filePath };\n      }\n    });\n  }\n  writeJson(fileName, data) {\n    return __async(this, null, function* () {\n      const filePath = this.resolvePath(fileName);\n      if (!filePath) {\n        return {};\n      }\n      try {\n        yield import_fs.default.promises.mkdir(import_path.default.dirname(filePath), { recursive: true });\n        yield import_fs.default.promises.writeFile(\n          filePath,\n          JSON.stringify(data, null, 2),\n          \"utf8\"\n        );\n        return {};\n      } catch (err) {\n        return { error: err, path: filePath };\n      }\n    });\n  }\n};\n\n// lib/inference.ts\nvar import_v32 = require(\"zod/v3\");\n\n// lib/prompt.ts\nfunction buildUserInstructionsString(userProvidedInstructions) {\n  if (!userProvidedInstructions) {\n    return \"\";\n  }\n  return `\n\n# Custom Instructions Provided by the User\n    \nPlease keep the user's instructions in mind when performing actions. If the user's instructions are not relevant to the current task, ignore them.\n\nUser Instructions:\n${userProvidedInstructions}`;\n}\nfunction buildExtractSystemPrompt(isUsingPrintExtractedDataTool = false, userProvidedInstructions) {\n  const baseContent = `You are extracting content on behalf of a user.\n  If a user asks you to extract a 'list' of information, or 'all' information, \n  YOU MUST EXTRACT ALL OF THE INFORMATION THAT THE USER REQUESTS.\n   \n  You will be given:\n1. An instruction\n2. `;\n  const contentDetail = `A list of DOM elements to extract from.`;\n  const instructions = `\nPrint the exact text from the DOM elements with all symbols, characters, and endlines as is.\nPrint null or an empty string if no new information is found.\n  `.trim();\n  const toolInstructions = isUsingPrintExtractedDataTool ? `\nONLY print the content using the print_extracted_data tool provided.\nONLY print the content using the print_extracted_data tool provided.\n  `.trim() : \"\";\n  const additionalInstructions = \"If a user is attempting to extract links or URLs, you MUST respond with ONLY the IDs of the link elements. \\nDo not attempt to extract links directly from the text unless absolutely necessary. \";\n  const userInstructions = buildUserInstructionsString(\n    userProvidedInstructions\n  );\n  const content = `${baseContent}${contentDetail}\n\n${instructions}\n${toolInstructions}${additionalInstructions ? `\n\n${additionalInstructions}` : \"\"}${userInstructions ? `\n\n${userInstructions}` : \"\"}`.replace(/\\s+/g, \" \");\n  return {\n    role: \"system\",\n    content\n  };\n}\nfunction buildExtractUserPrompt(instruction, domElements, isUsingPrintExtractedDataTool = false) {\n  let content = `Instruction: ${instruction}\nDOM: ${domElements}`;\n  if (isUsingPrintExtractedDataTool) {\n    content += `\nONLY print the content using the print_extracted_data tool provided.\nONLY print the content using the print_extracted_data tool provided.`;\n  }\n  return {\n    role: \"user\",\n    content\n  };\n}\nvar metadataSystemPrompt = `You are an AI assistant tasked with evaluating the progress and completion status of an extraction task.\nAnalyze the extraction response and determine if the task is completed or if more information is needed.\nStrictly abide by the following criteria:\n1. Once the instruction has been satisfied by the current extraction response, ALWAYS set completion status to true and stop processing, regardless of remaining chunks.\n2. Only set completion status to false if BOTH of these conditions are true:\n   - The instruction has not been satisfied yet\n   - There are still chunks left to process (chunksTotal > chunksSeen)`;\nfunction buildMetadataSystemPrompt() {\n  return {\n    role: \"system\",\n    content: metadataSystemPrompt\n  };\n}\nfunction buildMetadataPrompt(instruction, extractionResponse) {\n  return {\n    role: \"user\",\n    content: `Instruction: ${instruction}\nExtracted content: ${JSON.stringify(extractionResponse, null, 2)}`\n  };\n}\nfunction buildObserveSystemPrompt(userProvidedInstructions) {\n  const observeSystemPrompt = `\nYou are helping the user automate the browser by finding elements based on what the user wants to observe in the page.\n\nYou will be given:\n1. a instruction of elements to observe\n2. a hierarchical accessibility tree showing the semantic structure of the page. The tree is a hybrid of the DOM and the accessibility tree.\n\nReturn an array of elements that match the instruction if they exist, otherwise return an empty array.`;\n  const content = observeSystemPrompt.replace(/\\s+/g, \" \");\n  return {\n    role: \"system\",\n    content: [content, buildUserInstructionsString(userProvidedInstructions)].filter(Boolean).join(\"\\n\\n\")\n  };\n}\nfunction buildObserveUserMessage(instruction, domElements) {\n  return {\n    role: \"user\",\n    content: `instruction: ${instruction}\nAccessibility Tree: \n${domElements}\n`\n  };\n}\nfunction buildActSystemPrompt(userProvidedInstructions) {\n  const actSystemPrompt = `\nYou are helping the user automate the browser by finding elements based on what action the user wants to take on the page\n\nYou will be given:\n1. a user defined instruction about what action to take\n2. a hierarchical accessibility tree showing the semantic structure of the page. The tree is a hybrid of the DOM and the accessibility tree.\n\nReturn the element that matches the instruction if it exists. Otherwise, return an empty object.`;\n  const content = actSystemPrompt.replace(/\\s+/g, \" \");\n  return {\n    role: \"system\",\n    content: [content, buildUserInstructionsString(userProvidedInstructions)].filter(Boolean).join(\"\\n\\n\")\n  };\n}\nfunction buildActPrompt(action, supportedActions, variables) {\n  let instruction = `Find the most relevant element to perform an action on given the following action: ${action}.  \n  IF AND ONLY IF the action EXPLICITLY includes the word 'dropdown' and implies choosing/selecting an option from a dropdown, ignore the 'General Instructions' section, and follow the 'Dropdown Specific Instructions' section carefully.\n  \n  General Instructions: \n    Provide an action for this element such as ${supportedActions.join(\", \")}. Remember that to users, buttons and links look the same in most cases.\n    If the action is completely unrelated to a potential action to be taken on the page, return an empty object. \n    ONLY return one action. If multiple actions are relevant, return the most relevant one. \n    If the user is asking to scroll to a position on the page, e.g., 'halfway' or 0.75, etc, you must return the argument formatted as the correct percentage, e.g., '50%' or '75%', etc.\n    If the user is asking to scroll to the next chunk/previous chunk, choose the nextChunk/prevChunk method. No arguments are required here.\n    If the action implies a key press, e.g., 'press enter', 'press a', 'press space', etc., always choose the press method with the appropriate key as argument \\u2014 e.g. 'a', 'Enter', 'Space'. Do not choose a click action on an on-screen keyboard. Capitalize the first character like 'Enter', 'Tab', 'Escape' only for special keys. \n  \n  Dropdown Specific Instructions:\n    For interacting with dropdowns, there are two specific cases that you need to handle. \n    \n    CASE 1: the element is a 'select' element. \n      - choose the selectOptionFromDropdown method,\n      - set the argument to the exact text of the option that should be selected,\n      - set twoStep to false.\n    CASE 2: the element is NOT a 'select' element:\n      - do not attempt to directly choose the element from the dropdown. You will need to click to expand the dropdown first. You will achieve this by following these instructions:\n        - choose the node that most closely corresponds to the given instruction EVEN if it is a 'StaticText' element, or otherwise does not appear to be interactable.  \n        - choose the 'click' method\n        - set twoStep to true.\n  `;\n  if (variables && Object.keys(variables).length > 0) {\n    const variableNames = Object.keys(variables).map((key) => `%${key}%`).join(\", \");\n    const variablesPrompt = `The following variables are available to use in the action: ${variableNames}. Fill the argument variables with the variable name.`;\n    instruction += ` ${variablesPrompt}`;\n  }\n  return instruction;\n}\nfunction buildStepTwoPrompt(originalUserAction, previousAction, supportedActions, variables) {\n  let instruction = `\n  The original user action was: ${originalUserAction}.\n  You have just taken the following action which completed step 1 of 2: ${previousAction}.\n  \n  Now, you must find the most relevant element to perform an action on in order to complete step 2 of 2. \n  \n  General Instructions: \n  Provide an action for this element such as ${supportedActions.join(\", \")}. Remember that to users, buttons and links look the same in most cases.\n  If the action is completely unrelated to a potential action to be taken on the page, return an empty object. \n  ONLY return one action. If multiple actions are relevant, return the most relevant one. \n  If the user is asking to scroll to a position on the page, e.g., 'halfway' or 0.75, etc, you must return the argument formatted as the correct percentage, e.g., '50%' or '75%', etc.\n  If the user is asking to scroll to the next chunk/previous chunk, choose the nextChunk/prevChunk method. No arguments are required here.\n  If the action implies a key press, e.g., 'press enter', 'press a', 'press space', etc., always choose the press method with the appropriate key as argument \\u2014 e.g. 'a', 'Enter', 'Space'. Do not choose a click action on an on-screen keyboard. Capitalize the first character like 'Enter', 'Tab', 'Escape' only for special keys. \n  `;\n  if (variables && Object.keys(variables).length > 0) {\n    const variableNames = Object.keys(variables).map((key) => `%${key}%`).join(\", \");\n    const variablesPrompt = `The following variables are available to use in the action: ${variableNames}. Fill the argument variables with the variable name.`;\n    instruction += ` ${variablesPrompt}`;\n  }\n  return instruction;\n}\nfunction buildGoogleCUASystemPrompt() {\n  return {\n    role: \"system\",\n    content: `You are a general-purpose browser agent whose job is to accomplish the user's goal.\nToday's date is ${(/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0]}.\nYou have access to a search tool; however, in most cases you should operate within the page/url the user has provided. ONLY use the search tool if you're stuck or the task is impossible to complete within the current page.\nYou will be given a goal and a list of steps that have been taken so far. Avoid requesting the user for input as much as possible. Good luck!\n`\n  };\n}\n\n// lib/inferenceLogUtils.ts\nvar import_fs2 = __toESM(require(\"fs\"));\nvar import_path2 = __toESM(require(\"path\"));\nfunction ensureInferenceSummaryDir() {\n  const inferenceDir = import_path2.default.join(process.cwd(), \"inference_summary\");\n  if (!import_fs2.default.existsSync(inferenceDir)) {\n    import_fs2.default.mkdirSync(inferenceDir, { recursive: true });\n  }\n  return inferenceDir;\n}\nfunction appendSummary(inferenceType, entry) {\n  const summaryPath = getSummaryJsonPath(inferenceType);\n  const arrayKey = `${inferenceType}_summary`;\n  const existingData = readSummaryFile(inferenceType);\n  existingData[arrayKey].push(entry);\n  import_fs2.default.writeFileSync(summaryPath, JSON.stringify(existingData, null, 2));\n}\nfunction getTimestamp() {\n  return (/* @__PURE__ */ new Date()).toISOString().replace(/[^0-9T]/g, \"\").replace(\"T\", \"_\");\n}\nfunction writeTimestampedTxtFile(directory, prefix, data) {\n  const baseDir = ensureInferenceSummaryDir();\n  const subDir = import_path2.default.join(baseDir, directory);\n  if (!import_fs2.default.existsSync(subDir)) {\n    import_fs2.default.mkdirSync(subDir, { recursive: true });\n  }\n  const timestamp = getTimestamp();\n  const fileName = `${timestamp}_${prefix}.txt`;\n  const filePath = import_path2.default.join(subDir, fileName);\n  import_fs2.default.writeFileSync(\n    filePath,\n    JSON.stringify(data, null, 2).replace(/\\\\n/g, \"\\n\")\n  );\n  return { fileName, timestamp };\n}\nfunction getSummaryJsonPath(inferenceType) {\n  const baseDir = ensureInferenceSummaryDir();\n  const subDir = import_path2.default.join(baseDir, `${inferenceType}_summary`);\n  if (!import_fs2.default.existsSync(subDir)) {\n    import_fs2.default.mkdirSync(subDir, { recursive: true });\n  }\n  return import_path2.default.join(subDir, `${inferenceType}_summary.json`);\n}\nfunction readSummaryFile(inferenceType) {\n  const summaryPath = getSummaryJsonPath(inferenceType);\n  const arrayKey = `${inferenceType}_summary`;\n  if (!import_fs2.default.existsSync(summaryPath)) {\n    return { [arrayKey]: [] };\n  }\n  try {\n    const raw = import_fs2.default.readFileSync(summaryPath, \"utf8\");\n    const parsed = JSON.parse(raw);\n    if (parsed && typeof parsed === \"object\" && Array.isArray(parsed[arrayKey])) {\n      return parsed;\n    }\n  } catch (e) {\n  }\n  return { [arrayKey]: [] };\n}\n\n// lib/inference.ts\nfunction extract(_0) {\n  return __async(this, arguments, function* ({\n    instruction,\n    domElements,\n    schema,\n    llmClient,\n    logger,\n    userProvidedInstructions,\n    logInferenceToFile = false\n  }) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n    const metadataSchema = import_v32.z.object({\n      progress: import_v32.z.string().describe(\n        \"progress of what has been extracted so far, as concise as possible\"\n      ),\n      completed: import_v32.z.boolean().describe(\n        \"true if the goal is now accomplished. Use this conservatively, only when sure that the goal has been completed.\"\n      )\n    });\n    const isUsingAnthropic = llmClient.type === \"anthropic\";\n    const isGPT5 = llmClient.modelName.includes(\"gpt-5\");\n    const extractCallMessages = [\n      buildExtractSystemPrompt(isUsingAnthropic, userProvidedInstructions),\n      buildExtractUserPrompt(instruction, domElements, isUsingAnthropic)\n    ];\n    let extractCallFile = \"\";\n    let extractCallTimestamp = \"\";\n    if (logInferenceToFile) {\n      const { fileName, timestamp } = writeTimestampedTxtFile(\n        \"extract_summary\",\n        \"extract_call\",\n        {\n          modelCall: \"extract\",\n          messages: extractCallMessages\n        }\n      );\n      extractCallFile = fileName;\n      extractCallTimestamp = timestamp;\n    }\n    const extractStartTime = Date.now();\n    const extractionResponse = yield llmClient.createChatCompletion({\n      options: {\n        messages: extractCallMessages,\n        response_model: {\n          schema,\n          name: \"Extraction\"\n        },\n        temperature: isGPT5 ? 1 : 0.1,\n        top_p: 1,\n        frequency_penalty: 0,\n        presence_penalty: 0\n      },\n      logger\n    });\n    const extractEndTime = Date.now();\n    const { data: extractedData, usage: extractUsage } = extractionResponse;\n    let extractResponseFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName } = writeTimestampedTxtFile(\n        \"extract_summary\",\n        \"extract_response\",\n        {\n          modelResponse: \"extract\",\n          rawResponse: extractedData\n        }\n      );\n      extractResponseFile = fileName;\n      appendSummary(\"extract\", {\n        extract_inference_type: \"extract\",\n        timestamp: extractCallTimestamp,\n        LLM_input_file: extractCallFile,\n        LLM_output_file: extractResponseFile,\n        prompt_tokens: (_a = extractUsage == null ? void 0 : extractUsage.prompt_tokens) != null ? _a : 0,\n        completion_tokens: (_b = extractUsage == null ? void 0 : extractUsage.completion_tokens) != null ? _b : 0,\n        reasoning_tokens: (_c = extractUsage == null ? void 0 : extractUsage.reasoning_tokens) != null ? _c : 0,\n        cached_input_tokens: (_d = extractUsage == null ? void 0 : extractUsage.cached_input_tokens) != null ? _d : 0,\n        inference_time_ms: extractEndTime - extractStartTime\n      });\n    }\n    const metadataCallMessages = [\n      buildMetadataSystemPrompt(),\n      buildMetadataPrompt(instruction, extractedData)\n    ];\n    let metadataCallFile = \"\";\n    let metadataCallTimestamp = \"\";\n    if (logInferenceToFile) {\n      const { fileName, timestamp } = writeTimestampedTxtFile(\n        \"extract_summary\",\n        \"metadata_call\",\n        {\n          modelCall: \"metadata\",\n          messages: metadataCallMessages\n        }\n      );\n      metadataCallFile = fileName;\n      metadataCallTimestamp = timestamp;\n    }\n    const metadataStartTime = Date.now();\n    const metadataResponse = yield llmClient.createChatCompletion({\n      options: {\n        messages: metadataCallMessages,\n        response_model: {\n          name: \"Metadata\",\n          schema: metadataSchema\n        },\n        temperature: isGPT5 ? 1 : 0.1,\n        top_p: 1,\n        frequency_penalty: 0,\n        presence_penalty: 0\n      },\n      logger\n    });\n    const metadataEndTime = Date.now();\n    const {\n      data: {\n        completed: metadataResponseCompleted,\n        progress: metadataResponseProgress\n      },\n      usage: metadataResponseUsage\n    } = metadataResponse;\n    let metadataResponseFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName } = writeTimestampedTxtFile(\n        \"extract_summary\",\n        \"metadata_response\",\n        {\n          modelResponse: \"metadata\",\n          completed: metadataResponseCompleted,\n          progress: metadataResponseProgress\n        }\n      );\n      metadataResponseFile = fileName;\n      appendSummary(\"extract\", {\n        extract_inference_type: \"metadata\",\n        timestamp: metadataCallTimestamp,\n        LLM_input_file: metadataCallFile,\n        LLM_output_file: metadataResponseFile,\n        prompt_tokens: (_e = metadataResponseUsage == null ? void 0 : metadataResponseUsage.prompt_tokens) != null ? _e : 0,\n        completion_tokens: (_f = metadataResponseUsage == null ? void 0 : metadataResponseUsage.completion_tokens) != null ? _f : 0,\n        reasoning_tokens: (_g = metadataResponseUsage == null ? void 0 : metadataResponseUsage.reasoning_tokens) != null ? _g : 0,\n        cached_input_tokens: (_h = metadataResponseUsage == null ? void 0 : metadataResponseUsage.cached_input_tokens) != null ? _h : 0,\n        inference_time_ms: metadataEndTime - metadataStartTime\n      });\n    }\n    const totalPromptTokens = ((_i = extractUsage == null ? void 0 : extractUsage.prompt_tokens) != null ? _i : 0) + ((_j = metadataResponseUsage == null ? void 0 : metadataResponseUsage.prompt_tokens) != null ? _j : 0);\n    const totalCompletionTokens = ((_k = extractUsage == null ? void 0 : extractUsage.completion_tokens) != null ? _k : 0) + ((_l = metadataResponseUsage == null ? void 0 : metadataResponseUsage.completion_tokens) != null ? _l : 0);\n    const totalInferenceTimeMs = extractEndTime - extractStartTime + (metadataEndTime - metadataStartTime);\n    const totalReasoningTokens = ((_m = extractUsage == null ? void 0 : extractUsage.reasoning_tokens) != null ? _m : 0) + ((_n = metadataResponseUsage == null ? void 0 : metadataResponseUsage.reasoning_tokens) != null ? _n : 0);\n    const totalCachedInputTokens = ((_o = extractUsage == null ? void 0 : extractUsage.cached_input_tokens) != null ? _o : 0) + ((_p = metadataResponseUsage == null ? void 0 : metadataResponseUsage.cached_input_tokens) != null ? _p : 0);\n    return __spreadProps(__spreadValues({}, extractedData), {\n      metadata: {\n        completed: metadataResponseCompleted,\n        progress: metadataResponseProgress\n      },\n      prompt_tokens: totalPromptTokens,\n      completion_tokens: totalCompletionTokens,\n      reasoning_tokens: totalReasoningTokens,\n      cached_input_tokens: totalCachedInputTokens,\n      inference_time_ms: totalInferenceTimeMs\n    });\n  });\n}\nfunction observe(_0) {\n  return __async(this, arguments, function* ({\n    instruction,\n    domElements,\n    llmClient,\n    userProvidedInstructions,\n    logger,\n    logInferenceToFile = false\n  }) {\n    var _a, _b, _c, _d, _e, _f;\n    const isGPT5 = llmClient.modelName.includes(\"gpt-5\");\n    const observeSchema = import_v32.z.object({\n      elements: import_v32.z.array(\n        import_v32.z.object({\n          elementId: import_v32.z.string().describe(\n            \"the ID string associated with the element. Never include surrounding square brackets. This field must follow the format of 'number-number'.\"\n          ),\n          description: import_v32.z.string().describe(\n            \"a description of the accessible element and its purpose\"\n          ),\n          method: import_v32.z.string().describe(\n            \"the candidate method/action to interact with the element. Select one of the available Playwright interaction methods.\"\n          ),\n          arguments: import_v32.z.array(\n            import_v32.z.string().describe(\n              \"the arguments to pass to the method. For example, for a click, the arguments are empty, but for a fill, the arguments are the value to fill in.\"\n            )\n          )\n        })\n      ).describe(\"an array of accessible elements that match the instruction\")\n    });\n    const messages = [\n      buildObserveSystemPrompt(userProvidedInstructions),\n      buildObserveUserMessage(instruction, domElements)\n    ];\n    let callTimestamp = \"\";\n    let callFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName, timestamp } = writeTimestampedTxtFile(\n        `observe_summary`,\n        `observe_call`,\n        {\n          modelCall: \"observe\",\n          messages\n        }\n      );\n      callFile = fileName;\n      callTimestamp = timestamp;\n    }\n    const start = Date.now();\n    const rawResponse = yield llmClient.createChatCompletion({\n      options: {\n        messages,\n        response_model: {\n          schema: observeSchema,\n          name: \"Observation\"\n        },\n        temperature: isGPT5 ? 1 : 0.1,\n        top_p: 1,\n        frequency_penalty: 0,\n        presence_penalty: 0\n      },\n      logger\n    });\n    const end = Date.now();\n    const usageTimeMs = end - start;\n    const { data: observeData, usage: observeUsage } = rawResponse;\n    const promptTokens = (_a = observeUsage == null ? void 0 : observeUsage.prompt_tokens) != null ? _a : 0;\n    const completionTokens = (_b = observeUsage == null ? void 0 : observeUsage.completion_tokens) != null ? _b : 0;\n    const reasoningTokens = (_c = observeUsage == null ? void 0 : observeUsage.reasoning_tokens) != null ? _c : 0;\n    const cachedInputTokens = (_d = observeUsage == null ? void 0 : observeUsage.cached_input_tokens) != null ? _d : 0;\n    let responseFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName: responseFileName } = writeTimestampedTxtFile(\n        `observe_summary`,\n        `observe_response`,\n        {\n          modelResponse: \"observe\",\n          rawResponse: observeData\n        }\n      );\n      responseFile = responseFileName;\n      appendSummary(\"observe\", {\n        [`observe_inference_type`]: \"observe\",\n        timestamp: callTimestamp,\n        LLM_input_file: callFile,\n        LLM_output_file: responseFile,\n        prompt_tokens: promptTokens,\n        completion_tokens: completionTokens,\n        reasoning_tokens: reasoningTokens,\n        cached_input_tokens: cachedInputTokens,\n        inference_time_ms: usageTimeMs\n      });\n    }\n    const parsedElements = (_f = (_e = observeData.elements) == null ? void 0 : _e.map((el) => {\n      const base = {\n        elementId: el.elementId,\n        description: String(el.description),\n        method: String(el.method),\n        arguments: el.arguments\n      };\n      return base;\n    })) != null ? _f : [];\n    return {\n      elements: parsedElements,\n      prompt_tokens: promptTokens,\n      completion_tokens: completionTokens,\n      reasoning_tokens: reasoningTokens,\n      cached_input_tokens: cachedInputTokens,\n      inference_time_ms: usageTimeMs\n    };\n  });\n}\nfunction act(_0) {\n  return __async(this, arguments, function* ({\n    instruction,\n    domElements,\n    llmClient,\n    userProvidedInstructions,\n    logger,\n    logInferenceToFile = false\n  }) {\n    var _a, _b, _c, _d;\n    const isGPT5 = llmClient.modelName.includes(\"gpt-5\");\n    const actSchema = import_v32.z.object({\n      elementId: import_v32.z.string().describe(\n        \"the ID string associated with the element. Never include surrounding square brackets. This field must follow the format of 'number-number'.\"\n      ),\n      description: import_v32.z.string().describe(\"a description of the accessible element and its purpose\"),\n      method: import_v32.z.string().describe(\n        \"the candidate method/action to interact with the element. Select one of the available Playwright interaction methods.\"\n      ),\n      arguments: import_v32.z.array(\n        import_v32.z.string().describe(\n          \"the arguments to pass to the method. For example, for a click, the arguments are empty, but for a fill, the arguments are the value to fill in.\"\n        )\n      ),\n      twoStep: import_v32.z.boolean()\n    });\n    const messages = [\n      buildActSystemPrompt(userProvidedInstructions),\n      buildObserveUserMessage(instruction, domElements)\n    ];\n    let callTimestamp = \"\";\n    let callFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName, timestamp } = writeTimestampedTxtFile(\n        `act_summary`,\n        `act_call`,\n        {\n          modelCall: \"act\",\n          messages\n        }\n      );\n      callFile = fileName;\n      callTimestamp = timestamp;\n    }\n    const start = Date.now();\n    const rawResponse = yield llmClient.createChatCompletion({\n      options: {\n        messages,\n        response_model: {\n          schema: actSchema,\n          name: \"act\"\n        },\n        temperature: isGPT5 ? 1 : 0.1,\n        top_p: 1,\n        frequency_penalty: 0,\n        presence_penalty: 0\n      },\n      logger\n    });\n    const end = Date.now();\n    const usageTimeMs = end - start;\n    const { data: actData, usage: actUsage } = rawResponse;\n    const promptTokens = (_a = actUsage == null ? void 0 : actUsage.prompt_tokens) != null ? _a : 0;\n    const completionTokens = (_b = actUsage == null ? void 0 : actUsage.completion_tokens) != null ? _b : 0;\n    const reasoningTokens = (_c = actUsage == null ? void 0 : actUsage.reasoning_tokens) != null ? _c : 0;\n    const cachedInputTokens = (_d = actUsage == null ? void 0 : actUsage.cached_input_tokens) != null ? _d : 0;\n    let responseFile = \"\";\n    if (logInferenceToFile) {\n      const { fileName: responseFileName } = writeTimestampedTxtFile(\n        `act_summary`,\n        `act_response`,\n        {\n          modelResponse: \"act\",\n          rawResponse: actData\n        }\n      );\n      responseFile = responseFileName;\n      appendSummary(\"act\", {\n        [`act_inference_type`]: \"act\",\n        timestamp: callTimestamp,\n        LLM_input_file: callFile,\n        LLM_output_file: responseFile,\n        prompt_tokens: promptTokens,\n        completion_tokens: completionTokens,\n        reasoning_tokens: reasoningTokens,\n        cached_input_tokens: cachedInputTokens,\n        inference_time_ms: usageTimeMs\n      });\n    }\n    const parsedElement = {\n      elementId: actData.elementId,\n      description: String(actData.description),\n      method: String(actData.method),\n      arguments: actData.arguments\n    };\n    return {\n      element: parsedElement,\n      prompt_tokens: promptTokens,\n      completion_tokens: completionTokens,\n      reasoning_tokens: reasoningTokens,\n      cached_input_tokens: cachedInputTokens,\n      inference_time_ms: usageTimeMs,\n      twoStep: actData.twoStep\n    };\n  });\n}\n\n// lib/v3/handlers/actHandler.ts\ninit_logger();\n\n// lib/v3/types/public/methods.ts\nvar import_v33 = require(\"zod/v3\");\nvar defaultExtractSchema = import_v33.z.object({\n  extraction: import_v33.z.string()\n});\nvar pageTextSchema = import_v33.z.object({\n  pageText: import_v33.z.string()\n});\nvar V3FunctionName = /* @__PURE__ */ ((V3FunctionName2) => {\n  V3FunctionName2[\"ACT\"] = \"ACT\";\n  V3FunctionName2[\"EXTRACT\"] = \"EXTRACT\";\n  V3FunctionName2[\"OBSERVE\"] = \"OBSERVE\";\n  V3FunctionName2[\"AGENT\"] = \"AGENT\";\n  return V3FunctionName2;\n})(V3FunctionName || {});\n\n// lib/v3/handlers/actHandler.ts\ninit_snapshot();\n\n// lib/v3/types/private/handlers.ts\nvar SupportedPlaywrightAction = /* @__PURE__ */ ((SupportedPlaywrightAction2) => {\n  SupportedPlaywrightAction2[\"CLICK\"] = \"click\";\n  SupportedPlaywrightAction2[\"FILL\"] = \"fill\";\n  SupportedPlaywrightAction2[\"TYPE\"] = \"type\";\n  SupportedPlaywrightAction2[\"PRESS\"] = \"press\";\n  SupportedPlaywrightAction2[\"SCROLL\"] = \"scrollTo\";\n  SupportedPlaywrightAction2[\"NEXT_CHUNK\"] = \"nextChunk\";\n  SupportedPlaywrightAction2[\"PREV_CHUNK\"] = \"prevChunk\";\n  SupportedPlaywrightAction2[\"SELECT_OPTION_FROM_DROPDOWN\"] = \"selectOptionFromDropdown\";\n  SupportedPlaywrightAction2[\"HOVER\"] = \"hover\";\n  return SupportedPlaywrightAction2;\n})(SupportedPlaywrightAction || {});\n\n// lib/v3/handlers/handlerUtils/actHandlerUtils.ts\ninit_deepLocator();\ninit_logger();\ninit_sdkErrors();\nvar UnderstudyCommandException = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"UnderstudyCommandException\";\n  }\n};\nfunction normalizeRootXPath(input) {\n  const s = String(input != null ? input : \"\").trim();\n  if (s === \"/\") return \"/html\";\n  if (/^xpath=\\/$/i.test(s)) return \"xpath=/html\";\n  return s;\n}\nfunction performUnderstudyMethod(page, frame, method, rawXPath, args, domSettleTimeoutMs) {\n  return __async(this, null, function* () {\n    var _a;\n    const selectorRaw = normalizeRootXPath(rawXPath);\n    const locator = yield resolveLocatorWithHops(\n      page,\n      frame,\n      selectorRaw\n    );\n    const initialUrl = yield getFrameUrl(frame);\n    v3Logger({\n      category: \"action\",\n      message: \"performing understudy method\",\n      level: 2,\n      auxiliary: {\n        xpath: { value: selectorRaw, type: \"string\" },\n        method: { value: method, type: \"string\" },\n        url: { value: initialUrl, type: \"string\" }\n      }\n    });\n    const ctx = {\n      method,\n      locator,\n      xpath: selectorRaw,\n      args: args.map((a) => a == null ? \"\" : String(a)),\n      frame,\n      page,\n      initialUrl,\n      domSettleTimeoutMs\n    };\n    try {\n      const handler = (_a = METHOD_HANDLER_MAP[method]) != null ? _a : null;\n      if (handler) {\n        yield handler(ctx);\n      } else {\n        switch (method) {\n          case \"click\":\n            yield clickElement(ctx);\n            break;\n          case \"fill\":\n            yield fillOrType(ctx);\n            break;\n          case \"type\":\n            yield typeText(ctx);\n            break;\n          default:\n            v3Logger({\n              category: \"action\",\n              message: \"chosen method is invalid\",\n              level: 1,\n              auxiliary: { method: { value: method, type: \"string\" } }\n            });\n            throw new UnderstudyCommandException(\n              `Method ${method} not supported`\n            );\n        }\n      }\n      yield handlePossibleNavigation(\"action\", selectorRaw, initialUrl, frame);\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      const stack = e instanceof Error ? e.stack : void 0;\n      v3Logger({\n        category: \"action\",\n        message: \"error performing method\",\n        level: 1,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          trace: { value: stack != null ? stack : \"\", type: \"string\" },\n          method: { value: method, type: \"string\" },\n          xpath: { value: selectorRaw, type: \"string\" },\n          args: { value: JSON.stringify(args), type: \"object\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nvar METHOD_HANDLER_MAP = {\n  scrollIntoView,\n  scrollByPixelOffset,\n  scrollTo: scrollElementToPercentage,\n  scroll: scrollElementToPercentage,\n  \"mouse.wheel\": wheelScroll,\n  fill: fillOrType,\n  type: typeText,\n  press: pressKey,\n  click: clickElement,\n  doubleClick,\n  dragAndDrop,\n  nextChunk: scrollToNextChunk,\n  prevChunk: scrollToPreviousChunk,\n  selectOptionFromDropdown: selectOption,\n  selectOption,\n  hover\n};\nfunction selectOption(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { locator, xpath, args } = ctx;\n    try {\n      const text = ((_a = args[0]) == null ? void 0 : _a.toString()) || \"\";\n      yield locator.selectOption(text);\n    } catch (e) {\n      v3Logger({\n        category: \"action\",\n        message: \"error selecting option\",\n        level: 0,\n        auxiliary: {\n          error: { value: e.message, type: \"string\" },\n          trace: { value: e.stack, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(e.message);\n    }\n  });\n}\nfunction scrollIntoView(ctx) {\n  return __async(this, null, function* () {\n    const { locator, xpath } = ctx;\n    v3Logger({\n      category: \"action\",\n      message: \"scrolling element into view\",\n      level: 2,\n      auxiliary: { xpath: { value: xpath, type: \"string\" } }\n    });\n    const { objectId } = yield locator.resolveNode();\n    const ownerSession2 = locator.getFrame().session;\n    yield ownerSession2.send(\"DOM.scrollIntoViewIfNeeded\", { objectId });\n    yield ownerSession2.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n    });\n  });\n}\nfunction scrollElementToPercentage(ctx) {\n  return __async(this, null, function* () {\n    const { locator, xpath, args } = ctx;\n    v3Logger({\n      category: \"action\",\n      message: \"scrolling element vertically to specified percentage\",\n      level: 2,\n      auxiliary: {\n        xpath: { value: xpath, type: \"string\" },\n        coordinate: { value: JSON.stringify(args), type: \"string\" }\n      }\n    });\n    const [yArg = \"0%\"] = args;\n    yield locator.scrollTo(yArg);\n  });\n}\nfunction scrollByPixelOffset(ctx) {\n  return __async(this, null, function* () {\n    var _a, _b;\n    const { locator, page, args } = ctx;\n    const dx = Number((_a = args[0]) != null ? _a : 0);\n    const dy = Number((_b = args[1]) != null ? _b : 0);\n    try {\n      const { x, y } = yield locator.centroid();\n      yield page.scroll(x, y, dx, dy);\n    } catch (e) {\n      throw new UnderstudyCommandException(e.message);\n    }\n  });\n}\nfunction wheelScroll(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { frame, args } = ctx;\n    const deltaY = Number((_a = args[0]) != null ? _a : 200);\n    v3Logger({\n      category: \"action\",\n      message: \"dispatching mouse wheel\",\n      level: 2,\n      auxiliary: { deltaY: { value: String(deltaY), type: \"string\" } }\n    });\n    yield frame.session.send(\"Input.dispatchMouseEvent\", {\n      type: \"mouseWheel\",\n      x: 0,\n      y: 0,\n      deltaY,\n      deltaX: 0\n    });\n  });\n}\nfunction fillOrType(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { locator, xpath, args } = ctx;\n    try {\n      yield locator.fill(\"\");\n      yield locator.fill((_a = args[0]) != null ? _a : \"\");\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error filling element\",\n        level: 1,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nfunction typeText(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { locator, xpath, args } = ctx;\n    try {\n      yield locator.type((_a = args[0]) != null ? _a : \"\");\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error typing into element\",\n        level: 1,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nfunction pressKey(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { args, xpath, page } = ctx;\n    const key = (_a = args[0]) != null ? _a : \"\";\n    try {\n      v3Logger({\n        category: \"action\",\n        message: \"pressing key\",\n        level: 1,\n        auxiliary: {\n          key: { value: key, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      yield page.keyPress(key);\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error pressing key\",\n        level: 1,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          key: { value: key, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nfunction clickElement(ctx) {\n  return __async(this, null, function* () {\n    const { locator, xpath } = ctx;\n    try {\n      yield locator.click();\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error performing click\",\n        level: 0,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new StagehandClickError(ctx.xpath, msg);\n    }\n  });\n}\nfunction doubleClick(ctx) {\n  return __async(this, null, function* () {\n    const { locator, xpath } = ctx;\n    try {\n      yield locator.click({ clickCount: 2 });\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error performing doubleClick\",\n        level: 0,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nfunction dragAndDrop(ctx) {\n  return __async(this, null, function* () {\n    var _a;\n    const { page, frame, locator, args, xpath } = ctx;\n    const toXPath = String((_a = args[0]) != null ? _a : \"\").trim();\n    if (!toXPath)\n      throw new UnderstudyCommandException(\n        \"dragAndDrop requires a target XPath arg\"\n      );\n    const targetLocator = yield resolveLocatorWithHops(page, frame, toXPath);\n    try {\n      const { x: fromLocalX, y: fromLocalY } = yield locator.centroid();\n      const { x: toLocalX, y: toLocalY } = yield targetLocator.centroid();\n      const fromAbs = yield locator.getFrame().evaluate(\n        ({ x, y }) => {\n          let X = x;\n          let Y = y;\n          let w = window;\n          while (w !== w.top) {\n            const fe = w.frameElement;\n            if (!fe) break;\n            const r = fe.getBoundingClientRect();\n            X += r.left;\n            Y += r.top;\n            w = w.parent;\n          }\n          return { x: Math.round(X), y: Math.round(Y) };\n        },\n        { x: fromLocalX, y: fromLocalY }\n      );\n      const toAbs = yield targetLocator.getFrame().evaluate(\n        ({ x, y }) => {\n          let X = x;\n          let Y = y;\n          let w = window;\n          while (w !== w.top) {\n            const fe = w.frameElement;\n            if (!fe) break;\n            const r = fe.getBoundingClientRect();\n            X += r.left;\n            Y += r.top;\n            w = w.parent;\n          }\n          return { x: Math.round(X), y: Math.round(Y) };\n        },\n        { x: toLocalX, y: toLocalY }\n      );\n      yield page.dragAndDrop(fromAbs.x, fromAbs.y, toAbs.x, toAbs.y, {\n        steps: 10,\n        delay: 5\n      });\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : String(e);\n      v3Logger({\n        category: \"action\",\n        message: \"error performing dragAndDrop\",\n        level: 0,\n        auxiliary: {\n          error: { value: msg, type: \"string\" },\n          from: { value: xpath, type: \"string\" },\n          to: { value: toXPath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(msg);\n    }\n  });\n}\nfunction scrollToNextChunk(ctx) {\n  return __async(this, null, function* () {\n    yield scrollByElementHeight(\n      ctx,\n      /*dir=*/\n      1\n    );\n  });\n}\nfunction scrollToPreviousChunk(ctx) {\n  return __async(this, null, function* () {\n    yield scrollByElementHeight(\n      ctx,\n      /*dir=*/\n      -1\n    );\n  });\n}\nfunction scrollByElementHeight(ctx, direction) {\n  return __async(this, null, function* () {\n    const { locator, xpath } = ctx;\n    v3Logger({\n      category: \"action\",\n      message: direction > 0 ? \"scrolling to next chunk\" : \"scrolling to previous chunk\",\n      level: 2,\n      auxiliary: { xpath: { value: xpath, type: \"string\" } }\n    });\n    const { objectId } = yield locator.resolveNode();\n    try {\n      const ownerSession2 = locator.getFrame().session;\n      yield ownerSession2.send(\n        \"Runtime.callFunctionOn\",\n        {\n          objectId,\n          functionDeclaration: `\n          function(dir) {\n            const waitForScrollEnd = (el) => new Promise((resolve) => {\n              let last = el.scrollTop ?? 0;\n              const check = () => {\n                const cur = el.scrollTop ?? 0;\n                if (cur === last) return resolve();\n                last = cur;\n                requestAnimationFrame(check);\n              };\n              requestAnimationFrame(check);\n            });\n\n            const tag = this.tagName?.toLowerCase();\n            if (tag === \"html\" || tag === \"body\") {\n              const h = window.visualViewport?.height ?? window.innerHeight;\n              window.scrollBy({ top: h * dir, left: 0, behavior: \"smooth\" });\n              const root = document.scrollingElement ?? document.documentElement;\n              return waitForScrollEnd(root);\n            }\n            const h = this.getBoundingClientRect().height;\n            this.scrollBy({ top: h * dir, left: 0, behavior: \"smooth\" });\n            return waitForScrollEnd(this);\n          }\n        `,\n          arguments: [{ value: direction }],\n          awaitPromise: true,\n          returnByValue: true\n        }\n      );\n    } finally {\n      const ownerSession2 = locator.getFrame().session;\n      yield ownerSession2.send(\"Runtime.releaseObject\", { objectId }).catch(() => {\n      });\n    }\n  });\n}\nfunction hover(ctx) {\n  return __async(this, null, function* () {\n    const { locator, xpath } = ctx;\n    try {\n      yield locator.hover();\n    } catch (e) {\n      v3Logger({\n        category: \"action\",\n        message: \"error attempting to hover\",\n        level: 0,\n        auxiliary: {\n          error: { value: e.message, type: \"string\" },\n          trace: { value: e.stack, type: \"string\" },\n          xpath: { value: xpath, type: \"string\" }\n        }\n      });\n      throw new UnderstudyCommandException(e.message);\n    }\n  });\n}\nfunction getFrameUrl(frame) {\n  return __async(this, null, function* () {\n    const url = yield frame.evaluate(\"location.href\");\n    return url;\n  });\n}\nfunction waitForDomNetworkQuiet(frame, timeoutMs) {\n  return __async(this, null, function* () {\n    const timeout = typeof timeoutMs === \"number\" ? timeoutMs : 5e3;\n    const client = frame.session;\n    let hasDoc;\n    try {\n      const rs = yield frame.evaluate(\"document.readyState\");\n      hasDoc = rs === \"interactive\" || rs === \"complete\";\n    } catch (e) {\n      hasDoc = false;\n    }\n    if (!hasDoc) {\n      yield frame.waitForLoadState(\"domcontentloaded\").catch(() => {\n      });\n    }\n    yield client.send(\"Network.enable\").catch(() => {\n    });\n    yield client.send(\"Page.enable\").catch(() => {\n    });\n    yield client.send(\"Target.setAutoAttach\", {\n      autoAttach: true,\n      waitForDebuggerOnStart: false,\n      flatten: true,\n      filter: [\n        { type: \"worker\", exclude: true },\n        { type: \"shared_worker\", exclude: true }\n      ]\n    }).catch(() => {\n    });\n    return new Promise((resolve2) => {\n      const inflight = /* @__PURE__ */ new Set();\n      const meta = /* @__PURE__ */ new Map();\n      const docByFrame = /* @__PURE__ */ new Map();\n      let quietTimer = null;\n      let stalledRequestSweepTimer = null;\n      const clearQuiet = () => {\n        if (quietTimer) {\n          clearTimeout(quietTimer);\n          quietTimer = null;\n        }\n      };\n      const maybeQuiet = () => {\n        if (inflight.size === 0 && !quietTimer)\n          quietTimer = setTimeout(() => resolveDone(), 500);\n      };\n      const finishReq = (id) => {\n        if (!inflight.delete(id)) return;\n        meta.delete(id);\n        for (const [fid, rid] of docByFrame)\n          if (rid === id) docByFrame.delete(fid);\n        clearQuiet();\n        maybeQuiet();\n      };\n      const onRequest = (p) => {\n        if (p.type === \"WebSocket\" || p.type === \"EventSource\") return;\n        inflight.add(p.requestId);\n        meta.set(p.requestId, { url: p.request.url, start: Date.now() });\n        if (p.type === \"Document\" && p.frameId)\n          docByFrame.set(p.frameId, p.requestId);\n        clearQuiet();\n      };\n      const onFinish = (p) => finishReq(p.requestId);\n      const onCached = (p) => finishReq(p.requestId);\n      const onDataUrl = (p) => {\n        var _a;\n        if ((_a = p.response.url) == null ? void 0 : _a.startsWith(\"data:\")) finishReq(p.requestId);\n      };\n      const onFrameStop = (f) => {\n        const id = docByFrame.get(f.frameId);\n        if (id) finishReq(id);\n      };\n      client.on(\"Network.requestWillBeSent\", onRequest);\n      client.on(\"Network.loadingFinished\", onFinish);\n      client.on(\"Network.loadingFailed\", onFinish);\n      client.on(\"Network.requestServedFromCache\", onCached);\n      client.on(\"Network.responseReceived\", onDataUrl);\n      client.on(\"Page.frameStoppedLoading\", onFrameStop);\n      stalledRequestSweepTimer = setInterval(() => {\n        var _a;\n        const now2 = Date.now();\n        for (const [id, m] of meta) {\n          if (now2 - m.start > 2e3) {\n            inflight.delete(id);\n            meta.delete(id);\n            v3Logger({\n              category: \"dom\",\n              message: \"\\u23F3 forcing completion of stalled iframe document\",\n              level: 1,\n              auxiliary: {\n                url: { value: ((_a = m.url) != null ? _a : \"\").slice(0, 120), type: \"string\" }\n              }\n            });\n          }\n        }\n        maybeQuiet();\n      }, 500);\n      maybeQuiet();\n      const guard = setTimeout(() => {\n        if (inflight.size) {\n          v3Logger({\n            category: \"dom\",\n            message: \"\\u26A0\\uFE0F DOM-settle timeout reached \\u2013 network requests still pending\",\n            level: 1,\n            auxiliary: {\n              count: { value: String(inflight.size), type: \"integer\" }\n            }\n          });\n        }\n        resolveDone();\n      }, timeout);\n      const resolveDone = () => {\n        client.off(\"Network.requestWillBeSent\", onRequest);\n        client.off(\"Network.loadingFinished\", onFinish);\n        client.off(\"Network.loadingFailed\", onFinish);\n        client.off(\"Network.requestServedFromCache\", onCached);\n        client.off(\"Network.responseReceived\", onDataUrl);\n        client.off(\"Page.frameStoppedLoading\", onFrameStop);\n        if (quietTimer) clearTimeout(quietTimer);\n        if (stalledRequestSweepTimer) clearInterval(stalledRequestSweepTimer);\n        clearTimeout(guard);\n        resolve2();\n      };\n    });\n  });\n}\nfunction handlePossibleNavigation(actionDescription, xpath, initialUrl, frame) {\n  return __async(this, null, function* () {\n    v3Logger({\n      category: \"action\",\n      message: `${actionDescription}, checking for page navigation`,\n      level: 1,\n      auxiliary: { xpath: { value: xpath, type: \"string\" } }\n    });\n    const afterUrl = yield getFrameUrl(frame);\n    if (afterUrl !== initialUrl) {\n      v3Logger({\n        category: \"action\",\n        message: \"new page (frame) URL detected\",\n        level: 1,\n        auxiliary: { url: { value: afterUrl, type: \"string\" } }\n      });\n    } else {\n      v3Logger({\n        category: \"action\",\n        message: \"no new (frame) URL detected\",\n        level: 1,\n        auxiliary: { url: { value: afterUrl, type: \"string\" } }\n      });\n    }\n  });\n}\n\n// lib/v3/handlers/actHandler.ts\nvar ActHandler = class {\n  constructor(llmClient, defaultModelName, defaultClientOptions, resolveLlmClient, systemPrompt, logInferenceToFile, selfHeal, onMetrics, defaultDomSettleTimeoutMs) {\n    this.llmClient = llmClient;\n    this.defaultModelName = defaultModelName;\n    this.defaultClientOptions = defaultClientOptions;\n    this.resolveLlmClient = resolveLlmClient;\n    this.systemPrompt = systemPrompt != null ? systemPrompt : \"\";\n    this.logInferenceToFile = logInferenceToFile != null ? logInferenceToFile : false;\n    this.selfHeal = !!selfHeal;\n    this.onMetrics = onMetrics;\n    this.defaultDomSettleTimeoutMs = defaultDomSettleTimeoutMs;\n  }\n  act(params) {\n    return __async(this, null, function* () {\n      const { instruction, page, variables, timeout, model } = params;\n      const llmClient = this.resolveLlmClient(model);\n      const doObserveAndAct = () => __async(this, null, function* () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n        yield waitForDomNetworkQuiet(\n          page.mainFrame(),\n          this.defaultDomSettleTimeoutMs\n        );\n        const snapshot = yield captureHybridSnapshot(page, {\n          experimental: true\n        });\n        const combinedTree = snapshot.combinedTree;\n        const combinedXpathMap = (_a = snapshot.combinedXpathMap) != null ? _a : {};\n        const observeActInstruction = buildActPrompt(\n          instruction,\n          Object.values(SupportedPlaywrightAction),\n          variables\n        );\n        const actInferenceResponse = yield act({\n          instruction: observeActInstruction,\n          domElements: combinedTree,\n          llmClient,\n          userProvidedInstructions: this.systemPrompt,\n          logger: v3Logger,\n          logInferenceToFile: this.logInferenceToFile\n        });\n        const actPromptTokens = (_b = actInferenceResponse.prompt_tokens) != null ? _b : 0;\n        const actCompletionTokens = (_c = actInferenceResponse.completion_tokens) != null ? _c : 0;\n        const actReasoningTokens = (_d = actInferenceResponse.reasoning_tokens) != null ? _d : 0;\n        const actCachedInputTokens = (_e = actInferenceResponse.cached_input_tokens) != null ? _e : 0;\n        const actInferenceTimeMs = (_f = actInferenceResponse.inference_time_ms) != null ? _f : 0;\n        (_g = this.onMetrics) == null ? void 0 : _g.call(\n          this,\n          \"ACT\" /* ACT */,\n          actPromptTokens,\n          actCompletionTokens,\n          actReasoningTokens,\n          actCachedInputTokens,\n          actInferenceTimeMs\n        );\n        const raw = actInferenceResponse.element;\n        const result = (() => {\n          if (!raw) return void 0;\n          const { elementId, description, method, arguments: args } = raw;\n          if (!method || method === \"not-supported\" || !Array.isArray(args)) {\n            return void 0;\n          }\n          if (typeof elementId === \"string\" && elementId.includes(\"-\")) {\n            const xp = combinedXpathMap[elementId];\n            const trimmed = trimTrailingTextNode(xp);\n            if (!trimmed) return void 0;\n            return {\n              description,\n              method,\n              arguments: args,\n              selector: `xpath=${trimmed}`\n            };\n          }\n          return void 0;\n        })();\n        if (!result) {\n          v3Logger({\n            category: \"action\",\n            message: \"no actionable element returned by LLM\",\n            level: 1\n          });\n          return {\n            success: false,\n            message: \"Failed to perform act: No action found\",\n            actionDescription: instruction,\n            actions: []\n          };\n        }\n        const chosen = __spreadValues({}, result);\n        if (variables && Array.isArray(chosen.arguments)) {\n          chosen.arguments = chosen.arguments.map((arg) => {\n            let out = arg;\n            for (const [k, v] of Object.entries(variables)) {\n              const token = `%${k}%`;\n              out = out.split(token).join(String(v));\n            }\n            return out;\n          });\n        }\n        const firstResult = yield this.actFromObserveResult(\n          chosen,\n          page,\n          this.defaultDomSettleTimeoutMs,\n          llmClient\n        );\n        const twoStep = !!actInferenceResponse.twoStep;\n        if (!twoStep) {\n          return firstResult;\n        }\n        const secondSnapshot = yield captureHybridSnapshot(page, {\n          experimental: true\n        });\n        const combinedTree2 = secondSnapshot.combinedTree;\n        let diffedTree = diffCombinedTrees(combinedTree, combinedTree2);\n        if (!diffedTree.trim()) {\n          diffedTree = combinedTree2;\n        }\n        const combinedXpathMap2 = (_h = secondSnapshot.combinedXpathMap) != null ? _h : {};\n        const previousAction = `method: ${chosen.method}, description: ${chosen.description}, arguments: ${chosen.arguments}`;\n        const stepTwoInstructions = buildStepTwoPrompt(\n          instruction,\n          previousAction,\n          Object.values(SupportedPlaywrightAction).filter(\n            (action) => action !== \"selectOptionFromDropdown\" /* SELECT_OPTION_FROM_DROPDOWN */\n          ),\n          variables\n        );\n        const action2 = yield act({\n          instruction: stepTwoInstructions,\n          domElements: diffedTree,\n          llmClient,\n          userProvidedInstructions: this.systemPrompt,\n          logger: v3Logger,\n          logInferenceToFile: this.logInferenceToFile\n        });\n        (_n = this.onMetrics) == null ? void 0 : _n.call(\n          this,\n          \"ACT\" /* ACT */,\n          (_i = action2.prompt_tokens) != null ? _i : 0,\n          (_j = action2.completion_tokens) != null ? _j : 0,\n          (_k = action2.reasoning_tokens) != null ? _k : 0,\n          (_l = action2.cached_input_tokens) != null ? _l : 0,\n          (_m = action2.inference_time_ms) != null ? _m : 0\n        );\n        const raw2 = action2.element;\n        const result2 = (() => {\n          if (!raw2) return void 0;\n          const { elementId, description, method, arguments: args } = raw2;\n          if (!method || method === \"not-supported\" || !Array.isArray(args)) {\n            return void 0;\n          }\n          if (typeof elementId === \"string\" && elementId.includes(\"-\")) {\n            const xp = combinedXpathMap2[elementId];\n            const trimmed = trimTrailingTextNode(xp);\n            if (!trimmed) return void 0;\n            return {\n              description,\n              method,\n              arguments: args,\n              selector: `xpath=${trimmed}`\n            };\n          }\n          return void 0;\n        })();\n        if (!result2) {\n          return firstResult;\n        }\n        const chosen2 = __spreadValues({}, result2);\n        if (variables && Array.isArray(chosen2.arguments)) {\n          chosen2.arguments = chosen2.arguments.map((arg) => {\n            let out = arg;\n            for (const [k, v] of Object.entries(variables)) {\n              const token = `%${k}%`;\n              out = out.split(token).join(String(v));\n            }\n            return out;\n          });\n        }\n        const secondResult = yield this.actFromObserveResult(\n          chosen2,\n          page,\n          this.defaultDomSettleTimeoutMs,\n          llmClient\n        );\n        return {\n          success: firstResult.success && secondResult.success,\n          message: secondResult.success ? `${firstResult.message} \\u2192 ${secondResult.message}` : `${firstResult.message} \\u2192 ${secondResult.message}`,\n          actionDescription: firstResult.actionDescription,\n          actions: [\n            ...firstResult.actions || [],\n            ...secondResult.actions || []\n          ]\n        };\n      });\n      if (!timeout) {\n        return doObserveAndAct();\n      }\n      return yield Promise.race([\n        doObserveAndAct(),\n        new Promise((_, reject) => {\n          setTimeout(\n            () => reject(new Error(`act() timed out after ${timeout}ms`)),\n            timeout\n          );\n        })\n      ]);\n    });\n  }\n  actFromObserveResult(action, page, domSettleTimeoutMs, llmClientOverride) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const settleTimeout = domSettleTimeoutMs != null ? domSettleTimeoutMs : this.defaultDomSettleTimeoutMs;\n      const effectiveClient = llmClientOverride != null ? llmClientOverride : this.llmClient;\n      const method = (_a = action.method) == null ? void 0 : _a.trim();\n      if (!method || method === \"not-supported\") {\n        v3Logger({\n          category: \"action\",\n          message: \"action has no supported method\",\n          level: 0,\n          auxiliary: {\n            act: { value: JSON.stringify(action), type: \"object\" }\n          }\n        });\n        return {\n          success: false,\n          message: `Unable to perform action: The method '${method != null ? method : \"\"}' is not supported in Action. Please use a supported Playwright locator method.`,\n          actionDescription: action.description || `Action (${method != null ? method : \"unknown\"})`,\n          actions: []\n        };\n      }\n      const args = Array.isArray(action.arguments) ? action.arguments : [];\n      try {\n        yield performUnderstudyMethod(\n          page,\n          page.mainFrame(),\n          method,\n          action.selector,\n          args,\n          settleTimeout\n        );\n        return {\n          success: true,\n          message: `Action [${method}] performed successfully on selector: ${action.selector}`,\n          actionDescription: action.description || `action (${method})`,\n          actions: [\n            {\n              selector: action.selector,\n              description: action.description || `action (${method})`,\n              method,\n              arguments: args\n            }\n          ]\n        };\n      } catch (err) {\n        const msg = err instanceof Error ? err.message : String(err);\n        if (this.selfHeal) {\n          v3Logger({\n            category: \"action\",\n            message: \"Error performing action. Reprocessing the page and trying again\",\n            level: 1,\n            auxiliary: {\n              error: { value: msg, type: \"string\" },\n              action: {\n                value: JSON.stringify(action),\n                type: \"object\"\n              }\n            }\n          });\n          try {\n            const actCommand = action.description ? action.description.toLowerCase().startsWith(method.toLowerCase()) ? action.description : `${method} ${action.description}` : method;\n            const snapshot = yield captureHybridSnapshot(page, {\n              experimental: true\n            });\n            const combinedTree = snapshot.combinedTree;\n            const instruction = buildActPrompt(\n              actCommand,\n              Object.values(SupportedPlaywrightAction),\n              {}\n            );\n            const actInferenceResponse = yield act({\n              instruction,\n              domElements: combinedTree,\n              llmClient: effectiveClient,\n              userProvidedInstructions: this.systemPrompt,\n              logger: v3Logger,\n              logInferenceToFile: this.logInferenceToFile\n            });\n            (_g = this.onMetrics) == null ? void 0 : _g.call(\n              this,\n              \"ACT\" /* ACT */,\n              (_b = actInferenceResponse.prompt_tokens) != null ? _b : 0,\n              (_c = actInferenceResponse.completion_tokens) != null ? _c : 0,\n              (_d = actInferenceResponse.reasoning_tokens) != null ? _d : 0,\n              (_e = actInferenceResponse.cached_input_tokens) != null ? _e : 0,\n              (_f = actInferenceResponse.inference_time_ms) != null ? _f : 0\n            );\n            const fallback = actInferenceResponse.element;\n            if (!fallback) {\n              return {\n                success: false,\n                message: \"Failed to self-heal act: No observe results found for action\",\n                actionDescription: actCommand,\n                actions: []\n              };\n            }\n            let newSelector = action.selector;\n            if (typeof fallback.elementId === \"string\") {\n              const enc = fallback.elementId;\n              const rawXp = ((_h = snapshot.combinedXpathMap) != null ? _h : {})[enc];\n              const trimmed = trimTrailingTextNode(rawXp);\n              if (trimmed) newSelector = `xpath=${trimmed}`;\n            }\n            yield performUnderstudyMethod(\n              page,\n              page.mainFrame(),\n              method,\n              newSelector,\n              args,\n              settleTimeout\n            );\n            return {\n              success: true,\n              message: `Action [${method}] performed successfully on selector: ${newSelector}`,\n              actionDescription: action.description || `action (${method})`,\n              actions: [\n                {\n                  selector: newSelector,\n                  description: action.description || `action (${method})`,\n                  method,\n                  arguments: args\n                }\n              ]\n            };\n          } catch (retryErr) {\n            const retryMsg = retryErr instanceof Error ? retryErr.message : String(retryErr);\n            return {\n              success: false,\n              message: `Failed to perform act after self-heal: ${retryMsg}`,\n              actionDescription: action.description || `action (${method})`,\n              actions: []\n            };\n          }\n        }\n        return {\n          success: false,\n          message: `Failed to perform act: ${msg}`,\n          actionDescription: action.description || `action (${method})`,\n          actions: []\n        };\n      }\n    });\n  }\n};\n\n// lib/v3/handlers/extractHandler.ts\ninit_logger();\ninit_snapshot();\nvar import_v34 = require(\"zod/v3\");\ninit_sdkErrors();\nfunction transformUrlStringsToNumericIds(schema) {\n  const [finalSchema, urlPaths] = transformSchema(schema, []);\n  return [finalSchema, urlPaths];\n}\nvar ExtractHandler = class {\n  constructor(llmClient, defaultModelName, defaultClientOptions, resolveLlmClient, systemPrompt, logInferenceToFile, experimental, onMetrics) {\n    this.llmClient = llmClient;\n    this.defaultModelName = defaultModelName;\n    this.defaultClientOptions = defaultClientOptions;\n    this.resolveLlmClient = resolveLlmClient;\n    this.systemPrompt = systemPrompt != null ? systemPrompt : \"\";\n    this.logInferenceToFile = logInferenceToFile != null ? logInferenceToFile : false;\n    this.experimental = experimental != null ? experimental : false;\n    this.onMetrics = onMetrics;\n  }\n  extract(params) {\n    return __async(this, null, function* () {\n      const { instruction, schema, page, selector, timeout, model } = params;\n      const llmClient = this.resolveLlmClient(model);\n      const doExtract = () => __async(this, null, function* () {\n        var _a, _b, _c, _e;\n        const noArgs = !instruction && !schema;\n        if (noArgs) {\n          const focusSelector2 = (_a = selector == null ? void 0 : selector.replace(/^xpath=/i, \"\")) != null ? _a : \"\";\n          const snap = yield captureHybridSnapshot(page, {\n            experimental: this.experimental,\n            focusSelector: focusSelector2 || void 0\n          });\n          const result = { pageText: snap.combinedTree };\n          return pageTextSchema.parse(result);\n        }\n        if (!instruction && schema) {\n          throw new StagehandInvalidArgumentError(\n            \"extract() requires an instruction when a schema is provided.\"\n          );\n        }\n        const focusSelector = (_b = selector == null ? void 0 : selector.replace(/^xpath=/, \"\")) != null ? _b : \"\";\n        const { combinedTree, combinedUrlMap } = yield captureHybridSnapshot(\n          page,\n          {\n            experimental: this.experimental,\n            focusSelector\n          }\n        );\n        v3Logger({\n          category: \"extraction\",\n          message: \"Starting extraction using a11y snapshot\",\n          level: 1,\n          auxiliary: instruction ? { instruction: { value: instruction, type: \"string\" } } : void 0\n        });\n        const baseSchema = schema != null ? schema : defaultExtractSchema;\n        const isObjectSchema = !!((_c = baseSchema._def) == null ? void 0 : _c.shape);\n        const WRAP_KEY = \"value\";\n        const objectSchema = isObjectSchema ? baseSchema : import_v34.z.object({ [WRAP_KEY]: baseSchema });\n        const [transformedSchema, urlFieldPaths] = transformUrlStringsToNumericIds(objectSchema);\n        const extractionResponse = yield extract({\n          instruction,\n          domElements: combinedTree,\n          schema: transformedSchema,\n          llmClient,\n          userProvidedInstructions: this.systemPrompt,\n          logger: v3Logger,\n          logInferenceToFile: this.logInferenceToFile\n        });\n        const _d = extractionResponse, {\n          metadata: { completed },\n          prompt_tokens,\n          completion_tokens,\n          reasoning_tokens = 0,\n          cached_input_tokens = 0,\n          inference_time_ms\n        } = _d, rest = __objRest(_d, [\n          \"metadata\",\n          \"prompt_tokens\",\n          \"completion_tokens\",\n          \"reasoning_tokens\",\n          \"cached_input_tokens\",\n          \"inference_time_ms\"\n        ]);\n        let output = rest;\n        v3Logger({\n          category: \"extraction\",\n          message: completed ? \"Extraction completed successfully\" : \"Extraction incomplete after processing all data\",\n          level: 1,\n          auxiliary: {\n            prompt_tokens: { value: String(prompt_tokens), type: \"string\" },\n            completion_tokens: {\n              value: String(completion_tokens),\n              type: \"string\"\n            },\n            inference_time_ms: {\n              value: String(inference_time_ms),\n              type: \"string\"\n            }\n          }\n        });\n        (_e = this.onMetrics) == null ? void 0 : _e.call(\n          this,\n          \"EXTRACT\" /* EXTRACT */,\n          prompt_tokens,\n          completion_tokens,\n          reasoning_tokens,\n          cached_input_tokens,\n          inference_time_ms\n        );\n        const idToUrl = combinedUrlMap != null ? combinedUrlMap : {};\n        for (const { segments } of urlFieldPaths) {\n          injectUrls(\n            output,\n            segments,\n            idToUrl\n          );\n        }\n        if (!isObjectSchema && output && typeof output === \"object\") {\n          output = output[WRAP_KEY];\n        }\n        return output;\n      });\n      if (!timeout) return doExtract();\n      return yield Promise.race([\n        doExtract(),\n        new Promise((_, reject) => {\n          setTimeout(\n            () => reject(new Error(`extract() timed out after ${timeout}ms`)),\n            timeout\n          );\n        })\n      ]);\n    });\n  }\n};\n\n// lib/v3/handlers/observeHandler.ts\ninit_logger();\ninit_snapshot();\nvar ObserveHandler = class {\n  constructor(llmClient, defaultModelName, defaultClientOptions, resolveLlmClient, systemPrompt, logInferenceToFile, experimental, onMetrics) {\n    this.llmClient = llmClient;\n    this.defaultModelName = defaultModelName;\n    this.defaultClientOptions = defaultClientOptions;\n    this.resolveLlmClient = resolveLlmClient;\n    this.systemPrompt = systemPrompt != null ? systemPrompt : \"\";\n    this.logInferenceToFile = logInferenceToFile != null ? logInferenceToFile : false;\n    this.experimental = experimental != null ? experimental : false;\n    this.onMetrics = onMetrics;\n  }\n  observe(params) {\n    return __async(this, null, function* () {\n      const { instruction, page, timeout, selector, model } = params;\n      const llmClient = this.resolveLlmClient(model);\n      const effectiveInstruction = instruction != null ? instruction : \"Find elements that can be used for any future actions in the page. These may be navigation links, related pages, section/subsection links, buttons, or other interactive elements. Be comprehensive: if there are multiple elements that may be relevant for future actions, return all of them.\";\n      const doObserve = () => __async(this, null, function* () {\n        var _a, _b, _c;\n        v3Logger({\n          category: \"observation\",\n          message: \"starting observation\",\n          level: 1,\n          auxiliary: {\n            instruction: {\n              value: effectiveInstruction,\n              type: \"string\"\n            }\n          }\n        });\n        const focusSelector = (_a = selector == null ? void 0 : selector.replace(/^xpath=/i, \"\")) != null ? _a : \"\";\n        const snapshot = yield captureHybridSnapshot(page, {\n          experimental: this.experimental,\n          focusSelector: focusSelector || void 0\n        });\n        const combinedTree = snapshot.combinedTree;\n        const combinedXpathMap = (_b = snapshot.combinedXpathMap) != null ? _b : {};\n        v3Logger({\n          category: \"observation\",\n          message: \"Got accessibility tree data\",\n          level: 1\n        });\n        const observationResponse = yield observe({\n          instruction: effectiveInstruction,\n          domElements: combinedTree,\n          llmClient,\n          userProvidedInstructions: this.systemPrompt,\n          logger: v3Logger,\n          logInferenceToFile: this.logInferenceToFile\n        });\n        const {\n          prompt_tokens = 0,\n          completion_tokens = 0,\n          reasoning_tokens = 0,\n          cached_input_tokens = 0,\n          inference_time_ms = 0\n        } = observationResponse;\n        (_c = this.onMetrics) == null ? void 0 : _c.call(\n          this,\n          \"OBSERVE\" /* OBSERVE */,\n          prompt_tokens,\n          completion_tokens,\n          reasoning_tokens,\n          cached_input_tokens,\n          inference_time_ms\n        );\n        const elementsWithSelectors = (yield Promise.all(\n          observationResponse.elements.map((element) => __async(this, null, function* () {\n            const _a2 = element, { elementId } = _a2, rest = __objRest(_a2, [\"elementId\"]);\n            if (typeof elementId === \"string\" && elementId.includes(\"-\")) {\n              const lookUpIndex = elementId;\n              const xpath = combinedXpathMap[lookUpIndex];\n              const trimmedXpath = trimTrailingTextNode(xpath);\n              if (!trimmedXpath) return void 0;\n              return __spreadProps(__spreadValues({}, rest), {\n                // if method/arguments exist, theyre preserved; otherwise theyre absent\n                selector: `xpath=${trimmedXpath}`\n              });\n            }\n            return {\n              description: \"an element inside a shadow DOM\",\n              method: \"not-supported\",\n              arguments: [],\n              selector: \"not-supported\"\n            };\n          }))\n        )).filter((e) => e !== void 0);\n        v3Logger({\n          category: \"observation\",\n          message: \"found elements\",\n          level: 1,\n          auxiliary: {\n            elements: {\n              value: JSON.stringify(elementsWithSelectors),\n              type: \"object\"\n            }\n          }\n        });\n        return elementsWithSelectors;\n      });\n      if (!timeout) return doObserve();\n      return yield Promise.race([\n        doObserve(),\n        new Promise((_, reject) => {\n          setTimeout(\n            () => reject(new Error(`observe() timed out after ${timeout}ms`)),\n            timeout\n          );\n        })\n      ]);\n    });\n  }\n};\n\n// lib/v3/agent/tools/v3-goto.ts\nvar import_ai = require(\"ai\");\nvar import_v35 = require(\"zod/v3\");\nvar createGotoTool = (v3) => (0, import_ai.tool)({\n  description: \"Navigate to a specific URL\",\n  inputSchema: import_v35.z.object({\n    url: import_v35.z.string().describe(\"The URL to navigate to\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ url }) {\n    var _a;\n    try {\n      v3.logger({\n        category: \"agent\",\n        message: `Agent calling tool: goto`,\n        level: 1,\n        auxiliary: {\n          arguments: {\n            value: url,\n            type: \"string\"\n          }\n        }\n      });\n      const page = yield v3.context.awaitActivePage();\n      yield page.goto(url, { waitUntil: \"load\" });\n      v3.recordAgentReplayStep({ type: \"goto\", url, waitUntil: \"load\" });\n      return { success: true, url };\n    } catch (error) {\n      return { success: false, error: (_a = error == null ? void 0 : error.message) != null ? _a : String(error) };\n    }\n  })\n});\n\n// lib/v3/agent/tools/v3-act.ts\nvar import_ai2 = require(\"ai\");\nvar import_v36 = require(\"zod/v3\");\nvar createActTool = (v3, executionModel) => (0, import_ai2.tool)({\n  description: \"Perform an action on the page (click, type). Provide a short, specific phrase that mentions the element type.\",\n  inputSchema: import_v36.z.object({\n    action: import_v36.z.string().describe(\n      'Describe what to click or type, e.g. \"click the Login button\" or \"type \"John\" into the first name input\"'\n    )\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ action }) {\n    var _a, _b, _c, _d;\n    try {\n      v3.logger({\n        category: \"agent\",\n        message: `Agent calling tool: act`,\n        level: 1,\n        auxiliary: {\n          arguments: {\n            value: action,\n            type: \"string\"\n          }\n        }\n      });\n      const options = executionModel ? { model: executionModel } : void 0;\n      const result = yield v3.act(action, options);\n      const actions = (_a = result.actions) != null ? _a : [];\n      v3.recordAgentReplayStep({\n        type: \"act\",\n        instruction: action,\n        actions,\n        actionDescription: result.actionDescription,\n        message: result.message\n      });\n      return {\n        success: (_b = result.success) != null ? _b : true,\n        action: (_c = result == null ? void 0 : result.actionDescription) != null ? _c : action,\n        playwrightArguments: actions.length > 0 ? actions[0] : void 0\n      };\n    } catch (error) {\n      return { success: false, error: (_d = error == null ? void 0 : error.message) != null ? _d : String(error) };\n    }\n  })\n});\n\n// lib/v3/agent/tools/v3-screenshot.ts\nvar import_ai3 = require(\"ai\");\nvar import_v37 = require(\"zod/v3\");\nvar createScreenshotTool = (v3) => (0, import_ai3.tool)({\n  description: \"Takes a screenshot (PNG) of the current page. Use this to quickly verify page state.\",\n  inputSchema: import_v37.z.object({}),\n  execute: () => __async(null, null, function* () {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: screenshot`,\n      level: 1\n    });\n    const page = yield v3.context.awaitActivePage();\n    const buffer = yield page.screenshot({ fullPage: false });\n    const pageUrl = page.url();\n    return {\n      base64: buffer.toString(\"base64\"),\n      timestamp: Date.now(),\n      pageUrl\n    };\n  }),\n  toModelOutput: (result) => ({\n    type: \"content\",\n    value: [{ type: \"media\", mediaType: \"image/png\", data: result.base64 }]\n  })\n});\n\n// lib/v3/agent/tools/v3-wait.ts\nvar import_ai4 = require(\"ai\");\nvar import_v38 = require(\"zod/v3\");\nvar createWaitTool = (v3) => (0, import_ai4.tool)({\n  description: \"Wait for a specified time\",\n  inputSchema: import_v38.z.object({\n    timeMs: import_v38.z.number().describe(\"Time in milliseconds\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ timeMs }) {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: wait`,\n      level: 1,\n      auxiliary: {\n        arguments: {\n          value: `Waiting for ${timeMs} milliseconds`,\n          type: \"string\"\n        }\n      }\n    });\n    yield new Promise((resolve2) => setTimeout(resolve2, timeMs));\n    if (timeMs > 0) {\n      v3.recordAgentReplayStep({ type: \"wait\", timeMs });\n    }\n    return { success: true, waited: timeMs };\n  })\n});\n\n// lib/v3/agent/tools/v3-navback.ts\nvar import_ai5 = require(\"ai\");\nvar import_v39 = require(\"zod/v3\");\nvar createNavBackTool = (v3) => (0, import_ai5.tool)({\n  description: \"Navigate back to the previous page\",\n  inputSchema: import_v39.z.object({\n    reasoningText: import_v39.z.string().describe(\"Why you're going back\")\n  }),\n  execute: () => __async(null, null, function* () {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: navback`,\n      level: 1\n    });\n    const page = yield v3.context.awaitActivePage();\n    yield page.goBack({ waitUntil: \"domcontentloaded\" });\n    v3.recordAgentReplayStep({\n      type: \"navback\",\n      waitUntil: \"domcontentloaded\"\n    });\n    return { success: true };\n  })\n});\n\n// lib/v3/agent/tools/v3-close.ts\nvar import_ai6 = require(\"ai\");\nvar import_v310 = require(\"zod/v3\");\nvar createCloseTool = () => (0, import_ai6.tool)({\n  description: \"Complete the task and close\",\n  inputSchema: import_v310.z.object({\n    reasoning: import_v310.z.string().describe(\"Summary of what was accomplished\"),\n    taskComplete: import_v310.z.boolean().describe(\"Whether the task was completed successfully\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ reasoning, taskComplete }) {\n    return { success: true, reasoning, taskComplete };\n  })\n});\n\n// lib/v3/agent/tools/v3-ariaTree.ts\nvar import_ai7 = require(\"ai\");\nvar import_v311 = require(\"zod/v3\");\nvar createAriaTreeTool = (v3) => (0, import_ai7.tool)({\n  description: \"gets the accessibility (ARIA) hybrid tree text for the current page. use this to understand structure and content.\",\n  inputSchema: import_v311.z.object({}),\n  execute: () => __async(null, null, function* () {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: ariaTree`,\n      level: 1\n    });\n    const page = yield v3.context.awaitActivePage();\n    const { pageText } = yield v3.extract();\n    const pageUrl = page.url();\n    let content = pageText;\n    const MAX_TOKENS = 7e4;\n    const estimatedTokens = Math.ceil(content.length / 4);\n    if (estimatedTokens > MAX_TOKENS) {\n      const maxChars = MAX_TOKENS * 4;\n      content = content.substring(0, maxChars) + \"\\n\\n[CONTENT TRUNCATED: Exceeded 70,000 token limit]\";\n    }\n    return { content, pageUrl };\n  }),\n  toModelOutput: (result) => ({\n    type: \"content\",\n    value: [{ type: \"text\", text: `Accessibility Tree:\n${result.content}` }]\n  })\n});\n\n// lib/v3/agent/tools/v3-fillform.ts\nvar import_ai8 = require(\"ai\");\nvar import_v312 = require(\"zod/v3\");\nvar createFillFormTool = (v3, executionModel) => (0, import_ai8.tool)({\n  description: `\\u{1F4DD} FORM FILL - MULTI-FIELD INPUT TOOL\nFor any form with 2+ inputs/textareas. Faster than individual typing.`,\n  inputSchema: import_v312.z.object({\n    fields: import_v312.z.array(\n      import_v312.z.object({\n        action: import_v312.z.string().describe(\n          'Description of typing action, e.g. \"type foo into the email field\"'\n        ),\n        value: import_v312.z.string().describe(\"Text to type into the target\")\n      })\n    ).min(1, \"Provide at least one field to fill\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ fields }) {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: fillForm`,\n      level: 1,\n      auxiliary: {\n        arguments: {\n          value: JSON.stringify(fields),\n          type: \"object\"\n        }\n      }\n    });\n    const instruction = `Return observation results for the following actions: ${fields.map((f) => f.action).join(\", \")}`;\n    const observeOptions = executionModel ? { model: executionModel } : void 0;\n    const observeResults = yield v3.observe(instruction, observeOptions);\n    const completed = [];\n    const replayableActions = [];\n    for (const res of observeResults) {\n      const actResult = yield v3.act(res);\n      completed.push(actResult);\n      if (Array.isArray(actResult.actions)) {\n        replayableActions.push(...actResult.actions);\n      }\n    }\n    v3.recordAgentReplayStep({\n      type: \"fillForm\",\n      fields,\n      observeResults,\n      actions: replayableActions\n    });\n    return {\n      success: true,\n      actions: completed,\n      playwrightArguments: replayableActions\n    };\n  })\n});\n\n// lib/v3/agent/tools/v3-scroll.ts\nvar import_ai9 = require(\"ai\");\nvar import_v313 = require(\"zod/v3\");\nvar createScrollTool = (v3) => (0, import_ai9.tool)({\n  description: \"Scroll the page\",\n  inputSchema: import_v313.z.object({\n    pixels: import_v313.z.number().describe(\"Number of pixels to scroll up or down\"),\n    direction: import_v313.z.enum([\"up\", \"down\"]).describe(\"Direction to scroll\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ pixels, direction }) {\n    v3.logger({\n      category: \"agent\",\n      message: `Agent calling tool: scroll`,\n      level: 1,\n      auxiliary: {\n        arguments: {\n          value: JSON.stringify({ pixels, direction }),\n          type: \"object\"\n        }\n      }\n    });\n    const page = yield v3.context.awaitActivePage();\n    const { w, h } = yield page.mainFrame().evaluate(\"({ w: window.innerWidth, h: window.innerHeight })\");\n    const cx = Math.max(0, Math.floor(w / 2));\n    const cy = Math.max(0, Math.floor(h / 2));\n    const deltaY = direction === \"up\" ? -Math.abs(pixels) : Math.abs(pixels);\n    yield page.scroll(cx, cy, 0, deltaY);\n    v3.recordAgentReplayStep({\n      type: \"scroll\",\n      deltaX: 0,\n      deltaY,\n      anchor: { x: cx, y: cy }\n    });\n    return { success: true, pixels };\n  })\n});\n\n// lib/v3/agent/tools/v3-extract.ts\nvar import_ai10 = require(\"ai\");\nvar import_v314 = require(\"zod/v3\");\nfunction evaluateZodSchema(schemaStr, logger) {\n  var _a;\n  try {\n    const fn = new Function(\"z\", `return ${schemaStr}`);\n    return fn(import_v314.z);\n  } catch (e) {\n    logger == null ? void 0 : logger({\n      category: \"agent\",\n      message: `Failed to evaluate schema: ${(_a = e == null ? void 0 : e.message) != null ? _a : String(e)}`,\n      level: 0\n    });\n    return import_v314.z.any();\n  }\n}\nvar createExtractTool = (v3, executionModel, logger) => (0, import_ai10.tool)({\n  description: `Extract structured data from the current page based on a provided schema.\n    \n    USAGE GUIDELINES:\n    - Keep schemas MINIMAL - only include fields essential for the task\n    - IMPORANT: only use this if explicitly asked for structured output. In most scenarios, you should use the aria tree tool over this. \n    - If you need to extract a link, make sure the type defintion follows the format of z.string().url()\n    EXAMPLES:\n    1. Extract a single value:\n       instruction: \"extract the product price\"\n       schema: \"z.object({ price: z.number()})\"\n    \n    2. Extract multiple fields:\n       instruction: \"extract product name and price\"\n       schema: \"z.object({ name: z.string(), price: z.number() })\"\n    \n    3. Extract arrays:\n       instruction: \"extract all product names and prices\"\n       schema: \"z.object({ products: z.array(z.object({ name: z.string(), price: z.number() })) })\"`,\n  inputSchema: import_v314.z.object({\n    instruction: import_v314.z.string(),\n    schema: import_v314.z.string().optional().describe(\"Zod schema as code, e.g. z.object({ title: z.string() })\")\n  }),\n  execute: (_0) => __async(null, [_0], function* ({ instruction, schema }) {\n    var _a;\n    try {\n      const parsedSchema = schema ? evaluateZodSchema(schema, logger) : void 0;\n      const result = yield v3.extract(instruction, parsedSchema, __spreadValues({}, executionModel ? { model: executionModel } : {}));\n      return { success: true, result };\n    } catch (error) {\n      return { success: false, error: (_a = error == null ? void 0 : error.message) != null ? _a : String(error) };\n    }\n  })\n});\n\n// lib/v3/agent/tools/index.ts\nfunction createAgentTools(v3, options) {\n  const executionModel = options == null ? void 0 : options.executionModel;\n  return {\n    act: createActTool(v3, executionModel),\n    ariaTree: createAriaTreeTool(v3),\n    close: createCloseTool(),\n    extract: createExtractTool(v3, executionModel, options == null ? void 0 : options.logger),\n    fillForm: createFillFormTool(v3, executionModel),\n    goto: createGotoTool(v3),\n    navback: createNavBackTool(v3),\n    screenshot: createScreenshotTool(v3),\n    scroll: createScrollTool(v3),\n    wait: createWaitTool(v3)\n  };\n}\n\n// lib/v3/handlers/v3AgentHandler.ts\nvar import_ai11 = require(\"ai\");\n\n// lib/v3/agent/utils/messageProcessing.ts\nfunction isToolMessage(message) {\n  return !!message && typeof message === \"object\" && message.role === \"tool\" && Array.isArray(message.content);\n}\nfunction isScreenshotPart(part) {\n  return !!part && typeof part === \"object\" && part.toolName === \"screenshot\";\n}\nfunction isAriaTreePart(part) {\n  return !!part && typeof part === \"object\" && part.toolName === \"ariaTree\";\n}\nfunction processMessages(params) {\n  const originalContentSize = JSON.stringify(params.prompt).length;\n  const screenshotIndices = findToolIndices(params.prompt, \"screenshot\");\n  const ariaTreeIndices = findToolIndices(params.prompt, \"ariaTree\");\n  const processedPrompt = params.prompt.map(\n    (message, index) => {\n      if (isToolMessage(message)) {\n        if (message.content.some((part) => isScreenshotPart(part))) {\n          const shouldCompress = shouldCompressScreenshot(\n            index,\n            screenshotIndices\n          );\n          if (shouldCompress) {\n            return compressScreenshotMessage(message);\n          }\n        }\n        if (message.content.some((part) => isAriaTreePart(part))) {\n          const shouldCompress = shouldCompressAriaTree(index, ariaTreeIndices);\n          if (shouldCompress) {\n            return compressAriaTreeMessage(message);\n          }\n        }\n      }\n      return message;\n    }\n  );\n  const compressedContentSize = JSON.stringify(processedPrompt).length;\n  const stats = calculateCompressionStats(\n    originalContentSize,\n    compressedContentSize,\n    screenshotIndices.length,\n    ariaTreeIndices.length\n  );\n  return {\n    processedPrompt,\n    stats\n  };\n}\nfunction findToolIndices(prompt, toolName) {\n  const screenshotIndices = [];\n  prompt.forEach((message, index) => {\n    if (isToolMessage(message)) {\n      const hasMatch = message.content.some(\n        (part) => toolName === \"screenshot\" ? isScreenshotPart(part) : isAriaTreePart(part)\n      );\n      if (hasMatch) {\n        screenshotIndices.push(index);\n      }\n    }\n  });\n  return screenshotIndices;\n}\nfunction shouldCompressScreenshot(index, screenshotIndices) {\n  const isNewestScreenshot = index === Math.max(...screenshotIndices);\n  const isSecondNewestScreenshot = screenshotIndices.length > 1 && index === screenshotIndices.sort((a, b) => b - a)[1];\n  return !isNewestScreenshot && !isSecondNewestScreenshot;\n}\nfunction shouldCompressAriaTree(index, ariaTreeIndices) {\n  const isNewestAriaTree = index === Math.max(...ariaTreeIndices);\n  return !isNewestAriaTree;\n}\nfunction compressScreenshotMessage(message) {\n  const updatedContent = message.content.map((part) => {\n    if (isScreenshotPart(part)) {\n      return __spreadProps(__spreadValues({}, part), {\n        result: [\n          {\n            type: \"text\",\n            text: \"screenshot taken\"\n          }\n        ]\n      });\n    }\n    return part;\n  });\n  return __spreadProps(__spreadValues({}, message), {\n    content: updatedContent\n  });\n}\nfunction compressAriaTreeMessage(message) {\n  const updatedContent = message.content.map((part) => {\n    if (isAriaTreePart(part)) {\n      return __spreadProps(__spreadValues({}, part), {\n        result: [\n          {\n            type: \"text\",\n            text: \"ARIA tree extracted for context of page elements\"\n          }\n        ]\n      });\n    }\n    return part;\n  });\n  return __spreadProps(__spreadValues({}, message), {\n    content: updatedContent\n  });\n}\nfunction calculateCompressionStats(originalSize, compressedSize, screenshotCount, ariaTreeCount) {\n  const savedChars = originalSize - compressedSize;\n  const compressionRatio = originalSize > 0 ? (originalSize - compressedSize) / originalSize * 100 : 0;\n  return {\n    originalSize,\n    compressedSize,\n    savedChars,\n    compressionRatio,\n    screenshotCount,\n    ariaTreeCount\n  };\n}\n\n// lib/v3/agent/utils/actionMapping.ts\nfunction mapToolResultToActions({\n  toolCallName,\n  toolResult,\n  args,\n  reasoning\n}) {\n  switch (toolCallName) {\n    case \"act\":\n      return mapActToolResult(toolResult, args, reasoning);\n    case \"fillForm\":\n      return mapFillFormToolResult(toolResult, args, reasoning);\n    default:\n      return [createStandardAction(toolCallName, toolResult, args, reasoning)];\n  }\n}\nfunction mapActToolResult(toolResult, args, reasoning) {\n  if (!toolResult || typeof toolResult !== \"object\") {\n    return [createStandardAction(\"act\", toolResult, args, reasoning)];\n  }\n  const result = toolResult;\n  const output = result.output || result;\n  const action = __spreadValues({\n    type: \"act\",\n    reasoning,\n    taskCompleted: false\n  }, args);\n  if (output.playwrightArguments) {\n    action.playwrightArguments = output.playwrightArguments;\n  }\n  return [action];\n}\nfunction mapFillFormToolResult(toolResult, args, reasoning) {\n  if (!toolResult || typeof toolResult !== \"object\") {\n    return [createStandardAction(\"fillForm\", toolResult, args, reasoning)];\n  }\n  const result = toolResult;\n  const output = result.output || result;\n  const observeResults = Array.isArray(output == null ? void 0 : output.playwrightArguments) ? output.playwrightArguments : [];\n  const actions = [];\n  actions.push(__spreadValues({\n    type: \"fillForm\",\n    reasoning,\n    taskCompleted: false\n  }, args));\n  for (const observeResult of observeResults) {\n    actions.push({\n      type: \"act\",\n      reasoning: \"acting from fillform tool\",\n      taskCompleted: false,\n      playwrightArguments: observeResult\n    });\n  }\n  return actions;\n}\nfunction createStandardAction(toolCallName, toolResult, args, reasoning) {\n  const action = __spreadValues({\n    type: toolCallName,\n    reasoning,\n    taskCompleted: toolCallName === \"close\" ? args == null ? void 0 : args.taskComplete : false\n  }, args);\n  if (toolCallName !== \"ariaTree\" && toolResult) {\n    const { output } = toolResult;\n    Object.assign(action, output);\n  }\n  return action;\n}\n\n// lib/v3/handlers/v3AgentHandler.ts\ninit_sdkErrors();\nvar V3AgentHandler = class {\n  constructor(v3, logger, llmClient, executionModel, systemInstructions, mcpTools) {\n    this.v3 = v3;\n    this.logger = logger;\n    this.llmClient = llmClient;\n    this.executionModel = executionModel;\n    this.systemInstructions = systemInstructions;\n    this.mcpTools = mcpTools;\n  }\n  execute(instructionOrOptions) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const startTime = Date.now();\n      const options = typeof instructionOrOptions === \"string\" ? { instruction: instructionOrOptions } : instructionOrOptions;\n      const maxSteps = options.maxSteps || 10;\n      const actions = [];\n      let finalMessage = \"\";\n      let completed = false;\n      const collectedReasoning = [];\n      let currentPageUrl = (yield this.v3.context.awaitActivePage()).url();\n      try {\n        const systemPrompt = this.buildSystemPrompt(\n          options.instruction,\n          this.systemInstructions\n        );\n        const tools = this.createTools();\n        const allTools = __spreadValues(__spreadValues({}, tools), this.mcpTools);\n        const messages = [\n          { role: \"user\", content: options.instruction }\n        ];\n        if (!((_a = this.llmClient) == null ? void 0 : _a.getLanguageModel)) {\n          throw new MissingLLMConfigurationError();\n        }\n        const baseModel = this.llmClient.getLanguageModel();\n        const wrappedModel = (0, import_ai11.wrapLanguageModel)({\n          model: baseModel,\n          middleware: {\n            transformParams: (_0) => __async(this, [_0], function* ({ params }) {\n              const { processedPrompt } = processMessages(params);\n              return __spreadProps(__spreadValues({}, params), { prompt: processedPrompt });\n            })\n          }\n        });\n        const result = yield this.llmClient.generateText({\n          model: wrappedModel,\n          system: systemPrompt,\n          messages,\n          tools: allTools,\n          stopWhen: (0, import_ai11.stepCountIs)(maxSteps),\n          temperature: 1,\n          toolChoice: \"auto\",\n          onStepFinish: (event) => __async(this, null, function* () {\n            var _a2;\n            this.logger({\n              category: \"agent\",\n              message: `Step finished: ${event.finishReason}`,\n              level: 2\n            });\n            if (event.toolCalls && event.toolCalls.length > 0) {\n              for (let i = 0; i < event.toolCalls.length; i++) {\n                const toolCall = event.toolCalls[i];\n                const args = toolCall.input;\n                const toolResult = (_a2 = event.toolResults) == null ? void 0 : _a2[i];\n                if (event.text.length > 0) {\n                  collectedReasoning.push(event.text);\n                  this.logger({\n                    category: \"agent\",\n                    message: `reasoning: ${event.text}`,\n                    level: 1\n                  });\n                }\n                if (toolCall.toolName === \"close\") {\n                  completed = true;\n                  if (args == null ? void 0 : args.taskComplete) {\n                    const closeReasoning = args.reasoning;\n                    const allReasoning = collectedReasoning.join(\" \");\n                    finalMessage = closeReasoning ? `${allReasoning} ${closeReasoning}`.trim() : allReasoning || \"Task completed successfully\";\n                  }\n                }\n                const mappedActions = mapToolResultToActions({\n                  toolCallName: toolCall.toolName,\n                  toolResult,\n                  args,\n                  reasoning: event.text || void 0\n                });\n                for (const action of mappedActions) {\n                  action.pageUrl = currentPageUrl;\n                  action.timestamp = Date.now();\n                  actions.push(action);\n                }\n              }\n              currentPageUrl = (yield this.v3.context.awaitActivePage()).url();\n            }\n          })\n        });\n        if (!finalMessage) {\n          const allReasoning = collectedReasoning.join(\" \").trim();\n          finalMessage = allReasoning || result.text;\n        }\n        const endTime = Date.now();\n        const inferenceTimeMs = endTime - startTime;\n        if (result.usage) {\n          this.v3.updateMetrics(\n            \"AGENT\" /* AGENT */,\n            result.usage.inputTokens || 0,\n            result.usage.outputTokens || 0,\n            result.usage.reasoningTokens || 0,\n            result.usage.cachedInputTokens || 0,\n            inferenceTimeMs\n          );\n        }\n        return {\n          success: completed,\n          message: finalMessage || \"Task execution completed\",\n          actions,\n          completed,\n          usage: result.usage ? {\n            input_tokens: result.usage.inputTokens || 0,\n            output_tokens: result.usage.outputTokens || 0,\n            reasoning_tokens: result.usage.reasoningTokens || 0,\n            cached_input_tokens: result.usage.cachedInputTokens || 0,\n            inference_time_ms: inferenceTimeMs\n          } : void 0\n        };\n      } catch (error) {\n        const errorMessage = (_b = error == null ? void 0 : error.message) != null ? _b : String(error);\n        this.logger({\n          category: \"agent\",\n          message: `Error executing agent task: ${errorMessage}`,\n          level: 0\n        });\n        return {\n          success: false,\n          actions,\n          message: `Failed to execute task: ${errorMessage}`,\n          completed: false\n        };\n      }\n    });\n  }\n  buildSystemPrompt(executionInstruction, systemInstructions) {\n    if (systemInstructions) {\n      return `${systemInstructions}\nYour current goal: ${executionInstruction} when the task is complete, use the \"close\" tool with taskComplete: true`;\n    }\n    return `You are a web automation assistant using browser automation tools to accomplish the user's goal.\n\nYour task: ${executionInstruction}\n\nYou have access to various browser automation tools. Use them step by step to complete the task.\n\nIMPORTANT GUIDELINES:\n1. Always start by understanding the current page state\n2. Use the screenshot tool to verify page state when needed\n3. Use appropriate tools for each action\n4. When the task is complete, use the \"close\" tool with taskComplete: true\n5. If the task cannot be completed, use \"close\" with taskComplete: false\n\nTOOLS OVERVIEW:\n- screenshot: Take a PNG screenshot for quick visual context (use sparingly)\n- ariaTree: Get an accessibility (ARIA) hybrid tree for full page context\n- act: Perform a specific atomic action (click, type, etc.)\n- extract: Extract structured data\n- goto: Navigate to a URL\n- wait/navback/refresh: Control timing and navigation\n- scroll: Scroll the page x pixels up or down\n\nSTRATEGY:\n- Prefer ariaTree to understand the page before acting; use screenshot for confirmation.\n- Keep actions atomic and verify outcomes before proceeding.`;\n  }\n  createTools() {\n    return createAgentTools(this.v3, {\n      executionModel: this.executionModel,\n      logger: this.logger\n    });\n  }\n};\n\n// lib/v3/handlers/v3CuaAgentHandler.ts\ninit_snapshot();\n\n// lib/v3/agent/AgentProvider.ts\ninit_sdkErrors();\n\n// lib/v3/agent/AnthropicCUAClient.ts\ninit_sdkErrors();\nvar import_sdk = __toESM(require(\"@anthropic-ai/sdk\"));\nvar import_zod_to_json_schema = require(\"zod-to-json-schema\");\n\n// lib/v3/agent/AgentClient.ts\nvar AgentClient = class {\n  constructor(type, modelName, userProvidedInstructions) {\n    this.type = type;\n    this.modelName = modelName;\n    this.userProvidedInstructions = userProvidedInstructions;\n    this.clientOptions = {};\n  }\n};\n\n// lib/v3/agent/utils/cuaKeyMapping.ts\nvar KEY_MAP = {\n  ENTER: \"Enter\",\n  RETURN: \"Enter\",\n  ESCAPE: \"Escape\",\n  ESC: \"Escape\",\n  BACKSPACE: \"Backspace\",\n  TAB: \"Tab\",\n  SPACE: \" \",\n  DELETE: \"Delete\",\n  DEL: \"Delete\",\n  ARROWUP: \"ArrowUp\",\n  ARROWDOWN: \"ArrowDown\",\n  ARROWLEFT: \"ArrowLeft\",\n  ARROWRIGHT: \"ArrowRight\",\n  ARROW_UP: \"ArrowUp\",\n  ARROW_DOWN: \"ArrowDown\",\n  ARROW_LEFT: \"ArrowLeft\",\n  ARROW_RIGHT: \"ArrowRight\",\n  UP: \"ArrowUp\",\n  DOWN: \"ArrowDown\",\n  LEFT: \"ArrowLeft\",\n  RIGHT: \"ArrowRight\",\n  SHIFT: \"Shift\",\n  CONTROL: \"Control\",\n  CTRL: \"Control\",\n  ALT: \"Alt\",\n  OPTION: \"Alt\",\n  // macOS alternative name\n  META: \"Meta\",\n  COMMAND: \"Meta\",\n  // macOS\n  CMD: \"Meta\",\n  // macOS shorthand\n  SUPER: \"Meta\",\n  // Linux\n  WINDOWS: \"Meta\",\n  // Windows\n  WIN: \"Meta\",\n  // Windows shorthand\n  HOME: \"Home\",\n  END: \"End\",\n  PAGEUP: \"PageUp\",\n  PAGEDOWN: \"PageDown\",\n  PAGE_UP: \"PageUp\",\n  PAGE_DOWN: \"PageDown\",\n  PGUP: \"PageUp\",\n  PGDN: \"PageDown\"\n};\nfunction mapKeyToPlaywright(key) {\n  if (!key) return key;\n  const upperKey = key.toUpperCase();\n  return KEY_MAP[upperKey] || key;\n}\n\n// lib/v3/agent/utils/imageCompression.ts\nfunction findItemsWithImages(items) {\n  const itemsWithImages = [];\n  items.forEach((item, index) => {\n    let hasImage = false;\n    if (Array.isArray(item.content)) {\n      hasImage = item.content.some(\n        (contentItem) => contentItem.type === \"tool_result\" && \"content\" in contentItem && Array.isArray(contentItem.content) && contentItem.content.some(\n          (nestedItem) => nestedItem.type === \"image\"\n        )\n      );\n    }\n    if (hasImage) {\n      itemsWithImages.push(index);\n    }\n  });\n  return itemsWithImages;\n}\nfunction compressConversationImages(items, keepMostRecentCount = 2) {\n  const itemsWithImages = findItemsWithImages(items);\n  items.forEach((item, index) => {\n    const imageIndex = itemsWithImages.indexOf(index);\n    const shouldCompress = imageIndex >= 0 && imageIndex < itemsWithImages.length - keepMostRecentCount;\n    if (shouldCompress) {\n      if (Array.isArray(item.content)) {\n        item.content = item.content.map(\n          (contentItem) => {\n            if (contentItem.type === \"tool_result\" && \"content\" in contentItem && Array.isArray(contentItem.content) && contentItem.content.some(\n              (nestedItem) => nestedItem.type === \"image\"\n            )) {\n              return __spreadProps(__spreadValues({}, contentItem), {\n                content: \"screenshot taken\"\n              });\n            }\n            return contentItem;\n          }\n        );\n      }\n    }\n  });\n  return {\n    items\n  };\n}\nfunction findGoogleItemsWithImages(items) {\n  const itemsWithImages = [];\n  items.forEach((item, index) => {\n    let hasImage = false;\n    if (item.parts && Array.isArray(item.parts)) {\n      hasImage = item.parts.some((part) => {\n        var _a, _b, _c, _d, _e;\n        if ((_b = (_a = part.functionResponse) == null ? void 0 : _a.response) == null ? void 0 : _b.data) {\n          const data = part.functionResponse.response.data;\n          return data.some(\n            (dataItem) => {\n              var _a2, _b2;\n              return (_b2 = (_a2 = dataItem.inlineData) == null ? void 0 : _a2.mimeType) == null ? void 0 : _b2.startsWith(\"image/\");\n            }\n          );\n        }\n        if ((_c = part.functionResponse) == null ? void 0 : _c.parts) {\n          return part.functionResponse.parts.some(\n            (responsePart) => {\n              var _a2, _b2;\n              return (_b2 = (_a2 = responsePart.inlineData) == null ? void 0 : _a2.mimeType) == null ? void 0 : _b2.startsWith(\"image/\");\n            }\n          );\n        }\n        return (_e = (_d = part.inlineData) == null ? void 0 : _d.mimeType) == null ? void 0 : _e.startsWith(\"image/\");\n      });\n    }\n    if (hasImage) {\n      itemsWithImages.push(index);\n    }\n  });\n  return itemsWithImages;\n}\nfunction compressGoogleConversationImages(items, keepMostRecentCount = 2) {\n  const itemsWithImages = findGoogleItemsWithImages(items);\n  items.forEach((item, index) => {\n    const imageIndex = itemsWithImages.indexOf(index);\n    const shouldCompress = imageIndex >= 0 && imageIndex < itemsWithImages.length - keepMostRecentCount;\n    if (shouldCompress && item.parts && Array.isArray(item.parts)) {\n      item.parts = item.parts.map((part) => {\n        var _a, _b, _c, _d, _e;\n        if ((_b = (_a = part.functionResponse) == null ? void 0 : _a.response) == null ? void 0 : _b.data) {\n          const data = part.functionResponse.response.data;\n          const hasImage = data.some(\n            (dataItem) => {\n              var _a2, _b2;\n              return (_b2 = (_a2 = dataItem.inlineData) == null ? void 0 : _a2.mimeType) == null ? void 0 : _b2.startsWith(\"image/\");\n            }\n          );\n          if (hasImage) {\n            return __spreadProps(__spreadValues({}, part), {\n              functionResponse: __spreadProps(__spreadValues({}, part.functionResponse), {\n                data: [],\n                response: __spreadProps(__spreadValues({}, part.functionResponse.response), {\n                  compressed: \"screenshot taken\"\n                })\n              })\n            });\n          }\n        }\n        if ((_c = part.functionResponse) == null ? void 0 : _c.parts) {\n          const hasImageInParts = part.functionResponse.parts.some(\n            (responsePart) => {\n              var _a2, _b2;\n              return (_b2 = (_a2 = responsePart.inlineData) == null ? void 0 : _a2.mimeType) == null ? void 0 : _b2.startsWith(\"image/\");\n            }\n          );\n          if (hasImageInParts) {\n            return __spreadProps(__spreadValues({}, part), {\n              functionResponse: __spreadProps(__spreadValues({}, part.functionResponse), {\n                parts: part.functionResponse.parts.filter(\n                  (responsePart) => {\n                    var _a2, _b2;\n                    return !((_b2 = (_a2 = responsePart.inlineData) == null ? void 0 : _a2.mimeType) == null ? void 0 : _b2.startsWith(\"image/\"));\n                  }\n                ),\n                response: __spreadProps(__spreadValues({}, part.functionResponse.response), {\n                  compressed: \"screenshot taken\"\n                })\n              })\n            });\n          }\n        }\n        if ((_e = (_d = part.inlineData) == null ? void 0 : _d.mimeType) == null ? void 0 : _e.startsWith(\"image/\")) {\n          return {\n            text: \"screenshot taken\"\n          };\n        }\n        return part;\n      });\n    }\n  });\n  return {\n    items\n  };\n}\n\n// lib/v3/agent/AnthropicCUAClient.ts\nvar AnthropicCUAClient = class extends AgentClient {\n  constructor(type, modelName, userProvidedInstructions, clientOptions, tools) {\n    super(type, modelName, userProvidedInstructions);\n    this.currentViewport = { width: 1288, height: 711 };\n    this.thinkingBudget = null;\n    this.apiKey = (clientOptions == null ? void 0 : clientOptions.apiKey) || process.env.ANTHROPIC_API_KEY || \"\";\n    this.baseURL = (clientOptions == null ? void 0 : clientOptions.baseURL) || void 0;\n    if ((clientOptions == null ? void 0 : clientOptions.thinkingBudget) && typeof clientOptions.thinkingBudget === \"number\") {\n      this.thinkingBudget = clientOptions.thinkingBudget;\n    }\n    this.clientOptions = {\n      apiKey: this.apiKey\n    };\n    if (this.baseURL) {\n      this.clientOptions.baseUrl = this.baseURL;\n    }\n    this.client = new import_sdk.default(this.clientOptions);\n    this.tools = tools;\n  }\n  setViewport(width, height) {\n    this.currentViewport = { width, height };\n  }\n  setCurrentUrl(url) {\n    this.currentUrl = url;\n  }\n  setScreenshotProvider(provider) {\n    this.screenshotProvider = provider;\n  }\n  setActionHandler(handler) {\n    this.actionHandler = handler;\n  }\n  setTools(tools) {\n    this.tools = tools;\n  }\n  /**\n   * Execute a task with the Anthropic CUA\n   * This is the main entry point for the agent\n   * @implements AgentClient.execute\n   */\n  execute(executionOptions) {\n    return __async(this, null, function* () {\n      const { options, logger } = executionOptions;\n      const { instruction } = options;\n      const maxSteps = options.maxSteps || 10;\n      let currentStep = 0;\n      let completed = false;\n      const actions = [];\n      const messageList = [];\n      let finalMessage = \"\";\n      let inputItems = this.createInitialInputItems(instruction);\n      logger({\n        category: \"agent\",\n        message: `Starting Anthropic agent execution with instruction: ${instruction}`,\n        level: 1\n      });\n      let totalInputTokens = 0;\n      let totalOutputTokens = 0;\n      let totalInferenceTime = 0;\n      try {\n        while (!completed && currentStep < maxSteps) {\n          logger({\n            category: \"agent\",\n            message: `Executing step ${currentStep + 1}/${maxSteps}`,\n            level: 1\n          });\n          const result = yield this.executeStep(inputItems, logger);\n          totalInputTokens += result.usage.input_tokens;\n          totalOutputTokens += result.usage.output_tokens;\n          totalInferenceTime += result.usage.inference_time_ms;\n          if (result.actions.length > 0) {\n            logger({\n              category: \"agent\",\n              message: `Step ${currentStep + 1} performed ${result.actions.length} actions`,\n              level: 2\n            });\n            actions.push(...result.actions);\n          }\n          completed = result.completed;\n          if (!completed) {\n            inputItems = result.nextInputItems;\n          }\n          if (result.message) {\n            messageList.push(result.message);\n            finalMessage = result.message;\n          }\n          currentStep++;\n        }\n        logger({\n          category: \"agent\",\n          message: `Anthropic agent execution completed: ${completed}, with ${actions.length} total actions performed`,\n          level: 1\n        });\n        return {\n          success: completed,\n          actions,\n          message: finalMessage,\n          completed,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing agent task: ${errorMessage}`,\n          level: 0\n        });\n        return {\n          success: false,\n          actions,\n          message: `Failed to execute task: ${errorMessage}`,\n          completed: false,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      }\n    });\n  }\n  executeStep(inputItems, logger) {\n    return __async(this, null, function* () {\n      try {\n        const result = yield this.getAction(inputItems);\n        const content = result.content;\n        const usage = {\n          input_tokens: result.usage.input_tokens,\n          output_tokens: result.usage.output_tokens,\n          inference_time_ms: result.usage.inference_time_ms\n        };\n        logger({\n          category: \"agent\",\n          message: `Received response with ${content.length} content blocks`,\n          level: 2\n        });\n        const stepActions = [];\n        const toolUseItems = [];\n        let message = \"\";\n        for (const block of content) {\n          logger({\n            category: \"agent\",\n            message: `Processing block type: ${block.type}, id: ${block.id || \"unknown\"}`,\n            level: 2\n          });\n          if (block.type === \"tool_use\") {\n            logger({\n              category: \"agent\",\n              message: `Found tool_use block: ${JSON.stringify(block)}`,\n              level: 2\n            });\n            const toolUseItem = block;\n            toolUseItems.push(toolUseItem);\n            logger({\n              category: \"agent\",\n              message: `Added tool_use item: ${toolUseItem.name}, action: ${JSON.stringify(toolUseItem.input)}`,\n              level: 2\n            });\n            const action = this.convertToolUseToAction(toolUseItem);\n            if (action) {\n              logger({\n                category: \"agent\",\n                message: `Created action from tool_use: ${toolUseItem.name}, action: ${action.type}`,\n                level: 2\n              });\n              stepActions.push(action);\n            } else if (this.tools && toolUseItem.name in this.tools) {\n              stepActions.push({\n                type: \"custom_tool\",\n                tool: toolUseItem.name,\n                input: toolUseItem.input\n              });\n            }\n          } else if (block.type === \"text\") {\n            const textBlock = block;\n            message += textBlock.text + \"\\n\";\n            logger({\n              category: \"agent\",\n              message: `Found text block: ${textBlock.text}`,\n              level: 2\n            });\n          } else {\n            logger({\n              category: \"agent\",\n              message: `Found unknown block type: ${block.type}`,\n              level: 2\n            });\n          }\n        }\n        if (this.actionHandler && stepActions.length > 0) {\n          for (const action of stepActions) {\n            try {\n              logger({\n                category: \"agent\",\n                message: `Executing action: ${action.type}`,\n                level: 1\n              });\n              yield this.actionHandler(action);\n            } catch (error) {\n              const errorMessage = error instanceof Error ? error.message : String(error);\n              logger({\n                category: \"agent\",\n                message: `Error executing action ${action.type}: ${errorMessage}`,\n                level: 0\n              });\n            }\n          }\n        }\n        const assistantMessage = {\n          role: \"assistant\",\n          content\n        };\n        const nextInputItems = [...inputItems];\n        compressConversationImages(nextInputItems);\n        nextInputItems.push(assistantMessage);\n        if (toolUseItems.length > 0) {\n          const toolResults = yield this.takeAction(toolUseItems, logger);\n          if (toolResults.length > 0) {\n            const userToolResultsMessage = {\n              role: \"user\",\n              content: toolResults\n            };\n            nextInputItems.push(userToolResultsMessage);\n          }\n        }\n        const completed = toolUseItems.length === 0;\n        logger({\n          category: \"agent\",\n          message: `Step processed ${toolUseItems.length} tool use items, completed: ${completed}`,\n          level: 2\n        });\n        return {\n          actions: stepActions,\n          message: message.trim(),\n          completed,\n          nextInputItems,\n          usage\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing step: ${errorMessage}`,\n          level: 0\n        });\n        throw error;\n      }\n    });\n  }\n  createInitialInputItems(instruction) {\n    return [\n      {\n        role: \"system\",\n        content: this.userProvidedInstructions\n      },\n      {\n        role: \"user\",\n        content: instruction\n      }\n    ];\n  }\n  getAction(inputItems) {\n    return __async(this, null, function* () {\n      try {\n        const messages = [];\n        for (const item of inputItems) {\n          if (\"role\" in item) {\n            if (item.role !== \"system\") {\n              messages.push(item);\n            }\n          }\n        }\n        const thinking = this.thinkingBudget ? { type: \"enabled\", budget_tokens: this.thinkingBudget } : void 0;\n        const requestParams = {\n          model: this.modelName,\n          max_tokens: 4096,\n          messages,\n          tools: [\n            {\n              type: \"computer_20250124\",\n              // Use the latest version for Claude 3.7 Sonnet\n              name: \"computer\",\n              display_width_px: this.currentViewport.width,\n              display_height_px: this.currentViewport.height,\n              display_number: 1\n            }\n          ],\n          betas: [\"computer-use-2025-01-24\"]\n        };\n        if (this.tools && Object.keys(this.tools).length > 0) {\n          const customTools = Object.entries(this.tools).map(([name, tool12]) => {\n            const jsonSchema2 = (0, import_zod_to_json_schema.zodToJsonSchema)(tool12.inputSchema);\n            const inputSchema = {\n              type: \"object\",\n              properties: jsonSchema2.properties || {},\n              required: jsonSchema2.required || []\n            };\n            return {\n              name,\n              description: tool12.description,\n              input_schema: inputSchema\n            };\n          });\n          requestParams.tools = [\n            ...requestParams.tools,\n            ...customTools\n          ];\n        }\n        if (this.userProvidedInstructions) {\n          requestParams.system = this.userProvidedInstructions;\n        }\n        if (thinking) {\n          requestParams.thinking = thinking;\n        }\n        const startTime = Date.now();\n        const response = yield this.client.beta.messages.create(requestParams);\n        const endTime = Date.now();\n        const elapsedMs = endTime - startTime;\n        const usage = {\n          input_tokens: response.usage.input_tokens,\n          output_tokens: response.usage.output_tokens,\n          inference_time_ms: elapsedMs\n        };\n        this.lastMessageId = response.id;\n        return {\n          // Cast the response content to our internal type\n          content: response.content,\n          id: response.id,\n          usage\n        };\n      } catch (error) {\n        console.error(\"Error getting action from Anthropic:\", error);\n        throw error;\n      }\n    });\n  }\n  takeAction(toolUseItems, logger) {\n    return __async(this, null, function* () {\n      const toolResults = [];\n      logger({\n        category: \"agent\",\n        message: `Taking action on ${toolUseItems.length} tool use items`,\n        level: 2\n      });\n      for (const item of toolUseItems) {\n        try {\n          logger({\n            category: \"agent\",\n            message: `Processing tool use: ${item.name}, id: ${item.id}, action: ${JSON.stringify(item.input)}`,\n            level: 2\n          });\n          if (item.name === \"computer\") {\n            const action = item.input.action;\n            logger({\n              category: \"agent\",\n              message: `Computer action type: ${action}`,\n              level: 2\n            });\n            const screenshot = yield this.captureScreenshot();\n            logger({\n              category: \"agent\",\n              message: `Screenshot captured, length: ${screenshot.length}`,\n              level: 2\n            });\n            const imageContent = [\n              {\n                type: \"image\",\n                source: {\n                  type: \"base64\",\n                  media_type: \"image/png\",\n                  data: screenshot.replace(/^data:image\\/png;base64,/, \"\")\n                }\n              }\n            ];\n            if (this.currentUrl) {\n              toolResults.push({\n                type: \"tool_result\",\n                tool_use_id: item.id,\n                content: [\n                  ...imageContent,\n                  {\n                    type: \"text\",\n                    text: `Current URL: ${this.currentUrl}`\n                  }\n                ]\n              });\n            } else {\n              toolResults.push({\n                type: \"tool_result\",\n                tool_use_id: item.id,\n                content: imageContent\n              });\n            }\n            logger({\n              category: \"agent\",\n              message: `Added computer tool result for tool_use_id: ${item.id}`,\n              level: 2\n            });\n          } else {\n            let toolResult = \"Tool executed successfully\";\n            if (this.tools && item.name in this.tools) {\n              try {\n                const tool12 = this.tools[item.name];\n                logger({\n                  category: \"agent\",\n                  message: `Executing tool call: ${item.name} with args: ${JSON.stringify(item.input)}`,\n                  level: 1\n                });\n                const result = yield tool12.execute(item.input, {\n                  toolCallId: item.id,\n                  messages: []\n                });\n                toolResult = JSON.stringify(result);\n                logger({\n                  category: \"agent\",\n                  message: `Tool ${item.name} completed successfully. Result: ${toolResult}`,\n                  level: 1\n                });\n              } catch (toolError) {\n                const errorMessage = toolError instanceof Error ? toolError.message : String(toolError);\n                toolResult = `Error executing tool: ${errorMessage}`;\n                logger({\n                  category: \"agent\",\n                  message: `Error executing tool ${item.name}: ${errorMessage}`,\n                  level: 0\n                });\n              }\n            }\n            toolResults.push({\n              type: \"tool_result\",\n              tool_use_id: item.id,\n              content: [\n                {\n                  type: \"text\",\n                  text: toolResult\n                }\n              ]\n            });\n            logger({\n              category: \"agent\",\n              message: `Added custom tool result for tool ${item.name}, tool_use_id: ${item.id}`,\n              level: 2\n            });\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          logger({\n            category: \"agent\",\n            message: `Error executing tool use: ${errorMessage}`,\n            level: 0\n          });\n          try {\n            if (item.name === \"computer\") {\n              const screenshot = yield this.captureScreenshot();\n              toolResults.push({\n                type: \"tool_result\",\n                tool_use_id: item.id,\n                content: [\n                  {\n                    type: \"image\",\n                    source: {\n                      type: \"base64\",\n                      media_type: \"image/png\",\n                      data: screenshot.replace(/^data:image\\/png;base64,/, \"\")\n                    }\n                  },\n                  {\n                    type: \"text\",\n                    text: `Error: ${errorMessage}`\n                  }\n                ]\n              });\n              logger({\n                category: \"agent\",\n                message: `Added error tool result with screenshot for tool_use_id: ${item.id}`,\n                level: 1\n              });\n            } else {\n              toolResults.push({\n                type: \"tool_result\",\n                tool_use_id: item.id,\n                content: [\n                  {\n                    type: \"text\",\n                    text: `Error: ${errorMessage}`\n                  }\n                ]\n              });\n              logger({\n                category: \"agent\",\n                message: `Added error tool result for tool_use_id: ${item.id}`,\n                level: 1\n              });\n            }\n          } catch (screenshotError) {\n            logger({\n              category: \"agent\",\n              message: `Error capturing screenshot: ${String(screenshotError)}`,\n              level: 0\n            });\n            toolResults.push({\n              type: \"tool_result\",\n              tool_use_id: item.id,\n              content: [\n                {\n                  type: \"text\",\n                  text: `Error: ${errorMessage}`\n                }\n              ]\n            });\n            logger({\n              category: \"agent\",\n              message: `Added text error tool result for tool_use_id: ${item.id}`,\n              level: 1\n            });\n          }\n        }\n      }\n      logger({\n        category: \"agent\",\n        message: `Prepared ${toolResults.length} tool results for next request`,\n        level: 2\n      });\n      return toolResults;\n    });\n  }\n  convertToolUseToAction(item) {\n    try {\n      const { name, input } = item;\n      if (name === \"computer\") {\n        const action = input.action;\n        if (!action) {\n          console.warn(\"Missing action in tool use item:\", item);\n          return null;\n        }\n        if (action === \"screenshot\") {\n          return __spreadValues({\n            type: \"screenshot\"\n          }, input);\n        } else if (action === \"click\") {\n          return __spreadValues({\n            type: \"click\",\n            x: input.x,\n            y: input.y,\n            button: input.button || \"left\"\n          }, input);\n        } else if (action === \"type\") {\n          return __spreadValues({\n            type: \"type\",\n            text: input.text\n          }, input);\n        } else if (action === \"keypress\") {\n          return __spreadValues({\n            type: \"keypress\",\n            keys: input.keys\n          }, input);\n        } else if (action === \"double_click\" || action === \"doubleClick\") {\n          return __spreadValues({\n            type: action,\n            x: input.x,\n            y: input.y\n          }, input);\n        } else if (action === \"scroll\") {\n          const x = input.x || (input.coordinate ? input.coordinate[0] : 0);\n          const y = input.y || (input.coordinate ? input.coordinate[1] : 0);\n          let scroll_x = 0;\n          let scroll_y = 0;\n          const scrollAmount = input.scroll_amount || 5;\n          const scrollMultiplier = 100;\n          if (input.scroll_direction) {\n            const direction = input.scroll_direction;\n            if (direction === \"down\") {\n              scroll_y = scrollAmount * scrollMultiplier;\n            } else if (direction === \"up\") {\n              scroll_y = -scrollAmount * scrollMultiplier;\n            } else if (direction === \"right\") {\n              scroll_x = scrollAmount * scrollMultiplier;\n            } else if (direction === \"left\") {\n              scroll_x = -scrollAmount * scrollMultiplier;\n            }\n          } else {\n            scroll_x = input.scroll_x || 0;\n            scroll_y = input.scroll_y || 0;\n          }\n          return __spreadValues({\n            type: \"scroll\",\n            x,\n            y,\n            scroll_x,\n            scroll_y\n          }, input);\n        } else if (action === \"move\") {\n          const coordinates = input.coordinate;\n          const x = coordinates ? coordinates[0] : input.x || 0;\n          const y = coordinates ? coordinates[1] : input.y || 0;\n          return __spreadValues({\n            type: \"move\",\n            x,\n            y\n          }, input);\n        } else if (action === \"drag\" || action === \"left_click_drag\") {\n          const path7 = input.path || (input.coordinate ? [\n            {\n              x: input.start_coordinate[0],\n              y: input.start_coordinate[1]\n            },\n            {\n              x: input.coordinate[0],\n              y: input.coordinate[1]\n            }\n          ] : []);\n          return __spreadValues({\n            type: \"drag\",\n            path: path7\n          }, input);\n        } else if (action === \"wait\") {\n          return __spreadValues({\n            type: \"wait\"\n          }, input);\n        } else if (action === \"key\") {\n          const text = input.text;\n          const mappedKey = mapKeyToPlaywright(text);\n          return __spreadValues({\n            type: \"key\",\n            text: mappedKey\n          }, input);\n        } else if (action === \"left_click\") {\n          const coordinates = input.coordinate;\n          const x = coordinates ? coordinates[0] : input.x || 0;\n          const y = coordinates ? coordinates[1] : input.y || 0;\n          return __spreadValues({\n            type: \"click\",\n            x,\n            y,\n            button: \"left\"\n          }, input);\n        } else {\n          return __spreadValues({\n            type: action\n          }, input);\n        }\n      } else if (name === \"str_replace_editor\" || name === \"bash\") {\n        return {\n          type: name,\n          params: input\n        };\n      } else if (this.tools && name in this.tools) {\n        return null;\n      }\n      console.warn(`Unknown tool name: ${name}`);\n      return null;\n    } catch (error) {\n      console.error(\"Error converting tool use to action:\", error);\n      return null;\n    }\n  }\n  captureScreenshot(options) {\n    return __async(this, null, function* () {\n      if (options == null ? void 0 : options.base64Image) {\n        return `data:image/png;base64,${options.base64Image}`;\n      }\n      if (this.screenshotProvider) {\n        try {\n          const base64Image = yield this.screenshotProvider();\n          return `data:image/png;base64,${base64Image}`;\n        } catch (error) {\n          console.error(\"Error capturing screenshot:\", error);\n          throw error;\n        }\n      }\n      throw new AgentScreenshotProviderError(\n        \"`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image\"\n      );\n    });\n  }\n};\n\n// lib/v3/agent/OpenAICUAClient.ts\nvar import_openai = __toESM(require(\"openai\"));\ninit_sdkErrors();\nvar OpenAICUAClient = class extends AgentClient {\n  constructor(type, modelName, userProvidedInstructions, clientOptions, tools) {\n    super(type, modelName, userProvidedInstructions);\n    this.currentViewport = { width: 1288, height: 711 };\n    this.reasoningItems = /* @__PURE__ */ new Map();\n    this.environment = \"browser\";\n    this.apiKey = (clientOptions == null ? void 0 : clientOptions.apiKey) || process.env.OPENAI_API_KEY || \"\";\n    this.baseURL = (clientOptions == null ? void 0 : clientOptions.baseURL) || void 0;\n    this.organization = (clientOptions == null ? void 0 : clientOptions.organization) || process.env.OPENAI_ORG;\n    if ((clientOptions == null ? void 0 : clientOptions.environment) && typeof clientOptions.environment === \"string\") {\n      this.environment = clientOptions.environment;\n    }\n    this.clientOptions = {\n      apiKey: this.apiKey\n    };\n    if (this.baseURL) {\n      this.clientOptions.baseURL = this.baseURL;\n    }\n    this.client = new import_openai.default(this.clientOptions);\n    this.tools = tools;\n  }\n  setViewport(width, height) {\n    this.currentViewport = { width, height };\n  }\n  setCurrentUrl(url) {\n    this.currentUrl = url;\n  }\n  setScreenshotProvider(provider) {\n    this.screenshotProvider = provider;\n  }\n  setActionHandler(handler) {\n    this.actionHandler = handler;\n  }\n  setTools(tools) {\n    this.tools = tools;\n  }\n  /**\n   * Execute a task with the OpenAI CUA\n   * This is the main entry point for the agent\n   * @implements AgentClient.execute\n   */\n  execute(executionOptions) {\n    return __async(this, null, function* () {\n      const { options, logger } = executionOptions;\n      const { instruction } = options;\n      const maxSteps = options.maxSteps || 10;\n      let currentStep = 0;\n      let completed = false;\n      const actions = [];\n      const messageList = [];\n      let finalMessage = \"\";\n      this.reasoningItems.clear();\n      let inputItems = this.createInitialInputItems(instruction);\n      let previousResponseId = void 0;\n      let totalInputTokens = 0;\n      let totalOutputTokens = 0;\n      let totalInferenceTime = 0;\n      try {\n        while (!completed && currentStep < maxSteps) {\n          logger({\n            category: \"agent\",\n            message: `Executing step ${currentStep + 1}/${maxSteps}`,\n            level: 1\n          });\n          const result = yield this.executeStep(\n            inputItems,\n            previousResponseId,\n            logger\n          );\n          totalInputTokens += result.usage.input_tokens;\n          totalOutputTokens += result.usage.output_tokens;\n          totalInferenceTime += result.usage.inference_time_ms;\n          actions.push(...result.actions);\n          completed = result.completed;\n          previousResponseId = result.responseId;\n          if (!completed) {\n            inputItems = result.nextInputItems;\n          }\n          if (result.message) {\n            messageList.push(result.message);\n            finalMessage = result.message;\n          }\n          currentStep++;\n        }\n        return {\n          success: completed,\n          actions,\n          message: finalMessage,\n          completed,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing agent task: ${errorMessage}`,\n          level: 0\n        });\n        return {\n          success: false,\n          actions,\n          message: `Failed to execute task: ${errorMessage}`,\n          completed: false,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      }\n    });\n  }\n  /**\n   * Execute a single step of the agent\n   * This coordinates the flow: Request  Get Action  Execute Action\n   */\n  executeStep(inputItems, previousResponseId, logger) {\n    return __async(this, null, function* () {\n      try {\n        const result = yield this.getAction(inputItems, previousResponseId);\n        const output = result.output;\n        const responseId = result.responseId;\n        const usage = {\n          input_tokens: result.usage.input_tokens,\n          output_tokens: result.usage.output_tokens,\n          inference_time_ms: result.usage.inference_time_ms\n        };\n        for (const item of output) {\n          if (item.type === \"reasoning\") {\n            this.reasoningItems.set(item.id, item);\n            logger({\n              category: \"agent\",\n              message: `Reasoning: ${String(item.content || \"\")}`,\n              level: 1\n            });\n          }\n        }\n        const stepActions = [];\n        for (const item of output) {\n          if (item.type === \"computer_call\" && this.isComputerCallItem(item)) {\n            logger({\n              category: \"agent\",\n              message: `Found computer_call: ${item.action.type}, call_id: ${item.call_id}`,\n              level: 2\n            });\n            const action = this.convertComputerCallToAction(item);\n            if (action) {\n              stepActions.push(action);\n              logger({\n                category: \"agent\",\n                message: `Converted computer_call to action: ${action.type}`,\n                level: 2\n              });\n            }\n          } else if (item.type === \"function_call\" && this.isFunctionCallItem(item)) {\n            logger({\n              category: \"agent\",\n              message: `Found function_call: ${item.name}, call_id: ${item.call_id}`,\n              level: 2\n            });\n            const action = this.convertFunctionCallToAction(item);\n            if (action) {\n              stepActions.push(action);\n              logger({\n                category: \"agent\",\n                message: `Converted function_call to action: ${action.type}`,\n                level: 2\n              });\n            }\n          }\n        }\n        let message = \"\";\n        for (const item of output) {\n          if (item.type === \"message\") {\n            logger({\n              category: \"agent\",\n              message: `Found message block`,\n              level: 2\n            });\n            if (item.content && Array.isArray(item.content)) {\n              for (const content of item.content) {\n                if (content.type === \"output_text\" && content.text) {\n                  message += content.text + \"\\n\";\n                  logger({\n                    category: \"agent\",\n                    message: `Message text: ${String(content.text || \"\")}`,\n                    level: 1\n                  });\n                }\n              }\n            }\n          }\n        }\n        const nextInputItems = yield this.takeAction(output, logger);\n        const completed = output.length === 0 || output.every(\n          (item) => item.type === \"message\" || item.type === \"reasoning\"\n        );\n        return {\n          actions: stepActions,\n          message: message.trim(),\n          completed,\n          nextInputItems,\n          responseId,\n          usage\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing step: ${errorMessage}`,\n          level: 0\n        });\n        throw error;\n      }\n    });\n  }\n  isComputerCallItem(item) {\n    return item.type === \"computer_call\" && \"call_id\" in item && \"action\" in item && typeof item.action === \"object\";\n  }\n  isFunctionCallItem(item) {\n    return item.type === \"function_call\" && \"call_id\" in item && \"name\" in item && \"arguments\" in item;\n  }\n  createInitialInputItems(instruction) {\n    return [\n      {\n        role: \"system\",\n        content: this.userProvidedInstructions\n      },\n      {\n        role: \"user\",\n        content: instruction\n      }\n    ];\n  }\n  getAction(inputItems, previousResponseId) {\n    return __async(this, null, function* () {\n      try {\n        const requestParams = {\n          model: this.modelName,\n          tools: [\n            {\n              type: \"computer_use_preview\",\n              display_width: this.currentViewport.width,\n              display_height: this.currentViewport.height,\n              environment: this.environment\n            }\n          ],\n          input: inputItems,\n          truncation: \"auto\"\n        };\n        if (this.tools && Object.keys(this.tools).length > 0) {\n          const customTools = Object.entries(this.tools).map(([name, tool12]) => ({\n            type: \"function\",\n            name,\n            function: {\n              name,\n              description: tool12.description,\n              parameters: tool12.inputSchema\n            }\n          }));\n          requestParams.tools = [\n            ...requestParams.tools,\n            ...customTools\n          ];\n        }\n        if (previousResponseId) {\n          requestParams.previous_response_id = previousResponseId;\n        }\n        const startTime = Date.now();\n        const response = yield this.client.responses.create(requestParams);\n        const endTime = Date.now();\n        const elapsedMs = endTime - startTime;\n        const usage = {\n          input_tokens: response.usage.input_tokens,\n          output_tokens: response.usage.output_tokens,\n          inference_time_ms: elapsedMs\n        };\n        this.lastResponseId = response.id;\n        return {\n          output: response.output,\n          responseId: response.id,\n          usage\n        };\n      } catch (error) {\n        console.error(\"Error getting action from OpenAI:\", error);\n        throw error;\n      }\n    });\n  }\n  takeAction(output, logger) {\n    return __async(this, null, function* () {\n      const nextInputItems = [];\n      for (const item of output) {\n        if (item.type === \"computer_call\" && this.isComputerCallItem(item)) {\n          try {\n            const action = this.convertComputerCallToAction(item);\n            if (action && this.actionHandler) {\n              logger({\n                category: \"agent\",\n                message: `Executing computer action: ${action.type}`,\n                level: 1\n              });\n              yield this.actionHandler(action);\n            }\n            const screenshot = yield this.captureScreenshot();\n            const outputItem = {\n              type: \"computer_call_output\",\n              call_id: item.call_id,\n              output: {\n                type: \"input_image\",\n                image_url: screenshot\n              }\n            };\n            logger({\n              category: \"agent\",\n              message: `Added computer_call_output for call_id: ${item.call_id}`,\n              level: 2\n            });\n            if (this.currentUrl) {\n              const computerCallOutput = outputItem;\n              computerCallOutput.output.current_url = this.currentUrl;\n            }\n            if (item.pending_safety_checks && item.pending_safety_checks.length > 0) {\n              const computerCallOutput = outputItem;\n              computerCallOutput.acknowledged_safety_checks = item.pending_safety_checks;\n            }\n            nextInputItems.push(outputItem);\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            logger({\n              category: \"agent\",\n              message: `Error executing computer call: ${errorMessage}`,\n              level: 0\n            });\n            try {\n              const screenshot = yield this.captureScreenshot();\n              const errorOutputItem = {\n                type: \"computer_call_output\",\n                call_id: item.call_id,\n                output: {\n                  type: \"input_image\",\n                  image_url: screenshot,\n                  error: errorMessage\n                }\n              };\n              if (this.currentUrl) {\n                const computerCallOutput = errorOutputItem;\n                computerCallOutput.output.current_url = this.currentUrl;\n              }\n              if (item.pending_safety_checks && item.pending_safety_checks.length > 0) {\n                const computerCallOutput = errorOutputItem;\n                computerCallOutput.acknowledged_safety_checks = item.pending_safety_checks;\n              }\n              nextInputItems.push(errorOutputItem);\n            } catch (screenshotError) {\n              logger({\n                category: \"agent\",\n                message: `Error capturing screenshot: ${String(screenshotError)}`,\n                level: 0\n              });\n              nextInputItems.push({\n                type: \"computer_call_output\",\n                call_id: item.call_id,\n                output: `Error: ${errorMessage}`\n              });\n            }\n          }\n        } else if (item.type === \"function_call\" && this.isFunctionCallItem(item)) {\n          try {\n            const action = this.convertFunctionCallToAction(item);\n            if (action && this.actionHandler) {\n              yield this.actionHandler(action);\n            }\n            let toolResult = \"Tool executed successfully\";\n            if (this.tools && item.name in this.tools) {\n              try {\n                const tool12 = this.tools[item.name];\n                const args = JSON.parse(item.arguments);\n                logger({\n                  category: \"agent\",\n                  message: `Executing tool call: ${item.name} with args: ${item.arguments}`,\n                  level: 1\n                });\n                const result = yield tool12.execute(args, {\n                  toolCallId: item.call_id,\n                  messages: []\n                });\n                toolResult = JSON.stringify(result);\n                logger({\n                  category: \"agent\",\n                  message: `Tool ${item.name} completed successfully. Result: ${toolResult}`,\n                  level: 1\n                });\n              } catch (toolError) {\n                const errorMessage = toolError instanceof Error ? toolError.message : String(toolError);\n                toolResult = `Error executing tool: ${errorMessage}`;\n                logger({\n                  category: \"agent\",\n                  message: `Error executing tool ${item.name}: ${errorMessage}`,\n                  level: 0\n                });\n              }\n            }\n            const outputItem = {\n              type: \"function_call_output\",\n              call_id: item.call_id,\n              output: toolResult\n            };\n            nextInputItems.push(outputItem);\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            logger({\n              category: \"agent\",\n              message: `Error executing function call: ${errorMessage}`,\n              level: 0\n            });\n            const errorOutputItem = {\n              type: \"function_call_output\",\n              call_id: item.call_id,\n              output: `Error: ${errorMessage}`\n            };\n            nextInputItems.push(errorOutputItem);\n          }\n        }\n      }\n      return nextInputItems;\n    });\n  }\n  convertComputerCallToAction(call) {\n    const { action } = call;\n    return __spreadValues({\n      type: action.type\n    }, action);\n  }\n  convertFunctionCallToAction(call) {\n    try {\n      const args = JSON.parse(call.arguments);\n      return {\n        type: call.name,\n        params: args\n      };\n    } catch (error) {\n      console.error(\"Error parsing function call arguments:\", error);\n      return null;\n    }\n  }\n  captureScreenshot(options) {\n    return __async(this, null, function* () {\n      if (options == null ? void 0 : options.base64Image) {\n        return `data:image/png;base64,${options.base64Image}`;\n      }\n      if (this.screenshotProvider) {\n        try {\n          const base64Image = yield this.screenshotProvider();\n          return `data:image/png;base64,${base64Image}`;\n        } catch (error) {\n          console.error(\"Error capturing screenshot:\", error);\n          throw error;\n        }\n      }\n      throw new AgentScreenshotProviderError(\n        \"`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image\"\n      );\n    });\n  }\n};\n\n// lib/v3/agent/GoogleCUAClient.ts\nvar import_genai3 = require(\"@google/genai\");\ninit_sdkErrors();\n\n// lib/v3/agent/utils/googleCustomToolHandler.ts\nvar import_genai2 = require(\"@google/genai\");\nvar import_zod_to_json_schema2 = require(\"zod-to-json-schema\");\nfunction executeGoogleCustomTool(toolName, toolArgs, tools, functionCall, logger) {\n  return __async(this, null, function* () {\n    try {\n      logger({\n        category: \"agent\",\n        message: `Executing custom tool: ${toolName} with args: ${JSON.stringify(toolArgs)}`,\n        level: 1\n      });\n      const tool12 = tools[toolName];\n      const toolResult = yield tool12.execute(toolArgs, {\n        toolCallId: `tool_${Date.now()}`,\n        messages: []\n      });\n      logger({\n        category: \"agent\",\n        message: `Tool ${toolName} completed successfully. Result: ${JSON.stringify(toolResult)}`,\n        level: 1\n      });\n      const functionResponsePart = {\n        functionResponse: {\n          name: toolName,\n          response: {\n            result: JSON.stringify(toolResult)\n          }\n        }\n      };\n      return {\n        functionResponse: functionResponsePart,\n        success: true\n      };\n    } catch (toolError) {\n      const errorMessage = toolError instanceof Error ? toolError.message : String(toolError);\n      logger({\n        category: \"agent\",\n        message: `Error executing custom tool ${toolName}: ${errorMessage}`,\n        level: 0\n      });\n      const functionResponsePart = {\n        functionResponse: {\n          name: toolName,\n          response: {\n            error: errorMessage\n          }\n        }\n      };\n      return {\n        functionResponse: functionResponsePart,\n        success: false\n      };\n    }\n  });\n}\nfunction isCustomTool(functionCall, tools) {\n  return !!(tools && functionCall.name && functionCall.name in tools);\n}\nfunction convertToolSetToFunctionDeclarations(tools) {\n  const functionDeclarations = [];\n  for (const [name, tool12] of Object.entries(tools)) {\n    const functionDeclaration = convertToolToFunctionDeclaration(name, tool12);\n    if (functionDeclaration) {\n      functionDeclarations.push(functionDeclaration);\n    }\n  }\n  return functionDeclarations;\n}\nfunction convertToolToFunctionDeclaration(name, tool12) {\n  try {\n    const jsonSchema2 = (0, import_zod_to_json_schema2.zodToJsonSchema)(tool12.inputSchema);\n    const parameters = convertJsonSchemaToGoogleParameters(jsonSchema2);\n    return {\n      name,\n      description: tool12.description || `Execute ${name}`,\n      parameters\n    };\n  } catch (error) {\n    console.error(\n      `Error converting tool ${name} to function declaration:`,\n      error\n    );\n    return null;\n  }\n}\nfunction convertJsonSchemaToGoogleParameters(schema) {\n  const properties = {};\n  if (schema.properties) {\n    for (const [key, value] of Object.entries(schema.properties)) {\n      const propSchema = value;\n      properties[key] = __spreadValues({\n        type: mapJsonTypeToGoogleType(propSchema.type || \"string\")\n      }, propSchema.description ? { description: propSchema.description } : {});\n    }\n  }\n  return __spreadValues({\n    type: import_genai2.Type.OBJECT,\n    properties\n  }, schema.required && schema.required.length > 0 ? { required: schema.required } : {});\n}\nfunction mapJsonTypeToGoogleType(jsonType) {\n  switch (jsonType.toLowerCase()) {\n    case \"string\":\n      return import_genai2.Type.STRING;\n    case \"number\":\n    case \"integer\":\n      return import_genai2.Type.NUMBER;\n    case \"boolean\":\n      return import_genai2.Type.BOOLEAN;\n    case \"array\":\n      return import_genai2.Type.ARRAY;\n    case \"object\":\n      return import_genai2.Type.OBJECT;\n    default:\n      return import_genai2.Type.STRING;\n  }\n}\n\n// lib/v3/agent/GoogleCUAClient.ts\nvar GoogleCUAClient = class extends AgentClient {\n  constructor(type, modelName, userProvidedInstructions, clientOptions, tools) {\n    super(type, modelName, userProvidedInstructions);\n    this.currentViewport = { width: 1288, height: 711 };\n    this.history = [];\n    this.environment = \"ENVIRONMENT_BROWSER\";\n    this.tools = tools;\n    this.apiKey = (clientOptions == null ? void 0 : clientOptions.apiKey) || process.env.GEMINI_API_KEY || process.env.GOOGLE_GENERATIVE_AI_API_KEY || \"\";\n    this.baseURL = clientOptions == null ? void 0 : clientOptions.baseURL;\n    const genAIOptions = __spreadValues({\n      apiKey: this.apiKey\n    }, this.baseURL ? { httpOptions: { baseUrl: this.baseURL } } : {});\n    this.client = new import_genai3.GoogleGenAI(genAIOptions);\n    if ((clientOptions == null ? void 0 : clientOptions.environment) && typeof clientOptions.environment === \"string\") {\n      this.environment = clientOptions.environment;\n    }\n    this.generateContentConfig = {\n      temperature: 1,\n      topP: 0.95,\n      topK: 40,\n      maxOutputTokens: 8192,\n      // systemInstruction: this.userProvidedInstructions\n      //   ? { parts: [{ text: this.userProvidedInstructions }] }\n      //   : { parts: [{ text: buildGoogleCUASystemPrompt() }] },\n      tools: [\n        {\n          computerUse: {\n            environment: this.environment\n          }\n        }\n      ]\n    };\n    this.clientOptions = __spreadValues({\n      apiKey: this.apiKey\n    }, this.baseURL ? { baseURL: this.baseURL } : {});\n    if (this.tools && Object.keys(this.tools).length > 0) {\n      this.updateGenerateContentConfig();\n    }\n  }\n  setViewport(width, height) {\n    this.currentViewport = { width, height };\n  }\n  setCurrentUrl(url) {\n    this.currentUrl = url;\n  }\n  setScreenshotProvider(provider) {\n    this.screenshotProvider = provider;\n  }\n  setActionHandler(handler) {\n    this.actionHandler = handler;\n  }\n  setTools(tools) {\n    this.tools = tools;\n    this.updateGenerateContentConfig();\n  }\n  /**\n   * Update the generateContentConfig with current tools\n   */\n  updateGenerateContentConfig() {\n    const functionDeclarations = this.tools && Object.keys(this.tools).length > 0 ? convertToolSetToFunctionDeclarations(this.tools) : [];\n    this.generateContentConfig = __spreadProps(__spreadValues({}, this.generateContentConfig), {\n      tools: [\n        __spreadValues({\n          computerUse: {\n            environment: this.environment\n          }\n        }, functionDeclarations.length > 0 ? { functionDeclarations } : {})\n      ]\n    });\n  }\n  /**\n   * Execute a task with the Google CUA\n   * This is the main entry point for the agent\n   * @implements AgentClient.execute\n   */\n  execute(executionOptions) {\n    return __async(this, null, function* () {\n      const { options, logger } = executionOptions;\n      const { instruction } = options;\n      const maxSteps = options.maxSteps || 10;\n      let currentStep = 0;\n      let completed = false;\n      const actions = [];\n      const messageList = [];\n      let finalMessage = \"\";\n      this.history = [];\n      yield this.initializeHistory(instruction);\n      let totalInputTokens = 0;\n      let totalOutputTokens = 0;\n      let totalInferenceTime = 0;\n      try {\n        while (!completed && currentStep < maxSteps) {\n          logger({\n            category: \"agent\",\n            message: `Executing step ${currentStep + 1}/${maxSteps}`,\n            level: 1\n          });\n          const result = yield this.executeStep(logger);\n          totalInputTokens += result.usage.input_tokens;\n          totalOutputTokens += result.usage.output_tokens;\n          totalInferenceTime += result.usage.inference_time_ms;\n          actions.push(...result.actions);\n          completed = result.completed;\n          if (result.message) {\n            messageList.push(result.message);\n            finalMessage = result.message;\n          }\n          currentStep++;\n        }\n        return {\n          success: completed,\n          actions,\n          message: finalMessage,\n          completed,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing agent task: ${errorMessage}`,\n          level: 0\n        });\n        return {\n          success: false,\n          actions,\n          message: `Failed to execute task: ${errorMessage}`,\n          completed: false,\n          usage: {\n            input_tokens: totalInputTokens,\n            output_tokens: totalOutputTokens,\n            inference_time_ms: totalInferenceTime\n          }\n        };\n      }\n    });\n  }\n  /**\n   * Initialize conversation history with the initial instruction\n   */\n  initializeHistory(instruction) {\n    return __async(this, null, function* () {\n      const parts = [{ text: instruction }];\n      const systemPromptContent = this.userProvidedInstructions ? this.userProvidedInstructions : buildGoogleCUASystemPrompt().content;\n      this.history = [\n        {\n          role: \"user\",\n          parts: [\n            {\n              text: \"System prompt: \" + systemPromptContent\n            }\n          ]\n        },\n        {\n          role: \"user\",\n          parts\n        }\n      ];\n    });\n  }\n  /**\n   * Execute a single step of the agent\n   */\n  executeStep(logger) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      try {\n        const startTime = Date.now();\n        const compressedResult = compressGoogleConversationImages(\n          this.history,\n          2\n        );\n        const compressedHistory = compressedResult.items;\n        const maxRetries = 5;\n        const baseDelayS = 1;\n        let lastError = null;\n        let response = null;\n        for (let attempt = 0; attempt < maxRetries; attempt++) {\n          try {\n            if (attempt > 0) {\n              const delay2 = baseDelayS * Math.pow(2, attempt) * 1e3;\n              logger({\n                category: \"agent\",\n                message: `Generating content failed on attempt ${attempt + 1}. Retrying in ${delay2 / 1e3} seconds...`,\n                level: 2\n              });\n              yield new Promise((resolve2) => setTimeout(resolve2, delay2));\n            }\n            response = yield this.client.models.generateContent({\n              model: this.modelName,\n              contents: compressedHistory,\n              config: this.generateContentConfig\n            });\n            if (!response.candidates || response.candidates.length === 0) {\n              throw new LLMResponseError(\"agent\", \"Response has no candidates!\");\n            }\n            break;\n          } catch (error) {\n            lastError = error instanceof Error ? error : new Error(String(error));\n            logger({\n              category: \"agent\",\n              message: `API call error: ${lastError.message}`,\n              level: 2\n            });\n            if (attempt === maxRetries - 1) {\n              logger({\n                category: \"agent\",\n                message: `Generating content failed after ${maxRetries} attempts.`,\n                level: 0\n              });\n              throw lastError;\n            }\n          }\n        }\n        if (!response) {\n          throw lastError || new Error(\"Failed to get response after all retries\");\n        }\n        const endTime = Date.now();\n        const elapsedMs = endTime - startTime;\n        const { usageMetadata } = response;\n        const result = yield this.processResponse(response, logger);\n        if (response.candidates && response.candidates[0]) {\n          const sanitizedContent = JSON.parse(\n            JSON.stringify(response.candidates[0].content)\n          );\n          if (sanitizedContent.parts) {\n            for (const part of sanitizedContent.parts) {\n              if ((_a = part.functionCall) == null ? void 0 : _a.args) {\n                if (typeof part.functionCall.args.x === \"number\" && part.functionCall.args.x > 999) {\n                  part.functionCall.args.x = 999;\n                }\n                if (typeof part.functionCall.args.y === \"number\" && part.functionCall.args.y > 999) {\n                  part.functionCall.args.y = 999;\n                }\n              }\n            }\n          }\n          this.history.push(sanitizedContent);\n        }\n        const functionResponses = [];\n        if (result.actions.length > 0) {\n          let hasError = false;\n          for (let i = 0; i < result.actions.length; i++) {\n            const action = result.actions[i];\n            logger({\n              category: \"agent\",\n              message: `Executing action ${i + 1}/${result.actions.length}: ${action.type}`,\n              level: 2\n            });\n            if (action.type === \"open_web_browser\") {\n              action.pageUrl = this.currentUrl;\n              logger({\n                category: \"agent\",\n                message: \"Skipping open_web_browser action\",\n                level: 2\n              });\n            } else if (action.type === \"custom_tool\") {\n              const toolName = action.name;\n              const toolArgs = action.arguments;\n              if (this.tools && toolName in this.tools) {\n                const correspondingFunctionCall = result.functionCalls.find(\n                  (fc) => fc.name === toolName\n                );\n                if (correspondingFunctionCall) {\n                  const executionResult = yield executeGoogleCustomTool(\n                    toolName,\n                    toolArgs,\n                    this.tools,\n                    correspondingFunctionCall,\n                    logger\n                  );\n                  functionResponses.push(executionResult.functionResponse);\n                  if (!executionResult.success) {\n                    hasError = true;\n                  }\n                }\n              }\n            } else if (this.actionHandler) {\n              try {\n                yield this.actionHandler(action);\n                if (i < result.actions.length - 1) {\n                  const nextAction = result.actions[i + 1];\n                  const isTypingAction = action.type === \"type\" || nextAction.type === \"type\";\n                  const delay2 = isTypingAction ? 500 : 200;\n                  yield new Promise((resolve2) => setTimeout(resolve2, delay2));\n                }\n              } catch (actionError) {\n                logger({\n                  category: \"agent\",\n                  message: `Error executing action ${action.type}: ${actionError}`,\n                  level: 0\n                });\n                hasError = true;\n              }\n            }\n          }\n          if (result.functionCalls.length > 0 || hasError) {\n            const computerUseFunctionCalls = result.functionCalls.filter(\n              (fc) => !isCustomTool(fc, this.tools)\n            );\n            if (computerUseFunctionCalls.length > 0) {\n              try {\n                logger({\n                  category: \"agent\",\n                  message: `Taking screenshot after executing ${result.actions.length} actions${hasError ? \" (with errors)\" : \"\"}`,\n                  level: 2\n                });\n                const screenshot = yield this.captureScreenshot();\n                const base64Data = screenshot.replace(\n                  /^data:image\\/png;base64,/,\n                  \"\"\n                );\n                for (const functionCall of computerUseFunctionCalls) {\n                  const functionResponsePart = {\n                    functionResponse: {\n                      name: functionCall.name,\n                      response: __spreadValues({\n                        url: this.currentUrl || \"\"\n                      }, ((_b = functionCall.args) == null ? void 0 : _b.safety_decision) ? {\n                        safety_acknowledgement: \"true\"\n                      } : {}),\n                      parts: [\n                        {\n                          inlineData: {\n                            mimeType: \"image/png\",\n                            data: base64Data\n                          }\n                        }\n                      ]\n                    }\n                  };\n                  functionResponses.push(functionResponsePart);\n                }\n              } catch (error) {\n                logger({\n                  category: \"agent\",\n                  message: `Error capturing screenshot: ${error}`,\n                  level: 0\n                });\n              }\n            }\n          }\n          if (functionResponses.length > 0) {\n            logger({\n              category: \"agent\",\n              message: `Adding ${functionResponses.length} function responses to history`,\n              level: 2\n            });\n            this.history.push({\n              role: \"user\",\n              parts: functionResponses\n            });\n          }\n        }\n        return {\n          actions: result.actions,\n          message: result.message,\n          completed: result.completed,\n          usage: {\n            input_tokens: (usageMetadata == null ? void 0 : usageMetadata.promptTokenCount) || 0,\n            output_tokens: (usageMetadata == null ? void 0 : usageMetadata.candidatesTokenCount) || 0,\n            inference_time_ms: elapsedMs\n          }\n        };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        logger({\n          category: \"agent\",\n          message: `Error executing step: ${errorMessage}`,\n          level: 0\n        });\n        throw error;\n      }\n    });\n  }\n  /**\n   * Process the response from Google's API\n   */\n  processResponse(response, logger) {\n    return __async(this, null, function* () {\n      const actions = [];\n      let message = \"\";\n      const functionCalls = [];\n      if (!response.candidates || response.candidates.length === 0) {\n        return {\n          actions: [],\n          message: \"No candidates in response\",\n          completed: true,\n          functionCalls: []\n        };\n      }\n      const candidate = response.candidates[0];\n      logger({\n        category: \"agent\",\n        message: `Raw response from Google: ${JSON.stringify(candidate.content, null, 2)}`,\n        level: 2\n      });\n      for (const part of candidate.content.parts) {\n        if (part.text) {\n          message += part.text + \"\\n\";\n          logger({\n            category: \"agent\",\n            message: `Reasoning: ${part.text}`,\n            level: 1\n          });\n        }\n        if (part.functionCall) {\n          functionCalls.push(part.functionCall);\n          logger({\n            category: \"agent\",\n            message: `Found function call: ${part.functionCall.name} with args: ${JSON.stringify(part.functionCall.args)}`,\n            level: 2\n          });\n          const action = this.convertFunctionCallToAction(part.functionCall);\n          if (action) {\n            if (part.functionCall.name === \"type_text_at\" && action.type === \"type\") {\n              logger({\n                category: \"agent\",\n                message: `Adding action: ${JSON.stringify(action)}`,\n                level: 2\n              });\n              actions.push({\n                type: \"click\",\n                x: action.x,\n                y: action.y,\n                button: \"left\"\n              });\n              if (action.clearBeforeTyping) {\n                actions.push({\n                  type: \"keypress\",\n                  keys: [\"ControlOrMeta+A\"]\n                });\n                actions.push({\n                  type: \"keypress\",\n                  keys: [\"Backspace\"]\n                });\n              }\n              actions.push(action);\n              if (action.pressEnter) {\n                actions.push({\n                  type: \"keypress\",\n                  keys: [\"Enter\"]\n                });\n              }\n            } else {\n              actions.push(action);\n            }\n          } else {\n            logger({\n              category: \"agent\",\n              message: `Warning: Could not convert function call ${part.functionCall.name} to action`,\n              level: 1\n            });\n          }\n        }\n      }\n      logger({\n        category: \"agent\",\n        message: `Found ${functionCalls.length} function calls, converted to ${actions.length} actions`,\n        level: 2\n      });\n      const completed = functionCalls.length === 0 || candidate.finishReason && candidate.finishReason !== \"STOP\";\n      return {\n        actions,\n        message: message.trim(),\n        completed,\n        functionCalls\n      };\n    });\n  }\n  /**\n   * Convert Google function call to Stagehand action\n   */\n  convertFunctionCallToAction(functionCall) {\n    var _a, _b;\n    const { name, args } = functionCall;\n    if (!name || !args) {\n      return null;\n    }\n    switch (name) {\n      case \"open_web_browser\":\n        return {\n          type: \"open_web_browser\",\n          timestamp: Date.now()\n        };\n      case \"click_at\": {\n        const { x, y } = this.normalizeCoordinates(\n          args.x,\n          args.y\n        );\n        return {\n          type: \"click\",\n          x,\n          y,\n          button: args.button || \"left\"\n        };\n      }\n      case \"type_text_at\": {\n        const { x, y } = this.normalizeCoordinates(\n          args.x,\n          args.y\n        );\n        const pressEnter = (_a = args.press_enter) != null ? _a : false;\n        const clearBeforeTyping = (_b = args.clear_before_typing) != null ? _b : true;\n        return {\n          type: \"type\",\n          text: args.text,\n          x,\n          y,\n          pressEnter,\n          clearBeforeTyping\n        };\n      }\n      case \"key_combination\": {\n        const keys = args.keys.split(\"+\").map((key) => key.trim()).map((key) => mapKeyToPlaywright(key));\n        return {\n          type: \"keypress\",\n          keys\n        };\n      }\n      case \"scroll_document\": {\n        const direction = args.direction.toLowerCase();\n        return {\n          type: \"keypress\",\n          keys: [direction === \"up\" ? \"PageUp\" : \"PageDown\"]\n        };\n      }\n      case \"scroll_at\": {\n        const { x, y } = this.normalizeCoordinates(\n          args.x,\n          args.y\n        );\n        const direction = (args.direction || \"down\").toLowerCase();\n        const magnitude = typeof args.magnitude === \"number\" ? args.magnitude : 800;\n        let scroll_x = 0;\n        let scroll_y = 0;\n        if (direction === \"up\") {\n          scroll_y = -magnitude;\n        } else if (direction === \"down\") {\n          scroll_y = magnitude;\n        } else if (direction === \"left\") {\n          scroll_x = -magnitude;\n        } else if (direction === \"right\") {\n          scroll_x = magnitude;\n        } else {\n          scroll_y = magnitude;\n        }\n        return {\n          type: \"scroll\",\n          x,\n          y,\n          scroll_x,\n          scroll_y\n        };\n      }\n      case \"navigate\":\n        return {\n          type: \"goto\",\n          url: args.url\n        };\n      case \"go_back\":\n        return {\n          type: \"back\"\n        };\n      case \"go_forward\":\n        return {\n          type: \"forward\"\n        };\n      case \"wait_5_seconds\":\n        return {\n          type: \"wait\",\n          timeMs: 5e3\n          // Google CUA waits for 5 seconds\n        };\n      case \"hover_at\": {\n        const { x, y } = this.normalizeCoordinates(\n          args.x,\n          args.y\n        );\n        return {\n          type: \"move\",\n          x,\n          y\n        };\n      }\n      case \"search\":\n        return {\n          type: \"goto\",\n          url: \"https://www.google.com\"\n        };\n      case \"drag_and_drop\": {\n        const startPoint = this.normalizeCoordinates(\n          args.x,\n          args.y\n        );\n        const endPoint = this.normalizeCoordinates(\n          args.destination_x,\n          args.destination_y\n        );\n        return {\n          type: \"drag\",\n          path: [\n            { x: startPoint.x, y: startPoint.y },\n            { x: endPoint.x, y: endPoint.y }\n          ]\n        };\n      }\n      default:\n        if (isCustomTool(functionCall, this.tools)) {\n          return {\n            type: \"custom_tool\",\n            name,\n            arguments: args,\n            timestamp: Date.now(),\n            pageUrl: this.currentUrl\n          };\n        }\n        console.warn(`Unsupported Google CUA function: ${name}`);\n        return null;\n    }\n  }\n  /**\n   * Normalize coordinates from Google's 0-1000 range to actual viewport dimensions\n   */\n  normalizeCoordinates(x, y) {\n    x = Math.min(999, Math.max(0, x));\n    y = Math.min(999, Math.max(0, y));\n    return {\n      x: Math.floor(x / 1e3 * this.currentViewport.width),\n      y: Math.floor(y / 1e3 * this.currentViewport.height)\n    };\n  }\n  captureScreenshot(options) {\n    return __async(this, null, function* () {\n      if (options == null ? void 0 : options.currentUrl) {\n        this.currentUrl = options.currentUrl;\n      }\n      if (options == null ? void 0 : options.base64Image) {\n        return `data:image/png;base64,${options.base64Image}`;\n      }\n      if (this.screenshotProvider) {\n        try {\n          const base64Image = yield this.screenshotProvider();\n          return `data:image/png;base64,${base64Image}`;\n        } catch (error) {\n          console.error(\"Error capturing screenshot:\", error);\n          throw error;\n        }\n      }\n      throw new AgentScreenshotProviderError(\n        \"`screenshotProvider` has not been set. Please call `setScreenshotProvider()` with a valid function that returns a base64-encoded image\"\n      );\n    });\n  }\n};\n\n// lib/v3/agent/AgentProvider.ts\nvar modelToAgentProviderMap = {\n  \"computer-use-preview\": \"openai\",\n  \"computer-use-preview-2025-03-11\": \"openai\",\n  \"claude-3-7-sonnet-latest\": \"anthropic\",\n  \"claude-sonnet-4-20250514\": \"anthropic\",\n  \"claude-sonnet-4-5-20250929\": \"anthropic\",\n  \"claude-haiku-4-5-20251001\": \"anthropic\",\n  \"gemini-2.5-computer-use-preview-10-2025\": \"google\"\n};\nvar AgentProvider = class _AgentProvider {\n  /**\n   * Create a new agent provider\n   */\n  constructor(logger) {\n    this.logger = logger;\n  }\n  getClient(modelName, clientOptions, userProvidedInstructions, tools) {\n    const type = _AgentProvider.getAgentProvider(modelName);\n    this.logger({\n      category: \"agent\",\n      message: `Getting agent client for type: ${type}, model: ${modelName}`,\n      level: 2\n    });\n    try {\n      switch (type) {\n        case \"openai\":\n          return new OpenAICUAClient(\n            type,\n            modelName,\n            userProvidedInstructions,\n            clientOptions,\n            tools\n          );\n        case \"anthropic\":\n          return new AnthropicCUAClient(\n            type,\n            modelName,\n            userProvidedInstructions,\n            clientOptions,\n            tools\n          );\n        case \"google\":\n          return new GoogleCUAClient(\n            type,\n            modelName,\n            userProvidedInstructions,\n            clientOptions,\n            tools\n          );\n        default:\n          throw new UnsupportedModelProviderError(\n            [\"openai\", \"anthropic\", \"google\"],\n            \"Computer Use Agent\"\n          );\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      this.logger({\n        category: \"agent\",\n        message: `Error creating agent client: ${errorMessage}`,\n        level: 0\n      });\n      throw error;\n    }\n  }\n  static getAgentProvider(modelName) {\n    const normalized = modelName.includes(\"/\") ? modelName.split(\"/\")[1] : modelName;\n    if (normalized in modelToAgentProviderMap) {\n      return modelToAgentProviderMap[normalized];\n    }\n    throw new UnsupportedModelError(\n      Object.keys(modelToAgentProviderMap),\n      \"Computer Use Agent\"\n    );\n  }\n};\n\n// lib/v3/handlers/v3CuaAgentHandler.ts\nvar V3CuaAgentHandler = class {\n  constructor(v3, logger, options, tools) {\n    this.v3 = v3;\n    this.logger = logger;\n    this.options = options;\n    this.provider = new AgentProvider(logger);\n    const client = this.provider.getClient(\n      options.modelName,\n      options.clientOptions || {},\n      options.userProvidedInstructions,\n      tools\n    );\n    this.agentClient = client;\n    this.setupAgentClient();\n    this.agent = client;\n  }\n  setupAgentClient() {\n    this.agentClient.setScreenshotProvider(() => __async(this, null, function* () {\n      const page = yield this.v3.context.awaitActivePage();\n      const base64 = yield page.screenshot({ fullPage: false });\n      return base64.toString(\"base64\");\n    }));\n    this.agentClient.setActionHandler((action) => __async(this, null, function* () {\n      var _a, _b, _c;\n      action.pageUrl = (yield this.v3.context.awaitActivePage()).url();\n      const defaultDelay = 1e3;\n      const waitBetween = ((_a = this.options.clientOptions) == null ? void 0 : _a.waitBetweenActions) || defaultDelay;\n      try {\n        if (this.highlightCursor) {\n          try {\n            yield this.injectCursor();\n          } catch (e) {\n          }\n        }\n        yield new Promise((r) => setTimeout(r, 300));\n        yield this.executeAction(action);\n        action.timestamp = Date.now();\n        yield new Promise((r) => setTimeout(r, waitBetween));\n        try {\n          yield this.captureAndSendScreenshot();\n        } catch (e) {\n          this.logger({\n            category: \"agent\",\n            message: `Warning: Failed to take screenshot after action: ${String(\n              (_b = e == null ? void 0 : e.message) != null ? _b : e\n            )}`,\n            level: 1\n          });\n        }\n      } catch (error) {\n        const msg = (_c = error == null ? void 0 : error.message) != null ? _c : String(error);\n        this.logger({\n          category: \"agent\",\n          message: `Error executing action ${action.type}: ${msg}`,\n          level: 0\n        });\n        throw error;\n      }\n    }));\n    void this.updateClientViewport();\n    void this.updateClientUrl();\n  }\n  execute(optionsOrInstruction) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const options = typeof optionsOrInstruction === \"string\" ? { instruction: optionsOrInstruction } : optionsOrInstruction;\n      this.highlightCursor = options.highlightCursor !== false;\n      const page = yield this.v3.context.awaitActivePage();\n      const currentUrl = page.url();\n      if (!currentUrl || currentUrl === \"about:blank\") {\n        this.logger({\n          category: \"agent\",\n          message: `Page URL is empty. Navigating to https://www.google.com ...`,\n          level: 1\n        });\n        yield page.goto(\"https://www.google.com\", { waitUntil: \"load\" });\n      }\n      if (this.highlightCursor) {\n        try {\n          yield this.injectCursor();\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          this.logger({\n            category: \"agent\",\n            message: `Warning: Failed to inject cursor: ${errorMessage}. Continuing with execution.`,\n            level: 1\n          });\n        }\n      }\n      const start = Date.now();\n      const result = yield this.agent.execute({ options, logger: this.logger });\n      const inferenceTimeMs = Date.now() - start;\n      if (result.usage) {\n        this.v3.updateMetrics(\n          \"AGENT\" /* AGENT */,\n          result.usage.input_tokens,\n          result.usage.output_tokens,\n          (_a = result.usage.reasoning_tokens) != null ? _a : 0,\n          (_b = result.usage.cached_input_tokens) != null ? _b : 0,\n          inferenceTimeMs\n        );\n      }\n      return result;\n    });\n  }\n  executeAction(action) {\n    return __async(this, null, function* () {\n      var _a;\n      const page = yield this.v3.context.awaitActivePage();\n      const recording = this.v3.isAgentReplayActive();\n      switch (action.type) {\n        case \"click\": {\n          const { x, y, button = \"left\", clickCount } = action;\n          if (recording) {\n            const xpath = yield page.click(x, y, {\n              button: button != null ? button : \"left\",\n              clickCount: clickCount != null ? clickCount : 1,\n              returnXpath: true\n            });\n            const normalized = this.ensureXPath(xpath);\n            if (normalized) {\n              const stagehandAction = {\n                selector: normalized,\n                description: this.describePointerAction(\"click\", x, y),\n                method: \"click\",\n                arguments: []\n              };\n              this.recordCuaActStep(\n                action,\n                [stagehandAction],\n                stagehandAction.description\n              );\n            }\n          } else {\n            yield page.click(x, y, {\n              button: button != null ? button : \"left\",\n              clickCount: clickCount != null ? clickCount : 1\n            });\n          }\n          return { success: true };\n        }\n        case \"double_click\":\n        case \"doubleClick\": {\n          const { x, y } = action;\n          if (recording) {\n            const xpath = yield page.click(x, y, {\n              button: \"left\",\n              clickCount: 2,\n              returnXpath: true\n            });\n            const normalized = this.ensureXPath(xpath);\n            if (normalized) {\n              const stagehandAction = {\n                selector: normalized,\n                description: this.describePointerAction(\"double click\", x, y),\n                method: \"doubleClick\",\n                arguments: []\n              };\n              this.recordCuaActStep(\n                action,\n                [stagehandAction],\n                stagehandAction.description\n              );\n            }\n          } else {\n            yield page.click(x, y, {\n              button: \"left\",\n              clickCount: 2\n            });\n          }\n          return { success: true };\n        }\n        case \"tripleClick\": {\n          const { x, y } = action;\n          if (recording) {\n            const xpath = yield page.click(x, y, {\n              button: \"left\",\n              clickCount: 3,\n              returnXpath: true\n            });\n            const normalized = this.ensureXPath(xpath);\n            if (normalized) {\n              const stagehandAction = {\n                selector: normalized,\n                description: this.describePointerAction(\"triple click\", x, y),\n                method: \"tripleClick\",\n                arguments: []\n              };\n              this.recordCuaActStep(\n                action,\n                [stagehandAction],\n                stagehandAction.description\n              );\n            }\n          } else {\n            yield page.click(x, y, {\n              clickCount: 3\n            });\n          }\n          return { success: true };\n        }\n        case \"type\": {\n          const { text } = action;\n          yield page.type(String(text != null ? text : \"\"));\n          if (recording) {\n            const xpath = yield computeActiveElementXpath(page);\n            const normalized = this.ensureXPath(xpath);\n            if (normalized) {\n              const stagehandAction = {\n                selector: normalized,\n                description: this.describeTypeAction(String(text != null ? text : \"\")),\n                method: \"type\",\n                arguments: [String(text != null ? text : \"\")]\n              };\n              this.recordCuaActStep(\n                action,\n                [stagehandAction],\n                stagehandAction.description\n              );\n            }\n          }\n          return { success: true };\n        }\n        case \"keypress\": {\n          const { keys } = action;\n          const keyList = Array.isArray(keys) ? keys : [keys];\n          const stagehandActions = [];\n          for (const rawKey of keyList) {\n            const mapped = mapKeyToPlaywright(String(rawKey != null ? rawKey : \"\"));\n            yield page.keyPress(mapped);\n            if (recording) {\n              stagehandActions.push({\n                selector: \"xpath=/html\",\n                description: `press ${mapped}`,\n                method: \"press\",\n                arguments: [mapped]\n              });\n            }\n          }\n          if (recording && stagehandActions.length > 0) {\n            this.recordCuaActStep(\n              action,\n              stagehandActions,\n              stagehandActions.map((a) => a.description).filter(Boolean).join(\", \") || \"keypress\"\n            );\n          }\n          return { success: true };\n        }\n        case \"scroll\": {\n          const { x, y, scroll_x = 0, scroll_y = 0 } = action;\n          yield page.scroll(\n            x != null ? x : 0,\n            y != null ? y : 0,\n            scroll_x != null ? scroll_x : 0,\n            scroll_y != null ? scroll_y : 0\n          );\n          this.v3.recordAgentReplayStep({\n            type: \"scroll\",\n            deltaX: Number(scroll_x != null ? scroll_x : 0),\n            deltaY: Number(scroll_y != null ? scroll_y : 0),\n            anchor: typeof x === \"number\" && typeof y === \"number\" ? { x: Math.round(x), y: Math.round(y) } : void 0\n          });\n          return { success: true };\n        }\n        case \"drag\": {\n          const { path: path7 } = action;\n          if (Array.isArray(path7) && path7.length >= 2) {\n            const start = path7[0];\n            const end = path7[path7.length - 1];\n            if (recording) {\n              const xps = yield page.dragAndDrop(start.x, start.y, end.x, end.y, {\n                steps: Math.min(20, Math.max(5, path7.length)),\n                delay: 10,\n                returnXpath: true\n              });\n              const [fromXpath, toXpath] = xps || [\"\", \"\"];\n              const from = this.ensureXPath(fromXpath);\n              const to = this.ensureXPath(toXpath);\n              if (from && to) {\n                const stagehandAction = {\n                  selector: from,\n                  description: this.describeDragAction(),\n                  method: \"dragAndDrop\",\n                  arguments: [to]\n                };\n                this.recordCuaActStep(\n                  action,\n                  [stagehandAction],\n                  stagehandAction.description\n                );\n              }\n            } else {\n              yield page.dragAndDrop(start.x, start.y, end.x, end.y, {\n                steps: Math.min(20, Math.max(5, path7.length)),\n                delay: 10\n              });\n            }\n          }\n          return { success: true };\n        }\n        case \"move\": {\n          return { success: true };\n        }\n        case \"wait\": {\n          const time = (_a = action == null ? void 0 : action.timeMs) != null ? _a : 1e3;\n          yield new Promise((r) => setTimeout(r, time));\n          if (time > 0 && recording) {\n            this.v3.recordAgentReplayStep({ type: \"wait\", timeMs: Number(time) });\n          }\n          return { success: true };\n        }\n        case \"screenshot\": {\n          return { success: true };\n        }\n        case \"goto\": {\n          const { url } = action;\n          yield page.goto(String(url != null ? url : \"\"), { waitUntil: \"load\" });\n          if (recording) {\n            this.v3.recordAgentReplayStep({\n              type: \"goto\",\n              url: String(url != null ? url : \"\")\n            });\n          }\n          return { success: true };\n        }\n        case \"back\": {\n          yield page.goBack();\n          if (recording) {\n            this.v3.recordAgentReplayStep({\n              type: \"back\"\n            });\n          }\n          return { success: true };\n        }\n        case \"forward\": {\n          yield page.goForward();\n          if (recording) {\n            this.v3.recordAgentReplayStep({\n              type: \"forward\"\n            });\n          }\n          return { success: true };\n        }\n        case \"open_web_browser\": {\n          return { success: true };\n        }\n        case \"custom_tool\": {\n          return { success: true };\n        }\n        default:\n          this.logger({\n            category: \"agent\",\n            message: `Unknown action type: ${String(action.type)}`,\n            level: 1\n          });\n          return {\n            success: false,\n            error: `Unknown action ${String(action.type)}`\n          };\n      }\n    });\n  }\n  ensureXPath(value) {\n    if (typeof value !== \"string\") return null;\n    const trimmed = value.trim();\n    if (!trimmed) return null;\n    return trimmed.startsWith(\"xpath=\") ? trimmed : `xpath=${trimmed}`;\n  }\n  describePointerAction(kind, x, y) {\n    const nx = Number(x);\n    const ny = Number(y);\n    if (Number.isFinite(nx) && Number.isFinite(ny)) {\n      return `${kind} at (${Math.round(nx)}, ${Math.round(ny)})`;\n    }\n    return kind;\n  }\n  describeTypeAction(text) {\n    const snippet = text.length > 30 ? `${text.slice(0, 27)}...` : text;\n    return `type \"${snippet}\"`;\n  }\n  describeDragAction() {\n    return \"drag and drop\";\n  }\n  buildInstructionFallback(agentAction, fallback) {\n    const raw = typeof agentAction.action === \"string\" && agentAction.action.trim() || typeof agentAction.reasoning === \"string\" && agentAction.reasoning.trim();\n    return raw && raw.length > 0 ? raw : fallback;\n  }\n  recordCuaActStep(agentAction, stagehandActions, fallback) {\n    var _a;\n    if (!stagehandActions.length) return;\n    const instruction = this.buildInstructionFallback(agentAction, fallback);\n    const description = ((_a = stagehandActions[0]) == null ? void 0 : _a.description) || instruction;\n    const actions = stagehandActions.map((act2) => __spreadProps(__spreadValues({}, act2), {\n      description: act2.description || description\n    }));\n    this.v3.recordAgentReplayStep({\n      type: \"act\",\n      instruction,\n      actions,\n      actionDescription: description,\n      message: typeof agentAction.reasoning === \"string\" && agentAction.reasoning.trim().length > 0 ? agentAction.reasoning.trim() : void 0\n    });\n  }\n  updateClientViewport() {\n    return __async(this, null, function* () {\n      try {\n        const page = yield this.v3.context.awaitActivePage();\n        const { w, h } = yield page.mainFrame().evaluate(\"({ w: window.innerWidth, h: window.innerHeight })\");\n        if (w && h) this.agentClient.setViewport(w, h);\n      } catch (e) {\n      }\n    });\n  }\n  updateClientUrl() {\n    return __async(this, null, function* () {\n      try {\n        const page = yield this.v3.context.awaitActivePage();\n        const url = page.url();\n        this.agentClient.setCurrentUrl(url);\n      } catch (e) {\n      }\n    });\n  }\n  captureAndSendScreenshot() {\n    return __async(this, null, function* () {\n      var _a;\n      this.logger({\n        category: \"agent\",\n        message: \"Capturing screenshot\",\n        level: 1\n      });\n      try {\n        const page = yield this.v3.context.awaitActivePage();\n        const base64Image = yield page.screenshot({ fullPage: false });\n        const currentUrl = page.url();\n        return yield this.agentClient.captureScreenshot({\n          base64Image,\n          currentUrl\n        });\n      } catch (e) {\n        this.logger({\n          category: \"agent\",\n          message: `Error capturing screenshot: ${String((_a = e == null ? void 0 : e.message) != null ? _a : e)}`,\n          level: 0\n        });\n        return null;\n      }\n    });\n  }\n  injectCursor() {\n    return __async(this, null, function* () {\n      try {\n        const page = yield this.v3.context.awaitActivePage();\n        yield page.enableCursorOverlay();\n      } catch (e) {\n      }\n    });\n  }\n};\n\n// lib/v3/launch/browserbase.ts\nvar import_sdk2 = __toESM(require(\"@browserbasehq/sdk\"));\ninit_sdkErrors();\nfunction createBrowserbaseSession(apiKey, projectId, params, resumeSessionId) {\n  return __async(this, null, function* () {\n    var _b;\n    const bb = new import_sdk2.default({ apiKey });\n    if (resumeSessionId) {\n      const existing = yield bb.sessions.retrieve(\n        resumeSessionId\n      );\n      if (!(existing == null ? void 0 : existing.id)) {\n        throw new BrowserbaseSessionNotFoundError();\n      }\n      const ws = existing.connectUrl;\n      if (!ws) {\n        throw new StagehandInitError(\n          `Browserbase session resume missing connectUrl for ${resumeSessionId}`\n        );\n      }\n      return { ws, sessionId: resumeSessionId, bb };\n    }\n    const _a = params != null ? params : {}, {\n      projectId: overrideProjectId,\n      browserSettings,\n      userMetadata\n    } = _a, rest = __objRest(_a, [\n      \"projectId\",\n      \"browserSettings\",\n      \"userMetadata\"\n    ]);\n    const createPayload = __spreadProps(__spreadValues({\n      projectId: overrideProjectId != null ? overrideProjectId : projectId\n    }, rest), {\n      browserSettings: __spreadProps(__spreadValues({}, browserSettings != null ? browserSettings : {}), {\n        viewport: (_b = browserSettings == null ? void 0 : browserSettings.viewport) != null ? _b : { width: 1288, height: 711 }\n      }),\n      userMetadata: __spreadProps(__spreadValues({}, userMetadata != null ? userMetadata : {}), {\n        stagehand: \"true\"\n      })\n    });\n    const created = yield bb.sessions.create(createPayload);\n    if (!(created == null ? void 0 : created.connectUrl) || !(created == null ? void 0 : created.id)) {\n      throw new StagehandInitError(\n        \"Browserbase session creation returned an unexpected shape.\"\n      );\n    }\n    return { ws: created.connectUrl, sessionId: created.id, bb };\n  });\n}\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/chrome-launcher.js\nvar fs6 = __toESM(require(\"fs\"), 1);\nvar net = __toESM(require(\"net\"), 1);\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/chrome-finder.js\nvar chrome_finder_exports = {};\n__export(chrome_finder_exports, {\n  darwin: () => darwin,\n  darwinFast: () => darwinFast,\n  linux: () => linux,\n  win32: () => win32,\n  wsl: () => wsl\n});\nvar import_fs5 = __toESM(require(\"fs\"), 1);\nvar import_path5 = __toESM(require(\"path\"), 1);\nvar import_os = require(\"os\");\nvar import_child_process2 = require(\"child_process\");\nvar import_escape_string_regexp = __toESM(require_escape_string_regexp(), 1);\n\n// ../../node_modules/.pnpm/lighthouse-logger@2.0.2/node_modules/lighthouse-logger/index.js\nvar import_process = __toESM(require(\"process\"), 1);\nvar import_events = require(\"events\");\nvar import_debug = __toESM(require_src(), 1);\n\n// ../../node_modules/.pnpm/marky@1.3.0/node_modules/marky/lib/marky.es.js\nvar perf = typeof performance !== \"undefined\" && performance;\nvar nowPolyfillForNode;\n{\n  hrtime = process.hrtime;\n  getNanoSeconds = function() {\n    var hr = hrtime();\n    return hr[0] * 1e9 + hr[1];\n  };\n  loadTime = getNanoSeconds();\n  nowPolyfillForNode = function() {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  };\n}\nvar hrtime;\nvar getNanoSeconds;\nvar loadTime;\nvar now = perf && perf.now ? function() {\n  return perf.now();\n} : nowPolyfillForNode;\nfunction throwIfEmpty(name) {\n  if (!name) {\n    throw new Error(\"name must be non-empty\");\n  }\n}\nfunction insertSorted(arr, item) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = low + high >>> 1;\n    if (arr[mid].startTime < item.startTime) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  arr.splice(low, 0, item);\n}\nvar mark;\nvar stop;\nvar getEntries;\nvar clear;\nif (perf && perf.mark && perf.measure && perf.getEntriesByName && perf.getEntriesByType && perf.clearMarks && perf.clearMeasures && // In Node, we want to detect that this perf/correctness fix [1] is available, which\n// landed in Node 16.15.0, 17.6.0, and 18.0.0. However, it's not observable, and\n// we don't want to rely on fragile version checks.\n// So we can rely on this observable change [2] to add clearResourceTimings, which\n// landed a bit later (18.2.0), but is close enough for our purposes.\n// [1]: https://github.com/nodejs/node/pull/42032\n// [2]: https://github.com/nodejs/node/pull/42725\nperf.clearResourceTimings) {\n  mark = function(name) {\n    throwIfEmpty(name);\n    perf.mark(\"start \" + name);\n  };\n  stop = function(name) {\n    throwIfEmpty(name);\n    perf.mark(\"end \" + name);\n    var measure = perf.measure(name, \"start \" + name, \"end \" + name);\n    if (measure) {\n      return measure;\n    }\n    var entries = perf.getEntriesByName(name);\n    return entries[entries.length - 1];\n  };\n  getEntries = function() {\n    return perf.getEntriesByType(\"measure\");\n  };\n  clear = function() {\n    perf.clearMarks();\n    perf.clearMeasures();\n  };\n} else {\n  marks = {};\n  entries = [];\n  mark = function(name) {\n    throwIfEmpty(name);\n    var startTime = now();\n    marks[\"$\" + name] = startTime;\n  };\n  stop = function(name) {\n    throwIfEmpty(name);\n    var endTime = now();\n    var startTime = marks[\"$\" + name];\n    if (!startTime) {\n      throw new Error(\"no known mark: \" + name);\n    }\n    var entry = {\n      startTime,\n      name,\n      duration: endTime - startTime,\n      entryType: \"measure\"\n    };\n    insertSorted(entries, entry);\n    return entry;\n  };\n  getEntries = function() {\n    return entries;\n  };\n  clear = function() {\n    marks = {};\n    entries = [];\n  };\n}\nvar marks;\nvar entries;\n\n// ../../node_modules/.pnpm/lighthouse-logger@2.0.2/node_modules/lighthouse-logger/index.js\nvar isWindows = import_process.default.platform === \"win32\";\nvar isBrowser = import_process.default.browser;\nvar colors = {\n  red: isBrowser ? \"crimson\" : 1,\n  yellow: isBrowser ? \"gold\" : 3,\n  cyan: isBrowser ? \"darkturquoise\" : 6,\n  green: isBrowser ? \"forestgreen\" : 2,\n  blue: isBrowser ? \"steelblue\" : 4,\n  magenta: isBrowser ? \"palevioletred\" : 5\n};\nimport_debug.default.colors = [colors.cyan, colors.green, colors.blue, colors.magenta];\nvar Emitter = class extends import_events.EventEmitter {\n  // yarn build-types fails without this!\n  // https://github.com/microsoft/TypeScript/issues/41672#issuecomment-2303803072\n  constructor(options) {\n    super(options);\n  }\n  /**\n   * Fires off all status updates. Listen with\n   * `require('lib/log').events.addListener('status', callback)`\n   * @param {string} title\n   * @param {!Array<*>} argsArray\n   */\n  issueStatus(title, argsArray) {\n    if (title === \"status\" || title === \"statusEnd\") {\n      this.emit(title, [title, ...argsArray]);\n    }\n  }\n  /**\n   * Fires off all warnings. Listen with\n   * `require('lib/log').events.addListener('warning', callback)`\n   * @param {string} title\n   * @param {!Array<*>} argsArray\n   */\n  issueWarning(title, argsArray) {\n    this.emit(\"warning\", [title, ...argsArray]);\n  }\n};\nvar loggersByTitle = {};\nvar loggingBufferColumns = 25;\nvar level_;\nvar Log = class _Log {\n  static _logToStdErr(title, argsArray) {\n    const log = _Log.loggerfn(title);\n    log(...argsArray);\n  }\n  /**\n   * @param {string} title\n   */\n  static loggerfn(title) {\n    title = `LH:${title}`;\n    let log = loggersByTitle[title];\n    if (!log) {\n      log = (0, import_debug.default)(title);\n      loggersByTitle[title] = log;\n      if (title.endsWith(\"error\")) {\n        log.color = colors.red;\n      } else if (title.endsWith(\"warn\")) {\n        log.color = colors.yellow;\n      }\n    }\n    return log;\n  }\n  /**\n   * @param {string} level\n   */\n  static setLevel(level) {\n    level_ = level;\n    switch (level) {\n      case \"silent\":\n        import_debug.default.enable(\"-LH:*\");\n        break;\n      case \"verbose\":\n        import_debug.default.enable(\"LH:*\");\n        break;\n      case \"warn\":\n        import_debug.default.enable(\"-LH:*, LH:*:warn, LH:*:error\");\n        break;\n      case \"error\":\n        import_debug.default.enable(\"-LH:*, LH:*:error\");\n        break;\n      default:\n        import_debug.default.enable(\"LH:*, -LH:*:verbose\");\n    }\n  }\n  /**\n   * A simple formatting utility for event logging.\n   * @param {string} prefix\n   * @param {!Object} data A JSON-serializable object of event data to log.\n   * @param {string=} level Optional logging level. Defaults to 'log'.\n   */\n  static formatProtocol(prefix, data, level) {\n    const columns = !import_process.default || import_process.default.browser ? Infinity : import_process.default.stdout.columns;\n    const method = data.method || \"?????\";\n    const maxLength = columns - method.length - prefix.length - loggingBufferColumns;\n    const snippet = data.params && method !== \"IO.read\" ? JSON.stringify(data.params).substr(0, maxLength) : \"\";\n    _Log._logToStdErr(`${prefix}:${level || \"\"}`, [method, snippet]);\n  }\n  /**\n   * @return {boolean}\n   */\n  static isVerbose() {\n    return level_ === \"verbose\";\n  }\n  /**\n   * @param {{msg: string, id: string, args?: any[]}} status\n   * @param {string} level\n   */\n  static time({ msg, id, args = [] }, level = \"log\") {\n    mark(id);\n    _Log[level](\"status\", msg, ...args);\n  }\n  /**\n   * @param {{msg: string, id: string, args?: any[]}} status\n   * @param {string} level\n   */\n  static timeEnd({ msg, id, args = [] }, level = \"verbose\") {\n    _Log[level](\"statusEnd\", msg, ...args);\n    stop(id);\n  }\n  /**\n   * @param {string} title\n   * @param {...any} args\n   */\n  static log(title, ...args) {\n    _Log.events.issueStatus(title, args);\n    return _Log._logToStdErr(title, args);\n  }\n  /**\n   * @param {string} title\n   * @param {...any} args\n   */\n  static warn(title, ...args) {\n    _Log.events.issueWarning(title, args);\n    return _Log._logToStdErr(`${title}:warn`, args);\n  }\n  /**\n   * @param {string} title\n   * @param {...any} args\n   */\n  static error(title, ...args) {\n    return _Log._logToStdErr(`${title}:error`, args);\n  }\n  /**\n   * @param {string} title\n   * @param {...any} args\n   */\n  static verbose(title, ...args) {\n    _Log.events.issueStatus(title, args);\n    return _Log._logToStdErr(`${title}:verbose`, args);\n  }\n  /**\n   * Add surrounding escape sequences to turn a string green when logged.\n   * @param {string} str\n   * @return {string}\n   */\n  static greenify(str) {\n    return `${_Log.green}${str}${_Log.reset}`;\n  }\n  /**\n   * Add surrounding escape sequences to turn a string red when logged.\n   * @param {string} str\n   * @return {string}\n   */\n  static redify(str) {\n    return `${_Log.red}${str}${_Log.reset}`;\n  }\n  static get green() {\n    return \"\\x1B[32m\";\n  }\n  static get red() {\n    return \"\\x1B[31m\";\n  }\n  static get yellow() {\n    return \"\\x1B[33m\";\n  }\n  static get purple() {\n    return \"\\x1B[95m\";\n  }\n  static get reset() {\n    return \"\\x1B[0m\";\n  }\n  static get bold() {\n    return \"\\x1B[1m\";\n  }\n  static get dim() {\n    return \"\\x1B[2m\";\n  }\n  static get tick() {\n    return isWindows ? \"\\u221A\" : \"\\u2713\";\n  }\n  static get cross() {\n    return isWindows ? \"\\xD7\" : \"\\u2718\";\n  }\n  static get whiteSmallSquare() {\n    return isWindows ? \"\\u0387\" : \"\\u25AB\";\n  }\n  static get heavyHorizontal() {\n    return isWindows ? \"\\u2500\" : \"\\u2501\";\n  }\n  static get heavyVertical() {\n    return isWindows ? \"\\u2502 \" : \"\\u2503 \";\n  }\n  static get heavyUpAndRight() {\n    return isWindows ? \"\\u2514\" : \"\\u2517\";\n  }\n  static get heavyVerticalAndRight() {\n    return isWindows ? \"\\u251C\" : \"\\u2523\";\n  }\n  static get heavyDownAndHorizontal() {\n    return isWindows ? \"\\u252C\" : \"\\u2533\";\n  }\n  static get doubleLightHorizontal() {\n    return \"\\u2500\\u2500\";\n  }\n};\nLog.events = new Emitter();\nLog.takeTimeEntries = () => {\n  const entries = getEntries();\n  clear();\n  return entries;\n};\nLog.getTimeEntries = () => getEntries();\nvar lighthouse_logger_default = Log;\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/utils.js\nvar import_path4 = require(\"path\");\nvar import_child_process = __toESM(require(\"child_process\"), 1);\nvar import_fs4 = require(\"fs\");\nvar import_is_wsl = __toESM(require_is_wsl(), 1);\nfunction defaults(val, def) {\n  return typeof val === \"undefined\" ? def : val;\n}\nfunction delay(time) {\n  return __async(this, null, function* () {\n    return new Promise((resolve2) => setTimeout(resolve2, time));\n  });\n}\nvar LauncherError = class extends Error {\n  constructor(message = \"Unexpected error\", code) {\n    super();\n    this.message = message;\n    this.code = code;\n    this.stack = new Error().stack;\n    return this;\n  }\n};\nvar ChromePathNotSetError = class extends LauncherError {\n  constructor() {\n    super(...arguments);\n    this.message = \"The CHROME_PATH environment variable must be set to a Chrome/Chromium executable no older than Chrome stable.\";\n    this.code = \"ERR_LAUNCHER_PATH_NOT_SET\";\n  }\n};\nvar InvalidUserDataDirectoryError = class extends LauncherError {\n  constructor() {\n    super(...arguments);\n    this.message = \"userDataDir must be false or a path.\";\n    this.code = \"ERR_LAUNCHER_INVALID_USER_DATA_DIRECTORY\";\n  }\n};\nvar UnsupportedPlatformError = class extends LauncherError {\n  constructor() {\n    super(...arguments);\n    this.message = `Platform ${getPlatform()} is not supported.`;\n    this.code = \"ERR_LAUNCHER_UNSUPPORTED_PLATFORM\";\n  }\n};\nvar ChromeNotInstalledError = class extends LauncherError {\n  constructor() {\n    super(...arguments);\n    this.message = \"No Chrome installations found.\";\n    this.code = \"ERR_LAUNCHER_NOT_INSTALLED\";\n  }\n};\nfunction getPlatform() {\n  return import_is_wsl.default ? \"wsl\" : process.platform;\n}\nfunction makeTmpDir() {\n  switch (getPlatform()) {\n    case \"darwin\":\n    case \"linux\":\n      return makeUnixTmpDir();\n    case \"wsl\":\n      process.env.TEMP = getWSLLocalAppDataPath(`${process.env.PATH}`);\n    case \"win32\":\n      return makeWin32TmpDir();\n    default:\n      throw new UnsupportedPlatformError();\n  }\n}\nfunction toWinDirFormat(dir = \"\") {\n  const results = /\\/mnt\\/([a-z])\\//.exec(dir);\n  if (!results) {\n    return dir;\n  }\n  const driveLetter = results[1];\n  return dir.replace(`/mnt/${driveLetter}/`, `${driveLetter.toUpperCase()}:\\\\`).replace(/\\//g, \"\\\\\");\n}\nfunction toWin32Path(dir = \"\") {\n  if (/[a-z]:\\\\/iu.test(dir)) {\n    return dir;\n  }\n  try {\n    return import_child_process.default.execFileSync(\"wslpath\", [\"-w\", dir]).toString().trim();\n  } catch (e) {\n    return toWinDirFormat(dir);\n  }\n}\nfunction toWSLPath(dir, fallback) {\n  try {\n    return import_child_process.default.execFileSync(\"wslpath\", [\"-u\", dir]).toString().trim();\n  } catch (e) {\n    return fallback;\n  }\n}\nfunction getLocalAppDataPath(path7) {\n  const userRegExp = /\\/mnt\\/([a-z])\\/Users\\/([^\\/:]+)\\/AppData\\//;\n  const results = userRegExp.exec(path7) || [];\n  return `/mnt/${results[1]}/Users/${results[2]}/AppData/Local`;\n}\nfunction getWSLLocalAppDataPath(path7) {\n  const userRegExp = /\\/([a-z])\\/Users\\/([^\\/:]+)\\/AppData\\//;\n  const results = userRegExp.exec(path7) || [];\n  return toWSLPath(`${results[1]}:\\\\Users\\\\${results[2]}\\\\AppData\\\\Local`, getLocalAppDataPath(path7));\n}\nfunction makeUnixTmpDir() {\n  return import_child_process.default.execSync(\"mktemp -d -t lighthouse.XXXXXXX\").toString().trim();\n}\nfunction makeWin32TmpDir() {\n  const winTmpPath = process.env.TEMP || process.env.TMP || (process.env.SystemRoot || process.env.windir) + \"\\\\temp\";\n  const randomNumber = Math.floor(Math.random() * 9e7 + 1e7);\n  const tmpdir2 = (0, import_path4.join)(winTmpPath, \"lighthouse.\" + randomNumber);\n  (0, import_fs4.mkdirSync)(tmpdir2, { recursive: true });\n  return tmpdir2;\n}\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/chrome-finder.js\nvar newLineRegex = /\\r?\\n/;\nfunction darwinFast() {\n  const priorityOptions = [\n    process.env.CHROME_PATH,\n    process.env.LIGHTHOUSE_CHROMIUM_PATH,\n    \"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary\",\n    \"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome\"\n  ];\n  for (const chromePath of priorityOptions) {\n    if (chromePath && canAccess(chromePath))\n      return chromePath;\n  }\n  return darwin()[0];\n}\nfunction darwin() {\n  const suffixes = [\"/Contents/MacOS/Google Chrome Canary\", \"/Contents/MacOS/Google Chrome\"];\n  const LSREGISTER = \"/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister\";\n  const installations = [];\n  const customChromePath = resolveChromePath();\n  if (customChromePath) {\n    installations.push(customChromePath);\n  }\n  (0, import_child_process2.execSync)(`${LSREGISTER} -dump | grep -i 'google chrome\\\\( canary\\\\)\\\\?\\\\.app' | awk '{$1=\"\"; print $0}'`).toString().split(newLineRegex).forEach((inst) => {\n    suffixes.forEach((suffix) => {\n      const execPath = import_path5.default.join(inst.substring(0, inst.indexOf(\".app\") + 4).trim(), suffix);\n      if (canAccess(execPath) && installations.indexOf(execPath) === -1) {\n        installations.push(execPath);\n      }\n    });\n  });\n  const home = (0, import_escape_string_regexp.default)(process.env.HOME || (0, import_os.homedir)());\n  const priorities = [\n    { regex: new RegExp(`^${home}/Applications/.*Chrome\\\\.app`), weight: 50 },\n    { regex: new RegExp(`^${home}/Applications/.*Chrome Canary\\\\.app`), weight: 51 },\n    { regex: /^\\/Applications\\/.*Chrome.app/, weight: 100 },\n    { regex: /^\\/Applications\\/.*Chrome Canary.app/, weight: 101 },\n    { regex: /^\\/Volumes\\/.*Chrome.app/, weight: -2 },\n    { regex: /^\\/Volumes\\/.*Chrome Canary.app/, weight: -1 }\n  ];\n  if (process.env.LIGHTHOUSE_CHROMIUM_PATH) {\n    priorities.unshift({ regex: new RegExp((0, import_escape_string_regexp.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)), weight: 150 });\n  }\n  if (process.env.CHROME_PATH) {\n    priorities.unshift({ regex: new RegExp((0, import_escape_string_regexp.default)(process.env.CHROME_PATH)), weight: 151 });\n  }\n  return sort(installations, priorities);\n}\nfunction resolveChromePath() {\n  if (canAccess(process.env.CHROME_PATH)) {\n    return process.env.CHROME_PATH;\n  }\n  if (canAccess(process.env.LIGHTHOUSE_CHROMIUM_PATH)) {\n    lighthouse_logger_default.warn(\"ChromeLauncher\", \"LIGHTHOUSE_CHROMIUM_PATH is deprecated, use CHROME_PATH env variable instead.\");\n    return process.env.LIGHTHOUSE_CHROMIUM_PATH;\n  }\n  return void 0;\n}\nfunction linux() {\n  let installations = [];\n  const customChromePath = resolveChromePath();\n  if (customChromePath) {\n    installations.push(customChromePath);\n  }\n  const desktopInstallationFolders = [\n    import_path5.default.join((0, import_os.homedir)(), \".local/share/applications/\"),\n    \"/usr/share/applications/\"\n  ];\n  desktopInstallationFolders.forEach((folder) => {\n    installations = installations.concat(findChromeExecutables(folder));\n  });\n  const executables = [\n    \"google-chrome-stable\",\n    \"google-chrome\",\n    \"chromium-browser\",\n    \"chromium\"\n  ];\n  executables.forEach((executable) => {\n    try {\n      const chromePath = (0, import_child_process2.execFileSync)(\"which\", [executable], { stdio: \"pipe\" }).toString().split(newLineRegex)[0];\n      if (canAccess(chromePath)) {\n        installations.push(chromePath);\n      }\n    } catch (e) {\n    }\n  });\n  if (!installations.length) {\n    throw new ChromePathNotSetError();\n  }\n  const priorities = [\n    { regex: /chrome-wrapper$/, weight: 51 },\n    { regex: /google-chrome-stable$/, weight: 50 },\n    { regex: /google-chrome$/, weight: 49 },\n    { regex: /chromium-browser$/, weight: 48 },\n    { regex: /chromium$/, weight: 47 }\n  ];\n  if (process.env.LIGHTHOUSE_CHROMIUM_PATH) {\n    priorities.unshift({ regex: new RegExp((0, import_escape_string_regexp.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)), weight: 100 });\n  }\n  if (process.env.CHROME_PATH) {\n    priorities.unshift({ regex: new RegExp((0, import_escape_string_regexp.default)(process.env.CHROME_PATH)), weight: 101 });\n  }\n  return sort(uniq(installations.filter(Boolean)), priorities);\n}\nfunction wsl() {\n  process.env.LOCALAPPDATA = getWSLLocalAppDataPath(`${process.env.PATH}`);\n  process.env.PROGRAMFILES = toWSLPath(\"C:/Program Files\", \"/mnt/c/Program Files\");\n  process.env[\"PROGRAMFILES(X86)\"] = toWSLPath(\"C:/Program Files (x86)\", \"/mnt/c/Program Files (x86)\");\n  return win32();\n}\nfunction win32() {\n  const installations = [];\n  const suffixes = [\n    `${import_path5.default.sep}Google${import_path5.default.sep}Chrome SxS${import_path5.default.sep}Application${import_path5.default.sep}chrome.exe`,\n    `${import_path5.default.sep}Google${import_path5.default.sep}Chrome${import_path5.default.sep}Application${import_path5.default.sep}chrome.exe`\n  ];\n  const prefixes = [\n    process.env.LOCALAPPDATA,\n    process.env.PROGRAMFILES,\n    process.env[\"PROGRAMFILES(X86)\"]\n  ].filter(Boolean);\n  const customChromePath = resolveChromePath();\n  if (customChromePath) {\n    installations.push(customChromePath);\n  }\n  prefixes.forEach((prefix) => suffixes.forEach((suffix) => {\n    const chromePath = import_path5.default.join(prefix, suffix);\n    if (canAccess(chromePath)) {\n      installations.push(chromePath);\n    }\n  }));\n  return installations;\n}\nfunction sort(installations, priorities) {\n  const defaultPriority = 10;\n  return installations.map((inst) => {\n    for (const pair of priorities) {\n      if (pair.regex.test(inst)) {\n        return { path: inst, weight: pair.weight };\n      }\n    }\n    return { path: inst, weight: defaultPriority };\n  }).sort((a, b) => b.weight - a.weight).map((pair) => pair.path);\n}\nfunction canAccess(file) {\n  if (!file) {\n    return false;\n  }\n  try {\n    import_fs5.default.accessSync(file);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction uniq(arr) {\n  return Array.from(new Set(arr));\n}\nfunction findChromeExecutables(folder) {\n  const argumentsRegex = /(^[^ ]+).*/;\n  const chromeExecRegex = \"^Exec=/.*/(google-chrome|chrome|chromium)-.*\";\n  let installations = [];\n  if (canAccess(folder)) {\n    let execPaths;\n    try {\n      execPaths = (0, import_child_process2.execSync)(`grep -ER \"${chromeExecRegex}\" ${folder} | awk -F '=' '{print $2}'`, { stdio: \"pipe\" });\n    } catch (e) {\n      execPaths = (0, import_child_process2.execSync)(`grep -Er \"${chromeExecRegex}\" ${folder} | awk -F '=' '{print $2}'`, { stdio: \"pipe\" });\n    }\n    execPaths = execPaths.toString().split(newLineRegex).map((execPath) => execPath.replace(argumentsRegex, \"$1\"));\n    execPaths.forEach((execPath) => canAccess(execPath) && installations.push(execPath));\n  }\n  return installations;\n}\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/random-port.js\nvar import_http = require(\"http\");\nfunction getRandomPort() {\n  return new Promise((resolve2, reject) => {\n    const server = (0, import_http.createServer)();\n    server.listen(0);\n    server.once(\"listening\", () => {\n      const { port } = server.address();\n      server.close(() => resolve2(port));\n    });\n    server.once(\"error\", reject);\n  });\n}\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/flags.js\nvar DEFAULT_FLAGS = [\n  \"--disable-features=\" + [\n    // Disable built-in Google Translate service\n    \"Translate\",\n    // Disable the Chrome Optimization Guide background networking\n    \"OptimizationHints\",\n    //  Disable the Chrome Media Router (cast target discovery) background networking\n    \"MediaRouter\",\n    /// Avoid the startup dialog for _Do you want the application Chromium.app to accept incoming network connections?_. This is a sub-component of the MediaRouter.\n    \"DialMediaRouteProvider\",\n    // Disable the feature of: Calculate window occlusion on Windows will be used in the future to throttle and potentially unload foreground tabs in occluded windows.\n    \"CalculateNativeWinOcclusion\",\n    // Disables the Discover feed on NTP\n    \"InterestFeedContentSuggestions\",\n    // Don't update the CT lists\n    \"CertificateTransparencyComponentUpdater\",\n    // Disables autofill server communication. This feature isn't disabled via other 'parent' flags.\n    \"AutofillServerCommunication\",\n    // Disables \"Enhanced ad privacy in Chrome\" dialog (though as of 2024-03-20 it shouldn't show up if the profile has no stored country).\n    \"PrivacySandboxSettings4\"\n  ].join(\",\"),\n  // Disable all chrome extensions\n  \"--disable-extensions\",\n  // Disable some extensions that aren't affected by --disable-extensions\n  \"--disable-component-extensions-with-background-pages\",\n  // Disable various background network services, including extension updating,\n  //   safe browsing service, upgrade detector, translate, UMA\n  \"--disable-background-networking\",\n  // Don't update the browser 'components' listed at chrome://components/\n  \"--disable-component-update\",\n  // Disables client-side phishing detection.\n  \"--disable-client-side-phishing-detection\",\n  // Disable syncing to a Google account\n  \"--disable-sync\",\n  // Disable reporting to UMA, but allows for collection\n  \"--metrics-recording-only\",\n  // Disable installation of default apps on first run\n  \"--disable-default-apps\",\n  // Mute any audio\n  \"--mute-audio\",\n  // Disable the default browser check, do not prompt to set it as such\n  \"--no-default-browser-check\",\n  // Skip first run wizards\n  \"--no-first-run\",\n  // Disable backgrounding renders for occluded windows\n  \"--disable-backgrounding-occluded-windows\",\n  // Disable renderer process backgrounding\n  \"--disable-renderer-backgrounding\",\n  // Disable task throttling of timer tasks from background pages.\n  \"--disable-background-timer-throttling\",\n  // Disable the default throttling of IPC between renderer & browser processes.\n  \"--disable-ipc-flooding-protection\",\n  // Avoid potential instability of using Gnome Keyring or KDE wallet. crbug.com/571003 crbug.com/991424\n  \"--password-store=basic\",\n  // Use mock keychain on Mac to prevent blocking permissions dialogs\n  \"--use-mock-keychain\",\n  // Disable background tracing (aka slow reports & deep reports) to avoid 'Tracing already started'\n  \"--force-fieldtrials=*BackgroundTracing/default/\",\n  // Suppresses hang monitor dialogs in renderer processes. This flag may allow slow unload handlers on a page to prevent the tab from closing.\n  \"--disable-hang-monitor\",\n  // Reloading a page that came from a POST normally prompts the user.\n  \"--disable-prompt-on-repost\",\n  // Disables Domain Reliability Monitoring, which tracks whether the browser has difficulty contacting Google-owned sites and uploads reports to Google.\n  \"--disable-domain-reliability\",\n  // Disable the in-product Help (IPH) system.\n  \"--propagate-iph-for-testing\"\n];\n\n// ../../node_modules/.pnpm/chrome-launcher@1.2.0/node_modules/chrome-launcher/dist/chrome-launcher.js\nvar import_child_process3 = require(\"child_process\");\nvar isWsl2 = getPlatform() === \"wsl\";\nvar isWindows2 = getPlatform() === \"win32\";\nvar _SIGINT = \"SIGINT\";\nvar _SIGINT_EXIT_CODE = 130;\nvar _SUPPORTED_PLATFORMS = /* @__PURE__ */ new Set([\"darwin\", \"linux\", \"win32\", \"wsl\"]);\nvar instances = /* @__PURE__ */ new Set();\nvar sigintListener = () => {\n  killAll();\n  process.exit(_SIGINT_EXIT_CODE);\n};\nfunction launch() {\n  return __async(this, arguments, function* (opts = {}) {\n    opts.handleSIGINT = defaults(opts.handleSIGINT, true);\n    const instance = new Launcher(opts);\n    if (opts.handleSIGINT && instances.size === 0) {\n      process.on(_SIGINT, sigintListener);\n    }\n    instances.add(instance);\n    yield instance.launch();\n    const kill = () => {\n      instances.delete(instance);\n      if (instances.size === 0) {\n        process.removeListener(_SIGINT, sigintListener);\n      }\n      instance.kill();\n    };\n    return {\n      pid: instance.pid,\n      port: instance.port,\n      process: instance.chromeProcess,\n      remoteDebuggingPipes: instance.remoteDebuggingPipes,\n      kill\n    };\n  });\n}\nfunction killAll() {\n  let errors = [];\n  for (const instance of instances) {\n    try {\n      instance.kill();\n      instances.delete(instance);\n    } catch (err) {\n      errors.push(err);\n    }\n  }\n  return errors;\n}\nvar Launcher = class _Launcher {\n  constructor(opts = {}, moduleOverrides = {}) {\n    this.opts = opts;\n    this.tmpDirandPidFileReady = false;\n    this.remoteDebuggingPipes = null;\n    this.fs = moduleOverrides.fs || fs6;\n    this.spawn = moduleOverrides.spawn || import_child_process3.spawn;\n    lighthouse_logger_default.setLevel(defaults(this.opts.logLevel, \"silent\"));\n    this.startingUrl = defaults(this.opts.startingUrl, \"about:blank\");\n    this.chromeFlags = defaults(this.opts.chromeFlags, []);\n    this.prefs = defaults(this.opts.prefs, {});\n    this.requestedPort = defaults(this.opts.port, 0);\n    this.portStrictMode = opts.portStrictMode;\n    this.chromePath = this.opts.chromePath;\n    this.ignoreDefaultFlags = defaults(this.opts.ignoreDefaultFlags, false);\n    this.connectionPollInterval = defaults(this.opts.connectionPollInterval, 500);\n    this.maxConnectionRetries = defaults(this.opts.maxConnectionRetries, 50);\n    this.envVars = defaults(opts.envVars, Object.assign({}, process.env));\n    if (typeof this.opts.userDataDir === \"boolean\") {\n      if (!this.opts.userDataDir) {\n        this.useDefaultProfile = true;\n        this.userDataDir = void 0;\n      } else {\n        throw new InvalidUserDataDirectoryError();\n      }\n    } else {\n      this.useDefaultProfile = false;\n      this.userDataDir = this.opts.userDataDir;\n    }\n    this.useRemoteDebuggingPipe = this.chromeFlags.some((f) => f.startsWith(\"--remote-debugging-pipe\"));\n  }\n  get flags() {\n    const flags = this.ignoreDefaultFlags ? [] : DEFAULT_FLAGS.slice();\n    if (this.port) {\n      flags.push(`--remote-debugging-port=${this.port}`);\n    }\n    if (!this.ignoreDefaultFlags && getPlatform() === \"linux\") {\n      flags.push(\"--disable-setuid-sandbox\");\n    }\n    if (!this.useDefaultProfile) {\n      flags.push(`--user-data-dir=${isWsl2 ? toWin32Path(this.userDataDir) : this.userDataDir}`);\n    }\n    if (process.env.HEADLESS)\n      flags.push(\"--headless\");\n    flags.push(...this.chromeFlags);\n    flags.push(this.startingUrl);\n    return flags;\n  }\n  static defaultFlags() {\n    return DEFAULT_FLAGS.slice();\n  }\n  /** Returns the highest priority chrome installation. */\n  static getFirstInstallation() {\n    if (getPlatform() === \"darwin\")\n      return darwinFast();\n    return chrome_finder_exports[getPlatform()]()[0];\n  }\n  /** Returns all available chrome installations in decreasing priority order. */\n  static getInstallations() {\n    return chrome_finder_exports[getPlatform()]();\n  }\n  // Wrapper function to enable easy testing.\n  makeTmpDir() {\n    return makeTmpDir();\n  }\n  prepare() {\n    const platform = getPlatform();\n    if (!_SUPPORTED_PLATFORMS.has(platform)) {\n      throw new UnsupportedPlatformError();\n    }\n    this.userDataDir = this.userDataDir || this.makeTmpDir();\n    this.outFile = this.fs.openSync(`${this.userDataDir}/chrome-out.log`, \"a\");\n    this.errFile = this.fs.openSync(`${this.userDataDir}/chrome-err.log`, \"a\");\n    this.setBrowserPrefs();\n    this.pidFile = `${this.userDataDir}/chrome.pid`;\n    lighthouse_logger_default.verbose(\"ChromeLauncher\", `created ${this.userDataDir}`);\n    this.tmpDirandPidFileReady = true;\n  }\n  setBrowserPrefs() {\n    if (Object.keys(this.prefs).length === 0) {\n      return;\n    }\n    const profileDir = `${this.userDataDir}/Default`;\n    if (!this.fs.existsSync(profileDir)) {\n      this.fs.mkdirSync(profileDir, { recursive: true });\n    }\n    const preferenceFile = `${profileDir}/Preferences`;\n    try {\n      if (this.fs.existsSync(preferenceFile)) {\n        const file = this.fs.readFileSync(preferenceFile, \"utf-8\");\n        const content = JSON.parse(file);\n        this.fs.writeFileSync(preferenceFile, JSON.stringify(__spreadValues(__spreadValues({}, content), this.prefs)), \"utf-8\");\n      } else {\n        this.fs.writeFileSync(preferenceFile, JSON.stringify(__spreadValues({}, this.prefs)), \"utf-8\");\n      }\n    } catch (err) {\n      lighthouse_logger_default.log(\"ChromeLauncher\", `Failed to set browser prefs: ${err.message}`);\n    }\n  }\n  launch() {\n    return __async(this, null, function* () {\n      if (this.requestedPort !== 0) {\n        this.port = this.requestedPort;\n        try {\n          yield this.isDebuggerReady();\n          lighthouse_logger_default.log(\"ChromeLauncher\", `Found existing Chrome already running using port ${this.port}, using that.`);\n          return;\n        } catch (err) {\n          if (this.portStrictMode) {\n            throw new Error(`found no Chrome at port ${this.requestedPort}`);\n          }\n          lighthouse_logger_default.log(\"ChromeLauncher\", `No debugging port found on port ${this.port}, launching a new Chrome.`);\n        }\n      }\n      if (this.chromePath === void 0) {\n        const installation = _Launcher.getFirstInstallation();\n        if (!installation) {\n          throw new ChromeNotInstalledError();\n        }\n        this.chromePath = installation;\n      }\n      if (!this.tmpDirandPidFileReady) {\n        this.prepare();\n      }\n      this.pid = yield this.spawnProcess(this.chromePath);\n      return Promise.resolve();\n    });\n  }\n  spawnProcess(execPath) {\n    return __async(this, null, function* () {\n      const spawnPromise = (() => __async(this, null, function* () {\n        if (this.chromeProcess) {\n          lighthouse_logger_default.log(\"ChromeLauncher\", `Chrome already running with pid ${this.chromeProcess.pid}.`);\n          return this.chromeProcess.pid;\n        }\n        if (this.requestedPort === 0) {\n          if (this.useRemoteDebuggingPipe) {\n            this.port = 0;\n          } else {\n            this.port = yield getRandomPort();\n          }\n        }\n        lighthouse_logger_default.verbose(\"ChromeLauncher\", `Launching with command:\n\"${execPath}\" ${this.flags.join(\" \")}`);\n        this.chromeProcess = this.spawn(execPath, this.flags, {\n          // On non-windows platforms, `detached: true` makes child process a leader of a new\n          // process group, making it possible to kill child process tree with `.kill(-pid)` command.\n          // @see https://nodejs.org/api/child_process.html#child_process_options_detached\n          detached: process.platform !== \"win32\",\n          stdio: this.useRemoteDebuggingPipe ? [\"ignore\", this.outFile, this.errFile, \"pipe\", \"pipe\"] : [\"ignore\", this.outFile, this.errFile],\n          env: this.envVars\n        });\n        if (this.chromeProcess.pid) {\n          this.fs.writeFileSync(this.pidFile, this.chromeProcess.pid.toString());\n        }\n        if (this.useRemoteDebuggingPipe) {\n          this.remoteDebuggingPipes = {\n            incoming: this.chromeProcess.stdio[4],\n            outgoing: this.chromeProcess.stdio[3]\n          };\n        }\n        lighthouse_logger_default.verbose(\"ChromeLauncher\", `Chrome running with pid ${this.chromeProcess.pid} on port ${this.port}.`);\n        return this.chromeProcess.pid;\n      }))();\n      const pid = yield spawnPromise;\n      if (this.port !== 0) {\n        yield this.waitUntilReady();\n      }\n      return pid;\n    });\n  }\n  cleanup(client) {\n    if (client) {\n      client.removeAllListeners();\n      client.end();\n      client.destroy();\n      client.unref();\n    }\n  }\n  // resolves if ready, rejects otherwise\n  isDebuggerReady() {\n    return new Promise((resolve2, reject) => {\n      const client = net.createConnection(this.port, \"127.0.0.1\");\n      client.once(\"error\", (err) => {\n        this.cleanup(client);\n        reject(err);\n      });\n      client.once(\"connect\", () => {\n        this.cleanup(client);\n        resolve2();\n      });\n    });\n  }\n  // resolves when debugger is ready, rejects after 10 polls\n  waitUntilReady() {\n    const launcher = this;\n    return new Promise((resolve2, reject) => {\n      let retries = 0;\n      let waitStatus = \"Waiting for browser.\";\n      const poll = () => {\n        if (retries === 0) {\n          lighthouse_logger_default.log(\"ChromeLauncher\", waitStatus);\n        }\n        retries++;\n        waitStatus += \"..\";\n        lighthouse_logger_default.log(\"ChromeLauncher\", waitStatus);\n        launcher.isDebuggerReady().then(() => {\n          lighthouse_logger_default.log(\"ChromeLauncher\", waitStatus + `${lighthouse_logger_default.greenify(lighthouse_logger_default.tick)}`);\n          resolve2();\n        }).catch((err) => {\n          if (retries > launcher.maxConnectionRetries) {\n            lighthouse_logger_default.error(\"ChromeLauncher\", err.message);\n            const stderr = this.fs.readFileSync(`${this.userDataDir}/chrome-err.log`, { encoding: \"utf-8\" });\n            lighthouse_logger_default.error(\"ChromeLauncher\", `Logging contents of ${this.userDataDir}/chrome-err.log`);\n            lighthouse_logger_default.error(\"ChromeLauncher\", stderr);\n            return reject(err);\n          }\n          delay(launcher.connectionPollInterval).then(poll);\n        });\n      };\n      poll();\n    });\n  }\n  kill() {\n    if (!this.chromeProcess) {\n      return;\n    }\n    this.chromeProcess.on(\"close\", () => {\n      delete this.chromeProcess;\n      this.destroyTmp();\n    });\n    lighthouse_logger_default.log(\"ChromeLauncher\", `Killing Chrome instance ${this.chromeProcess.pid}`);\n    try {\n      if (isWindows2) {\n        const taskkillProc = (0, import_child_process3.spawnSync)(`taskkill /pid ${this.chromeProcess.pid} /T /F`, { shell: true, encoding: \"utf-8\" });\n        const { stderr } = taskkillProc;\n        if (stderr)\n          lighthouse_logger_default.error(\"ChromeLauncher\", `taskkill stderr`, stderr);\n      } else {\n        if (this.chromeProcess.pid) {\n          process.kill(-this.chromeProcess.pid, \"SIGKILL\");\n        }\n      }\n    } catch (err) {\n      const message = `Chrome could not be killed ${err.message}`;\n      lighthouse_logger_default.warn(\"ChromeLauncher\", message);\n    }\n    this.destroyTmp();\n  }\n  destroyTmp() {\n    if (this.outFile) {\n      this.fs.closeSync(this.outFile);\n      delete this.outFile;\n    }\n    if (this.userDataDir === void 0 || this.opts.userDataDir !== void 0) {\n      return;\n    }\n    if (this.errFile) {\n      this.fs.closeSync(this.errFile);\n      delete this.errFile;\n    }\n    const rmSync = this.fs.rmSync || this.fs.rmdirSync;\n    rmSync(this.userDataDir, { recursive: true, force: true, maxRetries: 10 });\n  }\n};\n\n// lib/v3/launch/local.ts\ninit_sdkErrors();\nfunction launchLocalChrome(opts) {\n  return __async(this, null, function* () {\n    var _a, _b, _c;\n    const headless = (_a = opts.headless) != null ? _a : false;\n    const chromeFlags = [\n      headless ? \"--headless=new\" : void 0,\n      \"--remote-allow-origins=*\",\n      \"--no-first-run\",\n      \"--no-default-browser-check\",\n      \"--disable-dev-shm-usage\",\n      \"--site-per-process\",\n      opts.userDataDir ? `--user-data-dir=${opts.userDataDir}` : void 0,\n      ...(_b = opts.chromeFlags) != null ? _b : []\n    ].filter((f) => typeof f === \"string\");\n    const chrome = yield launch({\n      chromePath: opts.chromePath,\n      chromeFlags\n    });\n    const ws = yield waitForWebSocketDebuggerUrl(\n      chrome.port,\n      (_c = opts.connectTimeoutMs) != null ? _c : 15e3\n    );\n    return { ws, chrome };\n  });\n}\nfunction waitForWebSocketDebuggerUrl(port, timeoutMs) {\n  return __async(this, null, function* () {\n    const deadline = Date.now() + timeoutMs;\n    let lastErrMsg = \"\";\n    while (Date.now() < deadline) {\n      try {\n        const resp = yield fetch(`http://127.0.0.1:${port}/json/version`);\n        if (resp.ok) {\n          const json = yield resp.json();\n          const url = json.webSocketDebuggerUrl;\n          if (typeof url === \"string\") return url;\n        } else {\n          lastErrMsg = `${resp.status} ${resp.statusText}`;\n        }\n      } catch (err) {\n        lastErrMsg = err instanceof Error ? err.message : String(err);\n      }\n      yield new Promise((r) => setTimeout(r, 250));\n    }\n    throw new ConnectionTimeoutError(\n      `Timed out waiting for /json/version on port ${port}${lastErrMsg ? ` (last error: ${lastErrMsg})` : \"\"}`\n    );\n  });\n}\n\n// lib/v3/llm/LLMProvider.ts\ninit_sdkErrors();\n\n// lib/v3/llm/aisdk.ts\nvar import_ai13 = require(\"ai\");\n\n// lib/v3/llm/LLMClient.ts\nvar import_ai12 = require(\"ai\");\nvar AnnotatedScreenshotText = \"This is a screenshot of the current page state with the elements annotated on it. Each element id is annotated with a number to the top left of it. Duplicate annotations at the same location are under each other vertically.\";\nvar LLMClient = class {\n  constructor(modelName, userProvidedInstructions) {\n    this.generateObject = import_ai12.generateObject;\n    this.generateText = import_ai12.generateText;\n    this.streamText = import_ai12.streamText;\n    this.streamObject = import_ai12.streamObject;\n    this.generateImage = import_ai12.experimental_generateImage;\n    this.embed = import_ai12.embed;\n    this.embedMany = import_ai12.embedMany;\n    this.transcribe = import_ai12.experimental_transcribe;\n    this.generateSpeech = import_ai12.experimental_generateSpeech;\n    this.modelName = modelName;\n    this.userProvidedInstructions = userProvidedInstructions;\n  }\n};\n\n// lib/v3/llm/aisdk.ts\nvar AISdkClient = class extends LLMClient {\n  constructor({\n    model,\n    logger\n  }) {\n    super(model.modelId);\n    this.type = \"aisdk\";\n    this.model = model;\n    this.logger = logger;\n  }\n  getLanguageModel() {\n    return this.model;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options\n    }) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s;\n      (_a = this.logger) == null ? void 0 : _a.call(this, {\n        category: \"aisdk\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          options: {\n            value: JSON.stringify(__spreadProps(__spreadValues({}, options), {\n              image: void 0,\n              messages: options.messages.map((msg) => __spreadProps(__spreadValues({}, msg), {\n                content: Array.isArray(msg.content) ? msg.content.map(\n                  (c) => \"image_url\" in c ? __spreadProps(__spreadValues({}, c), { image_url: { url: \"[IMAGE_REDACTED]\" } }) : c\n                ) : msg.content\n              }))\n            })),\n            type: \"object\"\n          },\n          modelName: {\n            value: this.model.modelId,\n            type: \"string\"\n          }\n        }\n      });\n      const formattedMessages = options.messages.map(\n        (message) => {\n          if (Array.isArray(message.content)) {\n            if (message.role === \"system\") {\n              const systemMessage = {\n                role: \"system\",\n                content: message.content.map((c) => \"text\" in c ? c.text : \"\").join(\"\\n\")\n              };\n              return systemMessage;\n            }\n            const contentParts = message.content.map((content) => {\n              if (\"image_url\" in content) {\n                const imageContent = {\n                  type: \"image\",\n                  image: content.image_url.url\n                };\n                return imageContent;\n              } else {\n                const textContent = {\n                  type: \"text\",\n                  text: content.text\n                };\n                return textContent;\n              }\n            });\n            if (message.role === \"user\") {\n              const userMessage = {\n                role: \"user\",\n                content: contentParts\n              };\n              return userMessage;\n            } else {\n              const textOnlyParts = contentParts.map((part) => ({\n                type: \"text\",\n                text: part.type === \"image\" ? \"[Image]\" : part.text\n              }));\n              const assistantMessage = {\n                role: \"assistant\",\n                content: textOnlyParts\n              };\n              return assistantMessage;\n            }\n          }\n          return {\n            role: message.role,\n            content: message.content\n          };\n        }\n      );\n      let objectResponse;\n      const isGPT5 = this.model.modelId.includes(\"gpt-5\");\n      if (options.response_model) {\n        try {\n          objectResponse = yield (0, import_ai13.generateObject)({\n            model: this.model,\n            messages: formattedMessages,\n            schema: options.response_model.schema,\n            temperature: options.temperature,\n            providerOptions: isGPT5 ? {\n              openai: {\n                textVerbosity: \"low\",\n                // Making these the default for gpt-5 for now\n                reasoningEffort: \"minimal\"\n              }\n            } : void 0\n          });\n        } catch (err) {\n          if (import_ai13.NoObjectGeneratedError.isInstance(err)) {\n            (_g = this.logger) == null ? void 0 : _g.call(this, {\n              category: \"AISDK error\",\n              message: err.message,\n              level: 0,\n              auxiliary: {\n                cause: {\n                  value: JSON.stringify((_b = err.cause) != null ? _b : {}),\n                  type: \"object\"\n                },\n                text: {\n                  value: (_c = err.text) != null ? _c : \"\",\n                  type: \"string\"\n                },\n                response: {\n                  value: JSON.stringify((_d = err.response) != null ? _d : {}),\n                  type: \"object\"\n                },\n                usage: {\n                  value: JSON.stringify((_e = err.usage) != null ? _e : {}),\n                  type: \"object\"\n                },\n                finishReason: {\n                  value: (_f = err.finishReason) != null ? _f : \"unknown\",\n                  type: \"string\"\n                },\n                requestId: {\n                  value: options.requestId,\n                  type: \"string\"\n                }\n              }\n            });\n            throw err;\n          }\n          throw err;\n        }\n        const result2 = {\n          data: objectResponse.object,\n          usage: {\n            prompt_tokens: (_h = objectResponse.usage.inputTokens) != null ? _h : 0,\n            completion_tokens: (_i = objectResponse.usage.outputTokens) != null ? _i : 0,\n            reasoning_tokens: (_j = objectResponse.usage.reasoningTokens) != null ? _j : 0,\n            cached_input_tokens: (_k = objectResponse.usage.cachedInputTokens) != null ? _k : 0,\n            total_tokens: (_l = objectResponse.usage.totalTokens) != null ? _l : 0\n          }\n        };\n        (_m = this.logger) == null ? void 0 : _m.call(this, {\n          category: \"aisdk\",\n          message: \"response\",\n          level: 1,\n          auxiliary: {\n            response: {\n              value: JSON.stringify({\n                object: objectResponse.object,\n                usage: objectResponse.usage,\n                finishReason: objectResponse.finishReason\n                // Omit request and response properties that might contain images\n              }),\n              type: \"object\"\n            },\n            requestId: {\n              value: options.requestId,\n              type: \"string\"\n            }\n          }\n        });\n        return result2;\n      }\n      const tools = {};\n      if (options.tools && options.tools.length > 0) {\n        for (const tool12 of options.tools) {\n          tools[tool12.name] = {\n            description: tool12.description,\n            inputSchema: tool12.parameters\n          };\n        }\n      }\n      const textResponse = yield (0, import_ai13.generateText)({\n        model: this.model,\n        messages: formattedMessages,\n        tools: Object.keys(tools).length > 0 ? tools : void 0,\n        toolChoice: Object.keys(tools).length > 0 ? options.tool_choice === \"required\" ? \"required\" : options.tool_choice === \"none\" ? \"none\" : \"auto\" : void 0,\n        temperature: options.temperature\n      });\n      const transformedToolCalls = (textResponse.toolCalls || []).map(\n        (toolCall) => ({\n          id: toolCall.toolCallId || `call_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n          type: \"function\",\n          function: {\n            name: toolCall.toolName,\n            arguments: JSON.stringify(toolCall.input)\n          }\n        })\n      );\n      const result = {\n        id: `chatcmpl_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        object: \"chat.completion\",\n        created: Math.floor(Date.now() / 1e3),\n        model: this.model.modelId,\n        choices: [\n          {\n            index: 0,\n            message: {\n              role: \"assistant\",\n              content: textResponse.text || null,\n              tool_calls: transformedToolCalls\n            },\n            finish_reason: textResponse.finishReason || \"stop\"\n          }\n        ],\n        usage: {\n          prompt_tokens: (_n = textResponse.usage.inputTokens) != null ? _n : 0,\n          completion_tokens: (_o = textResponse.usage.outputTokens) != null ? _o : 0,\n          reasoning_tokens: (_p = textResponse.usage.reasoningTokens) != null ? _p : 0,\n          cached_input_tokens: (_q = textResponse.usage.cachedInputTokens) != null ? _q : 0,\n          total_tokens: (_r = textResponse.usage.totalTokens) != null ? _r : 0\n        }\n      };\n      (_s = this.logger) == null ? void 0 : _s.call(this, {\n        category: \"aisdk\",\n        message: \"response\",\n        level: 2,\n        auxiliary: {\n          response: {\n            value: JSON.stringify({\n              text: textResponse.text,\n              usage: textResponse.usage,\n              finishReason: textResponse.finishReason\n              // Omit request and response properties that might contain images\n            }),\n            type: \"object\"\n          },\n          requestId: {\n            value: options.requestId,\n            type: \"string\"\n          }\n        }\n      });\n      return result;\n    });\n  }\n};\n\n// lib/v3/llm/AnthropicClient.ts\nvar import_sdk3 = __toESM(require(\"@anthropic-ai/sdk\"));\nvar import_zod_to_json_schema3 = require(\"zod-to-json-schema\");\ninit_sdkErrors();\nvar AnthropicClient = class extends LLMClient {\n  constructor({\n    modelName,\n    clientOptions,\n    userProvidedInstructions\n  }) {\n    super(modelName);\n    this.type = \"anthropic\";\n    this.client = new import_sdk3.default(clientOptions);\n    this.modelName = modelName;\n    this.clientOptions = clientOptions;\n    this.userProvidedInstructions = userProvidedInstructions;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options,\n      retries,\n      logger\n    }) {\n      var _a, _b;\n      const optionsWithoutImage = __spreadValues({}, options);\n      delete optionsWithoutImage.image;\n      logger({\n        category: \"anthropic\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          options: {\n            value: JSON.stringify(optionsWithoutImage),\n            type: \"object\"\n          }\n        }\n      });\n      const systemMessage = options.messages.find((msg) => {\n        if (msg.role === \"system\") {\n          if (typeof msg.content === \"string\") {\n            return true;\n          } else if (Array.isArray(msg.content)) {\n            return msg.content.every((content) => content.type !== \"image_url\");\n          }\n        }\n        return false;\n      });\n      const userMessages = options.messages.filter(\n        (msg) => msg.role !== \"system\"\n      );\n      const formattedMessages = userMessages.map((msg) => {\n        if (typeof msg.content === \"string\") {\n          return {\n            role: msg.role,\n            // ensure its not checking for system types\n            content: msg.content\n          };\n        } else {\n          return {\n            role: msg.role,\n            content: msg.content.map((content) => {\n              if (\"image_url\" in content) {\n                const formattedContent = {\n                  type: \"image\",\n                  source: {\n                    type: \"base64\",\n                    media_type: \"image/jpeg\",\n                    data: content.image_url.url\n                  }\n                };\n                return formattedContent;\n              } else {\n                return { type: \"text\", text: content.text };\n              }\n            })\n          };\n        }\n      });\n      if (options.image) {\n        const screenshotMessage = {\n          role: \"user\",\n          content: [\n            {\n              type: \"image\",\n              source: {\n                type: \"base64\",\n                media_type: \"image/jpeg\",\n                data: options.image.buffer.toString(\"base64\")\n              }\n            }\n          ]\n        };\n        if (options.image.description && Array.isArray(screenshotMessage.content)) {\n          screenshotMessage.content.push({\n            type: \"text\",\n            text: options.image.description\n          });\n        }\n        formattedMessages.push(screenshotMessage);\n      }\n      let anthropicTools2 = (_a = options.tools) == null ? void 0 : _a.map((tool12) => {\n        return {\n          name: tool12.name,\n          description: tool12.description,\n          input_schema: {\n            type: \"object\",\n            properties: tool12.parameters.properties,\n            required: tool12.parameters.required\n          }\n        };\n      });\n      let toolDefinition;\n      if (options.response_model) {\n        const jsonSchema2 = (0, import_zod_to_json_schema3.zodToJsonSchema)(options.response_model.schema);\n        const { properties: schemaProperties, required: schemaRequired } = extractSchemaProperties(jsonSchema2);\n        toolDefinition = {\n          name: \"print_extracted_data\",\n          description: \"Prints the extracted data based on the provided schema.\",\n          input_schema: {\n            type: \"object\",\n            properties: schemaProperties,\n            required: schemaRequired\n          }\n        };\n      }\n      if (toolDefinition) {\n        anthropicTools2 = anthropicTools2 != null ? anthropicTools2 : [];\n        anthropicTools2.push(toolDefinition);\n      }\n      const response = yield this.client.messages.create({\n        model: this.modelName,\n        max_tokens: options.maxOutputTokens || 8192,\n        messages: formattedMessages,\n        tools: anthropicTools2,\n        system: systemMessage ? systemMessage.content : void 0,\n        temperature: options.temperature\n      });\n      logger({\n        category: \"anthropic\",\n        message: \"response\",\n        level: 2,\n        auxiliary: {\n          response: {\n            value: JSON.stringify(response),\n            type: \"object\"\n          },\n          requestId: {\n            value: options.requestId,\n            type: \"string\"\n          }\n        }\n      });\n      const usageData = {\n        prompt_tokens: response.usage.input_tokens,\n        completion_tokens: response.usage.output_tokens,\n        total_tokens: response.usage.input_tokens + response.usage.output_tokens\n      };\n      const transformedResponse = {\n        id: response.id,\n        object: \"chat.completion\",\n        created: Date.now(),\n        model: response.model,\n        choices: [\n          {\n            index: 0,\n            message: {\n              role: \"assistant\",\n              content: ((_b = response.content.find((c) => c.type === \"text\")) == null ? void 0 : _b.text) || null,\n              tool_calls: response.content.filter((c) => c.type === \"tool_use\").map((toolUse) => ({\n                id: toolUse.id,\n                type: \"function\",\n                function: {\n                  name: toolUse.name,\n                  arguments: JSON.stringify(toolUse.input)\n                }\n              }))\n            },\n            finish_reason: response.stop_reason\n          }\n        ],\n        usage: usageData\n      };\n      logger({\n        category: \"anthropic\",\n        message: \"transformed response\",\n        level: 2,\n        auxiliary: {\n          transformedResponse: {\n            value: JSON.stringify(transformedResponse),\n            type: \"object\"\n          },\n          requestId: {\n            value: options.requestId,\n            type: \"string\"\n          }\n        }\n      });\n      if (options.response_model) {\n        const toolUse = response.content.find((c) => c.type === \"tool_use\");\n        if (toolUse && \"input\" in toolUse) {\n          const result = toolUse.input;\n          const finalParsedResponse = {\n            data: result,\n            usage: usageData\n          };\n          return finalParsedResponse;\n        } else {\n          if (!retries || retries < 5) {\n            return this.createChatCompletion({\n              options,\n              logger,\n              retries: (retries != null ? retries : 0) + 1\n            });\n          }\n          logger({\n            category: \"anthropic\",\n            message: \"error creating chat completion\",\n            level: 0,\n            auxiliary: {\n              requestId: {\n                value: options.requestId,\n                type: \"string\"\n              }\n            }\n          });\n          throw new CreateChatCompletionResponseError(\n            \"No tool use with input in response\"\n          );\n        }\n      }\n      return transformedResponse;\n    });\n  }\n};\nvar extractSchemaProperties = (jsonSchema2) => {\n  var _a;\n  const schemaRoot = ((_a = jsonSchema2.definitions) == null ? void 0 : _a.MySchema) || jsonSchema2;\n  return {\n    properties: schemaRoot.properties,\n    required: schemaRoot.required\n  };\n};\n\n// lib/v3/llm/CerebrasClient.ts\nvar import_openai2 = __toESM(require(\"openai\"));\nvar import_zod_to_json_schema4 = require(\"zod-to-json-schema\");\ninit_sdkErrors();\nvar CerebrasClient = class extends LLMClient {\n  constructor({\n    modelName,\n    clientOptions,\n    userProvidedInstructions\n  }) {\n    super(modelName, userProvidedInstructions);\n    this.type = \"cerebras\";\n    this.hasVision = false;\n    this.client = new import_openai2.default(__spreadValues({\n      baseURL: \"https://api.cerebras.ai/v1\",\n      apiKey: (clientOptions == null ? void 0 : clientOptions.apiKey) || process.env.CEREBRAS_API_KEY\n    }, clientOptions));\n    this.modelName = modelName;\n    this.clientOptions = clientOptions;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options,\n      retries,\n      logger\n    }) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;\n      const optionsWithoutImage = __spreadValues({}, options);\n      delete optionsWithoutImage.image;\n      logger({\n        category: \"cerebras\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          options: {\n            value: JSON.stringify(optionsWithoutImage),\n            type: \"object\"\n          }\n        }\n      });\n      const formattedMessages = options.messages.map((msg) => {\n        const baseMessage = {\n          content: typeof msg.content === \"string\" ? msg.content : Array.isArray(msg.content) && msg.content.length > 0 && \"text\" in msg.content[0] ? msg.content[0].text : \"\"\n        };\n        if (msg.role === \"system\") {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"system\" });\n        } else if (msg.role === \"assistant\") {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"assistant\" });\n        } else {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"user\" });\n        }\n      });\n      let tools = (_a = options.tools) == null ? void 0 : _a.map((tool12) => ({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: {\n            type: \"object\",\n            properties: tool12.parameters.properties,\n            required: tool12.parameters.required\n          }\n        }\n      }));\n      if (options.response_model) {\n        const jsonSchema2 = (0, import_zod_to_json_schema4.zodToJsonSchema)(options.response_model.schema);\n        const schemaProperties = jsonSchema2.properties || {};\n        const schemaRequired = jsonSchema2.required || [];\n        const responseTool = {\n          type: \"function\",\n          function: {\n            name: \"print_extracted_data\",\n            description: \"Prints the extracted data based on the provided schema.\",\n            parameters: {\n              type: \"object\",\n              properties: schemaProperties,\n              required: schemaRequired\n            }\n          }\n        };\n        tools = tools ? [...tools, responseTool] : [responseTool];\n      }\n      try {\n        const apiResponse = yield this.client.chat.completions.create({\n          model: this.modelName.split(\"cerebras-\")[1],\n          messages: [\n            ...formattedMessages,\n            // Add explicit instruction to return JSON if we have a response model\n            ...options.response_model ? [\n              {\n                role: \"system\",\n                content: `IMPORTANT: Your response must be valid JSON that matches this schema: ${JSON.stringify(\n                  options.response_model.schema\n                )}`\n              }\n            ] : []\n          ],\n          temperature: options.temperature || 0.7,\n          max_tokens: options.maxOutputTokens,\n          tools,\n          tool_choice: options.tool_choice || \"auto\"\n        });\n        const response = {\n          id: apiResponse.id,\n          object: \"chat.completion\",\n          created: Date.now(),\n          model: this.modelName.split(\"cerebras-\")[1],\n          choices: [\n            {\n              index: 0,\n              message: {\n                role: \"assistant\",\n                content: ((_c = (_b = apiResponse.choices[0]) == null ? void 0 : _b.message) == null ? void 0 : _c.content) || null,\n                tool_calls: ((_e = (_d = apiResponse.choices[0]) == null ? void 0 : _d.message) == null ? void 0 : _e.tool_calls) || []\n              },\n              finish_reason: ((_f = apiResponse.choices[0]) == null ? void 0 : _f.finish_reason) || \"stop\"\n            }\n          ],\n          usage: {\n            prompt_tokens: ((_g = apiResponse.usage) == null ? void 0 : _g.prompt_tokens) || 0,\n            completion_tokens: ((_h = apiResponse.usage) == null ? void 0 : _h.completion_tokens) || 0,\n            total_tokens: ((_i = apiResponse.usage) == null ? void 0 : _i.total_tokens) || 0\n          }\n        };\n        logger({\n          category: \"cerebras\",\n          message: \"response\",\n          level: 2,\n          auxiliary: {\n            response: {\n              value: JSON.stringify(response),\n              type: \"object\"\n            },\n            requestId: {\n              value: options.requestId,\n              type: \"string\"\n            }\n          }\n        });\n        if (!options.response_model) {\n          return response;\n        }\n        const toolCall = (_l = (_k = (_j = response.choices[0]) == null ? void 0 : _j.message) == null ? void 0 : _k.tool_calls) == null ? void 0 : _l[0];\n        if ((_m = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _m.arguments) {\n          try {\n            const result = JSON.parse(toolCall.function.arguments);\n            const finalResponse = {\n              data: result,\n              usage: response.usage\n            };\n            return finalResponse;\n          } catch (e) {\n            logger({\n              category: \"cerebras\",\n              message: \"failed to parse tool call arguments as JSON, retrying\",\n              level: 0,\n              auxiliary: {\n                error: {\n                  value: e.message,\n                  type: \"string\"\n                }\n              }\n            });\n          }\n        }\n        const content = (_o = (_n = response.choices[0]) == null ? void 0 : _n.message) == null ? void 0 : _o.content;\n        if (content) {\n          try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);\n            if (jsonMatch) {\n              const result = JSON.parse(jsonMatch[0]);\n              const finalResponse = {\n                data: result,\n                usage: response.usage\n              };\n              return finalResponse;\n            }\n          } catch (e) {\n            logger({\n              category: \"cerebras\",\n              message: \"failed to parse content as JSON\",\n              level: 0,\n              auxiliary: {\n                error: {\n                  value: e.message,\n                  type: \"string\"\n                }\n              }\n            });\n          }\n        }\n        if (!retries || retries < 5) {\n          return this.createChatCompletion({\n            options,\n            logger,\n            retries: (retries != null ? retries : 0) + 1\n          });\n        }\n        throw new CreateChatCompletionResponseError(\"Invalid response schema\");\n      } catch (error) {\n        logger({\n          category: \"cerebras\",\n          message: \"error creating chat completion\",\n          level: 0,\n          auxiliary: {\n            error: {\n              value: error.message,\n              type: \"string\"\n            },\n            requestId: {\n              value: options.requestId,\n              type: \"string\"\n            }\n          }\n        });\n        throw error;\n      }\n    });\n  }\n};\n\n// lib/v3/llm/GoogleClient.ts\nvar import_genai4 = require(\"@google/genai\");\ninit_sdkErrors();\nvar roleMap = {\n  user: \"user\",\n  assistant: \"model\",\n  system: \"user\"\n  // Gemini API prefers system instructions either via system_instruction or at the start of 'user' content\n};\nvar safetySettings = [\n  {\n    category: import_genai4.HarmCategory.HARM_CATEGORY_HARASSMENT,\n    threshold: import_genai4.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n  },\n  {\n    category: import_genai4.HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n    threshold: import_genai4.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n  },\n  {\n    category: import_genai4.HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n    threshold: import_genai4.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n  },\n  {\n    category: import_genai4.HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n    threshold: import_genai4.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n  }\n];\nvar GoogleClient = class extends LLMClient {\n  constructor({\n    logger,\n    // Added logger based on other clients\n    modelName,\n    clientOptions\n  }) {\n    super(modelName);\n    this.type = \"google\";\n    if (!(clientOptions == null ? void 0 : clientOptions.apiKey)) {\n      clientOptions.apiKey = loadApiKeyFromEnv(\"google_legacy\", logger);\n    }\n    this.clientOptions = clientOptions;\n    this.client = new import_genai4.GoogleGenAI({ apiKey: clientOptions.apiKey });\n    this.modelName = modelName;\n    this.logger = logger;\n    this.hasVision = modelName.includes(\"vision\") || modelName.includes(\"gemini-1.5\");\n  }\n  // Helper to convert project's ChatMessage[] to Gemini's Content[]\n  formatMessages(messages, image) {\n    const contents = [];\n    let systemInstruction = null;\n    messages.forEach((msg, index) => {\n      const role = roleMap[msg.role];\n      if (!role) {\n        this.logger({\n          category: \"google\",\n          message: `WARNING: Unsupported role: ${msg.role}`,\n          level: 1\n        });\n        return;\n      }\n      if (msg.role === \"system\") {\n        if (typeof msg.content === \"string\") {\n          systemInstruction = (systemInstruction ? systemInstruction + \"\\n\\n\" : \"\") + msg.content;\n        }\n        return;\n      }\n      const parts = [];\n      if (Array.isArray(msg.content)) {\n        msg.content.forEach((partContent) => {\n          var _a;\n          if (partContent.type === \"text\") {\n            parts.push({ text: partContent.text });\n          } else if (partContent.type === \"image_url\") {\n            if (\"image_url\" in partContent && ((_a = partContent.image_url) == null ? void 0 : _a.url)) {\n              const base64Data = partContent.image_url.url.split(\",\")[1];\n              const mimeTypeMatch = partContent.image_url.url.match(\n                /^data:(image\\/\\w+);base64,/\n              );\n              if (base64Data && mimeTypeMatch) {\n                parts.push({\n                  inlineData: { mimeType: mimeTypeMatch[1], data: base64Data }\n                });\n              } else {\n                this.logger({\n                  category: \"google\",\n                  message: \"WARNING: Could not parse image data URI format\",\n                  level: 1\n                });\n              }\n            }\n          }\n        });\n      } else if (typeof msg.content === \"string\") {\n        parts.push({ text: msg.content });\n      }\n      if (image && index === messages.length - 1 && msg.role === \"user\") {\n        const imageDesc = image.description || AnnotatedScreenshotText;\n        parts.push({ text: imageDesc });\n        parts.push({\n          inlineData: {\n            mimeType: \"image/jpeg\",\n            // Assuming JPEG, adjust if needed\n            data: image.buffer.toString(\"base64\")\n          }\n        });\n      }\n      if (systemInstruction && contents.length === 0 && role === \"user\") {\n        const firstPartText = parts.find((p) => \"text\" in p);\n        if (firstPartText && \"text\" in firstPartText) {\n          firstPartText.text = `${systemInstruction}\n\n${firstPartText.text}`;\n        } else {\n          parts.unshift({ text: systemInstruction });\n        }\n        systemInstruction = null;\n      }\n      if (parts.length > 0) {\n        contents.push({ role, parts });\n      }\n    });\n    if (systemInstruction) {\n      contents.unshift({ role: \"user\", parts: [{ text: systemInstruction }] });\n    }\n    return contents;\n  }\n  // Helper to convert LLMTool[] to Gemini's Tool[]\n  formatTools(tools) {\n    if (!tools || tools.length === 0) {\n      return void 0;\n    }\n    return [\n      {\n        functionDeclarations: tools.map((tool12) => {\n          let parameters = void 0;\n          if (tool12.parameters) {\n            parameters = {\n              type: import_genai4.Type.OBJECT,\n              properties: tool12.parameters.properties,\n              required: tool12.parameters.required\n            };\n          }\n          return {\n            name: tool12.name,\n            description: tool12.description,\n            parameters\n          };\n        })\n      }\n    ];\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      // Ensure LLMResponse is compatible\n      options,\n      logger,\n      retries = 3\n    }) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n      const {\n        image,\n        requestId,\n        response_model,\n        tools,\n        temperature,\n        top_p,\n        maxOutputTokens\n      } = options;\n      const formattedMessages = this.formatMessages(options.messages, image);\n      const formattedTools = this.formatTools(tools);\n      const generationConfig = {\n        maxOutputTokens,\n        temperature,\n        topP: top_p,\n        responseMimeType: response_model ? \"application/json\" : void 0,\n        responseSchema: response_model ? toGeminiSchema(response_model.schema) : void 0\n      };\n      logger({\n        category: \"google\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          modelName: { value: this.modelName, type: \"string\" },\n          requestId: { value: requestId, type: \"string\" },\n          requestPayloadSummary: {\n            value: `Model: ${this.modelName}, Messages: ${formattedMessages.length}, Config Keys: ${Object.keys(generationConfig).join(\", \")}, Tools: ${formattedTools ? formattedTools.length : 0}, Safety Categories: ${safetySettings.map((s) => s.category).join(\", \")}`,\n            type: \"string\"\n          }\n        }\n      });\n      const requestPayload = {\n        model: this.modelName,\n        contents: formattedMessages,\n        config: __spreadProps(__spreadValues({}, generationConfig), {\n          safetySettings,\n          tools: formattedTools\n        })\n      };\n      try {\n        logger({\n          category: \"google\",\n          message: \"Full request payload\",\n          level: 2,\n          auxiliary: {\n            requestId: { value: requestId, type: \"string\" },\n            fullPayload: {\n              value: JSON.stringify(requestPayload),\n              type: \"object\"\n            }\n          }\n        });\n      } catch (e) {\n        logger({\n          category: \"google\",\n          message: \"Failed to stringify full request payload for logging\",\n          level: 0,\n          auxiliary: {\n            requestId: { value: requestId, type: \"string\" },\n            error: { value: e.message, type: \"string\" }\n          }\n        });\n      }\n      try {\n        const result = yield this.client.models.generateContent(requestPayload);\n        logger({\n          category: \"google\",\n          message: \"received response\",\n          level: 2,\n          auxiliary: {\n            requestId: { value: requestId, type: \"string\" },\n            response: {\n              value: JSON.stringify(result),\n              type: \"object\"\n            }\n          }\n        });\n        const finishReason = ((_b = (_a = result.candidates) == null ? void 0 : _a[0]) == null ? void 0 : _b.finishReason) || \"unknown\";\n        const toolCalls = (_c = result.functionCalls) == null ? void 0 : _c.map(\n          (fc, index) => ({\n            id: `tool_call_${requestId}_${index}`,\n            type: \"function\",\n            function: {\n              name: fc.name,\n              arguments: JSON.stringify(fc.args)\n            }\n          })\n        );\n        let content = null;\n        try {\n          content = result.text;\n        } catch (e) {\n          logger({\n            category: \"google\",\n            message: `Could not extract text content: ${e.message}`,\n            level: 1,\n            auxiliary: { requestId: { value: requestId, type: \"string\" } }\n          });\n          content = null;\n        }\n        const llmResponse = {\n          id: ((_f = (_e = (_d = result.candidates) == null ? void 0 : _d[0]) == null ? void 0 : _e.index) == null ? void 0 : _f.toString()) || requestId,\n          object: \"chat.completion\",\n          created: Math.floor(Date.now() / 1e3),\n          model: this.modelName,\n          choices: [\n            {\n              index: 0,\n              message: {\n                role: \"assistant\",\n                content,\n                tool_calls: toolCalls\n              },\n              finish_reason: finishReason\n            }\n          ],\n          usage: {\n            prompt_tokens: ((_g = result.usageMetadata) == null ? void 0 : _g.promptTokenCount) || 0,\n            completion_tokens: ((_h = result.usageMetadata) == null ? void 0 : _h.candidatesTokenCount) || 0,\n            total_tokens: ((_i = result.usageMetadata) == null ? void 0 : _i.totalTokenCount) || 0\n          }\n        };\n        if (response_model) {\n          let parsedData;\n          try {\n            const potentialJson = (content == null ? void 0 : content.trim().replace(/^```json\\n?|\\n?```$/g, \"\")) || \"{}\";\n            parsedData = JSON.parse(potentialJson);\n          } catch (e) {\n            logger({\n              category: \"google\",\n              message: `Failed to parse JSON response: ${e.message}`,\n              level: 0,\n              auxiliary: {\n                content: { value: content || \"null\", type: \"string\" }\n              }\n            });\n            if (retries > 0) {\n              return this.createChatCompletion({\n                options,\n                logger,\n                retries: retries - 1\n              });\n            }\n            throw new CreateChatCompletionResponseError(\n              `Failed to parse JSON response: ${e.message}`\n            );\n          }\n          try {\n            validateZodSchema(response_model.schema, parsedData);\n          } catch (err) {\n            logger({\n              category: \"google\",\n              message: \"Response failed Zod schema validation\",\n              level: 0\n            });\n            if (retries > 0) {\n              return this.createChatCompletion({\n                options,\n                logger,\n                retries: retries - 1\n              });\n            }\n            throw err;\n          }\n          const extractionResult = {\n            data: parsedData,\n            usage: llmResponse.usage\n          };\n          return extractionResult;\n        }\n        return llmResponse;\n      } catch (error) {\n        logger({\n          category: \"google\",\n          message: `Error during Google AI chat completion: ${error.message}`,\n          level: 0,\n          auxiliary: {\n            errorDetails: {\n              value: `Message: ${error.message}${error.stack ? \"\\nStack: \" + error.stack : \"\"}`,\n              type: \"string\"\n            },\n            requestId: { value: requestId, type: \"string\" }\n          }\n        });\n        if (retries > 0) {\n          logger({\n            category: \"google\",\n            message: `Retrying... (${retries} attempts left)`,\n            level: 1\n          });\n          yield new Promise(\n            (resolve2) => setTimeout(resolve2, 1e3 * (4 - retries))\n          );\n          return this.createChatCompletion({\n            options,\n            logger,\n            retries: retries - 1\n          });\n        }\n        if (error instanceof StagehandError) {\n          throw error;\n        }\n        throw new StagehandError(\n          `Google AI API request failed: ${error.message}`\n        );\n      }\n    });\n  }\n};\n\n// lib/v3/llm/GroqClient.ts\nvar import_openai3 = __toESM(require(\"openai\"));\nvar import_zod_to_json_schema5 = require(\"zod-to-json-schema\");\ninit_sdkErrors();\nvar GroqClient = class extends LLMClient {\n  constructor({\n    modelName,\n    clientOptions,\n    userProvidedInstructions\n  }) {\n    super(modelName, userProvidedInstructions);\n    this.type = \"groq\";\n    this.hasVision = false;\n    this.client = new import_openai3.default(__spreadValues({\n      baseURL: \"https://api.groq.com/openai/v1\",\n      apiKey: (clientOptions == null ? void 0 : clientOptions.apiKey) || process.env.GROQ_API_KEY\n    }, clientOptions));\n    this.modelName = modelName;\n    this.clientOptions = clientOptions;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options,\n      retries,\n      logger\n    }) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;\n      const optionsWithoutImage = __spreadValues({}, options);\n      delete optionsWithoutImage.image;\n      logger({\n        category: \"groq\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          options: {\n            value: JSON.stringify(optionsWithoutImage),\n            type: \"object\"\n          }\n        }\n      });\n      const formattedMessages = options.messages.map((msg) => {\n        const baseMessage = {\n          content: typeof msg.content === \"string\" ? msg.content : Array.isArray(msg.content) && msg.content.length > 0 && \"text\" in msg.content[0] ? msg.content[0].text : \"\"\n        };\n        if (msg.role === \"system\") {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"system\" });\n        } else if (msg.role === \"assistant\") {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"assistant\" });\n        } else {\n          return __spreadProps(__spreadValues({}, baseMessage), { role: \"user\" });\n        }\n      });\n      let tools = (_a = options.tools) == null ? void 0 : _a.map((tool12) => ({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: {\n            type: \"object\",\n            properties: tool12.parameters.properties,\n            required: tool12.parameters.required\n          }\n        }\n      }));\n      if (options.response_model) {\n        const jsonSchema2 = (0, import_zod_to_json_schema5.zodToJsonSchema)(options.response_model.schema);\n        const schemaProperties = jsonSchema2.properties || {};\n        const schemaRequired = jsonSchema2.required || [];\n        const responseTool = {\n          type: \"function\",\n          function: {\n            name: \"print_extracted_data\",\n            description: \"Prints the extracted data based on the provided schema.\",\n            parameters: {\n              type: \"object\",\n              properties: schemaProperties,\n              required: schemaRequired\n            }\n          }\n        };\n        tools = tools ? [...tools, responseTool] : [responseTool];\n      }\n      try {\n        const apiResponse = yield this.client.chat.completions.create({\n          model: this.modelName.split(\"groq-\")[1],\n          messages: [\n            ...formattedMessages,\n            // Add explicit instruction to return JSON if we have a response model\n            ...options.response_model ? [\n              {\n                role: \"system\",\n                content: `IMPORTANT: Your response must be valid JSON that matches this schema: ${JSON.stringify(\n                  options.response_model.schema\n                )}`\n              }\n            ] : []\n          ],\n          temperature: options.temperature || 0.7,\n          max_tokens: options.maxOutputTokens,\n          tools,\n          tool_choice: options.tool_choice || \"auto\"\n        });\n        const response = {\n          id: apiResponse.id,\n          object: \"chat.completion\",\n          created: Date.now(),\n          model: this.modelName.split(\"groq-\")[1],\n          choices: [\n            {\n              index: 0,\n              message: {\n                role: \"assistant\",\n                content: ((_c = (_b = apiResponse.choices[0]) == null ? void 0 : _b.message) == null ? void 0 : _c.content) || null,\n                tool_calls: ((_e = (_d = apiResponse.choices[0]) == null ? void 0 : _d.message) == null ? void 0 : _e.tool_calls) || []\n              },\n              finish_reason: ((_f = apiResponse.choices[0]) == null ? void 0 : _f.finish_reason) || \"stop\"\n            }\n          ],\n          usage: {\n            prompt_tokens: ((_g = apiResponse.usage) == null ? void 0 : _g.prompt_tokens) || 0,\n            completion_tokens: ((_h = apiResponse.usage) == null ? void 0 : _h.completion_tokens) || 0,\n            total_tokens: ((_i = apiResponse.usage) == null ? void 0 : _i.total_tokens) || 0\n          }\n        };\n        logger({\n          category: \"groq\",\n          message: \"response\",\n          level: 2,\n          auxiliary: {\n            response: {\n              value: JSON.stringify(response),\n              type: \"object\"\n            },\n            requestId: {\n              value: options.requestId,\n              type: \"string\"\n            }\n          }\n        });\n        if (!options.response_model) {\n          return response;\n        }\n        const toolCall = (_l = (_k = (_j = response.choices[0]) == null ? void 0 : _j.message) == null ? void 0 : _k.tool_calls) == null ? void 0 : _l[0];\n        if ((_m = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _m.arguments) {\n          try {\n            const result = JSON.parse(toolCall.function.arguments);\n            const finalResponse = {\n              data: result,\n              usage: response.usage\n            };\n            return finalResponse;\n          } catch (e) {\n            logger({\n              category: \"groq\",\n              message: \"failed to parse tool call arguments as JSON, retrying\",\n              level: 0,\n              auxiliary: {\n                error: {\n                  value: e.message,\n                  type: \"string\"\n                }\n              }\n            });\n          }\n        }\n        const content = (_o = (_n = response.choices[0]) == null ? void 0 : _n.message) == null ? void 0 : _o.content;\n        if (content) {\n          try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);\n            if (jsonMatch) {\n              const result = JSON.parse(jsonMatch[0]);\n              const finalResponse = {\n                data: result,\n                usage: response.usage\n              };\n              return finalResponse;\n            }\n          } catch (e) {\n            logger({\n              category: \"groq\",\n              message: \"failed to parse content as JSON\",\n              level: 0,\n              auxiliary: {\n                error: {\n                  value: e.message,\n                  type: \"string\"\n                }\n              }\n            });\n          }\n        }\n        if (!retries || retries < 5) {\n          return this.createChatCompletion({\n            options,\n            logger,\n            retries: (retries != null ? retries : 0) + 1\n          });\n        }\n        throw new CreateChatCompletionResponseError(\"Invalid response schema\");\n      } catch (error) {\n        logger({\n          category: \"groq\",\n          message: \"error creating chat completion\",\n          level: 0,\n          auxiliary: {\n            error: {\n              value: error.message,\n              type: \"string\"\n            },\n            requestId: {\n              value: options.requestId,\n              type: \"string\"\n            }\n          }\n        });\n        throw error;\n      }\n    });\n  }\n};\n\n// lib/v3/llm/OpenAIClient.ts\nvar import_openai4 = __toESM(require(\"openai\"));\nvar import_zod = require(\"openai/helpers/zod\");\nvar import_zod_to_json_schema6 = __toESM(require(\"zod-to-json-schema\"));\ninit_sdkErrors();\nvar OpenAIClient = class extends LLMClient {\n  constructor({\n    modelName,\n    clientOptions\n  }) {\n    super(modelName);\n    this.type = \"openai\";\n    this.clientOptions = clientOptions;\n    this.client = new import_openai4.default(clientOptions);\n    this.modelName = modelName;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options: optionsInitial,\n      logger,\n      retries = 3\n    }) {\n      var _a, _b, _e;\n      let options = optionsInitial;\n      let isToolsOverridedForO1 = false;\n      if (this.modelName.startsWith(\"o1\") || this.modelName.startsWith(\"o3\")) {\n        let {\n          tool_choice,\n          top_p,\n          frequency_penalty,\n          presence_penalty,\n          temperature\n        } = options;\n        _a = options, {\n          tool_choice,\n          top_p,\n          frequency_penalty,\n          presence_penalty,\n          temperature\n        } = _a, options = __objRest(_a, [\n          \"tool_choice\",\n          \"top_p\",\n          \"frequency_penalty\",\n          \"presence_penalty\",\n          \"temperature\"\n        ]);\n        options.messages = options.messages.map((message) => __spreadProps(__spreadValues({}, message), {\n          role: \"user\"\n        }));\n        if (options.tools && options.response_model) {\n          throw new StagehandError(\n            \"Cannot use both tool and response_model for o1 models\"\n          );\n        }\n        if (options.tools) {\n          let { tools } = options;\n          _b = options, { tools } = _b, options = __objRest(_b, [\"tools\"]);\n          isToolsOverridedForO1 = true;\n          options.messages.push({\n            role: \"user\",\n            content: `You have the following tools available to you:\n${JSON.stringify(\n              tools\n            )}\n\n          Respond with the following zod schema format to use a method: {\n            \"name\": \"<tool_name>\",\n            \"arguments\": <tool_args>\n          }\n          \n          Do not include any other text or formattings like \\`\\`\\` in your response. Just the JSON object.`\n          });\n        }\n      }\n      if (options.temperature && (this.modelName.startsWith(\"o1\") || this.modelName.startsWith(\"o3\"))) {\n        throw new StagehandError(\"Temperature is not supported for o1 models\");\n      }\n      const _c = options, { requestId } = _c, optionsWithoutImageAndRequestId = __objRest(_c, [\"requestId\"]);\n      logger({\n        category: \"openai\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          options: {\n            value: JSON.stringify(__spreadProps(__spreadValues({}, optionsWithoutImageAndRequestId), {\n              requestId\n            })),\n            type: \"object\"\n          },\n          modelName: {\n            value: this.modelName,\n            type: \"string\"\n          }\n        }\n      });\n      if (options.image) {\n        const screenshotMessage = {\n          role: \"user\",\n          content: [\n            {\n              type: \"image_url\",\n              image_url: {\n                url: `data:image/jpeg;base64,${options.image.buffer.toString(\"base64\")}`\n              }\n            },\n            ...options.image.description ? [{ type: \"text\", text: options.image.description }] : []\n          ]\n        };\n        options.messages.push(screenshotMessage);\n      }\n      let responseFormat = void 0;\n      if (options.response_model) {\n        if (this.modelName.startsWith(\"o1\") || this.modelName.startsWith(\"o3\")) {\n          try {\n            const parsedSchema = JSON.stringify(\n              (0, import_zod_to_json_schema6.default)(options.response_model.schema)\n            );\n            options.messages.push({\n              role: \"user\",\n              content: `Respond in this zod schema format:\n${parsedSchema}\n\n\n          Do not include any other text, formatting or markdown in your output. Do not include \\`\\`\\` or \\`\\`\\`json in your response. Only the JSON object itself.`\n            });\n          } catch (error) {\n            logger({\n              category: \"openai\",\n              message: \"Failed to parse response model schema\",\n              level: 0\n            });\n            if (retries > 0) {\n              return this.createChatCompletion({\n                options,\n                logger,\n                retries: retries - 1\n              });\n            }\n            throw error;\n          }\n        } else {\n          responseFormat = (0, import_zod.zodResponseFormat)(\n            options.response_model.schema,\n            options.response_model.name\n          );\n        }\n      }\n      const _d = __spreadProps(__spreadValues({}, optionsWithoutImageAndRequestId), {\n        model: this.modelName\n      }), { response_model } = _d, openAiOptions = __objRest(_d, [\"response_model\"]);\n      logger({\n        category: \"openai\",\n        message: \"creating chat completion\",\n        level: 2,\n        auxiliary: {\n          openAiOptions: {\n            value: JSON.stringify(openAiOptions),\n            type: \"object\"\n          }\n        }\n      });\n      const formattedMessages = options.messages.map((message) => {\n        if (Array.isArray(message.content)) {\n          const contentParts = message.content.map((content) => {\n            if (\"image_url\" in content) {\n              const imageContent = {\n                image_url: {\n                  url: content.image_url.url\n                },\n                type: \"image_url\"\n              };\n              return imageContent;\n            } else {\n              const textContent = {\n                text: content.text,\n                type: \"text\"\n              };\n              return textContent;\n            }\n          });\n          if (message.role === \"system\") {\n            const formattedMessage2 = __spreadProps(__spreadValues({}, message), {\n              role: \"system\",\n              content: contentParts.filter(\n                (content) => content.type === \"text\"\n              )\n            });\n            return formattedMessage2;\n          } else if (message.role === \"user\") {\n            const formattedMessage2 = __spreadProps(__spreadValues({}, message), {\n              role: \"user\",\n              content: contentParts\n            });\n            return formattedMessage2;\n          } else {\n            const formattedMessage2 = __spreadProps(__spreadValues({}, message), {\n              role: \"assistant\",\n              content: contentParts.filter(\n                (content) => content.type === \"text\"\n              )\n            });\n            return formattedMessage2;\n          }\n        }\n        const formattedMessage = {\n          role: \"user\",\n          content: message.content\n        };\n        return formattedMessage;\n      });\n      const body = __spreadProps(__spreadValues({}, openAiOptions), {\n        model: this.modelName,\n        messages: formattedMessages,\n        response_format: responseFormat,\n        stream: false,\n        tools: (_e = options.tools) == null ? void 0 : _e.map((tool12) => ({\n          function: {\n            name: tool12.name,\n            description: tool12.description,\n            parameters: tool12.parameters\n          },\n          type: \"function\"\n        }))\n      });\n      const response = yield this.client.chat.completions.create(body);\n      if (isToolsOverridedForO1) {\n        try {\n          const parsedContent = JSON.parse(response.choices[0].message.content);\n          response.choices[0].message.tool_calls = [\n            {\n              function: {\n                name: parsedContent[\"name\"],\n                arguments: JSON.stringify(parsedContent[\"arguments\"])\n              },\n              type: \"function\",\n              id: \"-1\"\n            }\n          ];\n          response.choices[0].message.content = null;\n        } catch (error) {\n          logger({\n            category: \"openai\",\n            message: \"Failed to parse tool call response\",\n            level: 0,\n            auxiliary: {\n              error: {\n                value: error.message,\n                type: \"string\"\n              },\n              content: {\n                value: response.choices[0].message.content,\n                type: \"string\"\n              }\n            }\n          });\n          if (retries > 0) {\n            return this.createChatCompletion({\n              options,\n              logger,\n              retries: retries - 1\n            });\n          }\n          throw error;\n        }\n      }\n      logger({\n        category: \"openai\",\n        message: \"response\",\n        level: 2,\n        auxiliary: {\n          response: {\n            value: JSON.stringify(response),\n            type: \"object\"\n          },\n          requestId: {\n            value: requestId,\n            type: \"string\"\n          }\n        }\n      });\n      if (options.response_model) {\n        const extractedData = response.choices[0].message.content;\n        const parsedData = JSON.parse(extractedData);\n        try {\n          validateZodSchema(options.response_model.schema, parsedData);\n        } catch (e) {\n          logger({\n            category: \"openai\",\n            message: \"Response failed Zod schema validation\",\n            level: 0\n          });\n          if (retries > 0) {\n            return this.createChatCompletion({\n              options,\n              logger,\n              retries: retries - 1\n            });\n          }\n          if (e instanceof ZodSchemaValidationError) {\n            logger({\n              category: \"openai\",\n              message: `Error during OpenAI chat completion: ${e.message}`,\n              level: 0,\n              auxiliary: {\n                errorDetails: {\n                  value: `Message: ${e.message}${e.stack ? \"\\nStack: \" + e.stack : \"\"}`,\n                  type: \"string\"\n                },\n                requestId: { value: requestId, type: \"string\" }\n              }\n            });\n            throw new CreateChatCompletionResponseError(e.message);\n          }\n          throw e;\n        }\n        return {\n          data: parsedData,\n          usage: response.usage\n        };\n      }\n      return response;\n    });\n  }\n};\n\n// ../../node_modules/.pnpm/@ai-sdk+provider-utils@3.0.12_zod@3.25.67/node_modules/@ai-sdk/provider-utils/dist/index.mjs\nvar import_provider = require(\"@ai-sdk/provider\");\nvar import_provider2 = require(\"@ai-sdk/provider\");\nvar import_provider3 = require(\"@ai-sdk/provider\");\nvar import_provider4 = require(\"@ai-sdk/provider\");\nvar import_provider5 = require(\"@ai-sdk/provider\");\nvar import_provider6 = require(\"@ai-sdk/provider\");\nvar import_provider7 = require(\"@ai-sdk/provider\");\nvar import_provider8 = require(\"@ai-sdk/provider\");\n\n// ../../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/index.js\nvar ParseError = class extends Error {\n  constructor(message, options) {\n    super(message), this.name = \"ParseError\", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;\n  }\n};\nfunction noop(_arg) {\n}\nfunction createParser(callbacks) {\n  if (typeof callbacks == \"function\")\n    throw new TypeError(\n      \"`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?\"\n    );\n  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;\n  let incompleteLine = \"\", isFirstChunk = true, id, data = \"\", eventType = \"\";\n  function feed(newChunk) {\n    const chunk = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, \"\") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);\n    for (const line of complete)\n      parseLine(line);\n    incompleteLine = incomplete, isFirstChunk = false;\n  }\n  function parseLine(line) {\n    if (line === \"\") {\n      dispatchEvent();\n      return;\n    }\n    if (line.startsWith(\":\")) {\n      onComment && onComment(line.slice(line.startsWith(\": \") ? 2 : 1));\n      return;\n    }\n    const fieldSeparatorIndex = line.indexOf(\":\");\n    if (fieldSeparatorIndex !== -1) {\n      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === \" \" ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);\n      processField(field, value, line);\n      return;\n    }\n    processField(line, \"\", line);\n  }\n  function processField(field, value, line) {\n    switch (field) {\n      case \"event\":\n        eventType = value;\n        break;\n      case \"data\":\n        data = `${data}${value}\n`;\n        break;\n      case \"id\":\n        id = value.includes(\"\\0\") ? void 0 : value;\n        break;\n      case \"retry\":\n        /^\\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(\n          new ParseError(`Invalid \\`retry\\` value: \"${value}\"`, {\n            type: \"invalid-retry\",\n            value,\n            line\n          })\n        );\n        break;\n      default:\n        onError(\n          new ParseError(\n            `Unknown field \"${field.length > 20 ? `${field.slice(0, 20)}\\u2026` : field}\"`,\n            { type: \"unknown-field\", field, value, line }\n          )\n        );\n        break;\n    }\n  }\n  function dispatchEvent() {\n    data.length > 0 && onEvent({\n      id,\n      event: eventType || void 0,\n      // If the data buffer's last character is a U+000A LINE FEED (LF) character,\n      // then remove the last character from the data buffer.\n      data: data.endsWith(`\n`) ? data.slice(0, -1) : data\n    }), id = void 0, data = \"\", eventType = \"\";\n  }\n  function reset(options = {}) {\n    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = true, id = void 0, data = \"\", eventType = \"\", incompleteLine = \"\";\n  }\n  return { feed, reset };\n}\nfunction splitLines(chunk) {\n  const lines = [];\n  let incompleteLine = \"\", searchIndex = 0;\n  for (; searchIndex < chunk.length; ) {\n    const crIndex = chunk.indexOf(\"\\r\", searchIndex), lfIndex = chunk.indexOf(`\n`, searchIndex);\n    let lineEnd = -1;\n    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {\n      incompleteLine = chunk.slice(searchIndex);\n      break;\n    } else {\n      const line = chunk.slice(searchIndex, lineEnd);\n      lines.push(line), searchIndex = lineEnd + 1, chunk[searchIndex - 1] === \"\\r\" && chunk[searchIndex] === `\n` && searchIndex++;\n    }\n  }\n  return [lines, incompleteLine];\n}\n\n// ../../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/stream.js\nvar EventSourceParserStream = class extends TransformStream {\n  constructor({ onError, onRetry, onComment } = {}) {\n    let parser;\n    super({\n      start(controller) {\n        parser = createParser({\n          onEvent: (event) => {\n            controller.enqueue(event);\n          },\n          onError(error) {\n            onError === \"terminate\" ? controller.error(error) : typeof onError == \"function\" && onError(error);\n          },\n          onRetry,\n          onComment\n        });\n      },\n      transform(chunk) {\n        parser.feed(chunk);\n      }\n    });\n  }\n};\n\n// ../../node_modules/.pnpm/@ai-sdk+provider-utils@3.0.12_zod@3.25.67/node_modules/@ai-sdk/provider-utils/dist/index.mjs\nvar import_provider9 = require(\"@ai-sdk/provider\");\nvar import_provider10 = require(\"@ai-sdk/provider\");\nvar import_provider11 = require(\"@ai-sdk/provider\");\nvar z42 = __toESM(require(\"zod/v4\"), 1);\nvar import_v315 = require(\"zod/v3\");\nvar import_v316 = require(\"zod/v3\");\nvar import_v317 = require(\"zod/v3\");\nfunction combineHeaders(...headers) {\n  return headers.reduce(\n    (combinedHeaders, currentHeaders) => __spreadValues(__spreadValues({}, combinedHeaders), currentHeaders != null ? currentHeaders : {}),\n    {}\n  );\n}\nfunction extractResponseHeaders(response) {\n  return Object.fromEntries([...response.headers]);\n}\nvar createIdGenerator = ({\n  prefix,\n  size = 16,\n  alphabet = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\n  separator = \"-\"\n} = {}) => {\n  const generator = () => {\n    const alphabetLength = alphabet.length;\n    const chars = new Array(size);\n    for (let i = 0; i < size; i++) {\n      chars[i] = alphabet[Math.random() * alphabetLength | 0];\n    }\n    return chars.join(\"\");\n  };\n  if (prefix == null) {\n    return generator;\n  }\n  if (alphabet.includes(separator)) {\n    throw new import_provider.InvalidArgumentError({\n      argument: \"separator\",\n      message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`\n    });\n  }\n  return () => `${prefix}${separator}${generator()}`;\n};\nvar generateId = createIdGenerator();\nfunction isAbortError(error) {\n  return (error instanceof Error || error instanceof DOMException) && (error.name === \"AbortError\" || error.name === \"ResponseAborted\" || // Next.js\n  error.name === \"TimeoutError\");\n}\nvar FETCH_FAILED_ERROR_MESSAGES = [\"fetch failed\", \"failed to fetch\"];\nfunction handleFetchError({\n  error,\n  url,\n  requestBodyValues\n}) {\n  if (isAbortError(error)) {\n    return error;\n  }\n  if (error instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error.message.toLowerCase())) {\n    const cause = error.cause;\n    if (cause != null) {\n      return new import_provider3.APICallError({\n        message: `Cannot connect to API: ${cause.message}`,\n        cause,\n        url,\n        requestBodyValues,\n        isRetryable: true\n        // retry when network error\n      });\n    }\n  }\n  return error;\n}\nfunction getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {\n  var _a, _b, _c;\n  if (globalThisAny.window) {\n    return `runtime/browser`;\n  }\n  if ((_a = globalThisAny.navigator) == null ? void 0 : _a.userAgent) {\n    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;\n  }\n  if ((_c = (_b = globalThisAny.process) == null ? void 0 : _b.versions) == null ? void 0 : _c.node) {\n    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;\n  }\n  if (globalThisAny.EdgeRuntime) {\n    return `runtime/vercel-edge`;\n  }\n  return \"runtime/unknown\";\n}\nfunction removeUndefinedEntries(record) {\n  return Object.fromEntries(\n    Object.entries(record).filter(([_key, value]) => value != null)\n  );\n}\nfunction withUserAgentSuffix(headers, ...userAgentSuffixParts) {\n  const cleanedHeaders = removeUndefinedEntries(\n    headers != null ? headers : {}\n  );\n  const normalizedHeaders = new Headers(cleanedHeaders);\n  const currentUserAgentHeader = normalizedHeaders.get(\"user-agent\") || \"\";\n  normalizedHeaders.set(\n    \"user-agent\",\n    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(\" \")\n  );\n  return Object.fromEntries(normalizedHeaders);\n}\nvar VERSION = true ? \"3.0.12\" : \"0.0.0-test\";\nvar DEFAULT_SCHEMA_PREFIX = \"JSON schema:\";\nvar DEFAULT_SCHEMA_SUFFIX = \"You MUST answer with a JSON object that matches the JSON schema above.\";\nvar DEFAULT_GENERIC_SUFFIX = \"You MUST answer with JSON.\";\nfunction injectJsonInstruction({\n  prompt,\n  schema,\n  schemaPrefix = schema != null ? DEFAULT_SCHEMA_PREFIX : void 0,\n  schemaSuffix = schema != null ? DEFAULT_SCHEMA_SUFFIX : DEFAULT_GENERIC_SUFFIX\n}) {\n  return [\n    prompt != null && prompt.length > 0 ? prompt : void 0,\n    prompt != null && prompt.length > 0 ? \"\" : void 0,\n    // add a newline if prompt is not null\n    schemaPrefix,\n    schema != null ? JSON.stringify(schema) : void 0,\n    schemaSuffix\n  ].filter((line) => line != null).join(\"\\n\");\n}\nfunction injectJsonInstructionIntoMessages({\n  messages,\n  schema,\n  schemaPrefix,\n  schemaSuffix\n}) {\n  var _a, _b;\n  const systemMessage = ((_a = messages[0]) == null ? void 0 : _a.role) === \"system\" ? __spreadValues({}, messages[0]) : { role: \"system\", content: \"\" };\n  systemMessage.content = injectJsonInstruction({\n    prompt: systemMessage.content,\n    schema,\n    schemaPrefix,\n    schemaSuffix\n  });\n  return [\n    systemMessage,\n    ...((_b = messages[0]) == null ? void 0 : _b.role) === \"system\" ? messages.slice(1) : messages\n  ];\n}\nfunction loadApiKey({\n  apiKey,\n  environmentVariableName,\n  apiKeyParameterName = \"apiKey\",\n  description\n}) {\n  if (typeof apiKey === \"string\") {\n    return apiKey;\n  }\n  if (apiKey != null) {\n    throw new import_provider4.LoadAPIKeyError({\n      message: `${description} API key must be a string.`\n    });\n  }\n  if (typeof process === \"undefined\") {\n    throw new import_provider4.LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`\n    });\n  }\n  apiKey = process.env[environmentVariableName];\n  if (apiKey == null) {\n    throw new import_provider4.LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`\n    });\n  }\n  if (typeof apiKey !== \"string\") {\n    throw new import_provider4.LoadAPIKeyError({\n      message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n    });\n  }\n  return apiKey;\n}\nfunction loadOptionalSetting({\n  settingValue,\n  environmentVariableName\n}) {\n  if (typeof settingValue === \"string\") {\n    return settingValue;\n  }\n  if (settingValue != null || typeof process === \"undefined\") {\n    return void 0;\n  }\n  settingValue = process.env[environmentVariableName];\n  if (settingValue == null || typeof settingValue !== \"string\") {\n    return void 0;\n  }\n  return settingValue;\n}\nfunction loadSetting({\n  settingValue,\n  environmentVariableName,\n  settingName,\n  description\n}) {\n  if (typeof settingValue === \"string\") {\n    return settingValue;\n  }\n  if (settingValue != null) {\n    throw new import_provider5.LoadSettingError({\n      message: `${description} setting must be a string.`\n    });\n  }\n  if (typeof process === \"undefined\") {\n    throw new import_provider5.LoadSettingError({\n      message: `${description} setting is missing. Pass it using the '${settingName}' parameter. Environment variables is not supported in this environment.`\n    });\n  }\n  settingValue = process.env[environmentVariableName];\n  if (settingValue == null) {\n    throw new import_provider5.LoadSettingError({\n      message: `${description} setting is missing. Pass it using the '${settingName}' parameter or the ${environmentVariableName} environment variable.`\n    });\n  }\n  if (typeof settingValue !== \"string\") {\n    throw new import_provider5.LoadSettingError({\n      message: `${description} setting must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n    });\n  }\n  return settingValue;\n}\nfunction mediaTypeToExtension(mediaType) {\n  var _a;\n  const [_type, subtype = \"\"] = mediaType.toLowerCase().split(\"/\");\n  return (_a = {\n    mpeg: \"mp3\",\n    \"x-wav\": \"wav\",\n    opus: \"ogg\",\n    mp4: \"m4a\",\n    \"x-m4a\": \"m4a\"\n  }[subtype]) != null ? _a : subtype;\n}\nvar suspectProtoRx = /\"__proto__\"\\s*:/;\nvar suspectConstructorRx = /\"constructor\"\\s*:/;\nfunction _parse(text) {\n  const obj = JSON.parse(text);\n  if (obj === null || typeof obj !== \"object\") {\n    return obj;\n  }\n  if (suspectProtoRx.test(text) === false && suspectConstructorRx.test(text) === false) {\n    return obj;\n  }\n  return filter(obj);\n}\nfunction filter(obj) {\n  let next = [obj];\n  while (next.length) {\n    const nodes = next;\n    next = [];\n    for (const node of nodes) {\n      if (Object.prototype.hasOwnProperty.call(node, \"__proto__\")) {\n        throw new SyntaxError(\"Object contains forbidden prototype property\");\n      }\n      if (Object.prototype.hasOwnProperty.call(node, \"constructor\") && Object.prototype.hasOwnProperty.call(node.constructor, \"prototype\")) {\n        throw new SyntaxError(\"Object contains forbidden prototype property\");\n      }\n      for (const key in node) {\n        const value = node[key];\n        if (value && typeof value === \"object\") {\n          next.push(value);\n        }\n      }\n    }\n  }\n  return obj;\n}\nfunction secureJsonParse(text) {\n  const { stackTraceLimit } = Error;\n  Error.stackTraceLimit = 0;\n  try {\n    return _parse(text);\n  } finally {\n    Error.stackTraceLimit = stackTraceLimit;\n  }\n}\nvar validatorSymbol = Symbol.for(\"vercel.ai.validator\");\nfunction validator(validate) {\n  return { [validatorSymbol]: true, validate };\n}\nfunction isValidator(value) {\n  return typeof value === \"object\" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && \"validate\" in value;\n}\nfunction lazyValidator(createValidator) {\n  let validator2;\n  return () => {\n    if (validator2 == null) {\n      validator2 = createValidator();\n    }\n    return validator2;\n  };\n}\nfunction asValidator(value) {\n  return isValidator(value) ? value : typeof value === \"function\" ? value() : standardSchemaValidator(value);\n}\nfunction standardSchemaValidator(standardSchema) {\n  return validator((value) => __async(null, null, function* () {\n    const result = yield standardSchema[\"~standard\"].validate(value);\n    return result.issues == null ? { success: true, value: result.value } : {\n      success: false,\n      error: new import_provider8.TypeValidationError({\n        value,\n        cause: result.issues\n      })\n    };\n  }));\n}\nfunction validateTypes(_0) {\n  return __async(this, arguments, function* ({\n    value,\n    schema\n  }) {\n    const result = yield safeValidateTypes({ value, schema });\n    if (!result.success) {\n      throw import_provider7.TypeValidationError.wrap({ value, cause: result.error });\n    }\n    return result.value;\n  });\n}\nfunction safeValidateTypes(_0) {\n  return __async(this, arguments, function* ({\n    value,\n    schema\n  }) {\n    const validator2 = asValidator(schema);\n    try {\n      if (validator2.validate == null) {\n        return { success: true, value, rawValue: value };\n      }\n      const result = yield validator2.validate(value);\n      if (result.success) {\n        return { success: true, value: result.value, rawValue: value };\n      }\n      return {\n        success: false,\n        error: import_provider7.TypeValidationError.wrap({ value, cause: result.error }),\n        rawValue: value\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: import_provider7.TypeValidationError.wrap({ value, cause: error }),\n        rawValue: value\n      };\n    }\n  });\n}\nfunction parseJSON(_0) {\n  return __async(this, arguments, function* ({\n    text,\n    schema\n  }) {\n    try {\n      const value = secureJsonParse(text);\n      if (schema == null) {\n        return value;\n      }\n      return validateTypes({ value, schema });\n    } catch (error) {\n      if (import_provider6.JSONParseError.isInstance(error) || import_provider6.TypeValidationError.isInstance(error)) {\n        throw error;\n      }\n      throw new import_provider6.JSONParseError({ text, cause: error });\n    }\n  });\n}\nfunction safeParseJSON(_0) {\n  return __async(this, arguments, function* ({\n    text,\n    schema\n  }) {\n    try {\n      const value = secureJsonParse(text);\n      if (schema == null) {\n        return { success: true, value, rawValue: value };\n      }\n      return yield safeValidateTypes({ value, schema });\n    } catch (error) {\n      return {\n        success: false,\n        error: import_provider6.JSONParseError.isInstance(error) ? error : new import_provider6.JSONParseError({ text, cause: error }),\n        rawValue: void 0\n      };\n    }\n  });\n}\nfunction isParsableJson(input) {\n  try {\n    secureJsonParse(input);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction parseJsonEventStream({\n  stream,\n  schema\n}) {\n  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(\n    new TransformStream({\n      transform(_0, _1) {\n        return __async(this, arguments, function* ({ data }, controller) {\n          if (data === \"[DONE]\") {\n            return;\n          }\n          controller.enqueue(yield safeParseJSON({ text: data, schema }));\n        });\n      }\n    })\n  );\n}\nfunction parseProviderOptions(_0) {\n  return __async(this, arguments, function* ({\n    provider,\n    providerOptions,\n    schema\n  }) {\n    if ((providerOptions == null ? void 0 : providerOptions[provider]) == null) {\n      return void 0;\n    }\n    const parsedProviderOptions = yield safeValidateTypes({\n      value: providerOptions[provider],\n      schema\n    });\n    if (!parsedProviderOptions.success) {\n      throw new import_provider9.InvalidArgumentError({\n        argument: \"providerOptions\",\n        message: `invalid ${provider} provider options`,\n        cause: parsedProviderOptions.error\n      });\n    }\n    return parsedProviderOptions.value;\n  });\n}\nvar getOriginalFetch2 = () => globalThis.fetch;\nvar postJsonToApi = (_0) => __async(null, [_0], function* ({\n  url,\n  headers,\n  body,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n}) {\n  return postToApi({\n    url,\n    headers: __spreadValues({\n      \"Content-Type\": \"application/json\"\n    }, headers),\n    body: {\n      content: JSON.stringify(body),\n      values: body\n    },\n    failedResponseHandler,\n    successfulResponseHandler,\n    abortSignal,\n    fetch: fetch2\n  });\n});\nvar postFormDataToApi = (_0) => __async(null, [_0], function* ({\n  url,\n  headers,\n  formData,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n}) {\n  return postToApi({\n    url,\n    headers,\n    body: {\n      content: formData,\n      values: Object.fromEntries(formData.entries())\n    },\n    failedResponseHandler,\n    successfulResponseHandler,\n    abortSignal,\n    fetch: fetch2\n  });\n});\nvar postToApi = (_0) => __async(null, [_0], function* ({\n  url,\n  headers = {},\n  body,\n  successfulResponseHandler,\n  failedResponseHandler,\n  abortSignal,\n  fetch: fetch2 = getOriginalFetch2()\n}) {\n  try {\n    const response = yield fetch2(url, {\n      method: \"POST\",\n      headers: withUserAgentSuffix(\n        headers,\n        `ai-sdk/provider-utils/${VERSION}`,\n        getRuntimeEnvironmentUserAgent()\n      ),\n      body: body.content,\n      signal: abortSignal\n    });\n    const responseHeaders = extractResponseHeaders(response);\n    if (!response.ok) {\n      let errorInformation;\n      try {\n        errorInformation = yield failedResponseHandler({\n          response,\n          url,\n          requestBodyValues: body.values\n        });\n      } catch (error) {\n        if (isAbortError(error) || import_provider10.APICallError.isInstance(error)) {\n          throw error;\n        }\n        throw new import_provider10.APICallError({\n          message: \"Failed to process error response\",\n          cause: error,\n          statusCode: response.status,\n          url,\n          responseHeaders,\n          requestBodyValues: body.values\n        });\n      }\n      throw errorInformation.value;\n    }\n    try {\n      return yield successfulResponseHandler({\n        response,\n        url,\n        requestBodyValues: body.values\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        if (isAbortError(error) || import_provider10.APICallError.isInstance(error)) {\n          throw error;\n        }\n      }\n      throw new import_provider10.APICallError({\n        message: \"Failed to process successful response\",\n        cause: error,\n        statusCode: response.status,\n        url,\n        responseHeaders,\n        requestBodyValues: body.values\n      });\n    }\n  } catch (error) {\n    throw handleFetchError({ error, url, requestBodyValues: body.values });\n  }\n});\nfunction tool11(tool22) {\n  return tool22;\n}\nfunction createProviderDefinedToolFactory({\n  id,\n  name,\n  inputSchema\n}) {\n  return (_a) => {\n    var _b = _a, {\n      execute,\n      outputSchema,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable\n    } = _b, args = __objRest(_b, [\n      \"execute\",\n      \"outputSchema\",\n      \"toModelOutput\",\n      \"onInputStart\",\n      \"onInputDelta\",\n      \"onInputAvailable\"\n    ]);\n    return tool11({\n      type: \"provider-defined\",\n      id,\n      name,\n      args,\n      inputSchema,\n      outputSchema,\n      execute,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable\n    });\n  };\n}\nfunction createProviderDefinedToolFactoryWithOutputSchema({\n  id,\n  name,\n  inputSchema,\n  outputSchema\n}) {\n  return (_a) => {\n    var _b = _a, {\n      execute,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable\n    } = _b, args = __objRest(_b, [\n      \"execute\",\n      \"toModelOutput\",\n      \"onInputStart\",\n      \"onInputDelta\",\n      \"onInputAvailable\"\n    ]);\n    return tool11({\n      type: \"provider-defined\",\n      id,\n      name,\n      args,\n      inputSchema,\n      outputSchema,\n      execute,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable\n    });\n  };\n}\nfunction resolve(value) {\n  return __async(this, null, function* () {\n    if (typeof value === \"function\") {\n      value = value();\n    }\n    return Promise.resolve(value);\n  });\n}\nvar createJsonErrorResponseHandler = ({\n  errorSchema,\n  errorToMessage: errorToMessage2,\n  isRetryable\n}) => (_0) => __async(null, [_0], function* ({ response, url, requestBodyValues }) {\n  const responseBody = yield response.text();\n  const responseHeaders = extractResponseHeaders(response);\n  if (responseBody.trim() === \"\") {\n    return {\n      responseHeaders,\n      value: new import_provider11.APICallError({\n        message: response.statusText,\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n      })\n    };\n  }\n  try {\n    const parsedError = yield parseJSON({\n      text: responseBody,\n      schema: errorSchema\n    });\n    return {\n      responseHeaders,\n      value: new import_provider11.APICallError({\n        message: errorToMessage2(parsedError),\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        data: parsedError,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)\n      })\n    };\n  } catch (parseError) {\n    return {\n      responseHeaders,\n      value: new import_provider11.APICallError({\n        message: response.statusText,\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n      })\n    };\n  }\n});\nvar createEventSourceResponseHandler = (chunkSchema2) => (_0) => __async(null, [_0], function* ({ response }) {\n  const responseHeaders = extractResponseHeaders(response);\n  if (response.body == null) {\n    throw new import_provider11.EmptyResponseBodyError({});\n  }\n  return {\n    responseHeaders,\n    value: parseJsonEventStream({\n      stream: response.body,\n      schema: chunkSchema2\n    })\n  };\n});\nvar createJsonStreamResponseHandler = (chunkSchema2) => (_0) => __async(null, [_0], function* ({ response }) {\n  const responseHeaders = extractResponseHeaders(response);\n  if (response.body == null) {\n    throw new import_provider11.EmptyResponseBodyError({});\n  }\n  let buffer = \"\";\n  return {\n    responseHeaders,\n    value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(\n      new TransformStream({\n        transform(chunkText, controller) {\n          return __async(this, null, function* () {\n            if (chunkText.endsWith(\"\\n\")) {\n              controller.enqueue(\n                yield safeParseJSON({\n                  text: buffer + chunkText,\n                  schema: chunkSchema2\n                })\n              );\n              buffer = \"\";\n            } else {\n              buffer += chunkText;\n            }\n          });\n        }\n      })\n    )\n  };\n});\nvar createJsonResponseHandler = (responseSchema2) => (_0) => __async(null, [_0], function* ({ response, url, requestBodyValues }) {\n  const responseBody = yield response.text();\n  const parsedResult = yield safeParseJSON({\n    text: responseBody,\n    schema: responseSchema2\n  });\n  const responseHeaders = extractResponseHeaders(response);\n  if (!parsedResult.success) {\n    throw new import_provider11.APICallError({\n      message: \"Invalid JSON response\",\n      cause: parsedResult.error,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody,\n      url,\n      requestBodyValues\n    });\n  }\n  return {\n    responseHeaders,\n    value: parsedResult.value,\n    rawValue: parsedResult.rawValue\n  };\n});\nvar createBinaryResponseHandler = () => (_0) => __async(null, [_0], function* ({ response, url, requestBodyValues }) {\n  const responseHeaders = extractResponseHeaders(response);\n  if (!response.body) {\n    throw new import_provider11.APICallError({\n      message: \"Response body is empty\",\n      url,\n      requestBodyValues,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody: void 0\n    });\n  }\n  try {\n    const buffer = yield response.arrayBuffer();\n    return {\n      responseHeaders,\n      value: new Uint8Array(buffer)\n    };\n  } catch (error) {\n    throw new import_provider11.APICallError({\n      message: \"Failed to read response as array buffer\",\n      url,\n      requestBodyValues,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody: void 0,\n      cause: error\n    });\n  }\n});\nvar getRelativePath = (pathA, pathB) => {\n  let i = 0;\n  for (; i < pathA.length && i < pathB.length; i++) {\n    if (pathA[i] !== pathB[i]) break;\n  }\n  return [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\nvar ignoreOverride = Symbol(\n  \"Let zodToJsonSchema decide on which parser to use\"\n);\nvar defaultOptions = {\n  name: void 0,\n  $refStrategy: \"root\",\n  basePath: [\"#\"],\n  effectStrategy: \"input\",\n  pipeStrategy: \"all\",\n  dateStrategy: \"format:date-time\",\n  mapStrategy: \"entries\",\n  removeAdditionalStrategy: \"passthrough\",\n  allowedAdditionalProperties: true,\n  rejectedAdditionalProperties: false,\n  definitionPath: \"definitions\",\n  strictUnions: false,\n  definitions: {},\n  errorMessages: false,\n  patternStrategy: \"escape\",\n  applyRegexFlags: false,\n  emailStrategy: \"format:email\",\n  base64Strategy: \"contentEncoding:base64\",\n  nameStrategy: \"ref\"\n};\nvar getDefaultOptions = (options) => typeof options === \"string\" ? __spreadProps(__spreadValues({}, defaultOptions), {\n  name: options\n}) : __spreadValues(__spreadValues({}, defaultOptions), options);\nfunction parseAnyDef() {\n  return {};\n}\nfunction parseArrayDef(def, refs) {\n  var _a, _b, _c;\n  const res = {\n    type: \"array\"\n  };\n  if (((_a = def.type) == null ? void 0 : _a._def) && ((_c = (_b = def.type) == null ? void 0 : _b._def) == null ? void 0 : _c.typeName) !== import_v316.ZodFirstPartyTypeKind.ZodAny) {\n    res.items = parseDef(def.type._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"items\"]\n    }));\n  }\n  if (def.minLength) {\n    res.minItems = def.minLength.value;\n  }\n  if (def.maxLength) {\n    res.maxItems = def.maxLength.value;\n  }\n  if (def.exactLength) {\n    res.minItems = def.exactLength.value;\n    res.maxItems = def.exactLength.value;\n  }\n  return res;\n}\nfunction parseBigintDef(def) {\n  const res = {\n    type: \"integer\",\n    format: \"int64\"\n  };\n  if (!def.checks) return res;\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"min\":\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case \"max\":\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n        break;\n      case \"multipleOf\":\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\nfunction parseBooleanDef() {\n  return { type: \"boolean\" };\n}\nfunction parseBrandedDef(_def, refs) {\n  return parseDef(_def.type._def, refs);\n}\nvar parseCatchDef = (def, refs) => {\n  return parseDef(def.innerType._def, refs);\n};\nfunction parseDateDef(def, refs, overrideDateStrategy) {\n  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;\n  if (Array.isArray(strategy)) {\n    return {\n      anyOf: strategy.map((item, i) => parseDateDef(def, refs, item))\n    };\n  }\n  switch (strategy) {\n    case \"string\":\n    case \"format:date-time\":\n      return {\n        type: \"string\",\n        format: \"date-time\"\n      };\n    case \"format:date\":\n      return {\n        type: \"string\",\n        format: \"date\"\n      };\n    case \"integer\":\n      return integerDateParser(def);\n  }\n}\nvar integerDateParser = (def) => {\n  const res = {\n    type: \"integer\",\n    format: \"unix-time\"\n  };\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"min\":\n        res.minimum = check.value;\n        break;\n      case \"max\":\n        res.maximum = check.value;\n        break;\n    }\n  }\n  return res;\n};\nfunction parseDefaultDef(_def, refs) {\n  return __spreadProps(__spreadValues({}, parseDef(_def.innerType._def, refs)), {\n    default: _def.defaultValue()\n  });\n}\nfunction parseEffectsDef(_def, refs) {\n  return refs.effectStrategy === \"input\" ? parseDef(_def.schema._def, refs) : parseAnyDef();\n}\nfunction parseEnumDef(def) {\n  return {\n    type: \"string\",\n    enum: Array.from(def.values)\n  };\n}\nvar isJsonSchema7AllOfType = (type) => {\n  if (\"type\" in type && type.type === \"string\") return false;\n  return \"allOf\" in type;\n};\nfunction parseIntersectionDef(def, refs) {\n  const allOf = [\n    parseDef(def.left._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"allOf\", \"0\"]\n    })),\n    parseDef(def.right._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"allOf\", \"1\"]\n    }))\n  ].filter((x) => !!x);\n  const mergedAllOf = [];\n  allOf.forEach((schema) => {\n    if (isJsonSchema7AllOfType(schema)) {\n      mergedAllOf.push(...schema.allOf);\n    } else {\n      let nestedSchema = schema;\n      if (\"additionalProperties\" in schema && schema.additionalProperties === false) {\n        const _a = schema, { additionalProperties } = _a, rest = __objRest(_a, [\"additionalProperties\"]);\n        nestedSchema = rest;\n      }\n      mergedAllOf.push(nestedSchema);\n    }\n  });\n  return mergedAllOf.length ? { allOf: mergedAllOf } : void 0;\n}\nfunction parseLiteralDef(def) {\n  const parsedType = typeof def.value;\n  if (parsedType !== \"bigint\" && parsedType !== \"number\" && parsedType !== \"boolean\" && parsedType !== \"string\") {\n    return {\n      type: Array.isArray(def.value) ? \"array\" : \"object\"\n    };\n  }\n  return {\n    type: parsedType === \"bigint\" ? \"integer\" : parsedType,\n    const: def.value\n  };\n}\nvar emojiRegex = void 0;\nvar zodPatterns = {\n  /**\n   * `c` was changed to `[cC]` to replicate /i flag\n   */\n  cuid: /^[cC][^\\s-]{8,}$/,\n  cuid2: /^[0-9a-z]+$/,\n  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n  /**\n   * `a-z` was added to replicate /i flag\n   */\n  email: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n  /**\n   * Constructed a valid Unicode RegExp\n   *\n   * Lazily instantiate since this type of regex isn't supported\n   * in all envs (e.g. React Native).\n   *\n   * See:\n   * https://github.com/colinhacks/zod/issues/2433\n   * Fix in Zod:\n   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b\n   */\n  emoji: () => {\n    if (emojiRegex === void 0) {\n      emojiRegex = RegExp(\n        \"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\",\n        \"u\"\n      );\n    }\n    return emojiRegex;\n  },\n  /**\n   * Unused\n   */\n  uuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n  /**\n   * Unused\n   */\n  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n  /**\n   * Unused\n   */\n  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n  nanoid: /^[a-zA-Z0-9_-]{21}$/,\n  jwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/\n};\nfunction parseStringDef(def, refs) {\n  const res = {\n    type: \"string\"\n  };\n  if (def.checks) {\n    for (const check of def.checks) {\n      switch (check.kind) {\n        case \"min\":\n          res.minLength = typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value;\n          break;\n        case \"max\":\n          res.maxLength = typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value;\n          break;\n        case \"email\":\n          switch (refs.emailStrategy) {\n            case \"format:email\":\n              addFormat(res, \"email\", check.message, refs);\n              break;\n            case \"format:idn-email\":\n              addFormat(res, \"idn-email\", check.message, refs);\n              break;\n            case \"pattern:zod\":\n              addPattern(res, zodPatterns.email, check.message, refs);\n              break;\n          }\n          break;\n        case \"url\":\n          addFormat(res, \"uri\", check.message, refs);\n          break;\n        case \"uuid\":\n          addFormat(res, \"uuid\", check.message, refs);\n          break;\n        case \"regex\":\n          addPattern(res, check.regex, check.message, refs);\n          break;\n        case \"cuid\":\n          addPattern(res, zodPatterns.cuid, check.message, refs);\n          break;\n        case \"cuid2\":\n          addPattern(res, zodPatterns.cuid2, check.message, refs);\n          break;\n        case \"startsWith\":\n          addPattern(\n            res,\n            RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`),\n            check.message,\n            refs\n          );\n          break;\n        case \"endsWith\":\n          addPattern(\n            res,\n            RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`),\n            check.message,\n            refs\n          );\n          break;\n        case \"datetime\":\n          addFormat(res, \"date-time\", check.message, refs);\n          break;\n        case \"date\":\n          addFormat(res, \"date\", check.message, refs);\n          break;\n        case \"time\":\n          addFormat(res, \"time\", check.message, refs);\n          break;\n        case \"duration\":\n          addFormat(res, \"duration\", check.message, refs);\n          break;\n        case \"length\":\n          res.minLength = typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value;\n          res.maxLength = typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value;\n          break;\n        case \"includes\": {\n          addPattern(\n            res,\n            RegExp(escapeLiteralCheckValue(check.value, refs)),\n            check.message,\n            refs\n          );\n          break;\n        }\n        case \"ip\": {\n          if (check.version !== \"v6\") {\n            addFormat(res, \"ipv4\", check.message, refs);\n          }\n          if (check.version !== \"v4\") {\n            addFormat(res, \"ipv6\", check.message, refs);\n          }\n          break;\n        }\n        case \"base64url\":\n          addPattern(res, zodPatterns.base64url, check.message, refs);\n          break;\n        case \"jwt\":\n          addPattern(res, zodPatterns.jwt, check.message, refs);\n          break;\n        case \"cidr\": {\n          if (check.version !== \"v6\") {\n            addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n          }\n          if (check.version !== \"v4\") {\n            addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n          }\n          break;\n        }\n        case \"emoji\":\n          addPattern(res, zodPatterns.emoji(), check.message, refs);\n          break;\n        case \"ulid\": {\n          addPattern(res, zodPatterns.ulid, check.message, refs);\n          break;\n        }\n        case \"base64\": {\n          switch (refs.base64Strategy) {\n            case \"format:binary\": {\n              addFormat(res, \"binary\", check.message, refs);\n              break;\n            }\n            case \"contentEncoding:base64\": {\n              res.contentEncoding = \"base64\";\n              break;\n            }\n            case \"pattern:zod\": {\n              addPattern(res, zodPatterns.base64, check.message, refs);\n              break;\n            }\n          }\n          break;\n        }\n        case \"nanoid\": {\n          addPattern(res, zodPatterns.nanoid, check.message, refs);\n        }\n        case \"toLowerCase\":\n        case \"toUpperCase\":\n        case \"trim\":\n          break;\n        default:\n          /* @__PURE__ */ ((_) => {\n          })(check);\n      }\n    }\n  }\n  return res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n  return refs.patternStrategy === \"escape\" ? escapeNonAlphaNumeric(literal) : literal;\n}\nvar ALPHA_NUMERIC = new Set(\n  \"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\"\n);\nfunction escapeNonAlphaNumeric(source) {\n  let result = \"\";\n  for (let i = 0; i < source.length; i++) {\n    if (!ALPHA_NUMERIC.has(source[i])) {\n      result += \"\\\\\";\n    }\n    result += source[i];\n  }\n  return result;\n}\nfunction addFormat(schema, value, message, refs) {\n  var _a;\n  if (schema.format || ((_a = schema.anyOf) == null ? void 0 : _a.some((x) => x.format))) {\n    if (!schema.anyOf) {\n      schema.anyOf = [];\n    }\n    if (schema.format) {\n      schema.anyOf.push({\n        format: schema.format\n      });\n      delete schema.format;\n    }\n    schema.anyOf.push(__spreadValues({\n      format: value\n    }, message && refs.errorMessages && { errorMessage: { format: message } }));\n  } else {\n    schema.format = value;\n  }\n}\nfunction addPattern(schema, regex, message, refs) {\n  var _a;\n  if (schema.pattern || ((_a = schema.allOf) == null ? void 0 : _a.some((x) => x.pattern))) {\n    if (!schema.allOf) {\n      schema.allOf = [];\n    }\n    if (schema.pattern) {\n      schema.allOf.push({\n        pattern: schema.pattern\n      });\n      delete schema.pattern;\n    }\n    schema.allOf.push(__spreadValues({\n      pattern: stringifyRegExpWithFlags(regex, refs)\n    }, message && refs.errorMessages && { errorMessage: { pattern: message } }));\n  } else {\n    schema.pattern = stringifyRegExpWithFlags(regex, refs);\n  }\n}\nfunction stringifyRegExpWithFlags(regex, refs) {\n  var _a;\n  if (!refs.applyRegexFlags || !regex.flags) {\n    return regex.source;\n  }\n  const flags = {\n    i: regex.flags.includes(\"i\"),\n    // Case-insensitive\n    m: regex.flags.includes(\"m\"),\n    // `^` and `$` matches adjacent to newline characters\n    s: regex.flags.includes(\"s\")\n    // `.` matches newlines\n  };\n  const source = flags.i ? regex.source.toLowerCase() : regex.source;\n  let pattern = \"\";\n  let isEscaped = false;\n  let inCharGroup = false;\n  let inCharRange = false;\n  for (let i = 0; i < source.length; i++) {\n    if (isEscaped) {\n      pattern += source[i];\n      isEscaped = false;\n      continue;\n    }\n    if (flags.i) {\n      if (inCharGroup) {\n        if (source[i].match(/[a-z]/)) {\n          if (inCharRange) {\n            pattern += source[i];\n            pattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n            inCharRange = false;\n          } else if (source[i + 1] === \"-\" && ((_a = source[i + 2]) == null ? void 0 : _a.match(/[a-z]/))) {\n            pattern += source[i];\n            inCharRange = true;\n          } else {\n            pattern += `${source[i]}${source[i].toUpperCase()}`;\n          }\n          continue;\n        }\n      } else if (source[i].match(/[a-z]/)) {\n        pattern += `[${source[i]}${source[i].toUpperCase()}]`;\n        continue;\n      }\n    }\n    if (flags.m) {\n      if (source[i] === \"^\") {\n        pattern += `(^|(?<=[\\r\n]))`;\n        continue;\n      } else if (source[i] === \"$\") {\n        pattern += `($|(?=[\\r\n]))`;\n        continue;\n      }\n    }\n    if (flags.s && source[i] === \".\") {\n      pattern += inCharGroup ? `${source[i]}\\r\n` : `[${source[i]}\\r\n]`;\n      continue;\n    }\n    pattern += source[i];\n    if (source[i] === \"\\\\\") {\n      isEscaped = true;\n    } else if (inCharGroup && source[i] === \"]\") {\n      inCharGroup = false;\n    } else if (!inCharGroup && source[i] === \"[\") {\n      inCharGroup = true;\n    }\n  }\n  try {\n    new RegExp(pattern);\n  } catch (e) {\n    console.warn(\n      `Could not convert regex pattern at ${refs.currentPath.join(\n        \"/\"\n      )} to a flag-independent form! Falling back to the flag-ignorant source`\n    );\n    return regex.source;\n  }\n  return pattern;\n}\nfunction parseRecordDef(def, refs) {\n  var _a, _b, _c, _d, _e, _f;\n  const schema = {\n    type: \"object\",\n    additionalProperties: (_a = parseDef(def.valueType._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }))) != null ? _a : refs.allowedAdditionalProperties\n  };\n  if (((_b = def.keyType) == null ? void 0 : _b._def.typeName) === import_v317.ZodFirstPartyTypeKind.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {\n    const _a2 = parseStringDef(def.keyType._def, refs), { type } = _a2, keyType = __objRest(_a2, [\"type\"]);\n    return __spreadProps(__spreadValues({}, schema), {\n      propertyNames: keyType\n    });\n  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === import_v317.ZodFirstPartyTypeKind.ZodEnum) {\n    return __spreadProps(__spreadValues({}, schema), {\n      propertyNames: {\n        enum: def.keyType._def.values\n      }\n    });\n  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === import_v317.ZodFirstPartyTypeKind.ZodBranded && def.keyType._def.type._def.typeName === import_v317.ZodFirstPartyTypeKind.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {\n    const _b2 = parseBrandedDef(\n      def.keyType._def,\n      refs\n    ), { type } = _b2, keyType = __objRest(_b2, [\"type\"]);\n    return __spreadProps(__spreadValues({}, schema), {\n      propertyNames: keyType\n    });\n  }\n  return schema;\n}\nfunction parseMapDef(def, refs) {\n  if (refs.mapStrategy === \"record\") {\n    return parseRecordDef(def, refs);\n  }\n  const keys = parseDef(def.keyType._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"items\", \"items\", \"0\"]\n  })) || parseAnyDef();\n  const values = parseDef(def.valueType._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"items\", \"items\", \"1\"]\n  })) || parseAnyDef();\n  return {\n    type: \"array\",\n    maxItems: 125,\n    items: {\n      type: \"array\",\n      items: [keys, values],\n      minItems: 2,\n      maxItems: 2\n    }\n  };\n}\nfunction parseNativeEnumDef(def) {\n  const object = def.values;\n  const actualKeys = Object.keys(def.values).filter((key) => {\n    return typeof object[object[key]] !== \"number\";\n  });\n  const actualValues = actualKeys.map((key) => object[key]);\n  const parsedTypes = Array.from(\n    new Set(actualValues.map((values) => typeof values))\n  );\n  return {\n    type: parsedTypes.length === 1 ? parsedTypes[0] === \"string\" ? \"string\" : \"number\" : [\"string\", \"number\"],\n    enum: actualValues\n  };\n}\nfunction parseNeverDef() {\n  return { not: parseAnyDef() };\n}\nfunction parseNullDef() {\n  return {\n    type: \"null\"\n  };\n}\nvar primitiveMappings = {\n  ZodString: \"string\",\n  ZodNumber: \"number\",\n  ZodBigInt: \"integer\",\n  ZodBoolean: \"boolean\",\n  ZodNull: \"null\"\n};\nfunction parseUnionDef(def, refs) {\n  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n  if (options.every(\n    (x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length)\n  )) {\n    const types = options.reduce((types2, x) => {\n      const type = primitiveMappings[x._def.typeName];\n      return type && !types2.includes(type) ? [...types2, type] : types2;\n    }, []);\n    return {\n      type: types.length > 1 ? types : types[0]\n    };\n  } else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n    const types = options.reduce(\n      (acc, x) => {\n        const type = typeof x._def.value;\n        switch (type) {\n          case \"string\":\n          case \"number\":\n          case \"boolean\":\n            return [...acc, type];\n          case \"bigint\":\n            return [...acc, \"integer\"];\n          case \"object\":\n            if (x._def.value === null) return [...acc, \"null\"];\n          case \"symbol\":\n          case \"undefined\":\n          case \"function\":\n          default:\n            return acc;\n        }\n      },\n      []\n    );\n    if (types.length === options.length) {\n      const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n      return {\n        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n        enum: options.reduce(\n          (acc, x) => {\n            return acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n          },\n          []\n        )\n      };\n    }\n  } else if (options.every((x) => x._def.typeName === \"ZodEnum\")) {\n    return {\n      type: \"string\",\n      enum: options.reduce(\n        (acc, x) => [\n          ...acc,\n          ...x._def.values.filter((x2) => !acc.includes(x2))\n        ],\n        []\n      )\n    };\n  }\n  return asAnyOf(def, refs);\n}\nvar asAnyOf = (def, refs) => {\n  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map(\n    (x, i) => parseDef(x._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"anyOf\", `${i}`]\n    }))\n  ).filter(\n    (x) => !!x && (!refs.strictUnions || typeof x === \"object\" && Object.keys(x).length > 0)\n  );\n  return anyOf.length ? { anyOf } : void 0;\n};\nfunction parseNullableDef(def, refs) {\n  if ([\"ZodString\", \"ZodNumber\", \"ZodBigInt\", \"ZodBoolean\", \"ZodNull\"].includes(\n    def.innerType._def.typeName\n  ) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n    return {\n      type: [\n        primitiveMappings[def.innerType._def.typeName],\n        \"null\"\n      ]\n    };\n  }\n  const base = parseDef(def.innerType._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"anyOf\", \"0\"]\n  }));\n  return base && { anyOf: [base, { type: \"null\" }] };\n}\nfunction parseNumberDef(def) {\n  const res = {\n    type: \"number\"\n  };\n  if (!def.checks) return res;\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"int\":\n        res.type = \"integer\";\n        break;\n      case \"min\":\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case \"max\":\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n        break;\n      case \"multipleOf\":\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\nfunction parseObjectDef(def, refs) {\n  const result = {\n    type: \"object\",\n    properties: {}\n  };\n  const required = [];\n  const shape = def.shape();\n  for (const propName in shape) {\n    let propDef = shape[propName];\n    if (propDef === void 0 || propDef._def === void 0) {\n      continue;\n    }\n    const propOptional = safeIsOptional(propDef);\n    const parsedDef = parseDef(propDef._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"properties\", propName],\n      propertyPath: [...refs.currentPath, \"properties\", propName]\n    }));\n    if (parsedDef === void 0) {\n      continue;\n    }\n    result.properties[propName] = parsedDef;\n    if (!propOptional) {\n      required.push(propName);\n    }\n  }\n  if (required.length) {\n    result.required = required;\n  }\n  const additionalProperties = decideAdditionalProperties(def, refs);\n  if (additionalProperties !== void 0) {\n    result.additionalProperties = additionalProperties;\n  }\n  return result;\n}\nfunction decideAdditionalProperties(def, refs) {\n  if (def.catchall._def.typeName !== \"ZodNever\") {\n    return parseDef(def.catchall._def, __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }));\n  }\n  switch (def.unknownKeys) {\n    case \"passthrough\":\n      return refs.allowedAdditionalProperties;\n    case \"strict\":\n      return refs.rejectedAdditionalProperties;\n    case \"strip\":\n      return refs.removeAdditionalStrategy === \"strict\" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;\n  }\n}\nfunction safeIsOptional(schema) {\n  try {\n    return schema.isOptional();\n  } catch (e) {\n    return true;\n  }\n}\nvar parseOptionalDef = (def, refs) => {\n  var _a;\n  if (refs.currentPath.toString() === ((_a = refs.propertyPath) == null ? void 0 : _a.toString())) {\n    return parseDef(def.innerType._def, refs);\n  }\n  const innerSchema = parseDef(def.innerType._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"anyOf\", \"1\"]\n  }));\n  return innerSchema ? { anyOf: [{ not: parseAnyDef() }, innerSchema] } : parseAnyDef();\n};\nvar parsePipelineDef = (def, refs) => {\n  if (refs.pipeStrategy === \"input\") {\n    return parseDef(def.in._def, refs);\n  } else if (refs.pipeStrategy === \"output\") {\n    return parseDef(def.out._def, refs);\n  }\n  const a = parseDef(def.in._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"allOf\", \"0\"]\n  }));\n  const b = parseDef(def.out._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"allOf\", a ? \"1\" : \"0\"]\n  }));\n  return {\n    allOf: [a, b].filter((x) => x !== void 0)\n  };\n};\nfunction parsePromiseDef(def, refs) {\n  return parseDef(def.type._def, refs);\n}\nfunction parseSetDef(def, refs) {\n  const items = parseDef(def.valueType._def, __spreadProps(__spreadValues({}, refs), {\n    currentPath: [...refs.currentPath, \"items\"]\n  }));\n  const schema = {\n    type: \"array\",\n    uniqueItems: true,\n    items\n  };\n  if (def.minSize) {\n    schema.minItems = def.minSize.value;\n  }\n  if (def.maxSize) {\n    schema.maxItems = def.maxSize.value;\n  }\n  return schema;\n}\nfunction parseTupleDef(def, refs) {\n  if (def.rest) {\n    return {\n      type: \"array\",\n      minItems: def.items.length,\n      items: def.items.map(\n        (x, i) => parseDef(x._def, __spreadProps(__spreadValues({}, refs), {\n          currentPath: [...refs.currentPath, \"items\", `${i}`]\n        }))\n      ).reduce(\n        (acc, x) => x === void 0 ? acc : [...acc, x],\n        []\n      ),\n      additionalItems: parseDef(def.rest._def, __spreadProps(__spreadValues({}, refs), {\n        currentPath: [...refs.currentPath, \"additionalItems\"]\n      }))\n    };\n  } else {\n    return {\n      type: \"array\",\n      minItems: def.items.length,\n      maxItems: def.items.length,\n      items: def.items.map(\n        (x, i) => parseDef(x._def, __spreadProps(__spreadValues({}, refs), {\n          currentPath: [...refs.currentPath, \"items\", `${i}`]\n        }))\n      ).reduce(\n        (acc, x) => x === void 0 ? acc : [...acc, x],\n        []\n      )\n    };\n  }\n}\nfunction parseUndefinedDef() {\n  return {\n    not: parseAnyDef()\n  };\n}\nfunction parseUnknownDef() {\n  return parseAnyDef();\n}\nvar parseReadonlyDef = (def, refs) => {\n  return parseDef(def.innerType._def, refs);\n};\nvar selectParser = (def, typeName, refs) => {\n  switch (typeName) {\n    case import_v315.ZodFirstPartyTypeKind.ZodString:\n      return parseStringDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodNumber:\n      return parseNumberDef(def);\n    case import_v315.ZodFirstPartyTypeKind.ZodObject:\n      return parseObjectDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodBigInt:\n      return parseBigintDef(def);\n    case import_v315.ZodFirstPartyTypeKind.ZodBoolean:\n      return parseBooleanDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodDate:\n      return parseDateDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodUndefined:\n      return parseUndefinedDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodNull:\n      return parseNullDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodArray:\n      return parseArrayDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodUnion:\n    case import_v315.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:\n      return parseUnionDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodIntersection:\n      return parseIntersectionDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodTuple:\n      return parseTupleDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodRecord:\n      return parseRecordDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodLiteral:\n      return parseLiteralDef(def);\n    case import_v315.ZodFirstPartyTypeKind.ZodEnum:\n      return parseEnumDef(def);\n    case import_v315.ZodFirstPartyTypeKind.ZodNativeEnum:\n      return parseNativeEnumDef(def);\n    case import_v315.ZodFirstPartyTypeKind.ZodNullable:\n      return parseNullableDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodOptional:\n      return parseOptionalDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodMap:\n      return parseMapDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodSet:\n      return parseSetDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodLazy:\n      return () => def.getter()._def;\n    case import_v315.ZodFirstPartyTypeKind.ZodPromise:\n      return parsePromiseDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodNaN:\n    case import_v315.ZodFirstPartyTypeKind.ZodNever:\n      return parseNeverDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodEffects:\n      return parseEffectsDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodAny:\n      return parseAnyDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodUnknown:\n      return parseUnknownDef();\n    case import_v315.ZodFirstPartyTypeKind.ZodDefault:\n      return parseDefaultDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodBranded:\n      return parseBrandedDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodReadonly:\n      return parseReadonlyDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodCatch:\n      return parseCatchDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodPipeline:\n      return parsePipelineDef(def, refs);\n    case import_v315.ZodFirstPartyTypeKind.ZodFunction:\n    case import_v315.ZodFirstPartyTypeKind.ZodVoid:\n    case import_v315.ZodFirstPartyTypeKind.ZodSymbol:\n      return void 0;\n    default:\n      return /* @__PURE__ */ ((_) => void 0)(typeName);\n  }\n};\nfunction parseDef(def, refs, forceResolution = false) {\n  var _a;\n  const seenItem = refs.seen.get(def);\n  if (refs.override) {\n    const overrideResult = (_a = refs.override) == null ? void 0 : _a.call(\n      refs,\n      def,\n      refs,\n      seenItem,\n      forceResolution\n    );\n    if (overrideResult !== ignoreOverride) {\n      return overrideResult;\n    }\n  }\n  if (seenItem && !forceResolution) {\n    const seenSchema = get$ref(seenItem, refs);\n    if (seenSchema !== void 0) {\n      return seenSchema;\n    }\n  }\n  const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };\n  refs.seen.set(def, newItem);\n  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);\n  const jsonSchema2 = typeof jsonSchemaOrGetter === \"function\" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;\n  if (jsonSchema2) {\n    addMeta(def, refs, jsonSchema2);\n  }\n  if (refs.postProcess) {\n    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);\n    newItem.jsonSchema = jsonSchema2;\n    return postProcessResult;\n  }\n  newItem.jsonSchema = jsonSchema2;\n  return jsonSchema2;\n}\nvar get$ref = (item, refs) => {\n  switch (refs.$refStrategy) {\n    case \"root\":\n      return { $ref: item.path.join(\"/\") };\n    case \"relative\":\n      return { $ref: getRelativePath(refs.currentPath, item.path) };\n    case \"none\":\n    case \"seen\": {\n      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {\n        console.warn(\n          `Recursive reference detected at ${refs.currentPath.join(\n            \"/\"\n          )}! Defaulting to any`\n        );\n        return parseAnyDef();\n      }\n      return refs.$refStrategy === \"seen\" ? parseAnyDef() : void 0;\n    }\n  }\n};\nvar addMeta = (def, refs, jsonSchema2) => {\n  if (def.description) {\n    jsonSchema2.description = def.description;\n  }\n  return jsonSchema2;\n};\nvar getRefs = (options) => {\n  const _options = getDefaultOptions(options);\n  const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;\n  return __spreadProps(__spreadValues({}, _options), {\n    currentPath,\n    propertyPath: void 0,\n    seen: new Map(\n      Object.entries(_options.definitions).map(([name, def]) => [\n        def._def,\n        {\n          def: def._def,\n          path: [..._options.basePath, _options.definitionPath, name],\n          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.\n          jsonSchema: void 0\n        }\n      ])\n    )\n  });\n};\nvar zodToJsonSchema7 = (schema, options) => {\n  var _a;\n  const refs = getRefs(options);\n  let definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce(\n    (acc, [name2, schema2]) => {\n      var _a2;\n      return __spreadProps(__spreadValues({}, acc), {\n        [name2]: (_a2 = parseDef(\n          schema2._def,\n          __spreadProps(__spreadValues({}, refs), {\n            currentPath: [...refs.basePath, refs.definitionPath, name2]\n          }),\n          true\n        )) != null ? _a2 : parseAnyDef()\n      });\n    },\n    {}\n  ) : void 0;\n  const name = typeof options === \"string\" ? options : (options == null ? void 0 : options.nameStrategy) === \"title\" ? void 0 : options == null ? void 0 : options.name;\n  const main = (_a = parseDef(\n    schema._def,\n    name === void 0 ? refs : __spreadProps(__spreadValues({}, refs), {\n      currentPath: [...refs.basePath, refs.definitionPath, name]\n    }),\n    false\n  )) != null ? _a : parseAnyDef();\n  const title = typeof options === \"object\" && options.name !== void 0 && options.nameStrategy === \"title\" ? options.name : void 0;\n  if (title !== void 0) {\n    main.title = title;\n  }\n  const combined = name === void 0 ? definitions ? __spreadProps(__spreadValues({}, main), {\n    [refs.definitionPath]: definitions\n  }) : main : {\n    $ref: [\n      ...refs.$refStrategy === \"relative\" ? [] : refs.basePath,\n      refs.definitionPath,\n      name\n    ].join(\"/\"),\n    [refs.definitionPath]: __spreadProps(__spreadValues({}, definitions), {\n      [name]: main\n    })\n  };\n  combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n  return combined;\n};\nvar zod_to_json_schema_default = zodToJsonSchema7;\nfunction zod3Schema(zodSchema2, options) {\n  var _a;\n  const useReferences = (_a = options == null ? void 0 : options.useReferences) != null ? _a : false;\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () => zod_to_json_schema_default(zodSchema2, {\n      $refStrategy: useReferences ? \"root\" : \"none\"\n    }),\n    {\n      validate: (value) => __async(null, null, function* () {\n        const result = yield zodSchema2.safeParseAsync(value);\n        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };\n      })\n    }\n  );\n}\nfunction zod4Schema(zodSchema2, options) {\n  var _a;\n  const useReferences = (_a = options == null ? void 0 : options.useReferences) != null ? _a : false;\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () => z42.toJSONSchema(zodSchema2, {\n      target: \"draft-7\",\n      io: \"output\",\n      reused: useReferences ? \"ref\" : \"inline\"\n    }),\n    {\n      validate: (value) => __async(null, null, function* () {\n        const result = yield z42.safeParseAsync(zodSchema2, value);\n        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };\n      })\n    }\n  );\n}\nfunction isZod4Schema(zodSchema2) {\n  return \"_zod\" in zodSchema2;\n}\nfunction zodSchema(zodSchema2, options) {\n  if (isZod4Schema(zodSchema2)) {\n    return zod4Schema(zodSchema2, options);\n  } else {\n    return zod3Schema(zodSchema2, options);\n  }\n}\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction lazySchema(createSchema) {\n  let schema;\n  return () => {\n    if (schema == null) {\n      schema = createSchema();\n    }\n    return schema;\n  };\n}\nfunction jsonSchema(jsonSchema2, {\n  validate\n} = {}) {\n  return {\n    [schemaSymbol]: true,\n    _type: void 0,\n    // should never be used directly\n    [validatorSymbol]: true,\n    get jsonSchema() {\n      if (typeof jsonSchema2 === \"function\") {\n        jsonSchema2 = jsonSchema2();\n      }\n      return jsonSchema2;\n    },\n    validate\n  };\n}\nvar { btoa, atob } = globalThis;\nfunction convertBase64ToUint8Array(base64String) {\n  const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const latin1string = atob(base64Url);\n  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));\n}\nfunction convertUint8ArrayToBase64(array) {\n  let latin1string = \"\";\n  for (let i = 0; i < array.length; i++) {\n    latin1string += String.fromCodePoint(array[i]);\n  }\n  return btoa(latin1string);\n}\nfunction convertToBase64(value) {\n  return value instanceof Uint8Array ? convertUint8ArrayToBase64(value) : value;\n}\nfunction withoutTrailingSlash(url) {\n  return url == null ? void 0 : url.replace(/\\/$/, \"\");\n}\n\n// ../../node_modules/.pnpm/@ai-sdk+openai@2.0.53_zod@3.25.67/node_modules/@ai-sdk/openai/dist/index.mjs\nvar import_provider12 = require(\"@ai-sdk/provider\");\nvar import_v4 = require(\"zod/v4\");\nvar import_provider13 = require(\"@ai-sdk/provider\");\nvar import_v42 = require(\"zod/v4\");\nvar import_v43 = require(\"zod/v4\");\nvar import_provider14 = require(\"@ai-sdk/provider\");\nvar import_provider15 = require(\"@ai-sdk/provider\");\nvar import_v44 = require(\"zod/v4\");\nvar import_v45 = require(\"zod/v4\");\nvar import_provider16 = require(\"@ai-sdk/provider\");\nvar import_v46 = require(\"zod/v4\");\nvar import_v47 = require(\"zod/v4\");\nvar import_v48 = require(\"zod/v4\");\nvar import_v49 = require(\"zod/v4\");\nvar import_v410 = require(\"zod/v4\");\nvar import_v411 = require(\"zod/v4\");\nvar import_v412 = require(\"zod/v4\");\nvar import_v413 = require(\"zod/v4\");\nvar import_v414 = require(\"zod/v4\");\nvar import_provider17 = require(\"@ai-sdk/provider\");\nvar import_provider18 = require(\"@ai-sdk/provider\");\nvar import_v415 = require(\"zod/v4\");\nvar import_v416 = require(\"zod/v4\");\nvar import_v417 = require(\"zod/v4\");\nvar import_provider19 = require(\"@ai-sdk/provider\");\nvar import_v418 = require(\"zod/v4\");\nvar import_v419 = require(\"zod/v4\");\nvar import_v420 = require(\"zod/v4\");\nvar openaiErrorDataSchema = import_v4.z.object({\n  error: import_v4.z.object({\n    message: import_v4.z.string(),\n    // The additional information below is handled loosely to support\n    // OpenAI-compatible providers that have slightly different error\n    // responses:\n    type: import_v4.z.string().nullish(),\n    param: import_v4.z.any().nullish(),\n    code: import_v4.z.union([import_v4.z.string(), import_v4.z.number()]).nullish()\n  })\n});\nvar openaiFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: openaiErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nfunction convertToOpenAIChatMessages({\n  prompt,\n  systemMessageMode = \"system\"\n}) {\n  const messages = [];\n  const warnings = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            messages.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            messages.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            warnings.push({\n              type: \"other\",\n              message: \"system messages are removed for this model\"\n            });\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part, index) => {\n            var _a, _b, _c;\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`,\n                      // OpenAI specific extension: image detail\n                      detail: (_b = (_a = part.providerOptions) == null ? void 0 : _a.openai) == null ? void 0 : _b.imageDetail\n                    }\n                  };\n                } else if (part.mediaType.startsWith(\"audio/\")) {\n                  if (part.data instanceof URL) {\n                    throw new import_provider13.UnsupportedFunctionalityError({\n                      functionality: \"audio file parts with URLs\"\n                    });\n                  }\n                  switch (part.mediaType) {\n                    case \"audio/wav\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"wav\"\n                        }\n                      };\n                    }\n                    case \"audio/mp3\":\n                    case \"audio/mpeg\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"mp3\"\n                        }\n                      };\n                    }\n                    default: {\n                      throw new import_provider13.UnsupportedFunctionalityError({\n                        functionality: `audio content parts with media type ${part.mediaType}`\n                      });\n                    }\n                  }\n                } else if (part.mediaType === \"application/pdf\") {\n                  if (part.data instanceof URL) {\n                    throw new import_provider13.UnsupportedFunctionalityError({\n                      functionality: \"PDF file parts with URLs\"\n                    });\n                  }\n                  return {\n                    type: \"file\",\n                    file: typeof part.data === \"string\" && part.data.startsWith(\"file-\") ? { file_id: part.data } : {\n                      filename: (_c = part.filename) != null ? _c : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase64(part.data)}`\n                    }\n                  };\n                } else {\n                  throw new import_provider13.UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { messages, warnings };\n}\nfunction getResponseMetadata({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAIFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiChatResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v42.z.object({\n      id: import_v42.z.string().nullish(),\n      created: import_v42.z.number().nullish(),\n      model: import_v42.z.string().nullish(),\n      choices: import_v42.z.array(\n        import_v42.z.object({\n          message: import_v42.z.object({\n            role: import_v42.z.literal(\"assistant\").nullish(),\n            content: import_v42.z.string().nullish(),\n            tool_calls: import_v42.z.array(\n              import_v42.z.object({\n                id: import_v42.z.string().nullish(),\n                type: import_v42.z.literal(\"function\"),\n                function: import_v42.z.object({\n                  name: import_v42.z.string(),\n                  arguments: import_v42.z.string()\n                })\n              })\n            ).nullish(),\n            annotations: import_v42.z.array(\n              import_v42.z.object({\n                type: import_v42.z.literal(\"url_citation\"),\n                start_index: import_v42.z.number(),\n                end_index: import_v42.z.number(),\n                url: import_v42.z.string(),\n                title: import_v42.z.string()\n              })\n            ).nullish()\n          }),\n          index: import_v42.z.number(),\n          logprobs: import_v42.z.object({\n            content: import_v42.z.array(\n              import_v42.z.object({\n                token: import_v42.z.string(),\n                logprob: import_v42.z.number(),\n                top_logprobs: import_v42.z.array(\n                  import_v42.z.object({\n                    token: import_v42.z.string(),\n                    logprob: import_v42.z.number()\n                  })\n                )\n              })\n            ).nullish()\n          }).nullish(),\n          finish_reason: import_v42.z.string().nullish()\n        })\n      ),\n      usage: import_v42.z.object({\n        prompt_tokens: import_v42.z.number().nullish(),\n        completion_tokens: import_v42.z.number().nullish(),\n        total_tokens: import_v42.z.number().nullish(),\n        prompt_tokens_details: import_v42.z.object({\n          cached_tokens: import_v42.z.number().nullish()\n        }).nullish(),\n        completion_tokens_details: import_v42.z.object({\n          reasoning_tokens: import_v42.z.number().nullish(),\n          accepted_prediction_tokens: import_v42.z.number().nullish(),\n          rejected_prediction_tokens: import_v42.z.number().nullish()\n        }).nullish()\n      }).nullish()\n    })\n  )\n);\nvar openaiChatChunkSchema = lazyValidator(\n  () => zodSchema(\n    import_v42.z.union([\n      import_v42.z.object({\n        id: import_v42.z.string().nullish(),\n        created: import_v42.z.number().nullish(),\n        model: import_v42.z.string().nullish(),\n        choices: import_v42.z.array(\n          import_v42.z.object({\n            delta: import_v42.z.object({\n              role: import_v42.z.enum([\"assistant\"]).nullish(),\n              content: import_v42.z.string().nullish(),\n              tool_calls: import_v42.z.array(\n                import_v42.z.object({\n                  index: import_v42.z.number(),\n                  id: import_v42.z.string().nullish(),\n                  type: import_v42.z.literal(\"function\").nullish(),\n                  function: import_v42.z.object({\n                    name: import_v42.z.string().nullish(),\n                    arguments: import_v42.z.string().nullish()\n                  })\n                })\n              ).nullish(),\n              annotations: import_v42.z.array(\n                import_v42.z.object({\n                  type: import_v42.z.literal(\"url_citation\"),\n                  start_index: import_v42.z.number(),\n                  end_index: import_v42.z.number(),\n                  url: import_v42.z.string(),\n                  title: import_v42.z.string()\n                })\n              ).nullish()\n            }).nullish(),\n            logprobs: import_v42.z.object({\n              content: import_v42.z.array(\n                import_v42.z.object({\n                  token: import_v42.z.string(),\n                  logprob: import_v42.z.number(),\n                  top_logprobs: import_v42.z.array(\n                    import_v42.z.object({\n                      token: import_v42.z.string(),\n                      logprob: import_v42.z.number()\n                    })\n                  )\n                })\n              ).nullish()\n            }).nullish(),\n            finish_reason: import_v42.z.string().nullish(),\n            index: import_v42.z.number()\n          })\n        ),\n        usage: import_v42.z.object({\n          prompt_tokens: import_v42.z.number().nullish(),\n          completion_tokens: import_v42.z.number().nullish(),\n          total_tokens: import_v42.z.number().nullish(),\n          prompt_tokens_details: import_v42.z.object({\n            cached_tokens: import_v42.z.number().nullish()\n          }).nullish(),\n          completion_tokens_details: import_v42.z.object({\n            reasoning_tokens: import_v42.z.number().nullish(),\n            accepted_prediction_tokens: import_v42.z.number().nullish(),\n            rejected_prediction_tokens: import_v42.z.number().nullish()\n          }).nullish()\n        }).nullish()\n      }),\n      openaiErrorDataSchema\n    ])\n  )\n);\nvar openaiChatLanguageModelOptions = lazyValidator(\n  () => zodSchema(\n    import_v43.z.object({\n      /**\n       * Modify the likelihood of specified tokens appearing in the completion.\n       *\n       * Accepts a JSON object that maps tokens (specified by their token ID in\n       * the GPT tokenizer) to an associated bias value from -100 to 100.\n       */\n      logitBias: import_v43.z.record(import_v43.z.coerce.number(), import_v43.z.number()).optional(),\n      /**\n       * Return the log probabilities of the tokens.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       */\n      logprobs: import_v43.z.union([import_v43.z.boolean(), import_v43.z.number()]).optional(),\n      /**\n       * Whether to enable parallel function calling during tool use. Default to true.\n       */\n      parallelToolCalls: import_v43.z.boolean().optional(),\n      /**\n       * A unique identifier representing your end-user, which can help OpenAI to\n       * monitor and detect abuse.\n       */\n      user: import_v43.z.string().optional(),\n      /**\n       * Reasoning effort for reasoning models. Defaults to `medium`.\n       */\n      reasoningEffort: import_v43.z.enum([\"minimal\", \"low\", \"medium\", \"high\"]).optional(),\n      /**\n       * Maximum number of completion tokens to generate. Useful for reasoning models.\n       */\n      maxCompletionTokens: import_v43.z.number().optional(),\n      /**\n       * Whether to enable persistence in responses API.\n       */\n      store: import_v43.z.boolean().optional(),\n      /**\n       * Metadata to associate with the request.\n       */\n      metadata: import_v43.z.record(import_v43.z.string().max(64), import_v43.z.string().max(512)).optional(),\n      /**\n       * Parameters for prediction mode.\n       */\n      prediction: import_v43.z.record(import_v43.z.string(), import_v43.z.any()).optional(),\n      /**\n       * Whether to use structured outputs.\n       *\n       * @default true\n       */\n      structuredOutputs: import_v43.z.boolean().optional(),\n      /**\n       * Service tier for the request.\n       * - 'auto': Default service tier. The request will be processed with the service tier configured in the\n       *           Project settings. Unless otherwise configured, the Project will use 'default'.\n       * - 'flex': 50% cheaper processing at the cost of increased latency. Only available for o3 and o4-mini models.\n       * - 'priority': Higher-speed processing with predictably low latency at premium cost. Available for Enterprise customers.\n       * - 'default': The request will be processed with the standard pricing and performance for the selected model.\n       *\n       * @default 'auto'\n       */\n      serviceTier: import_v43.z.enum([\"auto\", \"flex\", \"priority\", \"default\"]).optional(),\n      /**\n       * Whether to use strict JSON schema validation.\n       *\n       * @default false\n       */\n      strictJsonSchema: import_v43.z.boolean().optional(),\n      /**\n       * Controls the verbosity of the model's responses.\n       * Lower values will result in more concise responses, while higher values will result in more verbose responses.\n       */\n      textVerbosity: import_v43.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      /**\n       * A cache key for prompt caching. Allows manual control over prompt caching behavior.\n       * Useful for improving cache hit rates and working around automatic caching issues.\n       */\n      promptCacheKey: import_v43.z.string().optional(),\n      /**\n       * A stable identifier used to help detect users of your application\n       * that may be violating OpenAI's usage policies. The IDs should be a\n       * string that uniquely identifies each user. We recommend hashing their\n       * username or email address, in order to avoid sending us any identifying\n       * information.\n       */\n      safetyIdentifier: import_v43.z.string().optional()\n    })\n  )\n);\nfunction prepareChatTools({\n  tools,\n  toolChoice,\n  structuredOutputs,\n  strictJsonSchema\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiTools2 = [];\n  for (const tool12 of tools) {\n    switch (tool12.type) {\n      case \"function\":\n        openaiTools2.push({\n          type: \"function\",\n          function: {\n            name: tool12.name,\n            description: tool12.description,\n            parameters: tool12.inputSchema,\n            strict: structuredOutputs ? strictJsonSchema : void 0\n          }\n        });\n        break;\n      default:\n        toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiTools2,\n        toolChoice: {\n          type: \"function\",\n          function: {\n            name: toolChoice.toolName\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider14.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar OpenAIChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      tools,\n      toolChoice,\n      providerOptions\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const openaiOptions = (_a = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiChatLanguageModelOptions\n      })) != null ? _a : {};\n      const structuredOutputs = (_b = openaiOptions.structuredOutputs) != null ? _b : true;\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !structuredOutputs) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format schema is only supported with structuredOutputs\"\n        });\n      }\n      const { messages, warnings: messageWarnings } = convertToOpenAIChatMessages(\n        {\n          prompt,\n          systemMessageMode: getSystemMessageMode(this.modelId)\n        }\n      );\n      warnings.push(...messageWarnings);\n      const strictJsonSchema = (_c = openaiOptions.strictJsonSchema) != null ? _c : false;\n      const baseArgs = {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        logit_bias: openaiOptions.logitBias,\n        logprobs: openaiOptions.logprobs === true || typeof openaiOptions.logprobs === \"number\" ? true : void 0,\n        top_logprobs: typeof openaiOptions.logprobs === \"number\" ? openaiOptions.logprobs : typeof openaiOptions.logprobs === \"boolean\" ? openaiOptions.logprobs ? 0 : void 0 : void 0,\n        user: openaiOptions.user,\n        parallel_tool_calls: openaiOptions.parallelToolCalls,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? structuredOutputs && responseFormat.schema != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            schema: responseFormat.schema,\n            strict: strictJsonSchema,\n            name: (_d = responseFormat.name) != null ? _d : \"response\",\n            description: responseFormat.description\n          }\n        } : { type: \"json_object\" } : void 0,\n        stop: stopSequences,\n        seed,\n        verbosity: openaiOptions.textVerbosity,\n        // openai specific settings:\n        // TODO AI SDK 6: remove, we auto-map maxOutputTokens now\n        max_completion_tokens: openaiOptions.maxCompletionTokens,\n        store: openaiOptions.store,\n        metadata: openaiOptions.metadata,\n        prediction: openaiOptions.prediction,\n        reasoning_effort: openaiOptions.reasoningEffort,\n        service_tier: openaiOptions.serviceTier,\n        prompt_cache_key: openaiOptions.promptCacheKey,\n        safety_identifier: openaiOptions.safetyIdentifier,\n        // messages:\n        messages\n      };\n      if (isReasoningModel(this.modelId)) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.frequency_penalty != null) {\n          baseArgs.frequency_penalty = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"frequencyPenalty\",\n            details: \"frequencyPenalty is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.presence_penalty != null) {\n          baseArgs.presence_penalty = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"presencePenalty\",\n            details: \"presencePenalty is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.logit_bias != null) {\n          baseArgs.logit_bias = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"logitBias is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.logprobs != null) {\n          baseArgs.logprobs = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"logprobs is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_logprobs != null) {\n          baseArgs.top_logprobs = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"topLogprobs is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.max_tokens != null) {\n          if (baseArgs.max_completion_tokens == null) {\n            baseArgs.max_completion_tokens = baseArgs.max_tokens;\n          }\n          baseArgs.max_tokens = void 0;\n        }\n      } else if (this.modelId.startsWith(\"gpt-4o-search-preview\") || this.modelId.startsWith(\"gpt-4o-mini-search-preview\")) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for the search preview models and has been removed.\"\n          });\n        }\n      }\n      if (openaiOptions.serviceTier === \"flex\" && !supportsFlexProcessing(this.modelId)) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n        });\n        baseArgs.service_tier = void 0;\n      }\n      if (openaiOptions.serviceTier === \"priority\" && !supportsPriorityProcessing(this.modelId)) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n        });\n        baseArgs.service_tier = void 0;\n      }\n      const {\n        tools: openaiTools2,\n        toolChoice: openaiToolChoice,\n        toolWarnings\n      } = prepareChatTools({\n        tools,\n        toolChoice,\n        structuredOutputs,\n        strictJsonSchema\n      });\n      return {\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: openaiTools2,\n          tool_choice: openaiToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n      const { args: body, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiChatResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      const text = choice.message.content;\n      if (text != null && text.length > 0) {\n        content.push({ type: \"text\", text });\n      }\n      for (const toolCall of (_a = choice.message.tool_calls) != null ? _a : []) {\n        content.push({\n          type: \"tool-call\",\n          toolCallId: (_b = toolCall.id) != null ? _b : generateId(),\n          toolName: toolCall.function.name,\n          input: toolCall.function.arguments\n        });\n      }\n      for (const annotation of (_c = choice.message.annotations) != null ? _c : []) {\n        content.push({\n          type: \"source\",\n          sourceType: \"url\",\n          id: generateId(),\n          url: annotation.url,\n          title: annotation.title\n        });\n      }\n      const completionTokenDetails = (_d = response.usage) == null ? void 0 : _d.completion_tokens_details;\n      const promptTokenDetails = (_e = response.usage) == null ? void 0 : _e.prompt_tokens_details;\n      const providerMetadata = { openai: {} };\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n        providerMetadata.openai.acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n      }\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n        providerMetadata.openai.rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n      }\n      if (((_f = choice.logprobs) == null ? void 0 : _f.content) != null) {\n        providerMetadata.openai.logprobs = choice.logprobs.content;\n      }\n      return {\n        content,\n        finishReason: mapOpenAIFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: (_h = (_g = response.usage) == null ? void 0 : _g.prompt_tokens) != null ? _h : void 0,\n          outputTokens: (_j = (_i = response.usage) == null ? void 0 : _i.completion_tokens) != null ? _j : void 0,\n          totalTokens: (_l = (_k = response.usage) == null ? void 0 : _k.total_tokens) != null ? _l : void 0,\n          reasoningTokens: (_m = completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens) != null ? _m : void 0,\n          cachedInputTokens: (_n = promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens) != null ? _n : void 0\n        },\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings,\n        providerMetadata\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        stream_options: {\n          include_usage: true\n        }\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiChatChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const toolCalls = [];\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      let isActiveText = false;\n      const providerMetadata = { openai: {} };\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata(value)));\n              }\n              if (value.usage != null) {\n                usage.inputTokens = (_a = value.usage.prompt_tokens) != null ? _a : void 0;\n                usage.outputTokens = (_b = value.usage.completion_tokens) != null ? _b : void 0;\n                usage.totalTokens = (_c = value.usage.total_tokens) != null ? _c : void 0;\n                usage.reasoningTokens = (_e = (_d = value.usage.completion_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : void 0;\n                usage.cachedInputTokens = (_g = (_f = value.usage.prompt_tokens_details) == null ? void 0 : _f.cached_tokens) != null ? _g : void 0;\n                if (((_h = value.usage.completion_tokens_details) == null ? void 0 : _h.accepted_prediction_tokens) != null) {\n                  providerMetadata.openai.acceptedPredictionTokens = (_i = value.usage.completion_tokens_details) == null ? void 0 : _i.accepted_prediction_tokens;\n                }\n                if (((_j = value.usage.completion_tokens_details) == null ? void 0 : _j.rejected_prediction_tokens) != null) {\n                  providerMetadata.openai.rejectedPredictionTokens = (_k = value.usage.completion_tokens_details) == null ? void 0 : _k.rejected_prediction_tokens;\n                }\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAIFinishReason(choice.finish_reason);\n              }\n              if (((_l = choice == null ? void 0 : choice.logprobs) == null ? void 0 : _l.content) != null) {\n                providerMetadata.openai.logprobs = choice.logprobs.content;\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              if (delta.content != null) {\n                if (!isActiveText) {\n                  controller.enqueue({ type: \"text-start\", id: \"0\" });\n                  isActiveText = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: delta.content\n                });\n              }\n              if (delta.tool_calls != null) {\n                for (const toolCallDelta of delta.tool_calls) {\n                  const index = toolCallDelta.index;\n                  if (toolCalls[index] == null) {\n                    if (toolCallDelta.type !== \"function\") {\n                      throw new import_provider12.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function' type.`\n                      });\n                    }\n                    if (toolCallDelta.id == null) {\n                      throw new import_provider12.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'id' to be a string.`\n                      });\n                    }\n                    if (((_m = toolCallDelta.function) == null ? void 0 : _m.name) == null) {\n                      throw new import_provider12.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function.name' to be a string.`\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: toolCallDelta.id,\n                      toolName: toolCallDelta.function.name\n                    });\n                    toolCalls[index] = {\n                      id: toolCallDelta.id,\n                      type: \"function\",\n                      function: {\n                        name: toolCallDelta.function.name,\n                        arguments: (_n = toolCallDelta.function.arguments) != null ? _n : \"\"\n                      },\n                      hasFinished: false\n                    };\n                    const toolCall2 = toolCalls[index];\n                    if (((_o = toolCall2.function) == null ? void 0 : _o.name) != null && ((_p = toolCall2.function) == null ? void 0 : _p.arguments) != null) {\n                      if (toolCall2.function.arguments.length > 0) {\n                        controller.enqueue({\n                          type: \"tool-input-delta\",\n                          id: toolCall2.id,\n                          delta: toolCall2.function.arguments\n                        });\n                      }\n                      if (isParsableJson(toolCall2.function.arguments)) {\n                        controller.enqueue({\n                          type: \"tool-input-end\",\n                          id: toolCall2.id\n                        });\n                        controller.enqueue({\n                          type: \"tool-call\",\n                          toolCallId: (_q = toolCall2.id) != null ? _q : generateId(),\n                          toolName: toolCall2.function.name,\n                          input: toolCall2.function.arguments\n                        });\n                        toolCall2.hasFinished = true;\n                      }\n                    }\n                    continue;\n                  }\n                  const toolCall = toolCalls[index];\n                  if (toolCall.hasFinished) {\n                    continue;\n                  }\n                  if (((_r = toolCallDelta.function) == null ? void 0 : _r.arguments) != null) {\n                    toolCall.function.arguments += (_t = (_s = toolCallDelta.function) == null ? void 0 : _s.arguments) != null ? _t : \"\";\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.id,\n                    delta: (_u = toolCallDelta.function.arguments) != null ? _u : \"\"\n                  });\n                  if (((_v = toolCall.function) == null ? void 0 : _v.name) != null && ((_w = toolCall.function) == null ? void 0 : _w.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: toolCall.id\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: (_x = toolCall.id) != null ? _x : generateId(),\n                      toolName: toolCall.function.name,\n                      input: toolCall.function.arguments\n                    });\n                    toolCall.hasFinished = true;\n                  }\n                }\n              }\n              if (delta.annotations != null) {\n                for (const annotation of delta.annotations) {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: generateId(),\n                    url: annotation.url,\n                    title: annotation.title\n                  });\n                }\n              }\n            },\n            flush(controller) {\n              if (isActiveText) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue(__spreadValues({\n                type: \"finish\",\n                finishReason,\n                usage\n              }, providerMetadata != null ? { providerMetadata } : {}));\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction isReasoningModel(modelId) {\n  return (modelId.startsWith(\"o\") || modelId.startsWith(\"gpt-5\")) && !modelId.startsWith(\"gpt-5-chat\");\n}\nfunction supportsFlexProcessing(modelId) {\n  return modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n}\nfunction supportsPriorityProcessing(modelId) {\n  return modelId.startsWith(\"gpt-4\") || modelId.startsWith(\"gpt-5-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-nano\") && !modelId.startsWith(\"gpt-5-chat\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\");\n}\nfunction getSystemMessageMode(modelId) {\n  var _a, _b;\n  if (!isReasoningModel(modelId)) {\n    return \"system\";\n  }\n  return (_b = (_a = reasoningModels[modelId]) == null ? void 0 : _a.systemMessageMode) != null ? _b : \"developer\";\n}\nvar reasoningModels = {\n  \"o1-mini\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-mini-2024-09-12\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-preview\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-preview-2024-09-12\": {\n    systemMessageMode: \"remove\"\n  },\n  o3: {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-2025-04-16\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-mini\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-mini-2025-01-31\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o4-mini\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o4-mini-2025-04-16\": {\n    systemMessageMode: \"developer\"\n  }\n};\nfunction convertToOpenAICompletionPrompt({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new import_provider15.InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new import_provider15.UnsupportedFunctionalityError({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new import_provider15.UnsupportedFunctionalityError({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\nfunction getResponseMetadata2({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAIFinishReason2(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiCompletionResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v44.z.object({\n      id: import_v44.z.string().nullish(),\n      created: import_v44.z.number().nullish(),\n      model: import_v44.z.string().nullish(),\n      choices: import_v44.z.array(\n        import_v44.z.object({\n          text: import_v44.z.string(),\n          finish_reason: import_v44.z.string(),\n          logprobs: import_v44.z.object({\n            tokens: import_v44.z.array(import_v44.z.string()),\n            token_logprobs: import_v44.z.array(import_v44.z.number()),\n            top_logprobs: import_v44.z.array(import_v44.z.record(import_v44.z.string(), import_v44.z.number())).nullish()\n          }).nullish()\n        })\n      ),\n      usage: import_v44.z.object({\n        prompt_tokens: import_v44.z.number(),\n        completion_tokens: import_v44.z.number(),\n        total_tokens: import_v44.z.number()\n      }).nullish()\n    })\n  )\n);\nvar openaiCompletionChunkSchema = lazyValidator(\n  () => zodSchema(\n    import_v44.z.union([\n      import_v44.z.object({\n        id: import_v44.z.string().nullish(),\n        created: import_v44.z.number().nullish(),\n        model: import_v44.z.string().nullish(),\n        choices: import_v44.z.array(\n          import_v44.z.object({\n            text: import_v44.z.string(),\n            finish_reason: import_v44.z.string().nullish(),\n            index: import_v44.z.number(),\n            logprobs: import_v44.z.object({\n              tokens: import_v44.z.array(import_v44.z.string()),\n              token_logprobs: import_v44.z.array(import_v44.z.number()),\n              top_logprobs: import_v44.z.array(import_v44.z.record(import_v44.z.string(), import_v44.z.number())).nullish()\n            }).nullish()\n          })\n        ),\n        usage: import_v44.z.object({\n          prompt_tokens: import_v44.z.number(),\n          completion_tokens: import_v44.z.number(),\n          total_tokens: import_v44.z.number()\n        }).nullish()\n      }),\n      openaiErrorDataSchema\n    ])\n  )\n);\nvar openaiCompletionProviderOptions = lazyValidator(\n  () => zodSchema(\n    import_v45.z.object({\n      /**\n      Echo back the prompt in addition to the completion.\n         */\n      echo: import_v45.z.boolean().optional(),\n      /**\n      Modify the likelihood of specified tokens appearing in the completion.\n      \n      Accepts a JSON object that maps tokens (specified by their token ID in\n      the GPT tokenizer) to an associated bias value from -100 to 100. You\n      can use this tokenizer tool to convert text to token IDs. Mathematically,\n      the bias is added to the logits generated by the model prior to sampling.\n      The exact effect will vary per model, but values between -1 and 1 should\n      decrease or increase likelihood of selection; values like -100 or 100\n      should result in a ban or exclusive selection of the relevant token.\n      \n      As an example, you can pass {\"50256\": -100} to prevent the <|endoftext|>\n      token from being generated.\n       */\n      logitBias: import_v45.z.record(import_v45.z.string(), import_v45.z.number()).optional(),\n      /**\n      The suffix that comes after a completion of inserted text.\n       */\n      suffix: import_v45.z.string().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n       */\n      user: import_v45.z.string().optional(),\n      /**\n      Return the log probabilities of the tokens. Including logprobs will increase\n      the response size and can slow down response times. However, it can\n      be useful to better understand how the model is behaving.\n      Setting to true will return the log probabilities of the tokens that\n      were generated.\n      Setting to a number will return the log probabilities of the top n\n      tokens that were generated.\n         */\n      logprobs: import_v45.z.union([import_v45.z.boolean(), import_v45.z.number()]).optional()\n    })\n  )\n);\nvar OpenAICompletionLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      // No URLs are supported for completion models.\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences: userStopSequences,\n      responseFormat,\n      tools,\n      toolChoice,\n      seed,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openaiOptions = __spreadValues(__spreadValues({}, yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiCompletionProviderOptions\n      })), yield parseProviderOptions({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompletionProviderOptions\n      }));\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if (tools == null ? void 0 : tools.length) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"tools\" });\n      }\n      if (toolChoice != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"toolChoice\" });\n      }\n      if (responseFormat != null && responseFormat.type !== \"text\") {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format is not supported.\"\n        });\n      }\n      const { prompt: completionPrompt, stopSequences } = convertToOpenAICompletionPrompt({ prompt });\n      const stop2 = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n      return {\n        args: {\n          // model id:\n          model: this.modelId,\n          // model specific settings:\n          echo: openaiOptions.echo,\n          logit_bias: openaiOptions.logitBias,\n          logprobs: (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? 0 : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === false ? void 0 : openaiOptions == null ? void 0 : openaiOptions.logprobs,\n          suffix: openaiOptions.suffix,\n          user: openaiOptions.user,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          seed,\n          // prompt:\n          prompt: completionPrompt,\n          // stop sequences:\n          stop: stop2.length > 0 ? stop2 : void 0\n        },\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { args, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: args,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiCompletionResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const providerMetadata = { openai: {} };\n      if (choice.logprobs != null) {\n        providerMetadata.openai.logprobs = choice.logprobs;\n      }\n      return {\n        content: [{ type: \"text\", text: choice.text }],\n        usage: {\n          inputTokens: (_a = response.usage) == null ? void 0 : _a.prompt_tokens,\n          outputTokens: (_b = response.usage) == null ? void 0 : _b.completion_tokens,\n          totalTokens: (_c = response.usage) == null ? void 0 : _c.total_tokens\n        },\n        finishReason: mapOpenAIFinishReason2(choice.finish_reason),\n        request: { body: args },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata2(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        providerMetadata,\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        stream_options: {\n          include_usage: true\n        }\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiCompletionChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const providerMetadata = { openai: {} };\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata2(value)));\n                controller.enqueue({ type: \"text-start\", id: \"0\" });\n              }\n              if (value.usage != null) {\n                usage.inputTokens = value.usage.prompt_tokens;\n                usage.outputTokens = value.usage.completion_tokens;\n                usage.totalTokens = value.usage.total_tokens;\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAIFinishReason2(choice.finish_reason);\n              }\n              if ((choice == null ? void 0 : choice.logprobs) != null) {\n                providerMetadata.openai.logprobs = choice.logprobs;\n              }\n              if ((choice == null ? void 0 : choice.text) != null && choice.text.length > 0) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: choice.text\n                });\n              }\n            },\n            flush(controller) {\n              if (!isFirstChunk) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                providerMetadata,\n                usage\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar openaiEmbeddingProviderOptions = lazyValidator(\n  () => zodSchema(\n    import_v46.z.object({\n      /**\n      The number of dimensions the resulting output embeddings should have.\n      Only supported in text-embedding-3 and later models.\n         */\n      dimensions: import_v46.z.number().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n      */\n      user: import_v46.z.string().optional()\n    })\n  )\n);\nvar openaiTextEmbeddingResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v47.z.object({\n      data: import_v47.z.array(import_v47.z.object({ embedding: import_v47.z.array(import_v47.z.number()) })),\n      usage: import_v47.z.object({ prompt_tokens: import_v47.z.number() }).nullish()\n    })\n  )\n);\nvar OpenAIEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      headers,\n      abortSignal,\n      providerOptions\n    }) {\n      var _a;\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider16.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const openaiOptions = (_a = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiEmbeddingProviderOptions\n      })) != null ? _a : {};\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/embeddings\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: {\n          model: this.modelId,\n          input: values,\n          encoding_format: \"float\",\n          dimensions: openaiOptions.dimensions,\n          user: openaiOptions.user\n        },\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiTextEmbeddingResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.data.map((item) => item.embedding),\n        usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar openaiImageResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v48.z.object({\n      data: import_v48.z.array(\n        import_v48.z.object({\n          b64_json: import_v48.z.string(),\n          revised_prompt: import_v48.z.string().optional()\n        })\n      )\n    })\n  )\n);\nvar modelMaxImagesPerCall = {\n  \"dall-e-3\": 1,\n  \"dall-e-2\": 10,\n  \"gpt-image-1\": 10,\n  \"gpt-image-1-mini\": 10\n};\nvar hasDefaultResponseFormat = /* @__PURE__ */ new Set([\n  \"gpt-image-1\",\n  \"gpt-image-1-mini\"\n]);\nvar OpenAIImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get maxImagesPerCall() {\n    var _a;\n    return (_a = modelMaxImagesPerCall[this.modelId]) != null ? _a : 1;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      n,\n      size,\n      aspectRatio,\n      seed,\n      providerOptions,\n      headers,\n      abortSignal\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      if (aspectRatio != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"aspectRatio\",\n          details: \"This model does not support aspect ratio. Use `size` instead.\"\n        });\n      }\n      if (seed != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n      }\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { value: response, responseHeaders } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/images/generations\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: __spreadValues(__spreadValues({\n          model: this.modelId,\n          prompt,\n          n,\n          size\n        }, (_d = providerOptions.openai) != null ? _d : {}), !hasDefaultResponseFormat.has(this.modelId) ? { response_format: \"b64_json\" } : {}),\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiImageResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response.data.map((item) => item.b64_json),\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders\n        },\n        providerMetadata: {\n          openai: {\n            images: response.data.map(\n              (item) => item.revised_prompt ? {\n                revisedPrompt: item.revised_prompt\n              } : null\n            )\n          }\n        }\n      };\n    });\n  }\n};\nvar codeInterpreterInputSchema = lazySchema(\n  () => zodSchema(\n    import_v49.z.object({\n      code: import_v49.z.string().nullish(),\n      containerId: import_v49.z.string()\n    })\n  )\n);\nvar codeInterpreterOutputSchema = lazySchema(\n  () => zodSchema(\n    import_v49.z.object({\n      outputs: import_v49.z.array(\n        import_v49.z.discriminatedUnion(\"type\", [\n          import_v49.z.object({ type: import_v49.z.literal(\"logs\"), logs: import_v49.z.string() }),\n          import_v49.z.object({ type: import_v49.z.literal(\"image\"), url: import_v49.z.string() })\n        ])\n      ).nullish()\n    })\n  )\n);\nvar codeInterpreterArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v49.z.object({\n      container: import_v49.z.union([\n        import_v49.z.string(),\n        import_v49.z.object({\n          fileIds: import_v49.z.array(import_v49.z.string()).optional()\n        })\n      ]).optional()\n    })\n  )\n);\nvar codeInterpreterToolFactory = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.code_interpreter\",\n  name: \"code_interpreter\",\n  inputSchema: codeInterpreterInputSchema,\n  outputSchema: codeInterpreterOutputSchema\n});\nvar codeInterpreter = (args = {}) => {\n  return codeInterpreterToolFactory(args);\n};\nvar comparisonFilterSchema = import_v410.z.object({\n  key: import_v410.z.string(),\n  type: import_v410.z.enum([\"eq\", \"ne\", \"gt\", \"gte\", \"lt\", \"lte\"]),\n  value: import_v410.z.union([import_v410.z.string(), import_v410.z.number(), import_v410.z.boolean()])\n});\nvar compoundFilterSchema = import_v410.z.object({\n  type: import_v410.z.enum([\"and\", \"or\"]),\n  filters: import_v410.z.array(\n    import_v410.z.union([comparisonFilterSchema, import_v410.z.lazy(() => compoundFilterSchema)])\n  )\n});\nvar fileSearchArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v410.z.object({\n      vectorStoreIds: import_v410.z.array(import_v410.z.string()),\n      maxNumResults: import_v410.z.number().optional(),\n      ranking: import_v410.z.object({\n        ranker: import_v410.z.string().optional(),\n        scoreThreshold: import_v410.z.number().optional()\n      }).optional(),\n      filters: import_v410.z.union([comparisonFilterSchema, compoundFilterSchema]).optional()\n    })\n  )\n);\nvar fileSearchOutputSchema = lazySchema(\n  () => zodSchema(\n    import_v410.z.object({\n      queries: import_v410.z.array(import_v410.z.string()),\n      results: import_v410.z.array(\n        import_v410.z.object({\n          attributes: import_v410.z.record(import_v410.z.string(), import_v410.z.unknown()),\n          fileId: import_v410.z.string(),\n          filename: import_v410.z.string(),\n          score: import_v410.z.number(),\n          text: import_v410.z.string()\n        })\n      ).nullable()\n    })\n  )\n);\nvar fileSearch = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.file_search\",\n  name: \"file_search\",\n  inputSchema: import_v410.z.object({}),\n  outputSchema: fileSearchOutputSchema\n});\nvar imageGenerationArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v411.z.object({\n      background: import_v411.z.enum([\"auto\", \"opaque\", \"transparent\"]).optional(),\n      inputFidelity: import_v411.z.enum([\"low\", \"high\"]).optional(),\n      inputImageMask: import_v411.z.object({\n        fileId: import_v411.z.string().optional(),\n        imageUrl: import_v411.z.string().optional()\n      }).optional(),\n      model: import_v411.z.string().optional(),\n      moderation: import_v411.z.enum([\"auto\"]).optional(),\n      outputCompression: import_v411.z.number().int().min(0).max(100).optional(),\n      outputFormat: import_v411.z.enum([\"png\", \"jpeg\", \"webp\"]).optional(),\n      partialImages: import_v411.z.number().int().min(0).max(3).optional(),\n      quality: import_v411.z.enum([\"auto\", \"low\", \"medium\", \"high\"]).optional(),\n      size: import_v411.z.enum([\"1024x1024\", \"1024x1536\", \"1536x1024\", \"auto\"]).optional()\n    }).strict()\n  )\n);\nvar imageGenerationInputSchema = lazySchema(() => zodSchema(import_v411.z.object({})));\nvar imageGenerationOutputSchema = lazySchema(\n  () => zodSchema(import_v411.z.object({ result: import_v411.z.string() }))\n);\nvar imageGenerationToolFactory = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.image_generation\",\n  name: \"image_generation\",\n  inputSchema: imageGenerationInputSchema,\n  outputSchema: imageGenerationOutputSchema\n});\nvar imageGeneration = (args = {}) => {\n  return imageGenerationToolFactory(args);\n};\nvar localShellInputSchema = lazySchema(\n  () => zodSchema(\n    import_v412.z.object({\n      action: import_v412.z.object({\n        type: import_v412.z.literal(\"exec\"),\n        command: import_v412.z.array(import_v412.z.string()),\n        timeoutMs: import_v412.z.number().optional(),\n        user: import_v412.z.string().optional(),\n        workingDirectory: import_v412.z.string().optional(),\n        env: import_v412.z.record(import_v412.z.string(), import_v412.z.string()).optional()\n      })\n    })\n  )\n);\nvar localShellOutputSchema = lazySchema(\n  () => zodSchema(import_v412.z.object({ output: import_v412.z.string() }))\n);\nvar localShell = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.local_shell\",\n  name: \"local_shell\",\n  inputSchema: localShellInputSchema,\n  outputSchema: localShellOutputSchema\n});\nvar webSearchArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v413.z.object({\n      filters: import_v413.z.object({ allowedDomains: import_v413.z.array(import_v413.z.string()).optional() }).optional(),\n      searchContextSize: import_v413.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: import_v413.z.object({\n        type: import_v413.z.literal(\"approximate\"),\n        country: import_v413.z.string().optional(),\n        city: import_v413.z.string().optional(),\n        region: import_v413.z.string().optional(),\n        timezone: import_v413.z.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchInputSchema = lazySchema(() => zodSchema(import_v413.z.object({})));\nvar webSearchOutputSchema = lazySchema(\n  () => zodSchema(\n    import_v413.z.object({\n      action: import_v413.z.discriminatedUnion(\"type\", [\n        import_v413.z.object({\n          type: import_v413.z.literal(\"search\"),\n          query: import_v413.z.string().optional()\n        }),\n        import_v413.z.object({\n          type: import_v413.z.literal(\"openPage\"),\n          url: import_v413.z.string()\n        }),\n        import_v413.z.object({\n          type: import_v413.z.literal(\"find\"),\n          url: import_v413.z.string(),\n          pattern: import_v413.z.string()\n        })\n      ])\n    })\n  )\n);\nvar webSearchToolFactory = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.web_search\",\n  name: \"web_search\",\n  inputSchema: webSearchInputSchema,\n  outputSchema: webSearchOutputSchema\n});\nvar webSearch = (args = {}) => webSearchToolFactory(args);\nvar webSearchPreviewArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v414.z.object({\n      searchContextSize: import_v414.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: import_v414.z.object({\n        type: import_v414.z.literal(\"approximate\"),\n        country: import_v414.z.string().optional(),\n        city: import_v414.z.string().optional(),\n        region: import_v414.z.string().optional(),\n        timezone: import_v414.z.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchPreviewInputSchema = lazySchema(\n  () => zodSchema(import_v414.z.object({}))\n);\nvar webSearchPreviewOutputSchema = lazySchema(\n  () => zodSchema(\n    import_v414.z.object({\n      action: import_v414.z.discriminatedUnion(\"type\", [\n        import_v414.z.object({\n          type: import_v414.z.literal(\"search\"),\n          query: import_v414.z.string().optional()\n        }),\n        import_v414.z.object({\n          type: import_v414.z.literal(\"openPage\"),\n          url: import_v414.z.string()\n        }),\n        import_v414.z.object({\n          type: import_v414.z.literal(\"find\"),\n          url: import_v414.z.string(),\n          pattern: import_v414.z.string()\n        })\n      ])\n    })\n  )\n);\nvar webSearchPreview = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.web_search_preview\",\n  name: \"web_search_preview\",\n  inputSchema: webSearchPreviewInputSchema,\n  outputSchema: webSearchPreviewOutputSchema\n});\nvar openaiTools = {\n  /**\n   * The Code Interpreter tool allows models to write and run Python code in a\n   * sandboxed environment to solve complex problems in domains like data analysis,\n   * coding, and math.\n   *\n   * @param container - The container to use for the code interpreter.\n   *\n   * Must have name `code_interpreter`.\n   */\n  codeInterpreter,\n  /**\n   * File search is a tool available in the Responses API. It enables models to\n   * retrieve information in a knowledge base of previously uploaded files through\n   * semantic and keyword search.\n   *\n   * Must have name `file_search`.\n   *\n   * @param vectorStoreIds - The vector store IDs to use for the file search.\n   * @param maxNumResults - The maximum number of results to return.\n   * @param ranking - The ranking options to use for the file search.\n   * @param filters - The filters to use for the file search.\n   */\n  fileSearch,\n  /**\n   * The image generation tool allows you to generate images using a text prompt,\n   * and optionally image inputs. It leverages the GPT Image model,\n   * and automatically optimizes text inputs for improved performance.\n   *\n   * Must have name `image_generation`.\n   *\n   * @param size - Image dimensions (e.g., 1024x1024, 1024x1536)\n   * @param quality - Rendering quality (e.g. low, medium, high)\n   * @param format - File output format\n   * @param compression - Compression level (0-100%) for JPEG and WebP formats\n   * @param background - Transparent or opaque\n   */\n  imageGeneration,\n  /**\n   * Local shell is a tool that allows agents to run shell commands locally\n   * on a machine you or the user provides.\n   *\n   * Supported models: `gpt-5-codex` and `codex-mini-latest`\n   *\n   * Must have name `local_shell`.\n   */\n  localShell,\n  /**\n   * Web search allows models to access up-to-date information from the internet\n   * and provide answers with sourced citations.\n   *\n   * Must have name `web_search_preview`.\n   *\n   * @param searchContextSize - The search context size to use for the web search.\n   * @param userLocation - The user location to use for the web search.\n   *\n   * @deprecated Use `webSearch` instead.\n   */\n  webSearchPreview,\n  /**\n   * Web search allows models to access up-to-date information from the internet\n   * and provide answers with sourced citations.\n   *\n   * Must have name `web_search`.\n   *\n   * @param filters - The filters to use for the web search.\n   * @param searchContextSize - The search context size to use for the web search.\n   * @param userLocation - The user location to use for the web search.\n   */\n  webSearch\n};\nfunction isFileId(data, prefixes) {\n  if (!prefixes) return false;\n  return prefixes.some((prefix) => data.startsWith(prefix));\n}\nfunction convertToOpenAIResponsesInput(_0) {\n  return __async(this, arguments, function* ({\n    prompt,\n    systemMessageMode,\n    fileIdPrefixes,\n    store,\n    hasLocalShellTool = false\n  }) {\n    var _a, _b, _c, _d;\n    const input = [];\n    const warnings = [];\n    for (const { role, content } of prompt) {\n      switch (role) {\n        case \"system\": {\n          switch (systemMessageMode) {\n            case \"system\": {\n              input.push({ role: \"system\", content });\n              break;\n            }\n            case \"developer\": {\n              input.push({ role: \"developer\", content });\n              break;\n            }\n            case \"remove\": {\n              warnings.push({\n                type: \"other\",\n                message: \"system messages are removed for this model\"\n              });\n              break;\n            }\n            default: {\n              const _exhaustiveCheck = systemMessageMode;\n              throw new Error(\n                `Unsupported system message mode: ${_exhaustiveCheck}`\n              );\n            }\n          }\n          break;\n        }\n        case \"user\": {\n          input.push({\n            role: \"user\",\n            content: content.map((part, index) => {\n              var _a2, _b2, _c2;\n              switch (part.type) {\n                case \"text\": {\n                  return { type: \"input_text\", text: part.text };\n                }\n                case \"file\": {\n                  if (part.mediaType.startsWith(\"image/\")) {\n                    const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                    return __spreadProps(__spreadValues({\n                      type: \"input_image\"\n                    }, part.data instanceof URL ? { image_url: part.data.toString() } : typeof part.data === \"string\" && isFileId(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      image_url: `data:${mediaType};base64,${convertToBase64(part.data)}`\n                    }), {\n                      detail: (_b2 = (_a2 = part.providerOptions) == null ? void 0 : _a2.openai) == null ? void 0 : _b2.imageDetail\n                    });\n                  } else if (part.mediaType === \"application/pdf\") {\n                    if (part.data instanceof URL) {\n                      return {\n                        type: \"input_file\",\n                        file_url: part.data.toString()\n                      };\n                    }\n                    return __spreadValues({\n                      type: \"input_file\"\n                    }, typeof part.data === \"string\" && isFileId(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      filename: (_c2 = part.filename) != null ? _c2 : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase64(part.data)}`\n                    });\n                  } else {\n                    throw new import_provider18.UnsupportedFunctionalityError({\n                      functionality: `file part media type ${part.mediaType}`\n                    });\n                  }\n                }\n              }\n            })\n          });\n          break;\n        }\n        case \"assistant\": {\n          const reasoningMessages = {};\n          const toolCallParts = {};\n          for (const part of content) {\n            switch (part.type) {\n              case \"text\": {\n                const id = (_b = (_a = part.providerOptions) == null ? void 0 : _a.openai) == null ? void 0 : _b.itemId;\n                if (store && id != null) {\n                  input.push({ type: \"item_reference\", id });\n                  break;\n                }\n                input.push({\n                  role: \"assistant\",\n                  content: [{ type: \"output_text\", text: part.text }],\n                  id\n                });\n                break;\n              }\n              case \"tool-call\": {\n                toolCallParts[part.toolCallId] = part;\n                if (part.providerExecuted) {\n                  break;\n                }\n                const id = (_d = (_c = part.providerOptions) == null ? void 0 : _c.openai) == null ? void 0 : _d.itemId;\n                if (store && id != null) {\n                  input.push({ type: \"item_reference\", id });\n                  break;\n                }\n                if (hasLocalShellTool && part.toolName === \"local_shell\") {\n                  const parsedInput = yield validateTypes({\n                    value: part.input,\n                    schema: localShellInputSchema\n                  });\n                  input.push({\n                    type: \"local_shell_call\",\n                    call_id: part.toolCallId,\n                    id,\n                    action: {\n                      type: \"exec\",\n                      command: parsedInput.action.command,\n                      timeout_ms: parsedInput.action.timeoutMs,\n                      user: parsedInput.action.user,\n                      working_directory: parsedInput.action.workingDirectory,\n                      env: parsedInput.action.env\n                    }\n                  });\n                  break;\n                }\n                input.push({\n                  type: \"function_call\",\n                  call_id: part.toolCallId,\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input),\n                  id\n                });\n                break;\n              }\n              // assistant tool result parts are from provider-executed tools:\n              case \"tool-result\": {\n                if (store) {\n                  input.push({ type: \"item_reference\", id: part.toolCallId });\n                } else {\n                  warnings.push({\n                    type: \"other\",\n                    message: `Results for OpenAI tool ${part.toolName} are not sent to the API when store is false`\n                  });\n                }\n                break;\n              }\n              case \"reasoning\": {\n                const providerOptions = yield parseProviderOptions({\n                  provider: \"openai\",\n                  providerOptions: part.providerOptions,\n                  schema: openaiResponsesReasoningProviderOptionsSchema\n                });\n                const reasoningId = providerOptions == null ? void 0 : providerOptions.itemId;\n                if (reasoningId != null) {\n                  const reasoningMessage = reasoningMessages[reasoningId];\n                  if (store) {\n                    if (reasoningMessage === void 0) {\n                      input.push({ type: \"item_reference\", id: reasoningId });\n                      reasoningMessages[reasoningId] = {\n                        type: \"reasoning\",\n                        id: reasoningId,\n                        summary: []\n                      };\n                    }\n                  } else {\n                    const summaryParts = [];\n                    if (part.text.length > 0) {\n                      summaryParts.push({\n                        type: \"summary_text\",\n                        text: part.text\n                      });\n                    } else if (reasoningMessage !== void 0) {\n                      warnings.push({\n                        type: \"other\",\n                        message: `Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(part)}.`\n                      });\n                    }\n                    if (reasoningMessage === void 0) {\n                      reasoningMessages[reasoningId] = {\n                        type: \"reasoning\",\n                        id: reasoningId,\n                        encrypted_content: providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent,\n                        summary: summaryParts\n                      };\n                      input.push(reasoningMessages[reasoningId]);\n                    } else {\n                      reasoningMessage.summary.push(...summaryParts);\n                      if ((providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent) != null) {\n                        reasoningMessage.encrypted_content = providerOptions.reasoningEncryptedContent;\n                      }\n                    }\n                  }\n                } else {\n                  warnings.push({\n                    type: \"other\",\n                    message: `Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(part)}.`\n                  });\n                }\n                break;\n              }\n            }\n          }\n          break;\n        }\n        case \"tool\": {\n          for (const part of content) {\n            const output = part.output;\n            if (hasLocalShellTool && part.toolName === \"local_shell\" && output.type === \"json\") {\n              const parsedOutput = yield validateTypes({\n                value: output.value,\n                schema: localShellOutputSchema\n              });\n              input.push({\n                type: \"local_shell_call_output\",\n                call_id: part.toolCallId,\n                output: parsedOutput.output\n              });\n              break;\n            }\n            let contentValue;\n            switch (output.type) {\n              case \"text\":\n              case \"error-text\":\n                contentValue = output.value;\n                break;\n              case \"json\":\n              case \"error-json\":\n                contentValue = JSON.stringify(output.value);\n                break;\n              case \"content\":\n                contentValue = output.value.map((item) => {\n                  switch (item.type) {\n                    case \"text\": {\n                      return { type: \"input_text\", text: item.text };\n                    }\n                    case \"media\": {\n                      return item.mediaType.startsWith(\"image/\") ? {\n                        type: \"input_image\",\n                        image_url: `data:${item.mediaType};base64,${item.data}`\n                      } : {\n                        type: \"input_file\",\n                        filename: \"data\",\n                        file_data: `data:${item.mediaType};base64,${item.data}`\n                      };\n                    }\n                  }\n                });\n                break;\n            }\n            input.push({\n              type: \"function_call_output\",\n              call_id: part.toolCallId,\n              output: contentValue\n            });\n          }\n          break;\n        }\n        default: {\n          const _exhaustiveCheck = role;\n          throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n        }\n      }\n    }\n    return { input, warnings };\n  });\n}\nvar openaiResponsesReasoningProviderOptionsSchema = import_v415.z.object({\n  itemId: import_v415.z.string().nullish(),\n  reasoningEncryptedContent: import_v415.z.string().nullish()\n});\nfunction mapOpenAIResponseFinishReason({\n  finishReason,\n  hasFunctionCall\n}) {\n  switch (finishReason) {\n    case void 0:\n    case null:\n      return hasFunctionCall ? \"tool-calls\" : \"stop\";\n    case \"max_output_tokens\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    default:\n      return hasFunctionCall ? \"tool-calls\" : \"unknown\";\n  }\n}\nvar openaiResponsesChunkSchema = lazyValidator(\n  () => zodSchema(\n    import_v416.z.union([\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.output_text.delta\"),\n        item_id: import_v416.z.string(),\n        delta: import_v416.z.string(),\n        logprobs: import_v416.z.array(\n          import_v416.z.object({\n            token: import_v416.z.string(),\n            logprob: import_v416.z.number(),\n            top_logprobs: import_v416.z.array(\n              import_v416.z.object({\n                token: import_v416.z.string(),\n                logprob: import_v416.z.number()\n              })\n            )\n          })\n        ).nullish()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.enum([\"response.completed\", \"response.incomplete\"]),\n        response: import_v416.z.object({\n          incomplete_details: import_v416.z.object({ reason: import_v416.z.string() }).nullish(),\n          usage: import_v416.z.object({\n            input_tokens: import_v416.z.number(),\n            input_tokens_details: import_v416.z.object({ cached_tokens: import_v416.z.number().nullish() }).nullish(),\n            output_tokens: import_v416.z.number(),\n            output_tokens_details: import_v416.z.object({ reasoning_tokens: import_v416.z.number().nullish() }).nullish()\n          }),\n          service_tier: import_v416.z.string().nullish()\n        })\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.created\"),\n        response: import_v416.z.object({\n          id: import_v416.z.string(),\n          created_at: import_v416.z.number(),\n          model: import_v416.z.string(),\n          service_tier: import_v416.z.string().nullish()\n        })\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.output_item.added\"),\n        output_index: import_v416.z.number(),\n        item: import_v416.z.discriminatedUnion(\"type\", [\n          import_v416.z.object({\n            type: import_v416.z.literal(\"message\"),\n            id: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"reasoning\"),\n            id: import_v416.z.string(),\n            encrypted_content: import_v416.z.string().nullish()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"function_call\"),\n            id: import_v416.z.string(),\n            call_id: import_v416.z.string(),\n            name: import_v416.z.string(),\n            arguments: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"web_search_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"computer_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"file_search_call\"),\n            id: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"image_generation_call\"),\n            id: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"code_interpreter_call\"),\n            id: import_v416.z.string(),\n            container_id: import_v416.z.string(),\n            code: import_v416.z.string().nullable(),\n            outputs: import_v416.z.array(\n              import_v416.z.discriminatedUnion(\"type\", [\n                import_v416.z.object({ type: import_v416.z.literal(\"logs\"), logs: import_v416.z.string() }),\n                import_v416.z.object({ type: import_v416.z.literal(\"image\"), url: import_v416.z.string() })\n              ])\n            ).nullable(),\n            status: import_v416.z.string()\n          })\n        ])\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.output_item.done\"),\n        output_index: import_v416.z.number(),\n        item: import_v416.z.discriminatedUnion(\"type\", [\n          import_v416.z.object({\n            type: import_v416.z.literal(\"message\"),\n            id: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"reasoning\"),\n            id: import_v416.z.string(),\n            encrypted_content: import_v416.z.string().nullish()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"function_call\"),\n            id: import_v416.z.string(),\n            call_id: import_v416.z.string(),\n            name: import_v416.z.string(),\n            arguments: import_v416.z.string(),\n            status: import_v416.z.literal(\"completed\")\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"code_interpreter_call\"),\n            id: import_v416.z.string(),\n            code: import_v416.z.string().nullable(),\n            container_id: import_v416.z.string(),\n            outputs: import_v416.z.array(\n              import_v416.z.discriminatedUnion(\"type\", [\n                import_v416.z.object({ type: import_v416.z.literal(\"logs\"), logs: import_v416.z.string() }),\n                import_v416.z.object({ type: import_v416.z.literal(\"image\"), url: import_v416.z.string() })\n              ])\n            ).nullable()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"image_generation_call\"),\n            id: import_v416.z.string(),\n            result: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"web_search_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.string(),\n            action: import_v416.z.discriminatedUnion(\"type\", [\n              import_v416.z.object({\n                type: import_v416.z.literal(\"search\"),\n                query: import_v416.z.string().nullish()\n              }),\n              import_v416.z.object({\n                type: import_v416.z.literal(\"open_page\"),\n                url: import_v416.z.string()\n              }),\n              import_v416.z.object({\n                type: import_v416.z.literal(\"find\"),\n                url: import_v416.z.string(),\n                pattern: import_v416.z.string()\n              })\n            ])\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"file_search_call\"),\n            id: import_v416.z.string(),\n            queries: import_v416.z.array(import_v416.z.string()),\n            results: import_v416.z.array(\n              import_v416.z.object({\n                attributes: import_v416.z.record(import_v416.z.string(), import_v416.z.unknown()),\n                file_id: import_v416.z.string(),\n                filename: import_v416.z.string(),\n                score: import_v416.z.number(),\n                text: import_v416.z.string()\n              })\n            ).nullish()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"local_shell_call\"),\n            id: import_v416.z.string(),\n            call_id: import_v416.z.string(),\n            action: import_v416.z.object({\n              type: import_v416.z.literal(\"exec\"),\n              command: import_v416.z.array(import_v416.z.string()),\n              timeout_ms: import_v416.z.number().optional(),\n              user: import_v416.z.string().optional(),\n              working_directory: import_v416.z.string().optional(),\n              env: import_v416.z.record(import_v416.z.string(), import_v416.z.string()).optional()\n            })\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"computer_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.literal(\"completed\")\n          })\n        ])\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.function_call_arguments.delta\"),\n        item_id: import_v416.z.string(),\n        output_index: import_v416.z.number(),\n        delta: import_v416.z.string()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.image_generation_call.partial_image\"),\n        item_id: import_v416.z.string(),\n        output_index: import_v416.z.number(),\n        partial_image_b64: import_v416.z.string()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.code_interpreter_call_code.delta\"),\n        item_id: import_v416.z.string(),\n        output_index: import_v416.z.number(),\n        delta: import_v416.z.string()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.code_interpreter_call_code.done\"),\n        item_id: import_v416.z.string(),\n        output_index: import_v416.z.number(),\n        code: import_v416.z.string()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.output_text.annotation.added\"),\n        annotation: import_v416.z.discriminatedUnion(\"type\", [\n          import_v416.z.object({\n            type: import_v416.z.literal(\"url_citation\"),\n            url: import_v416.z.string(),\n            title: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"file_citation\"),\n            file_id: import_v416.z.string(),\n            filename: import_v416.z.string().nullish(),\n            index: import_v416.z.number().nullish(),\n            start_index: import_v416.z.number().nullish(),\n            end_index: import_v416.z.number().nullish(),\n            quote: import_v416.z.string().nullish()\n          })\n        ])\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.reasoning_summary_part.added\"),\n        item_id: import_v416.z.string(),\n        summary_index: import_v416.z.number()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.reasoning_summary_text.delta\"),\n        item_id: import_v416.z.string(),\n        summary_index: import_v416.z.number(),\n        delta: import_v416.z.string()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"response.reasoning_summary_part.done\"),\n        item_id: import_v416.z.string(),\n        summary_index: import_v416.z.number()\n      }),\n      import_v416.z.object({\n        type: import_v416.z.literal(\"error\"),\n        code: import_v416.z.string(),\n        message: import_v416.z.string(),\n        param: import_v416.z.string().nullish(),\n        sequence_number: import_v416.z.number()\n      }),\n      import_v416.z.object({ type: import_v416.z.string() }).loose().transform((value) => ({\n        type: \"unknown_chunk\",\n        message: value.type\n      }))\n      // fallback for unknown chunks\n    ])\n  )\n);\nvar openaiResponsesResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v416.z.object({\n      id: import_v416.z.string(),\n      created_at: import_v416.z.number(),\n      error: import_v416.z.object({\n        code: import_v416.z.string(),\n        message: import_v416.z.string()\n      }).nullish(),\n      model: import_v416.z.string(),\n      output: import_v416.z.array(\n        import_v416.z.discriminatedUnion(\"type\", [\n          import_v416.z.object({\n            type: import_v416.z.literal(\"message\"),\n            role: import_v416.z.literal(\"assistant\"),\n            id: import_v416.z.string(),\n            content: import_v416.z.array(\n              import_v416.z.object({\n                type: import_v416.z.literal(\"output_text\"),\n                text: import_v416.z.string(),\n                logprobs: import_v416.z.array(\n                  import_v416.z.object({\n                    token: import_v416.z.string(),\n                    logprob: import_v416.z.number(),\n                    top_logprobs: import_v416.z.array(\n                      import_v416.z.object({\n                        token: import_v416.z.string(),\n                        logprob: import_v416.z.number()\n                      })\n                    )\n                  })\n                ).nullish(),\n                annotations: import_v416.z.array(\n                  import_v416.z.discriminatedUnion(\"type\", [\n                    import_v416.z.object({\n                      type: import_v416.z.literal(\"url_citation\"),\n                      start_index: import_v416.z.number(),\n                      end_index: import_v416.z.number(),\n                      url: import_v416.z.string(),\n                      title: import_v416.z.string()\n                    }),\n                    import_v416.z.object({\n                      type: import_v416.z.literal(\"file_citation\"),\n                      file_id: import_v416.z.string(),\n                      filename: import_v416.z.string().nullish(),\n                      index: import_v416.z.number().nullish(),\n                      start_index: import_v416.z.number().nullish(),\n                      end_index: import_v416.z.number().nullish(),\n                      quote: import_v416.z.string().nullish()\n                    }),\n                    import_v416.z.object({\n                      type: import_v416.z.literal(\"container_file_citation\")\n                    })\n                  ])\n                )\n              })\n            )\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"web_search_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.string(),\n            action: import_v416.z.discriminatedUnion(\"type\", [\n              import_v416.z.object({\n                type: import_v416.z.literal(\"search\"),\n                query: import_v416.z.string().nullish()\n              }),\n              import_v416.z.object({\n                type: import_v416.z.literal(\"open_page\"),\n                url: import_v416.z.string()\n              }),\n              import_v416.z.object({\n                type: import_v416.z.literal(\"find\"),\n                url: import_v416.z.string(),\n                pattern: import_v416.z.string()\n              })\n            ])\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"file_search_call\"),\n            id: import_v416.z.string(),\n            queries: import_v416.z.array(import_v416.z.string()),\n            results: import_v416.z.array(\n              import_v416.z.object({\n                attributes: import_v416.z.record(import_v416.z.string(), import_v416.z.unknown()),\n                file_id: import_v416.z.string(),\n                filename: import_v416.z.string(),\n                score: import_v416.z.number(),\n                text: import_v416.z.string()\n              })\n            ).nullish()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"code_interpreter_call\"),\n            id: import_v416.z.string(),\n            code: import_v416.z.string().nullable(),\n            container_id: import_v416.z.string(),\n            outputs: import_v416.z.array(\n              import_v416.z.discriminatedUnion(\"type\", [\n                import_v416.z.object({ type: import_v416.z.literal(\"logs\"), logs: import_v416.z.string() }),\n                import_v416.z.object({ type: import_v416.z.literal(\"image\"), url: import_v416.z.string() })\n              ])\n            ).nullable()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"image_generation_call\"),\n            id: import_v416.z.string(),\n            result: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"local_shell_call\"),\n            id: import_v416.z.string(),\n            call_id: import_v416.z.string(),\n            action: import_v416.z.object({\n              type: import_v416.z.literal(\"exec\"),\n              command: import_v416.z.array(import_v416.z.string()),\n              timeout_ms: import_v416.z.number().optional(),\n              user: import_v416.z.string().optional(),\n              working_directory: import_v416.z.string().optional(),\n              env: import_v416.z.record(import_v416.z.string(), import_v416.z.string()).optional()\n            })\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"function_call\"),\n            call_id: import_v416.z.string(),\n            name: import_v416.z.string(),\n            arguments: import_v416.z.string(),\n            id: import_v416.z.string()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"computer_call\"),\n            id: import_v416.z.string(),\n            status: import_v416.z.string().optional()\n          }),\n          import_v416.z.object({\n            type: import_v416.z.literal(\"reasoning\"),\n            id: import_v416.z.string(),\n            encrypted_content: import_v416.z.string().nullish(),\n            summary: import_v416.z.array(\n              import_v416.z.object({\n                type: import_v416.z.literal(\"summary_text\"),\n                text: import_v416.z.string()\n              })\n            )\n          })\n        ])\n      ),\n      service_tier: import_v416.z.string().nullish(),\n      incomplete_details: import_v416.z.object({ reason: import_v416.z.string() }).nullish(),\n      usage: import_v416.z.object({\n        input_tokens: import_v416.z.number(),\n        input_tokens_details: import_v416.z.object({ cached_tokens: import_v416.z.number().nullish() }).nullish(),\n        output_tokens: import_v416.z.number(),\n        output_tokens_details: import_v416.z.object({ reasoning_tokens: import_v416.z.number().nullish() }).nullish()\n      })\n    })\n  )\n);\nvar TOP_LOGPROBS_MAX = 20;\nvar openaiResponsesReasoningModelIds = [\n  \"o1\",\n  \"o1-2024-12-17\",\n  \"o3-mini\",\n  \"o3-mini-2025-01-31\",\n  \"o3\",\n  \"o3-2025-04-16\",\n  \"o4-mini\",\n  \"o4-mini-2025-04-16\",\n  \"codex-mini-latest\",\n  \"computer-use-preview\",\n  \"gpt-5\",\n  \"gpt-5-2025-08-07\",\n  \"gpt-5-codex\",\n  \"gpt-5-mini\",\n  \"gpt-5-mini-2025-08-07\",\n  \"gpt-5-nano\",\n  \"gpt-5-nano-2025-08-07\",\n  \"gpt-5-pro\",\n  \"gpt-5-pro-2025-10-06\"\n];\nvar openaiResponsesModelIds = [\n  \"gpt-4.1\",\n  \"gpt-4.1-2025-04-14\",\n  \"gpt-4.1-mini\",\n  \"gpt-4.1-mini-2025-04-14\",\n  \"gpt-4.1-nano\",\n  \"gpt-4.1-nano-2025-04-14\",\n  \"gpt-4o\",\n  \"gpt-4o-2024-05-13\",\n  \"gpt-4o-2024-08-06\",\n  \"gpt-4o-2024-11-20\",\n  \"gpt-4o-audio-preview\",\n  \"gpt-4o-audio-preview-2024-10-01\",\n  \"gpt-4o-audio-preview-2024-12-17\",\n  \"gpt-4o-search-preview\",\n  \"gpt-4o-search-preview-2025-03-11\",\n  \"gpt-4o-mini-search-preview\",\n  \"gpt-4o-mini-search-preview-2025-03-11\",\n  \"gpt-4o-mini\",\n  \"gpt-4o-mini-2024-07-18\",\n  \"gpt-4-turbo\",\n  \"gpt-4-turbo-2024-04-09\",\n  \"gpt-4-turbo-preview\",\n  \"gpt-4-0125-preview\",\n  \"gpt-4-1106-preview\",\n  \"gpt-4\",\n  \"gpt-4-0613\",\n  \"gpt-4.5-preview\",\n  \"gpt-4.5-preview-2025-02-27\",\n  \"gpt-3.5-turbo-0125\",\n  \"gpt-3.5-turbo\",\n  \"gpt-3.5-turbo-1106\",\n  \"chatgpt-4o-latest\",\n  \"gpt-5-chat-latest\",\n  ...openaiResponsesReasoningModelIds\n];\nvar openaiResponsesProviderOptionsSchema = lazyValidator(\n  () => zodSchema(\n    import_v417.z.object({\n      include: import_v417.z.array(\n        import_v417.z.enum([\n          \"reasoning.encrypted_content\",\n          // handled internally by default, only needed for unknown reasoning models\n          \"file_search_call.results\",\n          \"message.output_text.logprobs\"\n        ])\n      ).nullish(),\n      instructions: import_v417.z.string().nullish(),\n      /**\n       * Return the log probabilities of the tokens.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       *\n       * @see https://platform.openai.com/docs/api-reference/responses/create\n       * @see https://cookbook.openai.com/examples/using_logprobs\n       */\n      logprobs: import_v417.z.union([import_v417.z.boolean(), import_v417.z.number().min(1).max(TOP_LOGPROBS_MAX)]).optional(),\n      /**\n       * The maximum number of total calls to built-in tools that can be processed in a response.\n       * This maximum number applies across all built-in tool calls, not per individual tool.\n       * Any further attempts to call a tool by the model will be ignored.\n       */\n      maxToolCalls: import_v417.z.number().nullish(),\n      metadata: import_v417.z.any().nullish(),\n      parallelToolCalls: import_v417.z.boolean().nullish(),\n      previousResponseId: import_v417.z.string().nullish(),\n      promptCacheKey: import_v417.z.string().nullish(),\n      reasoningEffort: import_v417.z.string().nullish(),\n      reasoningSummary: import_v417.z.string().nullish(),\n      safetyIdentifier: import_v417.z.string().nullish(),\n      serviceTier: import_v417.z.enum([\"auto\", \"flex\", \"priority\", \"default\"]).nullish(),\n      store: import_v417.z.boolean().nullish(),\n      strictJsonSchema: import_v417.z.boolean().nullish(),\n      textVerbosity: import_v417.z.enum([\"low\", \"medium\", \"high\"]).nullish(),\n      truncation: import_v417.z.enum([\"auto\", \"disabled\"]).nullish(),\n      user: import_v417.z.string().nullish()\n    })\n  )\n);\nfunction prepareResponsesTools(_0) {\n  return __async(this, arguments, function* ({\n    tools,\n    toolChoice,\n    strictJsonSchema\n  }) {\n    tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n      return { tools: void 0, toolChoice: void 0, toolWarnings };\n    }\n    const openaiTools2 = [];\n    for (const tool12 of tools) {\n      switch (tool12.type) {\n        case \"function\":\n          openaiTools2.push({\n            type: \"function\",\n            name: tool12.name,\n            description: tool12.description,\n            parameters: tool12.inputSchema,\n            strict: strictJsonSchema\n          });\n          break;\n        case \"provider-defined\": {\n          switch (tool12.id) {\n            case \"openai.file_search\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: fileSearchArgsSchema\n              });\n              openaiTools2.push({\n                type: \"file_search\",\n                vector_store_ids: args.vectorStoreIds,\n                max_num_results: args.maxNumResults,\n                ranking_options: args.ranking ? {\n                  ranker: args.ranking.ranker,\n                  score_threshold: args.ranking.scoreThreshold\n                } : void 0,\n                filters: args.filters\n              });\n              break;\n            }\n            case \"openai.local_shell\": {\n              openaiTools2.push({\n                type: \"local_shell\"\n              });\n              break;\n            }\n            case \"openai.web_search_preview\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webSearchPreviewArgsSchema\n              });\n              openaiTools2.push({\n                type: \"web_search_preview\",\n                search_context_size: args.searchContextSize,\n                user_location: args.userLocation\n              });\n              break;\n            }\n            case \"openai.web_search\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webSearchArgsSchema\n              });\n              openaiTools2.push({\n                type: \"web_search\",\n                filters: args.filters != null ? { allowed_domains: args.filters.allowedDomains } : void 0,\n                search_context_size: args.searchContextSize,\n                user_location: args.userLocation\n              });\n              break;\n            }\n            case \"openai.code_interpreter\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: codeInterpreterArgsSchema\n              });\n              openaiTools2.push({\n                type: \"code_interpreter\",\n                container: args.container == null ? { type: \"auto\", file_ids: void 0 } : typeof args.container === \"string\" ? args.container : { type: \"auto\", file_ids: args.container.fileIds }\n              });\n              break;\n            }\n            case \"openai.image_generation\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: imageGenerationArgsSchema\n              });\n              openaiTools2.push({\n                type: \"image_generation\",\n                background: args.background,\n                input_fidelity: args.inputFidelity,\n                input_image_mask: args.inputImageMask ? {\n                  file_id: args.inputImageMask.fileId,\n                  image_url: args.inputImageMask.imageUrl\n                } : void 0,\n                model: args.model,\n                size: args.size,\n                quality: args.quality,\n                moderation: args.moderation,\n                output_format: args.outputFormat,\n                output_compression: args.outputCompression\n              });\n              break;\n            }\n          }\n          break;\n        }\n        default:\n          toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n          break;\n      }\n    }\n    if (toolChoice == null) {\n      return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n    }\n    const type = toolChoice.type;\n    switch (type) {\n      case \"auto\":\n      case \"none\":\n      case \"required\":\n        return { tools: openaiTools2, toolChoice: type, toolWarnings };\n      case \"tool\":\n        return {\n          tools: openaiTools2,\n          toolChoice: toolChoice.toolName === \"code_interpreter\" || toolChoice.toolName === \"file_search\" || toolChoice.toolName === \"image_generation\" || toolChoice.toolName === \"web_search_preview\" || toolChoice.toolName === \"web_search\" ? { type: toolChoice.toolName } : { type: \"function\", name: toolChoice.toolName },\n          toolWarnings\n        };\n      default: {\n        const _exhaustiveCheck = type;\n        throw new import_provider19.UnsupportedFunctionalityError({\n          functionality: `tool choice type: ${_exhaustiveCheck}`\n        });\n      }\n    }\n  });\n}\nvar OpenAIResponsesLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/],\n      \"application/pdf\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      maxOutputTokens,\n      temperature,\n      stopSequences,\n      topP,\n      topK,\n      presencePenalty,\n      frequencyPenalty,\n      seed,\n      prompt,\n      providerOptions,\n      tools,\n      toolChoice,\n      responseFormat\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const modelConfig = getResponsesModelConfig(this.modelId);\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if (seed != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n      }\n      if (presencePenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"presencePenalty\"\n        });\n      }\n      if (frequencyPenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"frequencyPenalty\"\n        });\n      }\n      if (stopSequences != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"stopSequences\" });\n      }\n      const openaiOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiResponsesProviderOptionsSchema\n      });\n      const { input, warnings: inputWarnings } = yield convertToOpenAIResponsesInput({\n        prompt,\n        systemMessageMode: modelConfig.systemMessageMode,\n        fileIdPrefixes: this.config.fileIdPrefixes,\n        store: (_a = openaiOptions == null ? void 0 : openaiOptions.store) != null ? _a : true,\n        hasLocalShellTool: hasOpenAITool(\"openai.local_shell\")\n      });\n      warnings.push(...inputWarnings);\n      const strictJsonSchema = (_b = openaiOptions == null ? void 0 : openaiOptions.strictJsonSchema) != null ? _b : false;\n      let include = openaiOptions == null ? void 0 : openaiOptions.include;\n      function addInclude(key) {\n        if (include == null) {\n          include = [key];\n        } else if (!include.includes(key)) {\n          include = [...include, key];\n        }\n      }\n      function hasOpenAITool(id) {\n        return (tools == null ? void 0 : tools.find(\n          (tool12) => tool12.type === \"provider-defined\" && tool12.id === id\n        )) != null;\n      }\n      const topLogprobs = typeof (openaiOptions == null ? void 0 : openaiOptions.logprobs) === \"number\" ? openaiOptions == null ? void 0 : openaiOptions.logprobs : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? TOP_LOGPROBS_MAX : void 0;\n      if (topLogprobs) {\n        addInclude(\"message.output_text.logprobs\");\n      }\n      const webSearchToolName = (_c = tools == null ? void 0 : tools.find(\n        (tool12) => tool12.type === \"provider-defined\" && (tool12.id === \"openai.web_search\" || tool12.id === \"openai.web_search_preview\")\n      )) == null ? void 0 : _c.name;\n      if (webSearchToolName) {\n        addInclude(\"web_search_call.action.sources\");\n      }\n      if (hasOpenAITool(\"openai.code_interpreter\")) {\n        addInclude(\"code_interpreter_call.outputs\");\n      }\n      const store = openaiOptions == null ? void 0 : openaiOptions.store;\n      if (store === false && modelConfig.isReasoningModel) {\n        addInclude(\"reasoning.encrypted_content\");\n      }\n      const baseArgs = __spreadValues(__spreadProps(__spreadValues({\n        model: this.modelId,\n        input,\n        temperature,\n        top_p: topP,\n        max_output_tokens: maxOutputTokens\n      }, ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" || (openaiOptions == null ? void 0 : openaiOptions.textVerbosity)) && {\n        text: __spreadValues(__spreadValues({}, (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n          format: responseFormat.schema != null ? {\n            type: \"json_schema\",\n            strict: strictJsonSchema,\n            name: (_d = responseFormat.name) != null ? _d : \"response\",\n            description: responseFormat.description,\n            schema: responseFormat.schema\n          } : { type: \"json_object\" }\n        }), (openaiOptions == null ? void 0 : openaiOptions.textVerbosity) && {\n          verbosity: openaiOptions.textVerbosity\n        })\n      }), {\n        // provider options:\n        max_tool_calls: openaiOptions == null ? void 0 : openaiOptions.maxToolCalls,\n        metadata: openaiOptions == null ? void 0 : openaiOptions.metadata,\n        parallel_tool_calls: openaiOptions == null ? void 0 : openaiOptions.parallelToolCalls,\n        previous_response_id: openaiOptions == null ? void 0 : openaiOptions.previousResponseId,\n        store,\n        user: openaiOptions == null ? void 0 : openaiOptions.user,\n        instructions: openaiOptions == null ? void 0 : openaiOptions.instructions,\n        service_tier: openaiOptions == null ? void 0 : openaiOptions.serviceTier,\n        include,\n        prompt_cache_key: openaiOptions == null ? void 0 : openaiOptions.promptCacheKey,\n        safety_identifier: openaiOptions == null ? void 0 : openaiOptions.safetyIdentifier,\n        top_logprobs: topLogprobs,\n        truncation: openaiOptions == null ? void 0 : openaiOptions.truncation\n      }), modelConfig.isReasoningModel && ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null || (openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) && {\n        reasoning: __spreadValues(__spreadValues({}, (openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null && {\n          effort: openaiOptions.reasoningEffort\n        }), (openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null && {\n          summary: openaiOptions.reasoningSummary\n        })\n      });\n      if (modelConfig.isReasoningModel) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n      } else {\n        if ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"reasoningEffort\",\n            details: \"reasoningEffort is not supported for non-reasoning models\"\n          });\n        }\n        if ((openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"reasoningSummary\",\n            details: \"reasoningSummary is not supported for non-reasoning models\"\n          });\n        }\n      }\n      if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"flex\" && !modelConfig.supportsFlexProcessing) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n        });\n        delete baseArgs.service_tier;\n      }\n      if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"priority\" && !modelConfig.supportsPriorityProcessing) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n        });\n        delete baseArgs.service_tier;\n      }\n      const {\n        tools: openaiTools2,\n        toolChoice: openaiToolChoice,\n        toolWarnings\n      } = yield prepareResponsesTools({\n        tools,\n        toolChoice,\n        strictJsonSchema\n      });\n      return {\n        webSearchToolName,\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: openaiTools2,\n          tool_choice: openaiToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings],\n        store\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s;\n      const {\n        args: body,\n        warnings,\n        webSearchToolName\n      } = yield this.getArgs(options);\n      const url = this.config.url({\n        path: \"/responses\",\n        modelId: this.modelId\n      });\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiResponsesResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      if (response.error) {\n        throw new import_provider17.APICallError({\n          message: response.error.message,\n          url,\n          requestBodyValues: body,\n          statusCode: 400,\n          responseHeaders,\n          responseBody: rawResponse,\n          isRetryable: false\n        });\n      }\n      const content = [];\n      const logprobs = [];\n      let hasFunctionCall = false;\n      for (const part of response.output) {\n        switch (part.type) {\n          case \"reasoning\": {\n            if (part.summary.length === 0) {\n              part.summary.push({ type: \"summary_text\", text: \"\" });\n            }\n            for (const summary of part.summary) {\n              content.push({\n                type: \"reasoning\",\n                text: summary.text,\n                providerMetadata: {\n                  openai: {\n                    itemId: part.id,\n                    reasoningEncryptedContent: (_a = part.encrypted_content) != null ? _a : null\n                  }\n                }\n              });\n            }\n            break;\n          }\n          case \"image_generation_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"image_generation\",\n              input: \"{}\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"image_generation\",\n              result: {\n                result: part.result\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"local_shell_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.call_id,\n              toolName: \"local_shell\",\n              input: JSON.stringify({\n                action: part.action\n              }),\n              providerMetadata: {\n                openai: {\n                  itemId: part.id\n                }\n              }\n            });\n            break;\n          }\n          case \"message\": {\n            for (const contentPart of part.content) {\n              if (((_c = (_b = options.providerOptions) == null ? void 0 : _b.openai) == null ? void 0 : _c.logprobs) && contentPart.logprobs) {\n                logprobs.push(contentPart.logprobs);\n              }\n              content.push({\n                type: \"text\",\n                text: contentPart.text,\n                providerMetadata: {\n                  openai: {\n                    itemId: part.id\n                  }\n                }\n              });\n              for (const annotation of contentPart.annotations) {\n                if (annotation.type === \"url_citation\") {\n                  content.push({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: (_f = (_e = (_d = this.config).generateId) == null ? void 0 : _e.call(_d)) != null ? _f : generateId(),\n                    url: annotation.url,\n                    title: annotation.title\n                  });\n                } else if (annotation.type === \"file_citation\") {\n                  content.push({\n                    type: \"source\",\n                    sourceType: \"document\",\n                    id: (_i = (_h = (_g = this.config).generateId) == null ? void 0 : _h.call(_g)) != null ? _i : generateId(),\n                    mediaType: \"text/plain\",\n                    title: (_k = (_j = annotation.quote) != null ? _j : annotation.filename) != null ? _k : \"Document\",\n                    filename: (_l = annotation.filename) != null ? _l : annotation.file_id\n                  });\n                }\n              }\n            }\n            break;\n          }\n          case \"function_call\": {\n            hasFunctionCall = true;\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.call_id,\n              toolName: part.name,\n              input: part.arguments,\n              providerMetadata: {\n                openai: {\n                  itemId: part.id\n                }\n              }\n            });\n            break;\n          }\n          case \"web_search_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n              input: JSON.stringify({}),\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n              result: mapWebSearchOutput(part.action),\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"computer_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"computer_use\",\n              input: \"\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"computer_use\",\n              result: {\n                type: \"computer_use_tool_result\",\n                status: part.status || \"completed\"\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"file_search_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"file_search\",\n              input: \"{}\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"file_search\",\n              result: {\n                queries: part.queries,\n                results: (_n = (_m = part.results) == null ? void 0 : _m.map((result) => ({\n                  attributes: result.attributes,\n                  fileId: result.file_id,\n                  filename: result.filename,\n                  score: result.score,\n                  text: result.text\n                }))) != null ? _n : null\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"code_interpreter_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"code_interpreter\",\n              input: JSON.stringify({\n                code: part.code,\n                containerId: part.container_id\n              }),\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"code_interpreter\",\n              result: {\n                outputs: part.outputs\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n        }\n      }\n      const providerMetadata = {\n        openai: { responseId: response.id }\n      };\n      if (logprobs.length > 0) {\n        providerMetadata.openai.logprobs = logprobs;\n      }\n      if (typeof response.service_tier === \"string\") {\n        providerMetadata.openai.serviceTier = response.service_tier;\n      }\n      return {\n        content,\n        finishReason: mapOpenAIResponseFinishReason({\n          finishReason: (_o = response.incomplete_details) == null ? void 0 : _o.reason,\n          hasFunctionCall\n        }),\n        usage: {\n          inputTokens: response.usage.input_tokens,\n          outputTokens: response.usage.output_tokens,\n          totalTokens: response.usage.input_tokens + response.usage.output_tokens,\n          reasoningTokens: (_q = (_p = response.usage.output_tokens_details) == null ? void 0 : _p.reasoning_tokens) != null ? _q : void 0,\n          cachedInputTokens: (_s = (_r = response.usage.input_tokens_details) == null ? void 0 : _r.cached_tokens) != null ? _s : void 0\n        },\n        request: { body },\n        response: {\n          id: response.id,\n          timestamp: new Date(response.created_at * 1e3),\n          modelId: response.model,\n          headers: responseHeaders,\n          body: rawResponse\n        },\n        providerMetadata,\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const {\n        args: body,\n        warnings,\n        webSearchToolName,\n        store\n      } = yield this.getArgs(options);\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/responses\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, body), {\n          stream: true\n        }),\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiResponsesChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const self = this;\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      const logprobs = [];\n      let responseId = null;\n      const ongoingToolCalls = {};\n      let hasFunctionCall = false;\n      const activeReasoning = {};\n      let serviceTier;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (isResponseOutputItemAddedChunk(value)) {\n                if (value.item.type === \"function_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: value.item.name,\n                    toolCallId: value.item.call_id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.call_id,\n                    toolName: value.item.name\n                  });\n                } else if (value.item.type === \"web_search_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n                    toolCallId: value.item.id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"web_search\",\n                    input: JSON.stringify({}),\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"computer_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: \"computer_use\",\n                    toolCallId: value.item.id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: \"computer_use\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"code_interpreter_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: \"code_interpreter\",\n                    toolCallId: value.item.id,\n                    codeInterpreter: {\n                      containerId: value.item.container_id\n                    }\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: \"code_interpreter\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: value.item.id,\n                    delta: `{\"containerId\":\"${value.item.container_id}\",\"code\":\"`\n                  });\n                } else if (value.item.type === \"file_search_call\") {\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"file_search\",\n                    input: \"{}\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"image_generation_call\") {\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"image_generation\",\n                    input: \"{}\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"message\") {\n                  controller.enqueue({\n                    type: \"text-start\",\n                    id: value.item.id,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id\n                      }\n                    }\n                  });\n                } else if (isResponseOutputItemAddedChunk(value) && value.item.type === \"reasoning\") {\n                  activeReasoning[value.item.id] = {\n                    encryptedContent: value.item.encrypted_content,\n                    summaryParts: { 0: \"active\" }\n                  };\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: `${value.item.id}:0`,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id,\n                        reasoningEncryptedContent: (_a = value.item.encrypted_content) != null ? _a : null\n                      }\n                    }\n                  });\n                }\n              } else if (isResponseOutputItemDoneChunk(value)) {\n                if (value.item.type === \"function_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  hasFunctionCall = true;\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.call_id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.call_id,\n                    toolName: value.item.name,\n                    input: value.item.arguments,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id\n                      }\n                    }\n                  });\n                } else if (value.item.type === \"web_search_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"web_search\",\n                    result: mapWebSearchOutput(value.item.action),\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"computer_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"computer_use\",\n                    input: \"\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"computer_use\",\n                    result: {\n                      type: \"computer_use_tool_result\",\n                      status: value.item.status || \"completed\"\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"file_search_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"file_search\",\n                    result: {\n                      queries: value.item.queries,\n                      results: (_c = (_b = value.item.results) == null ? void 0 : _b.map((result) => ({\n                        attributes: result.attributes,\n                        fileId: result.file_id,\n                        filename: result.filename,\n                        score: result.score,\n                        text: result.text\n                      }))) != null ? _c : null\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"code_interpreter_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"code_interpreter\",\n                    result: {\n                      outputs: value.item.outputs\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"image_generation_call\") {\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"image_generation\",\n                    result: {\n                      result: value.item.result\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"local_shell_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.call_id,\n                    toolName: \"local_shell\",\n                    input: JSON.stringify({\n                      action: {\n                        type: \"exec\",\n                        command: value.item.action.command,\n                        timeoutMs: value.item.action.timeout_ms,\n                        user: value.item.action.user,\n                        workingDirectory: value.item.action.working_directory,\n                        env: value.item.action.env\n                      }\n                    }),\n                    providerMetadata: {\n                      openai: { itemId: value.item.id }\n                    }\n                  });\n                } else if (value.item.type === \"message\") {\n                  controller.enqueue({\n                    type: \"text-end\",\n                    id: value.item.id\n                  });\n                } else if (value.item.type === \"reasoning\") {\n                  const activeReasoningPart = activeReasoning[value.item.id];\n                  const summaryPartIndices = Object.entries(\n                    activeReasoningPart.summaryParts\n                  ).filter(\n                    ([_, status]) => status === \"active\" || status === \"can-conclude\"\n                  ).map(([summaryIndex]) => summaryIndex);\n                  for (const summaryIndex of summaryPartIndices) {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: `${value.item.id}:${summaryIndex}`,\n                      providerMetadata: {\n                        openai: {\n                          itemId: value.item.id,\n                          reasoningEncryptedContent: (_d = value.item.encrypted_content) != null ? _d : null\n                        }\n                      }\n                    });\n                  }\n                  delete activeReasoning[value.item.id];\n                }\n              } else if (isResponseFunctionCallArgumentsDeltaChunk(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: value.delta\n                  });\n                }\n              } else if (isResponseCodeInterpreterCallCodeDeltaChunk(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    // The delta is code, which is embedding in a JSON string.\n                    // To escape it, we use JSON.stringify and slice to remove the outer quotes.\n                    delta: JSON.stringify(value.delta).slice(1, -1)\n                  });\n                }\n              } else if (isResponseCodeInterpreterCallCodeDoneChunk(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: '\"}'\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.toolCallId\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: toolCall.toolCallId,\n                    toolName: \"code_interpreter\",\n                    input: JSON.stringify({\n                      code: value.code,\n                      containerId: toolCall.codeInterpreter.containerId\n                    }),\n                    providerExecuted: true\n                  });\n                }\n              } else if (isResponseCreatedChunk(value)) {\n                responseId = value.response.id;\n                controller.enqueue({\n                  type: \"response-metadata\",\n                  id: value.response.id,\n                  timestamp: new Date(value.response.created_at * 1e3),\n                  modelId: value.response.model\n                });\n              } else if (isTextDeltaChunk(value)) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: value.item_id,\n                  delta: value.delta\n                });\n                if (((_f = (_e = options.providerOptions) == null ? void 0 : _e.openai) == null ? void 0 : _f.logprobs) && value.logprobs) {\n                  logprobs.push(value.logprobs);\n                }\n              } else if (value.type === \"response.reasoning_summary_part.added\") {\n                if (value.summary_index > 0) {\n                  const activeReasoningPart = activeReasoning[value.item_id];\n                  activeReasoningPart.summaryParts[value.summary_index] = \"active\";\n                  for (const summaryIndex of Object.keys(\n                    activeReasoningPart.summaryParts\n                  )) {\n                    if (activeReasoningPart.summaryParts[summaryIndex] === \"can-conclude\") {\n                      controller.enqueue({\n                        type: \"reasoning-end\",\n                        id: `${value.item_id}:${summaryIndex}`,\n                        providerMetadata: { openai: { itemId: value.item_id } }\n                      });\n                      activeReasoningPart.summaryParts[summaryIndex] = \"concluded\";\n                    }\n                  }\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: `${value.item_id}:${value.summary_index}`,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item_id,\n                        reasoningEncryptedContent: (_h = (_g = activeReasoning[value.item_id]) == null ? void 0 : _g.encryptedContent) != null ? _h : null\n                      }\n                    }\n                  });\n                }\n              } else if (value.type === \"response.reasoning_summary_text.delta\") {\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: `${value.item_id}:${value.summary_index}`,\n                  delta: value.delta,\n                  providerMetadata: {\n                    openai: {\n                      itemId: value.item_id\n                    }\n                  }\n                });\n              } else if (value.type === \"response.reasoning_summary_part.done\") {\n                if (store) {\n                  controller.enqueue({\n                    type: \"reasoning-end\",\n                    id: `${value.item_id}:${value.summary_index}`,\n                    providerMetadata: {\n                      openai: { itemId: value.item_id }\n                    }\n                  });\n                  activeReasoning[value.item_id].summaryParts[value.summary_index] = \"concluded\";\n                } else {\n                  activeReasoning[value.item_id].summaryParts[value.summary_index] = \"can-conclude\";\n                }\n              } else if (isResponseFinishedChunk(value)) {\n                finishReason = mapOpenAIResponseFinishReason({\n                  finishReason: (_i = value.response.incomplete_details) == null ? void 0 : _i.reason,\n                  hasFunctionCall\n                });\n                usage.inputTokens = value.response.usage.input_tokens;\n                usage.outputTokens = value.response.usage.output_tokens;\n                usage.totalTokens = value.response.usage.input_tokens + value.response.usage.output_tokens;\n                usage.reasoningTokens = (_k = (_j = value.response.usage.output_tokens_details) == null ? void 0 : _j.reasoning_tokens) != null ? _k : void 0;\n                usage.cachedInputTokens = (_m = (_l = value.response.usage.input_tokens_details) == null ? void 0 : _l.cached_tokens) != null ? _m : void 0;\n                if (typeof value.response.service_tier === \"string\") {\n                  serviceTier = value.response.service_tier;\n                }\n              } else if (isResponseAnnotationAddedChunk(value)) {\n                if (value.annotation.type === \"url_citation\") {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: (_p = (_o = (_n = self.config).generateId) == null ? void 0 : _o.call(_n)) != null ? _p : generateId(),\n                    url: value.annotation.url,\n                    title: value.annotation.title\n                  });\n                } else if (value.annotation.type === \"file_citation\") {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"document\",\n                    id: (_s = (_r = (_q = self.config).generateId) == null ? void 0 : _r.call(_q)) != null ? _s : generateId(),\n                    mediaType: \"text/plain\",\n                    title: (_u = (_t = value.annotation.quote) != null ? _t : value.annotation.filename) != null ? _u : \"Document\",\n                    filename: (_v = value.annotation.filename) != null ? _v : value.annotation.file_id\n                  });\n                }\n              } else if (isErrorChunk(value)) {\n                controller.enqueue({ type: \"error\", error: value });\n              }\n            },\n            flush(controller) {\n              const providerMetadata = {\n                openai: {\n                  responseId\n                }\n              };\n              if (logprobs.length > 0) {\n                providerMetadata.openai.logprobs = logprobs;\n              }\n              if (serviceTier !== void 0) {\n                providerMetadata.openai.serviceTier = serviceTier;\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage,\n                providerMetadata\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction isTextDeltaChunk(chunk) {\n  return chunk.type === \"response.output_text.delta\";\n}\nfunction isResponseOutputItemDoneChunk(chunk) {\n  return chunk.type === \"response.output_item.done\";\n}\nfunction isResponseFinishedChunk(chunk) {\n  return chunk.type === \"response.completed\" || chunk.type === \"response.incomplete\";\n}\nfunction isResponseCreatedChunk(chunk) {\n  return chunk.type === \"response.created\";\n}\nfunction isResponseFunctionCallArgumentsDeltaChunk(chunk) {\n  return chunk.type === \"response.function_call_arguments.delta\";\n}\nfunction isResponseCodeInterpreterCallCodeDeltaChunk(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.delta\";\n}\nfunction isResponseCodeInterpreterCallCodeDoneChunk(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.done\";\n}\nfunction isResponseOutputItemAddedChunk(chunk) {\n  return chunk.type === \"response.output_item.added\";\n}\nfunction isResponseAnnotationAddedChunk(chunk) {\n  return chunk.type === \"response.output_text.annotation.added\";\n}\nfunction isErrorChunk(chunk) {\n  return chunk.type === \"error\";\n}\nfunction getResponsesModelConfig(modelId) {\n  const supportsFlexProcessing22 = modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n  const supportsPriorityProcessing22 = modelId.startsWith(\"gpt-4\") || modelId.startsWith(\"gpt-5-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-nano\") && !modelId.startsWith(\"gpt-5-chat\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\");\n  const defaults2 = {\n    systemMessageMode: \"system\",\n    supportsFlexProcessing: supportsFlexProcessing22,\n    supportsPriorityProcessing: supportsPriorityProcessing22\n  };\n  if (modelId.startsWith(\"gpt-5-chat\")) {\n    return __spreadProps(__spreadValues({}, defaults2), {\n      isReasoningModel: false\n    });\n  }\n  if (modelId.startsWith(\"o\") || modelId.startsWith(\"gpt-5\") || modelId.startsWith(\"codex-\") || modelId.startsWith(\"computer-use\")) {\n    if (modelId.startsWith(\"o1-mini\") || modelId.startsWith(\"o1-preview\")) {\n      return __spreadProps(__spreadValues({}, defaults2), {\n        isReasoningModel: true,\n        systemMessageMode: \"remove\"\n      });\n    }\n    return __spreadProps(__spreadValues({}, defaults2), {\n      isReasoningModel: true,\n      systemMessageMode: \"developer\"\n    });\n  }\n  return __spreadProps(__spreadValues({}, defaults2), {\n    isReasoningModel: false\n  });\n}\nfunction mapWebSearchOutput(action) {\n  var _a;\n  switch (action.type) {\n    case \"search\":\n      return { action: { type: \"search\", query: (_a = action.query) != null ? _a : void 0 } };\n    case \"open_page\":\n      return { action: { type: \"openPage\", url: action.url } };\n    case \"find\":\n      return {\n        action: { type: \"find\", url: action.url, pattern: action.pattern }\n      };\n  }\n}\nvar openaiSpeechProviderOptionsSchema = lazyValidator(\n  () => zodSchema(\n    import_v418.z.object({\n      instructions: import_v418.z.string().nullish(),\n      speed: import_v418.z.number().min(0.25).max(4).default(1).nullish()\n    })\n  )\n);\nvar OpenAISpeechModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      text,\n      voice = \"alloy\",\n      outputFormat = \"mp3\",\n      speed,\n      instructions,\n      language,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openAIOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiSpeechProviderOptionsSchema\n      });\n      const requestBody = {\n        model: this.modelId,\n        input: text,\n        voice,\n        response_format: \"mp3\",\n        speed,\n        instructions\n      };\n      if (outputFormat) {\n        if ([\"mp3\", \"opus\", \"aac\", \"flac\", \"wav\", \"pcm\"].includes(outputFormat)) {\n          requestBody.response_format = outputFormat;\n        } else {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"outputFormat\",\n            details: `Unsupported output format: ${outputFormat}. Using mp3 instead.`\n          });\n        }\n      }\n      if (openAIOptions) {\n        const speechModelOptions = {};\n        for (const key in speechModelOptions) {\n          const value = speechModelOptions[key];\n          if (value !== void 0) {\n            requestBody[key] = value;\n          }\n        }\n      }\n      if (language) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"language\",\n          details: `OpenAI speech models do not support language selection. Language parameter \"${language}\" was ignored.`\n        });\n      }\n      return {\n        requestBody,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { requestBody, warnings } = yield this.getArgs(options);\n      const {\n        value: audio,\n        responseHeaders,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/audio/speech\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: requestBody,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createBinaryResponseHandler(),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        audio,\n        warnings,\n        request: {\n          body: JSON.stringify(requestBody)\n        },\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n};\nvar openaiTranscriptionResponseSchema = lazyValidator(\n  () => zodSchema(\n    import_v419.z.object({\n      text: import_v419.z.string(),\n      language: import_v419.z.string().nullish(),\n      duration: import_v419.z.number().nullish(),\n      words: import_v419.z.array(\n        import_v419.z.object({\n          word: import_v419.z.string(),\n          start: import_v419.z.number(),\n          end: import_v419.z.number()\n        })\n      ).nullish(),\n      segments: import_v419.z.array(\n        import_v419.z.object({\n          id: import_v419.z.number(),\n          seek: import_v419.z.number(),\n          start: import_v419.z.number(),\n          end: import_v419.z.number(),\n          text: import_v419.z.string(),\n          tokens: import_v419.z.array(import_v419.z.number()),\n          temperature: import_v419.z.number(),\n          avg_logprob: import_v419.z.number(),\n          compression_ratio: import_v419.z.number(),\n          no_speech_prob: import_v419.z.number()\n        })\n      ).nullish()\n    })\n  )\n);\nvar openAITranscriptionProviderOptions = lazyValidator(\n  () => zodSchema(\n    import_v420.z.object({\n      /**\n       * Additional information to include in the transcription response.\n       */\n      include: import_v420.z.array(import_v420.z.string()).optional(),\n      /**\n       * The language of the input audio in ISO-639-1 format.\n       */\n      language: import_v420.z.string().optional(),\n      /**\n       * An optional text to guide the model's style or continue a previous audio segment.\n       */\n      prompt: import_v420.z.string().optional(),\n      /**\n       * The sampling temperature, between 0 and 1.\n       * @default 0\n       */\n      temperature: import_v420.z.number().min(0).max(1).default(0).optional(),\n      /**\n       * The timestamp granularities to populate for this transcription.\n       * @default ['segment']\n       */\n      timestampGranularities: import_v420.z.array(import_v420.z.enum([\"word\", \"segment\"])).default([\"segment\"]).optional()\n    })\n  )\n);\nvar languageMap = {\n  afrikaans: \"af\",\n  arabic: \"ar\",\n  armenian: \"hy\",\n  azerbaijani: \"az\",\n  belarusian: \"be\",\n  bosnian: \"bs\",\n  bulgarian: \"bg\",\n  catalan: \"ca\",\n  chinese: \"zh\",\n  croatian: \"hr\",\n  czech: \"cs\",\n  danish: \"da\",\n  dutch: \"nl\",\n  english: \"en\",\n  estonian: \"et\",\n  finnish: \"fi\",\n  french: \"fr\",\n  galician: \"gl\",\n  german: \"de\",\n  greek: \"el\",\n  hebrew: \"he\",\n  hindi: \"hi\",\n  hungarian: \"hu\",\n  icelandic: \"is\",\n  indonesian: \"id\",\n  italian: \"it\",\n  japanese: \"ja\",\n  kannada: \"kn\",\n  kazakh: \"kk\",\n  korean: \"ko\",\n  latvian: \"lv\",\n  lithuanian: \"lt\",\n  macedonian: \"mk\",\n  malay: \"ms\",\n  marathi: \"mr\",\n  maori: \"mi\",\n  nepali: \"ne\",\n  norwegian: \"no\",\n  persian: \"fa\",\n  polish: \"pl\",\n  portuguese: \"pt\",\n  romanian: \"ro\",\n  russian: \"ru\",\n  serbian: \"sr\",\n  slovak: \"sk\",\n  slovenian: \"sl\",\n  spanish: \"es\",\n  swahili: \"sw\",\n  swedish: \"sv\",\n  tagalog: \"tl\",\n  tamil: \"ta\",\n  thai: \"th\",\n  turkish: \"tr\",\n  ukrainian: \"uk\",\n  urdu: \"ur\",\n  vietnamese: \"vi\",\n  welsh: \"cy\"\n};\nvar OpenAITranscriptionModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      audio,\n      mediaType,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openAIOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openAITranscriptionProviderOptions\n      });\n      const formData = new FormData();\n      const blob = audio instanceof Uint8Array ? new Blob([audio]) : new Blob([convertBase64ToUint8Array(audio)]);\n      formData.append(\"model\", this.modelId);\n      const fileExtension = mediaTypeToExtension(mediaType);\n      formData.append(\n        \"file\",\n        new File([blob], \"audio\", { type: mediaType }),\n        `audio.${fileExtension}`\n      );\n      if (openAIOptions) {\n        const transcriptionModelOptions = {\n          include: openAIOptions.include,\n          language: openAIOptions.language,\n          prompt: openAIOptions.prompt,\n          // https://platform.openai.com/docs/api-reference/audio/createTranscription#audio_createtranscription-response_format\n          // prefer verbose_json to get segments for models that support it\n          response_format: [\n            \"gpt-4o-transcribe\",\n            \"gpt-4o-mini-transcribe\"\n          ].includes(this.modelId) ? \"json\" : \"verbose_json\",\n          temperature: openAIOptions.temperature,\n          timestamp_granularities: openAIOptions.timestampGranularities\n        };\n        for (const [key, value] of Object.entries(transcriptionModelOptions)) {\n          if (value != null) {\n            if (Array.isArray(value)) {\n              for (const item of value) {\n                formData.append(`${key}[]`, String(item));\n              }\n            } else {\n              formData.append(key, String(value));\n            }\n          }\n        }\n      }\n      return {\n        formData,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { formData, warnings } = yield this.getArgs(options);\n      const {\n        value: response,\n        responseHeaders,\n        rawValue: rawResponse\n      } = yield postFormDataToApi({\n        url: this.config.url({\n          path: \"/audio/transcriptions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        formData,\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiTranscriptionResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const language = response.language != null && response.language in languageMap ? languageMap[response.language] : void 0;\n      return {\n        text: response.text,\n        segments: (_g = (_f = (_d = response.segments) == null ? void 0 : _d.map((segment) => ({\n          text: segment.text,\n          startSecond: segment.start,\n          endSecond: segment.end\n        }))) != null ? _f : (_e = response.words) == null ? void 0 : _e.map((word) => ({\n          text: word.word,\n          startSecond: word.start,\n          endSecond: word.end\n        }))) != null ? _g : [],\n        language,\n        durationInSeconds: (_h = response.duration) != null ? _h : void 0,\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n};\nvar VERSION2 = true ? \"2.0.53\" : \"0.0.0-test\";\nfunction createOpenAI(options = {}) {\n  var _a, _b;\n  const baseURL = (_a = withoutTrailingSlash(\n    loadOptionalSetting({\n      settingValue: options.baseURL,\n      environmentVariableName: \"OPENAI_BASE_URL\"\n    })\n  )) != null ? _a : \"https://api.openai.com/v1\";\n  const providerName = (_b = options.name) != null ? _b : \"openai\";\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"OPENAI_API_KEY\",\n        description: \"OpenAI\"\n      })}`,\n      \"OpenAI-Organization\": options.organization,\n      \"OpenAI-Project\": options.project\n    }, options.headers),\n    `ai-sdk/openai/${VERSION2}`\n  );\n  const createChatModel = (modelId) => new OpenAIChatLanguageModel(modelId, {\n    provider: `${providerName}.chat`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createCompletionModel = (modelId) => new OpenAICompletionLanguageModel(modelId, {\n    provider: `${providerName}.completion`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createEmbeddingModel = (modelId) => new OpenAIEmbeddingModel(modelId, {\n    provider: `${providerName}.embedding`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createImageModel = (modelId) => new OpenAIImageModel(modelId, {\n    provider: `${providerName}.image`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createTranscriptionModel = (modelId) => new OpenAITranscriptionModel(modelId, {\n    provider: `${providerName}.transcription`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createSpeechModel = (modelId) => new OpenAISpeechModel(modelId, {\n    provider: `${providerName}.speech`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => {\n    if (new.target) {\n      throw new Error(\n        \"The OpenAI model function cannot be called with the new keyword.\"\n      );\n    }\n    return createResponsesModel(modelId);\n  };\n  const createResponsesModel = (modelId) => {\n    return new OpenAIResponsesLanguageModel(modelId, {\n      provider: `${providerName}.responses`,\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch,\n      fileIdPrefixes: [\"file-\"]\n    });\n  };\n  const provider = function(modelId) {\n    return createLanguageModel(modelId);\n  };\n  provider.languageModel = createLanguageModel;\n  provider.chat = createChatModel;\n  provider.completion = createCompletionModel;\n  provider.responses = createResponsesModel;\n  provider.embedding = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  provider.transcription = createTranscriptionModel;\n  provider.transcriptionModel = createTranscriptionModel;\n  provider.speech = createSpeechModel;\n  provider.speechModel = createSpeechModel;\n  provider.tools = openaiTools;\n  return provider;\n}\nvar openai = createOpenAI();\n\n// ../../node_modules/.pnpm/@ai-sdk+anthropic@2.0.34_zod@3.25.67/node_modules/@ai-sdk/anthropic/dist/index.mjs\nvar import_provider20 = require(\"@ai-sdk/provider\");\nvar import_provider21 = require(\"@ai-sdk/provider\");\nvar import_v421 = require(\"zod/v4\");\nvar import_v422 = require(\"zod/v4\");\nvar import_v423 = require(\"zod/v4\");\nvar import_provider22 = require(\"@ai-sdk/provider\");\nvar import_v424 = require(\"zod/v4\");\nvar import_v425 = require(\"zod/v4\");\nvar import_v426 = require(\"zod/v4\");\nvar import_provider23 = require(\"@ai-sdk/provider\");\nvar import_v427 = require(\"zod/v4\");\nvar import_v428 = require(\"zod/v4\");\nvar import_v429 = require(\"zod/v4\");\nvar import_v430 = require(\"zod/v4\");\nvar import_v431 = require(\"zod/v4\");\nvar import_v432 = require(\"zod/v4\");\nvar import_v433 = require(\"zod/v4\");\nvar import_v434 = require(\"zod/v4\");\nvar import_v435 = require(\"zod/v4\");\nvar import_v436 = require(\"zod/v4\");\nvar VERSION3 = true ? \"2.0.34\" : \"0.0.0-test\";\nvar anthropicErrorDataSchema = lazySchema(\n  () => zodSchema(\n    import_v421.z.object({\n      type: import_v421.z.literal(\"error\"),\n      error: import_v421.z.object({\n        type: import_v421.z.string(),\n        message: import_v421.z.string()\n      })\n    })\n  )\n);\nvar anthropicFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: anthropicErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nvar anthropicMessagesResponseSchema = lazySchema(\n  () => zodSchema(\n    import_v422.z.object({\n      type: import_v422.z.literal(\"message\"),\n      id: import_v422.z.string().nullish(),\n      model: import_v422.z.string().nullish(),\n      content: import_v422.z.array(\n        import_v422.z.discriminatedUnion(\"type\", [\n          import_v422.z.object({\n            type: import_v422.z.literal(\"text\"),\n            text: import_v422.z.string(),\n            citations: import_v422.z.array(\n              import_v422.z.discriminatedUnion(\"type\", [\n                import_v422.z.object({\n                  type: import_v422.z.literal(\"web_search_result_location\"),\n                  cited_text: import_v422.z.string(),\n                  url: import_v422.z.string(),\n                  title: import_v422.z.string(),\n                  encrypted_index: import_v422.z.string()\n                }),\n                import_v422.z.object({\n                  type: import_v422.z.literal(\"page_location\"),\n                  cited_text: import_v422.z.string(),\n                  document_index: import_v422.z.number(),\n                  document_title: import_v422.z.string().nullable(),\n                  start_page_number: import_v422.z.number(),\n                  end_page_number: import_v422.z.number()\n                }),\n                import_v422.z.object({\n                  type: import_v422.z.literal(\"char_location\"),\n                  cited_text: import_v422.z.string(),\n                  document_index: import_v422.z.number(),\n                  document_title: import_v422.z.string().nullable(),\n                  start_char_index: import_v422.z.number(),\n                  end_char_index: import_v422.z.number()\n                })\n              ])\n            ).optional()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"thinking\"),\n            thinking: import_v422.z.string(),\n            signature: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"redacted_thinking\"),\n            data: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"tool_use\"),\n            id: import_v422.z.string(),\n            name: import_v422.z.string(),\n            input: import_v422.z.unknown()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"server_tool_use\"),\n            id: import_v422.z.string(),\n            name: import_v422.z.string(),\n            input: import_v422.z.record(import_v422.z.string(), import_v422.z.unknown()).nullish()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"web_fetch_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_fetch_result\"),\n                url: import_v422.z.string(),\n                retrieved_at: import_v422.z.string(),\n                content: import_v422.z.object({\n                  type: import_v422.z.literal(\"document\"),\n                  title: import_v422.z.string().nullable(),\n                  citations: import_v422.z.object({ enabled: import_v422.z.boolean() }).optional(),\n                  source: import_v422.z.object({\n                    type: import_v422.z.literal(\"text\"),\n                    media_type: import_v422.z.string(),\n                    data: import_v422.z.string()\n                  })\n                })\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_fetch_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"web_search_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.array(\n                import_v422.z.object({\n                  type: import_v422.z.literal(\"web_search_result\"),\n                  url: import_v422.z.string(),\n                  title: import_v422.z.string(),\n                  encrypted_content: import_v422.z.string(),\n                  page_age: import_v422.z.string().nullish()\n                })\n              ),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_search_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // code execution results for code_execution_20250522 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.object({\n                type: import_v422.z.literal(\"code_execution_result\"),\n                stdout: import_v422.z.string(),\n                stderr: import_v422.z.string(),\n                return_code: import_v422.z.number()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // bash code execution results for code_execution_20250825 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"bash_code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.discriminatedUnion(\"type\", [\n              import_v422.z.object({\n                type: import_v422.z.literal(\"bash_code_execution_result\"),\n                content: import_v422.z.array(\n                  import_v422.z.object({\n                    type: import_v422.z.literal(\"bash_code_execution_output\"),\n                    file_id: import_v422.z.string()\n                  })\n                ),\n                stdout: import_v422.z.string(),\n                stderr: import_v422.z.string(),\n                return_code: import_v422.z.number()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"bash_code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // text editor code execution results for code_execution_20250825 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"text_editor_code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.discriminatedUnion(\"type\", [\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_view_result\"),\n                content: import_v422.z.string(),\n                file_type: import_v422.z.string(),\n                num_lines: import_v422.z.number().nullable(),\n                start_line: import_v422.z.number().nullable(),\n                total_lines: import_v422.z.number().nullable()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_create_result\"),\n                is_file_update: import_v422.z.boolean()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\n                  \"text_editor_code_execution_str_replace_result\"\n                ),\n                lines: import_v422.z.array(import_v422.z.string()).nullable(),\n                new_lines: import_v422.z.number().nullable(),\n                new_start: import_v422.z.number().nullable(),\n                old_lines: import_v422.z.number().nullable(),\n                old_start: import_v422.z.number().nullable()\n              })\n            ])\n          })\n        ])\n      ),\n      stop_reason: import_v422.z.string().nullish(),\n      stop_sequence: import_v422.z.string().nullish(),\n      usage: import_v422.z.looseObject({\n        input_tokens: import_v422.z.number(),\n        output_tokens: import_v422.z.number(),\n        cache_creation_input_tokens: import_v422.z.number().nullish(),\n        cache_read_input_tokens: import_v422.z.number().nullish()\n      }),\n      container: import_v422.z.object({\n        expires_at: import_v422.z.string(),\n        id: import_v422.z.string(),\n        skills: import_v422.z.array(\n          import_v422.z.object({\n            type: import_v422.z.union([import_v422.z.literal(\"anthropic\"), import_v422.z.literal(\"custom\")]),\n            skill_id: import_v422.z.string(),\n            version: import_v422.z.string()\n          })\n        ).nullish()\n      }).nullish()\n    })\n  )\n);\nvar anthropicMessagesChunkSchema = lazySchema(\n  () => zodSchema(\n    import_v422.z.discriminatedUnion(\"type\", [\n      import_v422.z.object({\n        type: import_v422.z.literal(\"message_start\"),\n        message: import_v422.z.object({\n          id: import_v422.z.string().nullish(),\n          model: import_v422.z.string().nullish(),\n          usage: import_v422.z.looseObject({\n            input_tokens: import_v422.z.number(),\n            cache_creation_input_tokens: import_v422.z.number().nullish(),\n            cache_read_input_tokens: import_v422.z.number().nullish()\n          })\n        })\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"content_block_start\"),\n        index: import_v422.z.number(),\n        content_block: import_v422.z.discriminatedUnion(\"type\", [\n          import_v422.z.object({\n            type: import_v422.z.literal(\"text\"),\n            text: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"thinking\"),\n            thinking: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"tool_use\"),\n            id: import_v422.z.string(),\n            name: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"redacted_thinking\"),\n            data: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"server_tool_use\"),\n            id: import_v422.z.string(),\n            name: import_v422.z.string(),\n            input: import_v422.z.record(import_v422.z.string(), import_v422.z.unknown()).nullish()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"web_fetch_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_fetch_result\"),\n                url: import_v422.z.string(),\n                retrieved_at: import_v422.z.string(),\n                content: import_v422.z.object({\n                  type: import_v422.z.literal(\"document\"),\n                  title: import_v422.z.string().nullable(),\n                  citations: import_v422.z.object({ enabled: import_v422.z.boolean() }).optional(),\n                  source: import_v422.z.object({\n                    type: import_v422.z.literal(\"text\"),\n                    media_type: import_v422.z.string(),\n                    data: import_v422.z.string()\n                  })\n                })\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_fetch_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"web_search_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.array(\n                import_v422.z.object({\n                  type: import_v422.z.literal(\"web_search_result\"),\n                  url: import_v422.z.string(),\n                  title: import_v422.z.string(),\n                  encrypted_content: import_v422.z.string(),\n                  page_age: import_v422.z.string().nullish()\n                })\n              ),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_search_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // code execution results for code_execution_20250522 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.union([\n              import_v422.z.object({\n                type: import_v422.z.literal(\"code_execution_result\"),\n                stdout: import_v422.z.string(),\n                stderr: import_v422.z.string(),\n                return_code: import_v422.z.number()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // bash code execution results for code_execution_20250825 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"bash_code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.discriminatedUnion(\"type\", [\n              import_v422.z.object({\n                type: import_v422.z.literal(\"bash_code_execution_result\"),\n                content: import_v422.z.array(\n                  import_v422.z.object({\n                    type: import_v422.z.literal(\"bash_code_execution_output\"),\n                    file_id: import_v422.z.string()\n                  })\n                ),\n                stdout: import_v422.z.string(),\n                stderr: import_v422.z.string(),\n                return_code: import_v422.z.number()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"bash_code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              })\n            ])\n          }),\n          // text editor code execution results for code_execution_20250825 tool:\n          import_v422.z.object({\n            type: import_v422.z.literal(\"text_editor_code_execution_tool_result\"),\n            tool_use_id: import_v422.z.string(),\n            content: import_v422.z.discriminatedUnion(\"type\", [\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_tool_result_error\"),\n                error_code: import_v422.z.string()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_view_result\"),\n                content: import_v422.z.string(),\n                file_type: import_v422.z.string(),\n                num_lines: import_v422.z.number().nullable(),\n                start_line: import_v422.z.number().nullable(),\n                total_lines: import_v422.z.number().nullable()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"text_editor_code_execution_create_result\"),\n                is_file_update: import_v422.z.boolean()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\n                  \"text_editor_code_execution_str_replace_result\"\n                ),\n                lines: import_v422.z.array(import_v422.z.string()).nullable(),\n                new_lines: import_v422.z.number().nullable(),\n                new_start: import_v422.z.number().nullable(),\n                old_lines: import_v422.z.number().nullable(),\n                old_start: import_v422.z.number().nullable()\n              })\n            ])\n          })\n        ])\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"content_block_delta\"),\n        index: import_v422.z.number(),\n        delta: import_v422.z.discriminatedUnion(\"type\", [\n          import_v422.z.object({\n            type: import_v422.z.literal(\"input_json_delta\"),\n            partial_json: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"text_delta\"),\n            text: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"thinking_delta\"),\n            thinking: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"signature_delta\"),\n            signature: import_v422.z.string()\n          }),\n          import_v422.z.object({\n            type: import_v422.z.literal(\"citations_delta\"),\n            citation: import_v422.z.discriminatedUnion(\"type\", [\n              import_v422.z.object({\n                type: import_v422.z.literal(\"web_search_result_location\"),\n                cited_text: import_v422.z.string(),\n                url: import_v422.z.string(),\n                title: import_v422.z.string(),\n                encrypted_index: import_v422.z.string()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"page_location\"),\n                cited_text: import_v422.z.string(),\n                document_index: import_v422.z.number(),\n                document_title: import_v422.z.string().nullable(),\n                start_page_number: import_v422.z.number(),\n                end_page_number: import_v422.z.number()\n              }),\n              import_v422.z.object({\n                type: import_v422.z.literal(\"char_location\"),\n                cited_text: import_v422.z.string(),\n                document_index: import_v422.z.number(),\n                document_title: import_v422.z.string().nullable(),\n                start_char_index: import_v422.z.number(),\n                end_char_index: import_v422.z.number()\n              })\n            ])\n          })\n        ])\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"content_block_stop\"),\n        index: import_v422.z.number()\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"error\"),\n        error: import_v422.z.object({\n          type: import_v422.z.string(),\n          message: import_v422.z.string()\n        })\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"message_delta\"),\n        delta: import_v422.z.object({\n          stop_reason: import_v422.z.string().nullish(),\n          stop_sequence: import_v422.z.string().nullish(),\n          container: import_v422.z.object({\n            expires_at: import_v422.z.string(),\n            id: import_v422.z.string(),\n            skills: import_v422.z.array(\n              import_v422.z.object({\n                type: import_v422.z.union([\n                  import_v422.z.literal(\"anthropic\"),\n                  import_v422.z.literal(\"custom\")\n                ]),\n                skill_id: import_v422.z.string(),\n                version: import_v422.z.string()\n              })\n            ).nullish()\n          }).nullish()\n        }),\n        usage: import_v422.z.looseObject({\n          output_tokens: import_v422.z.number(),\n          cache_creation_input_tokens: import_v422.z.number().nullish()\n        })\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"message_stop\")\n      }),\n      import_v422.z.object({\n        type: import_v422.z.literal(\"ping\")\n      })\n    ])\n  )\n);\nvar anthropicReasoningMetadataSchema = lazySchema(\n  () => zodSchema(\n    import_v422.z.object({\n      signature: import_v422.z.string().optional(),\n      redactedData: import_v422.z.string().optional()\n    })\n  )\n);\nvar anthropicFilePartProviderOptions = import_v423.z.object({\n  /**\n   * Citation configuration for this document.\n   * When enabled, this document will generate citations in the response.\n   */\n  citations: import_v423.z.object({\n    /**\n     * Enable citations for this document\n     */\n    enabled: import_v423.z.boolean()\n  }).optional(),\n  /**\n   * Custom title for the document.\n   * If not provided, the filename will be used.\n   */\n  title: import_v423.z.string().optional(),\n  /**\n   * Context about the document that will be passed to the model\n   * but not used towards cited content.\n   * Useful for storing document metadata as text or stringified JSON.\n   */\n  context: import_v423.z.string().optional()\n});\nvar anthropicProviderOptions = import_v423.z.object({\n  sendReasoning: import_v423.z.boolean().optional(),\n  thinking: import_v423.z.object({\n    type: import_v423.z.union([import_v423.z.literal(\"enabled\"), import_v423.z.literal(\"disabled\")]),\n    budgetTokens: import_v423.z.number().optional()\n  }).optional(),\n  /**\n   * Whether to disable parallel function calling during tool use. Default is false.\n   * When set to true, Claude will use at most one tool per response.\n   */\n  disableParallelToolUse: import_v423.z.boolean().optional(),\n  /**\n   * Cache control settings for this message.\n   * See https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching\n   */\n  cacheControl: import_v423.z.object({\n    type: import_v423.z.literal(\"ephemeral\"),\n    ttl: import_v423.z.union([import_v423.z.literal(\"5m\"), import_v423.z.literal(\"1h\")]).optional()\n  }).optional(),\n  /**\n   * Agent Skills configuration. Skills enable Claude to perform specialized tasks\n   * like document processing (PPTX, DOCX, PDF, XLSX) and data analysis.\n   * Requires code execution tool to be enabled.\n   */\n  container: import_v423.z.object({\n    id: import_v423.z.string().optional(),\n    skills: import_v423.z.array(\n      import_v423.z.object({\n        type: import_v423.z.union([import_v423.z.literal(\"anthropic\"), import_v423.z.literal(\"custom\")]),\n        skillId: import_v423.z.string(),\n        version: import_v423.z.string().optional()\n      })\n    ).optional()\n  }).optional()\n});\nvar MAX_CACHE_BREAKPOINTS = 4;\nfunction getCacheControl(providerMetadata) {\n  var _a;\n  const anthropic2 = providerMetadata == null ? void 0 : providerMetadata.anthropic;\n  const cacheControlValue = (_a = anthropic2 == null ? void 0 : anthropic2.cacheControl) != null ? _a : anthropic2 == null ? void 0 : anthropic2.cache_control;\n  return cacheControlValue;\n}\nvar CacheControlValidator = class {\n  constructor() {\n    this.breakpointCount = 0;\n    this.warnings = [];\n  }\n  getCacheControl(providerMetadata, context) {\n    const cacheControlValue = getCacheControl(providerMetadata);\n    if (!cacheControlValue) {\n      return void 0;\n    }\n    if (!context.canCache) {\n      this.warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"cacheControl\",\n        details: `cache_control cannot be set on ${context.type}. It will be ignored.`\n      });\n      return void 0;\n    }\n    this.breakpointCount++;\n    if (this.breakpointCount > MAX_CACHE_BREAKPOINTS) {\n      this.warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"cacheControl\",\n        details: `Maximum ${MAX_CACHE_BREAKPOINTS} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`\n      });\n      return void 0;\n    }\n    return cacheControlValue;\n  }\n  getWarnings() {\n    return this.warnings;\n  }\n};\nvar textEditor_20250728ArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v424.z.object({\n      maxCharacters: import_v424.z.number().optional()\n    })\n  )\n);\nvar textEditor_20250728InputSchema = lazySchema(\n  () => zodSchema(\n    import_v424.z.object({\n      command: import_v424.z.enum([\"view\", \"create\", \"str_replace\", \"insert\"]),\n      path: import_v424.z.string(),\n      file_text: import_v424.z.string().optional(),\n      insert_line: import_v424.z.number().int().optional(),\n      new_str: import_v424.z.string().optional(),\n      old_str: import_v424.z.string().optional(),\n      view_range: import_v424.z.array(import_v424.z.number().int()).optional()\n    })\n  )\n);\nvar factory = createProviderDefinedToolFactory({\n  id: \"anthropic.text_editor_20250728\",\n  name: \"str_replace_based_edit_tool\",\n  inputSchema: textEditor_20250728InputSchema\n});\nvar textEditor_20250728 = (args = {}) => {\n  return factory(args);\n};\nvar webSearch_20250305ArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v425.z.object({\n      maxUses: import_v425.z.number().optional(),\n      allowedDomains: import_v425.z.array(import_v425.z.string()).optional(),\n      blockedDomains: import_v425.z.array(import_v425.z.string()).optional(),\n      userLocation: import_v425.z.object({\n        type: import_v425.z.literal(\"approximate\"),\n        city: import_v425.z.string().optional(),\n        region: import_v425.z.string().optional(),\n        country: import_v425.z.string().optional(),\n        timezone: import_v425.z.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearch_20250305OutputSchema = lazySchema(\n  () => zodSchema(\n    import_v425.z.array(\n      import_v425.z.object({\n        url: import_v425.z.string(),\n        title: import_v425.z.string(),\n        pageAge: import_v425.z.string().nullable(),\n        encryptedContent: import_v425.z.string(),\n        type: import_v425.z.literal(\"web_search_result\")\n      })\n    )\n  )\n);\nvar webSearch_20250305InputSchema = lazySchema(\n  () => zodSchema(\n    import_v425.z.object({\n      query: import_v425.z.string()\n    })\n  )\n);\nvar factory2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"anthropic.web_search_20250305\",\n  name: \"web_search\",\n  inputSchema: webSearch_20250305InputSchema,\n  outputSchema: webSearch_20250305OutputSchema\n});\nvar webSearch_20250305 = (args = {}) => {\n  return factory2(args);\n};\nvar webFetch_20250910ArgsSchema = lazySchema(\n  () => zodSchema(\n    import_v426.z.object({\n      maxUses: import_v426.z.number().optional(),\n      allowedDomains: import_v426.z.array(import_v426.z.string()).optional(),\n      blockedDomains: import_v426.z.array(import_v426.z.string()).optional(),\n      citations: import_v426.z.object({ enabled: import_v426.z.boolean() }).optional(),\n      maxContentTokens: import_v426.z.number().optional()\n    })\n  )\n);\nvar webFetch_20250910OutputSchema = lazySchema(\n  () => zodSchema(\n    import_v426.z.object({\n      type: import_v426.z.literal(\"web_fetch_result\"),\n      url: import_v426.z.string(),\n      content: import_v426.z.object({\n        type: import_v426.z.literal(\"document\"),\n        title: import_v426.z.string(),\n        citations: import_v426.z.object({ enabled: import_v426.z.boolean() }).optional(),\n        source: import_v426.z.union([\n          import_v426.z.object({\n            type: import_v426.z.literal(\"base64\"),\n            mediaType: import_v426.z.literal(\"application/pdf\"),\n            data: import_v426.z.string()\n          }),\n          import_v426.z.object({\n            type: import_v426.z.literal(\"text\"),\n            mediaType: import_v426.z.literal(\"text/plain\"),\n            data: import_v426.z.string()\n          })\n        ])\n      }),\n      retrievedAt: import_v426.z.string().nullable()\n    })\n  )\n);\nvar webFetch_20250910InputSchema = lazySchema(\n  () => zodSchema(\n    import_v426.z.object({\n      url: import_v426.z.string()\n    })\n  )\n);\nvar factory3 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"anthropic.web_fetch_20250910\",\n  name: \"web_fetch\",\n  inputSchema: webFetch_20250910InputSchema,\n  outputSchema: webFetch_20250910OutputSchema\n});\nvar webFetch_20250910 = (args = {}) => {\n  return factory3(args);\n};\nfunction prepareTools(_0) {\n  return __async(this, arguments, function* ({\n    tools,\n    toolChoice,\n    disableParallelToolUse,\n    cacheControlValidator\n  }) {\n    tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n    const toolWarnings = [];\n    const betas = /* @__PURE__ */ new Set();\n    const validator2 = cacheControlValidator || new CacheControlValidator();\n    if (tools == null) {\n      return { tools: void 0, toolChoice: void 0, toolWarnings, betas };\n    }\n    const anthropicTools2 = [];\n    for (const tool12 of tools) {\n      switch (tool12.type) {\n        case \"function\": {\n          const cacheControl = validator2.getCacheControl(tool12.providerOptions, {\n            type: \"tool definition\",\n            canCache: true\n          });\n          anthropicTools2.push({\n            name: tool12.name,\n            description: tool12.description,\n            input_schema: tool12.inputSchema,\n            cache_control: cacheControl\n          });\n          break;\n        }\n        case \"provider-defined\": {\n          switch (tool12.id) {\n            case \"anthropic.code_execution_20250522\": {\n              betas.add(\"code-execution-2025-05-22\");\n              anthropicTools2.push({\n                type: \"code_execution_20250522\",\n                name: \"code_execution\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.code_execution_20250825\": {\n              betas.add(\"code-execution-2025-08-25\");\n              anthropicTools2.push({\n                type: \"code_execution_20250825\",\n                name: \"code_execution\"\n              });\n              break;\n            }\n            case \"anthropic.computer_20250124\": {\n              betas.add(\"computer-use-2025-01-24\");\n              anthropicTools2.push({\n                name: \"computer\",\n                type: \"computer_20250124\",\n                display_width_px: tool12.args.displayWidthPx,\n                display_height_px: tool12.args.displayHeightPx,\n                display_number: tool12.args.displayNumber,\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.computer_20241022\": {\n              betas.add(\"computer-use-2024-10-22\");\n              anthropicTools2.push({\n                name: \"computer\",\n                type: \"computer_20241022\",\n                display_width_px: tool12.args.displayWidthPx,\n                display_height_px: tool12.args.displayHeightPx,\n                display_number: tool12.args.displayNumber,\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.text_editor_20250124\": {\n              betas.add(\"computer-use-2025-01-24\");\n              anthropicTools2.push({\n                name: \"str_replace_editor\",\n                type: \"text_editor_20250124\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.text_editor_20241022\": {\n              betas.add(\"computer-use-2024-10-22\");\n              anthropicTools2.push({\n                name: \"str_replace_editor\",\n                type: \"text_editor_20241022\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.text_editor_20250429\": {\n              betas.add(\"computer-use-2025-01-24\");\n              anthropicTools2.push({\n                name: \"str_replace_based_edit_tool\",\n                type: \"text_editor_20250429\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.text_editor_20250728\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: textEditor_20250728ArgsSchema\n              });\n              anthropicTools2.push({\n                name: \"str_replace_based_edit_tool\",\n                type: \"text_editor_20250728\",\n                max_characters: args.maxCharacters,\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.bash_20250124\": {\n              betas.add(\"computer-use-2025-01-24\");\n              anthropicTools2.push({\n                name: \"bash\",\n                type: \"bash_20250124\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.bash_20241022\": {\n              betas.add(\"computer-use-2024-10-22\");\n              anthropicTools2.push({\n                name: \"bash\",\n                type: \"bash_20241022\",\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.memory_20250818\": {\n              betas.add(\"context-management-2025-06-27\");\n              anthropicTools2.push({\n                name: \"memory\",\n                type: \"memory_20250818\"\n              });\n              break;\n            }\n            case \"anthropic.web_fetch_20250910\": {\n              betas.add(\"web-fetch-2025-09-10\");\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webFetch_20250910ArgsSchema\n              });\n              anthropicTools2.push({\n                type: \"web_fetch_20250910\",\n                name: \"web_fetch\",\n                max_uses: args.maxUses,\n                allowed_domains: args.allowedDomains,\n                blocked_domains: args.blockedDomains,\n                citations: args.citations,\n                max_content_tokens: args.maxContentTokens,\n                cache_control: void 0\n              });\n              break;\n            }\n            case \"anthropic.web_search_20250305\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webSearch_20250305ArgsSchema\n              });\n              anthropicTools2.push({\n                type: \"web_search_20250305\",\n                name: \"web_search\",\n                max_uses: args.maxUses,\n                allowed_domains: args.allowedDomains,\n                blocked_domains: args.blockedDomains,\n                user_location: args.userLocation,\n                cache_control: void 0\n              });\n              break;\n            }\n            default: {\n              toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n              break;\n            }\n          }\n          break;\n        }\n        default: {\n          toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n          break;\n        }\n      }\n    }\n    if (toolChoice == null) {\n      return {\n        tools: anthropicTools2,\n        toolChoice: disableParallelToolUse ? { type: \"auto\", disable_parallel_tool_use: disableParallelToolUse } : void 0,\n        toolWarnings,\n        betas\n      };\n    }\n    const type = toolChoice.type;\n    switch (type) {\n      case \"auto\":\n        return {\n          tools: anthropicTools2,\n          toolChoice: {\n            type: \"auto\",\n            disable_parallel_tool_use: disableParallelToolUse\n          },\n          toolWarnings,\n          betas\n        };\n      case \"required\":\n        return {\n          tools: anthropicTools2,\n          toolChoice: {\n            type: \"any\",\n            disable_parallel_tool_use: disableParallelToolUse\n          },\n          toolWarnings,\n          betas\n        };\n      case \"none\":\n        return { tools: void 0, toolChoice: void 0, toolWarnings, betas };\n      case \"tool\":\n        return {\n          tools: anthropicTools2,\n          toolChoice: {\n            type: \"tool\",\n            name: toolChoice.toolName,\n            disable_parallel_tool_use: disableParallelToolUse\n          },\n          toolWarnings,\n          betas\n        };\n      default: {\n        const _exhaustiveCheck = type;\n        throw new import_provider22.UnsupportedFunctionalityError({\n          functionality: `tool choice type: ${_exhaustiveCheck}`\n        });\n      }\n    }\n  });\n}\nvar codeExecution_20250522OutputSchema = lazySchema(\n  () => zodSchema(\n    import_v427.z.object({\n      type: import_v427.z.literal(\"code_execution_result\"),\n      stdout: import_v427.z.string(),\n      stderr: import_v427.z.string(),\n      return_code: import_v427.z.number()\n    })\n  )\n);\nvar codeExecution_20250522InputSchema = lazySchema(\n  () => zodSchema(\n    import_v427.z.object({\n      code: import_v427.z.string()\n    })\n  )\n);\nvar factory4 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"anthropic.code_execution_20250522\",\n  name: \"code_execution\",\n  inputSchema: codeExecution_20250522InputSchema,\n  outputSchema: codeExecution_20250522OutputSchema\n});\nvar codeExecution_20250522 = (args = {}) => {\n  return factory4(args);\n};\nvar codeExecution_20250825OutputSchema = lazySchema(\n  () => zodSchema(\n    import_v428.z.discriminatedUnion(\"type\", [\n      import_v428.z.object({\n        type: import_v428.z.literal(\"bash_code_execution_result\"),\n        content: import_v428.z.array(\n          import_v428.z.object({\n            type: import_v428.z.literal(\"bash_code_execution_output\"),\n            file_id: import_v428.z.string()\n          })\n        ),\n        stdout: import_v428.z.string(),\n        stderr: import_v428.z.string(),\n        return_code: import_v428.z.number()\n      }),\n      import_v428.z.object({\n        type: import_v428.z.literal(\"bash_code_execution_tool_result_error\"),\n        error_code: import_v428.z.string()\n      }),\n      import_v428.z.object({\n        type: import_v428.z.literal(\"text_editor_code_execution_tool_result_error\"),\n        error_code: import_v428.z.string()\n      }),\n      import_v428.z.object({\n        type: import_v428.z.literal(\"text_editor_code_execution_view_result\"),\n        content: import_v428.z.string(),\n        file_type: import_v428.z.string(),\n        num_lines: import_v428.z.number().nullable(),\n        start_line: import_v428.z.number().nullable(),\n        total_lines: import_v428.z.number().nullable()\n      }),\n      import_v428.z.object({\n        type: import_v428.z.literal(\"text_editor_code_execution_create_result\"),\n        is_file_update: import_v428.z.boolean()\n      }),\n      import_v428.z.object({\n        type: import_v428.z.literal(\"text_editor_code_execution_str_replace_result\"),\n        lines: import_v428.z.array(import_v428.z.string()).nullable(),\n        new_lines: import_v428.z.number().nullable(),\n        new_start: import_v428.z.number().nullable(),\n        old_lines: import_v428.z.number().nullable(),\n        old_start: import_v428.z.number().nullable()\n      })\n    ])\n  )\n);\nvar codeExecution_20250825InputSchema = lazySchema(\n  () => zodSchema(\n    import_v428.z.discriminatedUnion(\"type\", [\n      import_v428.z.object({\n        type: import_v428.z.literal(\"bash_code_execution\"),\n        command: import_v428.z.string()\n      }),\n      import_v428.z.discriminatedUnion(\"command\", [\n        import_v428.z.object({\n          type: import_v428.z.literal(\"text_editor_code_execution\"),\n          command: import_v428.z.literal(\"view\"),\n          path: import_v428.z.string()\n        }),\n        import_v428.z.object({\n          type: import_v428.z.literal(\"text_editor_code_execution\"),\n          command: import_v428.z.literal(\"create\"),\n          path: import_v428.z.string(),\n          file_text: import_v428.z.string().nullish()\n        }),\n        import_v428.z.object({\n          type: import_v428.z.literal(\"text_editor_code_execution\"),\n          command: import_v428.z.literal(\"str_replace\"),\n          path: import_v428.z.string(),\n          old_str: import_v428.z.string(),\n          new_str: import_v428.z.string()\n        })\n      ])\n    ])\n  )\n);\nvar factory5 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"anthropic.code_execution_20250825\",\n  name: \"code_execution\",\n  inputSchema: codeExecution_20250825InputSchema,\n  outputSchema: codeExecution_20250825OutputSchema\n});\nvar codeExecution_20250825 = (args = {}) => {\n  return factory5(args);\n};\nfunction convertToString(data) {\n  if (typeof data === \"string\") {\n    return Buffer.from(data, \"base64\").toString(\"utf-8\");\n  }\n  if (data instanceof Uint8Array) {\n    return new TextDecoder().decode(data);\n  }\n  if (data instanceof URL) {\n    throw new import_provider23.UnsupportedFunctionalityError({\n      functionality: \"URL-based text documents are not supported for citations\"\n    });\n  }\n  throw new import_provider23.UnsupportedFunctionalityError({\n    functionality: `unsupported data type for text documents: ${typeof data}`\n  });\n}\nfunction convertToAnthropicMessagesPrompt(_0) {\n  return __async(this, arguments, function* ({\n    prompt,\n    sendReasoning,\n    warnings,\n    cacheControlValidator\n  }) {\n    var _a, _b, _c, _d, _e;\n    const betas = /* @__PURE__ */ new Set();\n    const blocks = groupIntoBlocks(prompt);\n    const validator2 = cacheControlValidator || new CacheControlValidator();\n    let system = void 0;\n    const messages = [];\n    function shouldEnableCitations(providerMetadata) {\n      return __async(this, null, function* () {\n        var _a2, _b2;\n        const anthropicOptions = yield parseProviderOptions({\n          provider: \"anthropic\",\n          providerOptions: providerMetadata,\n          schema: anthropicFilePartProviderOptions\n        });\n        return (_b2 = (_a2 = anthropicOptions == null ? void 0 : anthropicOptions.citations) == null ? void 0 : _a2.enabled) != null ? _b2 : false;\n      });\n    }\n    function getDocumentMetadata(providerMetadata) {\n      return __async(this, null, function* () {\n        const anthropicOptions = yield parseProviderOptions({\n          provider: \"anthropic\",\n          providerOptions: providerMetadata,\n          schema: anthropicFilePartProviderOptions\n        });\n        return {\n          title: anthropicOptions == null ? void 0 : anthropicOptions.title,\n          context: anthropicOptions == null ? void 0 : anthropicOptions.context\n        };\n      });\n    }\n    for (let i = 0; i < blocks.length; i++) {\n      const block = blocks[i];\n      const isLastBlock = i === blocks.length - 1;\n      const type = block.type;\n      switch (type) {\n        case \"system\": {\n          if (system != null) {\n            throw new import_provider23.UnsupportedFunctionalityError({\n              functionality: \"Multiple system messages that are separated by user/assistant messages\"\n            });\n          }\n          system = block.messages.map(({ content, providerOptions }) => ({\n            type: \"text\",\n            text: content,\n            cache_control: validator2.getCacheControl(providerOptions, {\n              type: \"system message\",\n              canCache: true\n            })\n          }));\n          break;\n        }\n        case \"user\": {\n          const anthropicContent = [];\n          for (const message of block.messages) {\n            const { role, content } = message;\n            switch (role) {\n              case \"user\": {\n                for (let j = 0; j < content.length; j++) {\n                  const part = content[j];\n                  const isLastPart = j === content.length - 1;\n                  const cacheControl = (_a = validator2.getCacheControl(part.providerOptions, {\n                    type: \"user message part\",\n                    canCache: true\n                  })) != null ? _a : isLastPart ? validator2.getCacheControl(message.providerOptions, {\n                    type: \"user message\",\n                    canCache: true\n                  }) : void 0;\n                  switch (part.type) {\n                    case \"text\": {\n                      anthropicContent.push({\n                        type: \"text\",\n                        text: part.text,\n                        cache_control: cacheControl\n                      });\n                      break;\n                    }\n                    case \"file\": {\n                      if (part.mediaType.startsWith(\"image/\")) {\n                        anthropicContent.push({\n                          type: \"image\",\n                          source: part.data instanceof URL ? {\n                            type: \"url\",\n                            url: part.data.toString()\n                          } : {\n                            type: \"base64\",\n                            media_type: part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType,\n                            data: convertToBase64(part.data)\n                          },\n                          cache_control: cacheControl\n                        });\n                      } else if (part.mediaType === \"application/pdf\") {\n                        betas.add(\"pdfs-2024-09-25\");\n                        const enableCitations = yield shouldEnableCitations(\n                          part.providerOptions\n                        );\n                        const metadata = yield getDocumentMetadata(\n                          part.providerOptions\n                        );\n                        anthropicContent.push(__spreadProps(__spreadValues(__spreadValues({\n                          type: \"document\",\n                          source: part.data instanceof URL ? {\n                            type: \"url\",\n                            url: part.data.toString()\n                          } : {\n                            type: \"base64\",\n                            media_type: \"application/pdf\",\n                            data: convertToBase64(part.data)\n                          },\n                          title: (_b = metadata.title) != null ? _b : part.filename\n                        }, metadata.context && { context: metadata.context }), enableCitations && {\n                          citations: { enabled: true }\n                        }), {\n                          cache_control: cacheControl\n                        }));\n                      } else if (part.mediaType === \"text/plain\") {\n                        const enableCitations = yield shouldEnableCitations(\n                          part.providerOptions\n                        );\n                        const metadata = yield getDocumentMetadata(\n                          part.providerOptions\n                        );\n                        anthropicContent.push(__spreadProps(__spreadValues(__spreadValues({\n                          type: \"document\",\n                          source: part.data instanceof URL ? {\n                            type: \"url\",\n                            url: part.data.toString()\n                          } : {\n                            type: \"text\",\n                            media_type: \"text/plain\",\n                            data: convertToString(part.data)\n                          },\n                          title: (_c = metadata.title) != null ? _c : part.filename\n                        }, metadata.context && { context: metadata.context }), enableCitations && {\n                          citations: { enabled: true }\n                        }), {\n                          cache_control: cacheControl\n                        }));\n                      } else {\n                        throw new import_provider23.UnsupportedFunctionalityError({\n                          functionality: `media type: ${part.mediaType}`\n                        });\n                      }\n                      break;\n                    }\n                  }\n                }\n                break;\n              }\n              case \"tool\": {\n                for (let i2 = 0; i2 < content.length; i2++) {\n                  const part = content[i2];\n                  const isLastPart = i2 === content.length - 1;\n                  const cacheControl = (_d = validator2.getCacheControl(part.providerOptions, {\n                    type: \"tool result part\",\n                    canCache: true\n                  })) != null ? _d : isLastPart ? validator2.getCacheControl(message.providerOptions, {\n                    type: \"tool result message\",\n                    canCache: true\n                  }) : void 0;\n                  const output = part.output;\n                  let contentValue;\n                  switch (output.type) {\n                    case \"content\":\n                      contentValue = output.value.map((contentPart) => {\n                        switch (contentPart.type) {\n                          case \"text\":\n                            return {\n                              type: \"text\",\n                              text: contentPart.text\n                            };\n                          case \"media\": {\n                            if (contentPart.mediaType.startsWith(\"image/\")) {\n                              return {\n                                type: \"image\",\n                                source: {\n                                  type: \"base64\",\n                                  media_type: contentPart.mediaType,\n                                  data: contentPart.data\n                                }\n                              };\n                            }\n                            if (contentPart.mediaType === \"application/pdf\") {\n                              betas.add(\"pdfs-2024-09-25\");\n                              return {\n                                type: \"document\",\n                                source: {\n                                  type: \"base64\",\n                                  media_type: contentPart.mediaType,\n                                  data: contentPart.data\n                                }\n                              };\n                            }\n                            throw new import_provider23.UnsupportedFunctionalityError({\n                              functionality: `media type: ${contentPart.mediaType}`\n                            });\n                          }\n                        }\n                      });\n                      break;\n                    case \"text\":\n                    case \"error-text\":\n                      contentValue = output.value;\n                      break;\n                    case \"json\":\n                    case \"error-json\":\n                    default:\n                      contentValue = JSON.stringify(output.value);\n                      break;\n                  }\n                  anthropicContent.push({\n                    type: \"tool_result\",\n                    tool_use_id: part.toolCallId,\n                    content: contentValue,\n                    is_error: output.type === \"error-text\" || output.type === \"error-json\" ? true : void 0,\n                    cache_control: cacheControl\n                  });\n                }\n                break;\n              }\n              default: {\n                const _exhaustiveCheck = role;\n                throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n              }\n            }\n          }\n          messages.push({ role: \"user\", content: anthropicContent });\n          break;\n        }\n        case \"assistant\": {\n          const anthropicContent = [];\n          for (let j = 0; j < block.messages.length; j++) {\n            const message = block.messages[j];\n            const isLastMessage = j === block.messages.length - 1;\n            const { content } = message;\n            for (let k = 0; k < content.length; k++) {\n              const part = content[k];\n              const isLastContentPart = k === content.length - 1;\n              const cacheControl = (_e = validator2.getCacheControl(part.providerOptions, {\n                type: \"assistant message part\",\n                canCache: true\n              })) != null ? _e : isLastContentPart ? validator2.getCacheControl(message.providerOptions, {\n                type: \"assistant message\",\n                canCache: true\n              }) : void 0;\n              switch (part.type) {\n                case \"text\": {\n                  anthropicContent.push({\n                    type: \"text\",\n                    text: (\n                      // trim the last text part if it's the last message in the block\n                      // because Anthropic does not allow trailing whitespace\n                      // in pre-filled assistant responses\n                      isLastBlock && isLastMessage && isLastContentPart ? part.text.trim() : part.text\n                    ),\n                    cache_control: cacheControl\n                  });\n                  break;\n                }\n                case \"reasoning\": {\n                  if (sendReasoning) {\n                    const reasoningMetadata = yield parseProviderOptions({\n                      provider: \"anthropic\",\n                      providerOptions: part.providerOptions,\n                      schema: anthropicReasoningMetadataSchema\n                    });\n                    if (reasoningMetadata != null) {\n                      if (reasoningMetadata.signature != null) {\n                        validator2.getCacheControl(part.providerOptions, {\n                          type: \"thinking block\",\n                          canCache: false\n                        });\n                        anthropicContent.push({\n                          type: \"thinking\",\n                          thinking: part.text,\n                          signature: reasoningMetadata.signature\n                        });\n                      } else if (reasoningMetadata.redactedData != null) {\n                        validator2.getCacheControl(part.providerOptions, {\n                          type: \"redacted thinking block\",\n                          canCache: false\n                        });\n                        anthropicContent.push({\n                          type: \"redacted_thinking\",\n                          data: reasoningMetadata.redactedData\n                        });\n                      } else {\n                        warnings.push({\n                          type: \"other\",\n                          message: \"unsupported reasoning metadata\"\n                        });\n                      }\n                    } else {\n                      warnings.push({\n                        type: \"other\",\n                        message: \"unsupported reasoning metadata\"\n                      });\n                    }\n                  } else {\n                    warnings.push({\n                      type: \"other\",\n                      message: \"sending reasoning content is disabled for this model\"\n                    });\n                  }\n                  break;\n                }\n                case \"tool-call\": {\n                  if (part.providerExecuted) {\n                    if (part.toolName === \"code_execution\" && part.input != null && typeof part.input === \"object\" && \"type\" in part.input && typeof part.input.type === \"string\" && (part.input.type === \"bash_code_execution\" || part.input.type === \"text_editor_code_execution\")) {\n                      anthropicContent.push({\n                        type: \"server_tool_use\",\n                        id: part.toolCallId,\n                        name: part.input.type,\n                        // map back to subtool name\n                        input: part.input,\n                        cache_control: cacheControl\n                      });\n                    } else if (part.toolName === \"code_execution\" || // code execution 20250522\n                    part.toolName === \"web_fetch\" || part.toolName === \"web_search\") {\n                      anthropicContent.push({\n                        type: \"server_tool_use\",\n                        id: part.toolCallId,\n                        name: part.toolName,\n                        input: part.input,\n                        cache_control: cacheControl\n                      });\n                    } else {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool call for tool ${part.toolName} is not supported`\n                      });\n                    }\n                    break;\n                  }\n                  anthropicContent.push({\n                    type: \"tool_use\",\n                    id: part.toolCallId,\n                    name: part.toolName,\n                    input: part.input,\n                    cache_control: cacheControl\n                  });\n                  break;\n                }\n                case \"tool-result\": {\n                  if (part.toolName === \"code_execution\") {\n                    const output = part.output;\n                    if (output.type !== \"json\") {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                      });\n                      break;\n                    }\n                    if (output.value == null || typeof output.value !== \"object\" || !(\"type\" in output.value) || typeof output.value.type !== \"string\") {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool result output value is not a valid code execution result for tool ${part.toolName}`\n                      });\n                      break;\n                    }\n                    if (output.value.type === \"code_execution_result\") {\n                      const codeExecutionOutput = yield validateTypes({\n                        value: output.value,\n                        schema: codeExecution_20250522OutputSchema\n                      });\n                      anthropicContent.push({\n                        type: \"code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        content: {\n                          type: codeExecutionOutput.type,\n                          stdout: codeExecutionOutput.stdout,\n                          stderr: codeExecutionOutput.stderr,\n                          return_code: codeExecutionOutput.return_code\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else {\n                      const codeExecutionOutput = yield validateTypes({\n                        value: output.value,\n                        schema: codeExecution_20250825OutputSchema\n                      });\n                      anthropicContent.push(\n                        codeExecutionOutput.type === \"bash_code_execution_result\" || codeExecutionOutput.type === \"bash_code_execution_tool_result_error\" ? {\n                          type: \"bash_code_execution_tool_result\",\n                          tool_use_id: part.toolCallId,\n                          cache_control: cacheControl,\n                          content: codeExecutionOutput\n                        } : {\n                          type: \"text_editor_code_execution_tool_result\",\n                          tool_use_id: part.toolCallId,\n                          cache_control: cacheControl,\n                          content: codeExecutionOutput\n                        }\n                      );\n                    }\n                    break;\n                  }\n                  if (part.toolName === \"web_fetch\") {\n                    const output = part.output;\n                    if (output.type !== \"json\") {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                      });\n                      break;\n                    }\n                    const webFetchOutput = yield validateTypes({\n                      value: output.value,\n                      schema: webFetch_20250910OutputSchema\n                    });\n                    anthropicContent.push({\n                      type: \"web_fetch_tool_result\",\n                      tool_use_id: part.toolCallId,\n                      content: {\n                        type: \"web_fetch_result\",\n                        url: webFetchOutput.url,\n                        retrieved_at: webFetchOutput.retrievedAt,\n                        content: {\n                          type: \"document\",\n                          title: webFetchOutput.content.title,\n                          citations: webFetchOutput.content.citations,\n                          source: {\n                            type: webFetchOutput.content.source.type,\n                            media_type: webFetchOutput.content.source.mediaType,\n                            data: webFetchOutput.content.source.data\n                          }\n                        }\n                      },\n                      cache_control: cacheControl\n                    });\n                    break;\n                  }\n                  if (part.toolName === \"web_search\") {\n                    const output = part.output;\n                    if (output.type !== \"json\") {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                      });\n                      break;\n                    }\n                    const webSearchOutput = yield validateTypes({\n                      value: output.value,\n                      schema: webSearch_20250305OutputSchema\n                    });\n                    anthropicContent.push({\n                      type: \"web_search_tool_result\",\n                      tool_use_id: part.toolCallId,\n                      content: webSearchOutput.map((result) => ({\n                        url: result.url,\n                        title: result.title,\n                        page_age: result.pageAge,\n                        encrypted_content: result.encryptedContent,\n                        type: result.type\n                      })),\n                      cache_control: cacheControl\n                    });\n                    break;\n                  }\n                  warnings.push({\n                    type: \"other\",\n                    message: `provider executed tool result for tool ${part.toolName} is not supported`\n                  });\n                  break;\n                }\n              }\n            }\n          }\n          messages.push({ role: \"assistant\", content: anthropicContent });\n          break;\n        }\n        default: {\n          const _exhaustiveCheck = type;\n          throw new Error(`content type: ${_exhaustiveCheck}`);\n        }\n      }\n    }\n    return {\n      prompt: { system, messages },\n      betas\n    };\n  });\n}\nfunction groupIntoBlocks(prompt) {\n  const blocks = [];\n  let currentBlock = void 0;\n  for (const message of prompt) {\n    const { role } = message;\n    switch (role) {\n      case \"system\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"system\") {\n          currentBlock = { type: \"system\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"assistant\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"assistant\") {\n          currentBlock = { type: \"assistant\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"user\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"user\") {\n          currentBlock = { type: \"user\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"tool\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"user\") {\n          currentBlock = { type: \"user\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return blocks;\n}\nfunction mapAnthropicStopReason({\n  finishReason,\n  isJsonResponseFromTool\n}) {\n  switch (finishReason) {\n    case \"pause_turn\":\n    case \"end_turn\":\n    case \"stop_sequence\":\n      return \"stop\";\n    case \"refusal\":\n      return \"content-filter\";\n    case \"tool_use\":\n      return isJsonResponseFromTool ? \"stop\" : \"tool-calls\";\n    case \"max_tokens\":\n      return \"length\";\n    default:\n      return \"unknown\";\n  }\n}\nfunction createCitationSource(citation, citationDocuments, generateId3) {\n  var _a;\n  if (citation.type !== \"page_location\" && citation.type !== \"char_location\") {\n    return;\n  }\n  const documentInfo = citationDocuments[citation.document_index];\n  if (!documentInfo) {\n    return;\n  }\n  return {\n    type: \"source\",\n    sourceType: \"document\",\n    id: generateId3(),\n    mediaType: documentInfo.mediaType,\n    title: (_a = citation.document_title) != null ? _a : documentInfo.title,\n    filename: documentInfo.filename,\n    providerMetadata: {\n      anthropic: citation.type === \"page_location\" ? {\n        citedText: citation.cited_text,\n        startPageNumber: citation.start_page_number,\n        endPageNumber: citation.end_page_number\n      } : {\n        citedText: citation.cited_text,\n        startCharIndex: citation.start_char_index,\n        endCharIndex: citation.end_char_index\n      }\n    }\n  };\n}\nvar AnthropicMessagesLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    this.generateId = (_a = config.generateId) != null ? _a : generateId;\n  }\n  supportsUrl(url) {\n    return url.protocol === \"https:\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      tools,\n      toolChoice,\n      providerOptions\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      if (frequencyPenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"frequencyPenalty\"\n        });\n      }\n      if (presencePenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"presencePenalty\"\n        });\n      }\n      if (seed != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"seed\"\n        });\n      }\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\") {\n        if (responseFormat.schema == null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"responseFormat\",\n            details: \"JSON response format requires a schema. The response format is ignored.\"\n          });\n        } else if (tools != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"tools\",\n            details: \"JSON response format does not support tools. The provided tools are ignored.\"\n          });\n        }\n      }\n      const jsonResponseTool = (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null ? {\n        type: \"function\",\n        name: \"json\",\n        description: \"Respond with a JSON object.\",\n        inputSchema: responseFormat.schema\n      } : void 0;\n      const anthropicOptions = yield parseProviderOptions({\n        provider: \"anthropic\",\n        providerOptions,\n        schema: anthropicProviderOptions\n      });\n      const cacheControlValidator = new CacheControlValidator();\n      const { prompt: messagesPrompt, betas } = yield convertToAnthropicMessagesPrompt({\n        prompt,\n        sendReasoning: (_a = anthropicOptions == null ? void 0 : anthropicOptions.sendReasoning) != null ? _a : true,\n        warnings,\n        cacheControlValidator\n      });\n      const isThinking = ((_b = anthropicOptions == null ? void 0 : anthropicOptions.thinking) == null ? void 0 : _b.type) === \"enabled\";\n      const thinkingBudget = (_c = anthropicOptions == null ? void 0 : anthropicOptions.thinking) == null ? void 0 : _c.budgetTokens;\n      const maxOutputTokensForModel = getMaxOutputTokensForModel(this.modelId);\n      const maxTokens = maxOutputTokens != null ? maxOutputTokens : maxOutputTokensForModel;\n      const baseArgs = __spreadProps(__spreadValues(__spreadValues({\n        // model id:\n        model: this.modelId,\n        // standardized settings:\n        max_tokens: maxTokens,\n        temperature,\n        top_k: topK,\n        top_p: topP,\n        stop_sequences: stopSequences\n      }, isThinking && {\n        thinking: { type: \"enabled\", budget_tokens: thinkingBudget }\n      }), (anthropicOptions == null ? void 0 : anthropicOptions.container) && {\n        container: {\n          id: anthropicOptions.container.id,\n          skills: (_d = anthropicOptions.container.skills) == null ? void 0 : _d.map((skill) => ({\n            type: skill.type,\n            skill_id: skill.skillId,\n            version: skill.version\n          }))\n        }\n      }), {\n        // prompt:\n        system: messagesPrompt.system,\n        messages: messagesPrompt.messages\n      });\n      if (isThinking) {\n        if (thinkingBudget == null) {\n          throw new import_provider21.UnsupportedFunctionalityError({\n            functionality: \"thinking requires a budget\"\n          });\n        }\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported when thinking is enabled\"\n          });\n        }\n        if (topK != null) {\n          baseArgs.top_k = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topK\",\n            details: \"topK is not supported when thinking is enabled\"\n          });\n        }\n        if (topP != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topP\",\n            details: \"topP is not supported when thinking is enabled\"\n          });\n        }\n        baseArgs.max_tokens = maxTokens + thinkingBudget;\n      }\n      if (baseArgs.max_tokens > maxOutputTokensForModel) {\n        if (maxOutputTokens != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"maxOutputTokens\",\n            details: `${baseArgs.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${maxOutputTokensForModel} max output tokens. The max output tokens have been limited to ${maxOutputTokensForModel}.`\n          });\n        }\n        baseArgs.max_tokens = maxOutputTokensForModel;\n      }\n      if ((anthropicOptions == null ? void 0 : anthropicOptions.container) && anthropicOptions.container.skills && anthropicOptions.container.skills.length > 0) {\n        betas.add(\"code-execution-2025-08-25\");\n        betas.add(\"skills-2025-10-02\");\n        betas.add(\"files-api-2025-04-14\");\n        if (!(tools == null ? void 0 : tools.some(\n          (tool12) => tool12.type === \"provider-defined\" && tool12.id === \"anthropic.code_execution_20250825\"\n        ))) {\n          warnings.push({\n            type: \"other\",\n            message: \"code execution tool is required when using skills\"\n          });\n        }\n      }\n      const {\n        tools: anthropicTools2,\n        toolChoice: anthropicToolChoice,\n        toolWarnings,\n        betas: toolsBetas\n      } = yield prepareTools(\n        jsonResponseTool != null ? {\n          tools: [jsonResponseTool],\n          toolChoice: { type: \"tool\", toolName: jsonResponseTool.name },\n          disableParallelToolUse: true,\n          cacheControlValidator\n        } : {\n          tools: tools != null ? tools : [],\n          toolChoice,\n          disableParallelToolUse: anthropicOptions == null ? void 0 : anthropicOptions.disableParallelToolUse,\n          cacheControlValidator\n        }\n      );\n      const cacheWarnings = cacheControlValidator.getWarnings();\n      return {\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: anthropicTools2,\n          tool_choice: anthropicToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings, ...cacheWarnings],\n        betas: /* @__PURE__ */ new Set([...betas, ...toolsBetas]),\n        usesJsonResponseTool: jsonResponseTool != null\n      };\n    });\n  }\n  getHeaders(_0) {\n    return __async(this, arguments, function* ({\n      betas,\n      headers\n    }) {\n      return combineHeaders(\n        yield resolve(this.config.headers),\n        betas.size > 0 ? { \"anthropic-beta\": Array.from(betas).join(\",\") } : {},\n        headers\n      );\n    });\n  }\n  buildRequestUrl(isStreaming) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).buildRequestUrl) == null ? void 0 : _b.call(_a, this.config.baseURL, isStreaming)) != null ? _c : `${this.config.baseURL}/messages`;\n  }\n  transformRequestBody(args) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).transformRequestBody) == null ? void 0 : _b.call(_a, args)) != null ? _c : args;\n  }\n  extractCitationDocuments(prompt) {\n    const isCitationPart = (part) => {\n      var _a, _b;\n      if (part.type !== \"file\") {\n        return false;\n      }\n      if (part.mediaType !== \"application/pdf\" && part.mediaType !== \"text/plain\") {\n        return false;\n      }\n      const anthropic2 = (_a = part.providerOptions) == null ? void 0 : _a.anthropic;\n      const citationsConfig = anthropic2 == null ? void 0 : anthropic2.citations;\n      return (_b = citationsConfig == null ? void 0 : citationsConfig.enabled) != null ? _b : false;\n    };\n    return prompt.filter((message) => message.role === \"user\").flatMap((message) => message.content).filter(isCitationPart).map((part) => {\n      var _a;\n      const filePart = part;\n      return {\n        title: (_a = filePart.filename) != null ? _a : \"Untitled Document\",\n        filename: filePart.filename,\n        mediaType: filePart.mediaType\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const { args, warnings, betas, usesJsonResponseTool } = yield this.getArgs(options);\n      const citationDocuments = this.extractCitationDocuments(options.prompt);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.buildRequestUrl(false),\n        headers: yield this.getHeaders({ betas, headers: options.headers }),\n        body: this.transformRequestBody(args),\n        failedResponseHandler: anthropicFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          anthropicMessagesResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const content = [];\n      for (const part of response.content) {\n        switch (part.type) {\n          case \"text\": {\n            if (!usesJsonResponseTool) {\n              content.push({ type: \"text\", text: part.text });\n              if (part.citations) {\n                for (const citation of part.citations) {\n                  const source = createCitationSource(\n                    citation,\n                    citationDocuments,\n                    this.generateId\n                  );\n                  if (source) {\n                    content.push(source);\n                  }\n                }\n              }\n            }\n            break;\n          }\n          case \"thinking\": {\n            content.push({\n              type: \"reasoning\",\n              text: part.thinking,\n              providerMetadata: {\n                anthropic: {\n                  signature: part.signature\n                }\n              }\n            });\n            break;\n          }\n          case \"redacted_thinking\": {\n            content.push({\n              type: \"reasoning\",\n              text: \"\",\n              providerMetadata: {\n                anthropic: {\n                  redactedData: part.data\n                }\n              }\n            });\n            break;\n          }\n          case \"tool_use\": {\n            content.push(\n              // when a json response tool is used, the tool call becomes the text:\n              usesJsonResponseTool ? {\n                type: \"text\",\n                text: JSON.stringify(part.input)\n              } : {\n                type: \"tool-call\",\n                toolCallId: part.id,\n                toolName: part.name,\n                input: JSON.stringify(part.input)\n              }\n            );\n            break;\n          }\n          case \"server_tool_use\": {\n            if (part.name === \"text_editor_code_execution\" || part.name === \"bash_code_execution\") {\n              content.push({\n                type: \"tool-call\",\n                toolCallId: part.id,\n                toolName: \"code_execution\",\n                input: JSON.stringify(__spreadValues({ type: part.name }, part.input)),\n                providerExecuted: true\n              });\n            } else if (part.name === \"web_search\" || part.name === \"code_execution\" || part.name === \"web_fetch\") {\n              content.push({\n                type: \"tool-call\",\n                toolCallId: part.id,\n                toolName: part.name,\n                input: JSON.stringify(part.input),\n                providerExecuted: true\n              });\n            }\n            break;\n          }\n          case \"web_fetch_tool_result\": {\n            if (part.content.type === \"web_fetch_result\") {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"web_fetch\",\n                result: {\n                  type: \"web_fetch_result\",\n                  url: part.content.url,\n                  retrievedAt: part.content.retrieved_at,\n                  content: {\n                    type: part.content.content.type,\n                    title: part.content.content.title,\n                    citations: part.content.content.citations,\n                    source: {\n                      type: part.content.content.source.type,\n                      mediaType: part.content.content.source.media_type,\n                      data: part.content.content.source.data\n                    }\n                  }\n                },\n                providerExecuted: true\n              });\n            } else if (part.content.type === \"web_fetch_tool_result_error\") {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"web_fetch\",\n                isError: true,\n                result: {\n                  type: \"web_fetch_tool_result_error\",\n                  errorCode: part.content.error_code\n                },\n                providerExecuted: true\n              });\n            }\n            break;\n          }\n          case \"web_search_tool_result\": {\n            if (Array.isArray(part.content)) {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"web_search\",\n                result: part.content.map((result) => {\n                  var _a2;\n                  return {\n                    url: result.url,\n                    title: result.title,\n                    pageAge: (_a2 = result.page_age) != null ? _a2 : null,\n                    encryptedContent: result.encrypted_content,\n                    type: result.type\n                  };\n                }),\n                providerExecuted: true\n              });\n              for (const result of part.content) {\n                content.push({\n                  type: \"source\",\n                  sourceType: \"url\",\n                  id: this.generateId(),\n                  url: result.url,\n                  title: result.title,\n                  providerMetadata: {\n                    anthropic: {\n                      pageAge: (_a = result.page_age) != null ? _a : null\n                    }\n                  }\n                });\n              }\n            } else {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"web_search\",\n                isError: true,\n                result: {\n                  type: \"web_search_tool_result_error\",\n                  errorCode: part.content.error_code\n                },\n                providerExecuted: true\n              });\n            }\n            break;\n          }\n          // code execution 20250522:\n          case \"code_execution_tool_result\": {\n            if (part.content.type === \"code_execution_result\") {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"code_execution\",\n                result: {\n                  type: part.content.type,\n                  stdout: part.content.stdout,\n                  stderr: part.content.stderr,\n                  return_code: part.content.return_code\n                },\n                providerExecuted: true\n              });\n            } else if (part.content.type === \"code_execution_tool_result_error\") {\n              content.push({\n                type: \"tool-result\",\n                toolCallId: part.tool_use_id,\n                toolName: \"code_execution\",\n                isError: true,\n                result: {\n                  type: \"code_execution_tool_result_error\",\n                  errorCode: part.content.error_code\n                },\n                providerExecuted: true\n              });\n            }\n            break;\n          }\n          // code execution 20250825:\n          case \"bash_code_execution_tool_result\":\n          case \"text_editor_code_execution_tool_result\": {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: \"code_execution\",\n              result: part.content,\n              providerExecuted: true\n            });\n            break;\n          }\n        }\n      }\n      return {\n        content,\n        finishReason: mapAnthropicStopReason({\n          finishReason: response.stop_reason,\n          isJsonResponseFromTool: usesJsonResponseTool\n        }),\n        usage: {\n          inputTokens: response.usage.input_tokens,\n          outputTokens: response.usage.output_tokens,\n          totalTokens: response.usage.input_tokens + response.usage.output_tokens,\n          cachedInputTokens: (_b = response.usage.cache_read_input_tokens) != null ? _b : void 0\n        },\n        request: { body: args },\n        response: {\n          id: (_c = response.id) != null ? _c : void 0,\n          modelId: (_d = response.model) != null ? _d : void 0,\n          headers: responseHeaders,\n          body: rawResponse\n        },\n        warnings,\n        providerMetadata: {\n          anthropic: {\n            usage: response.usage,\n            cacheCreationInputTokens: (_e = response.usage.cache_creation_input_tokens) != null ? _e : null,\n            stopSequence: (_f = response.stop_sequence) != null ? _f : null,\n            container: response.container ? {\n              expiresAt: response.container.expires_at,\n              id: response.container.id,\n              skills: (_h = (_g = response.container.skills) == null ? void 0 : _g.map((skill) => ({\n                type: skill.type,\n                skillId: skill.skill_id,\n                version: skill.version\n              }))) != null ? _h : null\n            } : null\n          }\n        }\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings, betas, usesJsonResponseTool } = yield this.getArgs(options);\n      const citationDocuments = this.extractCitationDocuments(options.prompt);\n      const body = __spreadProps(__spreadValues({}, args), { stream: true });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.buildRequestUrl(true),\n        headers: yield this.getHeaders({ betas, headers: options.headers }),\n        body: this.transformRequestBody(body),\n        failedResponseHandler: anthropicFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          anthropicMessagesChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      const contentBlocks = {};\n      let rawUsage = void 0;\n      let cacheCreationInputTokens = null;\n      let stopSequence = null;\n      let container = null;\n      let blockType = void 0;\n      const generateId3 = this.generateId;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              switch (value.type) {\n                case \"ping\": {\n                  return;\n                }\n                case \"content_block_start\": {\n                  const contentBlockType = value.content_block.type;\n                  blockType = contentBlockType;\n                  switch (contentBlockType) {\n                    case \"text\": {\n                      contentBlocks[value.index] = { type: \"text\" };\n                      controller.enqueue({\n                        type: \"text-start\",\n                        id: String(value.index)\n                      });\n                      return;\n                    }\n                    case \"thinking\": {\n                      contentBlocks[value.index] = { type: \"reasoning\" };\n                      controller.enqueue({\n                        type: \"reasoning-start\",\n                        id: String(value.index)\n                      });\n                      return;\n                    }\n                    case \"redacted_thinking\": {\n                      contentBlocks[value.index] = { type: \"reasoning\" };\n                      controller.enqueue({\n                        type: \"reasoning-start\",\n                        id: String(value.index),\n                        providerMetadata: {\n                          anthropic: {\n                            redactedData: value.content_block.data\n                          }\n                        }\n                      });\n                      return;\n                    }\n                    case \"tool_use\": {\n                      contentBlocks[value.index] = usesJsonResponseTool ? { type: \"text\" } : {\n                        type: \"tool-call\",\n                        toolCallId: value.content_block.id,\n                        toolName: value.content_block.name,\n                        input: \"\",\n                        firstDelta: true\n                      };\n                      controller.enqueue(\n                        usesJsonResponseTool ? { type: \"text-start\", id: String(value.index) } : {\n                          type: \"tool-input-start\",\n                          id: value.content_block.id,\n                          toolName: value.content_block.name\n                        }\n                      );\n                      return;\n                    }\n                    case \"server_tool_use\": {\n                      if ([\n                        \"web_fetch\",\n                        \"web_search\",\n                        // code execution 20250825:\n                        \"code_execution\",\n                        // code execution 20250825 text editor:\n                        \"text_editor_code_execution\",\n                        // code execution 20250825 bash:\n                        \"bash_code_execution\"\n                      ].includes(value.content_block.name)) {\n                        contentBlocks[value.index] = {\n                          type: \"tool-call\",\n                          toolCallId: value.content_block.id,\n                          toolName: value.content_block.name,\n                          input: \"\",\n                          providerExecuted: true,\n                          firstDelta: true\n                        };\n                        const mappedToolName = value.content_block.name === \"text_editor_code_execution\" || value.content_block.name === \"bash_code_execution\" ? \"code_execution\" : value.content_block.name;\n                        controller.enqueue({\n                          type: \"tool-input-start\",\n                          id: value.content_block.id,\n                          toolName: mappedToolName,\n                          providerExecuted: true\n                        });\n                      }\n                      return;\n                    }\n                    case \"web_fetch_tool_result\": {\n                      const part = value.content_block;\n                      if (part.content.type === \"web_fetch_result\") {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"web_fetch\",\n                          result: {\n                            type: \"web_fetch_result\",\n                            url: part.content.url,\n                            retrievedAt: part.content.retrieved_at,\n                            content: {\n                              type: part.content.content.type,\n                              title: part.content.content.title,\n                              citations: part.content.content.citations,\n                              source: {\n                                type: part.content.content.source.type,\n                                mediaType: part.content.content.source.media_type,\n                                data: part.content.content.source.data\n                              }\n                            }\n                          }\n                        });\n                      } else if (part.content.type === \"web_fetch_tool_result_error\") {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"web_fetch\",\n                          isError: true,\n                          result: {\n                            type: \"web_fetch_tool_result_error\",\n                            errorCode: part.content.error_code\n                          },\n                          providerExecuted: true\n                        });\n                      }\n                      return;\n                    }\n                    case \"web_search_tool_result\": {\n                      const part = value.content_block;\n                      if (Array.isArray(part.content)) {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"web_search\",\n                          result: part.content.map((result) => {\n                            var _a2;\n                            return {\n                              url: result.url,\n                              title: result.title,\n                              pageAge: (_a2 = result.page_age) != null ? _a2 : null,\n                              encryptedContent: result.encrypted_content,\n                              type: result.type\n                            };\n                          }),\n                          providerExecuted: true\n                        });\n                        for (const result of part.content) {\n                          controller.enqueue({\n                            type: \"source\",\n                            sourceType: \"url\",\n                            id: generateId3(),\n                            url: result.url,\n                            title: result.title,\n                            providerMetadata: {\n                              anthropic: {\n                                pageAge: (_a = result.page_age) != null ? _a : null\n                              }\n                            }\n                          });\n                        }\n                      } else {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"web_search\",\n                          isError: true,\n                          result: {\n                            type: \"web_search_tool_result_error\",\n                            errorCode: part.content.error_code\n                          },\n                          providerExecuted: true\n                        });\n                      }\n                      return;\n                    }\n                    // code execution 20250522:\n                    case \"code_execution_tool_result\": {\n                      const part = value.content_block;\n                      if (part.content.type === \"code_execution_result\") {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"code_execution\",\n                          result: {\n                            type: part.content.type,\n                            stdout: part.content.stdout,\n                            stderr: part.content.stderr,\n                            return_code: part.content.return_code\n                          },\n                          providerExecuted: true\n                        });\n                      } else if (part.content.type === \"code_execution_tool_result_error\") {\n                        controller.enqueue({\n                          type: \"tool-result\",\n                          toolCallId: part.tool_use_id,\n                          toolName: \"code_execution\",\n                          isError: true,\n                          result: {\n                            type: \"code_execution_tool_result_error\",\n                            errorCode: part.content.error_code\n                          },\n                          providerExecuted: true\n                        });\n                      }\n                      return;\n                    }\n                    // code execution 20250825:\n                    case \"bash_code_execution_tool_result\":\n                    case \"text_editor_code_execution_tool_result\": {\n                      const part = value.content_block;\n                      controller.enqueue({\n                        type: \"tool-result\",\n                        toolCallId: part.tool_use_id,\n                        toolName: \"code_execution\",\n                        result: part.content,\n                        providerExecuted: true\n                      });\n                      return;\n                    }\n                    default: {\n                      const _exhaustiveCheck = contentBlockType;\n                      throw new Error(\n                        `Unsupported content block type: ${_exhaustiveCheck}`\n                      );\n                    }\n                  }\n                }\n                case \"content_block_stop\": {\n                  if (contentBlocks[value.index] != null) {\n                    const contentBlock = contentBlocks[value.index];\n                    switch (contentBlock.type) {\n                      case \"text\": {\n                        controller.enqueue({\n                          type: \"text-end\",\n                          id: String(value.index)\n                        });\n                        break;\n                      }\n                      case \"reasoning\": {\n                        controller.enqueue({\n                          type: \"reasoning-end\",\n                          id: String(value.index)\n                        });\n                        break;\n                      }\n                      case \"tool-call\":\n                        if (!usesJsonResponseTool) {\n                          controller.enqueue({\n                            type: \"tool-input-end\",\n                            id: contentBlock.toolCallId\n                          });\n                          const toolName = contentBlock.toolName === \"text_editor_code_execution\" || contentBlock.toolName === \"bash_code_execution\" ? \"code_execution\" : contentBlock.toolName;\n                          controller.enqueue({\n                            type: \"tool-call\",\n                            toolCallId: contentBlock.toolCallId,\n                            toolName,\n                            input: contentBlock.input,\n                            providerExecuted: contentBlock.providerExecuted\n                          });\n                        }\n                        break;\n                    }\n                    delete contentBlocks[value.index];\n                  }\n                  blockType = void 0;\n                  return;\n                }\n                case \"content_block_delta\": {\n                  const deltaType = value.delta.type;\n                  switch (deltaType) {\n                    case \"text_delta\": {\n                      if (usesJsonResponseTool) {\n                        return;\n                      }\n                      controller.enqueue({\n                        type: \"text-delta\",\n                        id: String(value.index),\n                        delta: value.delta.text\n                      });\n                      return;\n                    }\n                    case \"thinking_delta\": {\n                      controller.enqueue({\n                        type: \"reasoning-delta\",\n                        id: String(value.index),\n                        delta: value.delta.thinking\n                      });\n                      return;\n                    }\n                    case \"signature_delta\": {\n                      if (blockType === \"thinking\") {\n                        controller.enqueue({\n                          type: \"reasoning-delta\",\n                          id: String(value.index),\n                          delta: \"\",\n                          providerMetadata: {\n                            anthropic: {\n                              signature: value.delta.signature\n                            }\n                          }\n                        });\n                      }\n                      return;\n                    }\n                    case \"input_json_delta\": {\n                      const contentBlock = contentBlocks[value.index];\n                      let delta = value.delta.partial_json;\n                      if (delta.length === 0) {\n                        return;\n                      }\n                      if (usesJsonResponseTool) {\n                        if ((contentBlock == null ? void 0 : contentBlock.type) !== \"text\") {\n                          return;\n                        }\n                        controller.enqueue({\n                          type: \"text-delta\",\n                          id: String(value.index),\n                          delta\n                        });\n                      } else {\n                        if ((contentBlock == null ? void 0 : contentBlock.type) !== \"tool-call\") {\n                          return;\n                        }\n                        if (contentBlock.firstDelta && (contentBlock.toolName === \"bash_code_execution\" || contentBlock.toolName === \"text_editor_code_execution\")) {\n                          delta = `{\"type\": \"${contentBlock.toolName}\",${delta.substring(1)}`;\n                        }\n                        controller.enqueue({\n                          type: \"tool-input-delta\",\n                          id: contentBlock.toolCallId,\n                          delta\n                        });\n                        contentBlock.input += delta;\n                        contentBlock.firstDelta = false;\n                      }\n                      return;\n                    }\n                    case \"citations_delta\": {\n                      const citation = value.delta.citation;\n                      const source = createCitationSource(\n                        citation,\n                        citationDocuments,\n                        generateId3\n                      );\n                      if (source) {\n                        controller.enqueue(source);\n                      }\n                      return;\n                    }\n                    default: {\n                      const _exhaustiveCheck = deltaType;\n                      throw new Error(\n                        `Unsupported delta type: ${_exhaustiveCheck}`\n                      );\n                    }\n                  }\n                }\n                case \"message_start\": {\n                  usage.inputTokens = value.message.usage.input_tokens;\n                  usage.cachedInputTokens = (_b = value.message.usage.cache_read_input_tokens) != null ? _b : void 0;\n                  rawUsage = __spreadValues({}, value.message.usage);\n                  cacheCreationInputTokens = (_c = value.message.usage.cache_creation_input_tokens) != null ? _c : null;\n                  controller.enqueue({\n                    type: \"response-metadata\",\n                    id: (_d = value.message.id) != null ? _d : void 0,\n                    modelId: (_e = value.message.model) != null ? _e : void 0\n                  });\n                  return;\n                }\n                case \"message_delta\": {\n                  usage.outputTokens = value.usage.output_tokens;\n                  usage.totalTokens = ((_f = usage.inputTokens) != null ? _f : 0) + ((_g = value.usage.output_tokens) != null ? _g : 0);\n                  finishReason = mapAnthropicStopReason({\n                    finishReason: value.delta.stop_reason,\n                    isJsonResponseFromTool: usesJsonResponseTool\n                  });\n                  stopSequence = (_h = value.delta.stop_sequence) != null ? _h : null;\n                  container = value.delta.container != null ? {\n                    expiresAt: value.delta.container.expires_at,\n                    id: value.delta.container.id,\n                    skills: (_j = (_i = value.delta.container.skills) == null ? void 0 : _i.map((skill) => ({\n                      type: skill.type,\n                      skillId: skill.skill_id,\n                      version: skill.version\n                    }))) != null ? _j : null\n                  } : null;\n                  rawUsage = __spreadValues(__spreadValues({}, rawUsage), value.usage);\n                  return;\n                }\n                case \"message_stop\": {\n                  controller.enqueue({\n                    type: \"finish\",\n                    finishReason,\n                    usage,\n                    providerMetadata: {\n                      anthropic: {\n                        usage: rawUsage != null ? rawUsage : null,\n                        cacheCreationInputTokens,\n                        stopSequence,\n                        container\n                      }\n                    }\n                  });\n                  return;\n                }\n                case \"error\": {\n                  controller.enqueue({ type: \"error\", error: value.error });\n                  return;\n                }\n                default: {\n                  const _exhaustiveCheck = value;\n                  throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n                }\n              }\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction getMaxOutputTokensForModel(modelId) {\n  if (modelId.includes(\"claude-sonnet-4-\") || modelId.includes(\"claude-3-7-sonnet\") || modelId.includes(\"claude-haiku-4-5\")) {\n    return 64e3;\n  } else if (modelId.includes(\"claude-opus-4-\")) {\n    return 32e3;\n  } else if (modelId.includes(\"claude-3-5-haiku\")) {\n    return 8192;\n  } else {\n    return 4096;\n  }\n}\nvar bash_20241022InputSchema = lazySchema(\n  () => zodSchema(\n    import_v429.z.object({\n      command: import_v429.z.string(),\n      restart: import_v429.z.boolean().optional()\n    })\n  )\n);\nvar bash_20241022 = createProviderDefinedToolFactory({\n  id: \"anthropic.bash_20241022\",\n  name: \"bash\",\n  inputSchema: bash_20241022InputSchema\n});\nvar bash_20250124InputSchema = lazySchema(\n  () => zodSchema(\n    import_v430.z.object({\n      command: import_v430.z.string(),\n      restart: import_v430.z.boolean().optional()\n    })\n  )\n);\nvar bash_20250124 = createProviderDefinedToolFactory({\n  id: \"anthropic.bash_20250124\",\n  name: \"bash\",\n  inputSchema: bash_20250124InputSchema\n});\nvar computer_20241022InputSchema = lazySchema(\n  () => zodSchema(\n    import_v431.z.object({\n      action: import_v431.z.enum([\n        \"key\",\n        \"type\",\n        \"mouse_move\",\n        \"left_click\",\n        \"left_click_drag\",\n        \"right_click\",\n        \"middle_click\",\n        \"double_click\",\n        \"screenshot\",\n        \"cursor_position\"\n      ]),\n      coordinate: import_v431.z.array(import_v431.z.number().int()).optional(),\n      text: import_v431.z.string().optional()\n    })\n  )\n);\nvar computer_20241022 = createProviderDefinedToolFactory({\n  id: \"anthropic.computer_20241022\",\n  name: \"computer\",\n  inputSchema: computer_20241022InputSchema\n});\nvar computer_20250124InputSchema = lazySchema(\n  () => zodSchema(\n    import_v432.z.object({\n      action: import_v432.z.enum([\n        \"key\",\n        \"hold_key\",\n        \"type\",\n        \"cursor_position\",\n        \"mouse_move\",\n        \"left_mouse_down\",\n        \"left_mouse_up\",\n        \"left_click\",\n        \"left_click_drag\",\n        \"right_click\",\n        \"middle_click\",\n        \"double_click\",\n        \"triple_click\",\n        \"scroll\",\n        \"wait\",\n        \"screenshot\"\n      ]),\n      coordinate: import_v432.z.tuple([import_v432.z.number().int(), import_v432.z.number().int()]).optional(),\n      duration: import_v432.z.number().optional(),\n      scroll_amount: import_v432.z.number().optional(),\n      scroll_direction: import_v432.z.enum([\"up\", \"down\", \"left\", \"right\"]).optional(),\n      start_coordinate: import_v432.z.tuple([import_v432.z.number().int(), import_v432.z.number().int()]).optional(),\n      text: import_v432.z.string().optional()\n    })\n  )\n);\nvar computer_20250124 = createProviderDefinedToolFactory({\n  id: \"anthropic.computer_20250124\",\n  name: \"computer\",\n  inputSchema: computer_20250124InputSchema\n});\nvar memory_20250818InputSchema = lazySchema(\n  () => zodSchema(\n    import_v433.z.discriminatedUnion(\"command\", [\n      import_v433.z.object({\n        command: import_v433.z.literal(\"view\"),\n        path: import_v433.z.string(),\n        view_range: import_v433.z.tuple([import_v433.z.number(), import_v433.z.number()]).optional()\n      }),\n      import_v433.z.object({\n        command: import_v433.z.literal(\"create\"),\n        path: import_v433.z.string(),\n        file_text: import_v433.z.string()\n      }),\n      import_v433.z.object({\n        command: import_v433.z.literal(\"str_replace\"),\n        path: import_v433.z.string(),\n        old_str: import_v433.z.string(),\n        new_str: import_v433.z.string()\n      }),\n      import_v433.z.object({\n        command: import_v433.z.literal(\"insert\"),\n        path: import_v433.z.string(),\n        insert_line: import_v433.z.number(),\n        insert_text: import_v433.z.string()\n      }),\n      import_v433.z.object({\n        command: import_v433.z.literal(\"delete\"),\n        path: import_v433.z.string()\n      }),\n      import_v433.z.object({\n        command: import_v433.z.literal(\"rename\"),\n        old_path: import_v433.z.string(),\n        new_path: import_v433.z.string()\n      })\n    ])\n  )\n);\nvar memory_20250818 = createProviderDefinedToolFactory({\n  id: \"anthropic.memory_20250818\",\n  name: \"memory\",\n  inputSchema: memory_20250818InputSchema\n});\nvar textEditor_20241022InputSchema = lazySchema(\n  () => zodSchema(\n    import_v434.z.object({\n      command: import_v434.z.enum([\"view\", \"create\", \"str_replace\", \"insert\", \"undo_edit\"]),\n      path: import_v434.z.string(),\n      file_text: import_v434.z.string().optional(),\n      insert_line: import_v434.z.number().int().optional(),\n      new_str: import_v434.z.string().optional(),\n      old_str: import_v434.z.string().optional(),\n      view_range: import_v434.z.array(import_v434.z.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20241022 = createProviderDefinedToolFactory({\n  id: \"anthropic.text_editor_20241022\",\n  name: \"str_replace_editor\",\n  inputSchema: textEditor_20241022InputSchema\n});\nvar textEditor_20250124InputSchema = lazySchema(\n  () => zodSchema(\n    import_v435.z.object({\n      command: import_v435.z.enum([\"view\", \"create\", \"str_replace\", \"insert\", \"undo_edit\"]),\n      path: import_v435.z.string(),\n      file_text: import_v435.z.string().optional(),\n      insert_line: import_v435.z.number().int().optional(),\n      new_str: import_v435.z.string().optional(),\n      old_str: import_v435.z.string().optional(),\n      view_range: import_v435.z.array(import_v435.z.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20250124 = createProviderDefinedToolFactory({\n  id: \"anthropic.text_editor_20250124\",\n  name: \"str_replace_editor\",\n  inputSchema: textEditor_20250124InputSchema\n});\nvar textEditor_20250429InputSchema = lazySchema(\n  () => zodSchema(\n    import_v436.z.object({\n      command: import_v436.z.enum([\"view\", \"create\", \"str_replace\", \"insert\"]),\n      path: import_v436.z.string(),\n      file_text: import_v436.z.string().optional(),\n      insert_line: import_v436.z.number().int().optional(),\n      new_str: import_v436.z.string().optional(),\n      old_str: import_v436.z.string().optional(),\n      view_range: import_v436.z.array(import_v436.z.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20250429 = createProviderDefinedToolFactory({\n  id: \"anthropic.text_editor_20250429\",\n  name: \"str_replace_based_edit_tool\",\n  inputSchema: textEditor_20250429InputSchema\n});\nvar anthropicTools = {\n  /**\n   * The bash tool enables Claude to execute shell commands in a persistent bash session,\n   * allowing system operations, script execution, and command-line automation.\n   *\n   * Image results are supported.\n   *\n   * Tool name must be `bash`.\n   */\n  bash_20241022,\n  /**\n   * The bash tool enables Claude to execute shell commands in a persistent bash session,\n   * allowing system operations, script execution, and command-line automation.\n   *\n   * Image results are supported.\n   *\n   * Tool name must be `bash`.\n   */\n  bash_20250124,\n  /**\n   * Claude can analyze data, create visualizations, perform complex calculations,\n   * run system commands, create and edit files, and process uploaded files directly within\n   * the API conversation.\n   *\n   * The code execution tool allows Claude to run Bash commands and manipulate files,\n   * including writing code, in a secure, sandboxed environment.\n   *\n   * Tool name must be `code_execution`.\n   */\n  codeExecution_20250522,\n  /**\n   * Claude can analyze data, create visualizations, perform complex calculations,\n   * run system commands, create and edit files, and process uploaded files directly within\n   * the API conversation.\n   *\n   * The code execution tool allows Claude to run both Python and Bash commands and manipulate files,\n   * including writing code, in a secure, sandboxed environment.\n   *\n   * This is the latest version with enhanced Bash support and file operations.\n   *\n   * Tool name must be `code_execution`.\n   */\n  codeExecution_20250825,\n  /**\n   * Claude can interact with computer environments through the computer use tool, which\n   * provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.\n   *\n   * Image results are supported.\n   *\n   * Tool name must be `computer`.\n   *\n   * @param displayWidthPx - The width of the display being controlled by the model in pixels.\n   * @param displayHeightPx - The height of the display being controlled by the model in pixels.\n   * @param displayNumber - The display number to control (only relevant for X11 environments). If specified, the tool will be provided a display number in the tool definition.\n   */\n  computer_20241022,\n  /**\n   * Claude can interact with computer environments through the computer use tool, which\n   * provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.\n   *\n   * Image results are supported.\n   *\n   * Tool name must be `computer`.\n   *\n   * @param displayWidthPx - The width of the display being controlled by the model in pixels.\n   * @param displayHeightPx - The height of the display being controlled by the model in pixels.\n   * @param displayNumber - The display number to control (only relevant for X11 environments). If specified, the tool will be provided a display number in the tool definition.\n   */\n  computer_20250124,\n  /**\n   * The memory tool enables Claude to store and retrieve information across conversations through a memory file directory.\n   * Claude can create, read, update, and delete files that persist between sessions,\n   * allowing it to build knowledge over time without keeping everything in the context window.\n   * The memory tool operates client-sideyou control where and how the data is stored through your own infrastructure.\n   *\n   * Supported models: Claude Sonnet 4.5, Claude Sonnet 4, Claude Opus 4.1, Claude Opus 4.\n   *\n   * Tool name must be `memory`.\n   */\n  memory_20250818,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Supported models: Claude Sonnet 3.5\n   *\n   * Tool name must be `str_replace_editor`.\n   */\n  textEditor_20241022,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Supported models: Claude Sonnet 3.7\n   *\n   * Tool name must be `str_replace_editor`.\n   */\n  textEditor_20250124,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Note: This version does not support the \"undo_edit\" command.\n   *\n   * Tool name must be `str_replace_based_edit_tool`.\n   *\n   * @deprecated Use textEditor_20250728 instead\n   */\n  textEditor_20250429,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Note: This version does not support the \"undo_edit\" command and adds optional max_characters parameter.\n   *\n   * Supported models: Claude Sonnet 4, Opus 4, and Opus 4.1\n   *\n   * Tool name must be `str_replace_based_edit_tool`.\n   *\n   * @param maxCharacters - Optional maximum number of characters to view in the file\n   */\n  textEditor_20250728,\n  /**\n   * Creates a web fetch tool that gives Claude direct access to real-time web content.\n   *\n   * Tool name must be `web_fetch`.\n   *\n   * @param maxUses - The max_uses parameter limits the number of web fetches performed\n   * @param allowedDomains - Only fetch from these domains\n   * @param blockedDomains - Never fetch from these domains\n   * @param citations - Unlike web search where citations are always enabled, citations are optional for web fetch. Set \"citations\": {\"enabled\": true} to enable Claude to cite specific passages from fetched documents.\n   * @param maxContentTokens - The max_content_tokens parameter limits the amount of content that will be included in the context.\n   */\n  webFetch_20250910,\n  /**\n   * Creates a web search tool that gives Claude direct access to real-time web content.\n   *\n   * Tool name must be `web_search`.\n   *\n   * @param maxUses - Maximum number of web searches Claude can perform during the conversation.\n   * @param allowedDomains - Optional list of domains that Claude is allowed to search.\n   * @param blockedDomains - Optional list of domains that Claude should avoid when searching.\n   * @param userLocation - Optional user location information to provide geographically relevant search results.\n   */\n  webSearch_20250305\n};\nfunction createAnthropic(options = {}) {\n  var _a;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://api.anthropic.com/v1\";\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      \"anthropic-version\": \"2023-06-01\",\n      \"x-api-key\": loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"ANTHROPIC_API_KEY\",\n        description: \"Anthropic\"\n      })\n    }, options.headers),\n    `ai-sdk/anthropic/${VERSION3}`\n  );\n  const createChatModel = (modelId) => {\n    var _a2;\n    return new AnthropicMessagesLanguageModel(modelId, {\n      provider: \"anthropic.messages\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      generateId: (_a2 = options.generateId) != null ? _a2 : generateId,\n      supportedUrls: () => ({\n        \"image/*\": [/^https?:\\/\\/.*$/]\n      })\n    });\n  };\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Anthropic model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.messages = createChatModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider20.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new import_provider20.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  provider.tools = anthropicTools;\n  return provider;\n}\nvar anthropic = createAnthropic();\n\n// ../../node_modules/.pnpm/@ai-sdk+google@2.0.23_zod@3.25.67/node_modules/@ai-sdk/google/dist/index.mjs\nvar import_provider24 = require(\"@ai-sdk/provider\");\nvar import_v437 = require(\"zod/v4\");\nvar import_v438 = require(\"zod/v4\");\nvar import_v439 = require(\"zod/v4\");\nvar import_v440 = require(\"zod/v4\");\nvar import_provider25 = require(\"@ai-sdk/provider\");\nvar import_v441 = require(\"zod/v4\");\nvar import_provider26 = require(\"@ai-sdk/provider\");\nvar import_v442 = require(\"zod/v4\");\nvar import_v443 = require(\"zod/v4\");\nvar import_v444 = require(\"zod/v4\");\nvar import_v445 = require(\"zod/v4\");\nvar VERSION4 = true ? \"2.0.23\" : \"0.0.0-test\";\nvar googleErrorDataSchema = lazySchema(\n  () => zodSchema(\n    import_v438.z.object({\n      error: import_v438.z.object({\n        code: import_v438.z.number().nullable(),\n        message: import_v438.z.string(),\n        status: import_v438.z.string()\n      })\n    })\n  )\n);\nvar googleFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: googleErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nvar googleGenerativeAIEmbeddingProviderOptions = lazySchema(\n  () => zodSchema(\n    import_v439.z.object({\n      /**\n       * Optional. Optional reduced dimension for the output embedding.\n       * If set, excessive values in the output embedding are truncated from the end.\n       */\n      outputDimensionality: import_v439.z.number().optional(),\n      /**\n       * Optional. Specifies the task type for generating embeddings.\n       * Supported task types:\n       * - SEMANTIC_SIMILARITY: Optimized for text similarity.\n       * - CLASSIFICATION: Optimized for text classification.\n       * - CLUSTERING: Optimized for clustering texts based on similarity.\n       * - RETRIEVAL_DOCUMENT: Optimized for document retrieval.\n       * - RETRIEVAL_QUERY: Optimized for query-based retrieval.\n       * - QUESTION_ANSWERING: Optimized for answering questions.\n       * - FACT_VERIFICATION: Optimized for verifying factual information.\n       * - CODE_RETRIEVAL_QUERY: Optimized for retrieving code blocks based on natural language queries.\n       */\n      taskType: import_v439.z.enum([\n        \"SEMANTIC_SIMILARITY\",\n        \"CLASSIFICATION\",\n        \"CLUSTERING\",\n        \"RETRIEVAL_DOCUMENT\",\n        \"RETRIEVAL_QUERY\",\n        \"QUESTION_ANSWERING\",\n        \"FACT_VERIFICATION\",\n        \"CODE_RETRIEVAL_QUERY\"\n      ]).optional()\n    })\n  )\n);\nvar GoogleGenerativeAIEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      headers,\n      abortSignal,\n      providerOptions\n    }) {\n      const googleOptions = yield parseProviderOptions({\n        provider: \"google\",\n        providerOptions,\n        schema: googleGenerativeAIEmbeddingProviderOptions\n      });\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider24.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const mergedHeaders = combineHeaders(\n        yield resolve(this.config.headers),\n        headers\n      );\n      if (values.length === 1) {\n        const {\n          responseHeaders: responseHeaders2,\n          value: response2,\n          rawValue: rawValue2\n        } = yield postJsonToApi({\n          url: `${this.config.baseURL}/models/${this.modelId}:embedContent`,\n          headers: mergedHeaders,\n          body: {\n            model: `models/${this.modelId}`,\n            content: {\n              parts: [{ text: values[0] }]\n            },\n            outputDimensionality: googleOptions == null ? void 0 : googleOptions.outputDimensionality,\n            taskType: googleOptions == null ? void 0 : googleOptions.taskType\n          },\n          failedResponseHandler: googleFailedResponseHandler,\n          successfulResponseHandler: createJsonResponseHandler(\n            googleGenerativeAISingleEmbeddingResponseSchema\n          ),\n          abortSignal,\n          fetch: this.config.fetch\n        });\n        return {\n          embeddings: [response2.embedding.values],\n          usage: void 0,\n          response: { headers: responseHeaders2, body: rawValue2 }\n        };\n      }\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: `${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,\n        headers: mergedHeaders,\n        body: {\n          requests: values.map((value) => ({\n            model: `models/${this.modelId}`,\n            content: { role: \"user\", parts: [{ text: value }] },\n            outputDimensionality: googleOptions == null ? void 0 : googleOptions.outputDimensionality,\n            taskType: googleOptions == null ? void 0 : googleOptions.taskType\n          }))\n        },\n        failedResponseHandler: googleFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          googleGenerativeAITextEmbeddingResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.embeddings.map((item) => item.values),\n        usage: void 0,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar googleGenerativeAITextEmbeddingResponseSchema = lazySchema(\n  () => zodSchema(\n    import_v437.z.object({\n      embeddings: import_v437.z.array(import_v437.z.object({ values: import_v437.z.array(import_v437.z.number()) }))\n    })\n  )\n);\nvar googleGenerativeAISingleEmbeddingResponseSchema = lazySchema(\n  () => zodSchema(\n    import_v437.z.object({\n      embedding: import_v437.z.object({ values: import_v437.z.array(import_v437.z.number()) })\n    })\n  )\n);\nfunction convertJSONSchemaToOpenAPISchema(jsonSchema2) {\n  if (jsonSchema2 == null || isEmptyObjectSchema(jsonSchema2)) {\n    return void 0;\n  }\n  if (typeof jsonSchema2 === \"boolean\") {\n    return { type: \"boolean\", properties: {} };\n  }\n  const {\n    type,\n    description,\n    required,\n    properties,\n    items,\n    allOf,\n    anyOf,\n    oneOf,\n    format,\n    const: constValue,\n    minLength,\n    enum: enumValues\n  } = jsonSchema2;\n  const result = {};\n  if (description) result.description = description;\n  if (required) result.required = required;\n  if (format) result.format = format;\n  if (constValue !== void 0) {\n    result.enum = [constValue];\n  }\n  if (type) {\n    if (Array.isArray(type)) {\n      if (type.includes(\"null\")) {\n        result.type = type.filter((t) => t !== \"null\")[0];\n        result.nullable = true;\n      } else {\n        result.type = type;\n      }\n    } else if (type === \"null\") {\n      result.type = \"null\";\n    } else {\n      result.type = type;\n    }\n  }\n  if (enumValues !== void 0) {\n    result.enum = enumValues;\n  }\n  if (properties != null) {\n    result.properties = Object.entries(properties).reduce(\n      (acc, [key, value]) => {\n        acc[key] = convertJSONSchemaToOpenAPISchema(value);\n        return acc;\n      },\n      {}\n    );\n  }\n  if (items) {\n    result.items = Array.isArray(items) ? items.map(convertJSONSchemaToOpenAPISchema) : convertJSONSchemaToOpenAPISchema(items);\n  }\n  if (allOf) {\n    result.allOf = allOf.map(convertJSONSchemaToOpenAPISchema);\n  }\n  if (anyOf) {\n    if (anyOf.some(\n      (schema) => typeof schema === \"object\" && (schema == null ? void 0 : schema.type) === \"null\"\n    )) {\n      const nonNullSchemas = anyOf.filter(\n        (schema) => !(typeof schema === \"object\" && (schema == null ? void 0 : schema.type) === \"null\")\n      );\n      if (nonNullSchemas.length === 1) {\n        const converted = convertJSONSchemaToOpenAPISchema(nonNullSchemas[0]);\n        if (typeof converted === \"object\") {\n          result.nullable = true;\n          Object.assign(result, converted);\n        }\n      } else {\n        result.anyOf = nonNullSchemas.map(convertJSONSchemaToOpenAPISchema);\n        result.nullable = true;\n      }\n    } else {\n      result.anyOf = anyOf.map(convertJSONSchemaToOpenAPISchema);\n    }\n  }\n  if (oneOf) {\n    result.oneOf = oneOf.map(convertJSONSchemaToOpenAPISchema);\n  }\n  if (minLength !== void 0) {\n    result.minLength = minLength;\n  }\n  return result;\n}\nfunction isEmptyObjectSchema(jsonSchema2) {\n  return jsonSchema2 != null && typeof jsonSchema2 === \"object\" && jsonSchema2.type === \"object\" && (jsonSchema2.properties == null || Object.keys(jsonSchema2.properties).length === 0) && !jsonSchema2.additionalProperties;\n}\nfunction convertToGoogleGenerativeAIMessages(prompt, options) {\n  var _a;\n  const systemInstructionParts = [];\n  const contents = [];\n  let systemMessagesAllowed = true;\n  const isGemmaModel = (_a = options == null ? void 0 : options.isGemmaModel) != null ? _a : false;\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        if (!systemMessagesAllowed) {\n          throw new import_provider25.UnsupportedFunctionalityError({\n            functionality: \"system messages are only supported at the beginning of the conversation\"\n          });\n        }\n        systemInstructionParts.push({ text: content });\n        break;\n      }\n      case \"user\": {\n        systemMessagesAllowed = false;\n        const parts = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              parts.push({ text: part.text });\n              break;\n            }\n            case \"file\": {\n              const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n              parts.push(\n                part.data instanceof URL ? {\n                  fileData: {\n                    mimeType: mediaType,\n                    fileUri: part.data.toString()\n                  }\n                } : {\n                  inlineData: {\n                    mimeType: mediaType,\n                    data: convertToBase64(part.data)\n                  }\n                }\n              );\n              break;\n            }\n          }\n        }\n        contents.push({ role: \"user\", parts });\n        break;\n      }\n      case \"assistant\": {\n        systemMessagesAllowed = false;\n        contents.push({\n          role: \"model\",\n          parts: content.map((part) => {\n            var _a2, _b, _c, _d, _e, _f;\n            switch (part.type) {\n              case \"text\": {\n                return part.text.length === 0 ? void 0 : {\n                  text: part.text,\n                  thoughtSignature: (_b = (_a2 = part.providerOptions) == null ? void 0 : _a2.google) == null ? void 0 : _b.thoughtSignature\n                };\n              }\n              case \"reasoning\": {\n                return part.text.length === 0 ? void 0 : {\n                  text: part.text,\n                  thought: true,\n                  thoughtSignature: (_d = (_c = part.providerOptions) == null ? void 0 : _c.google) == null ? void 0 : _d.thoughtSignature\n                };\n              }\n              case \"file\": {\n                if (part.mediaType !== \"image/png\") {\n                  throw new import_provider25.UnsupportedFunctionalityError({\n                    functionality: \"Only PNG images are supported in assistant messages\"\n                  });\n                }\n                if (part.data instanceof URL) {\n                  throw new import_provider25.UnsupportedFunctionalityError({\n                    functionality: \"File data URLs in assistant messages are not supported\"\n                  });\n                }\n                return {\n                  inlineData: {\n                    mimeType: part.mediaType,\n                    data: convertToBase64(part.data)\n                  }\n                };\n              }\n              case \"tool-call\": {\n                return {\n                  functionCall: {\n                    name: part.toolName,\n                    args: part.input\n                  },\n                  thoughtSignature: (_f = (_e = part.providerOptions) == null ? void 0 : _e.google) == null ? void 0 : _f.thoughtSignature\n                };\n              }\n            }\n          }).filter((part) => part !== void 0)\n        });\n        break;\n      }\n      case \"tool\": {\n        systemMessagesAllowed = false;\n        const parts = [];\n        for (const part of content) {\n          const output = part.output;\n          if (output.type === \"content\") {\n            for (const contentPart of output.value) {\n              switch (contentPart.type) {\n                case \"text\":\n                  parts.push({\n                    functionResponse: {\n                      name: part.toolName,\n                      response: {\n                        name: part.toolName,\n                        content: contentPart.text\n                      }\n                    }\n                  });\n                  break;\n                case \"media\":\n                  parts.push(\n                    {\n                      inlineData: {\n                        mimeType: contentPart.mediaType,\n                        data: contentPart.data\n                      }\n                    },\n                    {\n                      text: \"Tool executed successfully and returned this image as a response\"\n                    }\n                  );\n                  break;\n                default:\n                  parts.push({ text: JSON.stringify(contentPart) });\n                  break;\n              }\n            }\n          } else {\n            parts.push({\n              functionResponse: {\n                name: part.toolName,\n                response: {\n                  name: part.toolName,\n                  content: output.value\n                }\n              }\n            });\n          }\n        }\n        contents.push({\n          role: \"user\",\n          parts\n        });\n        break;\n      }\n    }\n  }\n  if (isGemmaModel && systemInstructionParts.length > 0 && contents.length > 0 && contents[0].role === \"user\") {\n    const systemText = systemInstructionParts.map((part) => part.text).join(\"\\n\\n\");\n    contents[0].parts.unshift({ text: systemText + \"\\n\\n\" });\n  }\n  return {\n    systemInstruction: systemInstructionParts.length > 0 && !isGemmaModel ? { parts: systemInstructionParts } : void 0,\n    contents\n  };\n}\nfunction getModelPath(modelId) {\n  return modelId.includes(\"/\") ? modelId : `models/${modelId}`;\n}\nvar googleGenerativeAIProviderOptions = lazySchema(\n  () => zodSchema(\n    import_v441.z.object({\n      responseModalities: import_v441.z.array(import_v441.z.enum([\"TEXT\", \"IMAGE\"])).optional(),\n      thinkingConfig: import_v441.z.object({\n        thinkingBudget: import_v441.z.number().optional(),\n        includeThoughts: import_v441.z.boolean().optional()\n      }).optional(),\n      /**\n       * Optional.\n       * The name of the cached content used as context to serve the prediction.\n       * Format: cachedContents/{cachedContent}\n       */\n      cachedContent: import_v441.z.string().optional(),\n      /**\n       * Optional. Enable structured output. Default is true.\n       *\n       * This is useful when the JSON Schema contains elements that are\n       * not supported by the OpenAPI schema version that\n       * Google Generative AI uses. You can use this to disable\n       * structured outputs if you need to.\n       */\n      structuredOutputs: import_v441.z.boolean().optional(),\n      /**\n       * Optional. A list of unique safety settings for blocking unsafe content.\n       */\n      safetySettings: import_v441.z.array(\n        import_v441.z.object({\n          category: import_v441.z.enum([\n            \"HARM_CATEGORY_UNSPECIFIED\",\n            \"HARM_CATEGORY_HATE_SPEECH\",\n            \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            \"HARM_CATEGORY_HARASSMENT\",\n            \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            \"HARM_CATEGORY_CIVIC_INTEGRITY\"\n          ]),\n          threshold: import_v441.z.enum([\n            \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n            \"BLOCK_LOW_AND_ABOVE\",\n            \"BLOCK_MEDIUM_AND_ABOVE\",\n            \"BLOCK_ONLY_HIGH\",\n            \"BLOCK_NONE\",\n            \"OFF\"\n          ])\n        })\n      ).optional(),\n      threshold: import_v441.z.enum([\n        \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n        \"BLOCK_LOW_AND_ABOVE\",\n        \"BLOCK_MEDIUM_AND_ABOVE\",\n        \"BLOCK_ONLY_HIGH\",\n        \"BLOCK_NONE\",\n        \"OFF\"\n      ]).optional(),\n      /**\n       * Optional. Enables timestamp understanding for audio-only files.\n       *\n       * https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/audio-understanding\n       */\n      audioTimestamp: import_v441.z.boolean().optional(),\n      /**\n       * Optional. Defines labels used in billing reports. Available on Vertex AI only.\n       *\n       * https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/add-labels-to-api-calls\n       */\n      labels: import_v441.z.record(import_v441.z.string(), import_v441.z.string()).optional(),\n      /**\n       * Optional. If specified, the media resolution specified will be used.\n       *\n       * https://ai.google.dev/api/generate-content#MediaResolution\n       */\n      mediaResolution: import_v441.z.enum([\n        \"MEDIA_RESOLUTION_UNSPECIFIED\",\n        \"MEDIA_RESOLUTION_LOW\",\n        \"MEDIA_RESOLUTION_MEDIUM\",\n        \"MEDIA_RESOLUTION_HIGH\"\n      ]).optional(),\n      /**\n       * Optional. Configures the image generation aspect ratio for Gemini models.\n       *\n       * https://ai.google.dev/gemini-api/docs/image-generation#aspect_ratios\n       */\n      imageConfig: import_v441.z.object({\n        aspectRatio: import_v441.z.enum([\n          \"1:1\",\n          \"2:3\",\n          \"3:2\",\n          \"3:4\",\n          \"4:3\",\n          \"4:5\",\n          \"5:4\",\n          \"9:16\",\n          \"16:9\",\n          \"21:9\"\n        ]).optional()\n      }).optional()\n    })\n  )\n);\nfunction prepareTools2({\n  tools,\n  toolChoice,\n  modelId\n}) {\n  var _a;\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  const isGemini2 = modelId.includes(\"gemini-2\");\n  const supportsDynamicRetrieval = modelId.includes(\"gemini-1.5-flash\") && !modelId.includes(\"-8b\");\n  if (tools == null) {\n    return { tools: void 0, toolConfig: void 0, toolWarnings };\n  }\n  const hasFunctionTools = tools.some((tool12) => tool12.type === \"function\");\n  const hasProviderDefinedTools = tools.some(\n    (tool12) => tool12.type === \"provider-defined\"\n  );\n  if (hasFunctionTools && hasProviderDefinedTools) {\n    toolWarnings.push({\n      type: \"unsupported-tool\",\n      tool: tools.find((tool12) => tool12.type === \"function\"),\n      details: \"Cannot mix function tools with provider-defined tools in the same request. Please use either function tools or provider-defined tools, but not both.\"\n    });\n  }\n  if (hasProviderDefinedTools) {\n    const googleTools2 = [];\n    const providerDefinedTools = tools.filter(\n      (tool12) => tool12.type === \"provider-defined\"\n    );\n    providerDefinedTools.forEach((tool12) => {\n      switch (tool12.id) {\n        case \"google.google_search\":\n          if (isGemini2) {\n            googleTools2.push({ googleSearch: {} });\n          } else if (supportsDynamicRetrieval) {\n            googleTools2.push({\n              googleSearchRetrieval: {\n                dynamicRetrievalConfig: {\n                  mode: tool12.args.mode,\n                  dynamicThreshold: tool12.args.dynamicThreshold\n                }\n              }\n            });\n          } else {\n            googleTools2.push({ googleSearchRetrieval: {} });\n          }\n          break;\n        case \"google.url_context\":\n          if (isGemini2) {\n            googleTools2.push({ urlContext: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported-tool\",\n              tool: tool12,\n              details: \"The URL context tool is not supported with other Gemini models than Gemini 2.\"\n            });\n          }\n          break;\n        case \"google.code_execution\":\n          if (isGemini2) {\n            googleTools2.push({ codeExecution: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported-tool\",\n              tool: tool12,\n              details: \"The code execution tools is not supported with other Gemini models than Gemini 2.\"\n            });\n          }\n          break;\n        default:\n          toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n          break;\n      }\n    });\n    return {\n      tools: googleTools2.length > 0 ? googleTools2 : void 0,\n      toolConfig: void 0,\n      toolWarnings\n    };\n  }\n  const functionDeclarations = [];\n  for (const tool12 of tools) {\n    switch (tool12.type) {\n      case \"function\":\n        functionDeclarations.push({\n          name: tool12.name,\n          description: (_a = tool12.description) != null ? _a : \"\",\n          parameters: convertJSONSchemaToOpenAPISchema(tool12.inputSchema)\n        });\n        break;\n      default:\n        toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return {\n      tools: { functionDeclarations },\n      toolConfig: void 0,\n      toolWarnings\n    };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n      return {\n        tools: { functionDeclarations },\n        toolConfig: { functionCallingConfig: { mode: \"AUTO\" } },\n        toolWarnings\n      };\n    case \"none\":\n      return {\n        tools: { functionDeclarations },\n        toolConfig: { functionCallingConfig: { mode: \"NONE\" } },\n        toolWarnings\n      };\n    case \"required\":\n      return {\n        tools: { functionDeclarations },\n        toolConfig: { functionCallingConfig: { mode: \"ANY\" } },\n        toolWarnings\n      };\n    case \"tool\":\n      return {\n        tools: { functionDeclarations },\n        toolConfig: {\n          functionCallingConfig: {\n            mode: \"ANY\",\n            allowedFunctionNames: [toolChoice.toolName]\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider26.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nfunction mapGoogleGenerativeAIFinishReason({\n  finishReason,\n  hasToolCalls\n}) {\n  switch (finishReason) {\n    case \"STOP\":\n      return hasToolCalls ? \"tool-calls\" : \"stop\";\n    case \"MAX_TOKENS\":\n      return \"length\";\n    case \"IMAGE_SAFETY\":\n    case \"RECITATION\":\n    case \"SAFETY\":\n    case \"BLOCKLIST\":\n    case \"PROHIBITED_CONTENT\":\n    case \"SPII\":\n      return \"content-filter\";\n    case \"FINISH_REASON_UNSPECIFIED\":\n    case \"OTHER\":\n      return \"other\";\n    case \"MALFORMED_FUNCTION_CALL\":\n      return \"error\";\n    default:\n      return \"unknown\";\n  }\n}\nvar GoogleGenerativeAILanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    this.generateId = (_a = config.generateId) != null ? _a : generateId;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      tools,\n      toolChoice,\n      providerOptions\n    }) {\n      var _a, _b;\n      const warnings = [];\n      const googleOptions = yield parseProviderOptions({\n        provider: \"google\",\n        providerOptions,\n        schema: googleGenerativeAIProviderOptions\n      });\n      if (((_a = googleOptions == null ? void 0 : googleOptions.thinkingConfig) == null ? void 0 : _a.includeThoughts) === true && !this.config.provider.startsWith(\"google.vertex.\")) {\n        warnings.push({\n          type: \"other\",\n          message: `The 'includeThoughts' option is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`\n        });\n      }\n      const isGemmaModel = this.modelId.toLowerCase().startsWith(\"gemma-\");\n      const { contents, systemInstruction } = convertToGoogleGenerativeAIMessages(\n        prompt,\n        { isGemmaModel }\n      );\n      const {\n        tools: googleTools2,\n        toolConfig: googleToolConfig,\n        toolWarnings\n      } = prepareTools2({\n        tools,\n        toolChoice,\n        modelId: this.modelId\n      });\n      return {\n        args: {\n          generationConfig: __spreadValues(__spreadValues(__spreadProps(__spreadValues({\n            // standardized settings:\n            maxOutputTokens,\n            temperature,\n            topK,\n            topP,\n            frequencyPenalty,\n            presencePenalty,\n            stopSequences,\n            seed,\n            // response format:\n            responseMimeType: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? \"application/json\" : void 0,\n            responseSchema: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && // Google GenAI does not support all OpenAPI Schema features,\n            // so this is needed as an escape hatch:\n            // TODO convert into provider option\n            ((_b = googleOptions == null ? void 0 : googleOptions.structuredOutputs) != null ? _b : true) ? convertJSONSchemaToOpenAPISchema(responseFormat.schema) : void 0\n          }, (googleOptions == null ? void 0 : googleOptions.audioTimestamp) && {\n            audioTimestamp: googleOptions.audioTimestamp\n          }), {\n            // provider options:\n            responseModalities: googleOptions == null ? void 0 : googleOptions.responseModalities,\n            thinkingConfig: googleOptions == null ? void 0 : googleOptions.thinkingConfig\n          }), (googleOptions == null ? void 0 : googleOptions.imageConfig) && {\n            imageConfig: googleOptions.imageConfig\n          }), (googleOptions == null ? void 0 : googleOptions.mediaResolution) && {\n            mediaResolution: googleOptions.mediaResolution\n          }),\n          contents,\n          systemInstruction: isGemmaModel ? void 0 : systemInstruction,\n          safetySettings: googleOptions == null ? void 0 : googleOptions.safetySettings,\n          tools: googleTools2,\n          toolConfig: googleToolConfig,\n          cachedContent: googleOptions == null ? void 0 : googleOptions.cachedContent,\n          labels: googleOptions == null ? void 0 : googleOptions.labels\n        },\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n      const { args, warnings } = yield this.getArgs(options);\n      const body = JSON.stringify(args);\n      const mergedHeaders = combineHeaders(\n        yield resolve(this.config.headers),\n        options.headers\n      );\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: `${this.config.baseURL}/${getModelPath(\n          this.modelId\n        )}:generateContent`,\n        headers: mergedHeaders,\n        body: args,\n        failedResponseHandler: googleFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(responseSchema),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const candidate = response.candidates[0];\n      const content = [];\n      const parts = (_b = (_a = candidate.content) == null ? void 0 : _a.parts) != null ? _b : [];\n      const usageMetadata = response.usageMetadata;\n      let lastCodeExecutionToolCallId;\n      for (const part of parts) {\n        if (\"executableCode\" in part && ((_c = part.executableCode) == null ? void 0 : _c.code)) {\n          const toolCallId = this.config.generateId();\n          lastCodeExecutionToolCallId = toolCallId;\n          content.push({\n            type: \"tool-call\",\n            toolCallId,\n            toolName: \"code_execution\",\n            input: JSON.stringify(part.executableCode),\n            providerExecuted: true\n          });\n        } else if (\"codeExecutionResult\" in part && part.codeExecutionResult) {\n          content.push({\n            type: \"tool-result\",\n            // Assumes a result directly follows its corresponding call part.\n            toolCallId: lastCodeExecutionToolCallId,\n            toolName: \"code_execution\",\n            result: {\n              outcome: part.codeExecutionResult.outcome,\n              output: part.codeExecutionResult.output\n            },\n            providerExecuted: true\n          });\n          lastCodeExecutionToolCallId = void 0;\n        } else if (\"text\" in part && part.text != null && part.text.length > 0) {\n          content.push({\n            type: part.thought === true ? \"reasoning\" : \"text\",\n            text: part.text,\n            providerMetadata: part.thoughtSignature ? { google: { thoughtSignature: part.thoughtSignature } } : void 0\n          });\n        } else if (\"functionCall\" in part) {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: this.config.generateId(),\n            toolName: part.functionCall.name,\n            input: JSON.stringify(part.functionCall.args),\n            providerMetadata: part.thoughtSignature ? { google: { thoughtSignature: part.thoughtSignature } } : void 0\n          });\n        } else if (\"inlineData\" in part) {\n          content.push({\n            type: \"file\",\n            data: part.inlineData.data,\n            mediaType: part.inlineData.mimeType\n          });\n        }\n      }\n      const sources = (_d = extractSources({\n        groundingMetadata: candidate.groundingMetadata,\n        generateId: this.config.generateId\n      })) != null ? _d : [];\n      for (const source of sources) {\n        content.push(source);\n      }\n      return {\n        content,\n        finishReason: mapGoogleGenerativeAIFinishReason({\n          finishReason: candidate.finishReason,\n          hasToolCalls: content.some((part) => part.type === \"tool-call\")\n        }),\n        usage: {\n          inputTokens: (_e = usageMetadata == null ? void 0 : usageMetadata.promptTokenCount) != null ? _e : void 0,\n          outputTokens: (_f = usageMetadata == null ? void 0 : usageMetadata.candidatesTokenCount) != null ? _f : void 0,\n          totalTokens: (_g = usageMetadata == null ? void 0 : usageMetadata.totalTokenCount) != null ? _g : void 0,\n          reasoningTokens: (_h = usageMetadata == null ? void 0 : usageMetadata.thoughtsTokenCount) != null ? _h : void 0,\n          cachedInputTokens: (_i = usageMetadata == null ? void 0 : usageMetadata.cachedContentTokenCount) != null ? _i : void 0\n        },\n        warnings,\n        providerMetadata: {\n          google: {\n            promptFeedback: (_j = response.promptFeedback) != null ? _j : null,\n            groundingMetadata: (_k = candidate.groundingMetadata) != null ? _k : null,\n            urlContextMetadata: (_l = candidate.urlContextMetadata) != null ? _l : null,\n            safetyRatings: (_m = candidate.safetyRatings) != null ? _m : null,\n            usageMetadata: usageMetadata != null ? usageMetadata : null\n          }\n        },\n        request: { body },\n        response: {\n          // TODO timestamp, model id, id\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = JSON.stringify(args);\n      const headers = combineHeaders(\n        yield resolve(this.config.headers),\n        options.headers\n      );\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: `${this.config.baseURL}/${getModelPath(\n          this.modelId\n        )}:streamGenerateContent?alt=sse`,\n        headers,\n        body: args,\n        failedResponseHandler: googleFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(chunkSchema),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let providerMetadata = void 0;\n      const generateId3 = this.config.generateId;\n      let hasToolCalls = false;\n      let currentTextBlockId = null;\n      let currentReasoningBlockId = null;\n      let blockCounter = 0;\n      const emittedSourceUrls = /* @__PURE__ */ new Set();\n      let lastCodeExecutionToolCallId;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              const usageMetadata = value.usageMetadata;\n              if (usageMetadata != null) {\n                usage.inputTokens = (_a = usageMetadata.promptTokenCount) != null ? _a : void 0;\n                usage.outputTokens = (_b = usageMetadata.candidatesTokenCount) != null ? _b : void 0;\n                usage.totalTokens = (_c = usageMetadata.totalTokenCount) != null ? _c : void 0;\n                usage.reasoningTokens = (_d = usageMetadata.thoughtsTokenCount) != null ? _d : void 0;\n                usage.cachedInputTokens = (_e = usageMetadata.cachedContentTokenCount) != null ? _e : void 0;\n              }\n              const candidate = (_f = value.candidates) == null ? void 0 : _f[0];\n              if (candidate == null) {\n                return;\n              }\n              const content = candidate.content;\n              const sources = extractSources({\n                groundingMetadata: candidate.groundingMetadata,\n                generateId: generateId3\n              });\n              if (sources != null) {\n                for (const source of sources) {\n                  if (source.sourceType === \"url\" && !emittedSourceUrls.has(source.url)) {\n                    emittedSourceUrls.add(source.url);\n                    controller.enqueue(source);\n                  }\n                }\n              }\n              if (content != null) {\n                const parts = (_g = content.parts) != null ? _g : [];\n                for (const part of parts) {\n                  if (\"executableCode\" in part && ((_h = part.executableCode) == null ? void 0 : _h.code)) {\n                    const toolCallId = generateId3();\n                    lastCodeExecutionToolCallId = toolCallId;\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId,\n                      toolName: \"code_execution\",\n                      input: JSON.stringify(part.executableCode),\n                      providerExecuted: true\n                    });\n                    hasToolCalls = true;\n                  } else if (\"codeExecutionResult\" in part && part.codeExecutionResult) {\n                    const toolCallId = lastCodeExecutionToolCallId;\n                    if (toolCallId) {\n                      controller.enqueue({\n                        type: \"tool-result\",\n                        toolCallId,\n                        toolName: \"code_execution\",\n                        result: {\n                          outcome: part.codeExecutionResult.outcome,\n                          output: part.codeExecutionResult.output\n                        },\n                        providerExecuted: true\n                      });\n                      lastCodeExecutionToolCallId = void 0;\n                    }\n                  } else if (\"text\" in part && part.text != null && part.text.length > 0) {\n                    if (part.thought === true) {\n                      if (currentTextBlockId !== null) {\n                        controller.enqueue({\n                          type: \"text-end\",\n                          id: currentTextBlockId\n                        });\n                        currentTextBlockId = null;\n                      }\n                      if (currentReasoningBlockId === null) {\n                        currentReasoningBlockId = String(blockCounter++);\n                        controller.enqueue({\n                          type: \"reasoning-start\",\n                          id: currentReasoningBlockId,\n                          providerMetadata: part.thoughtSignature ? {\n                            google: {\n                              thoughtSignature: part.thoughtSignature\n                            }\n                          } : void 0\n                        });\n                      }\n                      controller.enqueue({\n                        type: \"reasoning-delta\",\n                        id: currentReasoningBlockId,\n                        delta: part.text,\n                        providerMetadata: part.thoughtSignature ? {\n                          google: { thoughtSignature: part.thoughtSignature }\n                        } : void 0\n                      });\n                    } else {\n                      if (currentReasoningBlockId !== null) {\n                        controller.enqueue({\n                          type: \"reasoning-end\",\n                          id: currentReasoningBlockId\n                        });\n                        currentReasoningBlockId = null;\n                      }\n                      if (currentTextBlockId === null) {\n                        currentTextBlockId = String(blockCounter++);\n                        controller.enqueue({\n                          type: \"text-start\",\n                          id: currentTextBlockId,\n                          providerMetadata: part.thoughtSignature ? {\n                            google: {\n                              thoughtSignature: part.thoughtSignature\n                            }\n                          } : void 0\n                        });\n                      }\n                      controller.enqueue({\n                        type: \"text-delta\",\n                        id: currentTextBlockId,\n                        delta: part.text,\n                        providerMetadata: part.thoughtSignature ? {\n                          google: { thoughtSignature: part.thoughtSignature }\n                        } : void 0\n                      });\n                    }\n                  }\n                }\n                const inlineDataParts = getInlineDataParts(content.parts);\n                if (inlineDataParts != null) {\n                  for (const part of inlineDataParts) {\n                    controller.enqueue({\n                      type: \"file\",\n                      mediaType: part.inlineData.mimeType,\n                      data: part.inlineData.data\n                    });\n                  }\n                }\n                const toolCallDeltas = getToolCallsFromParts({\n                  parts: content.parts,\n                  generateId: generateId3\n                });\n                if (toolCallDeltas != null) {\n                  for (const toolCall of toolCallDeltas) {\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: toolCall.toolCallId,\n                      toolName: toolCall.toolName,\n                      providerMetadata: toolCall.providerMetadata\n                    });\n                    controller.enqueue({\n                      type: \"tool-input-delta\",\n                      id: toolCall.toolCallId,\n                      delta: toolCall.args,\n                      providerMetadata: toolCall.providerMetadata\n                    });\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: toolCall.toolCallId,\n                      providerMetadata: toolCall.providerMetadata\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: toolCall.toolCallId,\n                      toolName: toolCall.toolName,\n                      input: toolCall.args,\n                      providerMetadata: toolCall.providerMetadata\n                    });\n                    hasToolCalls = true;\n                  }\n                }\n              }\n              if (candidate.finishReason != null) {\n                finishReason = mapGoogleGenerativeAIFinishReason({\n                  finishReason: candidate.finishReason,\n                  hasToolCalls\n                });\n                providerMetadata = {\n                  google: {\n                    promptFeedback: (_i = value.promptFeedback) != null ? _i : null,\n                    groundingMetadata: (_j = candidate.groundingMetadata) != null ? _j : null,\n                    urlContextMetadata: (_k = candidate.urlContextMetadata) != null ? _k : null,\n                    safetyRatings: (_l = candidate.safetyRatings) != null ? _l : null\n                  }\n                };\n                if (usageMetadata != null) {\n                  providerMetadata.google.usageMetadata = usageMetadata;\n                }\n              }\n            },\n            flush(controller) {\n              if (currentTextBlockId !== null) {\n                controller.enqueue({\n                  type: \"text-end\",\n                  id: currentTextBlockId\n                });\n              }\n              if (currentReasoningBlockId !== null) {\n                controller.enqueue({\n                  type: \"reasoning-end\",\n                  id: currentReasoningBlockId\n                });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage,\n                providerMetadata\n              });\n            }\n          })\n        ),\n        response: { headers: responseHeaders },\n        request: { body }\n      };\n    });\n  }\n};\nfunction getToolCallsFromParts({\n  parts,\n  generateId: generateId3\n}) {\n  const functionCallParts = parts == null ? void 0 : parts.filter(\n    (part) => \"functionCall\" in part\n  );\n  return functionCallParts == null || functionCallParts.length === 0 ? void 0 : functionCallParts.map((part) => ({\n    type: \"tool-call\",\n    toolCallId: generateId3(),\n    toolName: part.functionCall.name,\n    args: JSON.stringify(part.functionCall.args),\n    providerMetadata: part.thoughtSignature ? { google: { thoughtSignature: part.thoughtSignature } } : void 0\n  }));\n}\nfunction getInlineDataParts(parts) {\n  return parts == null ? void 0 : parts.filter(\n    (part) => \"inlineData\" in part\n  );\n}\nfunction extractSources({\n  groundingMetadata,\n  generateId: generateId3\n}) {\n  var _a;\n  return (_a = groundingMetadata == null ? void 0 : groundingMetadata.groundingChunks) == null ? void 0 : _a.filter(\n    (chunk) => chunk.web != null\n  ).map((chunk) => ({\n    type: \"source\",\n    sourceType: \"url\",\n    id: generateId3(),\n    url: chunk.web.uri,\n    title: chunk.web.title\n  }));\n}\nvar getGroundingMetadataSchema = () => import_v440.z.object({\n  webSearchQueries: import_v440.z.array(import_v440.z.string()).nullish(),\n  retrievalQueries: import_v440.z.array(import_v440.z.string()).nullish(),\n  searchEntryPoint: import_v440.z.object({ renderedContent: import_v440.z.string() }).nullish(),\n  groundingChunks: import_v440.z.array(\n    import_v440.z.object({\n      web: import_v440.z.object({ uri: import_v440.z.string(), title: import_v440.z.string() }).nullish(),\n      retrievedContext: import_v440.z.object({ uri: import_v440.z.string(), title: import_v440.z.string() }).nullish()\n    })\n  ).nullish(),\n  groundingSupports: import_v440.z.array(\n    import_v440.z.object({\n      segment: import_v440.z.object({\n        startIndex: import_v440.z.number().nullish(),\n        endIndex: import_v440.z.number().nullish(),\n        text: import_v440.z.string().nullish()\n      }),\n      segment_text: import_v440.z.string().nullish(),\n      groundingChunkIndices: import_v440.z.array(import_v440.z.number()).nullish(),\n      supportChunkIndices: import_v440.z.array(import_v440.z.number()).nullish(),\n      confidenceScores: import_v440.z.array(import_v440.z.number()).nullish(),\n      confidenceScore: import_v440.z.array(import_v440.z.number()).nullish()\n    })\n  ).nullish(),\n  retrievalMetadata: import_v440.z.union([\n    import_v440.z.object({\n      webDynamicRetrievalScore: import_v440.z.number()\n    }),\n    import_v440.z.object({})\n  ]).nullish()\n});\nvar getContentSchema = () => import_v440.z.object({\n  parts: import_v440.z.array(\n    import_v440.z.union([\n      // note: order matters since text can be fully empty\n      import_v440.z.object({\n        functionCall: import_v440.z.object({\n          name: import_v440.z.string(),\n          args: import_v440.z.unknown()\n        }),\n        thoughtSignature: import_v440.z.string().nullish()\n      }),\n      import_v440.z.object({\n        inlineData: import_v440.z.object({\n          mimeType: import_v440.z.string(),\n          data: import_v440.z.string()\n        })\n      }),\n      import_v440.z.object({\n        executableCode: import_v440.z.object({\n          language: import_v440.z.string(),\n          code: import_v440.z.string()\n        }).nullish(),\n        codeExecutionResult: import_v440.z.object({\n          outcome: import_v440.z.string(),\n          output: import_v440.z.string()\n        }).nullish(),\n        text: import_v440.z.string().nullish(),\n        thought: import_v440.z.boolean().nullish(),\n        thoughtSignature: import_v440.z.string().nullish()\n      })\n    ])\n  ).nullish()\n});\nvar getSafetyRatingSchema = () => import_v440.z.object({\n  category: import_v440.z.string().nullish(),\n  probability: import_v440.z.string().nullish(),\n  probabilityScore: import_v440.z.number().nullish(),\n  severity: import_v440.z.string().nullish(),\n  severityScore: import_v440.z.number().nullish(),\n  blocked: import_v440.z.boolean().nullish()\n});\nvar usageSchema = import_v440.z.object({\n  cachedContentTokenCount: import_v440.z.number().nullish(),\n  thoughtsTokenCount: import_v440.z.number().nullish(),\n  promptTokenCount: import_v440.z.number().nullish(),\n  candidatesTokenCount: import_v440.z.number().nullish(),\n  totalTokenCount: import_v440.z.number().nullish()\n});\nvar getUrlContextMetadataSchema = () => import_v440.z.object({\n  urlMetadata: import_v440.z.array(\n    import_v440.z.object({\n      retrievedUrl: import_v440.z.string(),\n      urlRetrievalStatus: import_v440.z.string()\n    })\n  )\n});\nvar responseSchema = lazySchema(\n  () => zodSchema(\n    import_v440.z.object({\n      candidates: import_v440.z.array(\n        import_v440.z.object({\n          content: getContentSchema().nullish().or(import_v440.z.object({}).strict()),\n          finishReason: import_v440.z.string().nullish(),\n          safetyRatings: import_v440.z.array(getSafetyRatingSchema()).nullish(),\n          groundingMetadata: getGroundingMetadataSchema().nullish(),\n          urlContextMetadata: getUrlContextMetadataSchema().nullish()\n        })\n      ),\n      usageMetadata: usageSchema.nullish(),\n      promptFeedback: import_v440.z.object({\n        blockReason: import_v440.z.string().nullish(),\n        safetyRatings: import_v440.z.array(getSafetyRatingSchema()).nullish()\n      }).nullish()\n    })\n  )\n);\nvar chunkSchema = lazySchema(\n  () => zodSchema(\n    import_v440.z.object({\n      candidates: import_v440.z.array(\n        import_v440.z.object({\n          content: getContentSchema().nullish(),\n          finishReason: import_v440.z.string().nullish(),\n          safetyRatings: import_v440.z.array(getSafetyRatingSchema()).nullish(),\n          groundingMetadata: getGroundingMetadataSchema().nullish(),\n          urlContextMetadata: getUrlContextMetadataSchema().nullish()\n        })\n      ).nullish(),\n      usageMetadata: usageSchema.nullish(),\n      promptFeedback: import_v440.z.object({\n        blockReason: import_v440.z.string().nullish(),\n        safetyRatings: import_v440.z.array(getSafetyRatingSchema()).nullish()\n      }).nullish()\n    })\n  )\n);\nvar codeExecution = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"google.code_execution\",\n  name: \"code_execution\",\n  inputSchema: import_v442.z.object({\n    language: import_v442.z.string().describe(\"The programming language of the code.\"),\n    code: import_v442.z.string().describe(\"The code to be executed.\")\n  }),\n  outputSchema: import_v442.z.object({\n    outcome: import_v442.z.string().describe('The outcome of the execution (e.g., \"OUTCOME_OK\").'),\n    output: import_v442.z.string().describe(\"The output from the code execution.\")\n  })\n});\nvar googleSearch = createProviderDefinedToolFactory({\n  id: \"google.google_search\",\n  name: \"google_search\",\n  inputSchema: lazySchema(\n    () => zodSchema(\n      import_v443.z.object({\n        mode: import_v443.z.enum([\"MODE_DYNAMIC\", \"MODE_UNSPECIFIED\"]).default(\"MODE_UNSPECIFIED\"),\n        dynamicThreshold: import_v443.z.number().default(1)\n      })\n    )\n  )\n});\nvar urlContext = createProviderDefinedToolFactory({\n  id: \"google.url_context\",\n  name: \"url_context\",\n  inputSchema: lazySchema(() => zodSchema(import_v444.z.object({})))\n});\nvar googleTools = {\n  /**\n   * Creates a Google search tool that gives Google direct access to real-time web content.\n   * Must have name \"google_search\".\n   */\n  googleSearch,\n  /**\n   * Creates a URL context tool that gives Google direct access to real-time web content.\n   * Must have name \"url_context\".\n   */\n  urlContext,\n  /**\n   * A tool that enables the model to generate and run Python code.\n   * Must have name \"code_execution\".\n   *\n   * @note Ensure the selected model supports Code Execution.\n   * Multi-tool usage with the code execution tool is typically compatible with Gemini >=2 models.\n   *\n   * @see https://ai.google.dev/gemini-api/docs/code-execution (Google AI)\n   * @see https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/code-execution-api (Vertex AI)\n   */\n  codeExecution\n};\nvar GoogleGenerativeAIImageModel = class {\n  constructor(modelId, settings, config) {\n    this.modelId = modelId;\n    this.settings = settings;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get maxImagesPerCall() {\n    var _a;\n    return (_a = this.settings.maxImagesPerCall) != null ? _a : 4;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        prompt,\n        n = 1,\n        size = \"1024x1024\",\n        aspectRatio = \"1:1\",\n        seed,\n        providerOptions,\n        headers,\n        abortSignal\n      } = options;\n      const warnings = [];\n      if (size != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"size\",\n          details: \"This model does not support the `size` option. Use `aspectRatio` instead.\"\n        });\n      }\n      if (seed != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"seed\",\n          details: \"This model does not support the `seed` option through this provider.\"\n        });\n      }\n      const googleOptions = yield parseProviderOptions({\n        provider: \"google\",\n        providerOptions,\n        schema: googleImageProviderOptionsSchema\n      });\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const parameters = {\n        sampleCount: n\n      };\n      if (aspectRatio != null) {\n        parameters.aspectRatio = aspectRatio;\n      }\n      if (googleOptions) {\n        Object.assign(parameters, googleOptions);\n      }\n      const body = {\n        instances: [{ prompt }],\n        parameters\n      };\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: `${this.config.baseURL}/models/${this.modelId}:predict`,\n        headers: combineHeaders(yield resolve(this.config.headers), headers),\n        body,\n        failedResponseHandler: googleFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          googleImageResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response.predictions.map(\n          (p) => p.bytesBase64Encoded\n        ),\n        warnings: warnings != null ? warnings : [],\n        providerMetadata: {\n          google: {\n            images: response.predictions.map((prediction) => ({\n              // Add any prediction-specific metadata here\n            }))\n          }\n        },\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders\n        }\n      };\n    });\n  }\n};\nvar googleImageResponseSchema = lazySchema(\n  () => zodSchema(\n    import_v445.z.object({\n      predictions: import_v445.z.array(import_v445.z.object({ bytesBase64Encoded: import_v445.z.string() })).default([])\n    })\n  )\n);\nvar googleImageProviderOptionsSchema = lazySchema(\n  () => zodSchema(\n    import_v445.z.object({\n      personGeneration: import_v445.z.enum([\"dont_allow\", \"allow_adult\", \"allow_all\"]).nullish(),\n      aspectRatio: import_v445.z.enum([\"1:1\", \"3:4\", \"4:3\", \"9:16\", \"16:9\"]).nullish()\n    })\n  )\n);\nfunction createGoogleGenerativeAI(options = {}) {\n  var _a;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://generativelanguage.googleapis.com/v1beta\";\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      \"x-goog-api-key\": loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"GOOGLE_GENERATIVE_AI_API_KEY\",\n        description: \"Google Generative AI\"\n      })\n    }, options.headers),\n    `ai-sdk/google/${VERSION4}`\n  );\n  const createChatModel = (modelId) => {\n    var _a2;\n    return new GoogleGenerativeAILanguageModel(modelId, {\n      provider: \"google.generative-ai\",\n      baseURL,\n      headers: getHeaders,\n      generateId: (_a2 = options.generateId) != null ? _a2 : generateId,\n      supportedUrls: () => ({\n        \"*\": [\n          // Google Generative Language \"files\" endpoint\n          // e.g. https://generativelanguage.googleapis.com/v1beta/files/...\n          new RegExp(`^${baseURL}/files/.*$`),\n          // YouTube URLs (public or unlisted videos)\n          new RegExp(\n            `^https://(?:www\\\\.)?youtube\\\\.com/watch\\\\?v=[\\\\w-]+(?:&[\\\\w=&.-]*)?$`\n          ),\n          new RegExp(`^https://youtu\\\\.be/[\\\\w-]+(?:\\\\?[\\\\w=&.-]*)?$`)\n        ]\n      }),\n      fetch: options.fetch\n    });\n  };\n  const createEmbeddingModel = (modelId) => new GoogleGenerativeAIEmbeddingModel(modelId, {\n    provider: \"google.generative-ai\",\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createImageModel = (modelId, settings = {}) => new GoogleGenerativeAIImageModel(modelId, settings, {\n    provider: \"google.generative-ai\",\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Google Generative AI model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.generativeAI = createChatModel;\n  provider.embedding = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  provider.tools = googleTools;\n  return provider;\n}\nvar google = createGoogleGenerativeAI();\n\n// ../../node_modules/.pnpm/@ai-sdk+openai-compatible@1.0.22_zod@3.25.67/node_modules/@ai-sdk/openai-compatible/dist/index.mjs\nvar import_provider27 = require(\"@ai-sdk/provider\");\nvar import_v446 = require(\"zod/v4\");\nvar import_provider28 = require(\"@ai-sdk/provider\");\nvar import_v447 = require(\"zod/v4\");\nvar import_v448 = require(\"zod/v4\");\nvar import_provider29 = require(\"@ai-sdk/provider\");\nvar import_v449 = require(\"zod/v4\");\nvar import_provider30 = require(\"@ai-sdk/provider\");\nvar import_v450 = require(\"zod/v4\");\nvar import_provider31 = require(\"@ai-sdk/provider\");\nvar import_v451 = require(\"zod/v4\");\nvar import_v452 = require(\"zod/v4\");\nvar import_v453 = require(\"zod/v4\");\nfunction getOpenAIMetadata(message) {\n  var _a, _b;\n  return (_b = (_a = message == null ? void 0 : message.providerOptions) == null ? void 0 : _a.openaiCompatible) != null ? _b : {};\n}\nfunction convertToOpenAICompatibleChatMessages(prompt) {\n  const messages = [];\n  for (const _a of prompt) {\n    const _b = _a, { role, content } = _b, message = __objRest(_b, [\"role\", \"content\"]);\n    const metadata = getOpenAIMetadata(__spreadValues({}, message));\n    switch (role) {\n      case \"system\": {\n        messages.push(__spreadValues({ role: \"system\", content }, metadata));\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push(__spreadValues({\n            role: \"user\",\n            content: content[0].text\n          }, getOpenAIMetadata(content[0])));\n          break;\n        }\n        messages.push(__spreadValues({\n          role: \"user\",\n          content: content.map((part) => {\n            const partMetadata = getOpenAIMetadata(part);\n            switch (part.type) {\n              case \"text\": {\n                return __spreadValues({ type: \"text\", text: part.text }, partMetadata);\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return __spreadValues({\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                    }\n                  }, partMetadata);\n                } else {\n                  throw new import_provider28.UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        }, metadata));\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          const partMetadata = getOpenAIMetadata(part);\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push(__spreadValues({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              }, partMetadata));\n              break;\n            }\n          }\n        }\n        messages.push(__spreadValues({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        }, metadata));\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          const toolResponseMetadata = getOpenAIMetadata(toolResponse);\n          messages.push(__spreadValues({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          }, toolResponseMetadata));\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\nfunction getResponseMetadata3({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAICompatibleFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiCompatibleProviderOptions = import_v447.z.object({\n  /**\n   * A unique identifier representing your end-user, which can help the provider to\n   * monitor and detect abuse.\n   */\n  user: import_v447.z.string().optional(),\n  /**\n   * Reasoning effort for reasoning models. Defaults to `medium`.\n   */\n  reasoningEffort: import_v447.z.string().optional(),\n  /**\n   * Controls the verbosity of the generated text. Defaults to `medium`.\n   */\n  textVerbosity: import_v447.z.string().optional()\n});\nvar openaiCompatibleErrorDataSchema = import_v448.z.object({\n  error: import_v448.z.object({\n    message: import_v448.z.string(),\n    // The additional information below is handled loosely to support\n    // OpenAI-compatible providers that have slightly different error\n    // responses:\n    type: import_v448.z.string().nullish(),\n    param: import_v448.z.any().nullish(),\n    code: import_v448.z.union([import_v448.z.string(), import_v448.z.number()]).nullish()\n  })\n});\nvar defaultOpenAICompatibleErrorStructure = {\n  errorSchema: openaiCompatibleErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n};\nfunction prepareTools3({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiCompatTools = [];\n  for (const tool12 of tools) {\n    if (tool12.type === \"provider-defined\") {\n      toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n    } else {\n      openaiCompatTools.push({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: tool12.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiCompatTools, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiCompatTools, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiCompatTools,\n        toolChoice: {\n          type: \"function\",\n          function: { name: toolChoice.toolName }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider29.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar OpenAICompatibleChatLanguageModel = class {\n  // type inferred via constructor\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a, _b;\n    this.modelId = modelId;\n    this.config = config;\n    const errorStructure = (_a = config.errorStructure) != null ? _a : defaultOpenAICompatibleErrorStructure;\n    this.chunkSchema = createOpenAICompatibleChatChunkSchema(\n      errorStructure.errorSchema\n    );\n    this.failedResponseHandler = createJsonErrorResponseHandler(errorStructure);\n    this.supportsStructuredOutputs = (_b = config.supportsStructuredOutputs) != null ? _b : false;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      providerOptions,\n      stopSequences,\n      responseFormat,\n      seed,\n      toolChoice,\n      tools\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const compatibleOptions = Object.assign(\n        (_a = yield parseProviderOptions({\n          provider: \"openai-compatible\",\n          providerOptions,\n          schema: openaiCompatibleProviderOptions\n        })) != null ? _a : {},\n        (_b = yield parseProviderOptions({\n          provider: this.providerOptionsName,\n          providerOptions,\n          schema: openaiCompatibleProviderOptions\n        })) != null ? _b : {}\n      );\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !this.supportsStructuredOutputs) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format schema is only supported with structuredOutputs\"\n        });\n      }\n      const {\n        tools: openaiTools2,\n        toolChoice: openaiToolChoice,\n        toolWarnings\n      } = prepareTools3({\n        tools,\n        toolChoice\n      });\n      return {\n        args: __spreadProps(__spreadValues({\n          // model id:\n          model: this.modelId,\n          // model specific settings:\n          user: compatibleOptions.user,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? this.supportsStructuredOutputs === true && responseFormat.schema != null ? {\n            type: \"json_schema\",\n            json_schema: {\n              schema: responseFormat.schema,\n              name: (_c = responseFormat.name) != null ? _c : \"response\",\n              description: responseFormat.description\n            }\n          } : { type: \"json_object\" } : void 0,\n          stop: stopSequences,\n          seed\n        }, Object.fromEntries(\n          Object.entries(\n            (_d = providerOptions == null ? void 0 : providerOptions[this.providerOptionsName]) != null ? _d : {}\n          ).filter(\n            ([key]) => !Object.keys(openaiCompatibleProviderOptions.shape).includes(key)\n          )\n        )), {\n          reasoning_effort: compatibleOptions.reasoningEffort,\n          verbosity: compatibleOptions.textVerbosity,\n          // messages:\n          messages: convertToOpenAICompatibleChatMessages(prompt),\n          // tools:\n          tools: openaiTools2,\n          tool_choice: openaiToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n      const { args, warnings } = yield this.getArgs(__spreadValues({}, options));\n      const body = JSON.stringify(args);\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: args,\n        failedResponseHandler: this.failedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          OpenAICompatibleChatResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = responseBody.choices[0];\n      const content = [];\n      const text = choice.message.content;\n      if (text != null && text.length > 0) {\n        content.push({ type: \"text\", text });\n      }\n      const reasoning = (_a = choice.message.reasoning_content) != null ? _a : choice.message.reasoning;\n      if (reasoning != null && reasoning.length > 0) {\n        content.push({\n          type: \"reasoning\",\n          text: reasoning\n        });\n      }\n      if (choice.message.tool_calls != null) {\n        for (const toolCall of choice.message.tool_calls) {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: (_b = toolCall.id) != null ? _b : generateId(),\n            toolName: toolCall.function.name,\n            input: toolCall.function.arguments\n          });\n        }\n      }\n      const providerMetadata = __spreadValues({\n        [this.providerOptionsName]: {}\n      }, yield (_d = (_c = this.config.metadataExtractor) == null ? void 0 : _c.extractMetadata) == null ? void 0 : _d.call(_c, {\n        parsedBody: rawResponse\n      }));\n      const completionTokenDetails = (_e = responseBody.usage) == null ? void 0 : _e.completion_tokens_details;\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n        providerMetadata[this.providerOptionsName].acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n      }\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n        providerMetadata[this.providerOptionsName].rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n      }\n      return {\n        content,\n        finishReason: mapOpenAICompatibleFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: (_g = (_f = responseBody.usage) == null ? void 0 : _f.prompt_tokens) != null ? _g : void 0,\n          outputTokens: (_i = (_h = responseBody.usage) == null ? void 0 : _h.completion_tokens) != null ? _i : void 0,\n          totalTokens: (_k = (_j = responseBody.usage) == null ? void 0 : _j.total_tokens) != null ? _k : void 0,\n          reasoningTokens: (_n = (_m = (_l = responseBody.usage) == null ? void 0 : _l.completion_tokens_details) == null ? void 0 : _m.reasoning_tokens) != null ? _n : void 0,\n          cachedInputTokens: (_q = (_p = (_o = responseBody.usage) == null ? void 0 : _o.prompt_tokens_details) == null ? void 0 : _p.cached_tokens) != null ? _q : void 0\n        },\n        providerMetadata,\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata3(responseBody)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      var _a;\n      const { args, warnings } = yield this.getArgs(__spreadValues({}, options));\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        // only include stream_options when in strict compatibility mode:\n        stream_options: this.config.includeUsage ? { include_usage: true } : void 0\n      });\n      const metadataExtractor = (_a = this.config.metadataExtractor) == null ? void 0 : _a.createStreamExtractor();\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: this.failedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          this.chunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const toolCalls = [];\n      let finishReason = \"unknown\";\n      const usage = {\n        completionTokens: void 0,\n        completionTokensDetails: {\n          reasoningTokens: void 0,\n          acceptedPredictionTokens: void 0,\n          rejectedPredictionTokens: void 0\n        },\n        promptTokens: void 0,\n        promptTokensDetails: {\n          cachedTokens: void 0\n        },\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      const providerOptionsName = this.providerOptionsName;\n      let isActiveReasoning = false;\n      let isActiveText = false;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            // TODO we lost type safety on Chunk, most likely due to the error schema. MUST FIX\n            transform(chunk, controller) {\n              var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              metadataExtractor == null ? void 0 : metadataExtractor.processChunk(chunk.rawValue);\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error.message });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata3(value)));\n              }\n              if (value.usage != null) {\n                const {\n                  prompt_tokens,\n                  completion_tokens,\n                  total_tokens,\n                  prompt_tokens_details,\n                  completion_tokens_details\n                } = value.usage;\n                usage.promptTokens = prompt_tokens != null ? prompt_tokens : void 0;\n                usage.completionTokens = completion_tokens != null ? completion_tokens : void 0;\n                usage.totalTokens = total_tokens != null ? total_tokens : void 0;\n                if ((completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens) != null) {\n                  usage.completionTokensDetails.reasoningTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens;\n                }\n                if ((completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens) != null) {\n                  usage.completionTokensDetails.acceptedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens;\n                }\n                if ((completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens) != null) {\n                  usage.completionTokensDetails.rejectedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens;\n                }\n                if ((prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens) != null) {\n                  usage.promptTokensDetails.cachedTokens = prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens;\n                }\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAICompatibleFinishReason(\n                  choice.finish_reason\n                );\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              const reasoningContent = (_a2 = delta.reasoning_content) != null ? _a2 : delta.reasoning;\n              if (reasoningContent) {\n                if (!isActiveReasoning) {\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: \"reasoning-0\"\n                  });\n                  isActiveReasoning = true;\n                }\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: \"reasoning-0\",\n                  delta: reasoningContent\n                });\n              }\n              if (delta.content) {\n                if (!isActiveText) {\n                  controller.enqueue({ type: \"text-start\", id: \"txt-0\" });\n                  isActiveText = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"txt-0\",\n                  delta: delta.content\n                });\n              }\n              if (delta.tool_calls != null) {\n                for (const toolCallDelta of delta.tool_calls) {\n                  const index = toolCallDelta.index;\n                  if (toolCalls[index] == null) {\n                    if (toolCallDelta.id == null) {\n                      throw new import_provider27.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'id' to be a string.`\n                      });\n                    }\n                    if (((_b = toolCallDelta.function) == null ? void 0 : _b.name) == null) {\n                      throw new import_provider27.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function.name' to be a string.`\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: toolCallDelta.id,\n                      toolName: toolCallDelta.function.name\n                    });\n                    toolCalls[index] = {\n                      id: toolCallDelta.id,\n                      type: \"function\",\n                      function: {\n                        name: toolCallDelta.function.name,\n                        arguments: (_c = toolCallDelta.function.arguments) != null ? _c : \"\"\n                      },\n                      hasFinished: false\n                    };\n                    const toolCall2 = toolCalls[index];\n                    if (((_d = toolCall2.function) == null ? void 0 : _d.name) != null && ((_e = toolCall2.function) == null ? void 0 : _e.arguments) != null) {\n                      if (toolCall2.function.arguments.length > 0) {\n                        controller.enqueue({\n                          type: \"tool-input-delta\",\n                          id: toolCall2.id,\n                          delta: toolCall2.function.arguments\n                        });\n                      }\n                      if (isParsableJson(toolCall2.function.arguments)) {\n                        controller.enqueue({\n                          type: \"tool-input-end\",\n                          id: toolCall2.id\n                        });\n                        controller.enqueue({\n                          type: \"tool-call\",\n                          toolCallId: (_f = toolCall2.id) != null ? _f : generateId(),\n                          toolName: toolCall2.function.name,\n                          input: toolCall2.function.arguments\n                        });\n                        toolCall2.hasFinished = true;\n                      }\n                    }\n                    continue;\n                  }\n                  const toolCall = toolCalls[index];\n                  if (toolCall.hasFinished) {\n                    continue;\n                  }\n                  if (((_g = toolCallDelta.function) == null ? void 0 : _g.arguments) != null) {\n                    toolCall.function.arguments += (_i = (_h = toolCallDelta.function) == null ? void 0 : _h.arguments) != null ? _i : \"\";\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.id,\n                    delta: (_j = toolCallDelta.function.arguments) != null ? _j : \"\"\n                  });\n                  if (((_k = toolCall.function) == null ? void 0 : _k.name) != null && ((_l = toolCall.function) == null ? void 0 : _l.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: toolCall.id\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: (_m = toolCall.id) != null ? _m : generateId(),\n                      toolName: toolCall.function.name,\n                      input: toolCall.function.arguments\n                    });\n                    toolCall.hasFinished = true;\n                  }\n                }\n              }\n            },\n            flush(controller) {\n              var _a2, _b, _c, _d, _e, _f;\n              if (isActiveReasoning) {\n                controller.enqueue({ type: \"reasoning-end\", id: \"reasoning-0\" });\n              }\n              if (isActiveText) {\n                controller.enqueue({ type: \"text-end\", id: \"txt-0\" });\n              }\n              for (const toolCall of toolCalls.filter(\n                (toolCall2) => !toolCall2.hasFinished\n              )) {\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: toolCall.id\n                });\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: (_a2 = toolCall.id) != null ? _a2 : generateId(),\n                  toolName: toolCall.function.name,\n                  input: toolCall.function.arguments\n                });\n              }\n              const providerMetadata = __spreadValues({\n                [providerOptionsName]: {}\n              }, metadataExtractor == null ? void 0 : metadataExtractor.buildMetadata());\n              if (usage.completionTokensDetails.acceptedPredictionTokens != null) {\n                providerMetadata[providerOptionsName].acceptedPredictionTokens = usage.completionTokensDetails.acceptedPredictionTokens;\n              }\n              if (usage.completionTokensDetails.rejectedPredictionTokens != null) {\n                providerMetadata[providerOptionsName].rejectedPredictionTokens = usage.completionTokensDetails.rejectedPredictionTokens;\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage: {\n                  inputTokens: (_b = usage.promptTokens) != null ? _b : void 0,\n                  outputTokens: (_c = usage.completionTokens) != null ? _c : void 0,\n                  totalTokens: (_d = usage.totalTokens) != null ? _d : void 0,\n                  reasoningTokens: (_e = usage.completionTokensDetails.reasoningTokens) != null ? _e : void 0,\n                  cachedInputTokens: (_f = usage.promptTokensDetails.cachedTokens) != null ? _f : void 0\n                },\n                providerMetadata\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar openaiCompatibleTokenUsageSchema = import_v446.z.object({\n  prompt_tokens: import_v446.z.number().nullish(),\n  completion_tokens: import_v446.z.number().nullish(),\n  total_tokens: import_v446.z.number().nullish(),\n  prompt_tokens_details: import_v446.z.object({\n    cached_tokens: import_v446.z.number().nullish()\n  }).nullish(),\n  completion_tokens_details: import_v446.z.object({\n    reasoning_tokens: import_v446.z.number().nullish(),\n    accepted_prediction_tokens: import_v446.z.number().nullish(),\n    rejected_prediction_tokens: import_v446.z.number().nullish()\n  }).nullish()\n}).nullish();\nvar OpenAICompatibleChatResponseSchema = import_v446.z.object({\n  id: import_v446.z.string().nullish(),\n  created: import_v446.z.number().nullish(),\n  model: import_v446.z.string().nullish(),\n  choices: import_v446.z.array(\n    import_v446.z.object({\n      message: import_v446.z.object({\n        role: import_v446.z.literal(\"assistant\").nullish(),\n        content: import_v446.z.string().nullish(),\n        reasoning_content: import_v446.z.string().nullish(),\n        reasoning: import_v446.z.string().nullish(),\n        tool_calls: import_v446.z.array(\n          import_v446.z.object({\n            id: import_v446.z.string().nullish(),\n            function: import_v446.z.object({\n              name: import_v446.z.string(),\n              arguments: import_v446.z.string()\n            })\n          })\n        ).nullish()\n      }),\n      finish_reason: import_v446.z.string().nullish()\n    })\n  ),\n  usage: openaiCompatibleTokenUsageSchema\n});\nvar createOpenAICompatibleChatChunkSchema = (errorSchema) => import_v446.z.union([\n  import_v446.z.object({\n    id: import_v446.z.string().nullish(),\n    created: import_v446.z.number().nullish(),\n    model: import_v446.z.string().nullish(),\n    choices: import_v446.z.array(\n      import_v446.z.object({\n        delta: import_v446.z.object({\n          role: import_v446.z.enum([\"assistant\"]).nullish(),\n          content: import_v446.z.string().nullish(),\n          // Most openai-compatible models set `reasoning_content`, but some\n          // providers serving `gpt-oss` set `reasoning`. See #7866\n          reasoning_content: import_v446.z.string().nullish(),\n          reasoning: import_v446.z.string().nullish(),\n          tool_calls: import_v446.z.array(\n            import_v446.z.object({\n              index: import_v446.z.number(),\n              id: import_v446.z.string().nullish(),\n              function: import_v446.z.object({\n                name: import_v446.z.string().nullish(),\n                arguments: import_v446.z.string().nullish()\n              })\n            })\n          ).nullish()\n        }).nullish(),\n        finish_reason: import_v446.z.string().nullish()\n      })\n    ),\n    usage: openaiCompatibleTokenUsageSchema\n  }),\n  errorSchema\n]);\nfunction convertToOpenAICompatibleCompletionPrompt({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new import_provider30.InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new import_provider30.UnsupportedFunctionalityError({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new import_provider30.UnsupportedFunctionalityError({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\nfunction getResponseMetadata22({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAICompatibleFinishReason2(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiCompatibleCompletionProviderOptions = import_v450.z.object({\n  /**\n   * Echo back the prompt in addition to the completion.\n   */\n  echo: import_v450.z.boolean().optional(),\n  /**\n   * Modify the likelihood of specified tokens appearing in the completion.\n   *\n   * Accepts a JSON object that maps tokens (specified by their token ID in\n   * the GPT tokenizer) to an associated bias value from -100 to 100.\n   */\n  logitBias: import_v450.z.record(import_v450.z.string(), import_v450.z.number()).optional(),\n  /**\n   * The suffix that comes after a completion of inserted text.\n   */\n  suffix: import_v450.z.string().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help providers to\n   * monitor and detect abuse.\n   */\n  user: import_v450.z.string().optional()\n});\nvar OpenAICompatibleCompletionLanguageModel = class {\n  // type inferred via constructor\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    const errorStructure = (_a = config.errorStructure) != null ? _a : defaultOpenAICompatibleErrorStructure;\n    this.chunkSchema = createOpenAICompatibleCompletionChunkSchema(\n      errorStructure.errorSchema\n    );\n    this.failedResponseHandler = createJsonErrorResponseHandler(errorStructure);\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences: userStopSequences,\n      responseFormat,\n      seed,\n      providerOptions,\n      tools,\n      toolChoice\n    }) {\n      var _a;\n      const warnings = [];\n      const completionOptions = (_a = yield parseProviderOptions({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompatibleCompletionProviderOptions\n      })) != null ? _a : {};\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if (tools == null ? void 0 : tools.length) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"tools\" });\n      }\n      if (toolChoice != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"toolChoice\" });\n      }\n      if (responseFormat != null && responseFormat.type !== \"text\") {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format is not supported.\"\n        });\n      }\n      const { prompt: completionPrompt, stopSequences } = convertToOpenAICompatibleCompletionPrompt({ prompt });\n      const stop2 = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n      return {\n        args: __spreadProps(__spreadValues({\n          // model id:\n          model: this.modelId,\n          // model specific settings:\n          echo: completionOptions.echo,\n          logit_bias: completionOptions.logitBias,\n          suffix: completionOptions.suffix,\n          user: completionOptions.user,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          seed\n        }, providerOptions == null ? void 0 : providerOptions[this.providerOptionsName]), {\n          // prompt:\n          prompt: completionPrompt,\n          // stop sequences:\n          stop: stop2.length > 0 ? stop2 : void 0\n        }),\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f;\n      const { args, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: args,\n        failedResponseHandler: this.failedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiCompatibleCompletionResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      if (choice.text != null && choice.text.length > 0) {\n        content.push({ type: \"text\", text: choice.text });\n      }\n      return {\n        content,\n        usage: {\n          inputTokens: (_b = (_a = response.usage) == null ? void 0 : _a.prompt_tokens) != null ? _b : void 0,\n          outputTokens: (_d = (_c = response.usage) == null ? void 0 : _c.completion_tokens) != null ? _d : void 0,\n          totalTokens: (_f = (_e = response.usage) == null ? void 0 : _e.total_tokens) != null ? _f : void 0\n        },\n        finishReason: mapOpenAICompatibleFinishReason2(choice.finish_reason),\n        request: { body: args },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata22(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        // only include stream_options when in strict compatibility mode:\n        stream_options: this.config.includeUsage ? { include_usage: true } : void 0\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: this.failedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          this.chunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata22(value)));\n                controller.enqueue({\n                  type: \"text-start\",\n                  id: \"0\"\n                });\n              }\n              if (value.usage != null) {\n                usage.inputTokens = (_a = value.usage.prompt_tokens) != null ? _a : void 0;\n                usage.outputTokens = (_b = value.usage.completion_tokens) != null ? _b : void 0;\n                usage.totalTokens = (_c = value.usage.total_tokens) != null ? _c : void 0;\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAICompatibleFinishReason2(\n                  choice.finish_reason\n                );\n              }\n              if ((choice == null ? void 0 : choice.text) != null) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: choice.text\n                });\n              }\n            },\n            flush(controller) {\n              if (!isFirstChunk) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar usageSchema2 = import_v449.z.object({\n  prompt_tokens: import_v449.z.number(),\n  completion_tokens: import_v449.z.number(),\n  total_tokens: import_v449.z.number()\n});\nvar openaiCompatibleCompletionResponseSchema = import_v449.z.object({\n  id: import_v449.z.string().nullish(),\n  created: import_v449.z.number().nullish(),\n  model: import_v449.z.string().nullish(),\n  choices: import_v449.z.array(\n    import_v449.z.object({\n      text: import_v449.z.string(),\n      finish_reason: import_v449.z.string()\n    })\n  ),\n  usage: usageSchema2.nullish()\n});\nvar createOpenAICompatibleCompletionChunkSchema = (errorSchema) => import_v449.z.union([\n  import_v449.z.object({\n    id: import_v449.z.string().nullish(),\n    created: import_v449.z.number().nullish(),\n    model: import_v449.z.string().nullish(),\n    choices: import_v449.z.array(\n      import_v449.z.object({\n        text: import_v449.z.string(),\n        finish_reason: import_v449.z.string().nullish(),\n        index: import_v449.z.number()\n      })\n    ),\n    usage: usageSchema2.nullish()\n  }),\n  errorSchema\n]);\nvar openaiCompatibleEmbeddingProviderOptions = import_v452.z.object({\n  /**\n   * The number of dimensions the resulting output embeddings should have.\n   * Only supported in text-embedding-3 and later models.\n   */\n  dimensions: import_v452.z.number().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help providers to\n   * monitor and detect abuse.\n   */\n  user: import_v452.z.string().optional()\n});\nvar OpenAICompatibleEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get maxEmbeddingsPerCall() {\n    var _a;\n    return (_a = this.config.maxEmbeddingsPerCall) != null ? _a : 2048;\n  }\n  get supportsParallelCalls() {\n    var _a;\n    return (_a = this.config.supportsParallelCalls) != null ? _a : true;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      headers,\n      abortSignal,\n      providerOptions\n    }) {\n      var _a, _b, _c;\n      const compatibleOptions = Object.assign(\n        (_a = yield parseProviderOptions({\n          provider: \"openai-compatible\",\n          providerOptions,\n          schema: openaiCompatibleEmbeddingProviderOptions\n        })) != null ? _a : {},\n        (_b = yield parseProviderOptions({\n          provider: this.providerOptionsName,\n          providerOptions,\n          schema: openaiCompatibleEmbeddingProviderOptions\n        })) != null ? _b : {}\n      );\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider31.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/embeddings\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: {\n          model: this.modelId,\n          input: values,\n          encoding_format: \"float\",\n          dimensions: compatibleOptions.dimensions,\n          user: compatibleOptions.user\n        },\n        failedResponseHandler: createJsonErrorResponseHandler(\n          (_c = this.config.errorStructure) != null ? _c : defaultOpenAICompatibleErrorStructure\n        ),\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiTextEmbeddingResponseSchema2\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.data.map((item) => item.embedding),\n        usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n        providerMetadata: response.providerMetadata,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar openaiTextEmbeddingResponseSchema2 = import_v451.z.object({\n  data: import_v451.z.array(import_v451.z.object({ embedding: import_v451.z.array(import_v451.z.number()) })),\n  usage: import_v451.z.object({ prompt_tokens: import_v451.z.number() }).nullish(),\n  providerMetadata: import_v451.z.record(import_v451.z.string(), import_v451.z.record(import_v451.z.string(), import_v451.z.any())).optional()\n});\nvar OpenAICompatibleImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.maxImagesPerCall = 10;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      n,\n      size,\n      aspectRatio,\n      seed,\n      providerOptions,\n      headers,\n      abortSignal\n    }) {\n      var _a, _b, _c, _d, _e;\n      const warnings = [];\n      if (aspectRatio != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"aspectRatio\",\n          details: \"This model does not support aspect ratio. Use `size` instead.\"\n        });\n      }\n      if (seed != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n      }\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { value: response, responseHeaders } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/images/generations\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: __spreadProps(__spreadValues({\n          model: this.modelId,\n          prompt,\n          n,\n          size\n        }, (_d = providerOptions.openai) != null ? _d : {}), {\n          response_format: \"b64_json\"\n        }),\n        failedResponseHandler: createJsonErrorResponseHandler(\n          (_e = this.config.errorStructure) != null ? _e : defaultOpenAICompatibleErrorStructure\n        ),\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiCompatibleImageResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response.data.map((item) => item.b64_json),\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders\n        }\n      };\n    });\n  }\n};\nvar openaiCompatibleImageResponseSchema = import_v453.z.object({\n  data: import_v453.z.array(import_v453.z.object({ b64_json: import_v453.z.string() }))\n});\n\n// ../../node_modules/.pnpm/@ai-sdk+xai@2.0.26_zod@3.25.67/node_modules/@ai-sdk/xai/dist/index.mjs\nvar import_provider32 = require(\"@ai-sdk/provider\");\nvar import_v454 = require(\"zod/v4\");\nvar import_provider33 = require(\"@ai-sdk/provider\");\nvar import_v455 = require(\"zod/v4\");\nvar import_v456 = require(\"zod/v4\");\nvar import_provider34 = require(\"@ai-sdk/provider\");\nfunction convertToXaiChatMessages(prompt) {\n  const messages = [];\n  const warnings = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content });\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part) => {\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                    }\n                  };\n                } else {\n                  throw new import_provider33.UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { messages, warnings };\n}\nfunction getResponseMetadata4({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapXaiFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"tool_calls\":\n    case \"function_call\":\n      return \"tool-calls\";\n    case \"content_filter\":\n      return \"content-filter\";\n    default:\n      return \"unknown\";\n  }\n}\nvar webSourceSchema = import_v455.z.object({\n  type: import_v455.z.literal(\"web\"),\n  country: import_v455.z.string().length(2).optional(),\n  excludedWebsites: import_v455.z.array(import_v455.z.string()).max(5).optional(),\n  allowedWebsites: import_v455.z.array(import_v455.z.string()).max(5).optional(),\n  safeSearch: import_v455.z.boolean().optional()\n});\nvar xSourceSchema = import_v455.z.object({\n  type: import_v455.z.literal(\"x\"),\n  excludedXHandles: import_v455.z.array(import_v455.z.string()).optional(),\n  includedXHandles: import_v455.z.array(import_v455.z.string()).optional(),\n  postFavoriteCount: import_v455.z.number().int().optional(),\n  postViewCount: import_v455.z.number().int().optional(),\n  /**\n   * @deprecated use `includedXHandles` instead\n   */\n  xHandles: import_v455.z.array(import_v455.z.string()).optional()\n});\nvar newsSourceSchema = import_v455.z.object({\n  type: import_v455.z.literal(\"news\"),\n  country: import_v455.z.string().length(2).optional(),\n  excludedWebsites: import_v455.z.array(import_v455.z.string()).max(5).optional(),\n  safeSearch: import_v455.z.boolean().optional()\n});\nvar rssSourceSchema = import_v455.z.object({\n  type: import_v455.z.literal(\"rss\"),\n  links: import_v455.z.array(import_v455.z.string().url()).max(1)\n  // currently only supports one RSS link\n});\nvar searchSourceSchema = import_v455.z.discriminatedUnion(\"type\", [\n  webSourceSchema,\n  xSourceSchema,\n  newsSourceSchema,\n  rssSourceSchema\n]);\nvar xaiProviderOptions = import_v455.z.object({\n  reasoningEffort: import_v455.z.enum([\"low\", \"high\"]).optional(),\n  searchParameters: import_v455.z.object({\n    /**\n     * search mode preference\n     * - \"off\": disables search completely\n     * - \"auto\": model decides whether to search (default)\n     * - \"on\": always enables search\n     */\n    mode: import_v455.z.enum([\"off\", \"auto\", \"on\"]),\n    /**\n     * whether to return citations in the response\n     * defaults to true\n     */\n    returnCitations: import_v455.z.boolean().optional(),\n    /**\n     * start date for search data (ISO8601 format: YYYY-MM-DD)\n     */\n    fromDate: import_v455.z.string().optional(),\n    /**\n     * end date for search data (ISO8601 format: YYYY-MM-DD)\n     */\n    toDate: import_v455.z.string().optional(),\n    /**\n     * maximum number of search results to consider\n     * defaults to 20\n     */\n    maxSearchResults: import_v455.z.number().min(1).max(50).optional(),\n    /**\n     * data sources to search from\n     * defaults to [\"web\", \"x\"] if not specified\n     */\n    sources: import_v455.z.array(searchSourceSchema).optional()\n  }).optional()\n});\nvar xaiErrorDataSchema = import_v456.z.object({\n  error: import_v456.z.object({\n    message: import_v456.z.string(),\n    type: import_v456.z.string().nullish(),\n    param: import_v456.z.any().nullish(),\n    code: import_v456.z.union([import_v456.z.string(), import_v456.z.number()]).nullish()\n  })\n});\nvar xaiFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: xaiErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nfunction prepareTools4({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const xaiTools = [];\n  for (const tool12 of tools) {\n    if (tool12.type === \"provider-defined\") {\n      toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n    } else {\n      xaiTools.push({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: tool12.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: xaiTools, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n      return { tools: xaiTools, toolChoice: type, toolWarnings };\n    case \"required\":\n      return { tools: xaiTools, toolChoice: \"required\", toolWarnings };\n    case \"tool\":\n      return {\n        tools: xaiTools,\n        toolChoice: {\n          type: \"function\",\n          function: { name: toolChoice.toolName }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider34.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar XaiChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      seed,\n      responseFormat,\n      providerOptions,\n      tools,\n      toolChoice\n    }) {\n      var _a, _b, _c;\n      const warnings = [];\n      const options = (_a = yield parseProviderOptions({\n        provider: \"xai\",\n        providerOptions,\n        schema: xaiProviderOptions\n      })) != null ? _a : {};\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if (frequencyPenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"frequencyPenalty\"\n        });\n      }\n      if (presencePenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"presencePenalty\"\n        });\n      }\n      if (stopSequences != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"stopSequences\"\n        });\n      }\n      if (responseFormat != null && responseFormat.type === \"json\" && responseFormat.schema != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format schema is not supported\"\n        });\n      }\n      const { messages, warnings: messageWarnings } = convertToXaiChatMessages(prompt);\n      warnings.push(...messageWarnings);\n      const {\n        tools: xaiTools,\n        toolChoice: xaiToolChoice,\n        toolWarnings\n      } = prepareTools4({\n        tools,\n        toolChoice\n      });\n      warnings.push(...toolWarnings);\n      const baseArgs = {\n        // model id\n        model: this.modelId,\n        // standard generation settings\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        seed,\n        reasoning_effort: options.reasoningEffort,\n        // response format\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? responseFormat.schema != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            name: (_b = responseFormat.name) != null ? _b : \"response\",\n            schema: responseFormat.schema,\n            strict: true\n          }\n        } : { type: \"json_object\" } : void 0,\n        // search parameters\n        search_parameters: options.searchParameters ? {\n          mode: options.searchParameters.mode,\n          return_citations: options.searchParameters.returnCitations,\n          from_date: options.searchParameters.fromDate,\n          to_date: options.searchParameters.toDate,\n          max_search_results: options.searchParameters.maxSearchResults,\n          sources: (_c = options.searchParameters.sources) == null ? void 0 : _c.map((source) => {\n            var _a2;\n            return __spreadValues(__spreadValues(__spreadValues(__spreadValues({\n              type: source.type\n            }, source.type === \"web\" && {\n              country: source.country,\n              excluded_websites: source.excludedWebsites,\n              allowed_websites: source.allowedWebsites,\n              safe_search: source.safeSearch\n            }), source.type === \"x\" && {\n              excluded_x_handles: source.excludedXHandles,\n              included_x_handles: (_a2 = source.includedXHandles) != null ? _a2 : source.xHandles,\n              post_favorite_count: source.postFavoriteCount,\n              post_view_count: source.postViewCount\n            }), source.type === \"news\" && {\n              country: source.country,\n              excluded_websites: source.excludedWebsites,\n              safe_search: source.safeSearch\n            }), source.type === \"rss\" && {\n              links: source.links\n            });\n          })\n        } : void 0,\n        // messages in xai format\n        messages,\n        // tools in xai format\n        tools: xaiTools,\n        tool_choice: xaiToolChoice\n      };\n      return {\n        args: baseArgs,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { args: body, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: `${(_a = this.config.baseURL) != null ? _a : \"https://api.x.ai/v1\"}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: xaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          xaiChatResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      if (choice.message.content != null && choice.message.content.length > 0) {\n        let text = choice.message.content;\n        const lastMessage = body.messages[body.messages.length - 1];\n        if ((lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" && text === lastMessage.content) {\n          text = \"\";\n        }\n        if (text.length > 0) {\n          content.push({ type: \"text\", text });\n        }\n      }\n      if (choice.message.reasoning_content != null && choice.message.reasoning_content.length > 0) {\n        content.push({\n          type: \"reasoning\",\n          text: choice.message.reasoning_content\n        });\n      }\n      if (choice.message.tool_calls != null) {\n        for (const toolCall of choice.message.tool_calls) {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: toolCall.id,\n            toolName: toolCall.function.name,\n            input: toolCall.function.arguments\n          });\n        }\n      }\n      if (response.citations != null) {\n        for (const url of response.citations) {\n          content.push({\n            type: \"source\",\n            sourceType: \"url\",\n            id: this.config.generateId(),\n            url\n          });\n        }\n      }\n      return {\n        content,\n        finishReason: mapXaiFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: response.usage.prompt_tokens,\n          outputTokens: response.usage.completion_tokens,\n          totalTokens: response.usage.total_tokens,\n          reasoningTokens: (_c = (_b = response.usage.completion_tokens_details) == null ? void 0 : _b.reasoning_tokens) != null ? _c : void 0\n        },\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata4(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      var _a;\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        stream_options: {\n          include_usage: true\n        }\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: `${(_a = this.config.baseURL) != null ? _a : \"https://api.x.ai/v1\"}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: xaiFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(xaiChatChunkSchema),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      const contentBlocks = {};\n      const lastReasoningDeltas = {};\n      const self = this;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a2, _b;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (isFirstChunk) {\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata4(value)));\n                isFirstChunk = false;\n              }\n              if (value.citations != null) {\n                for (const url of value.citations) {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: self.config.generateId(),\n                    url\n                  });\n                }\n              }\n              if (value.usage != null) {\n                usage.inputTokens = value.usage.prompt_tokens;\n                usage.outputTokens = value.usage.completion_tokens;\n                usage.totalTokens = value.usage.total_tokens;\n                usage.reasoningTokens = (_b = (_a2 = value.usage.completion_tokens_details) == null ? void 0 : _a2.reasoning_tokens) != null ? _b : void 0;\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapXaiFinishReason(choice.finish_reason);\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              const choiceIndex = choice.index;\n              if (delta.content != null && delta.content.length > 0) {\n                const textContent = delta.content;\n                const lastMessage = body.messages[body.messages.length - 1];\n                if ((lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" && textContent === lastMessage.content) {\n                  return;\n                }\n                const blockId = `text-${value.id || choiceIndex}`;\n                if (contentBlocks[blockId] == null) {\n                  contentBlocks[blockId] = { type: \"text\" };\n                  controller.enqueue({\n                    type: \"text-start\",\n                    id: blockId\n                  });\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: blockId,\n                  delta: textContent\n                });\n              }\n              if (delta.reasoning_content != null && delta.reasoning_content.length > 0) {\n                const blockId = `reasoning-${value.id || choiceIndex}`;\n                if (lastReasoningDeltas[blockId] === delta.reasoning_content) {\n                  return;\n                }\n                lastReasoningDeltas[blockId] = delta.reasoning_content;\n                if (contentBlocks[blockId] == null) {\n                  contentBlocks[blockId] = { type: \"reasoning\" };\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: blockId\n                  });\n                }\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: blockId,\n                  delta: delta.reasoning_content\n                });\n              }\n              if (delta.tool_calls != null) {\n                for (const toolCall of delta.tool_calls) {\n                  const toolCallId = toolCall.id;\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCallId,\n                    toolName: toolCall.function.name\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCallId,\n                    delta: toolCall.function.arguments\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCallId\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId,\n                    toolName: toolCall.function.name,\n                    input: toolCall.function.arguments\n                  });\n                }\n              }\n            },\n            flush(controller) {\n              for (const [blockId, block] of Object.entries(contentBlocks)) {\n                controller.enqueue({\n                  type: block.type === \"text\" ? \"text-end\" : \"reasoning-end\",\n                  id: blockId\n                });\n              }\n              controller.enqueue({ type: \"finish\", finishReason, usage });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar xaiUsageSchema = import_v454.z.object({\n  prompt_tokens: import_v454.z.number(),\n  completion_tokens: import_v454.z.number(),\n  total_tokens: import_v454.z.number(),\n  completion_tokens_details: import_v454.z.object({\n    reasoning_tokens: import_v454.z.number().nullish()\n  }).nullish()\n});\nvar xaiChatResponseSchema = import_v454.z.object({\n  id: import_v454.z.string().nullish(),\n  created: import_v454.z.number().nullish(),\n  model: import_v454.z.string().nullish(),\n  choices: import_v454.z.array(\n    import_v454.z.object({\n      message: import_v454.z.object({\n        role: import_v454.z.literal(\"assistant\"),\n        content: import_v454.z.string().nullish(),\n        reasoning_content: import_v454.z.string().nullish(),\n        tool_calls: import_v454.z.array(\n          import_v454.z.object({\n            id: import_v454.z.string(),\n            type: import_v454.z.literal(\"function\"),\n            function: import_v454.z.object({\n              name: import_v454.z.string(),\n              arguments: import_v454.z.string()\n            })\n          })\n        ).nullish()\n      }),\n      index: import_v454.z.number(),\n      finish_reason: import_v454.z.string().nullish()\n    })\n  ),\n  object: import_v454.z.literal(\"chat.completion\"),\n  usage: xaiUsageSchema,\n  citations: import_v454.z.array(import_v454.z.string().url()).nullish()\n});\nvar xaiChatChunkSchema = import_v454.z.object({\n  id: import_v454.z.string().nullish(),\n  created: import_v454.z.number().nullish(),\n  model: import_v454.z.string().nullish(),\n  choices: import_v454.z.array(\n    import_v454.z.object({\n      delta: import_v454.z.object({\n        role: import_v454.z.enum([\"assistant\"]).optional(),\n        content: import_v454.z.string().nullish(),\n        reasoning_content: import_v454.z.string().nullish(),\n        tool_calls: import_v454.z.array(\n          import_v454.z.object({\n            id: import_v454.z.string(),\n            type: import_v454.z.literal(\"function\"),\n            function: import_v454.z.object({\n              name: import_v454.z.string(),\n              arguments: import_v454.z.string()\n            })\n          })\n        ).nullish()\n      }),\n      finish_reason: import_v454.z.string().nullish(),\n      index: import_v454.z.number()\n    })\n  ),\n  usage: xaiUsageSchema.nullish(),\n  citations: import_v454.z.array(import_v454.z.string().url()).nullish()\n});\nvar VERSION5 = true ? \"2.0.26\" : \"0.0.0-test\";\nvar xaiErrorStructure = {\n  errorSchema: xaiErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n};\nfunction createXai(options = {}) {\n  var _a;\n  const baseURL = withoutTrailingSlash(\n    (_a = options.baseURL) != null ? _a : \"https://api.x.ai/v1\"\n  );\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"XAI_API_KEY\",\n        description: \"xAI API key\"\n      })}`\n    }, options.headers),\n    `ai-sdk/xai/${VERSION5}`\n  );\n  const createLanguageModel = (modelId) => {\n    return new XaiChatLanguageModel(modelId, {\n      provider: \"xai.chat\",\n      baseURL,\n      headers: getHeaders,\n      generateId,\n      fetch: options.fetch\n    });\n  };\n  const createImageModel = (modelId) => {\n    return new OpenAICompatibleImageModel(modelId, {\n      provider: \"xai.image\",\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch,\n      errorStructure: xaiErrorStructure\n    });\n  };\n  const provider = (modelId) => createLanguageModel(modelId);\n  provider.languageModel = createLanguageModel;\n  provider.chat = createLanguageModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider32.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = createImageModel;\n  provider.image = createImageModel;\n  return provider;\n}\nvar xai = createXai();\n\n// ../../node_modules/.pnpm/@ai-sdk+openai@2.0.53_zod@3.25.67/node_modules/@ai-sdk/openai/dist/internal/index.mjs\nvar import_provider35 = require(\"@ai-sdk/provider\");\nvar import_v457 = require(\"zod/v4\");\nvar import_provider36 = require(\"@ai-sdk/provider\");\nvar import_v458 = require(\"zod/v4\");\nvar import_v459 = require(\"zod/v4\");\nvar import_provider37 = require(\"@ai-sdk/provider\");\nvar import_provider38 = require(\"@ai-sdk/provider\");\nvar import_v460 = require(\"zod/v4\");\nvar import_v461 = require(\"zod/v4\");\nvar import_provider39 = require(\"@ai-sdk/provider\");\nvar import_v462 = require(\"zod/v4\");\nvar import_v463 = require(\"zod/v4\");\nvar import_v464 = require(\"zod/v4\");\nvar import_v465 = require(\"zod/v4\");\nvar import_v466 = require(\"zod/v4\");\nvar import_v467 = require(\"zod/v4\");\nvar import_provider40 = require(\"@ai-sdk/provider\");\nvar import_provider41 = require(\"@ai-sdk/provider\");\nvar import_v468 = require(\"zod/v4\");\nvar import_v469 = require(\"zod/v4\");\nvar import_v470 = require(\"zod/v4\");\nvar import_v471 = require(\"zod/v4\");\nvar import_provider42 = require(\"@ai-sdk/provider\");\nvar import_v472 = require(\"zod/v4\");\nvar import_v473 = require(\"zod/v4\");\nvar import_v474 = require(\"zod/v4\");\nvar import_v475 = require(\"zod/v4\");\nvar import_v476 = require(\"zod/v4\");\nvar openaiErrorDataSchema2 = import_v457.z.object({\n  error: import_v457.z.object({\n    message: import_v457.z.string(),\n    // The additional information below is handled loosely to support\n    // OpenAI-compatible providers that have slightly different error\n    // responses:\n    type: import_v457.z.string().nullish(),\n    param: import_v457.z.any().nullish(),\n    code: import_v457.z.union([import_v457.z.string(), import_v457.z.number()]).nullish()\n  })\n});\nvar openaiFailedResponseHandler2 = createJsonErrorResponseHandler({\n  errorSchema: openaiErrorDataSchema2,\n  errorToMessage: (data) => data.error.message\n});\nfunction convertToOpenAIChatMessages2({\n  prompt,\n  systemMessageMode = \"system\"\n}) {\n  const messages = [];\n  const warnings = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            messages.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            messages.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            warnings.push({\n              type: \"other\",\n              message: \"system messages are removed for this model\"\n            });\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part, index) => {\n            var _a, _b, _c;\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`,\n                      // OpenAI specific extension: image detail\n                      detail: (_b = (_a = part.providerOptions) == null ? void 0 : _a.openai) == null ? void 0 : _b.imageDetail\n                    }\n                  };\n                } else if (part.mediaType.startsWith(\"audio/\")) {\n                  if (part.data instanceof URL) {\n                    throw new import_provider36.UnsupportedFunctionalityError({\n                      functionality: \"audio file parts with URLs\"\n                    });\n                  }\n                  switch (part.mediaType) {\n                    case \"audio/wav\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"wav\"\n                        }\n                      };\n                    }\n                    case \"audio/mp3\":\n                    case \"audio/mpeg\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"mp3\"\n                        }\n                      };\n                    }\n                    default: {\n                      throw new import_provider36.UnsupportedFunctionalityError({\n                        functionality: `audio content parts with media type ${part.mediaType}`\n                      });\n                    }\n                  }\n                } else if (part.mediaType === \"application/pdf\") {\n                  if (part.data instanceof URL) {\n                    throw new import_provider36.UnsupportedFunctionalityError({\n                      functionality: \"PDF file parts with URLs\"\n                    });\n                  }\n                  return {\n                    type: \"file\",\n                    file: typeof part.data === \"string\" && part.data.startsWith(\"file-\") ? { file_id: part.data } : {\n                      filename: (_c = part.filename) != null ? _c : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase64(part.data)}`\n                    }\n                  };\n                } else {\n                  throw new import_provider36.UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { messages, warnings };\n}\nfunction getResponseMetadata5({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAIFinishReason3(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiChatResponseSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v458.z.object({\n      id: import_v458.z.string().nullish(),\n      created: import_v458.z.number().nullish(),\n      model: import_v458.z.string().nullish(),\n      choices: import_v458.z.array(\n        import_v458.z.object({\n          message: import_v458.z.object({\n            role: import_v458.z.literal(\"assistant\").nullish(),\n            content: import_v458.z.string().nullish(),\n            tool_calls: import_v458.z.array(\n              import_v458.z.object({\n                id: import_v458.z.string().nullish(),\n                type: import_v458.z.literal(\"function\"),\n                function: import_v458.z.object({\n                  name: import_v458.z.string(),\n                  arguments: import_v458.z.string()\n                })\n              })\n            ).nullish(),\n            annotations: import_v458.z.array(\n              import_v458.z.object({\n                type: import_v458.z.literal(\"url_citation\"),\n                start_index: import_v458.z.number(),\n                end_index: import_v458.z.number(),\n                url: import_v458.z.string(),\n                title: import_v458.z.string()\n              })\n            ).nullish()\n          }),\n          index: import_v458.z.number(),\n          logprobs: import_v458.z.object({\n            content: import_v458.z.array(\n              import_v458.z.object({\n                token: import_v458.z.string(),\n                logprob: import_v458.z.number(),\n                top_logprobs: import_v458.z.array(\n                  import_v458.z.object({\n                    token: import_v458.z.string(),\n                    logprob: import_v458.z.number()\n                  })\n                )\n              })\n            ).nullish()\n          }).nullish(),\n          finish_reason: import_v458.z.string().nullish()\n        })\n      ),\n      usage: import_v458.z.object({\n        prompt_tokens: import_v458.z.number().nullish(),\n        completion_tokens: import_v458.z.number().nullish(),\n        total_tokens: import_v458.z.number().nullish(),\n        prompt_tokens_details: import_v458.z.object({\n          cached_tokens: import_v458.z.number().nullish()\n        }).nullish(),\n        completion_tokens_details: import_v458.z.object({\n          reasoning_tokens: import_v458.z.number().nullish(),\n          accepted_prediction_tokens: import_v458.z.number().nullish(),\n          rejected_prediction_tokens: import_v458.z.number().nullish()\n        }).nullish()\n      }).nullish()\n    })\n  )\n);\nvar openaiChatChunkSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v458.z.union([\n      import_v458.z.object({\n        id: import_v458.z.string().nullish(),\n        created: import_v458.z.number().nullish(),\n        model: import_v458.z.string().nullish(),\n        choices: import_v458.z.array(\n          import_v458.z.object({\n            delta: import_v458.z.object({\n              role: import_v458.z.enum([\"assistant\"]).nullish(),\n              content: import_v458.z.string().nullish(),\n              tool_calls: import_v458.z.array(\n                import_v458.z.object({\n                  index: import_v458.z.number(),\n                  id: import_v458.z.string().nullish(),\n                  type: import_v458.z.literal(\"function\").nullish(),\n                  function: import_v458.z.object({\n                    name: import_v458.z.string().nullish(),\n                    arguments: import_v458.z.string().nullish()\n                  })\n                })\n              ).nullish(),\n              annotations: import_v458.z.array(\n                import_v458.z.object({\n                  type: import_v458.z.literal(\"url_citation\"),\n                  start_index: import_v458.z.number(),\n                  end_index: import_v458.z.number(),\n                  url: import_v458.z.string(),\n                  title: import_v458.z.string()\n                })\n              ).nullish()\n            }).nullish(),\n            logprobs: import_v458.z.object({\n              content: import_v458.z.array(\n                import_v458.z.object({\n                  token: import_v458.z.string(),\n                  logprob: import_v458.z.number(),\n                  top_logprobs: import_v458.z.array(\n                    import_v458.z.object({\n                      token: import_v458.z.string(),\n                      logprob: import_v458.z.number()\n                    })\n                  )\n                })\n              ).nullish()\n            }).nullish(),\n            finish_reason: import_v458.z.string().nullish(),\n            index: import_v458.z.number()\n          })\n        ),\n        usage: import_v458.z.object({\n          prompt_tokens: import_v458.z.number().nullish(),\n          completion_tokens: import_v458.z.number().nullish(),\n          total_tokens: import_v458.z.number().nullish(),\n          prompt_tokens_details: import_v458.z.object({\n            cached_tokens: import_v458.z.number().nullish()\n          }).nullish(),\n          completion_tokens_details: import_v458.z.object({\n            reasoning_tokens: import_v458.z.number().nullish(),\n            accepted_prediction_tokens: import_v458.z.number().nullish(),\n            rejected_prediction_tokens: import_v458.z.number().nullish()\n          }).nullish()\n        }).nullish()\n      }),\n      openaiErrorDataSchema2\n    ])\n  )\n);\nvar openaiChatLanguageModelOptions2 = lazyValidator(\n  () => zodSchema(\n    import_v459.z.object({\n      /**\n       * Modify the likelihood of specified tokens appearing in the completion.\n       *\n       * Accepts a JSON object that maps tokens (specified by their token ID in\n       * the GPT tokenizer) to an associated bias value from -100 to 100.\n       */\n      logitBias: import_v459.z.record(import_v459.z.coerce.number(), import_v459.z.number()).optional(),\n      /**\n       * Return the log probabilities of the tokens.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       */\n      logprobs: import_v459.z.union([import_v459.z.boolean(), import_v459.z.number()]).optional(),\n      /**\n       * Whether to enable parallel function calling during tool use. Default to true.\n       */\n      parallelToolCalls: import_v459.z.boolean().optional(),\n      /**\n       * A unique identifier representing your end-user, which can help OpenAI to\n       * monitor and detect abuse.\n       */\n      user: import_v459.z.string().optional(),\n      /**\n       * Reasoning effort for reasoning models. Defaults to `medium`.\n       */\n      reasoningEffort: import_v459.z.enum([\"minimal\", \"low\", \"medium\", \"high\"]).optional(),\n      /**\n       * Maximum number of completion tokens to generate. Useful for reasoning models.\n       */\n      maxCompletionTokens: import_v459.z.number().optional(),\n      /**\n       * Whether to enable persistence in responses API.\n       */\n      store: import_v459.z.boolean().optional(),\n      /**\n       * Metadata to associate with the request.\n       */\n      metadata: import_v459.z.record(import_v459.z.string().max(64), import_v459.z.string().max(512)).optional(),\n      /**\n       * Parameters for prediction mode.\n       */\n      prediction: import_v459.z.record(import_v459.z.string(), import_v459.z.any()).optional(),\n      /**\n       * Whether to use structured outputs.\n       *\n       * @default true\n       */\n      structuredOutputs: import_v459.z.boolean().optional(),\n      /**\n       * Service tier for the request.\n       * - 'auto': Default service tier. The request will be processed with the service tier configured in the\n       *           Project settings. Unless otherwise configured, the Project will use 'default'.\n       * - 'flex': 50% cheaper processing at the cost of increased latency. Only available for o3 and o4-mini models.\n       * - 'priority': Higher-speed processing with predictably low latency at premium cost. Available for Enterprise customers.\n       * - 'default': The request will be processed with the standard pricing and performance for the selected model.\n       *\n       * @default 'auto'\n       */\n      serviceTier: import_v459.z.enum([\"auto\", \"flex\", \"priority\", \"default\"]).optional(),\n      /**\n       * Whether to use strict JSON schema validation.\n       *\n       * @default false\n       */\n      strictJsonSchema: import_v459.z.boolean().optional(),\n      /**\n       * Controls the verbosity of the model's responses.\n       * Lower values will result in more concise responses, while higher values will result in more verbose responses.\n       */\n      textVerbosity: import_v459.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      /**\n       * A cache key for prompt caching. Allows manual control over prompt caching behavior.\n       * Useful for improving cache hit rates and working around automatic caching issues.\n       */\n      promptCacheKey: import_v459.z.string().optional(),\n      /**\n       * A stable identifier used to help detect users of your application\n       * that may be violating OpenAI's usage policies. The IDs should be a\n       * string that uniquely identifies each user. We recommend hashing their\n       * username or email address, in order to avoid sending us any identifying\n       * information.\n       */\n      safetyIdentifier: import_v459.z.string().optional()\n    })\n  )\n);\nfunction prepareChatTools2({\n  tools,\n  toolChoice,\n  structuredOutputs,\n  strictJsonSchema\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiTools2 = [];\n  for (const tool12 of tools) {\n    switch (tool12.type) {\n      case \"function\":\n        openaiTools2.push({\n          type: \"function\",\n          function: {\n            name: tool12.name,\n            description: tool12.description,\n            parameters: tool12.inputSchema,\n            strict: structuredOutputs ? strictJsonSchema : void 0\n          }\n        });\n        break;\n      default:\n        toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiTools2,\n        toolChoice: {\n          type: \"function\",\n          function: {\n            name: toolChoice.toolName\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider37.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar OpenAIChatLanguageModel2 = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      tools,\n      toolChoice,\n      providerOptions\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const openaiOptions = (_a = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiChatLanguageModelOptions2\n      })) != null ? _a : {};\n      const structuredOutputs = (_b = openaiOptions.structuredOutputs) != null ? _b : true;\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !structuredOutputs) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format schema is only supported with structuredOutputs\"\n        });\n      }\n      const { messages, warnings: messageWarnings } = convertToOpenAIChatMessages2(\n        {\n          prompt,\n          systemMessageMode: getSystemMessageMode2(this.modelId)\n        }\n      );\n      warnings.push(...messageWarnings);\n      const strictJsonSchema = (_c = openaiOptions.strictJsonSchema) != null ? _c : false;\n      const baseArgs = {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        logit_bias: openaiOptions.logitBias,\n        logprobs: openaiOptions.logprobs === true || typeof openaiOptions.logprobs === \"number\" ? true : void 0,\n        top_logprobs: typeof openaiOptions.logprobs === \"number\" ? openaiOptions.logprobs : typeof openaiOptions.logprobs === \"boolean\" ? openaiOptions.logprobs ? 0 : void 0 : void 0,\n        user: openaiOptions.user,\n        parallel_tool_calls: openaiOptions.parallelToolCalls,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? structuredOutputs && responseFormat.schema != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            schema: responseFormat.schema,\n            strict: strictJsonSchema,\n            name: (_d = responseFormat.name) != null ? _d : \"response\",\n            description: responseFormat.description\n          }\n        } : { type: \"json_object\" } : void 0,\n        stop: stopSequences,\n        seed,\n        verbosity: openaiOptions.textVerbosity,\n        // openai specific settings:\n        // TODO AI SDK 6: remove, we auto-map maxOutputTokens now\n        max_completion_tokens: openaiOptions.maxCompletionTokens,\n        store: openaiOptions.store,\n        metadata: openaiOptions.metadata,\n        prediction: openaiOptions.prediction,\n        reasoning_effort: openaiOptions.reasoningEffort,\n        service_tier: openaiOptions.serviceTier,\n        prompt_cache_key: openaiOptions.promptCacheKey,\n        safety_identifier: openaiOptions.safetyIdentifier,\n        // messages:\n        messages\n      };\n      if (isReasoningModel2(this.modelId)) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.frequency_penalty != null) {\n          baseArgs.frequency_penalty = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"frequencyPenalty\",\n            details: \"frequencyPenalty is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.presence_penalty != null) {\n          baseArgs.presence_penalty = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"presencePenalty\",\n            details: \"presencePenalty is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.logit_bias != null) {\n          baseArgs.logit_bias = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"logitBias is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.logprobs != null) {\n          baseArgs.logprobs = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"logprobs is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_logprobs != null) {\n          baseArgs.top_logprobs = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"topLogprobs is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.max_tokens != null) {\n          if (baseArgs.max_completion_tokens == null) {\n            baseArgs.max_completion_tokens = baseArgs.max_tokens;\n          }\n          baseArgs.max_tokens = void 0;\n        }\n      } else if (this.modelId.startsWith(\"gpt-4o-search-preview\") || this.modelId.startsWith(\"gpt-4o-mini-search-preview\")) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for the search preview models and has been removed.\"\n          });\n        }\n      }\n      if (openaiOptions.serviceTier === \"flex\" && !supportsFlexProcessing2(this.modelId)) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n        });\n        baseArgs.service_tier = void 0;\n      }\n      if (openaiOptions.serviceTier === \"priority\" && !supportsPriorityProcessing2(this.modelId)) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n        });\n        baseArgs.service_tier = void 0;\n      }\n      const {\n        tools: openaiTools2,\n        toolChoice: openaiToolChoice,\n        toolWarnings\n      } = prepareChatTools2({\n        tools,\n        toolChoice,\n        structuredOutputs,\n        strictJsonSchema\n      });\n      return {\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: openaiTools2,\n          tool_choice: openaiToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n      const { args: body, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiChatResponseSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      const text = choice.message.content;\n      if (text != null && text.length > 0) {\n        content.push({ type: \"text\", text });\n      }\n      for (const toolCall of (_a = choice.message.tool_calls) != null ? _a : []) {\n        content.push({\n          type: \"tool-call\",\n          toolCallId: (_b = toolCall.id) != null ? _b : generateId(),\n          toolName: toolCall.function.name,\n          input: toolCall.function.arguments\n        });\n      }\n      for (const annotation of (_c = choice.message.annotations) != null ? _c : []) {\n        content.push({\n          type: \"source\",\n          sourceType: \"url\",\n          id: generateId(),\n          url: annotation.url,\n          title: annotation.title\n        });\n      }\n      const completionTokenDetails = (_d = response.usage) == null ? void 0 : _d.completion_tokens_details;\n      const promptTokenDetails = (_e = response.usage) == null ? void 0 : _e.prompt_tokens_details;\n      const providerMetadata = { openai: {} };\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n        providerMetadata.openai.acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n      }\n      if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n        providerMetadata.openai.rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n      }\n      if (((_f = choice.logprobs) == null ? void 0 : _f.content) != null) {\n        providerMetadata.openai.logprobs = choice.logprobs.content;\n      }\n      return {\n        content,\n        finishReason: mapOpenAIFinishReason3(choice.finish_reason),\n        usage: {\n          inputTokens: (_h = (_g = response.usage) == null ? void 0 : _g.prompt_tokens) != null ? _h : void 0,\n          outputTokens: (_j = (_i = response.usage) == null ? void 0 : _i.completion_tokens) != null ? _j : void 0,\n          totalTokens: (_l = (_k = response.usage) == null ? void 0 : _k.total_tokens) != null ? _l : void 0,\n          reasoningTokens: (_m = completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens) != null ? _m : void 0,\n          cachedInputTokens: (_n = promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens) != null ? _n : void 0\n        },\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata5(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings,\n        providerMetadata\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        stream_options: {\n          include_usage: true\n        }\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiChatChunkSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const toolCalls = [];\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      let isActiveText = false;\n      const providerMetadata = { openai: {} };\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata5(value)));\n              }\n              if (value.usage != null) {\n                usage.inputTokens = (_a = value.usage.prompt_tokens) != null ? _a : void 0;\n                usage.outputTokens = (_b = value.usage.completion_tokens) != null ? _b : void 0;\n                usage.totalTokens = (_c = value.usage.total_tokens) != null ? _c : void 0;\n                usage.reasoningTokens = (_e = (_d = value.usage.completion_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : void 0;\n                usage.cachedInputTokens = (_g = (_f = value.usage.prompt_tokens_details) == null ? void 0 : _f.cached_tokens) != null ? _g : void 0;\n                if (((_h = value.usage.completion_tokens_details) == null ? void 0 : _h.accepted_prediction_tokens) != null) {\n                  providerMetadata.openai.acceptedPredictionTokens = (_i = value.usage.completion_tokens_details) == null ? void 0 : _i.accepted_prediction_tokens;\n                }\n                if (((_j = value.usage.completion_tokens_details) == null ? void 0 : _j.rejected_prediction_tokens) != null) {\n                  providerMetadata.openai.rejectedPredictionTokens = (_k = value.usage.completion_tokens_details) == null ? void 0 : _k.rejected_prediction_tokens;\n                }\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAIFinishReason3(choice.finish_reason);\n              }\n              if (((_l = choice == null ? void 0 : choice.logprobs) == null ? void 0 : _l.content) != null) {\n                providerMetadata.openai.logprobs = choice.logprobs.content;\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              if (delta.content != null) {\n                if (!isActiveText) {\n                  controller.enqueue({ type: \"text-start\", id: \"0\" });\n                  isActiveText = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: delta.content\n                });\n              }\n              if (delta.tool_calls != null) {\n                for (const toolCallDelta of delta.tool_calls) {\n                  const index = toolCallDelta.index;\n                  if (toolCalls[index] == null) {\n                    if (toolCallDelta.type !== \"function\") {\n                      throw new import_provider35.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function' type.`\n                      });\n                    }\n                    if (toolCallDelta.id == null) {\n                      throw new import_provider35.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'id' to be a string.`\n                      });\n                    }\n                    if (((_m = toolCallDelta.function) == null ? void 0 : _m.name) == null) {\n                      throw new import_provider35.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function.name' to be a string.`\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: toolCallDelta.id,\n                      toolName: toolCallDelta.function.name\n                    });\n                    toolCalls[index] = {\n                      id: toolCallDelta.id,\n                      type: \"function\",\n                      function: {\n                        name: toolCallDelta.function.name,\n                        arguments: (_n = toolCallDelta.function.arguments) != null ? _n : \"\"\n                      },\n                      hasFinished: false\n                    };\n                    const toolCall2 = toolCalls[index];\n                    if (((_o = toolCall2.function) == null ? void 0 : _o.name) != null && ((_p = toolCall2.function) == null ? void 0 : _p.arguments) != null) {\n                      if (toolCall2.function.arguments.length > 0) {\n                        controller.enqueue({\n                          type: \"tool-input-delta\",\n                          id: toolCall2.id,\n                          delta: toolCall2.function.arguments\n                        });\n                      }\n                      if (isParsableJson(toolCall2.function.arguments)) {\n                        controller.enqueue({\n                          type: \"tool-input-end\",\n                          id: toolCall2.id\n                        });\n                        controller.enqueue({\n                          type: \"tool-call\",\n                          toolCallId: (_q = toolCall2.id) != null ? _q : generateId(),\n                          toolName: toolCall2.function.name,\n                          input: toolCall2.function.arguments\n                        });\n                        toolCall2.hasFinished = true;\n                      }\n                    }\n                    continue;\n                  }\n                  const toolCall = toolCalls[index];\n                  if (toolCall.hasFinished) {\n                    continue;\n                  }\n                  if (((_r = toolCallDelta.function) == null ? void 0 : _r.arguments) != null) {\n                    toolCall.function.arguments += (_t = (_s = toolCallDelta.function) == null ? void 0 : _s.arguments) != null ? _t : \"\";\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.id,\n                    delta: (_u = toolCallDelta.function.arguments) != null ? _u : \"\"\n                  });\n                  if (((_v = toolCall.function) == null ? void 0 : _v.name) != null && ((_w = toolCall.function) == null ? void 0 : _w.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: toolCall.id\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: (_x = toolCall.id) != null ? _x : generateId(),\n                      toolName: toolCall.function.name,\n                      input: toolCall.function.arguments\n                    });\n                    toolCall.hasFinished = true;\n                  }\n                }\n              }\n              if (delta.annotations != null) {\n                for (const annotation of delta.annotations) {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: generateId(),\n                    url: annotation.url,\n                    title: annotation.title\n                  });\n                }\n              }\n            },\n            flush(controller) {\n              if (isActiveText) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue(__spreadValues({\n                type: \"finish\",\n                finishReason,\n                usage\n              }, providerMetadata != null ? { providerMetadata } : {}));\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction isReasoningModel2(modelId) {\n  return (modelId.startsWith(\"o\") || modelId.startsWith(\"gpt-5\")) && !modelId.startsWith(\"gpt-5-chat\");\n}\nfunction supportsFlexProcessing2(modelId) {\n  return modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n}\nfunction supportsPriorityProcessing2(modelId) {\n  return modelId.startsWith(\"gpt-4\") || modelId.startsWith(\"gpt-5-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-nano\") && !modelId.startsWith(\"gpt-5-chat\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\");\n}\nfunction getSystemMessageMode2(modelId) {\n  var _a, _b;\n  if (!isReasoningModel2(modelId)) {\n    return \"system\";\n  }\n  return (_b = (_a = reasoningModels2[modelId]) == null ? void 0 : _a.systemMessageMode) != null ? _b : \"developer\";\n}\nvar reasoningModels2 = {\n  \"o1-mini\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-mini-2024-09-12\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-preview\": {\n    systemMessageMode: \"remove\"\n  },\n  \"o1-preview-2024-09-12\": {\n    systemMessageMode: \"remove\"\n  },\n  o3: {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-2025-04-16\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-mini\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o3-mini-2025-01-31\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o4-mini\": {\n    systemMessageMode: \"developer\"\n  },\n  \"o4-mini-2025-04-16\": {\n    systemMessageMode: \"developer\"\n  }\n};\nfunction convertToOpenAICompletionPrompt2({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new import_provider38.InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new import_provider38.UnsupportedFunctionalityError({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new import_provider38.UnsupportedFunctionalityError({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\nfunction getResponseMetadata23({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapOpenAIFinishReason22(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar openaiCompletionResponseSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v460.z.object({\n      id: import_v460.z.string().nullish(),\n      created: import_v460.z.number().nullish(),\n      model: import_v460.z.string().nullish(),\n      choices: import_v460.z.array(\n        import_v460.z.object({\n          text: import_v460.z.string(),\n          finish_reason: import_v460.z.string(),\n          logprobs: import_v460.z.object({\n            tokens: import_v460.z.array(import_v460.z.string()),\n            token_logprobs: import_v460.z.array(import_v460.z.number()),\n            top_logprobs: import_v460.z.array(import_v460.z.record(import_v460.z.string(), import_v460.z.number())).nullish()\n          }).nullish()\n        })\n      ),\n      usage: import_v460.z.object({\n        prompt_tokens: import_v460.z.number(),\n        completion_tokens: import_v460.z.number(),\n        total_tokens: import_v460.z.number()\n      }).nullish()\n    })\n  )\n);\nvar openaiCompletionChunkSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v460.z.union([\n      import_v460.z.object({\n        id: import_v460.z.string().nullish(),\n        created: import_v460.z.number().nullish(),\n        model: import_v460.z.string().nullish(),\n        choices: import_v460.z.array(\n          import_v460.z.object({\n            text: import_v460.z.string(),\n            finish_reason: import_v460.z.string().nullish(),\n            index: import_v460.z.number(),\n            logprobs: import_v460.z.object({\n              tokens: import_v460.z.array(import_v460.z.string()),\n              token_logprobs: import_v460.z.array(import_v460.z.number()),\n              top_logprobs: import_v460.z.array(import_v460.z.record(import_v460.z.string(), import_v460.z.number())).nullish()\n            }).nullish()\n          })\n        ),\n        usage: import_v460.z.object({\n          prompt_tokens: import_v460.z.number(),\n          completion_tokens: import_v460.z.number(),\n          total_tokens: import_v460.z.number()\n        }).nullish()\n      }),\n      openaiErrorDataSchema2\n    ])\n  )\n);\nvar openaiCompletionProviderOptions2 = lazyValidator(\n  () => zodSchema(\n    import_v461.z.object({\n      /**\n      Echo back the prompt in addition to the completion.\n         */\n      echo: import_v461.z.boolean().optional(),\n      /**\n      Modify the likelihood of specified tokens appearing in the completion.\n      \n      Accepts a JSON object that maps tokens (specified by their token ID in\n      the GPT tokenizer) to an associated bias value from -100 to 100. You\n      can use this tokenizer tool to convert text to token IDs. Mathematically,\n      the bias is added to the logits generated by the model prior to sampling.\n      The exact effect will vary per model, but values between -1 and 1 should\n      decrease or increase likelihood of selection; values like -100 or 100\n      should result in a ban or exclusive selection of the relevant token.\n      \n      As an example, you can pass {\"50256\": -100} to prevent the <|endoftext|>\n      token from being generated.\n       */\n      logitBias: import_v461.z.record(import_v461.z.string(), import_v461.z.number()).optional(),\n      /**\n      The suffix that comes after a completion of inserted text.\n       */\n      suffix: import_v461.z.string().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n       */\n      user: import_v461.z.string().optional(),\n      /**\n      Return the log probabilities of the tokens. Including logprobs will increase\n      the response size and can slow down response times. However, it can\n      be useful to better understand how the model is behaving.\n      Setting to true will return the log probabilities of the tokens that\n      were generated.\n      Setting to a number will return the log probabilities of the top n\n      tokens that were generated.\n         */\n      logprobs: import_v461.z.union([import_v461.z.boolean(), import_v461.z.number()]).optional()\n    })\n  )\n);\nvar OpenAICompletionLanguageModel2 = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      // No URLs are supported for completion models.\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences: userStopSequences,\n      responseFormat,\n      tools,\n      toolChoice,\n      seed,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openaiOptions = __spreadValues(__spreadValues({}, yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiCompletionProviderOptions2\n      })), yield parseProviderOptions({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompletionProviderOptions2\n      }));\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if (tools == null ? void 0 : tools.length) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"tools\" });\n      }\n      if (toolChoice != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"toolChoice\" });\n      }\n      if (responseFormat != null && responseFormat.type !== \"text\") {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format is not supported.\"\n        });\n      }\n      const { prompt: completionPrompt, stopSequences } = convertToOpenAICompletionPrompt2({ prompt });\n      const stop2 = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n      return {\n        args: {\n          // model id:\n          model: this.modelId,\n          // model specific settings:\n          echo: openaiOptions.echo,\n          logit_bias: openaiOptions.logitBias,\n          logprobs: (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? 0 : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === false ? void 0 : openaiOptions == null ? void 0 : openaiOptions.logprobs,\n          suffix: openaiOptions.suffix,\n          user: openaiOptions.user,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          seed,\n          // prompt:\n          prompt: completionPrompt,\n          // stop sequences:\n          stop: stop2.length > 0 ? stop2 : void 0\n        },\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { args, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: args,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiCompletionResponseSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const providerMetadata = { openai: {} };\n      if (choice.logprobs != null) {\n        providerMetadata.openai.logprobs = choice.logprobs;\n      }\n      return {\n        content: [{ type: \"text\", text: choice.text }],\n        usage: {\n          inputTokens: (_a = response.usage) == null ? void 0 : _a.prompt_tokens,\n          outputTokens: (_b = response.usage) == null ? void 0 : _b.completion_tokens,\n          totalTokens: (_c = response.usage) == null ? void 0 : _c.total_tokens\n        },\n        finishReason: mapOpenAIFinishReason22(choice.finish_reason),\n        request: { body: args },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata23(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        providerMetadata,\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true,\n        stream_options: {\n          include_usage: true\n        }\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiCompletionChunkSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const providerMetadata = { openai: {} };\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata23(value)));\n                controller.enqueue({ type: \"text-start\", id: \"0\" });\n              }\n              if (value.usage != null) {\n                usage.inputTokens = value.usage.prompt_tokens;\n                usage.outputTokens = value.usage.completion_tokens;\n                usage.totalTokens = value.usage.total_tokens;\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapOpenAIFinishReason22(choice.finish_reason);\n              }\n              if ((choice == null ? void 0 : choice.logprobs) != null) {\n                providerMetadata.openai.logprobs = choice.logprobs;\n              }\n              if ((choice == null ? void 0 : choice.text) != null && choice.text.length > 0) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: choice.text\n                });\n              }\n            },\n            flush(controller) {\n              if (!isFirstChunk) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                providerMetadata,\n                usage\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar openaiEmbeddingProviderOptions2 = lazyValidator(\n  () => zodSchema(\n    import_v462.z.object({\n      /**\n      The number of dimensions the resulting output embeddings should have.\n      Only supported in text-embedding-3 and later models.\n         */\n      dimensions: import_v462.z.number().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n      */\n      user: import_v462.z.string().optional()\n    })\n  )\n);\nvar openaiTextEmbeddingResponseSchema3 = lazyValidator(\n  () => zodSchema(\n    import_v463.z.object({\n      data: import_v463.z.array(import_v463.z.object({ embedding: import_v463.z.array(import_v463.z.number()) })),\n      usage: import_v463.z.object({ prompt_tokens: import_v463.z.number() }).nullish()\n    })\n  )\n);\nvar OpenAIEmbeddingModel2 = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      headers,\n      abortSignal,\n      providerOptions\n    }) {\n      var _a;\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider39.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const openaiOptions = (_a = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiEmbeddingProviderOptions2\n      })) != null ? _a : {};\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/embeddings\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: {\n          model: this.modelId,\n          input: values,\n          encoding_format: \"float\",\n          dimensions: openaiOptions.dimensions,\n          user: openaiOptions.user\n        },\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiTextEmbeddingResponseSchema3\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.data.map((item) => item.embedding),\n        usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar openaiImageResponseSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v464.z.object({\n      data: import_v464.z.array(\n        import_v464.z.object({\n          b64_json: import_v464.z.string(),\n          revised_prompt: import_v464.z.string().optional()\n        })\n      )\n    })\n  )\n);\nvar modelMaxImagesPerCall2 = {\n  \"dall-e-3\": 1,\n  \"dall-e-2\": 10,\n  \"gpt-image-1\": 10,\n  \"gpt-image-1-mini\": 10\n};\nvar hasDefaultResponseFormat2 = /* @__PURE__ */ new Set([\n  \"gpt-image-1\",\n  \"gpt-image-1-mini\"\n]);\nvar OpenAIImageModel2 = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get maxImagesPerCall() {\n    var _a;\n    return (_a = modelMaxImagesPerCall2[this.modelId]) != null ? _a : 1;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      n,\n      size,\n      aspectRatio,\n      seed,\n      providerOptions,\n      headers,\n      abortSignal\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      if (aspectRatio != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"aspectRatio\",\n          details: \"This model does not support aspect ratio. Use `size` instead.\"\n        });\n      }\n      if (seed != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n      }\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { value: response, responseHeaders } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/images/generations\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: __spreadValues(__spreadValues({\n          model: this.modelId,\n          prompt,\n          n,\n          size\n        }, (_d = providerOptions.openai) != null ? _d : {}), !hasDefaultResponseFormat2.has(this.modelId) ? { response_format: \"b64_json\" } : {}),\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiImageResponseSchema2\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response.data.map((item) => item.b64_json),\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders\n        },\n        providerMetadata: {\n          openai: {\n            images: response.data.map(\n              (item) => item.revised_prompt ? {\n                revisedPrompt: item.revised_prompt\n              } : null\n            )\n          }\n        }\n      };\n    });\n  }\n};\nvar openaiTranscriptionResponseSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v465.z.object({\n      text: import_v465.z.string(),\n      language: import_v465.z.string().nullish(),\n      duration: import_v465.z.number().nullish(),\n      words: import_v465.z.array(\n        import_v465.z.object({\n          word: import_v465.z.string(),\n          start: import_v465.z.number(),\n          end: import_v465.z.number()\n        })\n      ).nullish(),\n      segments: import_v465.z.array(\n        import_v465.z.object({\n          id: import_v465.z.number(),\n          seek: import_v465.z.number(),\n          start: import_v465.z.number(),\n          end: import_v465.z.number(),\n          text: import_v465.z.string(),\n          tokens: import_v465.z.array(import_v465.z.number()),\n          temperature: import_v465.z.number(),\n          avg_logprob: import_v465.z.number(),\n          compression_ratio: import_v465.z.number(),\n          no_speech_prob: import_v465.z.number()\n        })\n      ).nullish()\n    })\n  )\n);\nvar openAITranscriptionProviderOptions2 = lazyValidator(\n  () => zodSchema(\n    import_v466.z.object({\n      /**\n       * Additional information to include in the transcription response.\n       */\n      include: import_v466.z.array(import_v466.z.string()).optional(),\n      /**\n       * The language of the input audio in ISO-639-1 format.\n       */\n      language: import_v466.z.string().optional(),\n      /**\n       * An optional text to guide the model's style or continue a previous audio segment.\n       */\n      prompt: import_v466.z.string().optional(),\n      /**\n       * The sampling temperature, between 0 and 1.\n       * @default 0\n       */\n      temperature: import_v466.z.number().min(0).max(1).default(0).optional(),\n      /**\n       * The timestamp granularities to populate for this transcription.\n       * @default ['segment']\n       */\n      timestampGranularities: import_v466.z.array(import_v466.z.enum([\"word\", \"segment\"])).default([\"segment\"]).optional()\n    })\n  )\n);\nvar languageMap2 = {\n  afrikaans: \"af\",\n  arabic: \"ar\",\n  armenian: \"hy\",\n  azerbaijani: \"az\",\n  belarusian: \"be\",\n  bosnian: \"bs\",\n  bulgarian: \"bg\",\n  catalan: \"ca\",\n  chinese: \"zh\",\n  croatian: \"hr\",\n  czech: \"cs\",\n  danish: \"da\",\n  dutch: \"nl\",\n  english: \"en\",\n  estonian: \"et\",\n  finnish: \"fi\",\n  french: \"fr\",\n  galician: \"gl\",\n  german: \"de\",\n  greek: \"el\",\n  hebrew: \"he\",\n  hindi: \"hi\",\n  hungarian: \"hu\",\n  icelandic: \"is\",\n  indonesian: \"id\",\n  italian: \"it\",\n  japanese: \"ja\",\n  kannada: \"kn\",\n  kazakh: \"kk\",\n  korean: \"ko\",\n  latvian: \"lv\",\n  lithuanian: \"lt\",\n  macedonian: \"mk\",\n  malay: \"ms\",\n  marathi: \"mr\",\n  maori: \"mi\",\n  nepali: \"ne\",\n  norwegian: \"no\",\n  persian: \"fa\",\n  polish: \"pl\",\n  portuguese: \"pt\",\n  romanian: \"ro\",\n  russian: \"ru\",\n  serbian: \"sr\",\n  slovak: \"sk\",\n  slovenian: \"sl\",\n  spanish: \"es\",\n  swahili: \"sw\",\n  swedish: \"sv\",\n  tagalog: \"tl\",\n  tamil: \"ta\",\n  thai: \"th\",\n  turkish: \"tr\",\n  ukrainian: \"uk\",\n  urdu: \"ur\",\n  vietnamese: \"vi\",\n  welsh: \"cy\"\n};\nvar OpenAITranscriptionModel2 = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      audio,\n      mediaType,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openAIOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openAITranscriptionProviderOptions2\n      });\n      const formData = new FormData();\n      const blob = audio instanceof Uint8Array ? new Blob([audio]) : new Blob([convertBase64ToUint8Array(audio)]);\n      formData.append(\"model\", this.modelId);\n      const fileExtension = mediaTypeToExtension(mediaType);\n      formData.append(\n        \"file\",\n        new File([blob], \"audio\", { type: mediaType }),\n        `audio.${fileExtension}`\n      );\n      if (openAIOptions) {\n        const transcriptionModelOptions = {\n          include: openAIOptions.include,\n          language: openAIOptions.language,\n          prompt: openAIOptions.prompt,\n          // https://platform.openai.com/docs/api-reference/audio/createTranscription#audio_createtranscription-response_format\n          // prefer verbose_json to get segments for models that support it\n          response_format: [\n            \"gpt-4o-transcribe\",\n            \"gpt-4o-mini-transcribe\"\n          ].includes(this.modelId) ? \"json\" : \"verbose_json\",\n          temperature: openAIOptions.temperature,\n          timestamp_granularities: openAIOptions.timestampGranularities\n        };\n        for (const [key, value] of Object.entries(transcriptionModelOptions)) {\n          if (value != null) {\n            if (Array.isArray(value)) {\n              for (const item of value) {\n                formData.append(`${key}[]`, String(item));\n              }\n            } else {\n              formData.append(key, String(value));\n            }\n          }\n        }\n      }\n      return {\n        formData,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { formData, warnings } = yield this.getArgs(options);\n      const {\n        value: response,\n        responseHeaders,\n        rawValue: rawResponse\n      } = yield postFormDataToApi({\n        url: this.config.url({\n          path: \"/audio/transcriptions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        formData,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiTranscriptionResponseSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const language = response.language != null && response.language in languageMap2 ? languageMap2[response.language] : void 0;\n      return {\n        text: response.text,\n        segments: (_g = (_f = (_d = response.segments) == null ? void 0 : _d.map((segment) => ({\n          text: segment.text,\n          startSecond: segment.start,\n          endSecond: segment.end\n        }))) != null ? _f : (_e = response.words) == null ? void 0 : _e.map((word) => ({\n          text: word.word,\n          startSecond: word.start,\n          endSecond: word.end\n        }))) != null ? _g : [],\n        language,\n        durationInSeconds: (_h = response.duration) != null ? _h : void 0,\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n};\nvar openaiSpeechProviderOptionsSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v467.z.object({\n      instructions: import_v467.z.string().nullish(),\n      speed: import_v467.z.number().min(0.25).max(4).default(1).nullish()\n    })\n  )\n);\nvar OpenAISpeechModel2 = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      text,\n      voice = \"alloy\",\n      outputFormat = \"mp3\",\n      speed,\n      instructions,\n      language,\n      providerOptions\n    }) {\n      const warnings = [];\n      const openAIOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiSpeechProviderOptionsSchema2\n      });\n      const requestBody = {\n        model: this.modelId,\n        input: text,\n        voice,\n        response_format: \"mp3\",\n        speed,\n        instructions\n      };\n      if (outputFormat) {\n        if ([\"mp3\", \"opus\", \"aac\", \"flac\", \"wav\", \"pcm\"].includes(outputFormat)) {\n          requestBody.response_format = outputFormat;\n        } else {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"outputFormat\",\n            details: `Unsupported output format: ${outputFormat}. Using mp3 instead.`\n          });\n        }\n      }\n      if (openAIOptions) {\n        const speechModelOptions = {};\n        for (const key in speechModelOptions) {\n          const value = speechModelOptions[key];\n          if (value !== void 0) {\n            requestBody[key] = value;\n          }\n        }\n      }\n      if (language) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"language\",\n          details: `OpenAI speech models do not support language selection. Language parameter \"${language}\" was ignored.`\n        });\n      }\n      return {\n        requestBody,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { requestBody, warnings } = yield this.getArgs(options);\n      const {\n        value: audio,\n        responseHeaders,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/audio/speech\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: requestBody,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createBinaryResponseHandler(),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        audio,\n        warnings,\n        request: {\n          body: JSON.stringify(requestBody)\n        },\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n};\nvar localShellInputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v469.z.object({\n      action: import_v469.z.object({\n        type: import_v469.z.literal(\"exec\"),\n        command: import_v469.z.array(import_v469.z.string()),\n        timeoutMs: import_v469.z.number().optional(),\n        user: import_v469.z.string().optional(),\n        workingDirectory: import_v469.z.string().optional(),\n        env: import_v469.z.record(import_v469.z.string(), import_v469.z.string()).optional()\n      })\n    })\n  )\n);\nvar localShellOutputSchema2 = lazySchema(\n  () => zodSchema(import_v469.z.object({ output: import_v469.z.string() }))\n);\nvar localShell2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.local_shell\",\n  name: \"local_shell\",\n  inputSchema: localShellInputSchema2,\n  outputSchema: localShellOutputSchema2\n});\nfunction isFileId2(data, prefixes) {\n  if (!prefixes) return false;\n  return prefixes.some((prefix) => data.startsWith(prefix));\n}\nfunction convertToOpenAIResponsesInput2(_0) {\n  return __async(this, arguments, function* ({\n    prompt,\n    systemMessageMode,\n    fileIdPrefixes,\n    store,\n    hasLocalShellTool = false\n  }) {\n    var _a, _b, _c, _d;\n    const input = [];\n    const warnings = [];\n    for (const { role, content } of prompt) {\n      switch (role) {\n        case \"system\": {\n          switch (systemMessageMode) {\n            case \"system\": {\n              input.push({ role: \"system\", content });\n              break;\n            }\n            case \"developer\": {\n              input.push({ role: \"developer\", content });\n              break;\n            }\n            case \"remove\": {\n              warnings.push({\n                type: \"other\",\n                message: \"system messages are removed for this model\"\n              });\n              break;\n            }\n            default: {\n              const _exhaustiveCheck = systemMessageMode;\n              throw new Error(\n                `Unsupported system message mode: ${_exhaustiveCheck}`\n              );\n            }\n          }\n          break;\n        }\n        case \"user\": {\n          input.push({\n            role: \"user\",\n            content: content.map((part, index) => {\n              var _a2, _b2, _c2;\n              switch (part.type) {\n                case \"text\": {\n                  return { type: \"input_text\", text: part.text };\n                }\n                case \"file\": {\n                  if (part.mediaType.startsWith(\"image/\")) {\n                    const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                    return __spreadProps(__spreadValues({\n                      type: \"input_image\"\n                    }, part.data instanceof URL ? { image_url: part.data.toString() } : typeof part.data === \"string\" && isFileId2(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      image_url: `data:${mediaType};base64,${convertToBase64(part.data)}`\n                    }), {\n                      detail: (_b2 = (_a2 = part.providerOptions) == null ? void 0 : _a2.openai) == null ? void 0 : _b2.imageDetail\n                    });\n                  } else if (part.mediaType === \"application/pdf\") {\n                    if (part.data instanceof URL) {\n                      return {\n                        type: \"input_file\",\n                        file_url: part.data.toString()\n                      };\n                    }\n                    return __spreadValues({\n                      type: \"input_file\"\n                    }, typeof part.data === \"string\" && isFileId2(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      filename: (_c2 = part.filename) != null ? _c2 : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase64(part.data)}`\n                    });\n                  } else {\n                    throw new import_provider41.UnsupportedFunctionalityError({\n                      functionality: `file part media type ${part.mediaType}`\n                    });\n                  }\n                }\n              }\n            })\n          });\n          break;\n        }\n        case \"assistant\": {\n          const reasoningMessages = {};\n          const toolCallParts = {};\n          for (const part of content) {\n            switch (part.type) {\n              case \"text\": {\n                const id = (_b = (_a = part.providerOptions) == null ? void 0 : _a.openai) == null ? void 0 : _b.itemId;\n                if (store && id != null) {\n                  input.push({ type: \"item_reference\", id });\n                  break;\n                }\n                input.push({\n                  role: \"assistant\",\n                  content: [{ type: \"output_text\", text: part.text }],\n                  id\n                });\n                break;\n              }\n              case \"tool-call\": {\n                toolCallParts[part.toolCallId] = part;\n                if (part.providerExecuted) {\n                  break;\n                }\n                const id = (_d = (_c = part.providerOptions) == null ? void 0 : _c.openai) == null ? void 0 : _d.itemId;\n                if (store && id != null) {\n                  input.push({ type: \"item_reference\", id });\n                  break;\n                }\n                if (hasLocalShellTool && part.toolName === \"local_shell\") {\n                  const parsedInput = yield validateTypes({\n                    value: part.input,\n                    schema: localShellInputSchema2\n                  });\n                  input.push({\n                    type: \"local_shell_call\",\n                    call_id: part.toolCallId,\n                    id,\n                    action: {\n                      type: \"exec\",\n                      command: parsedInput.action.command,\n                      timeout_ms: parsedInput.action.timeoutMs,\n                      user: parsedInput.action.user,\n                      working_directory: parsedInput.action.workingDirectory,\n                      env: parsedInput.action.env\n                    }\n                  });\n                  break;\n                }\n                input.push({\n                  type: \"function_call\",\n                  call_id: part.toolCallId,\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input),\n                  id\n                });\n                break;\n              }\n              // assistant tool result parts are from provider-executed tools:\n              case \"tool-result\": {\n                if (store) {\n                  input.push({ type: \"item_reference\", id: part.toolCallId });\n                } else {\n                  warnings.push({\n                    type: \"other\",\n                    message: `Results for OpenAI tool ${part.toolName} are not sent to the API when store is false`\n                  });\n                }\n                break;\n              }\n              case \"reasoning\": {\n                const providerOptions = yield parseProviderOptions({\n                  provider: \"openai\",\n                  providerOptions: part.providerOptions,\n                  schema: openaiResponsesReasoningProviderOptionsSchema2\n                });\n                const reasoningId = providerOptions == null ? void 0 : providerOptions.itemId;\n                if (reasoningId != null) {\n                  const reasoningMessage = reasoningMessages[reasoningId];\n                  if (store) {\n                    if (reasoningMessage === void 0) {\n                      input.push({ type: \"item_reference\", id: reasoningId });\n                      reasoningMessages[reasoningId] = {\n                        type: \"reasoning\",\n                        id: reasoningId,\n                        summary: []\n                      };\n                    }\n                  } else {\n                    const summaryParts = [];\n                    if (part.text.length > 0) {\n                      summaryParts.push({\n                        type: \"summary_text\",\n                        text: part.text\n                      });\n                    } else if (reasoningMessage !== void 0) {\n                      warnings.push({\n                        type: \"other\",\n                        message: `Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(part)}.`\n                      });\n                    }\n                    if (reasoningMessage === void 0) {\n                      reasoningMessages[reasoningId] = {\n                        type: \"reasoning\",\n                        id: reasoningId,\n                        encrypted_content: providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent,\n                        summary: summaryParts\n                      };\n                      input.push(reasoningMessages[reasoningId]);\n                    } else {\n                      reasoningMessage.summary.push(...summaryParts);\n                      if ((providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent) != null) {\n                        reasoningMessage.encrypted_content = providerOptions.reasoningEncryptedContent;\n                      }\n                    }\n                  }\n                } else {\n                  warnings.push({\n                    type: \"other\",\n                    message: `Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(part)}.`\n                  });\n                }\n                break;\n              }\n            }\n          }\n          break;\n        }\n        case \"tool\": {\n          for (const part of content) {\n            const output = part.output;\n            if (hasLocalShellTool && part.toolName === \"local_shell\" && output.type === \"json\") {\n              const parsedOutput = yield validateTypes({\n                value: output.value,\n                schema: localShellOutputSchema2\n              });\n              input.push({\n                type: \"local_shell_call_output\",\n                call_id: part.toolCallId,\n                output: parsedOutput.output\n              });\n              break;\n            }\n            let contentValue;\n            switch (output.type) {\n              case \"text\":\n              case \"error-text\":\n                contentValue = output.value;\n                break;\n              case \"json\":\n              case \"error-json\":\n                contentValue = JSON.stringify(output.value);\n                break;\n              case \"content\":\n                contentValue = output.value.map((item) => {\n                  switch (item.type) {\n                    case \"text\": {\n                      return { type: \"input_text\", text: item.text };\n                    }\n                    case \"media\": {\n                      return item.mediaType.startsWith(\"image/\") ? {\n                        type: \"input_image\",\n                        image_url: `data:${item.mediaType};base64,${item.data}`\n                      } : {\n                        type: \"input_file\",\n                        filename: \"data\",\n                        file_data: `data:${item.mediaType};base64,${item.data}`\n                      };\n                    }\n                  }\n                });\n                break;\n            }\n            input.push({\n              type: \"function_call_output\",\n              call_id: part.toolCallId,\n              output: contentValue\n            });\n          }\n          break;\n        }\n        default: {\n          const _exhaustiveCheck = role;\n          throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n        }\n      }\n    }\n    return { input, warnings };\n  });\n}\nvar openaiResponsesReasoningProviderOptionsSchema2 = import_v468.z.object({\n  itemId: import_v468.z.string().nullish(),\n  reasoningEncryptedContent: import_v468.z.string().nullish()\n});\nfunction mapOpenAIResponseFinishReason2({\n  finishReason,\n  hasFunctionCall\n}) {\n  switch (finishReason) {\n    case void 0:\n    case null:\n      return hasFunctionCall ? \"tool-calls\" : \"stop\";\n    case \"max_output_tokens\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    default:\n      return hasFunctionCall ? \"tool-calls\" : \"unknown\";\n  }\n}\nvar openaiResponsesChunkSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v470.z.union([\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.output_text.delta\"),\n        item_id: import_v470.z.string(),\n        delta: import_v470.z.string(),\n        logprobs: import_v470.z.array(\n          import_v470.z.object({\n            token: import_v470.z.string(),\n            logprob: import_v470.z.number(),\n            top_logprobs: import_v470.z.array(\n              import_v470.z.object({\n                token: import_v470.z.string(),\n                logprob: import_v470.z.number()\n              })\n            )\n          })\n        ).nullish()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.enum([\"response.completed\", \"response.incomplete\"]),\n        response: import_v470.z.object({\n          incomplete_details: import_v470.z.object({ reason: import_v470.z.string() }).nullish(),\n          usage: import_v470.z.object({\n            input_tokens: import_v470.z.number(),\n            input_tokens_details: import_v470.z.object({ cached_tokens: import_v470.z.number().nullish() }).nullish(),\n            output_tokens: import_v470.z.number(),\n            output_tokens_details: import_v470.z.object({ reasoning_tokens: import_v470.z.number().nullish() }).nullish()\n          }),\n          service_tier: import_v470.z.string().nullish()\n        })\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.created\"),\n        response: import_v470.z.object({\n          id: import_v470.z.string(),\n          created_at: import_v470.z.number(),\n          model: import_v470.z.string(),\n          service_tier: import_v470.z.string().nullish()\n        })\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.output_item.added\"),\n        output_index: import_v470.z.number(),\n        item: import_v470.z.discriminatedUnion(\"type\", [\n          import_v470.z.object({\n            type: import_v470.z.literal(\"message\"),\n            id: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"reasoning\"),\n            id: import_v470.z.string(),\n            encrypted_content: import_v470.z.string().nullish()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"function_call\"),\n            id: import_v470.z.string(),\n            call_id: import_v470.z.string(),\n            name: import_v470.z.string(),\n            arguments: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"web_search_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"computer_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"file_search_call\"),\n            id: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"image_generation_call\"),\n            id: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"code_interpreter_call\"),\n            id: import_v470.z.string(),\n            container_id: import_v470.z.string(),\n            code: import_v470.z.string().nullable(),\n            outputs: import_v470.z.array(\n              import_v470.z.discriminatedUnion(\"type\", [\n                import_v470.z.object({ type: import_v470.z.literal(\"logs\"), logs: import_v470.z.string() }),\n                import_v470.z.object({ type: import_v470.z.literal(\"image\"), url: import_v470.z.string() })\n              ])\n            ).nullable(),\n            status: import_v470.z.string()\n          })\n        ])\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.output_item.done\"),\n        output_index: import_v470.z.number(),\n        item: import_v470.z.discriminatedUnion(\"type\", [\n          import_v470.z.object({\n            type: import_v470.z.literal(\"message\"),\n            id: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"reasoning\"),\n            id: import_v470.z.string(),\n            encrypted_content: import_v470.z.string().nullish()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"function_call\"),\n            id: import_v470.z.string(),\n            call_id: import_v470.z.string(),\n            name: import_v470.z.string(),\n            arguments: import_v470.z.string(),\n            status: import_v470.z.literal(\"completed\")\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"code_interpreter_call\"),\n            id: import_v470.z.string(),\n            code: import_v470.z.string().nullable(),\n            container_id: import_v470.z.string(),\n            outputs: import_v470.z.array(\n              import_v470.z.discriminatedUnion(\"type\", [\n                import_v470.z.object({ type: import_v470.z.literal(\"logs\"), logs: import_v470.z.string() }),\n                import_v470.z.object({ type: import_v470.z.literal(\"image\"), url: import_v470.z.string() })\n              ])\n            ).nullable()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"image_generation_call\"),\n            id: import_v470.z.string(),\n            result: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"web_search_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.string(),\n            action: import_v470.z.discriminatedUnion(\"type\", [\n              import_v470.z.object({\n                type: import_v470.z.literal(\"search\"),\n                query: import_v470.z.string().nullish()\n              }),\n              import_v470.z.object({\n                type: import_v470.z.literal(\"open_page\"),\n                url: import_v470.z.string()\n              }),\n              import_v470.z.object({\n                type: import_v470.z.literal(\"find\"),\n                url: import_v470.z.string(),\n                pattern: import_v470.z.string()\n              })\n            ])\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"file_search_call\"),\n            id: import_v470.z.string(),\n            queries: import_v470.z.array(import_v470.z.string()),\n            results: import_v470.z.array(\n              import_v470.z.object({\n                attributes: import_v470.z.record(import_v470.z.string(), import_v470.z.unknown()),\n                file_id: import_v470.z.string(),\n                filename: import_v470.z.string(),\n                score: import_v470.z.number(),\n                text: import_v470.z.string()\n              })\n            ).nullish()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"local_shell_call\"),\n            id: import_v470.z.string(),\n            call_id: import_v470.z.string(),\n            action: import_v470.z.object({\n              type: import_v470.z.literal(\"exec\"),\n              command: import_v470.z.array(import_v470.z.string()),\n              timeout_ms: import_v470.z.number().optional(),\n              user: import_v470.z.string().optional(),\n              working_directory: import_v470.z.string().optional(),\n              env: import_v470.z.record(import_v470.z.string(), import_v470.z.string()).optional()\n            })\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"computer_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.literal(\"completed\")\n          })\n        ])\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.function_call_arguments.delta\"),\n        item_id: import_v470.z.string(),\n        output_index: import_v470.z.number(),\n        delta: import_v470.z.string()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.image_generation_call.partial_image\"),\n        item_id: import_v470.z.string(),\n        output_index: import_v470.z.number(),\n        partial_image_b64: import_v470.z.string()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.code_interpreter_call_code.delta\"),\n        item_id: import_v470.z.string(),\n        output_index: import_v470.z.number(),\n        delta: import_v470.z.string()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.code_interpreter_call_code.done\"),\n        item_id: import_v470.z.string(),\n        output_index: import_v470.z.number(),\n        code: import_v470.z.string()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.output_text.annotation.added\"),\n        annotation: import_v470.z.discriminatedUnion(\"type\", [\n          import_v470.z.object({\n            type: import_v470.z.literal(\"url_citation\"),\n            url: import_v470.z.string(),\n            title: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"file_citation\"),\n            file_id: import_v470.z.string(),\n            filename: import_v470.z.string().nullish(),\n            index: import_v470.z.number().nullish(),\n            start_index: import_v470.z.number().nullish(),\n            end_index: import_v470.z.number().nullish(),\n            quote: import_v470.z.string().nullish()\n          })\n        ])\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.reasoning_summary_part.added\"),\n        item_id: import_v470.z.string(),\n        summary_index: import_v470.z.number()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.reasoning_summary_text.delta\"),\n        item_id: import_v470.z.string(),\n        summary_index: import_v470.z.number(),\n        delta: import_v470.z.string()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"response.reasoning_summary_part.done\"),\n        item_id: import_v470.z.string(),\n        summary_index: import_v470.z.number()\n      }),\n      import_v470.z.object({\n        type: import_v470.z.literal(\"error\"),\n        code: import_v470.z.string(),\n        message: import_v470.z.string(),\n        param: import_v470.z.string().nullish(),\n        sequence_number: import_v470.z.number()\n      }),\n      import_v470.z.object({ type: import_v470.z.string() }).loose().transform((value) => ({\n        type: \"unknown_chunk\",\n        message: value.type\n      }))\n      // fallback for unknown chunks\n    ])\n  )\n);\nvar openaiResponsesResponseSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v470.z.object({\n      id: import_v470.z.string(),\n      created_at: import_v470.z.number(),\n      error: import_v470.z.object({\n        code: import_v470.z.string(),\n        message: import_v470.z.string()\n      }).nullish(),\n      model: import_v470.z.string(),\n      output: import_v470.z.array(\n        import_v470.z.discriminatedUnion(\"type\", [\n          import_v470.z.object({\n            type: import_v470.z.literal(\"message\"),\n            role: import_v470.z.literal(\"assistant\"),\n            id: import_v470.z.string(),\n            content: import_v470.z.array(\n              import_v470.z.object({\n                type: import_v470.z.literal(\"output_text\"),\n                text: import_v470.z.string(),\n                logprobs: import_v470.z.array(\n                  import_v470.z.object({\n                    token: import_v470.z.string(),\n                    logprob: import_v470.z.number(),\n                    top_logprobs: import_v470.z.array(\n                      import_v470.z.object({\n                        token: import_v470.z.string(),\n                        logprob: import_v470.z.number()\n                      })\n                    )\n                  })\n                ).nullish(),\n                annotations: import_v470.z.array(\n                  import_v470.z.discriminatedUnion(\"type\", [\n                    import_v470.z.object({\n                      type: import_v470.z.literal(\"url_citation\"),\n                      start_index: import_v470.z.number(),\n                      end_index: import_v470.z.number(),\n                      url: import_v470.z.string(),\n                      title: import_v470.z.string()\n                    }),\n                    import_v470.z.object({\n                      type: import_v470.z.literal(\"file_citation\"),\n                      file_id: import_v470.z.string(),\n                      filename: import_v470.z.string().nullish(),\n                      index: import_v470.z.number().nullish(),\n                      start_index: import_v470.z.number().nullish(),\n                      end_index: import_v470.z.number().nullish(),\n                      quote: import_v470.z.string().nullish()\n                    }),\n                    import_v470.z.object({\n                      type: import_v470.z.literal(\"container_file_citation\")\n                    })\n                  ])\n                )\n              })\n            )\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"web_search_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.string(),\n            action: import_v470.z.discriminatedUnion(\"type\", [\n              import_v470.z.object({\n                type: import_v470.z.literal(\"search\"),\n                query: import_v470.z.string().nullish()\n              }),\n              import_v470.z.object({\n                type: import_v470.z.literal(\"open_page\"),\n                url: import_v470.z.string()\n              }),\n              import_v470.z.object({\n                type: import_v470.z.literal(\"find\"),\n                url: import_v470.z.string(),\n                pattern: import_v470.z.string()\n              })\n            ])\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"file_search_call\"),\n            id: import_v470.z.string(),\n            queries: import_v470.z.array(import_v470.z.string()),\n            results: import_v470.z.array(\n              import_v470.z.object({\n                attributes: import_v470.z.record(import_v470.z.string(), import_v470.z.unknown()),\n                file_id: import_v470.z.string(),\n                filename: import_v470.z.string(),\n                score: import_v470.z.number(),\n                text: import_v470.z.string()\n              })\n            ).nullish()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"code_interpreter_call\"),\n            id: import_v470.z.string(),\n            code: import_v470.z.string().nullable(),\n            container_id: import_v470.z.string(),\n            outputs: import_v470.z.array(\n              import_v470.z.discriminatedUnion(\"type\", [\n                import_v470.z.object({ type: import_v470.z.literal(\"logs\"), logs: import_v470.z.string() }),\n                import_v470.z.object({ type: import_v470.z.literal(\"image\"), url: import_v470.z.string() })\n              ])\n            ).nullable()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"image_generation_call\"),\n            id: import_v470.z.string(),\n            result: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"local_shell_call\"),\n            id: import_v470.z.string(),\n            call_id: import_v470.z.string(),\n            action: import_v470.z.object({\n              type: import_v470.z.literal(\"exec\"),\n              command: import_v470.z.array(import_v470.z.string()),\n              timeout_ms: import_v470.z.number().optional(),\n              user: import_v470.z.string().optional(),\n              working_directory: import_v470.z.string().optional(),\n              env: import_v470.z.record(import_v470.z.string(), import_v470.z.string()).optional()\n            })\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"function_call\"),\n            call_id: import_v470.z.string(),\n            name: import_v470.z.string(),\n            arguments: import_v470.z.string(),\n            id: import_v470.z.string()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"computer_call\"),\n            id: import_v470.z.string(),\n            status: import_v470.z.string().optional()\n          }),\n          import_v470.z.object({\n            type: import_v470.z.literal(\"reasoning\"),\n            id: import_v470.z.string(),\n            encrypted_content: import_v470.z.string().nullish(),\n            summary: import_v470.z.array(\n              import_v470.z.object({\n                type: import_v470.z.literal(\"summary_text\"),\n                text: import_v470.z.string()\n              })\n            )\n          })\n        ])\n      ),\n      service_tier: import_v470.z.string().nullish(),\n      incomplete_details: import_v470.z.object({ reason: import_v470.z.string() }).nullish(),\n      usage: import_v470.z.object({\n        input_tokens: import_v470.z.number(),\n        input_tokens_details: import_v470.z.object({ cached_tokens: import_v470.z.number().nullish() }).nullish(),\n        output_tokens: import_v470.z.number(),\n        output_tokens_details: import_v470.z.object({ reasoning_tokens: import_v470.z.number().nullish() }).nullish()\n      })\n    })\n  )\n);\nvar TOP_LOGPROBS_MAX2 = 20;\nvar openaiResponsesReasoningModelIds2 = [\n  \"o1\",\n  \"o1-2024-12-17\",\n  \"o3-mini\",\n  \"o3-mini-2025-01-31\",\n  \"o3\",\n  \"o3-2025-04-16\",\n  \"o4-mini\",\n  \"o4-mini-2025-04-16\",\n  \"codex-mini-latest\",\n  \"computer-use-preview\",\n  \"gpt-5\",\n  \"gpt-5-2025-08-07\",\n  \"gpt-5-codex\",\n  \"gpt-5-mini\",\n  \"gpt-5-mini-2025-08-07\",\n  \"gpt-5-nano\",\n  \"gpt-5-nano-2025-08-07\",\n  \"gpt-5-pro\",\n  \"gpt-5-pro-2025-10-06\"\n];\nvar openaiResponsesModelIds2 = [\n  \"gpt-4.1\",\n  \"gpt-4.1-2025-04-14\",\n  \"gpt-4.1-mini\",\n  \"gpt-4.1-mini-2025-04-14\",\n  \"gpt-4.1-nano\",\n  \"gpt-4.1-nano-2025-04-14\",\n  \"gpt-4o\",\n  \"gpt-4o-2024-05-13\",\n  \"gpt-4o-2024-08-06\",\n  \"gpt-4o-2024-11-20\",\n  \"gpt-4o-audio-preview\",\n  \"gpt-4o-audio-preview-2024-10-01\",\n  \"gpt-4o-audio-preview-2024-12-17\",\n  \"gpt-4o-search-preview\",\n  \"gpt-4o-search-preview-2025-03-11\",\n  \"gpt-4o-mini-search-preview\",\n  \"gpt-4o-mini-search-preview-2025-03-11\",\n  \"gpt-4o-mini\",\n  \"gpt-4o-mini-2024-07-18\",\n  \"gpt-4-turbo\",\n  \"gpt-4-turbo-2024-04-09\",\n  \"gpt-4-turbo-preview\",\n  \"gpt-4-0125-preview\",\n  \"gpt-4-1106-preview\",\n  \"gpt-4\",\n  \"gpt-4-0613\",\n  \"gpt-4.5-preview\",\n  \"gpt-4.5-preview-2025-02-27\",\n  \"gpt-3.5-turbo-0125\",\n  \"gpt-3.5-turbo\",\n  \"gpt-3.5-turbo-1106\",\n  \"chatgpt-4o-latest\",\n  \"gpt-5-chat-latest\",\n  ...openaiResponsesReasoningModelIds2\n];\nvar openaiResponsesProviderOptionsSchema2 = lazyValidator(\n  () => zodSchema(\n    import_v471.z.object({\n      include: import_v471.z.array(\n        import_v471.z.enum([\n          \"reasoning.encrypted_content\",\n          // handled internally by default, only needed for unknown reasoning models\n          \"file_search_call.results\",\n          \"message.output_text.logprobs\"\n        ])\n      ).nullish(),\n      instructions: import_v471.z.string().nullish(),\n      /**\n       * Return the log probabilities of the tokens.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       *\n       * @see https://platform.openai.com/docs/api-reference/responses/create\n       * @see https://cookbook.openai.com/examples/using_logprobs\n       */\n      logprobs: import_v471.z.union([import_v471.z.boolean(), import_v471.z.number().min(1).max(TOP_LOGPROBS_MAX2)]).optional(),\n      /**\n       * The maximum number of total calls to built-in tools that can be processed in a response.\n       * This maximum number applies across all built-in tool calls, not per individual tool.\n       * Any further attempts to call a tool by the model will be ignored.\n       */\n      maxToolCalls: import_v471.z.number().nullish(),\n      metadata: import_v471.z.any().nullish(),\n      parallelToolCalls: import_v471.z.boolean().nullish(),\n      previousResponseId: import_v471.z.string().nullish(),\n      promptCacheKey: import_v471.z.string().nullish(),\n      reasoningEffort: import_v471.z.string().nullish(),\n      reasoningSummary: import_v471.z.string().nullish(),\n      safetyIdentifier: import_v471.z.string().nullish(),\n      serviceTier: import_v471.z.enum([\"auto\", \"flex\", \"priority\", \"default\"]).nullish(),\n      store: import_v471.z.boolean().nullish(),\n      strictJsonSchema: import_v471.z.boolean().nullish(),\n      textVerbosity: import_v471.z.enum([\"low\", \"medium\", \"high\"]).nullish(),\n      truncation: import_v471.z.enum([\"auto\", \"disabled\"]).nullish(),\n      user: import_v471.z.string().nullish()\n    })\n  )\n);\nvar codeInterpreterInputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v472.z.object({\n      code: import_v472.z.string().nullish(),\n      containerId: import_v472.z.string()\n    })\n  )\n);\nvar codeInterpreterOutputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v472.z.object({\n      outputs: import_v472.z.array(\n        import_v472.z.discriminatedUnion(\"type\", [\n          import_v472.z.object({ type: import_v472.z.literal(\"logs\"), logs: import_v472.z.string() }),\n          import_v472.z.object({ type: import_v472.z.literal(\"image\"), url: import_v472.z.string() })\n        ])\n      ).nullish()\n    })\n  )\n);\nvar codeInterpreterArgsSchema2 = lazySchema(\n  () => zodSchema(\n    import_v472.z.object({\n      container: import_v472.z.union([\n        import_v472.z.string(),\n        import_v472.z.object({\n          fileIds: import_v472.z.array(import_v472.z.string()).optional()\n        })\n      ]).optional()\n    })\n  )\n);\nvar codeInterpreterToolFactory2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.code_interpreter\",\n  name: \"code_interpreter\",\n  inputSchema: codeInterpreterInputSchema2,\n  outputSchema: codeInterpreterOutputSchema2\n});\nvar codeInterpreter2 = (args = {}) => {\n  return codeInterpreterToolFactory2(args);\n};\nvar comparisonFilterSchema2 = import_v473.z.object({\n  key: import_v473.z.string(),\n  type: import_v473.z.enum([\"eq\", \"ne\", \"gt\", \"gte\", \"lt\", \"lte\"]),\n  value: import_v473.z.union([import_v473.z.string(), import_v473.z.number(), import_v473.z.boolean()])\n});\nvar compoundFilterSchema2 = import_v473.z.object({\n  type: import_v473.z.enum([\"and\", \"or\"]),\n  filters: import_v473.z.array(\n    import_v473.z.union([comparisonFilterSchema2, import_v473.z.lazy(() => compoundFilterSchema2)])\n  )\n});\nvar fileSearchArgsSchema2 = lazySchema(\n  () => zodSchema(\n    import_v473.z.object({\n      vectorStoreIds: import_v473.z.array(import_v473.z.string()),\n      maxNumResults: import_v473.z.number().optional(),\n      ranking: import_v473.z.object({\n        ranker: import_v473.z.string().optional(),\n        scoreThreshold: import_v473.z.number().optional()\n      }).optional(),\n      filters: import_v473.z.union([comparisonFilterSchema2, compoundFilterSchema2]).optional()\n    })\n  )\n);\nvar fileSearchOutputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v473.z.object({\n      queries: import_v473.z.array(import_v473.z.string()),\n      results: import_v473.z.array(\n        import_v473.z.object({\n          attributes: import_v473.z.record(import_v473.z.string(), import_v473.z.unknown()),\n          fileId: import_v473.z.string(),\n          filename: import_v473.z.string(),\n          score: import_v473.z.number(),\n          text: import_v473.z.string()\n        })\n      ).nullable()\n    })\n  )\n);\nvar fileSearch2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.file_search\",\n  name: \"file_search\",\n  inputSchema: import_v473.z.object({}),\n  outputSchema: fileSearchOutputSchema2\n});\nvar webSearchArgsSchema2 = lazySchema(\n  () => zodSchema(\n    import_v474.z.object({\n      filters: import_v474.z.object({ allowedDomains: import_v474.z.array(import_v474.z.string()).optional() }).optional(),\n      searchContextSize: import_v474.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: import_v474.z.object({\n        type: import_v474.z.literal(\"approximate\"),\n        country: import_v474.z.string().optional(),\n        city: import_v474.z.string().optional(),\n        region: import_v474.z.string().optional(),\n        timezone: import_v474.z.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchInputSchema2 = lazySchema(() => zodSchema(import_v474.z.object({})));\nvar webSearchOutputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v474.z.object({\n      action: import_v474.z.discriminatedUnion(\"type\", [\n        import_v474.z.object({\n          type: import_v474.z.literal(\"search\"),\n          query: import_v474.z.string().optional()\n        }),\n        import_v474.z.object({\n          type: import_v474.z.literal(\"openPage\"),\n          url: import_v474.z.string()\n        }),\n        import_v474.z.object({\n          type: import_v474.z.literal(\"find\"),\n          url: import_v474.z.string(),\n          pattern: import_v474.z.string()\n        })\n      ])\n    })\n  )\n);\nvar webSearchToolFactory2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.web_search\",\n  name: \"web_search\",\n  inputSchema: webSearchInputSchema2,\n  outputSchema: webSearchOutputSchema2\n});\nvar webSearchPreviewArgsSchema2 = lazySchema(\n  () => zodSchema(\n    import_v475.z.object({\n      searchContextSize: import_v475.z.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: import_v475.z.object({\n        type: import_v475.z.literal(\"approximate\"),\n        country: import_v475.z.string().optional(),\n        city: import_v475.z.string().optional(),\n        region: import_v475.z.string().optional(),\n        timezone: import_v475.z.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchPreviewInputSchema2 = lazySchema(\n  () => zodSchema(import_v475.z.object({}))\n);\nvar webSearchPreviewOutputSchema2 = lazySchema(\n  () => zodSchema(\n    import_v475.z.object({\n      action: import_v475.z.discriminatedUnion(\"type\", [\n        import_v475.z.object({\n          type: import_v475.z.literal(\"search\"),\n          query: import_v475.z.string().optional()\n        }),\n        import_v475.z.object({\n          type: import_v475.z.literal(\"openPage\"),\n          url: import_v475.z.string()\n        }),\n        import_v475.z.object({\n          type: import_v475.z.literal(\"find\"),\n          url: import_v475.z.string(),\n          pattern: import_v475.z.string()\n        })\n      ])\n    })\n  )\n);\nvar webSearchPreview2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.web_search_preview\",\n  name: \"web_search_preview\",\n  inputSchema: webSearchPreviewInputSchema2,\n  outputSchema: webSearchPreviewOutputSchema2\n});\nvar imageGenerationArgsSchema2 = lazySchema(\n  () => zodSchema(\n    import_v476.z.object({\n      background: import_v476.z.enum([\"auto\", \"opaque\", \"transparent\"]).optional(),\n      inputFidelity: import_v476.z.enum([\"low\", \"high\"]).optional(),\n      inputImageMask: import_v476.z.object({\n        fileId: import_v476.z.string().optional(),\n        imageUrl: import_v476.z.string().optional()\n      }).optional(),\n      model: import_v476.z.string().optional(),\n      moderation: import_v476.z.enum([\"auto\"]).optional(),\n      outputCompression: import_v476.z.number().int().min(0).max(100).optional(),\n      outputFormat: import_v476.z.enum([\"png\", \"jpeg\", \"webp\"]).optional(),\n      partialImages: import_v476.z.number().int().min(0).max(3).optional(),\n      quality: import_v476.z.enum([\"auto\", \"low\", \"medium\", \"high\"]).optional(),\n      size: import_v476.z.enum([\"1024x1024\", \"1024x1536\", \"1536x1024\", \"auto\"]).optional()\n    }).strict()\n  )\n);\nvar imageGenerationInputSchema2 = lazySchema(() => zodSchema(import_v476.z.object({})));\nvar imageGenerationOutputSchema2 = lazySchema(\n  () => zodSchema(import_v476.z.object({ result: import_v476.z.string() }))\n);\nvar imageGenerationToolFactory2 = createProviderDefinedToolFactoryWithOutputSchema({\n  id: \"openai.image_generation\",\n  name: \"image_generation\",\n  inputSchema: imageGenerationInputSchema2,\n  outputSchema: imageGenerationOutputSchema2\n});\nvar imageGeneration2 = (args = {}) => {\n  return imageGenerationToolFactory2(args);\n};\nfunction prepareResponsesTools2(_0) {\n  return __async(this, arguments, function* ({\n    tools,\n    toolChoice,\n    strictJsonSchema\n  }) {\n    tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n      return { tools: void 0, toolChoice: void 0, toolWarnings };\n    }\n    const openaiTools2 = [];\n    for (const tool12 of tools) {\n      switch (tool12.type) {\n        case \"function\":\n          openaiTools2.push({\n            type: \"function\",\n            name: tool12.name,\n            description: tool12.description,\n            parameters: tool12.inputSchema,\n            strict: strictJsonSchema\n          });\n          break;\n        case \"provider-defined\": {\n          switch (tool12.id) {\n            case \"openai.file_search\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: fileSearchArgsSchema2\n              });\n              openaiTools2.push({\n                type: \"file_search\",\n                vector_store_ids: args.vectorStoreIds,\n                max_num_results: args.maxNumResults,\n                ranking_options: args.ranking ? {\n                  ranker: args.ranking.ranker,\n                  score_threshold: args.ranking.scoreThreshold\n                } : void 0,\n                filters: args.filters\n              });\n              break;\n            }\n            case \"openai.local_shell\": {\n              openaiTools2.push({\n                type: \"local_shell\"\n              });\n              break;\n            }\n            case \"openai.web_search_preview\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webSearchPreviewArgsSchema2\n              });\n              openaiTools2.push({\n                type: \"web_search_preview\",\n                search_context_size: args.searchContextSize,\n                user_location: args.userLocation\n              });\n              break;\n            }\n            case \"openai.web_search\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: webSearchArgsSchema2\n              });\n              openaiTools2.push({\n                type: \"web_search\",\n                filters: args.filters != null ? { allowed_domains: args.filters.allowedDomains } : void 0,\n                search_context_size: args.searchContextSize,\n                user_location: args.userLocation\n              });\n              break;\n            }\n            case \"openai.code_interpreter\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: codeInterpreterArgsSchema2\n              });\n              openaiTools2.push({\n                type: \"code_interpreter\",\n                container: args.container == null ? { type: \"auto\", file_ids: void 0 } : typeof args.container === \"string\" ? args.container : { type: \"auto\", file_ids: args.container.fileIds }\n              });\n              break;\n            }\n            case \"openai.image_generation\": {\n              const args = yield validateTypes({\n                value: tool12.args,\n                schema: imageGenerationArgsSchema2\n              });\n              openaiTools2.push({\n                type: \"image_generation\",\n                background: args.background,\n                input_fidelity: args.inputFidelity,\n                input_image_mask: args.inputImageMask ? {\n                  file_id: args.inputImageMask.fileId,\n                  image_url: args.inputImageMask.imageUrl\n                } : void 0,\n                model: args.model,\n                size: args.size,\n                quality: args.quality,\n                moderation: args.moderation,\n                output_format: args.outputFormat,\n                output_compression: args.outputCompression\n              });\n              break;\n            }\n          }\n          break;\n        }\n        default:\n          toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n          break;\n      }\n    }\n    if (toolChoice == null) {\n      return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n    }\n    const type = toolChoice.type;\n    switch (type) {\n      case \"auto\":\n      case \"none\":\n      case \"required\":\n        return { tools: openaiTools2, toolChoice: type, toolWarnings };\n      case \"tool\":\n        return {\n          tools: openaiTools2,\n          toolChoice: toolChoice.toolName === \"code_interpreter\" || toolChoice.toolName === \"file_search\" || toolChoice.toolName === \"image_generation\" || toolChoice.toolName === \"web_search_preview\" || toolChoice.toolName === \"web_search\" ? { type: toolChoice.toolName } : { type: \"function\", name: toolChoice.toolName },\n          toolWarnings\n        };\n      default: {\n        const _exhaustiveCheck = type;\n        throw new import_provider42.UnsupportedFunctionalityError({\n          functionality: `tool choice type: ${_exhaustiveCheck}`\n        });\n      }\n    }\n  });\n}\nvar OpenAIResponsesLanguageModel2 = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/],\n      \"application/pdf\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      maxOutputTokens,\n      temperature,\n      stopSequences,\n      topP,\n      topK,\n      presencePenalty,\n      frequencyPenalty,\n      seed,\n      prompt,\n      providerOptions,\n      tools,\n      toolChoice,\n      responseFormat\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const modelConfig = getResponsesModelConfig2(this.modelId);\n      if (topK != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n      }\n      if (seed != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n      }\n      if (presencePenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"presencePenalty\"\n        });\n      }\n      if (frequencyPenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"frequencyPenalty\"\n        });\n      }\n      if (stopSequences != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"stopSequences\" });\n      }\n      const openaiOptions = yield parseProviderOptions({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiResponsesProviderOptionsSchema2\n      });\n      const { input, warnings: inputWarnings } = yield convertToOpenAIResponsesInput2({\n        prompt,\n        systemMessageMode: modelConfig.systemMessageMode,\n        fileIdPrefixes: this.config.fileIdPrefixes,\n        store: (_a = openaiOptions == null ? void 0 : openaiOptions.store) != null ? _a : true,\n        hasLocalShellTool: hasOpenAITool(\"openai.local_shell\")\n      });\n      warnings.push(...inputWarnings);\n      const strictJsonSchema = (_b = openaiOptions == null ? void 0 : openaiOptions.strictJsonSchema) != null ? _b : false;\n      let include = openaiOptions == null ? void 0 : openaiOptions.include;\n      function addInclude(key) {\n        if (include == null) {\n          include = [key];\n        } else if (!include.includes(key)) {\n          include = [...include, key];\n        }\n      }\n      function hasOpenAITool(id) {\n        return (tools == null ? void 0 : tools.find(\n          (tool12) => tool12.type === \"provider-defined\" && tool12.id === id\n        )) != null;\n      }\n      const topLogprobs = typeof (openaiOptions == null ? void 0 : openaiOptions.logprobs) === \"number\" ? openaiOptions == null ? void 0 : openaiOptions.logprobs : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? TOP_LOGPROBS_MAX2 : void 0;\n      if (topLogprobs) {\n        addInclude(\"message.output_text.logprobs\");\n      }\n      const webSearchToolName = (_c = tools == null ? void 0 : tools.find(\n        (tool12) => tool12.type === \"provider-defined\" && (tool12.id === \"openai.web_search\" || tool12.id === \"openai.web_search_preview\")\n      )) == null ? void 0 : _c.name;\n      if (webSearchToolName) {\n        addInclude(\"web_search_call.action.sources\");\n      }\n      if (hasOpenAITool(\"openai.code_interpreter\")) {\n        addInclude(\"code_interpreter_call.outputs\");\n      }\n      const store = openaiOptions == null ? void 0 : openaiOptions.store;\n      if (store === false && modelConfig.isReasoningModel) {\n        addInclude(\"reasoning.encrypted_content\");\n      }\n      const baseArgs = __spreadValues(__spreadProps(__spreadValues({\n        model: this.modelId,\n        input,\n        temperature,\n        top_p: topP,\n        max_output_tokens: maxOutputTokens\n      }, ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" || (openaiOptions == null ? void 0 : openaiOptions.textVerbosity)) && {\n        text: __spreadValues(__spreadValues({}, (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n          format: responseFormat.schema != null ? {\n            type: \"json_schema\",\n            strict: strictJsonSchema,\n            name: (_d = responseFormat.name) != null ? _d : \"response\",\n            description: responseFormat.description,\n            schema: responseFormat.schema\n          } : { type: \"json_object\" }\n        }), (openaiOptions == null ? void 0 : openaiOptions.textVerbosity) && {\n          verbosity: openaiOptions.textVerbosity\n        })\n      }), {\n        // provider options:\n        max_tool_calls: openaiOptions == null ? void 0 : openaiOptions.maxToolCalls,\n        metadata: openaiOptions == null ? void 0 : openaiOptions.metadata,\n        parallel_tool_calls: openaiOptions == null ? void 0 : openaiOptions.parallelToolCalls,\n        previous_response_id: openaiOptions == null ? void 0 : openaiOptions.previousResponseId,\n        store,\n        user: openaiOptions == null ? void 0 : openaiOptions.user,\n        instructions: openaiOptions == null ? void 0 : openaiOptions.instructions,\n        service_tier: openaiOptions == null ? void 0 : openaiOptions.serviceTier,\n        include,\n        prompt_cache_key: openaiOptions == null ? void 0 : openaiOptions.promptCacheKey,\n        safety_identifier: openaiOptions == null ? void 0 : openaiOptions.safetyIdentifier,\n        top_logprobs: topLogprobs,\n        truncation: openaiOptions == null ? void 0 : openaiOptions.truncation\n      }), modelConfig.isReasoningModel && ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null || (openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) && {\n        reasoning: __spreadValues(__spreadValues({}, (openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null && {\n          effort: openaiOptions.reasoningEffort\n        }), (openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null && {\n          summary: openaiOptions.reasoningSummary\n        })\n      });\n      if (modelConfig.isReasoningModel) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n      } else {\n        if ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"reasoningEffort\",\n            details: \"reasoningEffort is not supported for non-reasoning models\"\n          });\n        }\n        if ((openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) {\n          warnings.push({\n            type: \"unsupported-setting\",\n            setting: \"reasoningSummary\",\n            details: \"reasoningSummary is not supported for non-reasoning models\"\n          });\n        }\n      }\n      if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"flex\" && !modelConfig.supportsFlexProcessing) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n        });\n        delete baseArgs.service_tier;\n      }\n      if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"priority\" && !modelConfig.supportsPriorityProcessing) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"serviceTier\",\n          details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n        });\n        delete baseArgs.service_tier;\n      }\n      const {\n        tools: openaiTools2,\n        toolChoice: openaiToolChoice,\n        toolWarnings\n      } = yield prepareResponsesTools2({\n        tools,\n        toolChoice,\n        strictJsonSchema\n      });\n      return {\n        webSearchToolName,\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: openaiTools2,\n          tool_choice: openaiToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings],\n        store\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s;\n      const {\n        args: body,\n        warnings,\n        webSearchToolName\n      } = yield this.getArgs(options);\n      const url = this.config.url({\n        path: \"/responses\",\n        modelId: this.modelId\n      });\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createJsonResponseHandler(\n          openaiResponsesResponseSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      if (response.error) {\n        throw new import_provider40.APICallError({\n          message: response.error.message,\n          url,\n          requestBodyValues: body,\n          statusCode: 400,\n          responseHeaders,\n          responseBody: rawResponse,\n          isRetryable: false\n        });\n      }\n      const content = [];\n      const logprobs = [];\n      let hasFunctionCall = false;\n      for (const part of response.output) {\n        switch (part.type) {\n          case \"reasoning\": {\n            if (part.summary.length === 0) {\n              part.summary.push({ type: \"summary_text\", text: \"\" });\n            }\n            for (const summary of part.summary) {\n              content.push({\n                type: \"reasoning\",\n                text: summary.text,\n                providerMetadata: {\n                  openai: {\n                    itemId: part.id,\n                    reasoningEncryptedContent: (_a = part.encrypted_content) != null ? _a : null\n                  }\n                }\n              });\n            }\n            break;\n          }\n          case \"image_generation_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"image_generation\",\n              input: \"{}\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"image_generation\",\n              result: {\n                result: part.result\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"local_shell_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.call_id,\n              toolName: \"local_shell\",\n              input: JSON.stringify({\n                action: part.action\n              }),\n              providerMetadata: {\n                openai: {\n                  itemId: part.id\n                }\n              }\n            });\n            break;\n          }\n          case \"message\": {\n            for (const contentPart of part.content) {\n              if (((_c = (_b = options.providerOptions) == null ? void 0 : _b.openai) == null ? void 0 : _c.logprobs) && contentPart.logprobs) {\n                logprobs.push(contentPart.logprobs);\n              }\n              content.push({\n                type: \"text\",\n                text: contentPart.text,\n                providerMetadata: {\n                  openai: {\n                    itemId: part.id\n                  }\n                }\n              });\n              for (const annotation of contentPart.annotations) {\n                if (annotation.type === \"url_citation\") {\n                  content.push({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: (_f = (_e = (_d = this.config).generateId) == null ? void 0 : _e.call(_d)) != null ? _f : generateId(),\n                    url: annotation.url,\n                    title: annotation.title\n                  });\n                } else if (annotation.type === \"file_citation\") {\n                  content.push({\n                    type: \"source\",\n                    sourceType: \"document\",\n                    id: (_i = (_h = (_g = this.config).generateId) == null ? void 0 : _h.call(_g)) != null ? _i : generateId(),\n                    mediaType: \"text/plain\",\n                    title: (_k = (_j = annotation.quote) != null ? _j : annotation.filename) != null ? _k : \"Document\",\n                    filename: (_l = annotation.filename) != null ? _l : annotation.file_id\n                  });\n                }\n              }\n            }\n            break;\n          }\n          case \"function_call\": {\n            hasFunctionCall = true;\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.call_id,\n              toolName: part.name,\n              input: part.arguments,\n              providerMetadata: {\n                openai: {\n                  itemId: part.id\n                }\n              }\n            });\n            break;\n          }\n          case \"web_search_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n              input: JSON.stringify({}),\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n              result: mapWebSearchOutput2(part.action),\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"computer_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"computer_use\",\n              input: \"\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"computer_use\",\n              result: {\n                type: \"computer_use_tool_result\",\n                status: part.status || \"completed\"\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"file_search_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"file_search\",\n              input: \"{}\",\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"file_search\",\n              result: {\n                queries: part.queries,\n                results: (_n = (_m = part.results) == null ? void 0 : _m.map((result) => ({\n                  attributes: result.attributes,\n                  fileId: result.file_id,\n                  filename: result.filename,\n                  score: result.score,\n                  text: result.text\n                }))) != null ? _n : null\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n          case \"code_interpreter_call\": {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: \"code_interpreter\",\n              input: JSON.stringify({\n                code: part.code,\n                containerId: part.container_id\n              }),\n              providerExecuted: true\n            });\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.id,\n              toolName: \"code_interpreter\",\n              result: {\n                outputs: part.outputs\n              },\n              providerExecuted: true\n            });\n            break;\n          }\n        }\n      }\n      const providerMetadata = {\n        openai: { responseId: response.id }\n      };\n      if (logprobs.length > 0) {\n        providerMetadata.openai.logprobs = logprobs;\n      }\n      if (typeof response.service_tier === \"string\") {\n        providerMetadata.openai.serviceTier = response.service_tier;\n      }\n      return {\n        content,\n        finishReason: mapOpenAIResponseFinishReason2({\n          finishReason: (_o = response.incomplete_details) == null ? void 0 : _o.reason,\n          hasFunctionCall\n        }),\n        usage: {\n          inputTokens: response.usage.input_tokens,\n          outputTokens: response.usage.output_tokens,\n          totalTokens: response.usage.input_tokens + response.usage.output_tokens,\n          reasoningTokens: (_q = (_p = response.usage.output_tokens_details) == null ? void 0 : _p.reasoning_tokens) != null ? _q : void 0,\n          cachedInputTokens: (_s = (_r = response.usage.input_tokens_details) == null ? void 0 : _r.cached_tokens) != null ? _s : void 0\n        },\n        request: { body },\n        response: {\n          id: response.id,\n          timestamp: new Date(response.created_at * 1e3),\n          modelId: response.model,\n          headers: responseHeaders,\n          body: rawResponse\n        },\n        providerMetadata,\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const {\n        args: body,\n        warnings,\n        webSearchToolName,\n        store\n      } = yield this.getArgs(options);\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/responses\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, body), {\n          stream: true\n        }),\n        failedResponseHandler: openaiFailedResponseHandler2,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          openaiResponsesChunkSchema2\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const self = this;\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      const logprobs = [];\n      let responseId = null;\n      const ongoingToolCalls = {};\n      let hasFunctionCall = false;\n      const activeReasoning = {};\n      let serviceTier;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (isResponseOutputItemAddedChunk2(value)) {\n                if (value.item.type === \"function_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: value.item.name,\n                    toolCallId: value.item.call_id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.call_id,\n                    toolName: value.item.name\n                  });\n                } else if (value.item.type === \"web_search_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n                    toolCallId: value.item.id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: webSearchToolName != null ? webSearchToolName : \"web_search\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"web_search\",\n                    input: JSON.stringify({}),\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"computer_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: \"computer_use\",\n                    toolCallId: value.item.id\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: \"computer_use\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"code_interpreter_call\") {\n                  ongoingToolCalls[value.output_index] = {\n                    toolName: \"code_interpreter\",\n                    toolCallId: value.item.id,\n                    codeInterpreter: {\n                      containerId: value.item.container_id\n                    }\n                  };\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: value.item.id,\n                    toolName: \"code_interpreter\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: value.item.id,\n                    delta: `{\"containerId\":\"${value.item.container_id}\",\"code\":\"`\n                  });\n                } else if (value.item.type === \"file_search_call\") {\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"file_search\",\n                    input: \"{}\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"image_generation_call\") {\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"image_generation\",\n                    input: \"{}\",\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"message\") {\n                  controller.enqueue({\n                    type: \"text-start\",\n                    id: value.item.id,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id\n                      }\n                    }\n                  });\n                } else if (isResponseOutputItemAddedChunk2(value) && value.item.type === \"reasoning\") {\n                  activeReasoning[value.item.id] = {\n                    encryptedContent: value.item.encrypted_content,\n                    summaryParts: { 0: \"active\" }\n                  };\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: `${value.item.id}:0`,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id,\n                        reasoningEncryptedContent: (_a = value.item.encrypted_content) != null ? _a : null\n                      }\n                    }\n                  });\n                }\n              } else if (isResponseOutputItemDoneChunk2(value)) {\n                if (value.item.type === \"function_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  hasFunctionCall = true;\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.call_id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.call_id,\n                    toolName: value.item.name,\n                    input: value.item.arguments,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item.id\n                      }\n                    }\n                  });\n                } else if (value.item.type === \"web_search_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"web_search\",\n                    result: mapWebSearchOutput2(value.item.action),\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"computer_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: value.item.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.id,\n                    toolName: \"computer_use\",\n                    input: \"\",\n                    providerExecuted: true\n                  });\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"computer_use\",\n                    result: {\n                      type: \"computer_use_tool_result\",\n                      status: value.item.status || \"completed\"\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"file_search_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"file_search\",\n                    result: {\n                      queries: value.item.queries,\n                      results: (_c = (_b = value.item.results) == null ? void 0 : _b.map((result) => ({\n                        attributes: result.attributes,\n                        fileId: result.file_id,\n                        filename: result.filename,\n                        score: result.score,\n                        text: result.text\n                      }))) != null ? _c : null\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"code_interpreter_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"code_interpreter\",\n                    result: {\n                      outputs: value.item.outputs\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"image_generation_call\") {\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: value.item.id,\n                    toolName: \"image_generation\",\n                    result: {\n                      result: value.item.result\n                    },\n                    providerExecuted: true\n                  });\n                } else if (value.item.type === \"local_shell_call\") {\n                  ongoingToolCalls[value.output_index] = void 0;\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: value.item.call_id,\n                    toolName: \"local_shell\",\n                    input: JSON.stringify({\n                      action: {\n                        type: \"exec\",\n                        command: value.item.action.command,\n                        timeoutMs: value.item.action.timeout_ms,\n                        user: value.item.action.user,\n                        workingDirectory: value.item.action.working_directory,\n                        env: value.item.action.env\n                      }\n                    }),\n                    providerMetadata: {\n                      openai: { itemId: value.item.id }\n                    }\n                  });\n                } else if (value.item.type === \"message\") {\n                  controller.enqueue({\n                    type: \"text-end\",\n                    id: value.item.id\n                  });\n                } else if (value.item.type === \"reasoning\") {\n                  const activeReasoningPart = activeReasoning[value.item.id];\n                  const summaryPartIndices = Object.entries(\n                    activeReasoningPart.summaryParts\n                  ).filter(\n                    ([_, status]) => status === \"active\" || status === \"can-conclude\"\n                  ).map(([summaryIndex]) => summaryIndex);\n                  for (const summaryIndex of summaryPartIndices) {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: `${value.item.id}:${summaryIndex}`,\n                      providerMetadata: {\n                        openai: {\n                          itemId: value.item.id,\n                          reasoningEncryptedContent: (_d = value.item.encrypted_content) != null ? _d : null\n                        }\n                      }\n                    });\n                  }\n                  delete activeReasoning[value.item.id];\n                }\n              } else if (isResponseFunctionCallArgumentsDeltaChunk2(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: value.delta\n                  });\n                }\n              } else if (isResponseCodeInterpreterCallCodeDeltaChunk2(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    // The delta is code, which is embedding in a JSON string.\n                    // To escape it, we use JSON.stringify and slice to remove the outer quotes.\n                    delta: JSON.stringify(value.delta).slice(1, -1)\n                  });\n                }\n              } else if (isResponseCodeInterpreterCallCodeDoneChunk2(value)) {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if (toolCall != null) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: '\"}'\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.toolCallId\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: toolCall.toolCallId,\n                    toolName: \"code_interpreter\",\n                    input: JSON.stringify({\n                      code: value.code,\n                      containerId: toolCall.codeInterpreter.containerId\n                    }),\n                    providerExecuted: true\n                  });\n                }\n              } else if (isResponseCreatedChunk2(value)) {\n                responseId = value.response.id;\n                controller.enqueue({\n                  type: \"response-metadata\",\n                  id: value.response.id,\n                  timestamp: new Date(value.response.created_at * 1e3),\n                  modelId: value.response.model\n                });\n              } else if (isTextDeltaChunk2(value)) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: value.item_id,\n                  delta: value.delta\n                });\n                if (((_f = (_e = options.providerOptions) == null ? void 0 : _e.openai) == null ? void 0 : _f.logprobs) && value.logprobs) {\n                  logprobs.push(value.logprobs);\n                }\n              } else if (value.type === \"response.reasoning_summary_part.added\") {\n                if (value.summary_index > 0) {\n                  const activeReasoningPart = activeReasoning[value.item_id];\n                  activeReasoningPart.summaryParts[value.summary_index] = \"active\";\n                  for (const summaryIndex of Object.keys(\n                    activeReasoningPart.summaryParts\n                  )) {\n                    if (activeReasoningPart.summaryParts[summaryIndex] === \"can-conclude\") {\n                      controller.enqueue({\n                        type: \"reasoning-end\",\n                        id: `${value.item_id}:${summaryIndex}`,\n                        providerMetadata: { openai: { itemId: value.item_id } }\n                      });\n                      activeReasoningPart.summaryParts[summaryIndex] = \"concluded\";\n                    }\n                  }\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: `${value.item_id}:${value.summary_index}`,\n                    providerMetadata: {\n                      openai: {\n                        itemId: value.item_id,\n                        reasoningEncryptedContent: (_h = (_g = activeReasoning[value.item_id]) == null ? void 0 : _g.encryptedContent) != null ? _h : null\n                      }\n                    }\n                  });\n                }\n              } else if (value.type === \"response.reasoning_summary_text.delta\") {\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: `${value.item_id}:${value.summary_index}`,\n                  delta: value.delta,\n                  providerMetadata: {\n                    openai: {\n                      itemId: value.item_id\n                    }\n                  }\n                });\n              } else if (value.type === \"response.reasoning_summary_part.done\") {\n                if (store) {\n                  controller.enqueue({\n                    type: \"reasoning-end\",\n                    id: `${value.item_id}:${value.summary_index}`,\n                    providerMetadata: {\n                      openai: { itemId: value.item_id }\n                    }\n                  });\n                  activeReasoning[value.item_id].summaryParts[value.summary_index] = \"concluded\";\n                } else {\n                  activeReasoning[value.item_id].summaryParts[value.summary_index] = \"can-conclude\";\n                }\n              } else if (isResponseFinishedChunk2(value)) {\n                finishReason = mapOpenAIResponseFinishReason2({\n                  finishReason: (_i = value.response.incomplete_details) == null ? void 0 : _i.reason,\n                  hasFunctionCall\n                });\n                usage.inputTokens = value.response.usage.input_tokens;\n                usage.outputTokens = value.response.usage.output_tokens;\n                usage.totalTokens = value.response.usage.input_tokens + value.response.usage.output_tokens;\n                usage.reasoningTokens = (_k = (_j = value.response.usage.output_tokens_details) == null ? void 0 : _j.reasoning_tokens) != null ? _k : void 0;\n                usage.cachedInputTokens = (_m = (_l = value.response.usage.input_tokens_details) == null ? void 0 : _l.cached_tokens) != null ? _m : void 0;\n                if (typeof value.response.service_tier === \"string\") {\n                  serviceTier = value.response.service_tier;\n                }\n              } else if (isResponseAnnotationAddedChunk2(value)) {\n                if (value.annotation.type === \"url_citation\") {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: (_p = (_o = (_n = self.config).generateId) == null ? void 0 : _o.call(_n)) != null ? _p : generateId(),\n                    url: value.annotation.url,\n                    title: value.annotation.title\n                  });\n                } else if (value.annotation.type === \"file_citation\") {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"document\",\n                    id: (_s = (_r = (_q = self.config).generateId) == null ? void 0 : _r.call(_q)) != null ? _s : generateId(),\n                    mediaType: \"text/plain\",\n                    title: (_u = (_t = value.annotation.quote) != null ? _t : value.annotation.filename) != null ? _u : \"Document\",\n                    filename: (_v = value.annotation.filename) != null ? _v : value.annotation.file_id\n                  });\n                }\n              } else if (isErrorChunk2(value)) {\n                controller.enqueue({ type: \"error\", error: value });\n              }\n            },\n            flush(controller) {\n              const providerMetadata = {\n                openai: {\n                  responseId\n                }\n              };\n              if (logprobs.length > 0) {\n                providerMetadata.openai.logprobs = logprobs;\n              }\n              if (serviceTier !== void 0) {\n                providerMetadata.openai.serviceTier = serviceTier;\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage,\n                providerMetadata\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction isTextDeltaChunk2(chunk) {\n  return chunk.type === \"response.output_text.delta\";\n}\nfunction isResponseOutputItemDoneChunk2(chunk) {\n  return chunk.type === \"response.output_item.done\";\n}\nfunction isResponseFinishedChunk2(chunk) {\n  return chunk.type === \"response.completed\" || chunk.type === \"response.incomplete\";\n}\nfunction isResponseCreatedChunk2(chunk) {\n  return chunk.type === \"response.created\";\n}\nfunction isResponseFunctionCallArgumentsDeltaChunk2(chunk) {\n  return chunk.type === \"response.function_call_arguments.delta\";\n}\nfunction isResponseCodeInterpreterCallCodeDeltaChunk2(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.delta\";\n}\nfunction isResponseCodeInterpreterCallCodeDoneChunk2(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.done\";\n}\nfunction isResponseOutputItemAddedChunk2(chunk) {\n  return chunk.type === \"response.output_item.added\";\n}\nfunction isResponseAnnotationAddedChunk2(chunk) {\n  return chunk.type === \"response.output_text.annotation.added\";\n}\nfunction isErrorChunk2(chunk) {\n  return chunk.type === \"error\";\n}\nfunction getResponsesModelConfig2(modelId) {\n  const supportsFlexProcessing22 = modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n  const supportsPriorityProcessing22 = modelId.startsWith(\"gpt-4\") || modelId.startsWith(\"gpt-5-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-nano\") && !modelId.startsWith(\"gpt-5-chat\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\");\n  const defaults2 = {\n    systemMessageMode: \"system\",\n    supportsFlexProcessing: supportsFlexProcessing22,\n    supportsPriorityProcessing: supportsPriorityProcessing22\n  };\n  if (modelId.startsWith(\"gpt-5-chat\")) {\n    return __spreadProps(__spreadValues({}, defaults2), {\n      isReasoningModel: false\n    });\n  }\n  if (modelId.startsWith(\"o\") || modelId.startsWith(\"gpt-5\") || modelId.startsWith(\"codex-\") || modelId.startsWith(\"computer-use\")) {\n    if (modelId.startsWith(\"o1-mini\") || modelId.startsWith(\"o1-preview\")) {\n      return __spreadProps(__spreadValues({}, defaults2), {\n        isReasoningModel: true,\n        systemMessageMode: \"remove\"\n      });\n    }\n    return __spreadProps(__spreadValues({}, defaults2), {\n      isReasoningModel: true,\n      systemMessageMode: \"developer\"\n    });\n  }\n  return __spreadProps(__spreadValues({}, defaults2), {\n    isReasoningModel: false\n  });\n}\nfunction mapWebSearchOutput2(action) {\n  var _a;\n  switch (action.type) {\n    case \"search\":\n      return { action: { type: \"search\", query: (_a = action.query) != null ? _a : void 0 } };\n    case \"open_page\":\n      return { action: { type: \"openPage\", url: action.url } };\n    case \"find\":\n      return {\n        action: { type: \"find\", url: action.url, pattern: action.pattern }\n      };\n  }\n}\n\n// ../../node_modules/.pnpm/@ai-sdk+azure@2.0.54_zod@3.25.67/node_modules/@ai-sdk/azure/dist/index.mjs\nvar azureOpenaiTools = {\n  codeInterpreter: codeInterpreter2,\n  fileSearch: fileSearch2,\n  imageGeneration: imageGeneration2\n};\nvar VERSION6 = true ? \"2.0.54\" : \"0.0.0-test\";\nfunction createAzure(options = {}) {\n  var _a;\n  const getHeaders = () => {\n    const baseHeaders = __spreadValues({\n      \"api-key\": loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"AZURE_API_KEY\",\n        description: \"Azure OpenAI\"\n      })\n    }, options.headers);\n    return withUserAgentSuffix(baseHeaders, `ai-sdk/azure/${VERSION6}`);\n  };\n  const getResourceName = () => loadSetting({\n    settingValue: options.resourceName,\n    settingName: \"resourceName\",\n    environmentVariableName: \"AZURE_RESOURCE_NAME\",\n    description: \"Azure OpenAI resource name\"\n  });\n  const apiVersion = (_a = options.apiVersion) != null ? _a : \"v1\";\n  const url = ({ path: path7, modelId }) => {\n    var _a2;\n    const baseUrlPrefix = (_a2 = options.baseURL) != null ? _a2 : `https://${getResourceName()}.openai.azure.com/openai`;\n    let fullUrl;\n    if (options.useDeploymentBasedUrls) {\n      fullUrl = new URL(`${baseUrlPrefix}/deployments/${modelId}${path7}`);\n    } else {\n      fullUrl = new URL(`${baseUrlPrefix}/v1${path7}`);\n    }\n    fullUrl.searchParams.set(\"api-version\", apiVersion);\n    return fullUrl.toString();\n  };\n  const createChatModel = (deploymentName) => new OpenAIChatLanguageModel2(deploymentName, {\n    provider: \"azure.chat\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createCompletionModel = (modelId) => new OpenAICompletionLanguageModel2(modelId, {\n    provider: \"azure.completion\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createEmbeddingModel = (modelId) => new OpenAIEmbeddingModel2(modelId, {\n    provider: \"azure.embeddings\",\n    headers: getHeaders,\n    url,\n    fetch: options.fetch\n  });\n  const createResponsesModel = (modelId) => new OpenAIResponsesLanguageModel2(modelId, {\n    provider: \"azure.responses\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch,\n    fileIdPrefixes: [\"assistant-\"]\n  });\n  const createImageModel = (modelId) => new OpenAIImageModel2(modelId, {\n    provider: \"azure.image\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createTranscriptionModel = (modelId) => new OpenAITranscriptionModel2(modelId, {\n    provider: \"azure.transcription\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createSpeechModel = (modelId) => new OpenAISpeechModel2(modelId, {\n    provider: \"azure.speech\",\n    url,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const provider = function(deploymentId) {\n    if (new.target) {\n      throw new Error(\n        \"The Azure OpenAI model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(deploymentId);\n  };\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.completion = createCompletionModel;\n  provider.embedding = createEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.responses = createResponsesModel;\n  provider.transcription = createTranscriptionModel;\n  provider.speech = createSpeechModel;\n  provider.tools = azureOpenaiTools;\n  return provider;\n}\nvar azure = createAzure();\n\n// ../../node_modules/.pnpm/@ai-sdk+groq@2.0.24_zod@3.25.67/node_modules/@ai-sdk/groq/dist/index.mjs\nvar import_provider43 = require(\"@ai-sdk/provider\");\nvar import_provider44 = require(\"@ai-sdk/provider\");\nvar import_v477 = require(\"zod/v4\");\nvar import_provider45 = require(\"@ai-sdk/provider\");\nvar import_v478 = require(\"zod/v4\");\nvar import_v479 = require(\"zod/v4\");\nvar import_provider46 = require(\"@ai-sdk/provider\");\nvar import_v480 = require(\"zod/v4\");\nvar import_v481 = require(\"zod/v4\");\nfunction convertToGroqChatMessages(prompt) {\n  const messages = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content });\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part) => {\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (!part.mediaType.startsWith(\"image/\")) {\n                  throw new import_provider45.UnsupportedFunctionalityError({\n                    functionality: \"Non-image file content parts\"\n                  });\n                }\n                const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                return {\n                  type: \"image_url\",\n                  image_url: {\n                    url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                  }\n                };\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        let reasoning = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            // groq supports reasoning for tool-calls in multi-turn conversations\n            // https://github.com/vercel/ai/issues/7860\n            case \"reasoning\": {\n              reasoning += part.text;\n              break;\n            }\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push(__spreadValues(__spreadValues({\n          role: \"assistant\",\n          content: text\n        }, reasoning.length > 0 ? { reasoning } : null), toolCalls.length > 0 ? { tool_calls: toolCalls } : null));\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\nfunction getResponseMetadata6({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nvar groqProviderOptions = import_v478.z.object({\n  reasoningFormat: import_v478.z.enum([\"parsed\", \"raw\", \"hidden\"]).optional(),\n  reasoningEffort: import_v478.z.string().optional(),\n  /**\n   * Whether to enable parallel function calling during tool use. Default to true.\n   */\n  parallelToolCalls: import_v478.z.boolean().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help OpenAI to\n   * monitor and detect abuse. Learn more.\n   */\n  user: import_v478.z.string().optional(),\n  /**\n   * Whether to use structured outputs.\n   *\n   * @default true\n   */\n  structuredOutputs: import_v478.z.boolean().optional(),\n  /**\n   * Service tier for the request.\n   * - 'on_demand': Default tier with consistent performance and fairness\n   * - 'flex': Higher throughput tier optimized for workloads that can handle occasional request failures\n   * - 'auto': Uses on_demand rate limits, then falls back to flex tier if exceeded\n   *\n   * @default 'on_demand'\n   */\n  serviceTier: import_v478.z.enum([\"on_demand\", \"flex\", \"auto\"]).optional()\n});\nvar groqErrorDataSchema = import_v479.z.object({\n  error: import_v479.z.object({\n    message: import_v479.z.string(),\n    type: import_v479.z.string()\n  })\n});\nvar groqFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: groqErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nvar BROWSER_SEARCH_SUPPORTED_MODELS = [\n  \"openai/gpt-oss-20b\",\n  \"openai/gpt-oss-120b\"\n];\nfunction isBrowserSearchSupportedModel(modelId) {\n  return BROWSER_SEARCH_SUPPORTED_MODELS.includes(modelId);\n}\nfunction getSupportedModelsString() {\n  return BROWSER_SEARCH_SUPPORTED_MODELS.join(\", \");\n}\nfunction prepareTools5({\n  tools,\n  toolChoice,\n  modelId\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const groqTools2 = [];\n  for (const tool12 of tools) {\n    if (tool12.type === \"provider-defined\") {\n      if (tool12.id === \"groq.browser_search\") {\n        if (!isBrowserSearchSupportedModel(modelId)) {\n          toolWarnings.push({\n            type: \"unsupported-tool\",\n            tool: tool12,\n            details: `Browser search is only supported on the following models: ${getSupportedModelsString()}. Current model: ${modelId}`\n          });\n        } else {\n          groqTools2.push({\n            type: \"browser_search\"\n          });\n        }\n      } else {\n        toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n      }\n    } else {\n      groqTools2.push({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: tool12.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: groqTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: groqTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: groqTools2,\n        toolChoice: {\n          type: \"function\",\n          function: {\n            name: toolChoice.toolName\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider46.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nfunction mapGroqFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar GroqChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      stream,\n      tools,\n      toolChoice,\n      providerOptions\n    }) {\n      var _a, _b;\n      const warnings = [];\n      const groqOptions = yield parseProviderOptions({\n        provider: \"groq\",\n        providerOptions,\n        schema: groqProviderOptions\n      });\n      const structuredOutputs = (_a = groqOptions == null ? void 0 : groqOptions.structuredOutputs) != null ? _a : true;\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !structuredOutputs) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format schema is only supported with structuredOutputs\"\n        });\n      }\n      const {\n        tools: groqTools2,\n        toolChoice: groqToolChoice,\n        toolWarnings\n      } = prepareTools5({ tools, toolChoice, modelId: this.modelId });\n      return {\n        args: {\n          // model id:\n          model: this.modelId,\n          // model specific settings:\n          user: groqOptions == null ? void 0 : groqOptions.user,\n          parallel_tool_calls: groqOptions == null ? void 0 : groqOptions.parallelToolCalls,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          stop: stopSequences,\n          seed,\n          // response format:\n          response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? structuredOutputs && responseFormat.schema != null ? {\n            type: \"json_schema\",\n            json_schema: {\n              schema: responseFormat.schema,\n              name: (_b = responseFormat.name) != null ? _b : \"response\",\n              description: responseFormat.description\n            }\n          } : { type: \"json_object\" } : void 0,\n          // provider options:\n          reasoning_format: groqOptions == null ? void 0 : groqOptions.reasoningFormat,\n          reasoning_effort: groqOptions == null ? void 0 : groqOptions.reasoningEffort,\n          service_tier: groqOptions == null ? void 0 : groqOptions.serviceTier,\n          // messages:\n          messages: convertToGroqChatMessages(prompt),\n          // tools:\n          tools: groqTools2,\n          tool_choice: groqToolChoice\n        },\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n      const { args, warnings } = yield this.getArgs(__spreadProps(__spreadValues({}, options), {\n        stream: false\n      }));\n      const body = JSON.stringify(args);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: args,\n        failedResponseHandler: groqFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          groqChatResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      const text = choice.message.content;\n      if (text != null && text.length > 0) {\n        content.push({ type: \"text\", text });\n      }\n      const reasoning = choice.message.reasoning;\n      if (reasoning != null && reasoning.length > 0) {\n        content.push({\n          type: \"reasoning\",\n          text: reasoning\n        });\n      }\n      if (choice.message.tool_calls != null) {\n        for (const toolCall of choice.message.tool_calls) {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: (_a = toolCall.id) != null ? _a : generateId(),\n            toolName: toolCall.function.name,\n            input: toolCall.function.arguments\n          });\n        }\n      }\n      return {\n        content,\n        finishReason: mapGroqFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: (_c = (_b = response.usage) == null ? void 0 : _b.prompt_tokens) != null ? _c : void 0,\n          outputTokens: (_e = (_d = response.usage) == null ? void 0 : _d.completion_tokens) != null ? _e : void 0,\n          totalTokens: (_g = (_f = response.usage) == null ? void 0 : _f.total_tokens) != null ? _g : void 0,\n          cachedInputTokens: (_j = (_i = (_h = response.usage) == null ? void 0 : _h.prompt_tokens_details) == null ? void 0 : _i.cached_tokens) != null ? _j : void 0\n        },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata6(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings,\n        request: { body }\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(__spreadProps(__spreadValues({}, options), { stream: true }));\n      const body = JSON.stringify(__spreadProps(__spreadValues({}, args), { stream: true }));\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat/completions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, args), {\n          stream: true\n        }),\n        failedResponseHandler: groqFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(groqChatChunkSchema),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const toolCalls = [];\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0,\n        cachedInputTokens: void 0\n      };\n      let isFirstChunk = true;\n      let isActiveText = false;\n      let isActiveReasoning = false;\n      let providerMetadata;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata6(value)));\n              }\n              if (((_a = value.x_groq) == null ? void 0 : _a.usage) != null) {\n                usage.inputTokens = (_b = value.x_groq.usage.prompt_tokens) != null ? _b : void 0;\n                usage.outputTokens = (_c = value.x_groq.usage.completion_tokens) != null ? _c : void 0;\n                usage.totalTokens = (_d = value.x_groq.usage.total_tokens) != null ? _d : void 0;\n                usage.cachedInputTokens = (_f = (_e = value.x_groq.usage.prompt_tokens_details) == null ? void 0 : _e.cached_tokens) != null ? _f : void 0;\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapGroqFinishReason(choice.finish_reason);\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              if (delta.reasoning != null && delta.reasoning.length > 0) {\n                if (!isActiveReasoning) {\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: \"reasoning-0\"\n                  });\n                  isActiveReasoning = true;\n                }\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: \"reasoning-0\",\n                  delta: delta.reasoning\n                });\n              }\n              if (delta.content != null && delta.content.length > 0) {\n                if (!isActiveText) {\n                  controller.enqueue({ type: \"text-start\", id: \"txt-0\" });\n                  isActiveText = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"txt-0\",\n                  delta: delta.content\n                });\n              }\n              if (delta.tool_calls != null) {\n                for (const toolCallDelta of delta.tool_calls) {\n                  const index = toolCallDelta.index;\n                  if (toolCalls[index] == null) {\n                    if (toolCallDelta.type !== \"function\") {\n                      throw new import_provider44.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function' type.`\n                      });\n                    }\n                    if (toolCallDelta.id == null) {\n                      throw new import_provider44.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'id' to be a string.`\n                      });\n                    }\n                    if (((_g = toolCallDelta.function) == null ? void 0 : _g.name) == null) {\n                      throw new import_provider44.InvalidResponseDataError({\n                        data: toolCallDelta,\n                        message: `Expected 'function.name' to be a string.`\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: toolCallDelta.id,\n                      toolName: toolCallDelta.function.name\n                    });\n                    toolCalls[index] = {\n                      id: toolCallDelta.id,\n                      type: \"function\",\n                      function: {\n                        name: toolCallDelta.function.name,\n                        arguments: (_h = toolCallDelta.function.arguments) != null ? _h : \"\"\n                      },\n                      hasFinished: false\n                    };\n                    const toolCall2 = toolCalls[index];\n                    if (((_i = toolCall2.function) == null ? void 0 : _i.name) != null && ((_j = toolCall2.function) == null ? void 0 : _j.arguments) != null) {\n                      if (toolCall2.function.arguments.length > 0) {\n                        controller.enqueue({\n                          type: \"tool-input-delta\",\n                          id: toolCall2.id,\n                          delta: toolCall2.function.arguments\n                        });\n                      }\n                      if (isParsableJson(toolCall2.function.arguments)) {\n                        controller.enqueue({\n                          type: \"tool-input-end\",\n                          id: toolCall2.id\n                        });\n                        controller.enqueue({\n                          type: \"tool-call\",\n                          toolCallId: (_k = toolCall2.id) != null ? _k : generateId(),\n                          toolName: toolCall2.function.name,\n                          input: toolCall2.function.arguments\n                        });\n                        toolCall2.hasFinished = true;\n                      }\n                    }\n                    continue;\n                  }\n                  const toolCall = toolCalls[index];\n                  if (toolCall.hasFinished) {\n                    continue;\n                  }\n                  if (((_l = toolCallDelta.function) == null ? void 0 : _l.arguments) != null) {\n                    toolCall.function.arguments += (_n = (_m = toolCallDelta.function) == null ? void 0 : _m.arguments) != null ? _n : \"\";\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.id,\n                    delta: (_o = toolCallDelta.function.arguments) != null ? _o : \"\"\n                  });\n                  if (((_p = toolCall.function) == null ? void 0 : _p.name) != null && ((_q = toolCall.function) == null ? void 0 : _q.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: toolCall.id\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: (_r = toolCall.id) != null ? _r : generateId(),\n                      toolName: toolCall.function.name,\n                      input: toolCall.function.arguments\n                    });\n                    toolCall.hasFinished = true;\n                  }\n                }\n              }\n            },\n            flush(controller) {\n              if (isActiveReasoning) {\n                controller.enqueue({ type: \"reasoning-end\", id: \"reasoning-0\" });\n              }\n              if (isActiveText) {\n                controller.enqueue({ type: \"text-end\", id: \"txt-0\" });\n              }\n              controller.enqueue(__spreadValues({\n                type: \"finish\",\n                finishReason,\n                usage\n              }, providerMetadata != null ? { providerMetadata } : {}));\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar groqChatResponseSchema = import_v477.z.object({\n  id: import_v477.z.string().nullish(),\n  created: import_v477.z.number().nullish(),\n  model: import_v477.z.string().nullish(),\n  choices: import_v477.z.array(\n    import_v477.z.object({\n      message: import_v477.z.object({\n        content: import_v477.z.string().nullish(),\n        reasoning: import_v477.z.string().nullish(),\n        tool_calls: import_v477.z.array(\n          import_v477.z.object({\n            id: import_v477.z.string().nullish(),\n            type: import_v477.z.literal(\"function\"),\n            function: import_v477.z.object({\n              name: import_v477.z.string(),\n              arguments: import_v477.z.string()\n            })\n          })\n        ).nullish()\n      }),\n      index: import_v477.z.number(),\n      finish_reason: import_v477.z.string().nullish()\n    })\n  ),\n  usage: import_v477.z.object({\n    prompt_tokens: import_v477.z.number().nullish(),\n    completion_tokens: import_v477.z.number().nullish(),\n    total_tokens: import_v477.z.number().nullish(),\n    prompt_tokens_details: import_v477.z.object({\n      cached_tokens: import_v477.z.number().nullish()\n    }).nullish()\n  }).nullish()\n});\nvar groqChatChunkSchema = import_v477.z.union([\n  import_v477.z.object({\n    id: import_v477.z.string().nullish(),\n    created: import_v477.z.number().nullish(),\n    model: import_v477.z.string().nullish(),\n    choices: import_v477.z.array(\n      import_v477.z.object({\n        delta: import_v477.z.object({\n          content: import_v477.z.string().nullish(),\n          reasoning: import_v477.z.string().nullish(),\n          tool_calls: import_v477.z.array(\n            import_v477.z.object({\n              index: import_v477.z.number(),\n              id: import_v477.z.string().nullish(),\n              type: import_v477.z.literal(\"function\").optional(),\n              function: import_v477.z.object({\n                name: import_v477.z.string().nullish(),\n                arguments: import_v477.z.string().nullish()\n              })\n            })\n          ).nullish()\n        }).nullish(),\n        finish_reason: import_v477.z.string().nullable().optional(),\n        index: import_v477.z.number()\n      })\n    ),\n    x_groq: import_v477.z.object({\n      usage: import_v477.z.object({\n        prompt_tokens: import_v477.z.number().nullish(),\n        completion_tokens: import_v477.z.number().nullish(),\n        total_tokens: import_v477.z.number().nullish(),\n        prompt_tokens_details: import_v477.z.object({\n          cached_tokens: import_v477.z.number().nullish()\n        }).nullish()\n      }).nullish()\n    }).nullish()\n  }),\n  groqErrorDataSchema\n]);\nvar groqProviderOptionsSchema = import_v480.z.object({\n  language: import_v480.z.string().nullish(),\n  prompt: import_v480.z.string().nullish(),\n  responseFormat: import_v480.z.string().nullish(),\n  temperature: import_v480.z.number().min(0).max(1).nullish(),\n  timestampGranularities: import_v480.z.array(import_v480.z.string()).nullish()\n});\nvar GroqTranscriptionModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      audio,\n      mediaType,\n      providerOptions\n    }) {\n      var _a, _b, _c, _d, _e;\n      const warnings = [];\n      const groqOptions = yield parseProviderOptions({\n        provider: \"groq\",\n        providerOptions,\n        schema: groqProviderOptionsSchema\n      });\n      const formData = new FormData();\n      const blob = audio instanceof Uint8Array ? new Blob([audio]) : new Blob([convertBase64ToUint8Array(audio)]);\n      formData.append(\"model\", this.modelId);\n      const fileExtension = mediaTypeToExtension(mediaType);\n      formData.append(\n        \"file\",\n        new File([blob], \"audio\", { type: mediaType }),\n        `audio.${fileExtension}`\n      );\n      if (groqOptions) {\n        const transcriptionModelOptions = {\n          language: (_a = groqOptions.language) != null ? _a : void 0,\n          prompt: (_b = groqOptions.prompt) != null ? _b : void 0,\n          response_format: (_c = groqOptions.responseFormat) != null ? _c : void 0,\n          temperature: (_d = groqOptions.temperature) != null ? _d : void 0,\n          timestamp_granularities: (_e = groqOptions.timestampGranularities) != null ? _e : void 0\n        };\n        for (const key in transcriptionModelOptions) {\n          const value = transcriptionModelOptions[key];\n          if (value !== void 0) {\n            formData.append(key, String(value));\n          }\n        }\n      }\n      return {\n        formData,\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g;\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const { formData, warnings } = yield this.getArgs(options);\n      const {\n        value: response,\n        responseHeaders,\n        rawValue: rawResponse\n      } = yield postFormDataToApi({\n        url: this.config.url({\n          path: \"/audio/transcriptions\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        formData,\n        failedResponseHandler: groqFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          groqTranscriptionResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        text: response.text,\n        segments: (_e = (_d = response.segments) == null ? void 0 : _d.map((segment) => ({\n          text: segment.text,\n          startSecond: segment.start,\n          endSecond: segment.end\n        }))) != null ? _e : [],\n        language: (_f = response.language) != null ? _f : void 0,\n        durationInSeconds: (_g = response.duration) != null ? _g : void 0,\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders,\n          body: rawResponse\n        }\n      };\n    });\n  }\n};\nvar groqTranscriptionResponseSchema = import_v480.z.object({\n  text: import_v480.z.string(),\n  x_groq: import_v480.z.object({\n    id: import_v480.z.string()\n  }),\n  // additional properties are returned when `response_format: 'verbose_json'` is\n  task: import_v480.z.string().nullish(),\n  language: import_v480.z.string().nullish(),\n  duration: import_v480.z.number().nullish(),\n  segments: import_v480.z.array(\n    import_v480.z.object({\n      id: import_v480.z.number(),\n      seek: import_v480.z.number(),\n      start: import_v480.z.number(),\n      end: import_v480.z.number(),\n      text: import_v480.z.string(),\n      tokens: import_v480.z.array(import_v480.z.number()),\n      temperature: import_v480.z.number(),\n      avg_logprob: import_v480.z.number(),\n      compression_ratio: import_v480.z.number(),\n      no_speech_prob: import_v480.z.number()\n    })\n  ).nullish()\n});\nvar browserSearch = createProviderDefinedToolFactory({\n  id: \"groq.browser_search\",\n  name: \"browser_search\",\n  inputSchema: import_v481.z.object({})\n});\nvar groqTools = {\n  browserSearch\n};\nvar VERSION7 = true ? \"2.0.24\" : \"0.0.0-test\";\nfunction createGroq(options = {}) {\n  var _a;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://api.groq.com/openai/v1\";\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"GROQ_API_KEY\",\n        description: \"Groq\"\n      })}`\n    }, options.headers),\n    `ai-sdk/groq/${VERSION7}`\n  );\n  const createChatModel = (modelId) => new GroqChatLanguageModel(modelId, {\n    provider: \"groq.chat\",\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => {\n    if (new.target) {\n      throw new Error(\n        \"The Groq model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  const createTranscriptionModel = (modelId) => {\n    return new GroqTranscriptionModel(modelId, {\n      provider: \"groq.transcription\",\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch\n    });\n  };\n  const provider = function(modelId) {\n    return createLanguageModel(modelId);\n  };\n  provider.languageModel = createLanguageModel;\n  provider.chat = createChatModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider43.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new import_provider43.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  provider.transcription = createTranscriptionModel;\n  provider.transcriptionModel = createTranscriptionModel;\n  provider.tools = groqTools;\n  return provider;\n}\nvar groq = createGroq();\n\n// ../../node_modules/.pnpm/@ai-sdk+cerebras@1.0.25_zod@3.25.67/node_modules/@ai-sdk/cerebras/dist/index.mjs\nvar import_provider47 = require(\"@ai-sdk/provider\");\nvar import_v482 = require(\"zod/v4\");\nvar VERSION8 = true ? \"1.0.25\" : \"0.0.0-test\";\nvar cerebrasErrorSchema = import_v482.z.object({\n  message: import_v482.z.string(),\n  type: import_v482.z.string(),\n  param: import_v482.z.string(),\n  code: import_v482.z.string()\n});\nvar cerebrasErrorStructure = {\n  errorSchema: cerebrasErrorSchema,\n  errorToMessage: (data) => data.message\n};\nfunction createCerebras(options = {}) {\n  var _a;\n  const baseURL = withoutTrailingSlash(\n    (_a = options.baseURL) != null ? _a : \"https://api.cerebras.ai/v1\"\n  );\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"CEREBRAS_API_KEY\",\n        description: \"Cerebras API key\"\n      })}`\n    }, options.headers),\n    `ai-sdk/cerebras/${VERSION8}`\n  );\n  const createLanguageModel = (modelId) => {\n    return new OpenAICompatibleChatLanguageModel(modelId, {\n      provider: `cerebras.chat`,\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch,\n      errorStructure: cerebrasErrorStructure,\n      supportsStructuredOutputs: true\n    });\n  };\n  const provider = (modelId) => createLanguageModel(modelId);\n  provider.languageModel = createLanguageModel;\n  provider.chat = createLanguageModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider47.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new import_provider47.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  return provider;\n}\nvar cerebras = createCerebras();\n\n// ../../node_modules/.pnpm/@ai-sdk+togetherai@1.0.23_zod@3.25.67/node_modules/@ai-sdk/togetherai/dist/index.mjs\nvar import_v483 = require(\"zod/v4\");\nvar TogetherAIImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.maxImagesPerCall = 1;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      n,\n      size,\n      seed,\n      providerOptions,\n      headers,\n      abortSignal\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      if (size != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"aspectRatio\",\n          details: \"This model does not support the `aspectRatio` option. Use `size` instead.\"\n        });\n      }\n      const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n      const splitSize = size == null ? void 0 : size.split(\"x\");\n      const { value: response, responseHeaders } = yield postJsonToApi({\n        url: `${this.config.baseURL}/images/generations`,\n        headers: combineHeaders(this.config.headers(), headers),\n        body: __spreadValues(__spreadProps(__spreadValues({\n          model: this.modelId,\n          prompt,\n          seed,\n          n\n        }, splitSize && {\n          width: parseInt(splitSize[0]),\n          height: parseInt(splitSize[1])\n        }), {\n          response_format: \"base64\"\n        }), (_d = providerOptions.togetherai) != null ? _d : {}),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: togetheraiErrorSchema,\n          errorToMessage: (data) => data.error.message\n        }),\n        successfulResponseHandler: createJsonResponseHandler(\n          togetheraiImageResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response.data.map((item) => item.b64_json),\n        warnings,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders\n        }\n      };\n    });\n  }\n};\nvar togetheraiImageResponseSchema = import_v483.z.object({\n  data: import_v483.z.array(\n    import_v483.z.object({\n      b64_json: import_v483.z.string()\n    })\n  )\n});\nvar togetheraiErrorSchema = import_v483.z.object({\n  error: import_v483.z.object({\n    message: import_v483.z.string()\n  })\n});\nvar VERSION9 = true ? \"1.0.23\" : \"0.0.0-test\";\nfunction createTogetherAI(options = {}) {\n  var _a;\n  const baseURL = withoutTrailingSlash(\n    (_a = options.baseURL) != null ? _a : \"https://api.together.xyz/v1/\"\n  );\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"TOGETHER_AI_API_KEY\",\n        description: \"TogetherAI\"\n      })}`\n    }, options.headers),\n    `ai-sdk/togetherai/${VERSION9}`\n  );\n  const getCommonModelConfig = (modelType) => ({\n    provider: `togetherai.${modelType}`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createChatModel = (modelId) => {\n    return new OpenAICompatibleChatLanguageModel(\n      modelId,\n      getCommonModelConfig(\"chat\")\n    );\n  };\n  const createCompletionModel = (modelId) => new OpenAICompatibleCompletionLanguageModel(\n    modelId,\n    getCommonModelConfig(\"completion\")\n  );\n  const createTextEmbeddingModel = (modelId) => new OpenAICompatibleEmbeddingModel(\n    modelId,\n    getCommonModelConfig(\"embedding\")\n  );\n  const createImageModel = (modelId) => new TogetherAIImageModel(modelId, __spreadProps(__spreadValues({}, getCommonModelConfig(\"image\")), {\n    baseURL: baseURL != null ? baseURL : \"https://api.together.xyz/v1/\"\n  }));\n  const provider = (modelId) => createChatModel(modelId);\n  provider.completionModel = createCompletionModel;\n  provider.languageModel = createChatModel;\n  provider.chatModel = createChatModel;\n  provider.textEmbeddingModel = createTextEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  return provider;\n}\nvar togetherai = createTogetherAI();\n\n// ../../node_modules/.pnpm/@ai-sdk+mistral@2.0.19_zod@3.25.67/node_modules/@ai-sdk/mistral/dist/index.mjs\nvar import_provider48 = require(\"@ai-sdk/provider\");\nvar import_v484 = require(\"zod/v4\");\nvar import_provider49 = require(\"@ai-sdk/provider\");\nvar import_v485 = require(\"zod/v4\");\nvar import_v486 = require(\"zod/v4\");\nvar import_provider50 = require(\"@ai-sdk/provider\");\nvar import_provider51 = require(\"@ai-sdk/provider\");\nvar import_v487 = require(\"zod/v4\");\nfunction convertToMistralChatMessages(prompt) {\n  const messages = [];\n  for (let i = 0; i < prompt.length; i++) {\n    const { role, content } = prompt[i];\n    const isLastMessage = i === prompt.length - 1;\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content });\n        break;\n      }\n      case \"user\": {\n        messages.push({\n          role: \"user\",\n          content: content.map((part) => {\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                  };\n                } else if (part.mediaType === \"application/pdf\") {\n                  return {\n                    type: \"document_url\",\n                    document_url: part.data.toString()\n                  };\n                } else {\n                  throw new import_provider49.UnsupportedFunctionalityError({\n                    functionality: \"Only images and PDF file parts are supported\"\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n            case \"reasoning\": {\n              text += part.text;\n              break;\n            }\n            default: {\n              throw new Error(\n                `Unsupported content type in assistant message: ${part.type}`\n              );\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          prefix: isLastMessage ? true : void 0,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            name: toolResponse.toolName,\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\nfunction getResponseMetadata7({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\nfunction mapMistralFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n    case \"model_length\":\n      return \"length\";\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nvar mistralLanguageModelOptions = import_v485.z.object({\n  /**\n  Whether to inject a safety prompt before all conversations.\n  \n  Defaults to `false`.\n     */\n  safePrompt: import_v485.z.boolean().optional(),\n  documentImageLimit: import_v485.z.number().optional(),\n  documentPageLimit: import_v485.z.number().optional(),\n  /**\n   * Whether to use structured outputs.\n   *\n   * @default true\n   */\n  structuredOutputs: import_v485.z.boolean().optional(),\n  /**\n   * Whether to use strict JSON schema validation.\n   *\n   * @default false\n   */\n  strictJsonSchema: import_v485.z.boolean().optional(),\n  /**\n   * Whether to enable parallel function calling during tool use.\n   * When set to false, the model will use at most one tool per response.\n   *\n   * @default true\n   */\n  parallelToolCalls: import_v485.z.boolean().optional()\n});\nvar mistralErrorDataSchema = import_v486.z.object({\n  object: import_v486.z.literal(\"error\"),\n  message: import_v486.z.string(),\n  type: import_v486.z.string(),\n  param: import_v486.z.string().nullable(),\n  code: import_v486.z.string().nullable()\n});\nvar mistralFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: mistralErrorDataSchema,\n  errorToMessage: (data) => data.message\n});\nfunction prepareTools6({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const mistralTools = [];\n  for (const tool12 of tools) {\n    if (tool12.type === \"provider-defined\") {\n      toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n    } else {\n      mistralTools.push({\n        type: \"function\",\n        function: {\n          name: tool12.name,\n          description: tool12.description,\n          parameters: tool12.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: mistralTools, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n      return { tools: mistralTools, toolChoice: type, toolWarnings };\n    case \"required\":\n      return { tools: mistralTools, toolChoice: \"any\", toolWarnings };\n    // mistral does not support tool mode directly,\n    // so we filter the tools and force the tool choice through 'any'\n    case \"tool\":\n      return {\n        tools: mistralTools.filter(\n          (tool12) => tool12.function.name === toolChoice.toolName\n        ),\n        toolChoice: \"any\",\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider50.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar MistralChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"application/pdf\": [/^https:\\/\\/.*$/]\n    };\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    this.generateId = (_a = config.generateId) != null ? _a : generateId;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences,\n      responseFormat,\n      seed,\n      providerOptions,\n      tools,\n      toolChoice\n    }) {\n      var _a, _b, _c, _d;\n      const warnings = [];\n      const options = (_a = yield parseProviderOptions({\n        provider: \"mistral\",\n        providerOptions,\n        schema: mistralLanguageModelOptions\n      })) != null ? _a : {};\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if (frequencyPenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"frequencyPenalty\"\n        });\n      }\n      if (presencePenalty != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"presencePenalty\"\n        });\n      }\n      if (stopSequences != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"stopSequences\"\n        });\n      }\n      const structuredOutputs = (_b = options.structuredOutputs) != null ? _b : true;\n      const strictJsonSchema = (_c = options.strictJsonSchema) != null ? _c : false;\n      if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && !(responseFormat == null ? void 0 : responseFormat.schema)) {\n        prompt = injectJsonInstructionIntoMessages({\n          messages: prompt,\n          schema: responseFormat.schema\n        });\n      }\n      const baseArgs = {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        safe_prompt: options.safePrompt,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        random_seed: seed,\n        // response format:\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? structuredOutputs && (responseFormat == null ? void 0 : responseFormat.schema) != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            schema: responseFormat.schema,\n            strict: strictJsonSchema,\n            name: (_d = responseFormat.name) != null ? _d : \"response\",\n            description: responseFormat.description\n          }\n        } : { type: \"json_object\" } : void 0,\n        // mistral-specific provider options:\n        document_image_limit: options.documentImageLimit,\n        document_page_limit: options.documentPageLimit,\n        // messages:\n        messages: convertToMistralChatMessages(prompt)\n      };\n      const {\n        tools: mistralTools,\n        toolChoice: mistralToolChoice,\n        toolWarnings\n      } = prepareTools6({\n        tools,\n        toolChoice\n      });\n      return {\n        args: __spreadValues(__spreadProps(__spreadValues({}, baseArgs), {\n          tools: mistralTools,\n          tool_choice: mistralToolChoice\n        }), mistralTools != null && options.parallelToolCalls !== void 0 ? { parallel_tool_calls: options.parallelToolCalls } : {}),\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      const { args: body, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: `${this.config.baseURL}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: mistralFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          mistralChatResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      if (choice.message.content != null && Array.isArray(choice.message.content)) {\n        for (const part of choice.message.content) {\n          if (part.type === \"thinking\") {\n            const reasoningText = extractReasoningContent(part.thinking);\n            if (reasoningText.length > 0) {\n              content.push({ type: \"reasoning\", text: reasoningText });\n            }\n          } else if (part.type === \"text\") {\n            if (part.text.length > 0) {\n              content.push({ type: \"text\", text: part.text });\n            }\n          }\n        }\n      } else {\n        const text = extractTextContent(choice.message.content);\n        if (text != null && text.length > 0) {\n          content.push({ type: \"text\", text });\n        }\n      }\n      if (choice.message.tool_calls != null) {\n        for (const toolCall of choice.message.tool_calls) {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: toolCall.id,\n            toolName: toolCall.function.name,\n            input: toolCall.function.arguments\n          });\n        }\n      }\n      return {\n        content,\n        finishReason: mapMistralFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: response.usage.prompt_tokens,\n          outputTokens: response.usage.completion_tokens,\n          totalTokens: response.usage.total_tokens\n        },\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata7(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), { stream: true });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: `${this.config.baseURL}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: mistralFailedResponseHandler,\n        successfulResponseHandler: createEventSourceResponseHandler(\n          mistralChatChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      let activeText = false;\n      let activeReasoningId = null;\n      const generateId2 = this.generateId;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata7(value)));\n              }\n              if (value.usage != null) {\n                usage.inputTokens = value.usage.prompt_tokens;\n                usage.outputTokens = value.usage.completion_tokens;\n                usage.totalTokens = value.usage.total_tokens;\n              }\n              const choice = value.choices[0];\n              const delta = choice.delta;\n              const textContent = extractTextContent(delta.content);\n              if (delta.content != null && Array.isArray(delta.content)) {\n                for (const part of delta.content) {\n                  if (part.type === \"thinking\") {\n                    const reasoningDelta = extractReasoningContent(part.thinking);\n                    if (reasoningDelta.length > 0) {\n                      if (activeReasoningId == null) {\n                        if (activeText) {\n                          controller.enqueue({ type: \"text-end\", id: \"0\" });\n                          activeText = false;\n                        }\n                        activeReasoningId = generateId2();\n                        controller.enqueue({\n                          type: \"reasoning-start\",\n                          id: activeReasoningId\n                        });\n                      }\n                      controller.enqueue({\n                        type: \"reasoning-delta\",\n                        id: activeReasoningId,\n                        delta: reasoningDelta\n                      });\n                    }\n                  }\n                }\n              }\n              if (textContent != null && textContent.length > 0) {\n                if (!activeText) {\n                  if (activeReasoningId != null) {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: activeReasoningId\n                    });\n                    activeReasoningId = null;\n                  }\n                  controller.enqueue({ type: \"text-start\", id: \"0\" });\n                  activeText = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: textContent\n                });\n              }\n              if ((delta == null ? void 0 : delta.tool_calls) != null) {\n                for (const toolCall of delta.tool_calls) {\n                  const toolCallId = toolCall.id;\n                  const toolName = toolCall.function.name;\n                  const input = toolCall.function.arguments;\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCallId,\n                    toolName\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCallId,\n                    delta: input\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCallId\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId,\n                    toolName,\n                    input\n                  });\n                }\n              }\n              if (choice.finish_reason != null) {\n                finishReason = mapMistralFinishReason(choice.finish_reason);\n              }\n            },\n            flush(controller) {\n              if (activeReasoningId != null) {\n                controller.enqueue({\n                  type: \"reasoning-end\",\n                  id: activeReasoningId\n                });\n              }\n              if (activeText) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction extractReasoningContent(thinking) {\n  return thinking.filter((chunk) => chunk.type === \"text\").map((chunk) => chunk.text).join(\"\");\n}\nfunction extractTextContent(content) {\n  if (typeof content === \"string\") {\n    return content;\n  }\n  if (content == null) {\n    return void 0;\n  }\n  const textContent = [];\n  for (const chunk of content) {\n    const { type } = chunk;\n    switch (type) {\n      case \"text\":\n        textContent.push(chunk.text);\n        break;\n      case \"thinking\":\n      case \"image_url\":\n      case \"reference\":\n        break;\n      default: {\n        const _exhaustiveCheck = type;\n        throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return textContent.length ? textContent.join(\"\") : void 0;\n}\nvar mistralContentSchema = import_v484.z.union([\n  import_v484.z.string(),\n  import_v484.z.array(\n    import_v484.z.discriminatedUnion(\"type\", [\n      import_v484.z.object({\n        type: import_v484.z.literal(\"text\"),\n        text: import_v484.z.string()\n      }),\n      import_v484.z.object({\n        type: import_v484.z.literal(\"image_url\"),\n        image_url: import_v484.z.union([\n          import_v484.z.string(),\n          import_v484.z.object({\n            url: import_v484.z.string(),\n            detail: import_v484.z.string().nullable()\n          })\n        ])\n      }),\n      import_v484.z.object({\n        type: import_v484.z.literal(\"reference\"),\n        reference_ids: import_v484.z.array(import_v484.z.number())\n      }),\n      import_v484.z.object({\n        type: import_v484.z.literal(\"thinking\"),\n        thinking: import_v484.z.array(\n          import_v484.z.object({\n            type: import_v484.z.literal(\"text\"),\n            text: import_v484.z.string()\n          })\n        )\n      })\n    ])\n  )\n]).nullish();\nvar mistralUsageSchema = import_v484.z.object({\n  prompt_tokens: import_v484.z.number(),\n  completion_tokens: import_v484.z.number(),\n  total_tokens: import_v484.z.number()\n});\nvar mistralChatResponseSchema = import_v484.z.object({\n  id: import_v484.z.string().nullish(),\n  created: import_v484.z.number().nullish(),\n  model: import_v484.z.string().nullish(),\n  choices: import_v484.z.array(\n    import_v484.z.object({\n      message: import_v484.z.object({\n        role: import_v484.z.literal(\"assistant\"),\n        content: mistralContentSchema,\n        tool_calls: import_v484.z.array(\n          import_v484.z.object({\n            id: import_v484.z.string(),\n            function: import_v484.z.object({ name: import_v484.z.string(), arguments: import_v484.z.string() })\n          })\n        ).nullish()\n      }),\n      index: import_v484.z.number(),\n      finish_reason: import_v484.z.string().nullish()\n    })\n  ),\n  object: import_v484.z.literal(\"chat.completion\"),\n  usage: mistralUsageSchema\n});\nvar mistralChatChunkSchema = import_v484.z.object({\n  id: import_v484.z.string().nullish(),\n  created: import_v484.z.number().nullish(),\n  model: import_v484.z.string().nullish(),\n  choices: import_v484.z.array(\n    import_v484.z.object({\n      delta: import_v484.z.object({\n        role: import_v484.z.enum([\"assistant\"]).optional(),\n        content: mistralContentSchema,\n        tool_calls: import_v484.z.array(\n          import_v484.z.object({\n            id: import_v484.z.string(),\n            function: import_v484.z.object({ name: import_v484.z.string(), arguments: import_v484.z.string() })\n          })\n        ).nullish()\n      }),\n      finish_reason: import_v484.z.string().nullish(),\n      index: import_v484.z.number()\n    })\n  ),\n  usage: mistralUsageSchema.nullish()\n});\nvar MistralEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.maxEmbeddingsPerCall = 32;\n    this.supportsParallelCalls = false;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      abortSignal,\n      headers\n    }) {\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider51.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: `${this.config.baseURL}/embeddings`,\n        headers: combineHeaders(this.config.headers(), headers),\n        body: {\n          model: this.modelId,\n          input: values,\n          encoding_format: \"float\"\n        },\n        failedResponseHandler: mistralFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          MistralTextEmbeddingResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.data.map((item) => item.embedding),\n        usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar MistralTextEmbeddingResponseSchema = import_v487.z.object({\n  data: import_v487.z.array(import_v487.z.object({ embedding: import_v487.z.array(import_v487.z.number()) })),\n  usage: import_v487.z.object({ prompt_tokens: import_v487.z.number() }).nullish()\n});\nvar VERSION10 = true ? \"2.0.19\" : \"0.0.0-test\";\nfunction createMistral(options = {}) {\n  var _a;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://api.mistral.ai/v1\";\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"MISTRAL_API_KEY\",\n        description: \"Mistral\"\n      })}`\n    }, options.headers),\n    `ai-sdk/mistral/${VERSION10}`\n  );\n  const createChatModel = (modelId) => new MistralChatLanguageModel(modelId, {\n    provider: \"mistral.chat\",\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch,\n    generateId: options.generateId\n  });\n  const createEmbeddingModel = (modelId) => new MistralEmbeddingModel(modelId, {\n    provider: \"mistral.embedding\",\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Mistral model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.embedding = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.imageModel = (modelId) => {\n    throw new import_provider48.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  return provider;\n}\nvar mistral = createMistral();\n\n// ../../node_modules/.pnpm/@ai-sdk+deepseek@1.0.23_zod@3.25.67/node_modules/@ai-sdk/deepseek/dist/index.mjs\nvar import_provider52 = require(\"@ai-sdk/provider\");\nvar import_v488 = require(\"zod/v4\");\nvar buildDeepseekMetadata = (usage) => {\n  var _a, _b;\n  return usage == null ? void 0 : {\n    deepseek: {\n      promptCacheHitTokens: (_a = usage.prompt_cache_hit_tokens) != null ? _a : NaN,\n      promptCacheMissTokens: (_b = usage.prompt_cache_miss_tokens) != null ? _b : NaN\n    }\n  };\n};\nvar deepSeekMetadataExtractor = {\n  extractMetadata: (_0) => __async(null, [_0], function* ({ parsedBody }) {\n    const parsed = yield safeValidateTypes({\n      value: parsedBody,\n      schema: deepSeekResponseSchema\n    });\n    return !parsed.success || parsed.value.usage == null ? void 0 : buildDeepseekMetadata(parsed.value.usage);\n  }),\n  createStreamExtractor: () => {\n    let usage;\n    return {\n      processChunk: (chunk) => __async(null, null, function* () {\n        var _a, _b;\n        const parsed = yield safeValidateTypes({\n          value: chunk,\n          schema: deepSeekStreamChunkSchema\n        });\n        if (parsed.success && ((_b = (_a = parsed.value.choices) == null ? void 0 : _a[0]) == null ? void 0 : _b.finish_reason) === \"stop\" && parsed.value.usage) {\n          usage = parsed.value.usage;\n        }\n      }),\n      buildMetadata: () => buildDeepseekMetadata(usage)\n    };\n  }\n};\nvar deepSeekUsageSchema = import_v488.z.object({\n  prompt_cache_hit_tokens: import_v488.z.number().nullish(),\n  prompt_cache_miss_tokens: import_v488.z.number().nullish()\n});\nvar deepSeekResponseSchema = import_v488.z.object({\n  usage: deepSeekUsageSchema.nullish()\n});\nvar deepSeekStreamChunkSchema = import_v488.z.object({\n  choices: import_v488.z.array(\n    import_v488.z.object({\n      finish_reason: import_v488.z.string().nullish()\n    })\n  ).nullish(),\n  usage: deepSeekUsageSchema.nullish()\n});\nvar VERSION11 = true ? \"1.0.23\" : \"0.0.0-test\";\nfunction createDeepSeek(options = {}) {\n  var _a;\n  const baseURL = withoutTrailingSlash(\n    (_a = options.baseURL) != null ? _a : \"https://api.deepseek.com/v1\"\n  );\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"DEEPSEEK_API_KEY\",\n        description: \"DeepSeek API key\"\n      })}`\n    }, options.headers),\n    `ai-sdk/deepseek/${VERSION11}`\n  );\n  const createLanguageModel = (modelId) => {\n    return new OpenAICompatibleChatLanguageModel(modelId, {\n      provider: `deepseek.chat`,\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch,\n      metadataExtractor: deepSeekMetadataExtractor\n    });\n  };\n  const provider = (modelId) => createLanguageModel(modelId);\n  provider.languageModel = createLanguageModel;\n  provider.chat = createLanguageModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider52.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new import_provider52.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  return provider;\n}\nvar deepseek = createDeepSeek();\n\n// ../../node_modules/.pnpm/@ai-sdk+perplexity@2.0.13_zod@3.25.67/node_modules/@ai-sdk/perplexity/dist/index.mjs\nvar import_provider53 = require(\"@ai-sdk/provider\");\nvar import_v489 = require(\"zod/v4\");\nvar import_provider54 = require(\"@ai-sdk/provider\");\nfunction convertToPerplexityMessages(prompt) {\n  const messages = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content });\n        break;\n      }\n      case \"user\":\n      case \"assistant\": {\n        const hasImage = content.some(\n          (part) => part.type === \"file\" && part.mediaType.startsWith(\"image/\")\n        );\n        const messageContent = content.map((part) => {\n          var _a;\n          switch (part.type) {\n            case \"text\": {\n              return {\n                type: \"text\",\n                text: part.text\n              };\n            }\n            case \"file\": {\n              return part.data instanceof URL ? {\n                type: \"image_url\",\n                image_url: {\n                  url: part.data.toString()\n                }\n              } : {\n                type: \"image_url\",\n                image_url: {\n                  url: `data:${(_a = part.mediaType) != null ? _a : \"image/jpeg\"};base64,${typeof part.data === \"string\" ? part.data : convertUint8ArrayToBase64(part.data)}`\n                }\n              };\n            }\n          }\n        }).filter(Boolean);\n        messages.push({\n          role,\n          content: hasImage ? messageContent : messageContent.filter((part) => part.type === \"text\").map((part) => part.text).join(\"\")\n        });\n        break;\n      }\n      case \"tool\": {\n        throw new import_provider54.UnsupportedFunctionalityError({\n          functionality: \"Tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\nfunction mapPerplexityFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n    case \"length\":\n      return finishReason;\n    default:\n      return \"unknown\";\n  }\n}\nvar PerplexityLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.provider = \"perplexity\";\n    this.supportedUrls = {\n      // No URLs are supported.\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences,\n    responseFormat,\n    seed,\n    providerOptions\n  }) {\n    var _a;\n    const warnings = [];\n    if (topK != null) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"topK\"\n      });\n    }\n    if (stopSequences != null) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"stopSequences\"\n      });\n    }\n    if (seed != null) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"seed\"\n      });\n    }\n    return {\n      args: __spreadProps(__spreadValues({\n        // model id:\n        model: this.modelId,\n        // standardized settings:\n        frequency_penalty: frequencyPenalty,\n        max_tokens: maxOutputTokens,\n        presence_penalty: presencePenalty,\n        temperature,\n        top_k: topK,\n        top_p: topP,\n        // response format:\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? {\n          type: \"json_schema\",\n          json_schema: { schema: responseFormat.schema }\n        } : void 0\n      }, (_a = providerOptions == null ? void 0 : providerOptions.perplexity) != null ? _a : {}), {\n        // messages:\n        messages: convertToPerplexityMessages(prompt)\n      }),\n      warnings\n    };\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n      const { args: body, warnings } = this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: `${this.config.baseURL}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: perplexityErrorSchema,\n          errorToMessage\n        }),\n        successfulResponseHandler: createJsonResponseHandler(\n          perplexityResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const choice = response.choices[0];\n      const content = [];\n      const text = choice.message.content;\n      if (text.length > 0) {\n        content.push({ type: \"text\", text });\n      }\n      if (response.citations != null) {\n        for (const url of response.citations) {\n          content.push({\n            type: \"source\",\n            sourceType: \"url\",\n            id: this.config.generateId(),\n            url\n          });\n        }\n      }\n      return {\n        content,\n        finishReason: mapPerplexityFinishReason(choice.finish_reason),\n        usage: {\n          inputTokens: (_a = response.usage) == null ? void 0 : _a.prompt_tokens,\n          outputTokens: (_b = response.usage) == null ? void 0 : _b.completion_tokens,\n          totalTokens: (_d = (_c = response.usage) == null ? void 0 : _c.total_tokens) != null ? _d : void 0\n        },\n        request: { body },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata8(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings,\n        providerMetadata: {\n          perplexity: {\n            images: (_f = (_e = response.images) == null ? void 0 : _e.map((image) => ({\n              imageUrl: image.image_url,\n              originUrl: image.origin_url,\n              height: image.height,\n              width: image.width\n            }))) != null ? _f : null,\n            usage: {\n              citationTokens: (_h = (_g = response.usage) == null ? void 0 : _g.citation_tokens) != null ? _h : null,\n              numSearchQueries: (_j = (_i = response.usage) == null ? void 0 : _i.num_search_queries) != null ? _j : null\n            }\n          }\n        }\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), { stream: true });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: `${this.config.baseURL}/chat/completions`,\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: perplexityErrorSchema,\n          errorToMessage\n        }),\n        successfulResponseHandler: createEventSourceResponseHandler(\n          perplexityChunkSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      let finishReason = \"unknown\";\n      const usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      const providerMetadata = {\n        perplexity: {\n          usage: {\n            citationTokens: null,\n            numSearchQueries: null\n          },\n          images: null\n        }\n      };\n      let isFirstChunk = true;\n      let isActive = false;\n      const self = this;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              controller.enqueue({ type: \"stream-start\", warnings });\n            },\n            transform(chunk, controller) {\n              var _a, _b, _c;\n              if (options.includeRawChunks) {\n                controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n              }\n              if (!chunk.success) {\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (isFirstChunk) {\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata8(value)));\n                (_a = value.citations) == null ? void 0 : _a.forEach((url) => {\n                  controller.enqueue({\n                    type: \"source\",\n                    sourceType: \"url\",\n                    id: self.config.generateId(),\n                    url\n                  });\n                });\n                isFirstChunk = false;\n              }\n              if (value.usage != null) {\n                usage.inputTokens = value.usage.prompt_tokens;\n                usage.outputTokens = value.usage.completion_tokens;\n                providerMetadata.perplexity.usage = {\n                  citationTokens: (_b = value.usage.citation_tokens) != null ? _b : null,\n                  numSearchQueries: (_c = value.usage.num_search_queries) != null ? _c : null\n                };\n              }\n              if (value.images != null) {\n                providerMetadata.perplexity.images = value.images.map((image) => ({\n                  imageUrl: image.image_url,\n                  originUrl: image.origin_url,\n                  height: image.height,\n                  width: image.width\n                }));\n              }\n              const choice = value.choices[0];\n              if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                finishReason = mapPerplexityFinishReason(choice.finish_reason);\n              }\n              if ((choice == null ? void 0 : choice.delta) == null) {\n                return;\n              }\n              const delta = choice.delta;\n              const textContent = delta.content;\n              if (textContent != null) {\n                if (!isActive) {\n                  controller.enqueue({ type: \"text-start\", id: \"0\" });\n                  isActive = true;\n                }\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: textContent\n                });\n              }\n            },\n            flush(controller) {\n              if (isActive) {\n                controller.enqueue({ type: \"text-end\", id: \"0\" });\n              }\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage,\n                providerMetadata\n              });\n            }\n          })\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nfunction getResponseMetadata8({\n  id,\n  model,\n  created\n}) {\n  return {\n    id,\n    modelId: model,\n    timestamp: new Date(created * 1e3)\n  };\n}\nvar perplexityUsageSchema = import_v489.z.object({\n  prompt_tokens: import_v489.z.number(),\n  completion_tokens: import_v489.z.number(),\n  total_tokens: import_v489.z.number().nullish(),\n  citation_tokens: import_v489.z.number().nullish(),\n  num_search_queries: import_v489.z.number().nullish()\n});\nvar perplexityImageSchema = import_v489.z.object({\n  image_url: import_v489.z.string(),\n  origin_url: import_v489.z.string(),\n  height: import_v489.z.number(),\n  width: import_v489.z.number()\n});\nvar perplexityResponseSchema = import_v489.z.object({\n  id: import_v489.z.string(),\n  created: import_v489.z.number(),\n  model: import_v489.z.string(),\n  choices: import_v489.z.array(\n    import_v489.z.object({\n      message: import_v489.z.object({\n        role: import_v489.z.literal(\"assistant\"),\n        content: import_v489.z.string()\n      }),\n      finish_reason: import_v489.z.string().nullish()\n    })\n  ),\n  citations: import_v489.z.array(import_v489.z.string()).nullish(),\n  images: import_v489.z.array(perplexityImageSchema).nullish(),\n  usage: perplexityUsageSchema.nullish()\n});\nvar perplexityChunkSchema = import_v489.z.object({\n  id: import_v489.z.string(),\n  created: import_v489.z.number(),\n  model: import_v489.z.string(),\n  choices: import_v489.z.array(\n    import_v489.z.object({\n      delta: import_v489.z.object({\n        role: import_v489.z.literal(\"assistant\"),\n        content: import_v489.z.string()\n      }),\n      finish_reason: import_v489.z.string().nullish()\n    })\n  ),\n  citations: import_v489.z.array(import_v489.z.string()).nullish(),\n  images: import_v489.z.array(perplexityImageSchema).nullish(),\n  usage: perplexityUsageSchema.nullish()\n});\nvar perplexityErrorSchema = import_v489.z.object({\n  error: import_v489.z.object({\n    code: import_v489.z.number(),\n    message: import_v489.z.string().nullish(),\n    type: import_v489.z.string().nullish()\n  })\n});\nvar errorToMessage = (data) => {\n  var _a, _b;\n  return (_b = (_a = data.error.message) != null ? _a : data.error.type) != null ? _b : \"unknown error\";\n};\nvar VERSION12 = true ? \"2.0.13\" : \"0.0.0-test\";\nfunction createPerplexity(options = {}) {\n  const getHeaders = () => withUserAgentSuffix(\n    __spreadValues({\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"PERPLEXITY_API_KEY\",\n        description: \"Perplexity\"\n      })}`\n    }, options.headers),\n    `ai-sdk/perplexity/${VERSION12}`\n  );\n  const createLanguageModel = (modelId) => {\n    var _a;\n    return new PerplexityLanguageModel(modelId, {\n      baseURL: withoutTrailingSlash(\n        (_a = options.baseURL) != null ? _a : \"https://api.perplexity.ai\"\n      ),\n      headers: getHeaders,\n      generateId,\n      fetch: options.fetch\n    });\n  };\n  const provider = (modelId) => createLanguageModel(modelId);\n  provider.languageModel = createLanguageModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new import_provider53.NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new import_provider53.NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  return provider;\n}\nvar perplexity = createPerplexity();\n\n// ../../node_modules/.pnpm/ollama-ai-provider-v2@1.5.0_zod@3.25.67/node_modules/ollama-ai-provider-v2/dist/index.mjs\nvar import_provider55 = require(\"@ai-sdk/provider\");\nvar import_v490 = require(\"zod/v4\");\nvar import_v491 = require(\"zod/v4\");\nvar import_provider56 = require(\"@ai-sdk/provider\");\nvar import_provider57 = require(\"@ai-sdk/provider\");\nvar import_v492 = require(\"zod/v4\");\nvar import_provider58 = require(\"@ai-sdk/provider\");\nvar import_provider59 = require(\"@ai-sdk/provider\");\nvar import_v493 = require(\"zod/v4\");\nvar import_v494 = require(\"zod/v4\");\nvar import_provider60 = require(\"@ai-sdk/provider\");\nvar ollamaErrorDataSchema = import_v491.z.object({\n  error: import_v491.z.object({\n    message: import_v491.z.string(),\n    // The additional information below is handled loosely to support\n    // Ollama-compatible providers that have slightly different error\n    // responses:\n    type: import_v491.z.string().nullish(),\n    param: import_v491.z.any().nullish(),\n    code: import_v491.z.union([import_v491.z.string(), import_v491.z.number()]).nullish()\n  })\n});\nvar ollamaFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: ollamaErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\nfunction convertToOllamaCompletionPrompt({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new import_provider56.InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new import_provider56.UnsupportedFunctionalityError({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new import_provider56.UnsupportedFunctionalityError({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\nfunction mapOllamaFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\nfunction getResponseMetadata9({\n  model,\n  created_at\n}) {\n  return {\n    id: void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created_at != null ? new Date(created_at) : void 0\n  };\n}\nvar ollamaCompletionProviderOptions = import_v490.z.object({\n  think: import_v490.z.boolean().optional(),\n  user: import_v490.z.string().optional(),\n  suffix: import_v490.z.string().optional(),\n  echo: import_v490.z.boolean().optional()\n});\nvar OllamaCompletionLanguageModel = class {\n  constructor(modelId, settings, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      // No URLs are supported for completion models.\n    };\n    this.modelId = modelId;\n    this.settings = settings;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      prompt,\n      maxOutputTokens,\n      temperature,\n      topP,\n      topK,\n      frequencyPenalty,\n      presencePenalty,\n      stopSequences: userStopSequences,\n      responseFormat,\n      tools,\n      toolChoice,\n      seed,\n      providerOptions\n    }) {\n      var _a;\n      const warnings = [];\n      const ollamaOptions = (_a = yield parseProviderOptions({\n        provider: \"ollama\",\n        providerOptions,\n        schema: ollamaCompletionProviderOptions\n      })) != null ? _a : {};\n      if (topK != null) {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"topK\"\n        });\n      }\n      if (tools == null ? void 0 : tools.length) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"tools\" });\n      }\n      if (toolChoice != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: \"toolChoice\" });\n      }\n      if (responseFormat != null && responseFormat.type !== \"text\") {\n        warnings.push({\n          type: \"unsupported-setting\",\n          setting: \"responseFormat\",\n          details: \"JSON response format is not supported.\"\n        });\n      }\n      const { prompt: completionPrompt, stopSequences } = convertToOllamaCompletionPrompt({ prompt });\n      const stop2 = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n      return {\n        args: {\n          // model id:\n          model: this.modelId,\n          // Ollama-supported settings:\n          user: ollamaOptions.user,\n          think: ollamaOptions.think,\n          // standardized settings:\n          max_tokens: maxOutputTokens,\n          temperature,\n          top_p: topP,\n          frequency_penalty: frequencyPenalty,\n          presence_penalty: presencePenalty,\n          stop: stop2,\n          // prompt:\n          prompt: completionPrompt,\n          // other settings:\n          suffix: ollamaOptions.suffix,\n          echo: ollamaOptions.echo,\n          stream: false\n          // always disabled for doGenerate\n        },\n        warnings\n      };\n    });\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      const { args: body, warnings } = yield this.getArgs(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/generate\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, body), { stream: false }),\n        failedResponseHandler: ollamaFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          baseOllamaResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const _a2 = body, { prompt: rawPrompt } = _a2, rawSettings = __objRest(_a2, [\"prompt\"]);\n      const providerMetadata = { ollama: {} };\n      return {\n        content: [\n          {\n            type: \"text\",\n            text: response.response\n          }\n        ],\n        usage: {\n          inputTokens: (_a = response.prompt_eval_count) != null ? _a : void 0,\n          outputTokens: (_b = response.eval_count) != null ? _b : void 0,\n          totalTokens: ((_c = response.prompt_eval_count) != null ? _c : 0) + ((_d = response.eval_count) != null ? _d : 0)\n        },\n        finishReason: mapOllamaFinishReason(\"stop\"),\n        request: { body: JSON.stringify(body) },\n        response: __spreadProps(__spreadValues({}, getResponseMetadata9(response)), {\n          headers: responseHeaders,\n          body: rawResponse\n        }),\n        warnings,\n        providerMetadata\n      };\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args, warnings } = yield this.getArgs(options);\n      const body = __spreadProps(__spreadValues({}, args), {\n        stream: true\n      });\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/generate\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body,\n        failedResponseHandler: ollamaFailedResponseHandler,\n        successfulResponseHandler: createJsonStreamResponseHandler(\n          baseOllamaResponseSchema\n        ),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const _a = args, { prompt: rawPrompt } = _a, rawSettings = __objRest(_a, [\"prompt\"]);\n      let finishReason = \"unknown\";\n      let usage = {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      };\n      let isFirstChunk = true;\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            transform(chunk, controller) {\n              if (!chunk.success) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: chunk.error });\n                return;\n              }\n              const value = chunk.value;\n              if (\"error\" in value) {\n                finishReason = \"error\";\n                controller.enqueue({ type: \"error\", error: value.error });\n                return;\n              }\n              if (isFirstChunk) {\n                isFirstChunk = false;\n                controller.enqueue(__spreadValues({\n                  type: \"response-metadata\"\n                }, getResponseMetadata9(value)));\n              }\n              if (value.done) {\n                finishReason = mapOllamaFinishReason(\"stop\");\n              }\n              if (value.response != null) {\n                controller.enqueue({\n                  type: \"text-delta\",\n                  id: \"0\",\n                  delta: value.response\n                });\n              }\n            },\n            flush(controller) {\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage\n              });\n            }\n          })\n        ),\n        request: { body: JSON.stringify(body) },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n};\nvar baseOllamaResponseSchema = import_v490.z.object({\n  model: import_v490.z.string(),\n  created_at: import_v490.z.string(),\n  response: import_v490.z.string(),\n  done: import_v490.z.boolean(),\n  context: import_v490.z.array(import_v490.z.number()),\n  eval_count: import_v490.z.number().optional(),\n  eval_duration: import_v490.z.number().optional(),\n  load_duration: import_v490.z.number().optional(),\n  total_duration: import_v490.z.number().optional(),\n  prompt_eval_count: import_v490.z.number().optional(),\n  prompt_eval_duration: import_v490.z.number().optional()\n});\nvar ollamaEmbeddingProviderOptions = import_v492.z.object({\n  dimensions: import_v492.z.number().optional(),\n  truncate: import_v492.z.boolean().optional(),\n  keepAlive: import_v492.z.string().optional()\n});\nvar OllamaEmbeddingModel = class {\n  constructor(modelId, settings, config) {\n    this.specificationVersion = \"v2\";\n    this.modelId = modelId;\n    this.settings = settings;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get maxEmbeddingsPerCall() {\n    var _a;\n    return (_a = this.settings.maxEmbeddingsPerCall) != null ? _a : 2048;\n  }\n  get supportsParallelCalls() {\n    var _a;\n    return (_a = this.settings.supportsParallelCalls) != null ? _a : true;\n  }\n  getArgs(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      providerOptions\n    }) {\n      var _a, _b;\n      const ollamaOptions = (_a = yield parseProviderOptions({\n        provider: \"ollama\",\n        providerOptions,\n        schema: ollamaEmbeddingProviderOptions\n      })) != null ? _a : {};\n      return {\n        args: {\n          // model id:\n          model: this.modelId,\n          input: values,\n          // advanced parameters:\n          dimensions: (_b = ollamaOptions.dimensions) != null ? _b : this.settings.dimensions,\n          truncate: ollamaOptions.truncate,\n          keep_alive: ollamaOptions.keepAlive\n        }\n      };\n    });\n  }\n  doEmbed(_0) {\n    return __async(this, arguments, function* ({\n      values,\n      headers,\n      abortSignal,\n      providerOptions\n    }) {\n      if (values.length > this.maxEmbeddingsPerCall) {\n        throw new import_provider57.TooManyEmbeddingValuesForCallError({\n          provider: this.provider,\n          modelId: this.modelId,\n          maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n          values\n        });\n      }\n      const { args: body } = yield this.getArgs({ values, providerOptions });\n      const {\n        responseHeaders,\n        value: response,\n        rawValue\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/embed\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), headers),\n        body: __spreadValues({}, body),\n        failedResponseHandler: ollamaFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          ollamaTextEmbeddingResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: response.embeddings.map((item) => item),\n        usage: { tokens: response.prompt_eval_count },\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    });\n  }\n};\nvar ollamaTextEmbeddingResponseSchema = import_v492.z.object({\n  model: import_v492.z.string(),\n  embeddings: import_v492.z.array(import_v492.z.array(import_v492.z.number())),\n  total_duration: import_v492.z.number(),\n  load_duration: import_v492.z.number(),\n  prompt_eval_count: import_v492.z.number()\n});\nfunction convertToOllamaResponsesMessages({\n  prompt,\n  systemMessageMode\n}) {\n  const messages = [];\n  const warnings = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            messages.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            messages.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            warnings.push({\n              type: \"other\",\n              message: \"system messages are removed for this model\"\n            });\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        messages.push({\n          role: \"user\",\n          content: content.map((part, index) => {\n            var _a, _b, _c;\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"input_text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"input_image\",\n                    image_url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${part.data}`,\n                    // Ollama specific extension: image detail\n                    detail: (_b = (_a = part.providerOptions) == null ? void 0 : _a.ollama) == null ? void 0 : _b.imageDetail\n                  };\n                } else if (part.mediaType === \"application/pdf\") {\n                  if (part.data instanceof URL) {\n                    throw new import_provider58.UnsupportedFunctionalityError({\n                      functionality: \"PDF file parts with URLs\"\n                    });\n                  }\n                  return {\n                    type: \"input_file\",\n                    filename: (_c = part.filename) != null ? _c : `part-${index}.pdf`,\n                    file_data: `data:application/pdf;base64,${part.data}`\n                  };\n                } else {\n                  throw new import_provider58.UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              messages.push({\n                role: \"assistant\",\n                content: [{ type: \"output_text\", text: part.text }]\n              });\n              break;\n            }\n            case \"tool-call\": {\n              if (part.providerExecuted) {\n                break;\n              }\n              messages.push({\n                type: \"function_call\",\n                call_id: part.toolCallId,\n                name: part.toolName,\n                arguments: JSON.stringify(part.input)\n              });\n              break;\n            }\n            case \"tool-result\": {\n              warnings.push({\n                type: \"other\",\n                message: `tool result parts in assistant messages are not supported for Ollama responses`\n              });\n              break;\n            }\n          }\n        }\n        break;\n      }\n      case \"tool\": {\n        for (const part of content) {\n          const output = part.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            type: \"function_call_output\",\n            call_id: part.toolCallId,\n            output: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { messages, warnings };\n}\nfunction convertToOllamaChatMessages({\n  prompt,\n  systemMessageMode = \"system\"\n}) {\n  const messages = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            messages.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            messages.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        const userText = content.filter((part) => part.type === \"text\").map((part) => part.text).join(\"\");\n        const images = content.filter((part) => part.type === \"file\" && part.mediaType.startsWith(\"image/\")).map((part) => part.data);\n        messages.push({\n          role: \"user\",\n          content: userText.length > 0 ? userText : [],\n          images: images.length > 0 ? images : void 0\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        let thinking = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: part.input\n                }\n              });\n              break;\n            }\n            case \"reasoning\": {\n              thinking += part.text;\n              break;\n            }\n            default: {\n              throw new Error(`Unsupported part: ${part}`);\n            }\n          }\n        }\n        messages.push(__spreadProps(__spreadValues({\n          role: \"assistant\",\n          content: text\n        }, thinking && { thinking }), {\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        }));\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\nfunction prepareResponsesTools3({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const ollamaTools = [];\n  for (const tool12 of tools) {\n    switch (tool12.type) {\n      case \"function\": {\n        let parameters = tool12.inputSchema;\n        if (!parameters) {\n          parameters = {\n            type: \"object\",\n            properties: {},\n            required: []\n          };\n        } else if (parameters && typeof parameters === \"object\" && parameters.type === \"object\" && parameters.properties && Object.keys(parameters.properties).length === 0) {\n          parameters = __spreadProps(__spreadValues({}, parameters), {\n            properties: {},\n            required: []\n          });\n        }\n        ollamaTools.push({\n          type: \"function\",\n          function: {\n            name: tool12.name,\n            description: tool12.description,\n            parameters\n          }\n        });\n        break;\n      }\n      default:\n        toolWarnings.push({ type: \"unsupported-tool\", tool: tool12 });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: ollamaTools, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: ollamaTools, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: ollamaTools,\n        toolChoice: toolChoice.toolName == \"web_search_preview\" ? { type: \"web_search_preview\" } : { type: \"function\", name: toolChoice.toolName },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new import_provider59.UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\nvar ollamaProviderOptions = import_v493.z.object({\n  /**\n   * Enable or disable the model's thinking process. When enabled, the output will separate\n   * the model's thinking from the model's output. When disabled, the model will not think\n   * and directly output the content.\n   *\n   * Only supported by certain models like DeepSeek R1 and Qwen 3.\n   */\n  think: import_v493.z.boolean().optional(),\n  options: import_v493.z.object({\n    num_ctx: import_v493.z.number().optional(),\n    repeat_last_n: import_v493.z.number().optional(),\n    repeat_penalty: import_v493.z.number().optional(),\n    temperature: import_v493.z.number().optional(),\n    seed: import_v493.z.number().optional(),\n    stop: import_v493.z.array(import_v493.z.string()).optional(),\n    num_predict: import_v493.z.number().optional(),\n    top_k: import_v493.z.number().optional(),\n    top_p: import_v493.z.number().optional(),\n    min_p: import_v493.z.number().optional()\n  }).optional()\n});\nvar OllamaRequestBuilder = class {\n  buildRequest(_0) {\n    return __async(this, arguments, function* ({\n      modelId,\n      maxOutputTokens,\n      temperature,\n      stopSequences,\n      topP,\n      topK,\n      presencePenalty,\n      frequencyPenalty,\n      seed,\n      prompt,\n      providerOptions,\n      tools,\n      toolChoice,\n      responseFormat\n    }) {\n      const warnings = this.collectUnsupportedSettingsWarnings({\n        topK,\n        seed,\n        presencePenalty,\n        frequencyPenalty,\n        stopSequences\n      });\n      const { messages, warnings: messageWarnings } = convertToOllamaResponsesMessages({\n        prompt,\n        systemMessageMode: \"system\"\n      });\n      warnings.push(...messageWarnings);\n      const ollamaOptions = yield this.parseProviderOptions(providerOptions);\n      const baseArgs = this.buildBaseArgs({\n        modelId,\n        prompt,\n        temperature,\n        topP,\n        maxOutputTokens,\n        responseFormat,\n        ollamaOptions\n      });\n      const { tools: ollamaTools, toolChoice: ollamaToolChoice, toolWarnings } = prepareResponsesTools3({\n        tools,\n        toolChoice\n      });\n      return {\n        args: __spreadProps(__spreadValues({}, baseArgs), {\n          tools: ollamaTools,\n          tool_choice: ollamaToolChoice\n        }),\n        warnings: [...warnings, ...toolWarnings]\n      };\n    });\n  }\n  collectUnsupportedSettingsWarnings({\n    topK,\n    seed,\n    presencePenalty,\n    frequencyPenalty,\n    stopSequences\n  }) {\n    const warnings = [];\n    const unsupportedSettings = [\n      { value: topK, name: \"topK\" },\n      { value: seed, name: \"seed\" },\n      { value: presencePenalty, name: \"presencePenalty\" },\n      { value: frequencyPenalty, name: \"frequencyPenalty\" },\n      { value: stopSequences, name: \"stopSequences\" }\n    ];\n    for (const { value, name } of unsupportedSettings) {\n      if (value != null) {\n        warnings.push({ type: \"unsupported-setting\", setting: name });\n      }\n    }\n    return warnings;\n  }\n  parseProviderOptions(providerOptions) {\n    return __async(this, null, function* () {\n      const result = yield parseProviderOptions({\n        provider: \"ollama\",\n        providerOptions,\n        schema: ollamaProviderOptions\n      });\n      return result != null ? result : null;\n    });\n  }\n  buildBaseArgs({\n    modelId,\n    prompt,\n    temperature,\n    topP,\n    maxOutputTokens,\n    responseFormat,\n    ollamaOptions\n  }) {\n    var _a, _b;\n    return __spreadProps(__spreadValues({\n      model: modelId,\n      messages: convertToOllamaChatMessages({\n        prompt,\n        systemMessageMode: \"system\"\n      }),\n      temperature,\n      top_p: topP,\n      max_output_tokens: maxOutputTokens\n    }, (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n      format: responseFormat.schema != null ? responseFormat.schema : \"json\"\n    }), {\n      think: (_a = ollamaOptions == null ? void 0 : ollamaOptions.think) != null ? _a : false,\n      options: (_b = ollamaOptions == null ? void 0 : ollamaOptions.options) != null ? _b : void 0\n    });\n  }\n};\nvar baseOllamaResponseSchema2 = import_v494.z.object({\n  model: import_v494.z.string(),\n  created_at: import_v494.z.string(),\n  done: import_v494.z.boolean(),\n  message: import_v494.z.object({\n    content: import_v494.z.string(),\n    role: import_v494.z.string(),\n    thinking: import_v494.z.string().optional(),\n    tool_calls: import_v494.z.array(\n      import_v494.z.object({\n        function: import_v494.z.object({\n          name: import_v494.z.string(),\n          arguments: import_v494.z.record(import_v494.z.string(), import_v494.z.any())\n        }),\n        id: import_v494.z.string().optional()\n      })\n    ).optional().nullable()\n  }),\n  done_reason: import_v494.z.string().optional(),\n  eval_count: import_v494.z.number().optional(),\n  eval_duration: import_v494.z.number().optional(),\n  load_duration: import_v494.z.number().optional(),\n  prompt_eval_count: import_v494.z.number().optional(),\n  prompt_eval_duration: import_v494.z.number().optional(),\n  total_duration: import_v494.z.number().optional()\n});\nvar OllamaResponseProcessor = class {\n  constructor(config) {\n    this.config = config;\n  }\n  processGenerateResponse(response) {\n    const content = this.extractContent(response);\n    const finishReason = mapOllamaFinishReason(response.done_reason);\n    const usage = this.extractUsage(response);\n    const providerMetadata = { ollama: {} };\n    return {\n      content,\n      finishReason,\n      usage,\n      providerMetadata\n    };\n  }\n  extractContent(response) {\n    var _a, _b, _c, _d, _e;\n    const content = [];\n    const text = response.message.content;\n    if (text != null && text.length > 0) {\n      content.push({\n        type: \"text\",\n        text\n      });\n    }\n    for (const toolCall of (_a = response.message.tool_calls) != null ? _a : []) {\n      content.push({\n        type: \"tool-call\",\n        toolCallId: (_e = toolCall.id) != null ? _e : (_d = (_c = (_b = this.config).generateId) == null ? void 0 : _c.call(_b)) != null ? _d : generateId(),\n        toolName: toolCall.function.name,\n        input: JSON.stringify(toolCall.function.arguments)\n      });\n    }\n    return content;\n  }\n  extractUsage(response) {\n    var _a, _b, _c, _d;\n    return {\n      inputTokens: (_a = response.prompt_eval_count) != null ? _a : void 0,\n      outputTokens: (_b = response.eval_count) != null ? _b : void 0,\n      totalTokens: ((_c = response.prompt_eval_count) != null ? _c : 0) + ((_d = response.eval_count) != null ? _d : 0),\n      reasoningTokens: void 0,\n      // Ollama doesn't provide separate reasoning tokens\n      cachedInputTokens: void 0\n    };\n  }\n};\nfunction extractOllamaResponseObjectsFromChunk(chunk) {\n  var _a;\n  if (chunk.success) {\n    return [chunk.value];\n  }\n  const results = [];\n  const raw = (_a = chunk.error) == null ? void 0 : _a.text;\n  if (typeof raw !== \"string\" || raw.length === 0) {\n    return results;\n  }\n  const lines = raw.split(/\\r?\\n/);\n  for (const line of lines) {\n    const trimmed = line.trim();\n    if (trimmed === \"\") continue;\n    try {\n      const parsed = JSON.parse(trimmed);\n      const validated = baseOllamaResponseSchema2.safeParse(parsed);\n      if (validated.success) {\n        results.push(validated.data);\n      }\n    } catch (e) {\n    }\n  }\n  return results;\n}\nvar OllamaStreamProcessor = class {\n  constructor(config) {\n    this.config = config;\n    this.state = this.initializeState();\n  }\n  createTransformStream(warnings, options) {\n    return new TransformStream({\n      start: (controller) => {\n        controller.enqueue({ type: \"stream-start\", warnings });\n      },\n      transform: (chunk, controller) => {\n        this.processChunk(chunk, controller, options);\n      },\n      flush: (controller) => {\n        this.finalizeStream(controller);\n      }\n    });\n  }\n  initializeState() {\n    return {\n      finishReason: \"unknown\",\n      usage: {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0\n      },\n      responseId: null,\n      ongoingToolCalls: {},\n      hasToolCalls: false,\n      isFirstChunk: true,\n      hasTextStarted: false,\n      hasReasoningStarted: false,\n      textEnded: false,\n      reasoningEnded: false,\n      textId: generateId()\n    };\n  }\n  processChunk(chunk, controller, options) {\n    if (options == null ? void 0 : options.includeRawChunks) {\n      controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n    }\n    const values = extractOllamaResponseObjectsFromChunk(chunk);\n    if (values.length === 0) {\n      if (!chunk.success) {\n        this.state.finishReason = \"error\";\n        controller.enqueue({ type: \"error\", error: chunk.error });\n      }\n      return;\n    }\n    for (const value of values) {\n      this.processResponseValue(value, controller);\n    }\n  }\n  processResponseValue(value, controller) {\n    if (value && typeof value === \"object\" && \"error\" in value) {\n      this.state.finishReason = \"error\";\n      controller.enqueue({ type: \"error\", error: value.error });\n      return;\n    }\n    if (this.state.isFirstChunk) {\n      this.state.isFirstChunk = false;\n      controller.enqueue(__spreadValues({\n        type: \"response-metadata\"\n      }, getResponseMetadata9(value)));\n    }\n    if (value.done) {\n      this.handleDoneChunk(value, controller);\n    }\n    const delta = value == null ? void 0 : value.message;\n    if (delta) {\n      this.processDelta(delta, controller);\n    }\n  }\n  handleDoneChunk(value, controller) {\n    var _a, _b, _c;\n    this.state.finishReason = mapOllamaFinishReason(value.done_reason);\n    this.state.usage = {\n      inputTokens: value.prompt_eval_count || 0,\n      outputTokens: (_a = value.eval_count) != null ? _a : void 0,\n      totalTokens: ((_b = value.prompt_eval_count) != null ? _b : 0) + ((_c = value.eval_count) != null ? _c : 0)\n    };\n    if (this.state.hasTextStarted && !this.state.textEnded) {\n      controller.enqueue({ type: \"text-end\", id: this.state.textId });\n      this.state.textEnded = true;\n    }\n    if (this.state.hasReasoningStarted && !this.state.reasoningEnded) {\n      controller.enqueue({ type: \"reasoning-end\", id: \"0\" });\n      this.state.reasoningEnded = true;\n    }\n  }\n  processDelta(delta, controller) {\n    this.processTextContent(delta, controller);\n    this.processThinking(delta, controller);\n    this.processToolCalls(delta, controller);\n  }\n  processTextContent(delta, controller) {\n    if ((delta == null ? void 0 : delta.content) != null) {\n      if (!this.state.hasTextStarted) {\n        controller.enqueue({ type: \"text-start\", id: this.state.textId });\n        this.state.hasTextStarted = true;\n      }\n      controller.enqueue({\n        type: \"text-delta\",\n        id: this.state.textId,\n        delta: delta.content\n      });\n    }\n  }\n  processThinking(delta, controller) {\n    if (delta == null ? void 0 : delta.thinking) {\n      if (!this.state.hasReasoningStarted) {\n        controller.enqueue({ type: \"reasoning-start\", id: \"0\" });\n        this.state.hasReasoningStarted = true;\n      }\n      controller.enqueue({\n        type: \"reasoning-delta\",\n        id: \"0\",\n        delta: delta.thinking\n      });\n    }\n  }\n  processToolCalls(delta, controller) {\n    var _a, _b, _c, _d;\n    for (const toolCall of (_a = delta.tool_calls) != null ? _a : []) {\n      if (((_b = toolCall.function) == null ? void 0 : _b.name) == null) {\n        throw new import_provider60.InvalidResponseDataError({\n          data: toolCall,\n          message: `Expected 'function.name' to be a string.`\n        });\n      }\n      if (((_c = toolCall.function) == null ? void 0 : _c.name) != null && ((_d = toolCall.function) == null ? void 0 : _d.arguments) != null) {\n        this.emitToolCall(toolCall, controller);\n      }\n    }\n  }\n  emitToolCall(toolCall, controller) {\n    var _a, _b, _c, _d;\n    const id = (_d = toolCall.id) != null ? _d : (_c = (_b = (_a = this.config).generateId) == null ? void 0 : _b.call(_a)) != null ? _c : generateId();\n    controller.enqueue({\n      type: \"tool-input-start\",\n      id,\n      toolName: toolCall.function.name\n    });\n    controller.enqueue({\n      type: \"tool-input-delta\",\n      id,\n      delta: JSON.stringify(toolCall.function.arguments)\n    });\n    controller.enqueue({\n      type: \"tool-input-end\",\n      id\n    });\n    controller.enqueue({\n      type: \"tool-call\",\n      toolCallId: id,\n      toolName: toolCall.function.name,\n      input: JSON.stringify(toolCall.function.arguments)\n    });\n    this.state.hasToolCalls = true;\n  }\n  finalizeStream(controller) {\n    if (this.state.hasTextStarted && !this.state.textEnded) {\n      controller.enqueue({ type: \"text-end\", id: \"0\" });\n    }\n    if (this.state.hasReasoningStarted && !this.state.reasoningEnded) {\n      controller.enqueue({ type: \"reasoning-end\", id: \"0\" });\n    }\n    controller.enqueue({\n      type: \"finish\",\n      finishReason: this.state.finishReason,\n      usage: this.state.usage,\n      providerMetadata: {\n        ollama: {\n          responseId: this.state.responseId\n        }\n      }\n    });\n  }\n};\nvar OllamaResponsesLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [\n        /^https?:\\/\\/.*$/\n      ]\n    };\n    this.modelId = modelId;\n    this.config = config;\n    this.requestBuilder = new OllamaRequestBuilder();\n    this.responseProcessor = new OllamaResponseProcessor(config);\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  doGenerate(options) {\n    return __async(this, null, function* () {\n      const { args: body, warnings } = yield this.prepareRequest(options);\n      const {\n        responseHeaders,\n        value: response,\n        rawValue: rawResponse\n      } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, body), { stream: false }),\n        failedResponseHandler: ollamaFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(baseOllamaResponseSchema2),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const processedResponse = this.responseProcessor.processGenerateResponse(response);\n      return __spreadProps(__spreadValues({}, processedResponse), {\n        request: { body: JSON.stringify(body) },\n        response: {\n          modelId: this.modelId,\n          timestamp: /* @__PURE__ */ new Date(),\n          headers: responseHeaders,\n          body: rawResponse\n        },\n        warnings\n      });\n    });\n  }\n  doStream(options) {\n    return __async(this, null, function* () {\n      const { args: body, warnings } = yield this.prepareRequest(options);\n      const { responseHeaders, value: response } = yield postJsonToApi({\n        url: this.config.url({\n          path: \"/chat\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders(this.config.headers(), options.headers),\n        body: __spreadProps(__spreadValues({}, body), { stream: true }),\n        failedResponseHandler: ollamaFailedResponseHandler,\n        successfulResponseHandler: createJsonStreamResponseHandler(baseOllamaResponseSchema2),\n        abortSignal: options.abortSignal,\n        fetch: this.config.fetch\n      });\n      const streamProcessor = new OllamaStreamProcessor(this.config);\n      return {\n        stream: response.pipeThrough(\n          streamProcessor.createTransformStream(warnings, options)\n        ),\n        request: { body },\n        response: { headers: responseHeaders }\n      };\n    });\n  }\n  prepareRequest(options) {\n    return __async(this, null, function* () {\n      return yield this.requestBuilder.buildRequest(__spreadValues({\n        modelId: this.modelId\n      }, options));\n    });\n  }\n};\nfunction createOllama(options = {}) {\n  var _a, _b;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"http://127.0.0.1:11434/api\";\n  const providerName = (_b = options.name) != null ? _b : \"ollama\";\n  const getHeaders = () => __spreadValues({\n    \"Ollama-Organization\": options.organization,\n    \"Ollama-Project\": options.project\n  }, options.headers);\n  const createCompletionModel = (modelId, settings = {}) => new OllamaCompletionLanguageModel(modelId, settings, {\n    provider: `${providerName}.completion`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createEmbeddingModel = (modelId, settings = {}) => new OllamaEmbeddingModel(modelId, settings, {\n    provider: `${providerName}.embedding`,\n    url: ({ path: path7 }) => `${baseURL}${path7}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => {\n    if (new.target) {\n      throw new Error(\n        \"The Ollama model function cannot be called with the new keyword.\"\n      );\n    }\n    return createResponsesModel(modelId);\n  };\n  const createResponsesModel = (modelId) => {\n    return new OllamaResponsesLanguageModel(modelId, {\n      provider: `${providerName}.responses`,\n      url: ({ path: path7 }) => `${baseURL}${path7}`,\n      headers: getHeaders,\n      fetch: options.fetch\n    });\n  };\n  const provider = function(modelId) {\n    return createLanguageModel(modelId);\n  };\n  provider.languageModel = createLanguageModel;\n  provider.chat = createLanguageModel;\n  provider.completion = createCompletionModel;\n  provider.embedding = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.imageModel = (modelId) => {\n    throw new import_provider55.NoSuchModelError({\n      modelId,\n      modelType: \"imageModel\",\n      message: \"Image generation is unsupported with Ollama\"\n    });\n  };\n  return provider;\n}\nvar ollama = createOllama();\n\n// lib/v3/llm/LLMProvider.ts\nvar AISDKProviders = {\n  openai,\n  anthropic,\n  google,\n  xai,\n  azure,\n  groq,\n  cerebras,\n  togetherai,\n  mistral,\n  deepseek,\n  perplexity,\n  ollama\n};\nvar AISDKProvidersWithAPIKey = {\n  openai: createOpenAI,\n  anthropic: createAnthropic,\n  google: createGoogleGenerativeAI,\n  xai: createXai,\n  azure: createAzure,\n  groq: createGroq,\n  cerebras: createCerebras,\n  togetherai: createTogetherAI,\n  mistral: createMistral,\n  deepseek: createDeepSeek,\n  perplexity: createPerplexity\n};\nvar modelToProviderMap = {\n  \"gpt-4.1\": \"openai\",\n  \"gpt-4.1-mini\": \"openai\",\n  \"gpt-4.1-nano\": \"openai\",\n  \"o4-mini\": \"openai\",\n  //prettier-ignore\n  \"o3\": \"openai\",\n  \"o3-mini\": \"openai\",\n  //prettier-ignore\n  \"o1\": \"openai\",\n  \"o1-mini\": \"openai\",\n  \"gpt-4o\": \"openai\",\n  \"gpt-4o-mini\": \"openai\",\n  \"gpt-4o-2024-08-06\": \"openai\",\n  \"gpt-4.5-preview\": \"openai\",\n  \"o1-preview\": \"openai\",\n  \"claude-3-5-sonnet-latest\": \"anthropic\",\n  \"claude-3-5-sonnet-20240620\": \"anthropic\",\n  \"claude-3-5-sonnet-20241022\": \"anthropic\",\n  \"claude-3-7-sonnet-20250219\": \"anthropic\",\n  \"claude-3-7-sonnet-latest\": \"anthropic\",\n  \"cerebras-llama-3.3-70b\": \"cerebras\",\n  \"cerebras-llama-3.1-8b\": \"cerebras\",\n  \"groq-llama-3.3-70b-versatile\": \"groq\",\n  \"groq-llama-3.3-70b-specdec\": \"groq\",\n  \"moonshotai/kimi-k2-instruct\": \"groq\",\n  \"gemini-1.5-flash\": \"google\",\n  \"gemini-1.5-pro\": \"google\",\n  \"gemini-1.5-flash-8b\": \"google\",\n  \"gemini-2.0-flash-lite\": \"google\",\n  \"gemini-2.0-flash\": \"google\",\n  \"gemini-2.5-flash-preview-04-17\": \"google\",\n  \"gemini-2.5-pro-preview-03-25\": \"google\"\n};\nfunction getAISDKLanguageModel(subProvider, subModelName, apiKey, baseURL) {\n  if (apiKey) {\n    const creator = AISDKProvidersWithAPIKey[subProvider];\n    if (!creator) {\n      throw new UnsupportedAISDKModelProviderError(\n        subProvider,\n        Object.keys(AISDKProvidersWithAPIKey)\n      );\n    }\n    const providerConfig = { apiKey };\n    if (baseURL) {\n      providerConfig.baseURL = baseURL;\n    }\n    const provider = creator(providerConfig);\n    return provider(subModelName);\n  } else {\n    const provider = AISDKProviders[subProvider];\n    if (!provider) {\n      throw new UnsupportedAISDKModelProviderError(\n        subProvider,\n        Object.keys(AISDKProviders)\n      );\n    }\n    return provider(subModelName);\n  }\n}\nvar LLMProvider = class {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  getClient(modelName, clientOptions) {\n    if (modelName.includes(\"/\")) {\n      const firstSlashIndex = modelName.indexOf(\"/\");\n      const subProvider = modelName.substring(0, firstSlashIndex);\n      const subModelName = modelName.substring(firstSlashIndex + 1);\n      const languageModel = getAISDKLanguageModel(\n        subProvider,\n        subModelName,\n        clientOptions == null ? void 0 : clientOptions.apiKey,\n        clientOptions == null ? void 0 : clientOptions.baseURL\n      );\n      return new AISdkClient({\n        model: languageModel,\n        logger: this.logger\n      });\n    }\n    const provider = modelToProviderMap[modelName];\n    if (!provider) {\n      throw new UnsupportedModelError(Object.keys(modelToProviderMap));\n    }\n    const availableModel = modelName;\n    switch (provider) {\n      case \"openai\":\n        return new OpenAIClient({\n          logger: this.logger,\n          modelName: availableModel,\n          clientOptions\n        });\n      case \"anthropic\":\n        return new AnthropicClient({\n          logger: this.logger,\n          modelName: availableModel,\n          clientOptions\n        });\n      case \"cerebras\":\n        return new CerebrasClient({\n          logger: this.logger,\n          modelName: availableModel,\n          clientOptions\n        });\n      case \"groq\":\n        return new GroqClient({\n          logger: this.logger,\n          modelName: availableModel,\n          clientOptions\n        });\n      case \"google\":\n        return new GoogleClient({\n          logger: this.logger,\n          modelName: availableModel,\n          clientOptions\n        });\n      default:\n        throw new UnsupportedModelProviderError([\n          ...new Set(Object.values(modelToProviderMap))\n        ]);\n    }\n  }\n  static getModelProvider(modelName) {\n    if (modelName.includes(\"/\")) {\n      const firstSlashIndex = modelName.indexOf(\"/\");\n      const subProvider = modelName.substring(0, firstSlashIndex);\n      if (AISDKProviders[subProvider]) {\n        return \"aisdk\";\n      }\n    }\n    const provider = modelToProviderMap[modelName];\n    return provider;\n  }\n};\n\n// lib/v3/v3.ts\ninit_logger();\n\n// lib/v3/mcp/connection.ts\nvar import_client = require(\"@modelcontextprotocol/sdk/client/index.js\");\nvar import_streamableHttp = require(\"@modelcontextprotocol/sdk/client/streamableHttp.js\");\nvar import_stdio = require(\"@modelcontextprotocol/sdk/client/stdio.js\");\ninit_sdkErrors();\nvar connectToMCPServer = (serverConfig) => __async(null, null, function* () {\n  try {\n    let transport;\n    let clientOptions;\n    if (typeof serverConfig === \"object\" && \"command\" in serverConfig) {\n      transport = new import_stdio.StdioClientTransport(serverConfig);\n    } else {\n      let serverUrl;\n      if (typeof serverConfig === \"string\" || serverConfig instanceof URL) {\n        serverUrl = serverConfig;\n      } else {\n        serverUrl = serverConfig.serverUrl;\n        clientOptions = serverConfig.clientOptions;\n      }\n      transport = new import_streamableHttp.StreamableHTTPClientTransport(new URL(serverUrl));\n    }\n    const client = new import_client.Client(__spreadValues({\n      name: \"Stagehand\",\n      version: \"1.0.0\"\n    }, clientOptions));\n    yield client.connect(transport);\n    try {\n      yield client.ping();\n    } catch (pingError) {\n      yield client.close();\n      throw new MCPConnectionError(serverConfig.toString(), pingError);\n    }\n    return client;\n  } catch (error) {\n    if (error instanceof MCPConnectionError) {\n      throw error;\n    }\n    throw new MCPConnectionError(serverConfig.toString(), error);\n  }\n});\n\n// lib/v3/mcp/utils.ts\nvar resolveTools = (clients, userTools) => __async(null, null, function* () {\n  const tools = __spreadValues({}, userTools);\n  for (const client of clients) {\n    let clientInstance;\n    if (typeof client === \"string\") {\n      clientInstance = yield connectToMCPServer(client);\n    } else {\n      clientInstance = client;\n    }\n    let nextCursor = void 0;\n    do {\n      const clientTools = yield clientInstance.listTools({\n        cursor: nextCursor\n      });\n      for (const tool12 of clientTools.tools) {\n        tools[tool12.name] = {\n          description: tool12.description,\n          inputSchema: jsonSchemaToZod(tool12.inputSchema),\n          execute: (input) => __async(null, null, function* () {\n            const result = yield clientInstance.callTool({\n              name: tool12.name,\n              arguments: input\n            });\n            return result;\n          })\n        };\n      }\n      nextCursor = clientTools.nextCursor;\n    } while (nextCursor);\n  }\n  return tools;\n});\n\n// lib/v3/types/public/agent.ts\nvar AVAILABLE_CUA_MODELS = [\n  \"openai/computer-use-preview\",\n  \"openai/computer-use-preview-2025-03-11\",\n  \"anthropic/claude-3-7-sonnet-latest\",\n  \"anthropic/claude-haiku-4-5-20251001\",\n  \"anthropic/claude-sonnet-4-20250514\",\n  \"anthropic/claude-sonnet-4-5-20250929\",\n  \"google/gemini-2.5-computer-use-preview-10-2025\"\n];\n\n// lib/v3/types/public/apiErrors.ts\nvar StagehandAPIError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = this.constructor.name;\n  }\n};\nvar StagehandAPIUnauthorizedError = class extends StagehandAPIError {\n  constructor(message) {\n    super(message || \"Unauthorized request\");\n  }\n};\nvar StagehandHttpError = class extends StagehandAPIError {\n  constructor(message) {\n    super(message);\n  }\n};\nvar StagehandServerError = class extends StagehandAPIError {\n  constructor(message) {\n    super(message);\n  }\n};\nvar StagehandResponseBodyError = class extends StagehandAPIError {\n  constructor() {\n    super(\"Response body is null\");\n  }\n};\nvar StagehandResponseParseError = class extends StagehandAPIError {\n  constructor(message) {\n    super(message);\n  }\n};\n\n// lib/v3/types/public/logs.ts\nvar LOG_LEVEL_NAMES = {\n  0: \"error\",\n  1: \"info\",\n  2: \"debug\"\n};\n\n// lib/v3/types/public/page.ts\ninit_consoleMessage();\ninit_response();\n\n// lib/v3/types/public/index.ts\ninit_sdkErrors();\n\n// examples/external_clients/aisdk.ts\nvar import_ai14 = require(\"ai\");\nvar AISdkClient2 = class extends LLMClient {\n  constructor({ model }) {\n    super(model.modelId);\n    this.type = \"aisdk\";\n    this.model = model;\n  }\n  createChatCompletion(_0) {\n    return __async(this, arguments, function* ({\n      options\n    }) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n      const formattedMessages = options.messages.map(\n        (message) => {\n          if (Array.isArray(message.content)) {\n            if (message.role === \"system\") {\n              const systemMessage = {\n                role: \"system\",\n                content: message.content.map((c) => \"text\" in c ? c.text : \"\").join(\"\\n\")\n              };\n              return systemMessage;\n            }\n            const contentParts = message.content.map((content) => {\n              if (\"image_url\" in content) {\n                const imageContent = {\n                  type: \"image\",\n                  image: content.image_url.url\n                };\n                return imageContent;\n              } else {\n                const textContent = {\n                  type: \"text\",\n                  text: content.text\n                };\n                return textContent;\n              }\n            });\n            if (message.role === \"user\") {\n              const userMessage = {\n                role: \"user\",\n                content: contentParts\n              };\n              return userMessage;\n            } else {\n              const textOnlyParts = contentParts.map((part) => ({\n                type: \"text\",\n                text: part.type === \"image\" ? \"[Image]\" : part.text\n              }));\n              const assistantMessage = {\n                role: \"assistant\",\n                content: textOnlyParts\n              };\n              return assistantMessage;\n            }\n          }\n          return {\n            role: message.role,\n            content: message.content\n          };\n        }\n      );\n      if (options.response_model) {\n        const response2 = yield (0, import_ai14.generateObject)({\n          model: this.model,\n          messages: formattedMessages,\n          schema: options.response_model.schema\n        });\n        return {\n          data: response2.object,\n          usage: {\n            prompt_tokens: (_a = response2.usage.inputTokens) != null ? _a : 0,\n            completion_tokens: (_b = response2.usage.outputTokens) != null ? _b : 0,\n            reasoning_tokens: (_c = response2.usage.reasoningTokens) != null ? _c : 0,\n            cached_input_tokens: (_d = response2.usage.cachedInputTokens) != null ? _d : 0,\n            total_tokens: (_e = response2.usage.totalTokens) != null ? _e : 0\n          }\n        };\n      }\n      const tools = {};\n      for (const rawTool of options.tools) {\n        tools[rawTool.name] = {\n          description: rawTool.description,\n          inputSchema: rawTool.parameters\n        };\n      }\n      const response = yield (0, import_ai14.generateText)({\n        model: this.model,\n        messages: formattedMessages,\n        tools\n      });\n      return {\n        data: response.text,\n        usage: {\n          prompt_tokens: (_f = response.usage.inputTokens) != null ? _f : 0,\n          completion_tokens: (_g = response.usage.outputTokens) != null ? _g : 0,\n          reasoning_tokens: (_h = response.usage.reasoningTokens) != null ? _h : 0,\n          cached_input_tokens: (_i = response.usage.cachedInputTokens) != null ? _i : 0,\n          total_tokens: (_j = response.usage.totalTokens) != null ? _j : 0\n        }\n      };\n    });\n  }\n};\n\n// lib/v3/understudy/context.ts\ninit_logger();\n\n// lib/v3/understudy/cdp.ts\nvar import_ws = __toESM(require(\"ws\"));\nvar CdpConnection = class _CdpConnection {\n  constructor(ws) {\n    this.nextId = 1;\n    this.inflight = /* @__PURE__ */ new Map();\n    this.eventHandlers = /* @__PURE__ */ new Map();\n    this.sessions = /* @__PURE__ */ new Map();\n    this.id = null;\n    // root\n    this.transportCloseHandlers = /* @__PURE__ */ new Set();\n    this.ws = ws;\n    this.ws.on(\"close\", (code, reason) => {\n      const why = `socket-close code=${code} reason=${String(reason || \"\")}`;\n      this.emitTransportClosed(why);\n    });\n    this.ws.on(\"error\", (err) => {\n      var _a;\n      const why = `socket-error ${(_a = err == null ? void 0 : err.message) != null ? _a : String(err)}`;\n      this.emitTransportClosed(why);\n    });\n    this.ws.on(\"message\", (data) => this.onMessage(data.toString()));\n  }\n  onTransportClosed(handler) {\n    this.transportCloseHandlers.add(handler);\n  }\n  offTransportClosed(handler) {\n    this.transportCloseHandlers.delete(handler);\n  }\n  emitTransportClosed(why) {\n    for (const h of this.transportCloseHandlers) {\n      try {\n        h(why);\n      } catch (e) {\n      }\n    }\n  }\n  static connect(wsUrl) {\n    return __async(this, null, function* () {\n      const ws = new import_ws.default(wsUrl);\n      yield new Promise((resolve2, reject) => {\n        ws.once(\"open\", () => resolve2());\n        ws.once(\"error\", (e) => reject(e));\n      });\n      return new _CdpConnection(ws);\n    });\n  }\n  enableAutoAttach() {\n    return __async(this, null, function* () {\n      yield this.send(\"Target.setAutoAttach\", {\n        autoAttach: true,\n        flatten: true,\n        waitForDebuggerOnStart: false,\n        filter: [\n          { type: \"worker\", exclude: true },\n          { type: \"shared_worker\", exclude: true },\n          { type: \"service_worker\", exclude: true }\n        ]\n      });\n      yield this.send(\"Target.setDiscoverTargets\", { discover: true });\n    });\n  }\n  send(method, params) {\n    return __async(this, null, function* () {\n      var _a;\n      const id = this.nextId++;\n      const payload = { id, method, params };\n      const stack = (_a = new Error().stack) == null ? void 0 : _a.split(\"\\n\").slice(1, 4).join(\"\\n\");\n      const p = new Promise((resolve2, reject) => {\n        this.inflight.set(id, {\n          resolve: resolve2,\n          reject,\n          sessionId: null,\n          method,\n          params,\n          stack,\n          ts: Date.now()\n        });\n      });\n      this.ws.send(JSON.stringify(payload));\n      return p;\n    });\n  }\n  on(event, handler) {\n    var _a;\n    const set = (_a = this.eventHandlers.get(event)) != null ? _a : /* @__PURE__ */ new Set();\n    set.add(handler);\n    this.eventHandlers.set(event, set);\n  }\n  off(event, handler) {\n    const set = this.eventHandlers.get(event);\n    if (set) set.delete(handler);\n  }\n  close() {\n    return __async(this, null, function* () {\n      yield new Promise((resolve2) => {\n        this.ws.once(\"close\", () => resolve2());\n        this.ws.close();\n      });\n    });\n  }\n  getSession(sessionId) {\n    return this.sessions.get(sessionId);\n  }\n  attachToTarget(targetId) {\n    return __async(this, null, function* () {\n      const { sessionId } = yield this.send(\n        \"Target.attachToTarget\",\n        { targetId, flatten: true }\n      );\n      let session = this.sessions.get(sessionId);\n      if (!session) {\n        session = new CdpSession(this, sessionId);\n        this.sessions.set(sessionId, session);\n      }\n      return session;\n    });\n  }\n  getTargets() {\n    return __async(this, null, function* () {\n      const res = yield this.send(\"Target.getTargets\");\n      return res.targetInfos;\n    });\n  }\n  onMessage(json) {\n    const msg = JSON.parse(json);\n    if (\"id\" in msg) {\n      const rec = this.inflight.get(msg.id);\n      if (!rec) return;\n      this.inflight.delete(msg.id);\n      if (\"error\" in msg && msg.error) {\n        rec.reject(new Error(`${msg.error.code} ${msg.error.message}`));\n      } else {\n        rec.resolve(msg.result);\n      }\n      return;\n    }\n    if (\"method\" in msg) {\n      if (msg.method === \"Target.attachedToTarget\") {\n        const p = msg.params;\n        if (!this.sessions.has(p.sessionId)) {\n          this.sessions.set(p.sessionId, new CdpSession(this, p.sessionId));\n        }\n      } else if (msg.method === \"Target.detachedFromTarget\") {\n        const p = msg.params;\n        for (const [id, entry] of this.inflight.entries()) {\n          if (entry.sessionId === p.sessionId) {\n            entry.reject(new Error(\"CDP session detached\"));\n            this.inflight.delete(id);\n          }\n        }\n        this.sessions.delete(p.sessionId);\n      }\n      const { method, params, sessionId } = msg;\n      if (sessionId) {\n        const session = this.sessions.get(sessionId);\n        session == null ? void 0 : session.dispatch(method, params);\n      } else {\n        const handlers = this.eventHandlers.get(method);\n        if (handlers) for (const h of handlers) h(params);\n      }\n    }\n  }\n  _sendViaSession(sessionId, method, params) {\n    var _a;\n    const id = this.nextId++;\n    const payload = { id, method, params, sessionId };\n    const stack = (_a = new Error().stack) == null ? void 0 : _a.split(\"\\n\").slice(1, 4).join(\"\\n\");\n    const p = new Promise((resolve2, reject) => {\n      this.inflight.set(id, {\n        resolve: resolve2,\n        reject,\n        sessionId,\n        method,\n        params,\n        stack,\n        ts: Date.now()\n      });\n    });\n    this.ws.send(JSON.stringify(payload));\n    return p;\n  }\n  _onSessionEvent(sessionId, event, handler) {\n    var _a;\n    const key = `${sessionId}:${event}`;\n    const set = (_a = this.eventHandlers.get(key)) != null ? _a : /* @__PURE__ */ new Set();\n    set.add(handler);\n    this.eventHandlers.set(key, set);\n  }\n  _offSessionEvent(sessionId, event, handler) {\n    const key = `${sessionId}:${event}`;\n    const set = this.eventHandlers.get(key);\n    if (set) set.delete(handler);\n  }\n  _dispatchToSession(sessionId, event, params) {\n    const key = `${sessionId}:${event}`;\n    const handlers = this.eventHandlers.get(key);\n    if (handlers) for (const h of handlers) h(params);\n  }\n};\nvar CdpSession = class {\n  constructor(root, id) {\n    this.root = root;\n    this.id = id;\n  }\n  send(method, params) {\n    return this.root._sendViaSession(this.id, method, params);\n  }\n  on(event, handler) {\n    this.root._onSessionEvent(this.id, event, handler);\n  }\n  off(event, handler) {\n    this.root._offSessionEvent(this.id, event, handler);\n  }\n  close() {\n    return __async(this, null, function* () {\n      yield this.root.send(\"Target.detachFromTarget\", {\n        sessionId: this.id\n      });\n    });\n  }\n  dispatch(event, params) {\n    this.root._dispatchToSession(this.id, event, params);\n  }\n};\n\n// lib/v3/understudy/context.ts\ninit_page();\n\n// lib/v3/understudy/piercer.ts\ninit_logger();\n\n// lib/v3/dom/build/scriptV3Content.ts\nvar v3ScriptContent = '(()=>{function b(_={}){let S=n=>{let{hostToRoot:l}=n,m=t=>{let o=[];if(t instanceof Document)return t.documentElement&&o.push(t.documentElement),o;if(t instanceof ShadowRoot||t instanceof DocumentFragment)return o.push(...Array.from(t.children)),o;if(t instanceof Element){o.push(...Array.from(t.children));let a=t.shadowRoot;a&&o.push(...Array.from(a.children));let r=l.get(t);return r&&o.push(...Array.from(r.children)),o}return o},v=t=>{let o=[],a=[...m(t)];for(;a.length;){let r=a.shift();o.push(r),a.push(...m(r))}return o},y=t=>{let o=String(t||\"\").trim();if(!o)return null;let a=o.replace(/^xpath=/i,\"\"),r=[];{let e=0;for(;e<a.length;){let d=\"child\";a.startsWith(\"//\",e)?(d=\"desc\",e+=2):a[e]===\"/\"&&(d=\"child\",e+=1);let h=e;for(;e<a.length&&a[e]!==\"/\";)e++;let u=a.slice(h,e).trim();if(!u)continue;let p=u.match(/^(.*?)(\\\\[(\\\\d+)\\\\])?$/u),i=(p?.[1]??u).trim(),c=p?.[3]?Math.max(1,Number(p[3])):null,R=i===\"\"?\"*\":i.toLowerCase();r.push({axis:d,raw:u,tag:R,index:c})}}n.debug&&console.info(\"[v3-piercer][resolve] start\",{url:location.href,steps:r.map(e=>({axis:e.axis,raw:e.raw,tag:e.tag,index:e.index}))});let g=[document];for(let e of r){let d=e.index,h=null;for(let u of g){let p=e.axis===\"child\"?m(u):v(u),i=[];for(let c of p)(e.tag===\"*\"||c.localName===e.tag)&&i.push(c);if(n.debug&&console.info(\"[v3-piercer][resolve] step\",{axis:e.axis,tag:e.tag,index:d,poolCount:p.length,matchesCount:i.length}),!!i.length){if(d!=null){let c=d-1;h=c>=0&&c<i.length?i[c]:null}else h=i[0];if(h)break}}if(!h)return n.debug&&console.info(\"[v3-piercer][resolve] no-match\",{step:e.raw}),null;g=[h]}let E=g.length?g[0]:null;return n.debug&&console.info(\"[v3-piercer][resolve] done\",{found:!!E,tag:E?.localName??\"\"}),E};window.__stagehandV3__={getClosedRoot:t=>l.get(t),stats:()=>({installed:!0,url:location.href,isTop:window.top===window,open:n.openCount,closed:n.closedCount}),resolveSimpleXPath:y}},f=Element.prototype.attachShadow;if(f.__v3Patched&&f.__v3State){f.__v3State.debug=!0,S(f.__v3State);return}let s={hostToRoot:new WeakMap,openCount:0,closedCount:0,debug:!0},x=f,w=function(n){let l=n?.mode??\"open\",m=x.call(this,n);try{s.hostToRoot.set(this,m),l===\"closed\"?s.closedCount++:s.openCount++,s.debug&&console.info(\"[v3-piercer] attachShadow\",{tag:this.tagName?.toLowerCase()??\"\",mode:l,url:location.href})}catch{}return m};if(w.__v3Patched=!0,w.__v3State=s,Object.defineProperty(Element.prototype,\"attachShadow\",{configurable:!0,writable:!0,value:w}),_.tagExisting)try{let n=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT);for(;n.nextNode();){let l=n.currentNode;l.shadowRoot&&(s.hostToRoot.set(l,l.shadowRoot),s.openCount++)}}catch{}window.__stagehandV3Injected=!0,S(s),s.debug&&console.info(\"[v3-piercer] installed\",{url:location.href,isTop:window.top===window,readyState:document.readyState})}b({debug:!0,tagExisting:!1});})();\\n';\n\n// lib/v3/dom/build/reRenderScriptContent.ts\nvar reRenderScriptContent = '(()=>{function s(){try{let o=window.__stagehandV3__;if(!o||typeof o.getClosedRoot!=\"function\")return;let t=[],r=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT);for(;r.nextNode();){let e=r.currentNode,n=e.tagName?.toLowerCase()??\"\";if(!n.includes(\"-\")||typeof customElements?.get!=\"function\"||!customElements.get(n))continue;let c=!!e.shadowRoot,i=!!o.getClosedRoot(e);c||i||t.push(e)}for(let e of t)try{let n=e.cloneNode(!0);e.replaceWith(n)}catch{}o.stats&&t.length&&console.info(\"[v3-piercer] rerender\",{count:t.length})}catch(o){console.info(\"[v3-piercer] rerender error\",{message:String(o??\"\")})}}s();})();\\n';\n\n// lib/v3/understudy/piercer.ts\nfunction installV3PiercerIntoSession(session) {\n  return __async(this, null, function* () {\n    var _a, _b;\n    const pageEnabled = yield session.send(\"Page.enable\").then(() => true).catch(() => false);\n    if (!pageEnabled) return false;\n    yield session.send(\"Runtime.enable\").catch(() => {\n    });\n    try {\n      yield session.send(\n        \"Page.addScriptToEvaluateOnNewDocument\",\n        { source: v3ScriptContent, runImmediately: true }\n      );\n    } catch (e) {\n      const msg = String((_b = (_a = e == null ? void 0 : e.message) != null ? _a : e) != null ? _b : \"\");\n      if (msg.includes(\"Session with given id not found\")) return false;\n    }\n    yield session.send(\"Runtime.evaluate\", {\n      expression: v3ScriptContent,\n      returnByValue: true,\n      awaitPromise: true\n    }).catch(() => {\n    });\n    yield session.send(\"Runtime.evaluate\", {\n      expression: reRenderScriptContent,\n      returnByValue: true,\n      awaitPromise: false\n    }).catch(() => {\n    });\n    return true;\n  });\n}\n\n// lib/v3/understudy/context.ts\ninit_executionContextRegistry();\ninit_sdkErrors();\nfunction isTopLevelPage(info) {\n  const ti = info;\n  return info.type === \"page\" && ti.subtype !== \"iframe\";\n}\nvar V3Context = class _V3Context {\n  constructor(conn, env = \"LOCAL\", apiClient = null, localBrowserLaunchOptions = null) {\n    this.conn = conn;\n    this.env = env;\n    this.apiClient = apiClient;\n    this.localBrowserLaunchOptions = localBrowserLaunchOptions;\n    this._piercerInstalled = /* @__PURE__ */ new Set();\n    // Timestamp for most recent popup/open signal\n    this._lastPopupSignalAt = 0;\n    this._sessionInit = /* @__PURE__ */ new Set();\n    this.pagesByTarget = /* @__PURE__ */ new Map();\n    this.mainFrameToTarget = /* @__PURE__ */ new Map();\n    this.sessionOwnerPage = /* @__PURE__ */ new Map();\n    this.frameOwnerPage = /* @__PURE__ */ new Map();\n    this.pendingOopifByMainFrame = /* @__PURE__ */ new Map();\n    this.createdAtByTarget = /* @__PURE__ */ new Map();\n    this.typeByTarget = /* @__PURE__ */ new Map();\n    this._pageOrder = [];\n    this.pendingCreatedTargetUrl = /* @__PURE__ */ new Map();\n  }\n  sessionKey(session) {\n    var _a;\n    return (_a = session.id) != null ? _a : \"root\";\n  }\n  /**\n   * Create a Context for a given CDP websocket URL and bootstrap target wiring.\n   */\n  static create(wsUrl, opts) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const conn = yield CdpConnection.connect(wsUrl);\n      const ctx = new _V3Context(\n        conn,\n        (_a = opts == null ? void 0 : opts.env) != null ? _a : \"LOCAL\",\n        (_b = opts == null ? void 0 : opts.apiClient) != null ? _b : null,\n        (_c = opts == null ? void 0 : opts.localBrowserLaunchOptions) != null ? _c : null\n      );\n      yield ctx.bootstrap();\n      yield ctx.waitForFirstTopLevelPage(5e3);\n      return ctx;\n    });\n  }\n  /**\n   * Wait until at least one top-level Page has been created and registered.\n   * We poll internal maps that bootstrap/onAttachedToTarget populate.\n   */\n  waitForFirstTopLevelPage(timeoutMs) {\n    return __async(this, null, function* () {\n      const deadline = Date.now() + timeoutMs;\n      while (Date.now() < deadline) {\n        for (const [tid, ttype] of this.typeByTarget) {\n          if (ttype === \"page\") {\n            const p = this.pagesByTarget.get(tid);\n            if (p) return;\n          }\n        }\n        yield new Promise((r) => setTimeout(r, 25));\n      }\n      throw new TimeoutError(\n        \"waitForFirstTopLevelPage (no top-level Page)\",\n        timeoutMs\n      );\n    });\n  }\n  waitForInitialTopLevelTargets(targetIds, timeoutMs = 3e3) {\n    return __async(this, null, function* () {\n      if (!targetIds.length) return;\n      const pending = new Set(targetIds);\n      const deadline = Date.now() + timeoutMs;\n      while (pending.size && Date.now() < deadline) {\n        for (const tid of Array.from(pending)) {\n          if (this.pagesByTarget.has(tid)) {\n            pending.delete(tid);\n          }\n        }\n        if (!pending.size) return;\n        yield new Promise((r) => setTimeout(r, 25));\n      }\n      if (pending.size) {\n        v3Logger({\n          category: \"ctx\",\n          message: \"Timed out waiting for existing top-level targets to attach\",\n          level: 2,\n          auxiliary: {\n            remainingTargets: {\n              value: JSON.stringify(Array.from(pending)),\n              type: \"object\"\n            }\n          }\n        });\n      }\n    });\n  }\n  ensurePiercer(session) {\n    return __async(this, null, function* () {\n      const key = this.sessionKey(session);\n      if (this._piercerInstalled.has(key)) return true;\n      const installed = yield installV3PiercerIntoSession(session);\n      if (installed) {\n        this._piercerInstalled.add(key);\n      }\n      return installed;\n    });\n  }\n  /** Mark a page target as the most-recent one (active). */\n  _pushActive(tid) {\n    const i = this._pageOrder.indexOf(tid);\n    if (i !== -1) this._pageOrder.splice(i, 1);\n    this._pageOrder.push(tid);\n  }\n  /** Remove a page target from the recency list (used on close). */\n  _removeFromOrder(tid) {\n    const i = this._pageOrder.indexOf(tid);\n    if (i !== -1) this._pageOrder.splice(i, 1);\n  }\n  /** Return the current active Page (most-recent page that still exists). */\n  activePage() {\n    var _a;\n    for (let i = this._pageOrder.length - 1; i >= 0; i--) {\n      const tid = this._pageOrder[i];\n      const p = this.pagesByTarget.get(tid);\n      if (p) return p;\n      this._pageOrder.splice(i, 1);\n    }\n    let newestTid;\n    let newestTs = -1;\n    for (const [tid] of this.pagesByTarget) {\n      const ts = (_a = this.createdAtByTarget.get(tid)) != null ? _a : 0;\n      if (ts > newestTs) {\n        newestTs = ts;\n        newestTid = tid;\n      }\n    }\n    return newestTid ? this.pagesByTarget.get(newestTid) : void 0;\n  }\n  /** Explicitly mark a known Page as the most-recent active page (and focus it). */\n  setActivePage(page) {\n    let targetId = page.targetId();\n    if (this.pagesByTarget.get(targetId) !== page) {\n      const lookup = this.findTargetIdByPage(page);\n      if (!lookup) {\n        v3Logger({\n          category: \"ctx\",\n          message: \"setActivePage called with unknown Page\",\n          level: 2,\n          auxiliary: {\n            targetId: { value: String(targetId), type: \"string\" }\n          }\n        });\n        return;\n      }\n      targetId = lookup;\n    }\n    this._pushActive(targetId);\n    void this.conn.send(\"Target.activateTarget\", { targetId }).catch(() => {\n    });\n  }\n  /**\n   * Return top-level `Page`s (oldest  newest). OOPIF targets are not included.\n   */\n  pages() {\n    var _a;\n    const rows = [];\n    for (const [tid, page] of this.pagesByTarget) {\n      if (this.typeByTarget.get(tid) === \"page\") {\n        rows.push({ tid, page, created: (_a = this.createdAtByTarget.get(tid)) != null ? _a : 0 });\n      }\n    }\n    rows.sort((a, b) => a.created - b.created);\n    return rows.map((r) => r.page);\n  }\n  /**\n   * Resolve an owning `Page` by the **top-level main frame id**.\n   * Note: child (OOPIF) roots are intentionally not present in this mapping.\n   */\n  resolvePageByMainFrameId(frameId) {\n    const targetId = this.mainFrameToTarget.get(frameId);\n    return targetId ? this.pagesByTarget.get(targetId) : void 0;\n  }\n  /**\n   * Serialize the full frame tree for a given top-level main frame id.\n   */\n  getFullFrameTreeByMainFrameId(rootMainFrameId) {\n    return __async(this, null, function* () {\n      const owner = this.resolvePageByMainFrameId(rootMainFrameId);\n      if (!owner) throw new PageNotFoundError(`mainFrameId=${rootMainFrameId}`);\n      return owner.asProtocolFrameTree(rootMainFrameId);\n    });\n  }\n  /**\n   * Create a new top-level page (tab) with the given URL and return its Page object.\n   * Waits until the target is attached and registered.\n   */\n  newPage(url = \"about:blank\") {\n    return __async(this, null, function* () {\n      const { targetId } = yield this.conn.send(\n        \"Target.createTarget\",\n        { url }\n      );\n      this.pendingCreatedTargetUrl.set(targetId, url);\n      yield this.conn.send(\"Target.activateTarget\", { targetId }).catch(() => {\n      });\n      const deadline = Date.now() + 5e3;\n      while (Date.now() < deadline) {\n        const page = this.pagesByTarget.get(targetId);\n        if (page) return page;\n        yield new Promise((r) => setTimeout(r, 25));\n      }\n      throw new TimeoutError(`newPage: target not attached (${targetId})`, 5e3);\n    });\n  }\n  /**\n   * Close CDP and clear all mappings. Best-effort cleanup.\n   */\n  close() {\n    return __async(this, null, function* () {\n      yield this.conn.close();\n      this.pagesByTarget.clear();\n      this.mainFrameToTarget.clear();\n      this.sessionOwnerPage.clear();\n      this.frameOwnerPage.clear();\n      this.pendingOopifByMainFrame.clear();\n      this.createdAtByTarget.clear();\n      this.typeByTarget.clear();\n      this.pendingCreatedTargetUrl.clear();\n    });\n  }\n  /**\n   * Bootstrap target lifecycle:\n   * - Attach to existing targets.\n   * - Attach on `Target.targetCreated` (fallback for OOPIFs).\n   * - Handle auto-attach events.\n   * - Clean up on detach/destroy.\n   */\n  bootstrap() {\n    return __async(this, null, function* () {\n      this.conn.on(\n        \"Target.attachedToTarget\",\n        (evt) => __async(this, null, function* () {\n          yield this.onAttachedToTarget(evt.targetInfo, evt.sessionId);\n        })\n      );\n      this.conn.on(\n        \"Target.detachedFromTarget\",\n        (evt) => {\n          var _a;\n          this.onDetachedFromTarget(evt.sessionId, (_a = evt.targetId) != null ? _a : null);\n        }\n      );\n      this.conn.on(\n        \"Target.targetDestroyed\",\n        (evt) => {\n          this.cleanupByTarget(evt.targetId);\n        }\n      );\n      this.conn.on(\n        \"Target.targetCreated\",\n        (evt) => __async(this, null, function* () {\n          const info = evt.targetInfo;\n          if (info.type === \"worker\" || info.type === \"service_worker\" || info.type === \"shared_worker\") {\n            return;\n          }\n          const ti = info;\n          if (info.type === \"page\" && ((ti == null ? void 0 : ti.openerId) || (ti == null ? void 0 : ti.openerFrameId))) {\n            this._notePopupSignal();\n          }\n          try {\n            yield this.conn.attachToTarget(info.targetId);\n          } catch (e) {\n          }\n        })\n      );\n      yield this.conn.enableAutoAttach();\n      const targets = yield this.conn.getTargets();\n      for (const t of targets) {\n        try {\n          yield this.conn.attachToTarget(t.targetId);\n        } catch (e) {\n        }\n      }\n      const topLevelTargetIds = targets.filter((t) => isTopLevelPage(t)).map((t) => t.targetId);\n      yield this.waitForInitialTopLevelTargets(topLevelTargetIds);\n    });\n  }\n  /**\n   * Handle a newly attached target (top-level or potential OOPIF):\n   * - Enable Page domain and lifecycle events.\n   * - If top-level  create Page, wire listeners, resume.\n   * - Else  probe child root frame id via `Page.getFrameTree` and adopt immediately\n   *   if the parent is known; otherwise stage until parent `frameAttached`.\n   * - Resume the target only after listeners are wired.\n   */\n  onAttachedToTarget(info, sessionId) {\n    return __async(this, null, function* () {\n      var _a;\n      const session = this.conn.getSession(sessionId);\n      if (!session) return;\n      if (this._sessionInit.has(sessionId)) return;\n      this._sessionInit.add(sessionId);\n      yield session.send(\"Runtime.runIfWaitingForDebugger\").catch(() => {\n      });\n      executionContexts.attachSession(session);\n      const piercerReady = yield this.ensurePiercer(session);\n      if (!piercerReady) return;\n      yield session.send(\"Page.setLifecycleEventsEnabled\", { enabled: true }).catch(() => {\n      });\n      if (isTopLevelPage(info)) {\n        const page = yield Page.create(\n          this.conn,\n          session,\n          info.targetId,\n          this.apiClient,\n          this.localBrowserLaunchOptions,\n          this.env === \"BROWSERBASE\"\n        );\n        this.wireSessionToOwnerPage(sessionId, page);\n        this.pagesByTarget.set(info.targetId, page);\n        this.mainFrameToTarget.set(page.mainFrameId(), info.targetId);\n        this.sessionOwnerPage.set(sessionId, page);\n        this.frameOwnerPage.set(page.mainFrameId(), page);\n        this.typeByTarget.set(info.targetId, \"page\");\n        if (!this.createdAtByTarget.has(info.targetId)) {\n          this.createdAtByTarget.set(info.targetId, Date.now());\n        }\n        const pendingSeedUrl = this.pendingCreatedTargetUrl.get(info.targetId);\n        this.pendingCreatedTargetUrl.delete(info.targetId);\n        page.seedCurrentUrl((_a = pendingSeedUrl != null ? pendingSeedUrl : info.url) != null ? _a : \"\");\n        this._pushActive(info.targetId);\n        this.installFrameEventBridges(sessionId, page);\n        return;\n      }\n      try {\n        const { frameTree } = yield session.send(\n          \"Page.getFrameTree\"\n        );\n        const childMainId = frameTree.frame.id;\n        let owner = this.frameOwnerPage.get(childMainId);\n        if (!owner) {\n          for (const p of this.pagesByTarget.values()) {\n            const tree = p.asProtocolFrameTree(p.mainFrameId());\n            const has = function find(n) {\n              var _a2;\n              if (n.frame.id === childMainId) return true;\n              for (const c of (_a2 = n.childFrames) != null ? _a2 : []) if (find(c)) return true;\n              return false;\n            }(tree);\n            if (has) {\n              owner = p;\n              break;\n            }\n          }\n        }\n        if (owner) {\n          owner.adoptOopifSession(session, childMainId);\n          this.sessionOwnerPage.set(sessionId, owner);\n          this.installFrameEventBridges(sessionId, owner);\n          void executionContexts.waitForMainWorld(session, childMainId).catch(() => {\n          });\n        } else {\n          this.pendingOopifByMainFrame.set(childMainId, sessionId);\n        }\n      } catch (e) {\n      }\n    });\n  }\n  /**\n   * Detach handler:\n   * - Remove child session ownership and prune its subtree.\n   * - If a top-level target, cleanup its `Page` and mappings.\n   * - Drop any staged child for this session.\n   */\n  onDetachedFromTarget(sessionId, targetId) {\n    const owner = this.sessionOwnerPage.get(sessionId);\n    if (owner) {\n      owner.detachOopifSession(sessionId);\n      this.sessionOwnerPage.delete(sessionId);\n    }\n    if (targetId && this.pagesByTarget.has(targetId)) {\n      this.cleanupByTarget(targetId);\n    }\n    for (const [fid, sid] of Array.from(\n      this.pendingOopifByMainFrame.entries()\n    )) {\n      if (sid === sessionId) this.pendingOopifByMainFrame.delete(fid);\n    }\n  }\n  /**\n   * Cleanup a top-level Page by target id, removing its root and staged children.\n   */\n  cleanupByTarget(targetId) {\n    const page = this.pagesByTarget.get(targetId);\n    if (!page) return;\n    const mainId = page.mainFrameId();\n    this.mainFrameToTarget.delete(mainId);\n    this.frameOwnerPage.delete(mainId);\n    for (const [sid, p] of Array.from(this.sessionOwnerPage.entries())) {\n      if (p === page) this.sessionOwnerPage.delete(sid);\n    }\n    for (const [fid] of Array.from(this.pendingOopifByMainFrame.entries())) {\n      const owner = this.frameOwnerPage.get(fid);\n      if (!owner || owner === page) this.pendingOopifByMainFrame.delete(fid);\n    }\n    this._removeFromOrder(targetId);\n    this.pagesByTarget.delete(targetId);\n    this.createdAtByTarget.delete(targetId);\n    this.typeByTarget.delete(targetId);\n    this.pendingCreatedTargetUrl.delete(targetId);\n  }\n  /**\n   * Wire Page-domain frame events for a session into the owning Page & mappings.\n   * We forward the *emitting session* with every event so Page can stamp ownership precisely.\n   */\n  installFrameEventBridges(sessionId, owner) {\n    const session = this.conn.getSession(sessionId);\n    if (!session) return;\n    session.on(\n      \"Page.frameAttached\",\n      (evt) => {\n        const { frameId, parentFrameId } = evt;\n        owner.onFrameAttached(frameId, parentFrameId != null ? parentFrameId : null, session);\n        const pendingChildSessionId = this.pendingOopifByMainFrame.get(frameId);\n        if (pendingChildSessionId) {\n          const child = this.conn.getSession(pendingChildSessionId);\n          if (child) {\n            owner.adoptOopifSession(child, frameId);\n            this.sessionOwnerPage.set(child.id, owner);\n            this.installFrameEventBridges(pendingChildSessionId, owner);\n          }\n          this.pendingOopifByMainFrame.delete(frameId);\n        }\n        this.frameOwnerPage.set(frameId, owner);\n        if (!parentFrameId) {\n          const newRoot = owner.mainFrameId();\n          const topTargetId = this.findTargetIdByPage(owner);\n          if (topTargetId) {\n            this.mainFrameToTarget.set(newRoot, topTargetId);\n          }\n          this.frameOwnerPage.set(newRoot, owner);\n        }\n      }\n    );\n    session.on(\n      \"Page.frameDetached\",\n      (evt) => {\n        var _a;\n        owner.onFrameDetached(evt.frameId, (_a = evt.reason) != null ? _a : \"remove\");\n        if (evt.reason !== \"swap\") {\n          this.frameOwnerPage.delete(evt.frameId);\n        }\n      }\n    );\n    session.on(\n      \"Page.frameNavigated\",\n      (evt) => {\n        owner.onFrameNavigated(evt.frame, session);\n      }\n    );\n    session.on(\n      \"Page.navigatedWithinDocument\",\n      (evt) => {\n        owner.onNavigatedWithinDocument(evt.frameId, evt.url, session);\n      }\n    );\n    session.on(\"Page.windowOpen\", () => {\n      this._notePopupSignal();\n    });\n  }\n  /**\n   * Register that a session belongs to a Page (used by event routing).\n   */\n  wireSessionToOwnerPage(sessionId, owner) {\n    this.sessionOwnerPage.set(sessionId, owner);\n  }\n  /**\n   * Utility: reverse-lookup the top-level target id that owns a given Page.\n   */\n  findTargetIdByPage(page) {\n    for (const [tid, p] of this.pagesByTarget) {\n      if (p === page) return tid;\n    }\n    return void 0;\n  }\n  _notePopupSignal() {\n    this._lastPopupSignalAt = Date.now();\n  }\n  /**\n   * Await the current active page, waiting briefly if a popup/open was just triggered.\n   * Normal path returns immediately; popup path waits up to timeoutMs for the new page.\n   */\n  awaitActivePage(timeoutMs) {\n    return __async(this, null, function* () {\n      var _a;\n      const defaultTimeout = this.env === \"BROWSERBASE\" ? 4e3 : 2e3;\n      timeoutMs = timeoutMs != null ? timeoutMs : defaultTimeout;\n      const recentWindowMs = this.env === \"BROWSERBASE\" ? 1e3 : 300;\n      const now2 = Date.now();\n      const hasRecentPopup = now2 - this._lastPopupSignalAt <= recentWindowMs;\n      const immediate = this.activePage();\n      if (!hasRecentPopup && immediate) return immediate;\n      const deadline = now2 + timeoutMs;\n      while (Date.now() < deadline) {\n        let newestTid;\n        let newestTs = -1;\n        for (const [tid] of this.pagesByTarget) {\n          const ts = (_a = this.createdAtByTarget.get(tid)) != null ? _a : 0;\n          if (ts > newestTs) {\n            newestTs = ts;\n            newestTid = tid;\n          }\n        }\n        if (newestTid) {\n          const p = this.pagesByTarget.get(newestTid);\n          if (p && newestTs >= this._lastPopupSignalAt) return p;\n        }\n        yield new Promise((r) => setTimeout(r, 25));\n      }\n      if (immediate) return immediate;\n      throw new PageNotFoundError(\"awaitActivePage: no page available\");\n    });\n  }\n};\n\n// lib/modelUtils.ts\nfunction splitModelName(model) {\n  const firstSlashIndex = model.indexOf(\"/\");\n  const provider = model.substring(0, firstSlashIndex);\n  const modelName = model.substring(firstSlashIndex + 1);\n  return { provider, modelName };\n}\nfunction resolveModel(model) {\n  const modelString = typeof model === \"string\" ? model : model.modelName;\n  const clientOptions = typeof model === \"string\" ? {} : (() => {\n    const _a = model, { modelName: _ } = _a, rest = __objRest(_a, [\"modelName\"]);\n    return rest;\n  })();\n  const { provider, modelName: parsedModelName } = splitModelName(modelString);\n  const isCua = AVAILABLE_CUA_MODELS.includes(modelString);\n  return {\n    provider,\n    modelName: parsedModelName,\n    clientOptions,\n    isCua\n  };\n}\n\n// lib/v3/api.ts\nvar import_fetch_cookie = __toESM(require(\"fetch-cookie\"));\nvar import_zod_to_json_schema7 = __toESM(require(\"zod-to-json-schema\"));\ninit_version();\nvar StagehandAPIClient = class {\n  constructor({ apiKey, projectId, logger }) {\n    this.apiKey = apiKey;\n    this.projectId = projectId;\n    this.logger = logger;\n    this.fetchWithCookies = (0, import_fetch_cookie.default)(fetch);\n  }\n  init(_0) {\n    return __async(this, arguments, function* ({\n      modelName,\n      modelApiKey,\n      domSettleTimeoutMs,\n      verbose,\n      systemPrompt,\n      selfHeal,\n      browserbaseSessionCreateParams,\n      browserbaseSessionID\n    }) {\n      var _a;\n      if (!modelApiKey) {\n        throw new StagehandAPIError(\"modelApiKey is required\");\n      }\n      this.modelApiKey = modelApiKey;\n      const region = browserbaseSessionCreateParams == null ? void 0 : browserbaseSessionCreateParams.region;\n      if (region && region !== \"us-west-2\") {\n        return { sessionId: browserbaseSessionID != null ? browserbaseSessionID : null, available: false };\n      }\n      this.logger({\n        category: \"init\",\n        message: \"Creating new browserbase session...\",\n        level: 1\n      });\n      const sessionResponse = yield this.request(\"/sessions/start\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          modelName,\n          domSettleTimeoutMs,\n          verbose,\n          systemPrompt,\n          selfHeal,\n          browserbaseSessionCreateParams,\n          browserbaseSessionID\n        })\n      });\n      if (sessionResponse.status === 401) {\n        throw new StagehandAPIUnauthorizedError(\n          \"Unauthorized. Ensure you provided a valid API key.\"\n        );\n      } else if (sessionResponse.status !== 200) {\n        const errorText = yield sessionResponse.text();\n        this.logger({\n          category: \"api\",\n          message: `API error (${sessionResponse.status}): ${errorText}`,\n          level: 0\n        });\n        throw new StagehandHttpError(`Unknown error: ${sessionResponse.status}`);\n      }\n      const sessionResponseBody = yield sessionResponse.json();\n      if (sessionResponseBody.success === false) {\n        throw new StagehandAPIError(sessionResponseBody.message);\n      }\n      this.sessionId = sessionResponseBody.data.sessionId;\n      if (!((_a = sessionResponseBody.data) == null ? void 0 : _a.available) && browserbaseSessionID) {\n        sessionResponseBody.data.sessionId = browserbaseSessionID;\n      }\n      return sessionResponseBody.data;\n    });\n  }\n  act(_0) {\n    return __async(this, arguments, function* ({ input, options, frameId }) {\n      const args = {\n        input,\n        frameId\n      };\n      if (options) {\n        const _a = options, { page: _ } = _a, restOptions = __objRest(_a, [\"page\"]);\n        if (Object.keys(restOptions).length > 0) {\n          args.options = restOptions;\n        }\n      }\n      return this.execute({\n        method: \"act\",\n        args\n      });\n    });\n  }\n  extract(_0) {\n    return __async(this, arguments, function* ({\n      instruction,\n      schema: zodSchema2,\n      options,\n      frameId\n    }) {\n      const jsonSchema2 = zodSchema2 ? (0, import_zod_to_json_schema7.default)(zodSchema2) : void 0;\n      const args = {\n        schema: jsonSchema2,\n        instruction,\n        frameId\n      };\n      if (options) {\n        const _a = options, { page: _ } = _a, restOptions = __objRest(_a, [\"page\"]);\n        if (Object.keys(restOptions).length > 0) {\n          args.options = restOptions;\n        }\n      }\n      return this.execute({\n        method: \"extract\",\n        args\n      });\n    });\n  }\n  observe(_0) {\n    return __async(this, arguments, function* ({\n      instruction,\n      options,\n      frameId\n    }) {\n      const args = {\n        instruction,\n        frameId\n      };\n      if (options) {\n        const _a = options, { page: _ } = _a, restOptions = __objRest(_a, [\"page\"]);\n        if (Object.keys(restOptions).length > 0) {\n          args.options = restOptions;\n        }\n      }\n      return this.execute({\n        method: \"observe\",\n        args\n      });\n    });\n  }\n  goto(url, options, frameId) {\n    return __async(this, null, function* () {\n      return this.execute({\n        method: \"navigate\",\n        args: { url, options, frameId }\n      });\n    });\n  }\n  agentExecute(agentConfig, executeOptions, frameId) {\n    return __async(this, null, function* () {\n      if (agentConfig.integrations && agentConfig.integrations.length > 0) {\n        throw new ExperimentalNotConfiguredError(\"MCP integrations\");\n      }\n      if (typeof executeOptions === \"object\") {\n        if (executeOptions.page) {\n          const _a = executeOptions, { page: _ } = _a, restOptions = __objRest(_a, [\"page\"]);\n          executeOptions = restOptions;\n        }\n      }\n      return this.execute({\n        method: \"agentExecute\",\n        args: { agentConfig, executeOptions, frameId }\n      });\n    });\n  }\n  end() {\n    return __async(this, null, function* () {\n      const url = `/sessions/${this.sessionId}/end`;\n      const response = yield this.request(url, {\n        method: \"POST\"\n      });\n      return response;\n    });\n  }\n  getReplayMetrics() {\n    return __async(this, null, function* () {\n      if (!this.sessionId) {\n        throw new StagehandAPIError(\"sessionId is required to fetch metrics.\");\n      }\n      const response = yield this.request(`/sessions/${this.sessionId}/replay`, {\n        method: \"GET\"\n      });\n      if (response.status !== 200) {\n        const errorText = yield response.text();\n        this.logger({\n          category: \"api\",\n          message: `Failed to fetch metrics. Status ${response.status}: ${errorText}`,\n          level: 0\n        });\n        throw new StagehandHttpError(\n          `Failed to fetch metrics with status ${response.status}: ${errorText}`\n        );\n      }\n      const data = yield response.json();\n      if (!data.success) {\n        throw new StagehandAPIError(\n          `Failed to fetch metrics: ${data.error || \"Unknown error\"}`\n        );\n      }\n      const apiData = data.data || {};\n      const metrics = {\n        actPromptTokens: 0,\n        actCompletionTokens: 0,\n        actReasoningTokens: 0,\n        actCachedInputTokens: 0,\n        actInferenceTimeMs: 0,\n        extractPromptTokens: 0,\n        extractCompletionTokens: 0,\n        extractReasoningTokens: 0,\n        extractCachedInputTokens: 0,\n        extractInferenceTimeMs: 0,\n        observePromptTokens: 0,\n        observeCompletionTokens: 0,\n        observeReasoningTokens: 0,\n        observeCachedInputTokens: 0,\n        observeInferenceTimeMs: 0,\n        agentPromptTokens: 0,\n        agentCompletionTokens: 0,\n        agentReasoningTokens: 0,\n        agentCachedInputTokens: 0,\n        agentInferenceTimeMs: 0,\n        totalPromptTokens: 0,\n        totalCompletionTokens: 0,\n        totalReasoningTokens: 0,\n        totalCachedInputTokens: 0,\n        totalInferenceTimeMs: 0\n      };\n      const pages = apiData.pages || [];\n      for (const page of pages) {\n        const actions = page.actions || [];\n        for (const action of actions) {\n          const method = (action.method || \"\").toLowerCase();\n          const tokenUsage = action.tokenUsage;\n          if (tokenUsage) {\n            const inputTokens = tokenUsage.inputTokens || 0;\n            const outputTokens = tokenUsage.outputTokens || 0;\n            const reasoningTokens = tokenUsage.reasoningTokens || 0;\n            const cachedInputTokens = tokenUsage.cachedInputTokens || 0;\n            const timeMs = tokenUsage.timeMs || 0;\n            if (method === \"act\") {\n              metrics.actPromptTokens += inputTokens;\n              metrics.actCompletionTokens += outputTokens;\n              metrics.actReasoningTokens += reasoningTokens;\n              metrics.actCachedInputTokens += cachedInputTokens;\n              metrics.actInferenceTimeMs += timeMs;\n            } else if (method === \"extract\") {\n              metrics.extractPromptTokens += inputTokens;\n              metrics.extractCompletionTokens += outputTokens;\n              metrics.extractReasoningTokens += reasoningTokens;\n              metrics.extractCachedInputTokens += cachedInputTokens;\n              metrics.extractInferenceTimeMs += timeMs;\n            } else if (method === \"observe\") {\n              metrics.observePromptTokens += inputTokens;\n              metrics.observeCompletionTokens += outputTokens;\n              metrics.observeReasoningTokens += reasoningTokens;\n              metrics.observeCachedInputTokens += cachedInputTokens;\n              metrics.observeInferenceTimeMs += timeMs;\n            } else if (method === \"agent\") {\n              metrics.agentPromptTokens += inputTokens;\n              metrics.agentCompletionTokens += outputTokens;\n              metrics.agentReasoningTokens += reasoningTokens;\n              metrics.agentCachedInputTokens += cachedInputTokens;\n              metrics.agentInferenceTimeMs += timeMs;\n            }\n            metrics.totalPromptTokens += inputTokens;\n            metrics.totalCompletionTokens += outputTokens;\n            metrics.totalReasoningTokens += reasoningTokens;\n            metrics.totalCachedInputTokens += cachedInputTokens;\n            metrics.totalInferenceTimeMs += timeMs;\n          }\n        }\n      }\n      return metrics;\n    });\n  }\n  execute(_0) {\n    return __async(this, arguments, function* ({\n      method,\n      args,\n      params\n    }) {\n      const urlParams = new URLSearchParams(params);\n      const queryString = urlParams.toString();\n      const url = `/sessions/${this.sessionId}/${method}${queryString ? `?${queryString}` : \"\"}`;\n      const response = yield this.request(url, {\n        method: \"POST\",\n        body: JSON.stringify(args)\n      });\n      if (!response.ok) {\n        const errorBody = yield response.text();\n        throw new StagehandHttpError(\n          `HTTP error! status: ${response.status}, body: ${errorBody}`\n        );\n      }\n      if (!response.body) {\n        throw new StagehandResponseBodyError();\n      }\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let buffer = \"\";\n      while (true) {\n        const { value, done } = yield reader.read();\n        if (done && !buffer) {\n          throw new StagehandServerError(\n            \"Stream ended without completion signal\"\n          );\n        }\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split(\"\\n\\n\");\n        buffer = lines.pop() || \"\";\n        for (const line of lines) {\n          if (!line.startsWith(\"data: \")) continue;\n          try {\n            const eventData = JSON.parse(line.slice(6));\n            if (eventData.type === \"system\") {\n              if (eventData.data.status === \"error\") {\n                throw new StagehandServerError(eventData.data.error);\n              }\n              if (eventData.data.status === \"finished\") {\n                return eventData.data.result;\n              }\n            } else if (eventData.type === \"log\") {\n              this.logger(eventData.data.message);\n            }\n          } catch (e) {\n            if (e instanceof StagehandServerError) {\n              throw e;\n            }\n            const errorMessage = e instanceof Error ? e.message : String(e);\n            this.logger({\n              category: \"api\",\n              message: `Failed to parse SSE event: ${errorMessage}`,\n              level: 0\n            });\n            throw new StagehandResponseParseError(\n              `Failed to parse server response: ${errorMessage}`\n            );\n          }\n        }\n        if (done) {\n          if (buffer.trim() && buffer.startsWith(\"data: \")) {\n            try {\n              const eventData = JSON.parse(buffer.slice(6));\n              if (eventData.type === \"system\" && eventData.data.status === \"finished\") {\n                return eventData.data.result;\n              }\n            } catch (e) {\n              this.logger({\n                category: \"api\",\n                message: `Incomplete data in final buffer: ${buffer.substring(0, 100)}`,\n                level: 0\n              });\n            }\n          }\n          throw new StagehandServerError(\n            \"Stream ended without completion signal\"\n          );\n        }\n      }\n    });\n  }\n  request(path7, options) {\n    return __async(this, null, function* () {\n      var _a;\n      const defaultHeaders = {\n        \"x-bb-api-key\": this.apiKey,\n        \"x-bb-project-id\": this.projectId,\n        \"x-bb-session-id\": this.sessionId,\n        // we want real-time logs, so we stream the response\n        \"x-stream-response\": \"true\",\n        \"x-model-api-key\": this.modelApiKey,\n        \"x-sent-at\": (/* @__PURE__ */ new Date()).toISOString(),\n        \"x-language\": \"typescript\",\n        \"x-sdk-version\": STAGEHAND_VERSION\n      };\n      if (options.method === \"POST\" && options.body) {\n        defaultHeaders[\"Content-Type\"] = \"application/json\";\n      }\n      const response = yield this.fetchWithCookies(\n        `${(_a = process.env.STAGEHAND_API_URL) != null ? _a : \"https://api.stagehand.browserbase.com/v1\"}${path7}`,\n        __spreadProps(__spreadValues({}, options), {\n          headers: __spreadValues(__spreadValues({}, defaultHeaders), options.headers)\n        })\n      );\n      return response;\n    });\n  }\n};\n\n// lib/v3/v3.ts\nvar DEFAULT_MODEL_NAME = \"openai/gpt-4.1-mini\";\nvar DEFAULT_VIEWPORT = { width: 1288, height: 711 };\nfunction resolveModelConfiguration(model) {\n  if (!model) {\n    return { modelName: DEFAULT_MODEL_NAME };\n  }\n  if (typeof model === \"string\") {\n    return { modelName: model };\n  }\n  if (model && typeof model === \"object\") {\n    const _a = model, { modelName } = _a, clientOptions = __objRest(_a, [\"modelName\"]);\n    if (!modelName) {\n      throw new StagehandInvalidArgumentError(\n        \"model.modelName is required when providing client options.\"\n      );\n    }\n    return {\n      modelName,\n      clientOptions\n    };\n  }\n  return { modelName: DEFAULT_MODEL_NAME };\n}\nimport_dotenv.default.config({ path: \".env\" });\nvar _V3 = class _V3 {\n  constructor(opts) {\n    this.state = { kind: \"UNINITIALIZED\" };\n    this.actHandler = null;\n    this.extractHandler = null;\n    this.observeHandler = null;\n    this.ctx = null;\n    this.overrideLlmClients = /* @__PURE__ */ new Map();\n    this._isClosing = false;\n    this._onCdpClosed = (why) => {\n      this._immediateShutdown(`CDP transport closed: ${why}`).catch(() => {\n      });\n    };\n    this.experimental = false;\n    this.logInferenceToFile = false;\n    this.disableAPI = false;\n    this.verbose = 1;\n    this._history = [];\n    this.apiClient = null;\n    this.stagehandMetrics = {\n      actPromptTokens: 0,\n      actCompletionTokens: 0,\n      actReasoningTokens: 0,\n      actCachedInputTokens: 0,\n      actInferenceTimeMs: 0,\n      extractPromptTokens: 0,\n      extractCompletionTokens: 0,\n      extractReasoningTokens: 0,\n      extractCachedInputTokens: 0,\n      extractInferenceTimeMs: 0,\n      observePromptTokens: 0,\n      observeCompletionTokens: 0,\n      observeReasoningTokens: 0,\n      observeCachedInputTokens: 0,\n      observeInferenceTimeMs: 0,\n      agentPromptTokens: 0,\n      agentCompletionTokens: 0,\n      agentReasoningTokens: 0,\n      agentCachedInputTokens: 0,\n      agentInferenceTimeMs: 0,\n      totalPromptTokens: 0,\n      totalCompletionTokens: 0,\n      totalReasoningTokens: 0,\n      totalCachedInputTokens: 0,\n      totalInferenceTimeMs: 0\n    };\n    var _a, _b, _c, _d, _e, _f, _g;\n    _V3._installProcessGuards();\n    this.externalLogger = opts.logger;\n    this.verbose = (_a = opts.verbose) != null ? _a : 1;\n    this.instanceId = (_d = (_c = (_b = globalThis.crypto) == null ? void 0 : _b.randomUUID) == null ? void 0 : _c.call(_b)) != null ? _d : `${Date.now()}-${Math.floor(Math.random() * 1e9)}`;\n    const loggerOptions = {\n      pretty: true,\n      level: \"info\"\n      // Most permissive - filtering happens at instance level\n    };\n    if (opts.disablePino !== void 0) {\n      loggerOptions.usePino = !opts.disablePino;\n    }\n    this.stagehandLogger = new StagehandLogger(loggerOptions, opts.logger);\n    this.stagehandLogger.setVerbosity(this.verbose);\n    try {\n      if (this.externalLogger) {\n        bindInstanceLogger(this.instanceId, this.externalLogger);\n      } else {\n        bindInstanceLogger(this.instanceId, (line) => {\n          this.stagehandLogger.log(line);\n        });\n      }\n    } catch (e) {\n    }\n    const { modelName, clientOptions } = resolveModelConfiguration(opts.model);\n    this.modelName = modelName;\n    this.experimental = (_e = opts.experimental) != null ? _e : false;\n    this.logInferenceToFile = (_f = opts.logInferenceToFile) != null ? _f : false;\n    this.llmProvider = new LLMProvider(this.logger);\n    this.domSettleTimeoutMs = opts.domSettleTimeout;\n    this.disableAPI = (_g = opts.disableAPI) != null ? _g : false;\n    const baseClientOptions = clientOptions ? __spreadValues({}, clientOptions) : {};\n    if (opts.llmClient) {\n      this.llmClient = opts.llmClient;\n      this.modelClientOptions = baseClientOptions;\n      this.disableAPI = true;\n    } else {\n      let apiKey = baseClientOptions.apiKey;\n      if (!apiKey) {\n        try {\n          apiKey = loadApiKeyFromEnv(\n            this.modelName.split(\"/\")[0],\n            // \"openai\", \"anthropic\", etc\n            this.logger\n          );\n        } catch (error) {\n          this.logger({\n            category: \"init\",\n            message: `Error loading API key for model ${this.modelName}: ${error}. Continuing without LLM client.`,\n            level: 0\n          });\n          throw error;\n        }\n      }\n      this.modelClientOptions = __spreadProps(__spreadValues({}, baseClientOptions), {\n        apiKey\n      });\n      this.llmClient = this.llmProvider.getClient(\n        this.modelName,\n        this.modelClientOptions\n      );\n    }\n    this.cacheStorage = CacheStorage.create(opts.cacheDir, this.logger, {\n      label: \"cache directory\"\n    });\n    this.actCache = new ActCache({\n      storage: this.cacheStorage,\n      logger: this.logger,\n      getActHandler: () => this.actHandler,\n      getDefaultLlmClient: () => this.resolveLlmClient(),\n      domSettleTimeoutMs: this.domSettleTimeoutMs\n    });\n    this.agentCache = new AgentCache({\n      storage: this.cacheStorage,\n      logger: this.logger,\n      getActHandler: () => this.actHandler,\n      getContext: () => this.ctx,\n      getDefaultLlmClient: () => this.resolveLlmClient(),\n      getBaseModelName: () => this.modelName,\n      getSystemPrompt: () => opts.systemPrompt,\n      domSettleTimeoutMs: this.domSettleTimeoutMs,\n      act: this.act.bind(this)\n    });\n    this.opts = opts;\n    _V3._instances.add(this);\n  }\n  get browserbaseSessionID() {\n    return this.browserbaseSessionId;\n  }\n  /**\n   * Async property for metrics so callers can `await v3.metrics`.\n   * When using API mode, fetches metrics from the API. Otherwise returns local metrics.\n   */\n  get metrics() {\n    if (this.apiClient) {\n      return this.apiClient.getReplayMetrics().catch((error) => {\n        this.logger({\n          category: \"metrics\",\n          message: `Failed to fetch metrics from API: ${error}`,\n          level: 0\n        });\n        return this.stagehandMetrics;\n      });\n    }\n    return Promise.resolve(this.stagehandMetrics);\n  }\n  resolveLlmClient(model) {\n    if (!model) {\n      return this.llmClient;\n    }\n    let modelName;\n    let clientOptions;\n    if (typeof model === \"string\") {\n      modelName = model;\n    } else {\n      const _a = model, { modelName: overrideModelName } = _a, rest = __objRest(_a, [\"modelName\"]);\n      modelName = overrideModelName;\n      clientOptions = rest;\n    }\n    if (modelName === this.modelName && (!clientOptions || Object.keys(clientOptions).length === 0)) {\n      return this.llmClient;\n    }\n    const overrideProvider = String(modelName).split(\"/\")[0];\n    const baseProvider = String(this.modelName).split(\"/\")[0];\n    const mergedOptions = __spreadValues(__spreadValues({}, overrideProvider === baseProvider ? this.modelClientOptions : {}), clientOptions != null ? clientOptions : {});\n    const providerKey = overrideProvider;\n    if (!mergedOptions.apiKey) {\n      const apiKey = loadApiKeyFromEnv(providerKey, this.logger);\n      if (apiKey) {\n        mergedOptions.apiKey = apiKey;\n      }\n    }\n    const cacheKey = JSON.stringify({\n      modelName,\n      clientOptions: mergedOptions\n    });\n    const cached = this.overrideLlmClients.get(cacheKey);\n    if (cached) {\n      return cached;\n    }\n    const client = this.llmProvider.getClient(\n      modelName,\n      mergedOptions\n    );\n    this.overrideLlmClients.set(cacheKey, client);\n    return client;\n  }\n  beginAgentReplayRecording() {\n    this.agentCache.beginRecording();\n  }\n  endAgentReplayRecording() {\n    return this.agentCache.endRecording();\n  }\n  discardAgentReplayRecording() {\n    this.agentCache.discardRecording();\n  }\n  isAgentReplayRecording() {\n    return this.agentCache.isRecording();\n  }\n  isAgentReplayActive() {\n    return this.agentCache.isReplayActive();\n  }\n  recordAgentReplayStep(step) {\n    this.agentCache.recordStep(step);\n  }\n  /**\n   * Async property for history so callers can `await v3.history`.\n   * Returns a frozen copy to avoid external mutation.\n   */\n  get history() {\n    return Promise.resolve(Object.freeze([...this._history]));\n  }\n  addToHistory(method, parameters, result) {\n    this._history.push({\n      method,\n      parameters,\n      result: result != null ? result : null,\n      timestamp: (/* @__PURE__ */ new Date()).toISOString()\n    });\n  }\n  updateMetrics(functionName, promptTokens, completionTokens, reasoningTokens, cachedInputTokens, inferenceTimeMs) {\n    switch (functionName) {\n      case \"ACT\" /* ACT */:\n        this.stagehandMetrics.actPromptTokens += promptTokens;\n        this.stagehandMetrics.actCompletionTokens += completionTokens;\n        this.stagehandMetrics.actReasoningTokens += reasoningTokens;\n        this.stagehandMetrics.actCachedInputTokens += cachedInputTokens;\n        this.stagehandMetrics.actInferenceTimeMs += inferenceTimeMs;\n        break;\n      case \"EXTRACT\" /* EXTRACT */:\n        this.stagehandMetrics.extractPromptTokens += promptTokens;\n        this.stagehandMetrics.extractCompletionTokens += completionTokens;\n        this.stagehandMetrics.extractReasoningTokens += reasoningTokens;\n        this.stagehandMetrics.extractCachedInputTokens += cachedInputTokens;\n        this.stagehandMetrics.extractInferenceTimeMs += inferenceTimeMs;\n        break;\n      case \"OBSERVE\" /* OBSERVE */:\n        this.stagehandMetrics.observePromptTokens += promptTokens;\n        this.stagehandMetrics.observeCompletionTokens += completionTokens;\n        this.stagehandMetrics.observeReasoningTokens += reasoningTokens;\n        this.stagehandMetrics.observeCachedInputTokens += cachedInputTokens;\n        this.stagehandMetrics.observeInferenceTimeMs += inferenceTimeMs;\n        break;\n      case \"AGENT\" /* AGENT */:\n        this.stagehandMetrics.agentPromptTokens += promptTokens;\n        this.stagehandMetrics.agentCompletionTokens += completionTokens;\n        this.stagehandMetrics.agentReasoningTokens += reasoningTokens;\n        this.stagehandMetrics.agentCachedInputTokens += cachedInputTokens;\n        this.stagehandMetrics.agentInferenceTimeMs += inferenceTimeMs;\n        break;\n    }\n    this.updateTotalMetrics(\n      promptTokens,\n      completionTokens,\n      reasoningTokens,\n      cachedInputTokens,\n      inferenceTimeMs\n    );\n  }\n  updateTotalMetrics(promptTokens, completionTokens, reasoningTokens, cachedInputTokens, inferenceTimeMs) {\n    this.stagehandMetrics.totalPromptTokens += promptTokens;\n    this.stagehandMetrics.totalCompletionTokens += completionTokens;\n    this.stagehandMetrics.totalReasoningTokens += reasoningTokens;\n    this.stagehandMetrics.totalCachedInputTokens += cachedInputTokens;\n    this.stagehandMetrics.totalInferenceTimeMs += inferenceTimeMs;\n  }\n  _immediateShutdown(reason) {\n    return __async(this, null, function* () {\n      try {\n        this.logger({\n          category: \"v3\",\n          message: `initiating shutdown \\u2192 ${reason}`,\n          level: 0\n        });\n      } catch (e) {\n      }\n      try {\n        this.logger({\n          category: \"v3\",\n          message: `closing resources \\u2192 ${reason}`,\n          level: 0\n        });\n        yield this.close({ force: true });\n      } catch (e) {\n      }\n    });\n  }\n  static _installProcessGuards() {\n    if (_V3._processGuardsInstalled) return;\n    _V3._processGuardsInstalled = true;\n    const shutdownAllImmediate = (reason) => __async(null, null, function* () {\n      const instances2 = Array.from(_V3._instances);\n      yield Promise.all(instances2.map((i) => i._immediateShutdown(reason)));\n    });\n    import_process2.default.once(\"SIGINT\", () => {\n      v3Logger({\n        category: \"v3\",\n        message: \"SIGINT: initiating shutdown\",\n        level: 0\n      });\n      for (const instance of _V3._instances) {\n        if (instance.apiClient) {\n          void instance.apiClient.end();\n          return;\n        }\n      }\n      void shutdownAllImmediate(\"signal SIGINT\");\n    });\n    import_process2.default.once(\"SIGTERM\", () => {\n      v3Logger({\n        category: \"v3\",\n        message: \"SIGTERM: initiating shutdown\",\n        level: 0\n      });\n      for (const instance of _V3._instances) {\n        if (instance.apiClient) {\n          void instance.apiClient.end();\n          return;\n        }\n      }\n      void shutdownAllImmediate(\"signal SIGTERM\");\n    });\n    import_process2.default.once(\"uncaughtException\", (err) => {\n      v3Logger({\n        category: \"v3\",\n        message: \"uncaughtException\",\n        level: 0,\n        auxiliary: { err: { value: String(err), type: \"string\" } }\n      });\n    });\n    import_process2.default.once(\"unhandledRejection\", (reason) => {\n      v3Logger({\n        category: \"v3\",\n        message: \"unhandledRejection\",\n        level: 0,\n        auxiliary: { reason: { value: String(reason), type: \"string\" } }\n      });\n    });\n  }\n  /**\n   * Entrypoint: initializes handlers, launches Chrome or Browserbase,\n   * and sets up a CDP context.\n   */\n  init() {\n    return __async(this, null, function* () {\n      try {\n        return yield withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n          var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r;\n          this.actHandler = new ActHandler(\n            this.llmClient,\n            this.modelName,\n            this.modelClientOptions,\n            (model) => this.resolveLlmClient(model),\n            (_a = this.opts.systemPrompt) != null ? _a : \"\",\n            this.logInferenceToFile,\n            (_b = this.opts.selfHeal) != null ? _b : true,\n            (functionName, promptTokens, completionTokens, reasoningTokens, cachedInputTokens, inferenceTimeMs) => this.updateMetrics(\n              functionName,\n              promptTokens,\n              completionTokens,\n              reasoningTokens,\n              cachedInputTokens,\n              inferenceTimeMs\n            ),\n            this.domSettleTimeoutMs\n          );\n          this.extractHandler = new ExtractHandler(\n            this.llmClient,\n            this.modelName,\n            this.modelClientOptions,\n            (model) => this.resolveLlmClient(model),\n            (_c = this.opts.systemPrompt) != null ? _c : \"\",\n            this.logInferenceToFile,\n            this.experimental,\n            (functionName, promptTokens, completionTokens, reasoningTokens, cachedInputTokens, inferenceTimeMs) => this.updateMetrics(\n              functionName,\n              promptTokens,\n              completionTokens,\n              reasoningTokens,\n              cachedInputTokens,\n              inferenceTimeMs\n            )\n          );\n          this.observeHandler = new ObserveHandler(\n            this.llmClient,\n            this.modelName,\n            this.modelClientOptions,\n            (model) => this.resolveLlmClient(model),\n            (_d = this.opts.systemPrompt) != null ? _d : \"\",\n            this.logInferenceToFile,\n            this.experimental,\n            (functionName, promptTokens, completionTokens, reasoningTokens, cachedInputTokens, inferenceTimeMs) => this.updateMetrics(\n              functionName,\n              promptTokens,\n              completionTokens,\n              reasoningTokens,\n              cachedInputTokens,\n              inferenceTimeMs\n            )\n          );\n          if (this.opts.env === \"LOCAL\") {\n            const envHeadless = import_process2.default.env.HEADLESS;\n            if (envHeadless !== void 0) {\n              const normalized = envHeadless.trim().toLowerCase();\n              if (normalized !== \"true\") {\n                delete import_process2.default.env.HEADLESS;\n              }\n            }\n            const lbo = (_e = this.opts.localBrowserLaunchOptions) != null ? _e : {};\n            if (lbo.cdpUrl) {\n              this.logger({\n                category: \"init\",\n                message: \"Connecting to local browser\",\n                level: 1\n              });\n              this.ctx = yield V3Context.create(lbo.cdpUrl, {\n                env: \"LOCAL\"\n              });\n              this.ctx.conn.onTransportClosed(this._onCdpClosed);\n              this.state = {\n                kind: \"LOCAL\",\n                // no LaunchedChrome when attaching externally; create a stub kill\n                chrome: {\n                  kill: () => __async(this, null, function* () {\n                  })\n                },\n                ws: lbo.cdpUrl\n              };\n              yield this._applyPostConnectLocalOptions(lbo);\n              return;\n            }\n            this.logger({\n              category: \"init\",\n              message: \"Launching local browser\",\n              level: 1\n            });\n            let userDataDir = lbo.userDataDir;\n            let createdTemp = false;\n            if (!userDataDir) {\n              const base = import_path6.default.join(import_os2.default.tmpdir(), \"stagehand-v3\");\n              import_fs7.default.mkdirSync(base, { recursive: true });\n              userDataDir = import_fs7.default.mkdtempSync(import_path6.default.join(base, \"profile-\"));\n              createdTemp = true;\n            }\n            const defaults2 = [\n              \"--remote-allow-origins=*\",\n              \"--no-first-run\",\n              \"--no-default-browser-check\",\n              \"--disable-dev-shm-usage\",\n              \"--site-per-process\"\n            ];\n            let chromeFlags = [];\n            const ignore = lbo.ignoreDefaultArgs;\n            if (ignore === true) {\n              chromeFlags = [];\n            } else if (Array.isArray(ignore)) {\n              chromeFlags = defaults2.filter(\n                (f) => !ignore.some((ex) => f.includes(ex))\n              );\n            } else {\n              chromeFlags = [...defaults2];\n            }\n            if (lbo.devtools) chromeFlags.push(\"--auto-open-devtools-for-tabs\");\n            if (lbo.locale) chromeFlags.push(`--lang=${lbo.locale}`);\n            if (!lbo.viewport) {\n              lbo.viewport = DEFAULT_VIEWPORT;\n            }\n            if (((_f = lbo.viewport) == null ? void 0 : _f.width) && ((_g = lbo.viewport) == null ? void 0 : _g.height)) {\n              chromeFlags.push(\n                `--window-size=${lbo.viewport.width},${lbo.viewport.height + 87}`\n                // Added pixels to the window to account for the address bar\n              );\n            }\n            if (typeof lbo.deviceScaleFactor === \"number\") {\n              chromeFlags.push(\n                `--force-device-scale-factor=${Math.max(0.1, lbo.deviceScaleFactor)}`\n              );\n            }\n            if (lbo.hasTouch) chromeFlags.push(\"--touch-events=enabled\");\n            if (lbo.ignoreHTTPSErrors)\n              chromeFlags.push(\"--ignore-certificate-errors\");\n            if ((_h = lbo.proxy) == null ? void 0 : _h.server)\n              chromeFlags.push(`--proxy-server=${lbo.proxy.server}`);\n            if ((_i = lbo.proxy) == null ? void 0 : _i.bypass)\n              chromeFlags.push(`--proxy-bypass-list=${lbo.proxy.bypass}`);\n            if (Array.isArray(lbo.args)) chromeFlags.push(...lbo.args);\n            const { ws, chrome } = yield launchLocalChrome({\n              chromePath: lbo.executablePath,\n              chromeFlags,\n              headless: lbo.headless,\n              userDataDir,\n              connectTimeoutMs: lbo.connectTimeoutMs\n            });\n            this.ctx = yield V3Context.create(ws, {\n              env: \"LOCAL\",\n              localBrowserLaunchOptions: lbo\n            });\n            this.ctx.conn.onTransportClosed(this._onCdpClosed);\n            this.state = {\n              kind: \"LOCAL\",\n              chrome,\n              ws,\n              userDataDir,\n              createdTempProfile: createdTemp,\n              preserveUserDataDir: !!lbo.preserveUserDataDir\n            };\n            this.browserbaseSessionId = void 0;\n            yield this._applyPostConnectLocalOptions(lbo);\n            return;\n          }\n          if (this.opts.env === \"BROWSERBASE\") {\n            const { apiKey, projectId } = this.requireBrowserbaseCreds();\n            if (!apiKey || !projectId) {\n              throw new MissingEnvironmentVariableError(\n                \"BROWSERBASE_API_KEY and BROWSERBASE_PROJECT_ID\",\n                \"Browserbase environment\"\n              );\n            }\n            this.logger({\n              category: \"init\",\n              message: \"Starting browserbase session\",\n              level: 1\n            });\n            if (!this.disableAPI && !this.experimental) {\n              this.apiClient = new StagehandAPIClient({\n                apiKey,\n                projectId,\n                logger: this.logger\n              });\n              const createSessionPayload = __spreadProps(__spreadValues({\n                projectId: (_k = (_j = this.opts.browserbaseSessionCreateParams) == null ? void 0 : _j.projectId) != null ? _k : projectId\n              }, this.opts.browserbaseSessionCreateParams), {\n                browserSettings: __spreadProps(__spreadValues({}, (_m = (_l = this.opts.browserbaseSessionCreateParams) == null ? void 0 : _l.browserSettings) != null ? _m : {}), {\n                  viewport: (_p = (_o = (_n = this.opts.browserbaseSessionCreateParams) == null ? void 0 : _n.browserSettings) == null ? void 0 : _o.viewport) != null ? _p : { width: 1288, height: 711 }\n                }),\n                userMetadata: __spreadProps(__spreadValues({}, (_r = (_q = this.opts.browserbaseSessionCreateParams) == null ? void 0 : _q.userMetadata) != null ? _r : {}), {\n                  stagehand: \"true\"\n                })\n              });\n              const { sessionId: sessionId2, available } = yield this.apiClient.init({\n                modelName: this.modelName,\n                modelApiKey: this.modelClientOptions.apiKey,\n                domSettleTimeoutMs: this.domSettleTimeoutMs,\n                verbose: this.verbose,\n                systemPrompt: this.opts.systemPrompt,\n                selfHeal: this.opts.selfHeal,\n                browserbaseSessionCreateParams: createSessionPayload,\n                browserbaseSessionID: this.opts.browserbaseSessionID\n              });\n              if (!available) {\n                this.apiClient = null;\n              }\n              this.opts.browserbaseSessionID = sessionId2;\n            }\n            const { ws, sessionId, bb } = yield createBrowserbaseSession(\n              apiKey,\n              projectId,\n              this.opts.browserbaseSessionCreateParams,\n              this.opts.browserbaseSessionID\n            );\n            this.ctx = yield V3Context.create(ws, {\n              env: \"BROWSERBASE\",\n              apiClient: this.apiClient\n            });\n            this.ctx.conn.onTransportClosed(this._onCdpClosed);\n            this.state = { kind: \"BROWSERBASE\", sessionId, ws, bb };\n            this.browserbaseSessionId = sessionId;\n            yield this._ensureBrowserbaseDownloadsEnabled();\n            try {\n              const resumed = !!this.opts.browserbaseSessionID;\n              let debugUrl;\n              try {\n                const dbg = yield bb.sessions.debug(sessionId);\n                debugUrl = dbg == null ? void 0 : dbg.debuggerUrl;\n              } catch (e) {\n              }\n              const sessionUrl = `https://www.browserbase.com/sessions/${sessionId}`;\n              this.logger({\n                category: \"init\",\n                message: resumed ? this.apiClient ? \"Browserbase session started\" : \"Browserbase session resumed\" : \"Browserbase session started\",\n                level: 1,\n                auxiliary: __spreadProps(__spreadValues({\n                  sessionUrl: { value: sessionUrl, type: \"string\" }\n                }, debugUrl && {\n                  debugUrl: { value: debugUrl, type: \"string\" }\n                }), {\n                  sessionId: { value: sessionId, type: \"string\" }\n                })\n              });\n            } catch (e) {\n            }\n            return;\n          }\n          const neverEnv = this.opts.env;\n          throw new StagehandInitError(`Unsupported env: ${neverEnv}`);\n        }));\n      } catch (error) {\n        if (this.externalLogger) {\n          try {\n            unbindInstanceLogger(this.instanceId);\n          } catch (e) {\n          }\n        }\n        throw error;\n      }\n    });\n  }\n  /** Apply post-connect local browser options that require CDP. */\n  _applyPostConnectLocalOptions(lbo) {\n    return __async(this, null, function* () {\n      var _a;\n      try {\n        if (lbo.downloadsPath || lbo.acceptDownloads !== void 0) {\n          const behavior = lbo.acceptDownloads === false ? \"deny\" : \"allow\";\n          yield (_a = this.ctx) == null ? void 0 : _a.conn.send(\"Browser.setDownloadBehavior\", {\n            behavior,\n            downloadPath: lbo.downloadsPath,\n            eventsEnabled: true\n          }).catch(() => {\n          });\n        }\n      } catch (e) {\n      }\n    });\n  }\n  _ensureBrowserbaseDownloadsEnabled() {\n    return __async(this, null, function* () {\n      var _a;\n      const conn = (_a = this.ctx) == null ? void 0 : _a.conn;\n      if (!conn) return;\n      try {\n        yield conn.send(\"Browser.setDownloadBehavior\", {\n          behavior: \"allow\",\n          downloadPath: \"downloads\",\n          eventsEnabled: true\n        });\n      } catch (e) {\n      }\n    });\n  }\n  act(input, options) {\n    return __async(this, null, function* () {\n      return yield withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n        if (!this.actHandler) throw new StagehandNotInitializedError(\"act()\");\n        let actResult;\n        if (isObserveResult(input)) {\n          const v3Page = yield this.resolvePage(options == null ? void 0 : options.page);\n          const selector = input.selector;\n          if (this.apiClient) {\n            actResult = yield this.apiClient.act({\n              input,\n              options,\n              frameId: v3Page.mainFrameId()\n            });\n          } else {\n            actResult = yield this.actHandler.actFromObserveResult(\n              __spreadProps(__spreadValues({}, input), { selector }),\n              // ObserveResult\n              v3Page,\n              // V3 Page\n              this.domSettleTimeoutMs,\n              this.resolveLlmClient(options == null ? void 0 : options.model)\n            );\n          }\n          this.addToHistory(\n            \"act\",\n            {\n              observeResult: input\n            },\n            actResult\n          );\n          return actResult;\n        }\n        if (typeof input !== \"string\" || !input.trim()) {\n          throw new StagehandInvalidArgumentError(\n            \"act(): instruction string is required unless passing an Action\"\n          );\n        }\n        const page = yield this.resolvePage(options == null ? void 0 : options.page);\n        let actCacheContext = null;\n        const canUseCache = typeof input === \"string\" && !this.isAgentReplayRecording() && this.actCache.enabled;\n        if (canUseCache) {\n          actCacheContext = yield this.actCache.prepareContext(\n            input,\n            page,\n            options == null ? void 0 : options.variables\n          );\n          if (actCacheContext) {\n            const cachedResult = yield this.actCache.tryReplay(\n              actCacheContext,\n              page,\n              options == null ? void 0 : options.timeout\n            );\n            if (cachedResult) {\n              this.addToHistory(\n                \"act\",\n                {\n                  instruction: input,\n                  variables: options == null ? void 0 : options.variables,\n                  timeout: options == null ? void 0 : options.timeout,\n                  cacheHit: true\n                },\n                cachedResult\n              );\n              return cachedResult;\n            }\n          }\n        }\n        const handlerParams = {\n          instruction: input,\n          page,\n          variables: options == null ? void 0 : options.variables,\n          timeout: options == null ? void 0 : options.timeout,\n          model: options == null ? void 0 : options.model\n        };\n        if (this.apiClient) {\n          const frameId = page.mainFrameId();\n          actResult = yield this.apiClient.act({ input, options, frameId });\n        } else {\n          actResult = yield this.actHandler.act(handlerParams);\n        }\n        this.addToHistory(\n          \"act\",\n          {\n            instruction: input,\n            variables: options == null ? void 0 : options.variables,\n            timeout: options == null ? void 0 : options.timeout\n          },\n          actResult\n        );\n        if (actCacheContext && actResult.success && Array.isArray(actResult.actions) && actResult.actions.length > 0) {\n          yield this.actCache.store(actCacheContext, actResult);\n        }\n        return actResult;\n      }));\n    });\n  }\n  extract(a, b, c) {\n    return __async(this, null, function* () {\n      return yield withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n        if (!this.extractHandler) {\n          throw new StagehandNotInitializedError(\"extract()\");\n        }\n        let instruction;\n        let schema;\n        let options;\n        if (typeof a === \"string\") {\n          instruction = a;\n          const isZodSchema = (val) => !!val && typeof val === \"object\" && \"parse\" in val && \"safeParse\" in val;\n          if (isZodSchema(b)) {\n            schema = b;\n            options = c;\n          } else {\n            options = b;\n          }\n        } else {\n          options = a || void 0;\n        }\n        if (!instruction && schema) {\n          throw new StagehandInvalidArgumentError(\n            \"extract(): schema provided without instruction\"\n          );\n        }\n        const effectiveSchema = instruction && !schema ? defaultExtractSchema : schema;\n        const page = yield this.resolvePage(options == null ? void 0 : options.page);\n        const handlerParams = {\n          instruction,\n          schema: effectiveSchema,\n          model: options == null ? void 0 : options.model,\n          timeout: options == null ? void 0 : options.timeout,\n          selector: options == null ? void 0 : options.selector,\n          page\n        };\n        let result;\n        if (this.apiClient) {\n          const frameId = page.mainFrameId();\n          result = yield this.apiClient.extract({\n            instruction: handlerParams.instruction,\n            schema: handlerParams.schema,\n            options,\n            frameId\n          });\n        } else {\n          result = yield this.extractHandler.extract(handlerParams);\n        }\n        return result;\n      }));\n    });\n  }\n  observe(a, b) {\n    return __async(this, null, function* () {\n      return yield withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n        if (!this.observeHandler) {\n          throw new StagehandNotInitializedError(\"observe()\");\n        }\n        let instruction;\n        let options;\n        if (typeof a === \"string\") {\n          instruction = a;\n          options = b;\n        } else {\n          options = a;\n        }\n        const page = yield this.resolvePage(options == null ? void 0 : options.page);\n        const handlerParams = {\n          instruction,\n          model: options == null ? void 0 : options.model,\n          timeout: options == null ? void 0 : options.timeout,\n          selector: options == null ? void 0 : options.selector,\n          page\n        };\n        let results;\n        if (this.apiClient) {\n          const frameId = page.mainFrameId();\n          results = yield this.apiClient.observe({\n            instruction,\n            options,\n            frameId\n          });\n        } else {\n          results = yield this.observeHandler.observe(handlerParams);\n        }\n        this.addToHistory(\n          \"observe\",\n          {\n            instruction,\n            timeout: options == null ? void 0 : options.timeout\n          },\n          results\n        );\n        return results;\n      }));\n    });\n  }\n  /** Return the browser-level CDP WebSocket endpoint. */\n  connectURL() {\n    if (this.state.kind === \"UNINITIALIZED\") {\n      throw new StagehandNotInitializedError(\"connectURL()\");\n    }\n    return this.state.ws;\n  }\n  /** Expose the current CDP-backed context. */\n  get context() {\n    return this.ctx;\n  }\n  /** Best-effort cleanup of context and launched resources. */\n  close(opts) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (this.apiClient) {\n        yield this.apiClient.end();\n      }\n      if (this._isClosing && !(opts == null ? void 0 : opts.force)) return;\n      this._isClosing = true;\n      try {\n        try {\n          if (((_a = this.ctx) == null ? void 0 : _a.conn) && this._onCdpClosed) {\n            (_c = (_b = this.ctx.conn).offTransportClosed) == null ? void 0 : _c.call(_b, this._onCdpClosed);\n          }\n        } catch (e) {\n        }\n        try {\n          yield (_d = this.ctx) == null ? void 0 : _d.close();\n        } catch (e) {\n        }\n        if (this.state.kind === \"LOCAL\") {\n          try {\n            yield this.state.chrome.kill();\n          } catch (e) {\n          }\n          try {\n            if (this.state.createdTempProfile && !this.state.preserveUserDataDir && this.state.userDataDir) {\n              import_fs7.default.rmSync(this.state.userDataDir, { recursive: true, force: true });\n            }\n          } catch (e) {\n          }\n        }\n      } finally {\n        this.state = { kind: \"UNINITIALIZED\" };\n        this.ctx = null;\n        this._isClosing = false;\n        this.browserbaseSessionId = void 0;\n        try {\n          unbindInstanceLogger(this.instanceId);\n        } catch (e) {\n        }\n        _V3._instances.delete(this);\n      }\n    });\n  }\n  /** Guard: ensure Browserbase credentials exist in options. */\n  requireBrowserbaseCreds() {\n    var _a, _b;\n    let { apiKey, projectId } = this.opts;\n    if (!apiKey)\n      apiKey = (_a = import_process2.default.env.BROWSERBASE_API_KEY) != null ? _a : import_process2.default.env.BB_API_KEY;\n    if (!projectId)\n      projectId = (_b = import_process2.default.env.BROWSERBASE_PROJECT_ID) != null ? _b : import_process2.default.env.BB_PROJECT_ID;\n    if (!apiKey || !projectId) {\n      const missing = [];\n      if (!apiKey) missing.push(\"BROWSERBASE_API_KEY\");\n      if (!projectId) missing.push(\"BROWSERBASE_PROJECT_ID\");\n      throw new MissingEnvironmentVariableError(\n        missing.join(\", \"),\n        \"Browserbase\"\n      );\n    }\n    this.opts.apiKey = apiKey;\n    this.opts.projectId = projectId;\n    this.logger({\n      category: \"init\",\n      message: \"Using Browserbase credentials\",\n      level: 1\n    });\n    return { apiKey, projectId };\n  }\n  get logger() {\n    return (logLine) => {\n      var _a;\n      const line = __spreadProps(__spreadValues({}, logLine), { level: (_a = logLine.level) != null ? _a : 1 });\n      this.stagehandLogger.log(line);\n    };\n  }\n  /**\n   * Normalize a Playwright/Puppeteer page object into its top frame id,\n   * so handlers can resolve it to a `Page` within our V3Context.\n   */\n  resolveTopFrameId(page) {\n    return __async(this, null, function* () {\n      if (this.isPlaywrightPage(page)) {\n        const cdp = yield page.context().newCDPSession(page);\n        const { frameTree } = yield cdp.send(\"Page.getFrameTree\");\n        return frameTree.frame.id;\n      }\n      if (this.isPatchrightPage(page)) {\n        const cdp = yield page.context().newCDPSession(page);\n        const { frameTree } = yield cdp.send(\"Page.getFrameTree\");\n        return frameTree.frame.id;\n      }\n      if (this.isPuppeteerPage(page)) {\n        const cdp = yield page.target().createCDPSession();\n        const { frameTree } = yield cdp.send(\"Page.getFrameTree\");\n        this.logger({\n          category: \"v3\",\n          message: \"Puppeteer frame id\",\n          level: 2,\n          auxiliary: { frameId: { value: frameTree.frame.id, type: \"string\" } }\n        });\n        return frameTree.frame.id;\n      }\n      throw new StagehandInvalidArgumentError(\n        \"Unsupported page object passed to V3.act()\"\n      );\n    });\n  }\n  isPlaywrightPage(p) {\n    return typeof p === \"object\" && p !== null && typeof p.context === \"function\";\n  }\n  isPatchrightPage(p) {\n    return typeof p === \"object\" && p !== null && typeof p.context === \"function\";\n  }\n  isPuppeteerPage(p) {\n    return typeof p === \"object\" && p !== null && typeof p.target === \"function\";\n  }\n  /** Resolve an external page reference or fall back to the active V3 page. */\n  resolvePage(page) {\n    return __async(this, null, function* () {\n      if (page) {\n        return yield this.normalizeToV3Page(page);\n      }\n      const ctx = this.ctx;\n      if (!ctx) {\n        throw new StagehandNotInitializedError(\"resolvePage()\");\n      }\n      return yield ctx.awaitActivePage();\n    });\n  }\n  normalizeToV3Page(input) {\n    return __async(this, null, function* () {\n      if (input instanceof (yield Promise.resolve().then(() => (init_page(), page_exports))).Page) {\n        return input;\n      }\n      if (this.isPlaywrightPage(input)) {\n        const frameId = yield this.resolveTopFrameId(input);\n        const page = this.ctx.resolvePageByMainFrameId(frameId);\n        if (!page)\n          throw new StagehandInitError(\n            \"Failed to resolve V3 Page from Playwright page.\"\n          );\n        return page;\n      }\n      if (this.isPatchrightPage(input)) {\n        const frameId = yield this.resolveTopFrameId(input);\n        const page = this.ctx.resolvePageByMainFrameId(frameId);\n        if (!page)\n          throw new StagehandInitError(\n            \"Failed to resolve V3 Page from Patchright page.\"\n          );\n        return page;\n      }\n      if (this.isPuppeteerPage(input)) {\n        const frameId = yield this.resolveTopFrameId(input);\n        const page = this.ctx.resolvePageByMainFrameId(frameId);\n        if (!page)\n          throw new StagehandInitError(\n            \"Failed to resolve V3 Page from Puppeteer page.\"\n          );\n        return page;\n      }\n      throw new StagehandInvalidArgumentError(\"Unsupported page object.\");\n    });\n  }\n  /**\n   * Create a v3 agent instance (AISDK tool-based) with execute().\n   * Mirrors the v2 Stagehand.agent() tool mode (no CUA provider here).\n   */\n  agent(options) {\n    var _a, _b;\n    this.logger({\n      category: \"agent\",\n      message: `Creating v3 agent instance with options: ${JSON.stringify(options)}`,\n      level: 1,\n      auxiliary: __spreadValues({\n        cua: { value: (options == null ? void 0 : options.cua) ? \"true\" : \"false\", type: \"boolean\" },\n        model: (options == null ? void 0 : options.model) ? typeof (options == null ? void 0 : options.model) === \"string\" ? { value: options.model, type: \"string\" } : { value: options.model.modelName, type: \"string\" } : { value: this.llmClient.modelName, type: \"string\" },\n        systemPrompt: { value: (_a = options == null ? void 0 : options.systemPrompt) != null ? _a : \"\", type: \"string\" },\n        tools: { value: JSON.stringify((_b = options == null ? void 0 : options.tools) != null ? _b : {}), type: \"object\" }\n      }, (options == null ? void 0 : options.integrations) && {\n        integrations: {\n          value: JSON.stringify(options.integrations),\n          type: \"object\"\n        }\n      })\n    });\n    if (options == null ? void 0 : options.cua) {\n      if (((options == null ? void 0 : options.integrations) || (options == null ? void 0 : options.tools)) && !this.experimental) {\n        throw new ExperimentalNotConfiguredError(\n          \"MCP integrations and custom tools\"\n        );\n      }\n      const modelToUse = (options == null ? void 0 : options.model) || __spreadValues({\n        modelName: this.modelName\n      }, this.modelClientOptions);\n      const { modelName, isCua, clientOptions } = resolveModel(modelToUse);\n      if (!isCua) {\n        throw new CuaModelRequiredError(AVAILABLE_CUA_MODELS);\n      }\n      const agentConfigSignature2 = this.agentCache.buildConfigSignature(options);\n      return {\n        execute: (instructionOrOptions) => __async(this, null, function* () {\n          return withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n            var _a2, _b2;\n            if ((options == null ? void 0 : options.integrations) && !this.experimental) {\n              throw new ExperimentalNotConfiguredError(\"MCP integrations\");\n            }\n            const tools = (options == null ? void 0 : options.integrations) ? yield resolveTools(options.integrations, options.tools) : (_a2 = options == null ? void 0 : options.tools) != null ? _a2 : {};\n            const handler = new V3CuaAgentHandler(\n              this,\n              this.logger,\n              {\n                modelName,\n                clientOptions,\n                userProvidedInstructions: (_b2 = options.systemPrompt) != null ? _b2 : `You are a helpful assistant that can use a web browser.\nDo not ask follow up questions, the user will trust your judgement.`\n              },\n              tools\n            );\n            const resolvedOptions = typeof instructionOrOptions === \"string\" ? { instruction: instructionOrOptions } : instructionOrOptions;\n            if (resolvedOptions.page) {\n              const normalizedPage = yield this.normalizeToV3Page(\n                resolvedOptions.page\n              );\n              this.ctx.setActivePage(normalizedPage);\n            }\n            const instruction = resolvedOptions.instruction.trim();\n            const sanitizedOptions = this.agentCache.sanitizeExecuteOptions(resolvedOptions);\n            let cacheContext = null;\n            if (this.agentCache.shouldAttemptCache(instruction)) {\n              const startPage = yield this.ctx.awaitActivePage();\n              cacheContext = yield this.agentCache.prepareContext({\n                instruction,\n                options: sanitizedOptions,\n                configSignature: agentConfigSignature2,\n                page: startPage\n              });\n              if (cacheContext) {\n                const replayed = yield this.agentCache.tryReplay(cacheContext);\n                if (replayed) {\n                  return replayed;\n                }\n              }\n            }\n            let agentSteps = [];\n            const recording = !!cacheContext;\n            if (recording) {\n              this.beginAgentReplayRecording();\n            }\n            let result;\n            try {\n              if (this.apiClient && !this.experimental) {\n                const page = yield this.ctx.awaitActivePage();\n                result = yield this.apiClient.agentExecute(\n                  options,\n                  resolvedOptions,\n                  page.mainFrameId()\n                );\n              } else {\n                result = yield handler.execute(instructionOrOptions);\n              }\n              if (recording) {\n                agentSteps = this.endAgentReplayRecording();\n              }\n              if (cacheContext && result.success && agentSteps.length > 0) {\n                yield this.agentCache.store(cacheContext, agentSteps, result);\n              }\n              return result;\n            } catch (err) {\n              if (recording) this.discardAgentReplayRecording();\n              throw err;\n            } finally {\n              if (recording) {\n                this.discardAgentReplayRecording();\n              }\n            }\n          }));\n        })\n      };\n    }\n    const agentConfigSignature = this.agentCache.buildConfigSignature(options);\n    return {\n      execute: (instructionOrOptions) => __async(this, null, function* () {\n        return withInstanceLogContext(this.instanceId, () => __async(this, null, function* () {\n          var _a2, _b2;\n          if (((options == null ? void 0 : options.integrations) || (options == null ? void 0 : options.tools)) && !this.experimental) {\n            throw new ExperimentalNotConfiguredError(\n              \"MCP integrations and custom tools\"\n            );\n          }\n          const tools = (options == null ? void 0 : options.integrations) ? yield resolveTools(options.integrations, options.tools) : (_a2 = options == null ? void 0 : options.tools) != null ? _a2 : {};\n          const agentLlmClient = (options == null ? void 0 : options.model) ? this.resolveLlmClient(options.model) : this.llmClient;\n          const handler = new V3AgentHandler(\n            this,\n            this.logger,\n            agentLlmClient,\n            typeof (options == null ? void 0 : options.executionModel) === \"string\" ? options.executionModel : (_b2 = options == null ? void 0 : options.executionModel) == null ? void 0 : _b2.modelName,\n            options == null ? void 0 : options.systemPrompt,\n            tools\n          );\n          const resolvedOptions = typeof instructionOrOptions === \"string\" ? { instruction: instructionOrOptions } : instructionOrOptions;\n          if (resolvedOptions.page) {\n            const normalizedPage = yield this.normalizeToV3Page(\n              resolvedOptions.page\n            );\n            this.ctx.setActivePage(normalizedPage);\n          }\n          const instruction = resolvedOptions.instruction.trim();\n          const sanitizedOptions = this.agentCache.sanitizeExecuteOptions(resolvedOptions);\n          let cacheContext = null;\n          if (this.agentCache.shouldAttemptCache(instruction)) {\n            const startPage = yield this.ctx.awaitActivePage();\n            cacheContext = yield this.agentCache.prepareContext({\n              instruction,\n              options: sanitizedOptions,\n              configSignature: agentConfigSignature,\n              page: startPage\n            });\n            if (cacheContext) {\n              const replayed = yield this.agentCache.tryReplay(cacheContext);\n              if (replayed) {\n                return replayed;\n              }\n            }\n          }\n          let agentSteps = [];\n          const recording = !!cacheContext;\n          if (recording) {\n            this.beginAgentReplayRecording();\n          }\n          let result;\n          try {\n            if (this.apiClient && !this.experimental) {\n              const page = yield this.ctx.awaitActivePage();\n              result = yield this.apiClient.agentExecute(\n                options,\n                resolvedOptions,\n                page.mainFrameId()\n              );\n            } else {\n              result = yield handler.execute(instructionOrOptions);\n            }\n            if (recording) {\n              agentSteps = this.endAgentReplayRecording();\n            }\n            if (cacheContext && result.success && agentSteps.length > 0) {\n              yield this.agentCache.store(cacheContext, agentSteps, result);\n            }\n            return result;\n          } catch (err) {\n            if (recording) this.discardAgentReplayRecording();\n            throw err;\n          } finally {\n            if (recording) {\n              this.discardAgentReplayRecording();\n            }\n          }\n        }));\n      })\n    };\n  }\n};\n_V3._processGuardsInstalled = false;\n_V3._instances = /* @__PURE__ */ new Set();\nvar V3 = _V3;\nfunction isObserveResult(v) {\n  return !!v && typeof v === \"object\" && \"selector\" in v;\n}\n\n// lib/v3Evaluator.ts\nvar import_dotenv2 = __toESM(require(\"dotenv\"));\nvar import_v318 = require(\"zod/v3\");\ninit_sdkErrors();\nimport_dotenv2.default.config();\nvar EvaluationSchema = import_v318.z.object({\n  evaluation: import_v318.z.enum([\"YES\", \"NO\"]),\n  reasoning: import_v318.z.string()\n});\nvar BatchEvaluationSchema = import_v318.z.array(EvaluationSchema);\nvar V3Evaluator = class {\n  constructor(v3, modelName, modelClientOptions) {\n    this.silentLogger = () => {\n    };\n    this.v3 = v3;\n    this.modelName = modelName || \"google/gemini-2.5-flash\";\n    this.modelClientOptions = modelClientOptions || {\n      apiKey: process.env.GEMINI_API_KEY || process.env.GOOGLE_GENERATIVE_AI_API_KEY || \"\"\n    };\n  }\n  getClient() {\n    const provider = new LLMProvider(this.v3.logger);\n    return provider.getClient(this.modelName, this.modelClientOptions);\n  }\n  ask(options) {\n    return __async(this, null, function* () {\n      const {\n        question,\n        answer,\n        screenshot = true,\n        systemPrompt,\n        screenshotDelayMs = 250,\n        agentReasoning\n      } = options;\n      if (!question)\n        throw new StagehandInvalidArgumentError(\n          \"Question cannot be an empty string\"\n        );\n      if (!answer && !screenshot)\n        throw new StagehandInvalidArgumentError(\n          \"Either answer (text) or screenshot must be provided\"\n        );\n      if (Array.isArray(screenshot)) {\n        return this._evaluateWithMultipleScreenshots({\n          question,\n          screenshots: screenshot,\n          systemPrompt,\n          agentReasoning\n        });\n      }\n      const defaultSystemPrompt = `You are an expert evaluator that confidently returns YES or NO based on if the original goal was achieved. You have access to  ${screenshot ? \"a screenshot\" : \"the agents reasoning and actions throughout the task\"} that you can use to evaluate the tasks completion. Provide detailed reasoning for your answer.\n          Today's date is ${(/* @__PURE__ */ new Date()).toLocaleDateString()}`;\n      yield new Promise((r) => setTimeout(r, screenshotDelayMs));\n      let imageBuffer;\n      if (screenshot) {\n        const page = yield this.v3.context.awaitActivePage();\n        imageBuffer = yield page.screenshot({ fullPage: false });\n      }\n      const llmClient = this.getClient();\n      const response = yield llmClient.createChatCompletion({\n        logger: this.silentLogger,\n        options: {\n          messages: [\n            { role: \"system\", content: systemPrompt || defaultSystemPrompt },\n            {\n              role: \"user\",\n              content: [\n                {\n                  type: \"text\",\n                  text: agentReasoning ? `Question: ${question}\n\nAgent's reasoning and actions taken:\n${agentReasoning}` : question\n                },\n                ...screenshot && imageBuffer ? [\n                  {\n                    type: \"image_url\",\n                    image_url: {\n                      url: `data:image/jpeg;base64,${imageBuffer.toString(\"base64\")}`\n                    }\n                  }\n                ] : [],\n                ...answer ? [{ type: \"text\", text: `the answer is ${answer}` }] : []\n              ]\n            }\n          ],\n          response_model: { name: \"EvaluationResult\", schema: EvaluationSchema }\n        }\n      });\n      try {\n        const result = response.data;\n        return { evaluation: result.evaluation, reasoning: result.reasoning };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        return {\n          evaluation: \"INVALID\",\n          reasoning: `Failed to get structured response: ${errorMessage}`\n        };\n      }\n    });\n  }\n  batchAsk(options) {\n    return __async(this, null, function* () {\n      const {\n        questions,\n        screenshot = true,\n        systemPrompt = \"You are an expert evaluator that returns YES or NO with a concise reasoning.\",\n        screenshotDelayMs = 250\n      } = options;\n      if (!(questions == null ? void 0 : questions.length))\n        throw new StagehandInvalidArgumentError(\n          \"Questions array cannot be empty\"\n        );\n      yield new Promise((r) => setTimeout(r, screenshotDelayMs));\n      let imageBuffer;\n      if (screenshot) {\n        const page = yield this.v3.context.awaitActivePage();\n        imageBuffer = yield page.screenshot({ fullPage: false });\n      }\n      const llmClient = this.getClient();\n      const formatted = questions.map(\n        (item, i) => `${i + 1}. ${item.question}${item.answer ? `\n   Answer: ${item.answer}` : \"\"}`\n      ).join(\"\\n\\n\");\n      const response = yield llmClient.createChatCompletion({\n        logger: this.silentLogger,\n        options: {\n          messages: [\n            {\n              role: \"system\",\n              content: `${systemPrompt}\n\nYou will be given multiple questions${screenshot ? \" with a screenshot\" : \"\"}. ${questions.some((q) => q.answer) ? \"Some questions include answers to evaluate.\" : \"\"} Answer each question by returning an object in the specified JSON format. Return a single JSON array containing one object for each question in the order they were asked.`\n            },\n            {\n              role: \"user\",\n              content: [\n                { type: \"text\", text: formatted },\n                ...screenshot && imageBuffer ? [\n                  {\n                    type: \"image_url\",\n                    image_url: {\n                      url: `data:image/jpeg;base64,${imageBuffer.toString(\"base64\")}`\n                    }\n                  }\n                ] : []\n              ]\n            }\n          ],\n          response_model: {\n            name: \"BatchEvaluationResult\",\n            schema: BatchEvaluationSchema\n          }\n        }\n      });\n      try {\n        const results = response.data;\n        return results.map((r) => ({\n          evaluation: r.evaluation,\n          reasoning: r.reasoning\n        }));\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        return questions.map(() => ({\n          evaluation: \"INVALID\",\n          reasoning: `Failed to get structured response: ${errorMessage}`\n        }));\n      }\n    });\n  }\n  _evaluateWithMultipleScreenshots(options) {\n    return __async(this, null, function* () {\n      const {\n        question,\n        screenshots,\n        agentReasoning,\n        systemPrompt = `You are an expert evaluator that confidently returns YES or NO given a question and multiple screenshots showing the progression of a task.\n        ${agentReasoning ? \"You also have access to the agent's detailed reasoning and thought process throughout the task.\" : \"\"}\n        Analyze ALL screenshots to understand the complete journey. Look for evidence of task completion across all screenshots, not just the last one.\n        Success criteria may appear at different points in the sequence (confirmation messages, intermediate states, etc).\n        ${agentReasoning ? \"The agent's reasoning provides crucial context about what actions were attempted, what was observed, and the decision-making process. Use this alongside the visual evidence to make a comprehensive evaluation.\" : \"\"}\n        Today's date is ${(/* @__PURE__ */ new Date()).toLocaleDateString()}`\n      } = options;\n      if (!question)\n        throw new StagehandInvalidArgumentError(\n          \"Question cannot be an empty string\"\n        );\n      if (!screenshots || screenshots.length === 0)\n        throw new StagehandInvalidArgumentError(\n          \"At least one screenshot must be provided\"\n        );\n      const llmClient = this.getClient();\n      const imageContents = screenshots.map((s) => ({\n        type: \"image_url\",\n        image_url: { url: `data:image/jpeg;base64,${s.toString(\"base64\")}` }\n      }));\n      const response = yield llmClient.createChatCompletion({\n        logger: this.silentLogger,\n        options: {\n          messages: [\n            { role: \"system\", content: systemPrompt },\n            {\n              role: \"user\",\n              content: [\n                {\n                  type: \"text\",\n                  text: agentReasoning ? `Question: ${question}\n\nAgent's reasoning and actions throughout the task:\n${agentReasoning}\n\nI'm providing ${screenshots.length} screenshots showing the progression of the task. Please analyze both the agent's reasoning and all screenshots to determine if the task was completed successfully.` : `${question}\n\nI'm providing ${screenshots.length} screenshots showing the progression of the task. Please analyze all of them to determine if the task was completed successfully.`\n                },\n                ...imageContents\n              ]\n            }\n          ],\n          response_model: { name: \"EvaluationResult\", schema: EvaluationSchema }\n        }\n      });\n      try {\n        const result = response.data;\n        return { evaluation: result.evaluation, reasoning: result.reasoning };\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        return {\n          evaluation: \"INVALID\",\n          reasoning: `Failed to get structured response: ${errorMessage}`\n        };\n      }\n    });\n  }\n};\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  AISdkClient,\n  AVAILABLE_CUA_MODELS,\n  AgentProvider,\n  AgentScreenshotProviderError,\n  AnnotatedScreenshotText,\n  BrowserbaseSessionNotFoundError,\n  CaptchaTimeoutError,\n  ConnectionTimeoutError,\n  ConsoleMessage,\n  ContentFrameNotFoundError,\n  CreateChatCompletionResponseError,\n  CuaModelRequiredError,\n  ElementNotVisibleError,\n  ExperimentalApiConflictError,\n  ExperimentalNotConfiguredError,\n  HandlerNotInitializedError,\n  InvalidAISDKModelFormatError,\n  LLMClient,\n  LLMResponseError,\n  LOG_LEVEL_NAMES,\n  MCPConnectionError,\n  MissingEnvironmentVariableError,\n  MissingLLMConfigurationError,\n  PageNotFoundError,\n  Response,\n  ResponseBodyError,\n  ResponseParseError,\n  Stagehand,\n  StagehandAPIError,\n  StagehandAPIUnauthorizedError,\n  StagehandClickError,\n  StagehandDefaultError,\n  StagehandDomProcessError,\n  StagehandElementNotFoundError,\n  StagehandEnvironmentError,\n  StagehandError,\n  StagehandEvalError,\n  StagehandHttpError,\n  StagehandIframeError,\n  StagehandInitError,\n  StagehandInvalidArgumentError,\n  StagehandMissingArgumentError,\n  StagehandNotInitializedError,\n  StagehandResponseBodyError,\n  StagehandResponseParseError,\n  StagehandServerError,\n  StagehandShadowRootMissingError,\n  StagehandShadowSegmentEmptyError,\n  StagehandShadowSegmentNotFoundError,\n  TimeoutError,\n  UnsupportedAISDKModelProviderError,\n  UnsupportedModelError,\n  UnsupportedModelProviderError,\n  V3,\n  V3Evaluator,\n  V3FunctionName,\n  XPathResolutionError,\n  ZodSchemaValidationError,\n  connectToMCPServer,\n  defaultExtractSchema,\n  getZodType,\n  injectUrls,\n  isRunningInBun,\n  jsonSchemaToZod,\n  loadApiKeyFromEnv,\n  modelToAgentProviderMap,\n  pageTextSchema,\n  providerEnvVarMap,\n  toGeminiSchema,\n  transformSchema,\n  trimTrailingTextNode,\n  validateZodSchema\n});\n/*! Bundled license information:\n\nlighthouse-logger/index.js:\n  (**\n   * @license\n   * Copyright 2016 Google LLC\n   * SPDX-License-Identifier: Apache-2.0\n   *)\n\nchrome-launcher/dist/utils.js:\nchrome-launcher/dist/flags.js:\n  (**\n   * @license Copyright 2017 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n   *)\n\nchrome-launcher/dist/chrome-finder.js:\nchrome-launcher/dist/random-port.js:\nchrome-launcher/dist/chrome-launcher.js:\n  (**\n   * @license Copyright 2016 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n   *)\n*/\n"],"names":[],"mappings":"AAAA,IAAI,WAAW,OAAO,MAAM;AAC5B,IAAI,YAAY,OAAO,cAAc;AACrC,IAAI,aAAa,OAAO,gBAAgB;AACxC,IAAI,mBAAmB,OAAO,wBAAwB;AACtD,IAAI,oBAAoB,OAAO,yBAAyB;AACxD,IAAI,oBAAoB,OAAO,mBAAmB;AAClD,IAAI,sBAAsB,OAAO,qBAAqB;AACtD,IAAI,eAAe,OAAO,cAAc;AACxC,IAAI,eAAe,OAAO,SAAS,CAAC,cAAc;AAClD,IAAI,eAAe,OAAO,SAAS,CAAC,oBAAoB;AACxD,IAAI,kBAAkB,CAAC,KAAK,KAAK,QAAU,OAAO,MAAM,UAAU,KAAK,KAAK;QAAE,YAAY;QAAM,cAAc;QAAM,UAAU;QAAM;IAAM,KAAK,GAAG,CAAC,IAAI,GAAG;AAC1J,IAAI,iBAAiB,CAAC,GAAG;IACvB,IAAK,IAAI,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,EAC3B,IAAI,aAAa,IAAI,CAAC,GAAG,OACvB,gBAAgB,GAAG,MAAM,CAAC,CAAC,KAAK;IACpC,IAAI,qBACF,KAAK,IAAI,QAAQ,oBAAoB,GAAI;QACvC,IAAI,aAAa,IAAI,CAAC,GAAG,OACvB,gBAAgB,GAAG,MAAM,CAAC,CAAC,KAAK;IACpC;IACF,OAAO;AACT;AACA,IAAI,gBAAgB,CAAC,GAAG,IAAM,WAAW,GAAG,kBAAkB;AAC9D,IAAI,YAAY,CAAC,QAAQ;IACvB,IAAI,SAAS,CAAC;IACd,IAAK,IAAI,QAAQ,OACf,IAAI,aAAa,IAAI,CAAC,QAAQ,SAAS,QAAQ,OAAO,CAAC,QAAQ,GAC7D,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK;IAC/B,IAAI,UAAU,QAAQ,qBACpB,KAAK,IAAI,QAAQ,oBAAoB,QAAS;QAC5C,IAAI,QAAQ,OAAO,CAAC,QAAQ,KAAK,aAAa,IAAI,CAAC,QAAQ,OACzD,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK;IAC/B;IACF,OAAO;AACT;AACA,IAAI,QAAQ,CAAC,IAAI,MAAQ,SAAS;QAChC,OAAO,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,kBAAkB,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG;IAClE;AACA,IAAI,aAAa,CAAC,IAAI,MAAQ,SAAS;QACrC,OAAO,OAAO,CAAC,GAAG,EAAE,CAAC,kBAAkB,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM;YAAE,SAAS,CAAC;QAAE,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,OAAO;IACpG;AACA,IAAI,WAAW,CAAC,QAAQ;IACtB,IAAK,IAAI,QAAQ,IACf,UAAU,QAAQ,MAAM;QAAE,KAAK,GAAG,CAAC,KAAK;QAAE,YAAY;IAAK;AAC/D;AACA,IAAI,cAAc,CAAC,IAAI,MAAM,QAAQ;IACnC,IAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;QAClE,KAAK,IAAI,OAAO,kBAAkB,MAChC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,QAAQ,QAAQ,QACzC,UAAU,IAAI,KAAK;YAAE,KAAK,IAAM,IAAI,CAAC,IAAI;YAAE,YAAY,CAAC,CAAC,OAAO,iBAAiB,MAAM,IAAI,KAAK,KAAK,UAAU;QAAC;IACtH;IACA,OAAO;AACT;AACA,IAAI,UAAU,CAAC,KAAK,YAAY,SAAW,CAAC,SAAS,OAAO,OAAO,SAAS,aAAa,QAAQ,CAAC,GAAG,YACnG,sEAAsE;IACtE,iEAAiE;IACjE,sEAAsE;IACtE,qEAAqE;IACrE,cAAc,CAAC,OAAO,CAAC,IAAI,UAAU,GAAG,UAAU,QAAQ,WAAW;QAAE,OAAO;QAAK,YAAY;IAAK,KAAK,QACzG,IACD;AACD,IAAI,eAAe,CAAC,MAAQ,YAAY,UAAU,CAAC,GAAG,cAAc;QAAE,OAAO;IAAK,IAAI;AACtF,IAAI,UAAU,CAAC,QAAQ,aAAa;IAClC,OAAO,IAAI,QAAQ,CAAC,UAAU;QAC5B,IAAI,YAAY,CAAC;YACf,IAAI;gBACF,KAAK,UAAU,IAAI,CAAC;YACtB,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,IAAI,WAAW,CAAC;YACd,IAAI;gBACF,KAAK,UAAU,KAAK,CAAC;YACvB,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,IAAI,OAAO,CAAC,IAAM,EAAE,IAAI,GAAG,SAAS,EAAE,KAAK,IAAI,QAAQ,OAAO,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW;QACxF,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,QAAQ,YAAY,EAAE,IAAI;IAC9D;AACF;AAEA,iBAAiB;AACjB,IAAI;AACJ,IAAI,eAAe,MAAM;IACvB;QACE,oBAAoB;IACtB;AACF;AAEA,mCAAmC;AACnC,IAAI,gBAAgB,uBAAuB,2BAA2B,iCAAiC,uBAAuB,+BAA+B,oCAAoC,8BAA8B,8BAA8B,iCAAiC,qBAAqB,8BAA8B,4BAA4B,+BAA+B,+BAA+B,8BAA8B,+BAA+B,mCAAmC,oBAAoB,0BAA0B,qBAAqB,kBAAkB,sBAAsB,2BAA2B,sBAAsB,8BAA8B,gCAAgC,uBAAuB,0BAA0B,oBAAoB,oBAAoB,iCAAiC,kCAAkC,qCAAqC,wBAAwB,mBAAmB,oBAAoB,cAAc,mBAAmB;AACtgC,IAAI,iBAAiB,MAAM;IACzB;QACE;QACA,iBAAiB,cAAc;YAC7B,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC;gBACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;YACnC;QACF;QACA,wBAAwB,cAAc;YACpC,YAAY,KAAK,CAAE;gBACjB,IAAI,iBAAiB,SAAS,iBAAiB,gBAAgB;oBAC7D,KAAK,CACH,CAAC;;mBAEM,EAAE,kBAAkB;;;;AAIvC,EAAE,MAAM,OAAO,EAAE;gBAET;YACF;QACF;QACA,4BAA4B,cAAc;YACxC,YAAY,kBAAkB,EAAE,mBAAmB,EAAE,OAAO,CAAE;gBAC5D,KAAK,CACH,CAAC,kDAAkD,EAAE,mBAAmB,kCAAkC,EAAE,oBAAoB,oBAAoB,EAAE,QAAQ,CAAC,CAAC;YAEpK;QACF;QACA,kCAAkC,cAAc;YAC9C,YAAY,0BAA0B,EAAE,OAAO,CAAE;gBAC/C,KAAK,CACH,GAAG,2BAA2B,oBAAoB,EAAE,QAAQ,YAAY,EAAE,2BAA2B,qBAAqB,CAAC;YAE/H;QACF;QACA,wBAAwB,cAAc;YACpC,YAAY,eAAe,EAAE,OAAO,CAAE;gBACpC,KAAK,CACH,UAAU,GAAG,QAAQ,uCAAuC,EAAE,iBAAiB,GAAG,CAAC,wCAAwC,EAAE,iBAAiB;YAElJ;QACF;QACA,gCAAgC,cAAc;YAC5C,YAAY,kBAAkB,EAAE,OAAO,CAAE;gBACvC,KAAK,CACH,UAAU,GAAG,QAAQ,gDAAgD,EAAE,oBAAoB,GAAG,CAAC,iDAAiD,EAAE,oBAAoB;YAE1K;QACF;QACA,qCAAqC,cAAc;YACjD,YAAY,QAAQ,EAAE,kBAAkB,CAAE;gBACxC,KAAK,CACH,GAAG,SAAS,wFAAwF,EAAE,oBAAoB;YAE9H;QACF;QACA,+BAA+B,cAAc;YAC3C,YAAY,SAAS,CAAE;gBACrB,KAAK,CACH,GAAG,UAAU,4JAA4J,CAAC;YAE9K;QACF;QACA,+BAA+B,cAAc;YAC3C,YAAY,IAAI,CAAE;gBAChB,KAAK,CACH,CAAC,yBAAyB,EAAE,KAAK,wKAAwK,CAAC;YAE9M;QACF;QACA,kCAAkC,cAAc;YAC9C,aAAc;gBACZ,KAAK,CAAC;YACR;QACF;QACA,sBAAsB,cAAc;YAClC,aAAc;gBACZ,KAAK,CAAC;YACR;QACF;QACA,+BAA+B,cAAc;YAC3C,aAAc;gBACZ,KAAK,CACH;YAEJ;QACF;QACA,6BAA6B,cAAc;YACzC,YAAY,WAAW,CAAE;gBACvB,KAAK,CAAC,GAAG,YAAY,wBAAwB,CAAC;YAChD;QACF;QACA,gCAAgC,cAAc;YAC5C,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,sBAAsB,EAAE,SAAS;YAC1C;QACF;QACA,gCAAgC,cAAc;YAC5C,YAAY,MAAM,CAAE;gBAClB,KAAK,CAAC,CAAC,kDAAkD,EAAE,QAAQ;YACrE;QACF;QACA,+BAA+B,cAAc;YAC3C,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,yBAAyB,EAAE,SAAS;YAC7C;QACF;QACA,gCAAgC,cAAc;YAC5C,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,sBAAsB,EAAE,SAAS;YAC1C;QACF;QACA,oCAAoC,cAAc;YAChD,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,mCAAmC,EAAE,SAAS;YACvD;QACF;QACA,qBAAqB,cAAc;YACjC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,oBAAoB,EAAE,SAAS;YACxC;QACF;QACA,2BAA2B,cAAc;YACvC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,sBAAsB,EAAE,SAAS;YAC1C;QACF;QACA,sBAAsB,cAAc;YAClC,YAAY,OAAO,EAAE,QAAQ,CAAE;gBAC7B,KAAK,CACH,CAAC,sCAAsC,EAAE,SAAS,SAAS,EAAE,SAAS;YAE1E;QACF;QACA,mBAAmB,cAAc;YAC/B,YAAY,SAAS,EAAE,OAAO,CAAE;gBAC9B,KAAK,CAAC,GAAG,UAAU,qBAAqB,EAAE,SAAS;YACrD;QACF;QACA,uBAAuB,cAAc;YACnC,YAAY,QAAQ,EAAE,OAAO,CAAE;gBAC7B,KAAK,CACH,CAAC,+CAA+C,EAAE,SAAS,aAAa,EAAE,SAAS;YAEvF;QACF;QACA,4BAA4B,cAAc;YACxC,YAAY,QAAQ,CAAE;gBACpB,KAAK,CAAC,CAAC,+CAA+C,EAAE,UAAU;YACpE;QACF;QACA,uBAAuB,cAAc;YACnC,YAAY,KAAK,CAAE;gBACjB,KAAK,CAAC,CAAC,OAAO,EAAE,MAAM,gDAAgD,CAAC;YACzE;QACF;QACA,+BAA+B,cAAc;YAC3C,aAAc;gBACZ,KAAK,CACH;YAEJ;QACF;QACA,iCAAiC,cAAc;YAC7C,YAAY,WAAW,CAAE;gBACvB,KAAK,CAAC,CAAC,SAAS,EAAE,YAAY;;wDAEkB,EAAE,YAAY;4EACM,CAAC;YACvE;QACF;QACA,wBAAwB,cAAc;YACpC,YAAY,eAAe,CAAE;gBAC3B,KAAK,CACH,CAAC,mJAAmJ,EAAE,gBAAgB,IAAI,CAAC,OAAO;YAEtL;QACF;QACA,2BAA2B,cAAc;YACvC,YAAY,QAAQ,EAAE,MAAM,CAAE;gBAC5B,KAAK,CAAC,CAAC;;;AAGf,EAAE,KAAK,SAAS,CAAC,UAAU,MAAM,GAAG;;;AAGpC,EAAE,KAAK,SAAS,CAAC,QAAQ,MAAM,IAAI;gBAC3B,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,CAAC,MAAM,GAAG;gBACd,IAAI,CAAC,IAAI,GAAG;YACd;QACF;QACA,qBAAqB,cAAc;YACjC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC;YACR;QACF;QACA,qBAAqB,cAAc;YACjC,YAAY,SAAS,EAAE,aAAa,CAAE;gBACpC,MAAM,eAAe,yBAAyB,QAAQ,cAAc,OAAO,GAAG,OAAO;gBACrF,KAAK,CACH,CAAC,oCAAoC,EAAE,UAAU,GAAG,EAAE,aAAa,oEAAoE,CAAC;gBAE1I,IAAI,CAAC,SAAS,GAAG;gBACjB,IAAI,CAAC,aAAa,GAAG;YACvB;QACF;QACA,kCAAkC,cAAc;YAC9C,YAAY,MAAM,CAAE;gBAClB,KAAK,CACH,CAAC,2CAA2C,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,QAAQ,GAAG,EAAE;YAEhF;QACF;QACA,mCAAmC,cAAc;YAC/C,aAAc;gBACZ,KAAK,CAAC,CAAC,kDAAkD,CAAC;YAC5D;QACF;QACA,sCAAsC,cAAc;YAClD,YAAY,OAAO,EAAE,IAAI,CAAE;gBACzB,KAAK,CACH,CAAC,gBAAgB,EAAE,QAAQ,uCAAuC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE;YAEjG;QACF;QACA,yBAAyB,cAAc;YACrC,YAAY,QAAQ,CAAE;gBACpB,KAAK,CAAC,CAAC,oCAAoC,EAAE,UAAU;YACzD;QACF;QACA,oBAAoB,cAAc;YAChC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,kCAAkC,EAAE,SAAS;YACtD;QACF;QACA,qBAAqB,cAAc;YACjC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,0BAA0B,EAAE,SAAS;YAC9C;QACF;QACA,eAAe,cAAc;YAC3B,YAAY,SAAS,EAAE,SAAS,CAAE;gBAChC,KAAK,CAAC,GAAG,UAAU,iBAAiB,EAAE,UAAU,EAAE,CAAC;YACrD;QACF;QACA,oBAAoB,cAAc;YAChC,YAAY,UAAU,CAAE;gBACtB,KAAK,CAAC,CAAC,kBAAkB,EAAE,YAAY;YACzC;QACF;QACA,yBAAyB,cAAc;YACrC,YAAY,OAAO,CAAE;gBACnB,KAAK,CAAC,CAAC,oBAAoB,EAAE,SAAS;YACxC;QACF;IACF;AACF;AAEA,mBAAmB;AACnB,SAAS,mBAAmB,UAAU,EAAE,MAAM;IAC5C,gBAAgB,GAAG,CAAC,YAAY;AAClC;AACA,SAAS,qBAAqB,UAAU;IACtC,gBAAgB,MAAM,CAAC;AACzB;AACA,SAAS,uBAAuB,UAAU,EAAE,EAAE;IAC5C,OAAO,WAAW,GAAG,CAAC,YAAY;AACpC;AACA,SAAS,SAAS,IAAI;IACpB,IAAI,IAAI,IAAI;IACZ,MAAM,KAAK,WAAW,QAAQ;IAC9B,IAAI,IAAI;QACN,MAAM,KAAK,gBAAgB,GAAG,CAAC;QAC/B,IAAI,IAAI;YACN,MAAM,WAAW,cAAc,eAAe,CAAC,GAAG,OAAO;gBACvD,WAAW,eAAe,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC;YACnD;YACA,IAAI;gBACF,GAAG;gBACH;YACF,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,MAAM,KAAK,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;IACxF,MAAM,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,KAAK;IAC7C,MAAM,WAAW,QAAQ,IAAI,UAAU,QAAQ,IAAI,UAAU;IAC7D,IAAI,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,SAAS,EAAE,EAAE,KAAK,OAAO,EAAE;IACnD,IAAI,KAAK,SAAS,EAAE;QAClB,KAAK,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,IAAI,OAAO,OAAO,CAAC,KAAK,SAAS,EAAG;YACnE,IAAI,iBAAiB;YACrB,IAAI,SAAS,UAAU;gBACrB,IAAI;oBACF,iBAAiB,KAAK,SAAS,CAAC,KAAK,KAAK,CAAC,QAAQ,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,OAAO,IAAM,MAAM,IAAI,QAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;gBACnI,EAAE,OAAO,GAAG;oBACV,iBAAiB;gBACnB;YACF;YACA,UAAU,CAAC;IACb,EAAE,IAAI,EAAE,EAAE,gBAAgB;QAC1B;IACF;IACA,IAAI,QAAQ,GAAG;QACb,QAAQ,KAAK,CAAC;IAChB,OAAO,IAAI,QAAQ,GAAG;QACpB,CAAC,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,QAAQ,GAAG,EAAE;IACpD,OAAO;QACL,QAAQ,GAAG,CAAC;IACd;AACF;AACA,IAAI,yBAAyB,YAAY;AACzC,IAAI,cAAc,MAAM;IACtB;QACE;QACA,aAAa,IAAI,wBAAwB,iBAAiB;QAC1D,kBAAkB,aAAa,GAAG,IAAI;IACxC;AACF;AAEA,gDAAgD;AAChD,IAAI,0BAA0B;AAC9B,IAAI,gCAAgC,MAAM;IACxC;QACE,2BAA2B;YACzB,aAAc;gBACZ,IAAI,CAAC,OAAO,GAAG,aAAa,GAAG,IAAI;gBACnC,IAAI,CAAC,MAAM,GAAG,aAAa,GAAG,IAAI;YACpC;YACA,iEAAiE,GACjE,cAAc,OAAO,EAAE;gBACrB,MAAM,YAAY,CAAC;oBACjB,IAAI;oBACJ,MAAM,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,KAAK,CAAC;oBACvD,IAAI,IAAI,SAAS,KAAK,QAAQ,OAAO,IAAI,OAAO,KAAK,UAAU;wBAC7D,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,OAAO,EAAE,IAAI,OAAO,CAAC,EAAE;oBACpD;gBACF;gBACA,MAAM,cAAc,CAAC;oBACnB,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBAC5B,MAAM,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;oBAC7B,IAAI,CAAC,OAAO,CAAC,KAAK;oBAClB,MAAM,UAAU,IAAI,GAAG,CAAC,IAAI,kBAAkB;oBAC9C,IAAI,CAAC,SAAS;oBACd,IAAI,MAAM,CAAC,IAAI,kBAAkB;oBACjC,IAAI,IAAI,GAAG,CAAC,aAAa,IAAI,kBAAkB,EAAE,IAAI,MAAM,CAAC;gBAC9D;gBACA,MAAM,YAAY;oBAChB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBACrB;gBACA,QAAQ,EAAE,CAAC,mCAAmC;gBAC9C,QAAQ,EAAE,CAAC,qCAAqC;gBAChD,QAAQ,EAAE,CAAC,oCAAoC;YACjD;YACA,aAAa,OAAO,EAAE,OAAO,EAAE;gBAC7B,IAAI,IAAI;gBACR,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK;YACnG;YACA,iBAAiB,OAAO,EAAE,OAAO,EAAE,YAAY,GAAG,EAAE;gBAClD,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,SAAS,IAAI,CAAC,YAAY,CAAC,SAAS;oBAC1C,IAAI,QAAQ,OAAO;oBACnB,MAAM,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC3C;oBACA,MAAM,QAAQ,IAAI,CAAC,YAAY,CAAC,SAAS;oBACzC,IAAI,OAAO,OAAO;oBAClB,OAAO,MAAM,IAAI,QAAQ,CAAC,UAAU;wBAClC,IAAI,OAAO;wBACX,MAAM,YAAY,CAAC;4BACjB,IAAI;4BACJ,MAAM,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,KAAK,CAAC;4BACvD,IAAI,IAAI,SAAS,KAAK,QAAQ,IAAI,OAAO,KAAK,SAAS;gCACrD,IAAI,CAAC,QAAQ,CAAC,SAAS,SAAS,IAAI,OAAO,CAAC,EAAE;gCAC9C,IAAI,CAAC,MAAM;oCACT,OAAO;oCACP,aAAa;oCACb,QAAQ,GAAG,CAAC,mCAAmC;oCAC/C,SAAS,IAAI,OAAO,CAAC,EAAE;gCACzB;4BACF;wBACF;wBACA,MAAM,QAAQ,WAAW;4BACvB,IAAI,CAAC,MAAM;gCACT,OAAO;gCACP,QAAQ,GAAG,CAAC,mCAAmC;gCAC/C,OAAO,IAAI,MAAM,CAAC,+BAA+B,EAAE,SAAS;4BAC9D;wBACF,GAAG;wBACH,QAAQ,EAAE,CAAC,mCAAmC;oBAChD;gBACF;YACF;YACA,SAAS,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE;gBAChC,IAAI,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;gBAC3B,IAAI,CAAC,KAAK;oBACR,MAAM,aAAa,GAAG,IAAI;oBAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS;gBAC5B;gBACA,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC1B,IAAI,CAAC,KAAK;oBACR,MAAM,aAAa,GAAG,IAAI;oBAC1B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS;gBAC3B;gBACA,IAAI,GAAG,CAAC,SAAS;gBACjB,IAAI,GAAG,CAAC,OAAO;YACjB;QACF;QACA,oBAAoB,IAAI;IAC1B;AACF;AAEA,qCAAqC;AACrC,SAAS,wBAAwB,IAAI,EAAE,CAAC,EAAE,CAAC;IACzC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;QAChC,MAAM,OAAO,KAAK,gBAAgB;QAClC,MAAM,gBAAgB,aAAa,GAAG,IAAI;QAC1C,CAAC,SAAS,MAAM,CAAC,EAAE,MAAM;YACvB,IAAI;YACJ,cAAc,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;YAC9B,KAAK,MAAM,KAAK,CAAC,MAAM,EAAE,WAAW,KAAK,OAAO,MAAM,EAAE,CAAE,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE;QAC/E,CAAC,EAAE,MAAM;QACT,MAAM,cAAc,EAAE;QACtB,IAAI,aAAa,KAAK,WAAW;QACjC,IAAI,aAAa,KAAK,kBAAkB,CAAC;QACzC,IAAI,OAAO;QACX,IAAI,OAAO;QACX,IAAK,IAAI,QAAQ,GAAG,QAAQ,GAAG,QAAS;YACtC,IAAI;gBACF,MAAM,WAAW,IAAI,CAAC,cAAc,KAAK,CAAC,KAC1C;gBACA,IAAI,KAAK;gBACT,IAAI,KAAK;gBACT,IAAI;oBACF,MAAM,WAAW,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC9C;oBACA,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CAAC,YAAY,YAAY,KAAK,CAAC,KACrF;oBACA,MAAM,aAAa,QAAQ;wBACzB,WAAW;wBACX,YAAY;wBACZ,eAAe;oBACjB,IAAI;wBAAE,YAAY;wBAAqB,eAAe;oBAAK;oBAC3D,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,oBAAoB;oBAC7D,KAAK,OAAO,CAAC,KAAK,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,EAAE,KAAK,OAAO,KAAK;oBACzG,KAAK,OAAO,CAAC,KAAK,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,EAAE,KAAK,OAAO,KAAK;gBAC3G,EAAE,OAAO,GAAG,CACZ;gBACA,MAAM,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO;gBACzC,MAAM,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO;gBACzC,IAAI;gBACJ,IAAI;oBACF,MAAM,MAAM,WAAW,IAAI,CAAC,0BAA0B;wBACpD,GAAG;wBACH,GAAG;wBACH,2BAA2B;wBAC3B,yBAAyB;oBAC3B;gBACF,EAAE,OAAO,GAAG;oBACV,OAAO;gBACT;gBACA,MAAM,KAAK,OAAO,OAAO,KAAK,IAAI,IAAI,aAAa;gBACnD,MAAM,kBAAkB,OAAO,OAAO,KAAK,IAAI,IAAI,OAAO;gBAC1D,IAAI,OAAO,OAAO,YAAY,mBAAmB,oBAAoB,YAAY;oBAC/E,MAAM,MAAM,MAAM,4BAChB,aACA,YACA;oBAEF,OAAO,MAAM;wBAAE,SAAS;wBAAiB,eAAe;wBAAI,eAAe;oBAAI,IAAI;gBACrF;gBACA,IAAI,OAAO,OAAO,UAAU,OAAO;gBACnC,IAAI;gBACJ,KAAK,MAAM,OAAO,eAAe,eAAe,YAAa;oBAC3D,IAAI;wBACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,qBAAqB;4BAAE,SAAS;wBAAI;wBACpF,IAAI,kBAAkB,IAAI;4BACxB,eAAe;4BACf;wBACF;oBACF,EAAE,OAAO,GAAG,CACZ;gBACF;gBACA,IAAI,CAAC,cAAc;oBACjB,MAAM,MAAM,MAAM,4BAChB,aACA,YACA;oBAEF,OAAO,MAAM;wBAAE,SAAS;wBAAY,eAAe;wBAAI,eAAe;oBAAI,IAAI;gBAChF;gBACA,YAAY,IAAI,CAAC;oBACf,eAAe;oBACf,eAAe;oBACf,qBAAqB;gBACvB;gBACA,IAAI,OAAO;gBACX,IAAI,MAAM;gBACV,IAAI;oBACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,mBAAmB;wBAAE,eAAe;oBAAG;oBAChF,MAAM,WAAW,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ;oBAC1D,IAAI,UAAU;wBACZ,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,0BAA0B;4BACjE;4BACA,qBAAqB;4BACrB,eAAe;wBACjB;wBACA,OAAO,OAAO,CAAC,KAAK,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,OAAO,KAAK;wBAC7G,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,KAAK,OAAO,KAAK;wBAC3G,MAAM,WAAW,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACnE;oBACF;gBACF,EAAE,OAAO,GAAG,CACZ;gBACA,OAAO,KAAK,GAAG,CAAC,GAAG,OAAO;gBAC1B,OAAO,KAAK,GAAG,CAAC,GAAG,OAAO;gBAC1B,aAAa;gBACb,aAAa,KAAK,kBAAkB,CAAC;YACvC,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,OAAO;IACT;AACF;AACA,SAAS,0BAA0B,IAAI;IACrC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,OAAO,KAAK,gBAAgB;QAClC,MAAM,gBAAgB,aAAa,GAAG,IAAI;QAC1C,CAAC,SAAS,MAAM,CAAC,EAAE,MAAM;YACvB,IAAI;YACJ,cAAc,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;YAC9B,KAAK,MAAM,KAAK,CAAC,MAAM,EAAE,WAAW,KAAK,OAAO,MAAM,EAAE,CAAE,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE;QAC/E,CAAC,EAAE,MAAM;QACT,MAAM,SAAS,KAAK,eAAe;QACnC,IAAI,iBAAiB;QACrB,KAAK,MAAM,OAAO,OAAQ;YACxB,MAAM,OAAO,KAAK,kBAAkB,CAAC;YACrC,IAAI;gBACF,MAAM,KAAK,IAAI,CAAC,kBAAkB,KAAK,CAAC,KACxC;gBACA,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CAAC,MAAM,KAAK,KAAK,KAAK,CAAC,KAC7E;gBACA,MAAM,aAAa,QAAQ;oBACzB,WAAW;oBACX,YAAY;oBACZ,eAAe;gBACjB,IAAI;oBAAE,YAAY;oBAA8B,eAAe;gBAAK;gBACpE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,KAAK,IAAI,CAChC,oBACA;gBAEF,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,MAAM,MAAM;oBACrD,iBAAiB;oBACjB;gBACF;YACF,EAAE,OAAO,GAAG,CACZ;QACF;QACA,IAAI,CAAC,gBAAgB,iBAAiB,KAAK,WAAW;QACtD,MAAM,iBAAiB,KAAK,kBAAkB,CAAC;QAC/C,IAAI;QACJ,IAAI;YACF,MAAM,eAAe,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAClD;YACA,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CAAC,gBAAgB,gBAAgB,KAAK,KAAK,CAAC,KAClG;YACA,MAAM,OAAO,CAAC;;;;;;;;;;;QAWZ,CAAC;YACH,MAAM,aAAa,QAAQ;gBAAE,WAAW;gBAAO,YAAY;gBAAM,eAAe;YAAM,IAAI;gBAAE,YAAY;gBAAM,eAAe;YAAM;YACnI,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,eAAe,IAAI,CAC1C,oBACA;YAEF,WAAW,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ;QACtD,EAAE,OAAO,GAAG;YACV,WAAW,KAAK;QAClB;QACA,IAAI,CAAC,UAAU,OAAO;QACtB,MAAM,YAAY,MAAM,CAAC,IAAM,QAAQ,MAAM,MAAM;gBACjD,IAAI;oBACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,eAAe,IAAI,CAAC,0BAA0B;wBACrE;wBACA,qBAAqB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAyCrB,CAAC;wBACF,eAAe;oBACjB;oBACA,IAAI;wBACF,MAAM,eAAe,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBAChE,EAAE,OAAO,GAAG,CACZ;oBACA,MAAM,KAAK,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK;oBACvD,OAAO,OAAO,OAAO,YAAY,KAAK,KAAK;gBAC7C,EAAE,OAAO,GAAG;oBACV,IAAI;wBACF,MAAM,eAAe,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBAChE,EAAE,OAAO,IAAI,CACb;oBACA,OAAO;gBACT;YACF,EAAE;QACF,IAAI,CAAC,WAAW,OAAO;QACvB,IAAI,SAAS;QACb,IAAI,MAAM;QACV,MAAO,IAAK;YACV,MAAM,SAAS,CAAC,KAAK,cAAc,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK;YAC5D,IAAI,CAAC,QAAQ;YACb,MAAM,aAAa,KAAK,kBAAkB,CAAC;YAC3C,IAAI;gBACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,qBAAqB;oBAAE,SAAS;gBAAI;gBACpF,IAAI,OAAO,kBAAkB,UAAU;oBACrC,MAAM,KAAK,MAAM,4BAA4B,YAAY;oBACzD,IAAI,IAAI,SAAS,SAAS,YAAY,QAAQ,MAAM,eAAe;gBACrE;YACF,EAAE,OAAO,GAAG,CACZ;YACA,MAAM;QACR;QACA,OAAO,SAAS,YAAY,QAAQ,aAAa,eAAe;IAClE;AACF;AACA,SAAS;IACP,OAAO;AACT;AACA,SAAS,4BAA4B,KAAK,EAAE,WAAW,EAAE,iBAAiB;IACxE,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,SAAS;QACb,KAAK,MAAM,QAAQ,MAAO;YACxB,MAAM,KAAK,MAAM,4BACf,KAAK,aAAa,EAClB,KAAK,mBAAmB;YAE1B,IAAI,CAAC,IAAI;YACT,SAAS,SAAS,YAAY,QAAQ,MAAM,eAAe;QAC7D;QACA,MAAM,OAAO,MAAM,4BACjB,aACA;QAEF,IAAI,CAAC,MAAM,OAAO,UAAU;QAC5B,OAAO,SAAS,YAAY,QAAQ,QAAQ,eAAe;IAC7D;AACF;AACA,SAAS,4BAA4B,OAAO,EAAE,aAAa;IACzD,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;YACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,IAAI,CACnC,mBACA;gBAAE;YAAc;YAElB,MAAM,WAAW,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ;YAC1D,IAAI,CAAC,UAAU,OAAO;YACtB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,IAAI,CACnC,0BACA;gBACE;gBACA,qBAAqB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SA0CvB,CAAC;gBACA,eAAe;YACjB;YAEF,MAAM,QAAQ,IAAI,CAAC,yBAAyB;gBAAE;YAAS,GAAG,KAAK,CAAC,KAChE;YACA,OAAO,OAAO,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,MAAM,YAAY,OAAO,KAAK,GAAG,OAAO,KAAK,GAAG;QACvG,EAAE,OAAO,GAAG;YACV,OAAO;QACT;IACF;AACF;AACA,SAAS,sBAAsB,IAAI,EAAE,OAAO;IAC1C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;QAChD,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;QACrF,MAAM,SAAS,KAAK,WAAW;QAC/B,MAAM,YAAY,KAAK,mBAAmB,CAAC;QAC3C,MAAM,gBAAgB,aAAa,GAAG,IAAI;QAC1C,CAAC,SAAS,MAAM,CAAC,EAAE,MAAM;YACvB,IAAI;YACJ,cAAc,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;YAC9B,KAAK,MAAM,KAAK,CAAC,MAAM,EAAE,WAAW,KAAK,OAAO,MAAM,EAAE,CAAE,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE;QAC/E,CAAC,EAAE,WAAW;QACd,MAAM,SAAS,KAAK,eAAe;QACnC,MAAM,mBAAmB,CAAC;QAC1B,MAAM,iBAAiB,CAAC;QACxB,MAAM,mBAAmB,EAAE;QAC3B,MAAM,eAAe,aAAa,GAAG,IAAI;QACzC,MAAM,iBAAiB,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;QACzG,IAAI,gBAAgB;YAClB,MAAM,mBAAmB;gBACvB,IAAI;gBACJ,SAAS;oBACP,SAAS,CAAC,oEAAoE,CAAC;oBAC/E,OAAO;oBACP,WAAW;wBACT,WAAW;4BACT,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,WAAW,OAAO,KAAK,IAAI,QAAQ,aAAa,KAAK,OAAO,KAAK,IAAI,IAAI,IAAI,IAAI;4BAC5G,MAAM;wBACR;oBACF;gBACF;YACF;YACA,IAAI;gBACF,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,MAAM,iBAAiB,WAAW,IAAI,CAAC,mBAAmB,eAAe,UAAU,CAAC;gBACpF,IAAI,gBAAgB;oBAClB,MAAM,QAAQ,eAAe;oBAC7B,MAAM,MAAM,MAAM,yBAChB,MACA,OACA,eACA;oBAEF,gBAAgB,IAAI,aAAa;oBACjC,eAAe,IAAI,SAAS,IAAI,KAAK;oBACrC,aAAa,IAAI,SAAS;gBAC5B,OAAO;oBACL,MAAM,SAAS,MAAM,4BACnB,MACA,gBACA,eACA;oBAEF,gBAAgB,OAAO,aAAa;oBACpC,eAAe,OAAO,YAAY,IAAI,KAAK;oBAC3C,aAAa,OAAO,SAAS;gBAC/B;gBACA,MAAM,aAAa,aAAa,MAAM;gBACtC,MAAM,WAAW,cAAc,GAAG,CAAC;gBACnC,MAAM,sBAAsB,CAAC,CAAC,YAAY,aAAa,MAAM,cAAc,aAAa,MAAM;gBAC9F,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,kBACpD,YACA,eACA,QACA,CAAC,KAAK,KAAO,GAAG,KAAK,UAAU,CAAC,KAAK,CAAC,EAAE,IAAI,EAC5C,qBAAqB,GACrB;gBAEF,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,aAC9C,YACA,eACA;oBACE,eAAe,gBAAgB,KAAK;oBACpC;oBACA,cAAc,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;oBACpF;oBACA,QAAQ,CAAC,gBAAkB,GAAG,KAAK,UAAU,CAAC,eAAe,CAAC,EAAE,eAAe;gBACjF;gBAEF,MAAM,oBAAoB,CAAC;gBAC3B,MAAM,MAAM,cAAc,OAAO,aAAa;gBAC9C,MAAM,SAAS,CAAC,OAAO,QAAQ;gBAC/B,IAAI,QAAQ;oBACV,OAAO,MAAM,CAAC,mBAAmB;gBACnC,OAAO;oBACL,KAAK,MAAM,CAAC,OAAO,GAAG,IAAI,OAAO,OAAO,CAAC,UAAW;wBAClD,iBAAiB,CAAC,MAAM,GAAG,YAAY,KAAK;oBAC9C;gBACF;gBACA,MAAM,kBAAkB,eAAe,CAAC,GAAG;gBAC3C,MAAM,WAAW;oBACf,cAAc;oBACd,kBAAkB;oBAClB,gBAAgB;oBAChB,UAAU;wBACR;4BACE,SAAS;4BACT;4BACA;4BACA;wBACF;qBACD;gBACH;gBACA,IAAI,cAAc;oBAChB,OAAO;gBACT;gBACA;YACF,EAAE,OAAO,GAAG;gBACV;YACF;QACF;QACA,SAAS,qBAAqB,OAAO,EAAE,OAAO;YAC5C,OAAO,QAAQ,IAAI,EAAE,MAAM;gBACzB,IAAI,KAAK;gBACT,MAAM,QAAQ,IAAI,CAAC,cAAc,KAAK,CAAC,KACvC;gBACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI,CACjC,mBACA;oBAAE,OAAO,CAAC;oBAAG,QAAQ;gBAAQ;gBAE/B,MAAM,UAAU,aAAa,GAAG,IAAI;gBACpC,MAAM,UAAU,aAAa,GAAG,IAAI;gBACpC,MAAM,aAAa,aAAa,GAAG,IAAI;gBACvC,MAAM,YAAY,aAAa,GAAG,IAAI;gBACtC,MAAM,yBAAyB,aAAa,GAAG,IAAI;gBACnD,MAAM,SAAS,KAAK,aAAa;gBACjC,MAAM,QAAQ;oBAAC;wBAAE,MAAM;wBAAM,IAAI;wBAAK,WAAW;oBAAO;iBAAE;gBAC1D,MAAO,MAAM,MAAM,CAAE;oBACnB,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,MAAM,GAAG;oBACzC,IAAI,KAAK,aAAa,EAAE;wBACtB,QAAQ,GAAG,CAAC,KAAK,aAAa,EAAE,MAAM;wBACtC,QAAQ,GAAG,CAAC,KAAK,aAAa,EAAE,OAAO,KAAK,QAAQ,EAAE,WAAW;wBACjE,IAAI,CAAC,QAAQ,OAAO,KAAK,IAAI,KAAK,YAAY,MAAM,MAClD,WAAW,GAAG,CAAC,KAAK,aAAa,EAAE;wBACrC,UAAU,GAAG,CAAC,KAAK,aAAa,EAAE;oBACpC;oBACA,MAAM,OAAO,CAAC,MAAM,KAAK,QAAQ,KAAK,OAAO,MAAM,EAAE;oBACrD,IAAI,KAAK,MAAM,EAAE;wBACf,MAAM,OAAO,wBAAwB;wBACrC,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;4BACzC,MAAM,QAAQ,IAAI,CAAC,EAAE;4BACrB,MAAM,OAAO,IAAI,CAAC,EAAE;4BACpB,MAAM,IAAI,CAAC;gCAAE,MAAM;gCAAO,IAAI,UAAU,IAAI;gCAAO;4BAAU;wBAC/D;oBACF;oBACA,KAAK,MAAM,MAAM,CAAC,MAAM,KAAK,WAAW,KAAK,OAAO,MAAM,EAAE,CAAE;wBAC5D,MAAM,IAAI,CAAC;4BAAE,MAAM;4BAAI,IAAI,UAAU,IAAI;4BAAO;wBAAU;oBAC5D;oBACA,MAAM,KAAK,KAAK,eAAe;oBAC/B,IAAI,MAAM,OAAO,GAAG,aAAa,KAAK,UAAU;wBAC9C,uBAAuB,GAAG,CAAC,KAAK,aAAa,EAAE,GAAG,aAAa;wBAC/D,MAAM,IAAI,CAAC;4BAAE,MAAM;4BAAI;4BAAI,WAAW,GAAG,aAAa;wBAAC;oBACzD;gBACF;gBACA,OAAO;oBACL,aAAa;oBACb;oBACA;oBACA;oBACA;oBACA;gBACF;YACF;QACF;QACA,SAAS,gBAAgB,OAAO,EAAE,OAAO;YACvC,MAAM,OAAO,eAAe;YAC5B,MAAM,MAAM,eAAe;YAC3B,IAAI,QAAQ,MAAM,OAAO;YACzB,IAAI,IAAI,UAAU,CAAC,OAAO;gBACxB,MAAM,OAAO,IAAI,KAAK,CAAC,KAAK,MAAM;gBAClC,IAAI,CAAC,MAAM,OAAO;gBAClB,OAAO,KAAK,UAAU,CAAC,QAAQ,KAAK,UAAU,CAAC,QAAQ,OAAO,CAAC,CAAC,EAAE,MAAM;YAC1E;YACA,IAAI,SAAS,KAAK,OAAO;YACzB,OAAO;QACT;QACA,MAAM,iBAAiB,aAAa,GAAG,IAAI;QAC3C,MAAM,cAAc,aAAa,GAAG,IAAI;QACxC,KAAK,MAAM,WAAW,OAAQ;YAC5B,MAAM,OAAO,aAAa,MAAM;YAChC,MAAM,MAAM,CAAC,KAAK,KAAK,EAAE,KAAK,OAAO,KAAK;YAC1C,IAAI,CAAC,YAAY,GAAG,CAAC,MAAM,YAAY,GAAG,CAAC,KAAK;QAClD;QACA,KAAK,MAAM,CAAC,KAAK,KAAK,IAAI,YAAY,OAAO,GAAI;YAC/C,MAAM,MAAM,MAAM,qBAAqB,MAAM;YAC7C,eAAe,GAAG,CAAC,KAAK;QAC1B;QACA,KAAK,MAAM,WAAW,OAAQ;YAC5B,MAAM,OAAO,aAAa,MAAM;YAChC,MAAM,MAAM,CAAC,KAAK,KAAK,EAAE,KAAK,OAAO,KAAK;YAC1C,IAAI,MAAM,eAAe,GAAG,CAAC;YAC7B,IAAI,CAAC,KAAK;gBACR,MAAM,MAAM,qBAAqB,MAAM;gBACvC,eAAe,GAAG,CAAC,KAAK;YAC1B;YACA,MAAM,WAAW,cAAc,GAAG,CAAC;YACnC,MAAM,sBAAsB,CAAC,CAAC,YAAY,aAAa,MAAM,cAAc;YAC3E,IAAI,YAAY,IAAI,WAAW;YAC/B,IAAI,qBAAqB;gBACvB,IAAI;oBACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,KAAK,IAAI,CACvC,qBACA;wBAAE;oBAAQ;oBAEZ,IAAI,OAAO,kBAAkB,UAAU;wBACrC,MAAM,OAAO,IAAI,sBAAsB,CAAC,GAAG,CAAC;wBAC5C,IAAI,OAAO,SAAS,UAAU,YAAY;oBAC5C;gBACF,EAAE,OAAO,GAAG,CACZ;YACF;YACA,MAAM,aAAa,CAAC;YACpB,MAAM,WAAW,CAAC;YAClB,MAAM,gBAAgB,CAAC;YACvB,MAAM,MAAM,CAAC,KAAO,GAAG,KAAK,UAAU,CAAC,SAAS,CAAC,EAAE,IAAI;YACvD,MAAM,UAAU,CAAC,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,KAAK,OAAO,KAAK;YACjE,KAAK,MAAM,CAAC,IAAI,QAAQ,IAAI,IAAI,OAAO,CAAC,OAAO,GAAI;gBACjD,MAAM,cAAc,IAAI,SAAS,CAAC,GAAG,CAAC;gBACtC,IAAI,gBAAgB,WAAW;gBAC/B,MAAM,MAAM,gBAAgB,SAAS;gBACrC,MAAM,MAAM,IAAI;gBAChB,QAAQ,CAAC,IAAI,GAAG;gBAChB,MAAM,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC;gBAC5B,IAAI,KAAK,UAAU,CAAC,IAAI,GAAG;gBAC3B,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,KAAK,aAAa,CAAC,IAAI,GAAG;YACnD;YACA,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,MAAM,aAAa,MAAM,SAAS;gBAC5D,cAAc,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;gBACpF;gBACA;gBACA,QAAQ,CAAC,gBAAkB,GAAG,KAAK,UAAU,CAAC,SAAS,CAAC,EAAE,eAAe;YAC3E;YACA,iBAAiB,IAAI,CAAC;gBAAE;gBAAS;YAAQ;YACzC,aAAa,GAAG,CAAC,SAAS;gBAAE;gBAAY;gBAAU;gBAAe;YAAO;QAC1E;QACA,MAAM,YAAY,aAAa,GAAG,IAAI;QACtC,MAAM,uBAAuB,aAAa,GAAG,IAAI;QACjD,UAAU,GAAG,CAAC,QAAQ;QACtB,MAAM,QAAQ;YAAC;SAAO;QACtB,MAAO,MAAM,MAAM,CAAE;YACnB,MAAM,SAAS,MAAM,KAAK;YAC1B,MAAM,YAAY,UAAU,GAAG,CAAC;YAChC,KAAK,MAAM,SAAS,OAAQ;gBAC1B,IAAI,cAAc,GAAG,CAAC,WAAW,QAAQ;gBACzC,MAAM,IAAI,CAAC;gBACX,MAAM,aAAa,cAAc,MAAM,eAAe;gBACtD,MAAM,qBAAqB,MAAM,CAAC,IAAM,QAAQ,MAAM,MAAM;wBAC1D,IAAI;4BACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,qBAAqB;gCAAE,SAAS;4BAAM;4BACtF,OAAO;wBACT,EAAE,OAAO,GAAG;4BACV,OAAO,KAAK;wBACd;oBACF,EAAE;gBACF,IAAI,CAAC,oBAAoB;oBACvB,UAAU,GAAG,CAAC,OAAO;oBACrB;gBACF;gBACA,MAAM,YAAY,aAAa,GAAG,CAAC;gBACnC,MAAM,YAAY,GAAG,KAAK,UAAU,CAAC,QAAQ,CAAC,EAAE,oBAAoB;gBACpE,MAAM,cAAc,aAAa,OAAO,KAAK,IAAI,UAAU,QAAQ,CAAC,UAAU;gBAC9E,MAAM,WAAW,cAAc,YAAY,aAAa,KAAK,eAAe;gBAC5E,UAAU,GAAG,CAAC,OAAO;gBACrB,qBAAqB,GAAG,CAAC,OAAO;YAClC;QACF;QACA,KAAK,MAAM,WAAW,OAAQ;YAC5B,MAAM,OAAO,aAAa,GAAG,CAAC;YAC9B,IAAI,CAAC,MAAM;YACX,MAAM,MAAM,CAAC,KAAK,UAAU,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK;YACzD,MAAM,SAAS,QAAQ,MAAM,QAAQ;YACrC,IAAI,QAAQ;gBACV,OAAO,MAAM,CAAC,kBAAkB,KAAK,QAAQ;gBAC7C,OAAO,MAAM,CAAC,gBAAgB,KAAK,MAAM;gBACzC;YACF;YACA,KAAK,MAAM,CAAC,OAAO,GAAG,IAAI,OAAO,OAAO,CAAC,KAAK,QAAQ,EAAG;gBACvD,gBAAgB,CAAC,MAAM,GAAG,YAAY,KAAK;YAC7C;YACA,OAAO,MAAM,CAAC,gBAAgB,KAAK,MAAM;QAC3C;QACA,MAAM,WAAW,aAAa,GAAG,IAAI;QACrC,KAAK,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,iBAAkB;YACnD,MAAM,YAAY,qBAAqB,GAAG,CAAC;YAC3C,IAAI,WAAW,SAAS,GAAG,CAAC,WAAW;QACzC;QACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,iBAAiB,IAAI,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,CAAC,KAAK,gBAAgB,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK;QACjN,MAAM,eAAe,eAAe,aAAa;QACjD,OAAO;YACL;YACA;YACA;YACA,UAAU,iBAAiB,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE;gBAClD,IAAI,KAAK;gBACT,MAAM,OAAO,aAAa,GAAG,CAAC;gBAC9B,OAAO;oBACL;oBACA;oBACA,UAAU,CAAC,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,QAAQ,KAAK,OAAO,MAAM,CAAC;oBACzE,QAAQ,CAAC,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,MAAM,KAAK,OAAO,MAAM,CAAC;gBACvE;YACF;QACF;IACF;AACF;AACA,SAAS,YAAY,SAAS,EAAE,KAAK;IACnC,MAAM,IAAI,cAAc,MAAM,KAAK,UAAU,OAAO,CAAC,OAAO;IAC5D,IAAI,CAAC,SAAS,UAAU,KAAK,OAAO,KAAK;IACzC,IAAI,MAAM,UAAU,CAAC,OACnB,OAAO,IAAI,GAAG,EAAE,EAAE,EAAE,MAAM,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,MAAM,KAAK,CAAC,IAAI;IAC9D,MAAM,IAAI,MAAM,OAAO,CAAC,OAAO;IAC/B,OAAO,IAAI,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG;AAClC;AACA,SAAS,eAAe,CAAC;IACvB,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,IAAI,EAAE,IAAI,GAAG,OAAO,CAAC,YAAY;IACrC,IAAI,CAAC,EAAE,UAAU,CAAC,MAAM,IAAI,MAAM;IAClC,IAAI,EAAE,MAAM,GAAG,KAAK,EAAE,QAAQ,CAAC,MAAM,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC;IACrD,OAAO;AACT;AACA,SAAS,kBAAkB,KAAK;IAC9B,MAAM,IAAI,MAAM,IAAI;IACpB,IAAI,IAAI;IACR,MAAM,QAAQ,EAAE;IAChB,MAAO,IAAI,EAAE,MAAM,CAAE;QACnB,IAAI,OAAO;QACX,IAAI,EAAE,UAAU,CAAC,MAAM,IAAI;YACzB,OAAO;YACP,KAAK;QACP,OAAO,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK;YACvB,OAAO;YACP,KAAK;QACP;QACA,MAAM,QAAQ;QACd,MAAO,IAAI,EAAE,MAAM,IAAI,CAAC,CAAC,EAAE,KAAK,IAAK;QACrC,MAAM,MAAM,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI;QAClC,IAAI,CAAC,KAAK;QACV,MAAM,OAAO,IAAI,OAAO,CAAC,gBAAgB,IAAI,WAAW;QACxD,MAAM,IAAI,CAAC;YAAE;YAAM;YAAK;QAAK;IAC/B;IACA,OAAO;AACT;AACA,SAAS,oBAAoB,KAAK;IAChC,IAAI,MAAM;IACV,KAAK,MAAM,MAAM,MAAO;QACtB,OAAO,GAAG,IAAI,KAAK,SAAS,OAAO;QACnC,OAAO,GAAG,GAAG;IACf;IACA,OAAO,OAAO;AAChB;AACA,SAAS,yBAAyB,IAAI,EAAE,aAAa,EAAE,aAAa,EAAE,MAAM;IAC1E,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,QAAQ,kBAAkB;QAChC,IAAI,aAAa;QACjB,IAAI,MAAM,EAAE;QACZ,IAAI,YAAY;QAChB,MAAM,iBAAiB,IAAM,QAAQ,MAAM,MAAM;gBAC/C,IAAI,CAAC,IAAI,MAAM,EAAE;gBACjB,MAAM,oBAAoB,oBAAoB;gBAC9C,MAAM,aAAa,KAAK,kBAAkB,CAAC;gBAC3C,MAAM,WAAW,MAAM,wBACrB,YACA,mBACA;gBAEF,IAAI,CAAC,UACH,MAAM,IAAI,qBACR,mBACA;gBAEJ,IAAI;oBACF,MAAM,WAAW,IAAI,CAAC,cAAc,KAAK,CAAC,KAC1C;oBACA,MAAM,OAAO,MAAM,WAAW,IAAI,CAChC,oBACA;wBAAE;oBAAS;oBAEb,MAAM,sBAAsB,KAAK,IAAI,CAAC,aAAa;oBACnD,IAAI;oBACJ,KAAK,MAAM,OAAO,eAAe,eAAe,YAAa;wBAC3D,IAAI;4BACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,qBAAqB;gCAAE,SAAS;4BAAI;4BACpF,IAAI,kBAAkB,qBAAqB;gCACzC,eAAe;gCACf;4BACF;wBACF,EAAE,OAAO,GAAG,CACZ;oBACF;oBACA,IAAI,CAAC,cACH,MAAM,IAAI,qBACR,mBACA;oBAEJ,YAAY,YAAY,aAAa,KAAK;oBAC1C,aAAa;gBACf,SAAU;oBACR,MAAM,WAAW,IAAI,CAAC,yBAAyB;wBAAE;oBAAS,GAAG,KAAK,CAAC,KACnE;gBACF;gBACA,MAAM,EAAE;YACV;QACA,KAAK,MAAM,MAAM,MAAO;YACtB,IAAI,IAAI,CAAC;YACT,IAAI,eAAe,IAAI,CAAC,GAAG,IAAI,GAAG;gBAChC,MAAM;YACR;QACF;QACA,MAAM,YAAY,oBAAoB;QACtC,OAAO;YAAE,eAAe;YAAY;YAAW;QAAU;IAC3D;AACF;AACA,SAAS,4BAA4B,IAAI,EAAE,WAAW,EAAE,aAAa,EAAE,MAAM;IAC3E,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,QAAQ,YAAY,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,MAAM,CAAC;QAClE,IAAI,aAAa;QACjB,MAAM,YAAY;QAClB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM,GAAG,IAAI,IAAK;YACtD,MAAM,aAAa,KAAK,kBAAkB,CAAC;YAC3C,MAAM,WAAW,MAAM,sBACrB,YACA,KAAK,CAAC,EAAE,EACR;YAEF,IAAI,CAAC,UACH,MAAM,IAAI,qBACR,KAAK,CAAC,EAAE,EACR;YAEJ,IAAI;gBACF,MAAM,WAAW,IAAI,CAAC,cAAc,KAAK,CAAC,KAC1C;gBACA,MAAM,OAAO,MAAM,WAAW,IAAI,CAChC,oBACA;oBAAE;gBAAS;gBAEb,MAAM,sBAAsB,KAAK,IAAI,CAAC,aAAa;gBACnD,IAAI;gBACJ,KAAK,MAAM,OAAO,eAAe,eAAe,YAAa;oBAC3D,IAAI;wBACF,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,WAAW,IAAI,CAAC,qBAAqB;4BAAE,SAAS;wBAAI;wBACpF,IAAI,kBAAkB,qBAAqB;4BACzC,eAAe;4BACf;wBACF;oBACF,EAAE,OAAO,GAAG,CACZ;gBACF;gBACA,IAAI,CAAC,cACH,MAAM,IAAI,qBACR,KAAK,CAAC,EAAE,EACR;gBAEJ,aAAa;YACf,SAAU;gBACR,MAAM,WAAW,IAAI,CAAC,yBAAyB;oBAAE;gBAAS,GAAG,KAAK,CAAC,KACnE;YACF;QACF;QACA,MAAM,eAAe,CAAC,KAAK,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,KAAK,OAAO,KAAK;QACnE,OAAO;YAAE,eAAe;YAAY;YAAc;QAAU;IAC9D;AACF;AACA,SAAS,eAAe,aAAa,EAAE,QAAQ;IAC7C,MAAM,MAAM,EAAE;IACd,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,cAAc,OAAO,GAAI;QAC9C,IAAI,MAAM,UAAU,IAAI,IAAI,CAAC;IAC/B;IACA,OAAO;AACT;AACA,SAAS,kBAAkB,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC,KAAK,KAAO,GAAG,IAAI,CAAC,EAAE,IAAI,EAAE,qBAAqB,IAAI;IAClH,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI;QACR,MAAM,QAAQ,IAAI,CAAC,cAAc,KAAK,CAAC,KACvC;QACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI,CACjC,mBACA;YAAE,OAAO,CAAC;YAAG;QAAO;QAEtB,IAAI,YAAY;QAChB,IAAI,oBAAoB;YACtB,IAAI;gBACF,MAAM,QAAQ,MAAM,QAAQ,IAAI,CAC9B,qBACA;oBAAE;gBAAQ;gBAEZ,MAAM,iBAAiB,MAAM,aAAa;gBAC1C,IAAI,OAAO,mBAAmB,UAAU;oBACtC,MAAM,UAAU,oBAAoB,MAAM;oBAC1C,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,eAAe,EAAE;wBACtD,YAAY,QAAQ,eAAe;oBACrC;gBACF;YACF,EAAE,OAAO,GAAG,CACZ;QACF;QACA,MAAM,aAAa,CAAC;QACpB,MAAM,WAAW,CAAC;QAClB,MAAM,gBAAgB,CAAC;QACvB,MAAM,QAAQ;YAAC;gBAAE,MAAM;gBAAW,OAAO;YAAG;SAAE;QAC9C,MAAO,MAAM,MAAM,CAAE;YACnB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG;YACjC,IAAI,KAAK,aAAa,EAAE;gBACtB,MAAM,QAAQ,OAAO,SAAS,KAAK,aAAa;gBAChD,UAAU,CAAC,MAAM,GAAG,OAAO,KAAK,QAAQ,EAAE,WAAW;gBACrD,QAAQ,CAAC,MAAM,GAAG,SAAS;gBAC3B,MAAM,eAAe,CAAC,QAAQ,OAAO,KAAK,IAAI,KAAK,YAAY,MAAM;gBACrE,IAAI,cAAc,aAAa,CAAC,MAAM,GAAG;YAC3C;YACA,MAAM,OAAO,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,EAAE;YACnD,IAAI,KAAK,MAAM,EAAE;gBACf,MAAM,OAAO,wBAAwB;gBACrC,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;oBACzC,MAAM,QAAQ,IAAI,CAAC,EAAE;oBACrB,MAAM,OAAO,IAAI,CAAC,EAAE;oBACpB,MAAM,IAAI,CAAC;wBACT,MAAM;wBACN,OAAO,UAAU,OAAO;oBAC1B;gBACF;YACF;YACA,KAAK,MAAM,MAAM,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,EAAE,CAAE;gBAC1D,MAAM,IAAI,CAAC;oBACT,MAAM;oBACN,OAAO,UAAU,OAAO;gBAC1B;YACF;QACF;QACA,OAAO;YAAE;YAAY;YAAU;QAAc;IAC/C;AACF;AACA,SAAS,wBAAwB,IAAI;IACnC,IAAI;IACJ,MAAM,OAAO,EAAE;IACf,MAAM,MAAM,CAAC;IACb,KAAK,MAAM,SAAS,KAAM;QACxB,MAAM,MAAM,OAAO,MAAM,QAAQ,EAAE,WAAW;QAC9C,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,CAAC,EAAE,KAAK;QACtC,MAAM,MAAM,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK,CAAC,IAAI;QAC5D,IAAI,MAAM,QAAQ,KAAK,GAAG;YACxB,KAAK,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC5B,OAAO,IAAI,MAAM,QAAQ,KAAK,GAAG;YAC/B,KAAK,IAAI,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAC/B,OAAO;YACL,KAAK,IAAI,CACP,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAEvE;IACF;IACA,OAAO;AACT;AACA,SAAS,UAAU,IAAI,EAAE,IAAI;IAC3B,IAAI,SAAS,MAAM;QACjB,IAAI,CAAC,QAAQ,SAAS,KAAK,OAAO;QAClC,OAAO,KAAK,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,GAAG,GAAG,KAAK,EAAE,CAAC;IACtD;IACA,IAAI,CAAC,QAAQ,SAAS,KAAK,OAAO,OAAO,CAAC,CAAC,EAAE,MAAM,GAAG;IACtD,IAAI,KAAK,QAAQ,CAAC,OAAO,OAAO,GAAG,OAAO,MAAM;IAChD,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM;AAC1B;AACA,SAAS,aAAa,OAAO,EAAE,OAAO,EAAE,IAAI;IAC1C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI;QACR,MAAM,QAAQ,IAAI,CAAC,wBAAwB,KAAK,CAAC,KACjD;QACA,MAAM,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC3C;QACA,MAAM,QAAQ,IAAI,CAAC,cAAc,KAAK,CAAC,KACvC;QACA,IAAI,QAAQ,EAAE;QACd,IAAI;YACF,MAAM,SAAS,UAAU;gBAAE;YAAQ,IAAI,CAAC;YACxC,CAAC,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,+BAA+B,OAAO;QACxE,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,CAAC,KAAK,OAAO,KAAK;YAChG,MAAM,oBAAoB,IAAI,QAAQ,CAAC,2BAA2B,IAAI,QAAQ,CAAC,oCAAoC,IAAI,QAAQ,CAAC;YAChI,IAAI,CAAC,qBAAqB,CAAC,SAAS,MAAM;YAC1C,CAAC,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,8BAA8B;QAChE;QACA,MAAM,SAAS,CAAC;QAChB,KAAK,MAAM,KAAK,MAAO;YACrB,MAAM,KAAK,EAAE,gBAAgB;YAC7B,IAAI,OAAO,OAAO,UAAU;YAC5B,MAAM,MAAM,qBAAqB;YACjC,IAAI,CAAC,KAAK;YACV,MAAM,MAAM,KAAK,MAAM,CAAC;YACxB,MAAM,CAAC,IAAI,GAAG;QAChB;QACA,IAAI,eAAe;QACnB,MAAM,kBAAkB,MAAM,CAAC,IAAM,QAAQ,MAAM,MAAM;gBACvD,IAAI,KAAK,KAAK;gBACd,MAAM,MAAM,CAAC,MAAM,KAAK,aAAa,KAAK,OAAO,KAAK,IAAI,IAAI,IAAI;gBAClE,IAAI,CAAC,KAAK,OAAO;gBACjB,IAAI;oBACF,MAAM,iBAAiB,WAAW,IAAI,CAAC,QAAQ,IAAI,UAAU,CAAC;oBAC9D,MAAM,WAAW,iBAAiB,MAAM,wBAAwB,SAAS,KAAK,WAAW,MAAM,sBAAsB,SAAS,KAAK;oBACnI,IAAI,CAAC,UAAU,OAAO;oBACtB,MAAM,OAAO,MAAM,QAAQ,IAAI,CAC7B,oBACA;wBAAE;oBAAS;oBAEb,MAAM,KAAK,CAAC,MAAM,KAAK,IAAI,KAAK,OAAO,KAAK,IAAI,IAAI,aAAa;oBACjE,IAAI,OAAO,OAAO,UAAU,OAAO;oBACnC,MAAM,SAAS,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,gBAAgB,KAAK;oBACxD,IAAI,CAAC,QAAQ,OAAO;oBACpB,eAAe;oBACf,MAAM,OAAO,aAAa,GAAG,IAAI,IAAI;wBAAC,OAAO,MAAM;qBAAC;oBACpD,MAAM,QAAQ;wBAAC;qBAAO;oBACtB,MAAO,MAAM,MAAM,CAAE;wBACnB,MAAM,MAAM,MAAM,KAAK;wBACvB,KAAK,MAAM,MAAM,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,EAAE,CAAE;4BACtD,IAAI,KAAK,GAAG,CAAC,KAAK;4BAClB,KAAK,GAAG,CAAC;4BACT,MAAM,QAAQ,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;4BAC7C,IAAI,OAAO,MAAM,IAAI,CAAC;wBACxB;oBACF;oBACA,OAAO,MAAM,MAAM,CAAC,CAAC,IAAM,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG,GAAG,CAChD,CAAC,IAAM,EAAE,MAAM,KAAK,OAAO,MAAM,GAAG,cAAc,eAAe,CAAC,GAAG,IAAI;4BAAE,UAAU,KAAK;wBAAE,KAAK;gBAErG,EAAE,OAAO,GAAG;oBACV,OAAO;gBACT;YACF,EAAE;QACF,MAAM,YAAY,cAAc,iBAAiB;QACjD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sBAAsB,WAAW;QACxD,MAAM,aAAa,KAAK,GAAG,CAAC,CAAC,IAAM,eAAe,IAAI,IAAI,CAAC;QAC3D,OAAO;YAAE,SAAS,WAAW,OAAO;YAAI;YAAQ;QAAa;IAC/D;AACF;AACA,SAAS,wBAAwB,OAAO,EAAE,KAAK,EAAE,OAAO;IACtD,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,IAAI;QACJ,IAAI;YACF,IAAI,SAAS;gBACX,YAAY,MAAM,kBAAkB,gBAAgB,CAAC,SAAS,SAAS,KAAK,KAAK,CAC/E;oBACE,IAAI;oBACJ,OAAO,CAAC,MAAM,kBAAkB,YAAY,CAAC,SAAS,QAAQ,KAAK,OAAO,MAAM,KAAK;gBACvF;YAEJ;QACF,EAAE,OAAO,GAAG;YACV,YAAY,KAAK;QACnB;QACA,MAAM,OAAO,CAAC;eACH,EAAE,KAAK,SAAS,CAAC,OAAO;;;;;;;;;;MAUjC,CAAC;QACH,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,oBAAoB;YAC1E,YAAY;YACZ,eAAe;YACf;YACA,cAAc;QAChB;QACA,IAAI,kBAAkB,OAAO;QAC7B,OAAO,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,OAAO,KAAK;IACzE;AACF;AACA,SAAS,sBAAsB,OAAO,EAAE,QAAQ,EAAE,OAAO;IACvD,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,IAAI;QACJ,IAAI;YACF,IAAI,SAAS;gBACX,YAAY,MAAM,kBAAkB,gBAAgB,CAAC,SAAS,SAAS,KAAK,KAAK,CAC/E;oBACE,IAAI;oBACJ,OAAO,CAAC,MAAM,kBAAkB,YAAY,CAAC,SAAS,QAAQ,KAAK,OAAO,MAAM,KAAK;gBACvF;YAEJ;QACF,EAAE,OAAO,GAAG;YACV,YAAY,KAAK;QACnB;QACA,MAAM,OAAO,CAAC;qBACG,EAAE,KAAK,SAAS,CAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8C1C,CAAC;QACH,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,oBAAoB;YAC1E,YAAY;YACZ,eAAe;YACf;YACA,cAAc;QAChB;QACA,IAAI,kBAAkB,OAAO;QAC7B,OAAO,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,OAAO,KAAK;IACzE;AACF;AACA,SAAS,cAAc,KAAK,EAAE,IAAI;IAChC,MAAM,SAAS,CAAC;QACd,IAAI,IAAI;QACR,OAAO,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,OAAO,KAAK;IAChF;IACA,OAAO,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,IAAI,IAAI;QACZ,IAAI;QACJ,IAAI,OAAO,EAAE,gBAAgB,KAAK,UAAU;YAC1C,IAAI;gBACF,YAAY,KAAK,MAAM,CAAC,EAAE,gBAAgB;YAC5C,EAAE,OAAO,GAAG,CACZ;QACF;QACA,IAAI,OAAO,OAAO;QAClB,MAAM,kBAAkB,YAAY,KAAK,aAAa,CAAC,UAAU,KAAK,OAAO;QAC7E,MAAM,MAAM,YAAY,KAAK,UAAU,CAAC,UAAU,GAAG,KAAK;QAC1D,MAAM,gBAAgB,QAAQ;QAC9B,IAAI,CAAC,mBAAmB,aAAa,KAAK,QAAQ,aAAa;YAC7D,MAAM,WAAW,OAAO,IAAI,UAAU,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK;YAC7D,OAAO,WAAW,CAAC,YAAY,EAAE,UAAU,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE,EAAE,MAAM,GAAG,IAAI;QACtF;QACA,OAAO;YACL;YACA,MAAM,CAAC,KAAK,EAAE,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;YAC/C,aAAa,CAAC,KAAK,EAAE,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;YAC7D,OAAO,CAAC,KAAK,EAAE,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;YACjD,QAAQ,EAAE,MAAM;YAChB,kBAAkB,EAAE,gBAAgB;YACpC,UAAU,EAAE,QAAQ;YACpB,UAAU,EAAE,QAAQ;YACpB;QACF;IACF;AACF;AACA,SAAS,sBAAsB,KAAK,EAAE,IAAI;IACxC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,UAAU,aAAa,GAAG,IAAI;QACpC,KAAK,MAAM,KAAK,MAAO;YACrB,MAAM,OAAO,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE,QAAQ,CAAC,MAAM,KAAK,CAAC,aAAa,EAAE,IAAI;YACvG,IAAI,CAAC,MAAM;YACX,QAAQ,GAAG,CAAC,EAAE,MAAM,EAAE,eAAe,CAAC,GAAG;QAC3C;QACA,KAAK,MAAM,KAAK,MAAO;YACrB,IAAI,CAAC,EAAE,QAAQ,EAAE;YACjB,MAAM,SAAS,QAAQ,GAAG,CAAC,EAAE,QAAQ;YACrC,MAAM,MAAM,QAAQ,GAAG,CAAC,EAAE,MAAM;YAChC,IAAI,UAAU,KAAK,CAAC,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK,OAAO,QAAQ,GAAG,EAAE,EAAE,IAAI,CAAC;QACvF;QACA,MAAM,QAAQ,MAAM,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,QAAQ,IAAI,QAAQ,GAAG,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC,CAAC,IAAM,QAAQ,GAAG,CAAC,EAAE,MAAM;QACvG,MAAM,UAAU,CAAC,MAAM,QAAQ,GAAG,CAAC,MAAM,GAAG,CAAC,qBAAqB,EAAE,MAAM,CACxE;QAEF,OAAO;YAAE,MAAM;QAAQ;;;QACvB,SAAS,oBAAoB,IAAI;YAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;gBACzB,IAAI;gBACJ,IAAI,CAAC,KAAK,MAAM,GAAG,GAAG,OAAO;gBAC7B,MAAM,WAAW,CAAC,MAAM,KAAK,QAAQ,KAAK,OAAO,MAAM,EAAE;gBACzD,IAAI,CAAC,SAAS,MAAM,EAAE;oBACpB,OAAO,aAAa,KAAK,IAAI,IAAI,OAAO;gBAC1C;gBACA,MAAM,cAAc,CAAC,MAAM,QAAQ,GAAG,CAAC,SAAS,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC;gBAClF,MAAM,eAAe,kCAAkC,MAAM;gBAC7D,IAAI,aAAa,KAAK,IAAI,GAAG;oBAC3B,IAAI,aAAa,MAAM,KAAK,GAAG,OAAO,YAAY,CAAC,EAAE;oBACrD,IAAI,aAAa,MAAM,KAAK,GAAG,OAAO;gBACxC;gBACA,IAAI,UAAU,KAAK,IAAI;gBACvB,IAAI,CAAC,YAAY,aAAa,YAAY,MAAM,KAAK,KAAK,SAAS,EAAE;oBACnE,MAAM,UAAU,KAAK,UAAU,CAAC,KAAK,SAAS,CAAC;oBAC/C,IAAI,SAAS,UAAU;gBACzB;gBACA,IAAI,YAAY,cAAc,KAAK,SAAS,EAAE;oBAC5C,MAAM,UAAU,KAAK,UAAU,CAAC,KAAK,SAAS,CAAC;oBAC/C,IAAI,YAAY,UAAU,UAAU;gBACtC;gBACA,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;oBAAE,MAAM;oBAAS,UAAU;gBAAa;YACzF;QACF;IACF;AACF;AACA,SAAS,eAAe,IAAI,EAAE,QAAQ,CAAC;IACrC,IAAI,IAAI,IAAI;IACZ,MAAM,SAAS,KAAK,MAAM,CAAC;IAC3B,MAAM,UAAU,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK,KAAK,MAAM;IAChE,MAAM,QAAQ,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,CAAC,EAAE,EAAE,UAAU,KAAK,IAAI,GAAG,GAAG,IAAI;IACxF,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,IAAM,eAAe,GAAG,QAAQ,IAAI,IAAI,CAAC,KAAK,KAAK,OAAO,KAAK;IAClI,OAAO,OAAO,GAAG,SAAS,MAAM;AAClC,EAAE,MAAM,GAAG,GAAG,SAAS,OAAO;AAC9B;AACA,SAAS,aAAa,IAAI;IACxB,MAAM,IAAI,QAAQ,OAAO,KAAK,IAAI,KAAK,WAAW;IAClD,OAAO,MAAM,aAAa,MAAM,UAAU,MAAM;AAClD;AACA,SAAS,UAAU,KAAK;IACtB,MAAM,YAAY;IAClB,MAAM,UAAU;IAChB,MAAM,OAAO,aAAa,GAAG,IAAI,IAAI;QAAC;QAAK;QAAM;QAAM;KAAM;IAC7D,IAAI,MAAM;IACV,IAAI,YAAY;IAChB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACrC,MAAM,OAAO,MAAM,UAAU,CAAC;QAC9B,IAAI,QAAQ,aAAa,QAAQ,SAAS;QAC1C,IAAI,KAAK,GAAG,CAAC,OAAO;YAClB,IAAI,CAAC,WAAW;gBACd,OAAO;gBACP,YAAY;YACd;YACA;QACF;QACA,OAAO,KAAK,CAAC,EAAE;QACf,YAAY,KAAK,CAAC,EAAE,KAAK;IAC3B;IACA,OAAO,IAAI,IAAI;AACjB;AACA,SAAS,qBAAqB,EAAE;IAC9B,IAAI,IAAI;IACR,MAAM,QAAQ,CAAC,KAAK,GAAG,UAAU,KAAK,OAAO,KAAK,EAAE;IACpD,MAAM,UAAU,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;IAC7C,MAAM,QAAQ,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;IACzF,OAAO,OAAO,UAAU,YAAY,MAAM,IAAI,KAAK,MAAM,IAAI,KAAK,KAAK;AACzE;AACA,SAAS,gBAAgB,CAAC;IACxB,IAAI,MAAM;IACV,IAAI,OAAO;IACX,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAK;QACjC,MAAM,KAAK,CAAC,CAAC,EAAE;QACf,MAAM,OAAO,KAAK,IAAI,CAAC;QACvB,IAAI,MAAM;YACR,IAAI,CAAC,MAAM;gBACT,OAAO;gBACP,OAAO;YACT;QACF,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,OAAO;AACT;AACA,SAAS,kCAAkC,MAAM,EAAE,QAAQ;IACzD,IAAI,CAAC,OAAO,IAAI,EAAE,OAAO;IACzB,MAAM,aAAa,gBAAgB,OAAO,IAAI,EAAE,IAAI;IACpD,IAAI,WAAW;IACf,KAAK,MAAM,KAAK,SAAU;QACxB,IAAI,EAAE,IAAI,KAAK,gBAAgB,EAAE,IAAI,EAAE;YACrC,YAAY,gBAAgB,EAAE,IAAI,EAAE,IAAI;QAC1C;IACF;IACA,IAAI,aAAa,YAAY;QAC3B,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;IAC3C;IACA,OAAO;AACT;AACA,SAAS,oBAAoB,IAAI,EAAE,aAAa;IAC9C,MAAM,QAAQ;QAAC;KAAK;IACpB,MAAO,MAAM,MAAM,CAAE;QACnB,MAAM,IAAI,MAAM,GAAG;QACnB,IAAI,EAAE,aAAa,KAAK,eAAe,OAAO;QAC9C,IAAI,EAAE,QAAQ,EAAE,KAAK,MAAM,KAAK,EAAE,QAAQ,CAAE,MAAM,IAAI,CAAC;QACvD,IAAI,EAAE,WAAW,EAAE,KAAK,MAAM,KAAK,EAAE,WAAW,CAAE,MAAM,IAAI,CAAC;IAC/D;IACA,OAAO,KAAK;AACd;AACA,SAAS,eAAe,WAAW,EAAE,QAAQ;IAC3C,IAAI,IAAI;IACR,MAAM,MAAM,EAAE;IACd,MAAM,UAAU,aAAa,GAAG,IAAI;IACpC,MAAM,QAAQ;QAAC;YAAE,OAAO,YAAY,KAAK,CAAC;YAAO,GAAG;QAAE;KAAE;IACxD,MAAO,MAAM,MAAM,CAAE;QACnB,MAAM,MAAM,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;QACnC,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,MAAM,EAAE;YAC7B,MAAM,GAAG;YACT;QACF;QACA,MAAM,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG;QAC9B,IAAI,IAAI,CAAC;QACT,MAAM,SAAS,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE,KAAK,OAAO,KAAK;QACzF,MAAM,UAAU,IAAI,KAAK,CAAC,OAAO,MAAM;QACvC,MAAM,IAAI,QAAQ,KAAK,CAAC;QACxB,IAAI,CAAC,GAAG;QACR,MAAM,QAAQ,CAAC,CAAC,EAAE;QAClB,MAAM,eAAe,SAAS,GAAG,CAAC;QAClC,IAAI,CAAC,gBAAgB,QAAQ,GAAG,CAAC,QAAQ;QACzC,QAAQ,GAAG,CAAC;QACZ,MAAM,qBAAqB,eAAe,cAAc;QACxD,IAAI,IAAI,CAAC,YAAY,mBAAmB,OAAO,IAAI,SAAS;IAC9D;IACA,OAAO,IAAI,IAAI,CAAC;AAClB;AACA,SAAS,YAAY,KAAK,EAAE,MAAM;IAChC,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,MAAM,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM,GAAG,SAAS,OAAO,SAAS,MAAM,IAAI,CAAC;AAC3F;AACA,SAAS,kBAAkB,QAAQ,EAAE,QAAQ;IAC3C,MAAM,UAAU,IAAI,IAClB,CAAC,YAAY,EAAE,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,GAAG;IAE7E,MAAM,YAAY,CAAC,YAAY,EAAE,EAAE,KAAK,CAAC;IACzC,MAAM,QAAQ,EAAE;IAChB,KAAK,MAAM,QAAQ,UAAW;QAC5B,MAAM,OAAO,KAAK,IAAI;QACtB,IAAI,CAAC,MAAM;QACX,IAAI,CAAC,QAAQ,GAAG,CAAC,OAAO,MAAM,IAAI,CAAC;IACrC;IACA,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAC/B,IAAI,YAAY;IAChB,KAAK,MAAM,KAAK,MAAO;QACrB,IAAI,CAAC,EAAE,IAAI,IAAI;QACf,MAAM,IAAI,EAAE,KAAK,CAAC;QAClB,MAAM,YAAY,IAAI,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG;QACpC,IAAI,YAAY,WAAW,YAAY;IACzC;IACA,IAAI,CAAC,SAAS,YAAY,YAAY;IACtC,MAAM,MAAM,MAAM,GAAG,CACnB,CAAC,IAAM,EAAE,MAAM,IAAI,YAAY,EAAE,KAAK,CAAC,aAAa;IAEtD,OAAO,IAAI,IAAI,CAAC;AAClB;AACA,SAAS,aAAa,IAAI,EAAE,OAAO;IACjC,OAAO,KAAK,kBAAkB,CAAC;AACjC;AACA,SAAS,cAAc,IAAI,EAAE,aAAa,EAAE,OAAO;IACjD,IAAI;IACJ,MAAM,WAAW,CAAC,KAAK,cAAc,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK;IAClE,IAAI,CAAC,UAAU;QACb,OAAO,KAAK,kBAAkB,CAAC;IACjC;IACA,OAAO,KAAK,kBAAkB,CAAC;AACjC;AACA,IAAI;AACJ,IAAI,gBAAgB,MAAM;IACxB;QACE;QACA;QACA;QACA,iBAAiB;IACnB;AACF;AAEA,+CAA+C;AAC/C,IAAI,wBAAwB,sBAAsB;AAClD,IAAI,gCAAgC,MAAM;IACxC;QACE,yBAAyB;QACzB,uBAAuB;YACrB,oCAAoC;YACpC,yBAAyB;YACzB,0BAA0B;YAC1B,oBAAoB;YACpB,8BAA8B;YAC9B,oBAAoB;YACpB,0BAA0B;YAC1B,oBAAoB;YACpB,gBAAgB;YAChB,oBAAoB;YACpB,oBAAoB;YACpB,2BAA2B;YAC3B,wBAAwB;YACxB,wBAAwB;YACxB,yBAAyB;YACzB,0BAA0B;YAC1B,sBAAsB;YACtB,4BAA4B;YAC5B,uBAAuB;YACvB,yBAAyB;YACzB,0BAA0B;YAC1B,wBAAwB;QAC1B;QACA,0BAA0B;YACxB,oCAAoC;YACpC,yBAAyB;YACzB,0BAA0B;YAC1B,oBAAoB;YACpB,8BAA8B;YAC9B,oBAAoB;YACpB,0BAA0B;YAC1B,oBAAoB;YACpB,gBAAgB;YAChB,oBAAoB;YACpB,oBAAoB;YACpB,2BAA2B;YAC3B,wBAAwB;YACxB,wBAAwB;YACxB,yBAAyB;YACzB,0BAA0B;YAC1B,sBAAsB;YACtB,4BAA4B;YAC5B,uBAAuB;YACvB,yBAAyB;YACzB,0BAA0B;YAC1B,wBAAwB;QAC1B;IACF;AACF;AAEA,wCAAwC;AACxC,IAAI;AACJ,IAAI,wBAAwB,MAAM;IAChC;QACE;QACA;QACA;QACA,wBAAwB;YACtB,YAAY,KAAK,CAAE;gBACjB,IAAI,CAAC,KAAK,GAAG;YACf;YACA,OAAO,cAAc,GAAG,EAAE;gBACxB,MAAM,UAAU,IAAI,IAAI;gBACxB,MAAM,SAAS,UAAU,IAAI,CAAC;gBAC9B,MAAM,iBAAiB,WAAW,IAAI,CAAC,YAAY,QAAQ,UAAU,CAAC,QAAQ,QAAQ,UAAU,CAAC;gBACjG,MAAM,gBAAgB,SAAS,IAAI,CAAC;gBACpC,IAAI,QAAQ;oBACV,IAAI,QAAQ,QAAQ,OAAO,CAAC,WAAW,IAAI,IAAI;oBAC/C,IAAI,MAAM,UAAU,CAAC,QAAQ,MAAM,QAAQ,CAAC,QAAQ,MAAM,UAAU,CAAC,QAAQ,MAAM,QAAQ,CAAC,MAAM;wBAChG,QAAQ,MAAM,KAAK,CAAC,GAAG,CAAC;oBAC1B;oBACA,OAAO;wBAAE,MAAM;wBAAQ;oBAAM;gBAC/B;gBACA,IAAI,gBAAgB;oBAClB,MAAM,QAAQ,QAAQ,OAAO,CAAC,YAAY;oBAC1C,OAAO;wBAAE,MAAM;wBAAS;oBAAM;gBAChC;gBACA,IAAI,WAAW,gBAAgB,QAAQ,OAAO,CAAC,UAAU,MAAM;gBAC/D,IAAI,SAAS,QAAQ,CAAC,OAAO;oBAC3B,WAAW,SAAS,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,QAAU,MAAM,IAAI,IAAI,MAAM,CAAC,SAAS,IAAI,CAAC;gBACpF;gBACA,OAAO;oBAAE,MAAM;oBAAO,OAAO;gBAAS;YACxC;YACA,aAAa,KAAK,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO;gBACpC;YACF;YACA,WAAW,EAAE,EAAE;gBACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,KAAK,EAAE,EAAE,QAAQ,QAAQ,EAAE,GAAG,CAAC,CAAC;oBACzE,IAAI,SAAS,GAAG,OAAO,EAAE;oBACzB,OAAQ,MAAM,IAAI;wBAChB,KAAK;4BACH,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,EAAE;wBACtC,KAAK;4BACH,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,EAAE;wBACvC,KAAK;4BACH,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,EAAE;wBACxC;4BACE,OAAO,EAAE;oBACb;gBACF;YACF;YACA,MAAM,KAAK,EAAE;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAQ,MAAM,IAAI;wBAChB,KAAK;4BACH,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK;wBAClC,KAAK;4BACH,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK;wBACnC,KAAK;4BACH,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK;wBACpC;4BACE,OAAO;oBACX;gBACF;YACF;YACA,eAAe,KAAK,EAAE,KAAK,EAAE;gBAC3B,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,IAAI,QAAQ,KAAK,CAAC,OAAO,QAAQ,CAAC,QAAQ,OAAO;oBACjD,MAAM,UAAU,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO;wBAAE,OAAO,QAAQ;oBAAE;oBAChE,OAAO,CAAC,KAAK,OAAO,CAAC,MAAM,KAAK,OAAO,KAAK;gBAC9C;YACF;YACA,uBAAuB,IAAI,EAAE,IAAI,EAAE;gBACjC,MAAM,OAAO,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;gBACnE,OAAO,CAAC,SAAS,EAAE,uBAAuB,SAAS,EAAE,KAAK,MAAM,CAAC;YACnE;YACA,WAAW,QAAQ,EAAE,KAAK,EAAE;gBAC1B,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,SAAS,GAAG,OAAO,EAAE;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,kBAAkB,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,4BAA4B;wBAC5E,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO;wBAC3B,WAAW;oBACb;oBACA,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,MAAM,UAAU,EAAE;oBAClB,IAAI,iBAAiB;oBACrB,IAAK,IAAI,QAAQ,GAAG,QAAQ,OAAO,SAAS,EAAG;wBAC7C,MAAM,cAAc,IAAI,CAAC,sBAAsB,CAAC,sBAAsB;4BACpE,KAAK,SAAS,CAAC;4BACf,OAAO;yBACR;wBACD,MAAM,UAAU,MAAM,IAAI,CAAC,eAAe,CACxC,aACA;wBAEF,IAAI,SAAS;4BACX,QAAQ,IAAI,CAAC;4BACb;wBACF;wBACA,IAAI,CAAC,gBAAgB;4BACnB,SAAS;gCACP,UAAU;gCACV,SAAS;gCACT,OAAO;gCACP,WAAW;oCACT,SAAS;wCAAE,OAAO,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;wCAAG,MAAM;oCAAS;oCAC7D,UAAU;wCAAE,OAAO;wCAAU,MAAM;oCAAS;gCAC9C;4BACF;4BACA,iBAAiB;wBACnB;wBACA,MAAM,eAAe,IAAI,CAAC,sBAAsB,CAC9C,4BACA;4BAAC,KAAK,SAAS,CAAC;4BAAW,OAAO;yBAAO;wBAE3C,MAAM,WAAW,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc;wBAC1D,IAAI,UAAU;4BACZ,QAAQ,IAAI,CAAC;4BACb;wBACF;wBACA;oBACF;oBACA,OAAO;gBACT;YACF;YACA,YAAY,KAAK,EAAE,KAAK,EAAE;gBACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,SAAS,GAAG,OAAO,EAAE;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,MAAM,UAAU,EAAE;oBAClB,IAAK,IAAI,QAAQ,GAAG,QAAQ,OAAO,SAAS,EAAG;wBAC7C,MAAM,OAAO,IAAI,CAAC,sBAAsB,CAAC,uBAAuB;4BAC9D,KAAK,SAAS,CAAC;4BACf,OAAO;yBACR;wBACD,MAAM,WAAW,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM;wBAClD,IAAI,CAAC,UAAU;wBACf,QAAQ,IAAI,CAAC;oBACf;oBACA,OAAO;gBACT;YACF;YACA,aAAa,KAAK,EAAE,KAAK,EAAE;gBACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,SAAS,GAAG,OAAO,EAAE;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,SAAS;gCAAE,OAAO,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;gCAAG,MAAM;4BAAS;4BAC7D,IAAI;gCAAE;gCAAO,MAAM;4BAAS;4BAC5B,OAAO;gCAAE,OAAO,OAAO;gCAAQ,MAAM;4BAAS;wBAChD;oBACF;oBACA,MAAM,UAAU,EAAE;oBAClB,IAAK,IAAI,QAAQ,GAAG,QAAQ,OAAO,SAAS,EAAG;wBAC7C,MAAM,OAAO,IAAI,CAAC,sBAAsB,CAAC,yBAAyB;4BAChE,KAAK,SAAS,CAAC;4BACf,OAAO;yBACR;wBACD,MAAM,WAAW,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM;wBAClD,IAAI,CAAC,UAAU;wBACf,QAAQ,IAAI,CAAC;oBACf;oBACA,OAAO;gBACT;YACF;YACA,SAAS,QAAQ,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,kBAAkB,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC,4BAA4B;wBAC5E,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO;wBAC3B,WAAW;oBACb;oBACA,MAAM,cAAc,IAAI,CAAC,sBAAsB,CAAC,0BAA0B;wBACxE,KAAK,SAAS,CAAC;qBAChB;oBACD,MAAM,UAAU,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa;oBACtD,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,MAAM,eAAe,IAAI,CAAC,sBAAsB,CAAC,yBAAyB;wBACxE,KAAK,SAAS,CAAC;qBAChB;oBACD,MAAM,WAAW,MAAM,IAAI,CAAC,aAAa,CAAC,cAAc;oBACxD,OAAO,KAAK,GAAG,CAAC,SAAS;gBAC3B;YACF;YACA,UAAU,KAAK,EAAE;gBACf,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;oBACxB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,MAAM,OAAO,IAAI,CAAC,sBAAsB,CAAC,oBAAoB;wBAC3D,KAAK,SAAS,CAAC;qBAChB;oBACD,IAAI;wBACF,MAAM,UAAU,MAAM,QAAQ,IAAI,CAChC,oBACA;4BACE,YAAY;4BACZ,WAAW;4BACX,eAAe;4BACf,cAAc;wBAChB;wBAEF,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,MAAM,UAAU,QAAQ,gBAAgB;4BACxC,SAAS;gCACP,UAAU;gCACV,SAAS;gCACT,OAAO;gCACP,WAAW;oCACT,SAAS;wCAAE,OAAO,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;wCAAG,MAAM;oCAAS;oCAC7D,UAAU;wCAAE;wCAAO,MAAM;oCAAS;oCAClC,WAAW;wCACT,OAAO,CAAC,KAAK,QAAQ,IAAI,KAAK,OAAO,KAAK,OACxC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,QAAQ,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC,KAAK,QAAQ,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,OAAO,KAAK;wCAE9J,MAAM;oCACR;gCACF;4BACF;4BACA,OAAO;wBACT;wBACA,MAAM,OAAO,CAAC,KAAK,QAAQ,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK,CAAC;wBACzD,MAAM,MAAM,OAAO,KAAK,KAAK,KAAK,WAAW,KAAK,KAAK,GAAG,OAAO,KAAK,KAAK;wBAC3E,IAAI,CAAC,OAAO,QAAQ,CAAC,MAAM,OAAO;wBAClC,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;oBAChC,EAAE,OAAO,GAAG;wBACV,OAAO;oBACT;gBACF;YACF;YACA,WAAW,KAAK,EAAE;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,MAAM,kBAAkB,gBAAgB,CACpD,SACA,IAAI,CAAC,KAAK,CAAC,OAAO,EAClB;oBAEF,MAAM,OAAO,IAAI,CAAC,sBAAsB,CAAC,8BAA8B;wBACrE,KAAK,SAAS,CAAC;qBAChB;oBACD,IAAI;wBACF,MAAM,UAAU,MAAM,QAAQ,IAAI,CAChC,oBACA;4BACE,YAAY;4BACZ,WAAW;4BACX,eAAe;4BACf,cAAc;wBAChB;wBAEF,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,OAAO;wBACT;wBACA,MAAM,MAAM,OAAO,QAAQ,MAAM,CAAC,KAAK,KAAK,WAAW,QAAQ,MAAM,CAAC,KAAK,GAAG,OAAO,QAAQ,MAAM,CAAC,KAAK;wBACzG,IAAI,CAAC,OAAO,QAAQ,CAAC,MAAM,OAAO;wBAClC,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;oBAChC,EAAE,OAAO,GAAG;wBACV,OAAO;oBACT;gBACF;YACF;YACA,oBAAoB,QAAQ,EAAE;gBAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,IAAI,SAAS;oBACb,IAAI;wBACF,MAAM,KAAK,MAAM,QAAQ,IAAI,CAC3B,mBACA;4BAAE;wBAAS;wBAEb,SAAS,CAAC,KAAK,GAAG,MAAM,KAAK,OAAO,KAAK;oBAC3C,EAAE,OAAO,GAAG;wBACV,SAAS;oBACX;oBACA,OAAO;wBAAE;wBAAU;oBAAO;gBAC5B;YACF;YACA,cAAc,UAAU,EAAE,SAAS,EAAE;gBACnC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,IAAI;wBACF,MAAM,UAAU,MAAM,QAAQ,IAAI,CAChC,oBACA;4BACE;4BACA;4BACA,eAAe;4BACf,cAAc;wBAChB;wBAEF,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,OAAO;wBACT;wBACA,MAAM,QAAQ,QAAQ,MAAM,CAAC,KAAK;wBAClC,MAAM,MAAM,OAAO,UAAU,WAAW,QAAQ,OAAO;wBACvD,IAAI,CAAC,OAAO,QAAQ,CAAC,MAAM,OAAO;wBAClC,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;oBAChC,EAAE,OAAO,GAAG;wBACV,OAAO;oBACT;gBACF;YACF;YACA,gBAAgB,UAAU,EAAE,SAAS,EAAE;gBACrC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,IAAI;wBACF,MAAM,UAAU,MAAM,QAAQ,IAAI,CAChC,oBACA;4BACE;4BACA;4BACA,eAAe;4BACf,cAAc;wBAChB;wBAEF,IAAI,QAAQ,gBAAgB,IAAI,CAAC,QAAQ,MAAM,CAAC,QAAQ,EAAE;4BACxD,OAAO;wBACT;wBACA,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,MAAM,CAAC,QAAQ;oBACzD,EAAE,OAAO,GAAG;wBACV,OAAO;oBACT;gBACF;YACF;QACF;IACF;AACF;AAEA,uCAAuC;AACvC,SAAS,oBAAoB,EAAE;IAC7B,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,IAAI;QACJ,IAAI,UAAU,QAAQ,UAAU,KAAK,GAAG,OAAO,EAAE;QACjD,MAAM,YAAY,MAAM,OAAO,CAAC,SAAS,QAAQ;YAAC;SAAM;QACxD,IAAI,CAAC,UAAU,MAAM,EAAE,OAAO,EAAE;QAChC,MAAM,UAAU,CAAC,KAAK,KAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,GAAG;QAC9D,MAAM,aAAa,EAAE;QACrB,KAAK,MAAM,SAAS,UAAW;YAC7B,IAAI,OAAO,UAAU,UAAU;gBAC7B,MAAM,eAAe,aAAa,OAAO,CAAC,UAAU,CAAC,SAAS,QAAQ,aAAa,OAAO,CAAC,OAAO,CAAC,SAAS;gBAC5G,MAAM,OAAO,MAAM,SAAS;gBAC5B,IAAI,CAAC,KAAK,MAAM,IAAI;oBAClB,MAAM,IAAI,8BACR,CAAC,4EAA4E,EAAE,cAAc;gBAEjG;gBACA,MAAM,SAAS,MAAM,WAAW,QAAQ,CAAC,QAAQ,CAAC;gBAClD,WAAW,IAAI,CAAC;oBACd,MAAM,aAAa,OAAO,CAAC,QAAQ,CAAC,iBAAiB;oBACrD,UAAU;oBACV;oBACA,cAAc,KAAK,OAAO,IAAI,KAAK,GAAG;oBACtC;gBACF;gBACA;YACF;YACA,IAAI,SAAS,OAAO,UAAU,YAAY,YAAY,OAAO;gBAC3D,MAAM,UAAU;gBAChB,MAAM,SAAS,SAAS,QAAQ,MAAM;gBACtC,WAAW,IAAI,CAAC;oBACd,MAAM,QAAQ,IAAI,IAAI;oBACtB,UAAU,QAAQ,QAAQ,IAAI;oBAC9B;oBACA,cAAc,OAAO,QAAQ,YAAY,KAAK,WAAW,QAAQ,YAAY,GAAG,KAAK,GAAG;gBAC1F;gBACA;YACF;YACA,MAAM,IAAI,8BACR;QAEJ;QACA,OAAO;IACT;AACF;AACA,SAAS,SAAS,YAAY;IAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;YACF,OAAO,MAAM,WAAW,QAAQ,CAAC,IAAI,CAAC;QACxC,EAAE,OAAO,OAAO;YACd,MAAM,OAAO,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI;YAChD,IAAI,SAAS,UAAU;gBACrB,MAAM,IAAI,8BACR,CAAC,mCAAmC,EAAE,cAAc;YAExD;YACA,MAAM;QACR;IACF;AACF;AACA,SAAS,SAAS,IAAI;IACpB,IAAI,cAAc,MAAM,CAAC,QAAQ,CAAC,OAAO,OAAO;IAChD,IAAI,gBAAgB,YAAY,OAAO,cAAc,MAAM,CAAC,IAAI,CAAC;IACjE,IAAI,OAAO,SAAS,UAAU,OAAO,cAAc,MAAM,CAAC,IAAI,CAAC;IAC/D,IAAI,gBAAgB,aAAa,OAAO,cAAc,MAAM,CAAC,IAAI,CAAC,IAAI,WAAW;IACjF,MAAM,IAAI,8BACR;AAEJ;AACA,IAAI,YAAY,cAAc,eAAe;AAC7C,IAAI,uBAAuB,MAAM;IAC/B;QACE;QACA,eAAe;QACf;QACA;QACA,oBAAoB;IACtB;AACF;AAEA,+BAA+B;AAC/B,IAAI,KAAK,IAAI,OAAO,yBAAyB;AAC7C,IAAI,eAAe,MAAM;IACvB;QACE,MAAM;QACN,KAAK;QACL,QAAQ;QACR;QACA;QACA;QACA;QACA,0BAA0B,KAAK,OAAO;QACtC,UAAU,MAAM;YACd,YAAY,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,CAAE;gBAClD,IAAI,CAAC,KAAK,GAAG;gBACb,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,CAAC,OAAO,GAAG;gBACf,IAAI,CAAC,gBAAgB,GAAG,IAAI,sBAAsB,IAAI,CAAC,KAAK;gBAC5D,IAAI,CAAC,aAAa,GAAG,sBAAsB,aAAa,CAAC;gBACzD,IAAI,CAAC,QAAQ,GAAG,KAAK,GAAG,CACtB,GACA,KAAK,KAAK,CAAC,OAAO,QAAQ,CAAC,YAAY,WAAW;YAEtD;YACA,kFAAkF,GAClF,WAAW;gBACT,OAAO,IAAI,CAAC,KAAK;YACnB;YACA;;;;;;;;OAQC,GACD,cAAc,KAAK,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,MAAM,YAAY,EAAE;oBACpB,IAAI;wBACF,IAAI;4BACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;gCACE;gCACA,qBAAqB,qBAAqB,sBAAsB;gCAChE,eAAe;4BACjB;4BAEF,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,KAAK;4BACnC,IAAI,CAAC,IACH,MAAM,IAAI,8BACR;wBAEN,EAAE,OAAO,GAAG;4BACV,MAAM,IAAI,8BACR,aAAa,QAAQ,EAAE,OAAO,GAAG;wBAErC;wBACA,MAAM,aAAa,MAAM,oBAAoB;wBAC7C,IAAI,CAAC,WAAW,MAAM,EAAE;4BACtB,MAAM,QAAQ,IAAI,CAAC,yBAAyB;gCAC1C;gCACA,OAAO,EAAE;4BACX;4BACA;wBACF;wBACA,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI;4BAChC,MAAM,IAAI,CAAC,8BAA8B,CAAC,UAAU;4BACpD;wBACF;wBACA,MAAM,YAAY,EAAE;wBACpB,KAAK,MAAM,WAAW,WAAY;4BAChC,IAAI,QAAQ,YAAY,EAAE;gCACxB,UAAU,IAAI,CAAC,QAAQ,YAAY;gCACnC;4BACF;4BACA,MAAM,MAAM,MAAM,OAAO,CAAC,QAAQ,IAAI;4BACtC,MAAM,MAAM,MAAM,IAAI,CACpB,GAAG,MAAM,IACT,CAAC,iBAAiB,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,KAAK,KAAK;4BAE/E,MAAM,IAAI,QAAQ,CAAC,SAAS,CAAC,KAAK,QAAQ,MAAM;4BAChD,UAAU,IAAI,CAAC;4BACf,UAAU,IAAI,CAAC;wBACjB;wBACA,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAC1C;4BACA,OAAO;wBACT;oBACF,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;wBACA,KAAK,MAAM,KAAK,UAAW;4BACzB,IAAI;gCACF,MAAM,IAAI,QAAQ,CAAC,MAAM,CAAC;4BAC5B,EAAE,OAAO,GAAG,CACZ;wBACF;oBACF;gBACF;YACF;YACA;;;;;;;OAOC,GACD,+BAA+B,QAAQ,EAAE,KAAK,EAAE;gBAC9C,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,KAAK,MAAM,WAAW,MAAO;wBAC3B,IAAI,QAAQ,MAAM,CAAC,MAAM,GAAG,yBAAyB;4BACnD,MAAM,IAAI,8BACR,CAAC,uBAAuB,EAAE,QAAQ,IAAI,CAAC,kDAAkD,CAAC;wBAE9F;oBACF;oBACA,MAAM,aAAa,MAAM,GAAG,CAAC,CAAC,UAAY,CAAC;4BACzC,MAAM,QAAQ,IAAI;4BAClB,UAAU,QAAQ,QAAQ;4BAC1B,cAAc,QAAQ,YAAY;4BAClC,QAAQ,QAAQ,MAAM,CAAC,QAAQ,CAAC;wBAClC,CAAC;oBACD,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;wBACE;wBACA,qBAAqB,qBAAqB,gCAAgC;wBAC1E,WAAW;4BACT;gCACE,OAAO;4BACT;yBACD;wBACD,eAAe;oBACjB;oBAEF,MAAM,KAAK,QAAQ,CAAC,KAAK,IAAI,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;oBAChE,IAAI,CAAC,IAAI;wBACP,MAAM,IAAI,8BACR;oBAEJ;gBACF;YACF;YACA;;;OAGC,GACD,gBAAgB;gBACd,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,cAAc,KAAK,CAAC,KACvC;wBACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI,CACjC,oBACA;4BAAE;wBAAS;wBAEb,OAAO,KAAK,aAAa;oBAC3B,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA,4DAA4D,GAC5D,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,IAAI,CAAC;oBACnB,MAAM,QAAQ,IAAI,CAAC;oBACnB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa;gBACvD;YACF;YACA;;;OAGC,GACD,WAAW;gBACT,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,8BAA8B;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACrE;wBACA,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,mBACA;4BAAE;wBAAS;wBAEb,IAAI,CAAC,IAAI,KAAK,EAAE,MAAM,IAAI,uBAAuB,IAAI,CAAC,QAAQ;wBAC9D,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,KAAK,CAAC,OAAO;wBAC9D,OAAO;4BAAE,GAAG,KAAK,KAAK,CAAC;4BAAK,GAAG,KAAK,KAAK,CAAC;wBAAI;oBAChD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA;;;;OAIC,GACD,UAAU,OAAO,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI;oBACZ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,KAAK,OAAO,KAAK;oBACjG,MAAM,cAAc,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,KAAK,OAAO,KAAK;wBAAE,GAAG;wBAAK,GAAG;wBAAG,GAAG;wBAAG,GAAG;oBAAI;oBACtH,MAAM,eAAe,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;wBAAE,GAAG;wBAAK,GAAG;wBAAK,GAAG;wBAAG,GAAG;oBAAI;oBAC1H,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC3C;wBACA,MAAM,QAAQ,IAAI,CAAC,8BAA8B;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACrE;wBACA,MAAM,QAAQ,IAAI,CAAC,cAAc,KAAK,CAAC,KACvC;wBACA,IAAI;wBACJ,IAAI;4BACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI,CACjC,oBACA;gCAAE;4BAAS;4BAEb,gBAAgB,KAAK,aAAa;wBACpC,EAAE,OAAO,GAAG;4BACV,gBAAgB,KAAK;wBACvB;wBACA,MAAM,kBAAkB;4BACtB,UAAU;4BACV,YAAY;4BACZ,YAAY;4BACZ,oBAAoB;4BACpB;4BACA;wBACF;wBACA,MAAM,gBAAgB,IAAM,QAAQ,IAAI,EAAE,MAAM;gCAC9C,MAAM,QAAQ,IAAI,CAAC,yBAAyB,cAAc,eAAe,CAAC,GAAG,gBAAgB;oCAAE;gCAAc,IAAI;oCAAE;gCAAS,IAAI;oCAC9H;gCACF;4BACF;wBACA,MAAM;wBACN,IAAI,WAAW,GAAG;4BAChB,MAAM,QAAQ,KAAK,GAAG;4BACtB,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,WAAW;4BAC/D,MAAO,KAAK,GAAG,KAAK,QAAQ,SAAU;gCACpC,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;gCACvC,IAAI;oCACF,MAAM;gCACR,EAAE,OAAO,GAAG,CACZ;4BACF;4BACA,MAAM,QAAQ,IAAI,CAAC,yBAAyB,KAAK,CAAC,KAClD;wBACF;oBACF,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA;;;OAGC,GACD,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,8BAA8B;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACrE;wBACA,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,mBACA;4BAAE;wBAAS;wBAEb,IAAI,CAAC,IAAI,KAAK,EAAE,MAAM,IAAI,uBAAuB,IAAI,CAAC,QAAQ;wBAC9D,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,KAAK,CAAC,OAAO;wBAC9D,MAAM,QAAQ,IAAI,CAAC,4BAA4B;4BAC7C,MAAM;4BACN,GAAG;4BACH,GAAG;4BACH,QAAQ;wBACV;oBACF,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA;;;;;;;OAOC,GACD,MAAM,OAAO,EAAE;gBACb,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,MAAM,KAAK,OAAO,KAAK;oBAC/E,MAAM,aAAa,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,KAAK,OAAO,KAAK;oBACvF,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,8BAA8B;4BAAE;wBAAS;wBAC5D,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,mBACA;4BAAE;wBAAS;wBAEb,IAAI,CAAC,IAAI,KAAK,EAAE,MAAM,IAAI,uBAAuB,IAAI,CAAC,QAAQ;wBAC9D,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,KAAK,CAAC,OAAO;wBAC9D,MAAM,QAAQ,IAAI,CAAC,4BAA4B;4BAC7C,MAAM;4BACN,GAAG;4BACH,GAAG;4BACH,QAAQ;wBACV;wBACA,MAAM,QAAQ,IAAI,CAAC,4BAA4B;4BAC7C,MAAM;4BACN,GAAG;4BACH,GAAG;4BACH;4BACA;wBACF;wBACA,MAAM,QAAQ,IAAI,CAAC,4BAA4B;4BAC7C,MAAM;4BACN,GAAG;4BACH,GAAG;4BACH;4BACA;wBACF;oBACF,SAAU;wBACR,IAAI;4BACF,MAAM,QAAQ,IAAI,CAAC,yBAAyB;gCAAE;4BAAS;wBACzD,EAAE,OAAO,GAAG,CACZ;oBACF;gBACF;YACF;YACA;;;;OAIC,GACD,eAAe,OAAO,EAAE;gBACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI,IAAI;oBAChB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,MAAM,UAAU,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO,KAAK,OAAO,KAAK;oBACjF,MAAM,aAAa,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,KAAK,OAAO,KAAK;oBACvF,MAAM,WAAW,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,QAAQ,KAAK,OAAO,KAAK;oBACnF,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,MAAM,KAAK,OAAO,KAAK;oBAC/E,IAAI;wBACF,MAAM,QAAQ,IAAI,CAAC,8BAA8B;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACrE;wBACA,MAAM,QAAQ,IAAI,CAChB,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,gBAAgB;4BAC1D,WAAW;gCACT;oCACE,OAAO;wCAAE;wCAAS;wCAAY;wCAAU;oCAAO;gCACjD;6BACD;4BACD,eAAe;wBACjB;oBAEJ,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA;;;;OAIC,GACD,SAAS,OAAO,EAAE;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,QAAQ,IAAI,CAChB,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,sBAAsB;4BAChE,WAAW;gCAAC;oCAAE,OAAO;gCAAQ;6BAAE;4BAC/B,eAAe;wBACjB;oBAEJ,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KAChE;oBACF;gBACF;YACF;YACA;;;;;OAKC,GACD,KAAK,KAAK,EAAE;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI,gBAAgB;oBACpB,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,gBAAgB;4BAC1D,WAAW;gCAAC;oCAAE;gCAAM;6BAAE;4BACtB,eAAe;wBACjB;wBAEF,MAAM,SAAS,IAAI,MAAM,CAAC,KAAK;wBAC/B,MAAM,SAAS,OAAO,WAAW,YAAY,SAAS,OAAO,MAAM,GAAG,KAAK;wBAC3E,IAAI,WAAW,QAAQ;4BACrB;wBACF;wBACA,IAAI,WAAW,cAAc;4BAC3B,MAAM,QAAQ,IAAI,CAAC,yBAAyB;gCAAE;4BAAS,GAAG,KAAK,CAAC,KAChE;4BACA,gBAAgB;4BAChB,MAAM,cAAc,OAAO,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,MAAM,WAAW,OAAO,KAAK,GAAG;4BAClG,IAAI,WAAW;4BACf,IAAI;gCACF,MAAM,EAAE,UAAU,YAAY,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;gCACzD,IAAI;oCACF,MAAM,UAAU,MAAM,QAAQ,IAAI,CAChC,0BACA;wCACE,UAAU;wCACV,qBAAqB,qBAAqB,uBAAuB;wCACjE,eAAe;oCACjB;oCAEF,WAAW,QAAQ,QAAQ,MAAM,CAAC,KAAK;gCACzC,SAAU;oCACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;wCAAE,UAAU;oCAAa,GAAG,KAAK,CAAC,KAC9E;gCACF;4BACF,EAAE,OAAO,GAAG,CACZ;4BACA,IAAI,CAAC,YAAY,YAAY,MAAM,GAAG,GAAG;gCACvC,MAAM,IAAI,CAAC,IAAI,CAAC;gCAChB;4BACF;4BACA,IAAI,YAAY,MAAM,KAAK,GAAG;gCAC5B,MAAM,QAAQ,IAAI,CAAC,0BAA0B;oCAC3C,MAAM;oCACN,KAAK;oCACL,MAAM;oCACN,uBAAuB;oCACvB,sBAAsB;gCACxB;gCACA,MAAM,QAAQ,IAAI,CAAC,0BAA0B;oCAC3C,MAAM;oCACN,KAAK;oCACL,MAAM;oCACN,uBAAuB;oCACvB,sBAAsB;gCACxB;4BACF,OAAO;gCACL,MAAM,QAAQ,IAAI,CAAC,oBAAoB;oCAAE,MAAM;gCAAY;4BAC7D;4BACA;wBACF;wBACA,IAAI,WAAW,SAAS;4BACtB,MAAM,SAAS,OAAO,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,MAAM,MAAM,YAAY,OAAO,MAAM,CAAC,MAAM,GAAG,IAAI,OAAO,MAAM,GAAG;4BAC3H,MAAM,IAAI,8BACR,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;wBAExC;wBACA,IAAI,CAAC,QAAQ;4BACX,MAAM,IAAI,CAAC,IAAI,CAAC;wBAClB;oBACF,SAAU;wBACR,IAAI,eAAe;4BACjB,MAAM,QAAQ,IAAI,CAAC,yBAAyB;gCAAE;4BAAS,GAAG,KAAK,CAAC,KAChE;wBACF;oBACF;gBACF;YACF;YACA;;;;;OAKC,GACD,KAAK,IAAI,EAAE,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,QAAQ,IAAI,CAChB,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,YAAY;4BACtD,eAAe;wBACjB;wBAEF,IAAI,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,GAAG;4BAC/C,MAAM,QAAQ,IAAI,CAAC,oBAAoB;gCAAE;4BAAK;4BAC9C;wBACF;wBACA,KAAK,MAAM,MAAM,KAAM;4BACrB,MAAM,QAAQ,IAAI,CAAC,0BAA0B;gCAC3C,MAAM;gCACN,MAAM;gCACN,KAAK;4BACP;4BACA,MAAM,QAAQ,IAAI,CAAC,0BAA0B;gCAC3C,MAAM;gCACN,MAAM;gCACN,KAAK;4BACP;4BACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG,QAAQ,KAAK;wBACtD;oBACF,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;;OAGC,GACD,aAAa,MAAM,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,UAAU,MAAM,OAAO,CAAC,UAAU,SAAS;wBAAC;qBAAO;oBACzD,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,oBAAoB;4BAC9D,WAAW;gCAAC;oCAAE,OAAO;gCAAQ;6BAAE;4BAC/B,eAAe;wBACjB;wBAEF,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK,EAAE;oBAClD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,gBAAgB;4BAC1D,eAAe;wBACjB;wBAEF,OAAO,QAAQ,IAAI,MAAM,CAAC,KAAK;oBACjC,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;;OAGC,GACD,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,gBAAgB;4BAC1D,eAAe;wBACjB;wBAEF,OAAO,QAAQ,IAAI,MAAM,CAAC,KAAK;oBACjC,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,aAAa;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,qBAAqB;4BAC/D,eAAe;wBACjB;wBAEF,OAAO,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK;oBACvD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,cAAc;gBACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,sBAAsB;4BAChE,eAAe;wBACjB;wBAEF,OAAO,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK;oBACvD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,oBAAoB;4BAC9D,eAAe;wBACjB;wBAEF,OAAO,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK;oBACvD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW;oBAC3C,IAAI;wBACF,MAAM,MAAM,MAAM,QAAQ,IAAI,CAC5B,0BACA;4BACE;4BACA,qBAAqB,qBAAqB,oBAAoB;4BAC9D,eAAe;wBACjB;wBAEF,OAAO,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,OAAO,KAAK;oBACvD,SAAU;wBACR,MAAM,QAAQ,IAAI,CAAC,yBAAyB;4BAAE;wBAAS;oBACzD;gBACF;YACF;YACA;;OAEC,GACD,QAAQ;gBACN,OAAO,IAAI;YACb;YACA,4EAA4E,GAC5E,IAAI,KAAK,EAAE;gBACT,MAAM,QAAQ,OAAO;gBACrB,IAAI,CAAC,OAAO,QAAQ,CAAC,UAAU,QAAQ,GAAG;oBACxC,MAAM,IAAI,8BACR;gBAEJ;gBACA,MAAM,YAAY,KAAK,KAAK,CAAC;gBAC7B,IAAI,cAAc,IAAI,CAAC,QAAQ,EAAE;oBAC/B,OAAO,IAAI;gBACb;gBACA,OAAO,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE;YAC/D;YACA,gCAAgC;YAChC;;;OAGC,GACD,cAAc;gBACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO;oBAClC,MAAM,QAAQ,IAAI,CAAC;oBACnB,MAAM,QAAQ,IAAI,CAAC;oBACnB,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,cAAc,CACzD,IAAI,CAAC,aAAa,EAClB,IAAI,CAAC,QAAQ;oBAEf,IAAI,CAAC,UAAU;wBACb,MAAM,IAAI,8BAA8B;4BAAC,IAAI,CAAC,QAAQ;yBAAC;oBACzD;oBACA,OAAO;gBACT;YACF;YACA,wDAAwD,GACxD,qBAAqB,OAAO,EAAE;gBAC5B,IAAI,CAAC,WAAW,QAAQ,MAAM,GAAG,GAAG;oBAClC,MAAM,IAAI,8BAA8B;gBAC1C;gBACA,MAAM,KAAK;oBAAC,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;iBAAC;gBAC3D,MAAM,KAAK;oBAAC,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;oBAAE,OAAO,CAAC,EAAE;iBAAC;gBAC3D,MAAM,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI;gBAC7C,MAAM,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI;gBAC7C,OAAO;oBAAE;oBAAI;gBAAG;YAClB;QACF;IACF;AACF;AAEA,oCAAoC;AACpC,SAAS,sBAAsB,IAAI,EAAE,IAAI,EAAE,QAAQ;IACjD,OAAO,IAAI,aAAa,MAAM,UAAU,KAAK,GAAG;AAClD;AACA,SAAS,oCAAoC,IAAI,EAAE,aAAa,EAAE,SAAS;IACzE,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI;QACR,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,MAAO,KAAM;YACX,IAAI;gBACF,MAAM,OAAO,KAAK,gBAAgB;gBAClC,MAAM,OAAO,cAAc,MAAM;gBACjC,MAAM,MAAM,CAAC,KAAK,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,KAAK,EAAE;gBACjI,IAAI,IAAI,MAAM,GAAG,KAAK,KAAK,GAAG,MAAM,UAAU,OAAO;YACvD,EAAE,OAAO,GAAG,CACZ;YACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;QACzC;IACF;AACF;AACA,SAAS,cAAc,IAAI,EAAE,QAAQ;IACnC,IAAI;IACJ,IAAI,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU,OAAO;IACvC,KAAK,MAAM,KAAK,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,EAAE,CAAE;QACzD,MAAM,MAAM,cAAc,GAAG;QAC7B,IAAI,KAAK,OAAO;IAClB;IACA,OAAO,KAAK;AACd;AACA,SAAS,sBAAsB,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ;IACtE,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,iBAAiB,YAAY,OAAO;QAC1C,MAAM,WAAW,KAAK,GAAG,KAAK,KAAK,GAAG,CAAC,GAAG;QAC1C,MAAM,QAAQ,KAAK,kBAAkB,CAAC;QACtC,IAAI,SAAS,UAAU,gBAAgB;YACrC,IAAI;gBACF,MAAM,kBAAkB,gBAAgB,CAAC,OAAO,cAAc;YAChE,EAAE,OAAO,GAAG,CACZ;YACA;QACF;QACA,MAAM,uBAAuB;YAC3B,IAAI;gBACF,OAAO,kBAAkB,YAAY,CAAC,gBAAgB,kBAAkB;YAC1E,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,IAAI,wBAAwB;QAC5B,MAAM,eAAe,IAAI,CAAC,kCAAkC;YAAE,SAAS;QAAK,GAAG,KAAK,CAAC,KACrF;QACA,MAAM,eAAe,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAClD;QACA,MAAM,IAAI,QAAQ,CAAC;YACjB,IAAI,OAAO;YACX,MAAM,SAAS;gBACb,IAAI,MAAM;gBACV,OAAO;gBACP,eAAe,GAAG,CAAC,uBAAuB;gBAC1C;YACF;YACA,MAAM,cAAc,CAAC;gBACnB,IAAI,IAAI,OAAO,KAAK,gBAAgB,IAAI,IAAI,KAAK,sBAAsB,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,iBAAiB,IAAI,IAAI,KAAK,eAAe;oBACtJ;gBACF;gBACA,IAAI,wBAAwB,OAAO;gBACnC,IAAI;oBACF,MAAM,WAAW,KAAK,kBAAkB,CAAC;oBACzC,IAAI,YAAY,aAAa,gBAAgB;wBAC3C,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,WAAW,KAAK,GAAG;wBAC9C,kBAAkB,gBAAgB,CAAC,UAAU,cAAc,MAAM,OAAO,CAAC;oBAC3E;gBACF,EAAE,OAAO,GAAG,CACZ;YACF;YACA,eAAe,EAAE,CAAC,uBAAuB;YACzC,MAAM,OAAO;gBACX,IAAI,MAAM;gBACV,IAAI,wBAAwB,OAAO;gBACnC,IAAI;oBACF,MAAM,WAAW,KAAK,kBAAkB,CAAC;oBACzC,IAAI,YAAY,aAAa,gBAAgB;wBAC3C,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,WAAW,KAAK,GAAG;wBAC9C,kBAAkB,gBAAgB,CAAC,UAAU,cAAc,MAAM,OAAO,CAAC;wBACzE;oBACF;gBACF,EAAE,OAAO,GAAG,CACZ;gBACA,IAAI,KAAK,GAAG,MAAM,UAAU,OAAO;gBACnC,WAAW,MAAM;YACnB;YACA;QACF;IACF;AACF;AACA,IAAI,cAAc;AAClB,IAAI,oBAAoB,MAAM;IAC5B;QACE;QACA;QACA,eAAe,MAAM;YACnB,YAAY,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAE;gBACxC,IAAI,CAAC,IAAI,GAAG;gBACZ,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,CAAC,MAAM,GAAG;gBACd,IAAI,CAAC,IAAI,GAAG;YACd;YACA,iDAAiD,GACjD,aAAa,QAAQ,EAAE;gBACrB,OAAO,IAAI,cAAc,IAAI,CAAC,IAAI,EAAE,UAAU,IAAI;YACpD;YACA,+DAA+D,GAC/D,eAAe;gBACb,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,cAAc,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS;oBACxH,MAAM,MAAM,YAAY,OAAO,CAAC,IAAI,CAAC,QAAQ;oBAC7C,MAAM,iBAAiB,YAAY,OAAO;oBAC1C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,WAAW;oBAC1C,IAAI;wBACF,MAAM,eAAe,IAAI,CAAC,cAAc,KAAK,CAAC,KAC9C;wBACA,MAAM,OAAO,MAAM,eAAe,IAAI,CACpC,oBACA;4BAAE;wBAAS;wBAEb,MAAM,sBAAsB,KAAK,IAAI,CAAC,aAAa;wBACnD,MAAM,WAAW,MAAM,oCACrB,IAAI,CAAC,IAAI,EACT,YAAY,OAAO,EACnB;wBAEF,KAAK,MAAM,OAAO,SAAU;4BAC1B,IAAI;gCACF,MAAM,QAAQ,MAAM,eAAe,IAAI,CAAC,qBAAqB;oCAAE,SAAS;gCAAI;gCAC5E,IAAI,MAAM,aAAa,KAAK,qBAAqB;oCAC/C,MAAM,sBAAsB,IAAI,CAAC,IAAI,EAAE,aAAa,KAAK;oCACzD,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;gCAC9B;4BACF,EAAE,OAAO,GAAG,CACZ;wBACF;wBACA,MAAM,IAAI,0BAA0B,IAAI,CAAC,QAAQ;oBACnD,SAAU;wBACR,MAAM,eAAe,IAAI,CAAC,yBAAyB;4BAAE;wBAAS,GAAG,KAAK,CAAC,KACvE;oBACF;gBACF;YACF;YACA,iFAAiF,GACjF,QAAQ,QAAQ,EAAE;gBAChB,OAAO,IAAI,gBAAgB,IAAI,EAAE;YACnC;QACF;QACA,kBAAkB;YAChB,YAAY,EAAE,EAAE,GAAG,CAAE;gBACnB,IAAI,CAAC,EAAE,GAAG;gBACV,IAAI,CAAC,GAAG,GAAG;YACb;YACA,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,QAAQ,MAAM,IAAI,CAAC,EAAE,CAAC,YAAY;oBACxC,OAAO,MAAM,OAAO,CAAC,IAAI,CAAC,GAAG;gBAC/B;YACF;YACA,wBAAwB;YACxB,MAAM,OAAO,EAAE;gBACb,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,CAAC;gBACnC;YACF;YACA,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK;gBAClC;YACF;YACA,KAAK,KAAK,EAAE;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC;gBAClC;YACF;YACA,KAAK,IAAI,EAAE,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,MAAM;gBACxC;YACF;YACA,aAAa,MAAM,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,YAAY,CAAC;gBAC1C;YACF;YACA,SAAS,OAAO,EAAE;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,QAAQ,CAAC;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,aAAa;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,UAAU;gBACvC;YACF;YACA,cAAc;gBACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,WAAW;gBACxC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK;gBAClC;YACF;YACA,QAAQ;gBACN,OAAO,IAAI;YACb;QACF;IACF;AACF;AAEA,mCAAmC;AACnC,SAAS,WAAW,KAAK;IACvB,MAAM,IAAI,MAAM,IAAI;IACpB,IAAI,IAAI;IACR,MAAM,QAAQ,EAAE;IAChB,MAAO,IAAI,EAAE,MAAM,CAAE;QACnB,IAAI,OAAO;QACX,IAAI,EAAE,UAAU,CAAC,MAAM,IAAI;YACzB,OAAO;YACP,KAAK;QACP,OAAO,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK;YACvB,OAAO;YACP,KAAK;QACP;QACA,MAAM,QAAQ;QACd,MAAO,IAAI,EAAE,MAAM,IAAI,CAAC,CAAC,EAAE,KAAK,IAAK;QACrC,MAAM,MAAM,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI;QAClC,IAAI,CAAC,KAAK;QACV,MAAM,OAAO,IAAI,OAAO,CAAC,gBAAgB,IAAI,WAAW;QACxD,MAAM,IAAI,CAAC;YAAE;YAAM;YAAK;QAAK;IAC/B;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,KAAK;IACjC,IAAI,MAAM;IACV,KAAK,MAAM,MAAM,MAAO;QACtB,OAAO,GAAG,IAAI,KAAK,SAAS,OAAO;QACnC,OAAO,GAAG,GAAG;IACf;IACA,OAAO,OAAO;AAChB;AACA,SAAS,0BAA0B,IAAI,EAAE,IAAI,EAAE,eAAe;IAC5D,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,QAAQ,gBAAgB,IAAI;QAChC,IAAI,MAAM,UAAU,CAAC,WAAW,QAAQ,MAAM,KAAK,CAAC,SAAS,MAAM,EAAE,IAAI;QACzE,IAAI,CAAC,MAAM,UAAU,CAAC,MAAM,QAAQ,MAAM;QAC1C,MAAM,QAAQ,WAAW;QACzB,IAAI;QACJ,IAAI,MAAM,EAAE;QACZ,MAAM,wBAAwB;YAC5B,IAAI,CAAC,IAAI,MAAM,EAAE;YACjB,MAAM,oBAAoB,WAAW,qBAAqB;YAC1D,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,mBAAmB;wBAAE,OAAO;wBAAmB,MAAM;oBAAS;oBAC9D,aAAa;wBAAE,OAAO,OAAO,KAAK,OAAO;wBAAG,MAAM;oBAAS;gBAC7D;YACF;YACA,KAAK,KAAK,GAAG,YAAY,CAAC,qBAAqB,sBAAsB,MAAM,MAAM;YACjF,MAAM,EAAE;QACV;QACA,KAAK,MAAM,MAAM,MAAO;YACtB,IAAI,IAAI,CAAC;YACT,IAAI,gBAAgB,IAAI,CAAC,GAAG,IAAI,GAAG;QACrC;QACA,MAAM,gBAAgB,WAAW,qBAAqB;QACtD,MAAM,cAAc,KAAK,MAAM,GAAG,YAAY,KAAK;QACnD,SAAS;YACP,UAAU;YACV,SAAS;YACT,OAAO;YACP,WAAW;gBACT,SAAS;oBAAE,OAAO,OAAO,YAAY,OAAO;oBAAG,MAAM;gBAAS;gBAC9D,eAAe;oBAAE,OAAO;oBAAe,MAAM;gBAAS;YACxD;QACF;QACA,OAAO,IAAI,QAAQ,aAAa;IAClC;AACF;AACA,SAAS,uBAAuB,IAAI,EAAE,IAAI,EAAE,WAAW;IACrD,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,MAAM,YAAY,IAAI;QAC5B,MAAM,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,MAAM,CAAC;QAC1D,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,IAAI,KAAK,sBAAsB,MAAM,MAAM,KAAK,CAAC,EAAE;YACnD,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,GAAG,GAAG,IAAK;gBACzC,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,EAAE;YAC/B;YACA,MAAM,cAAc,MAAM,GAAG,YAAY;YACzC,OAAO,IAAI,QAAQ,aAAa,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;QACzD;QACA,MAAM,UAAU,IAAI,UAAU,CAAC,aAAa,IAAI,UAAU,CAAC;QAC3D,IAAI,SAAS,OAAO,0BAA0B,MAAM,MAAM;QAC1D,OAAO,IAAI,QAAQ,MAAM;IAC3B;AACF;AACA,SAAS,oBAAoB,IAAI,EAAE,IAAI,EAAE,QAAQ;IAC/C,OAAO,IAAI,oBAAoB,MAAM,MAAM;AAC7C;AACA,IAAI,iBAAiB;AACrB,IAAI,mBAAmB,MAAM;IAC3B;QACE;QACA;QACA;QACA;QACA,kBAAkB;QAClB,sBAAsB,MAAM;YAC1B,YAAY,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAE;gBAC9C,IAAI,CAAC,IAAI,GAAG;gBACZ,IAAI,CAAC,IAAI,GAAG;gBACZ,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,CAAC,QAAQ,GAAG;YAClB;YACA,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,OAAO,MAAM,uBACjB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,QAAQ;oBAEf,OAAO,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ;gBAC/B;YACF;YACA,wBAAwB;YACxB,MAAM,OAAO,EAAE;gBACb,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,CAAC;gBACnC;YACF;YACA,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK;gBAClC;YACF;YACA,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK;gBAClC;YACF;YACA,KAAK,KAAK,EAAE;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC;gBAClC;YACF;YACA,KAAK,IAAI,EAAE,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,MAAM;gBACxC;YACF;YACA,aAAa,MAAM,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,YAAY,CAAC;gBAC1C;YACF;YACA,SAAS,OAAO,EAAE;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,QAAQ,CAAC;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,aAAa;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,UAAU;gBACvC;YACF;YACA,cAAc;gBACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,WAAW;gBACxC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,YAAY;gBACV,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS;gBACtC;YACF;YACA,WAAW;gBACT,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,QAAQ;gBACrC;YACF;YACA,gBAAgB;gBACd,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,aAAa;gBAC1C;YACF;YACA,UAAU,OAAO,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,SAAS,CAAC;gBACvC;YACF;YACA,eAAe,OAAO,EAAE;gBACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,cAAc,CAAC;gBAC5C;YACF;YACA,cAAc,KAAK,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,aAAa,CAAC;gBAC3C;YACF;YACA,QAAQ;gBACN,OAAO,IAAI,CAAC,GAAG,CAAC;YAClB;YACA,IAAI,KAAK,EAAE;gBACT,MAAM,QAAQ,OAAO;gBACrB,IAAI,CAAC,OAAO,QAAQ,CAAC,UAAU,QAAQ,GAAG;oBACxC,MAAM,IAAI,8BACR;gBAEJ;gBACA,MAAM,YAAY,KAAK,KAAK,CAAC;gBAC7B,IAAI,cAAc,IAAI,CAAC,QAAQ,EAAE,OAAO,IAAI;gBAC5C,OAAO,IAAI,qBACT,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,QAAQ,EACb;YAEJ;QACF;IACF;AACF;AAEA,iGAAiG;AACjG,IAAI,+BAA+B,WAAW;IAC5C,kGAAiG,QAAQ,EAAE,OAAO;QAChH;QACA,QAAQ,OAAO,GAAG,CAAC;YACjB,IAAI,OAAO,WAAW,UAAU;gBAC9B,MAAM,IAAI,UAAU;YACtB;YACA,OAAO,OAAO,OAAO,CAAC,uBAAuB,QAAQ,OAAO,CAAC,MAAM;QACrE;IACF;AACF;AAEA,6DAA6D;AAC7D,IAAI,aAAa,WAAW;IAC1B,8DAA6D,QAAQ,EAAE,OAAO;QAC5E,IAAI,IAAI;QACR,IAAI,IAAI,IAAI;QACZ,IAAI,IAAI,IAAI;QACZ,IAAI,IAAI,IAAI;QACZ,IAAI,IAAI,IAAI;QACZ,IAAI,IAAI,IAAI;QACZ,QAAQ,OAAO,GAAG,SAAS,GAAG,EAAE,OAAO;YACrC,UAAU,WAAW,CAAC;YACtB,IAAI,OAAO,OAAO;YAClB,IAAI,SAAS,YAAY,IAAI,MAAM,GAAG,GAAG;gBACvC,OAAO,MAAM;YACf,OAAO,IAAI,SAAS,YAAY,SAAS,MAAM;gBAC7C,OAAO,QAAQ,IAAI,GAAG,QAAQ,OAAO,SAAS;YAChD;YACA,MAAM,IAAI,MACR,0DAA0D,KAAK,SAAS,CAAC;QAE7E;QACA,SAAS,MAAM,GAAG;YAChB,MAAM,OAAO;YACb,IAAI,IAAI,MAAM,GAAG,KAAK;gBACpB;YACF;YACA,IAAI,QAAQ,mIAAmI,IAAI,CACjJ;YAEF,IAAI,CAAC,OAAO;gBACV;YACF;YACA,IAAI,IAAI,WAAW,KAAK,CAAC,EAAE;YAC3B,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,EAAE,WAAW;YACzC,OAAQ;gBACN,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO,IAAI;gBACb,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO;gBACT;oBACE,OAAO,KAAK;YAChB;QACF;QACA,SAAS,SAAS,EAAE;YAClB,IAAI,QAAQ,KAAK,GAAG,CAAC;YACrB,IAAI,SAAS,GAAG;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;YAC9B;YACA,OAAO,KAAK;QACd;QACA,SAAS,QAAQ,EAAE;YACjB,IAAI,QAAQ,KAAK,GAAG,CAAC;YACrB,IAAI,SAAS,GAAG;gBACd,OAAO,OAAO,IAAI,OAAO,GAAG;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,OAAO,IAAI,OAAO,GAAG;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,OAAO,IAAI,OAAO,GAAG;YAC9B;YACA,IAAI,SAAS,GAAG;gBACd,OAAO,OAAO,IAAI,OAAO,GAAG;YAC9B;YACA,OAAO,KAAK;QACd;QACA,SAAS,OAAO,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI;YAChC,IAAI,WAAW,SAAS,IAAI;YAC5B,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK,MAAM,OAAO,CAAC,WAAW,MAAM,EAAE;QAC/D;IACF;AACF;AAEA,wEAAwE;AACxE,IAAI,iBAAiB,WAAW;IAC9B,yEAAwE,QAAQ,EAAE,OAAO;QACvF,SAAS,MAAM,GAAG;YAChB,YAAY,KAAK,GAAG;YACpB,YAAY,OAAO,GAAG;YACtB,YAAY,MAAM,GAAG;YACrB,YAAY,OAAO,GAAG;YACtB,YAAY,MAAM,GAAG;YACrB,YAAY,OAAO,GAAG;YACtB,YAAY,QAAQ,GAAG;YACvB,YAAY,OAAO,GAAG;YACtB,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,CAAC;gBACxB,WAAW,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI;YAC7B;YACA,YAAY,KAAK,GAAG,EAAE;YACtB,YAAY,KAAK,GAAG,EAAE;YACtB,YAAY,UAAU,GAAG,CAAC;YAC1B,SAAS,YAAY,SAAS;gBAC5B,IAAI,OAAO;gBACX,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;oBACzC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,UAAU,UAAU,CAAC;oBACjD,QAAQ;gBACV;gBACA,OAAO,YAAY,MAAM,CAAC,KAAK,GAAG,CAAC,QAAQ,YAAY,MAAM,CAAC,MAAM,CAAC;YACvE;YACA,YAAY,WAAW,GAAG;YAC1B,SAAS,YAAY,SAAS;gBAC5B,IAAI;gBACJ,IAAI,iBAAiB;gBACrB,IAAI;gBACJ,IAAI;gBACJ,SAAS,OAAO,GAAG,IAAI;oBACrB,IAAI,CAAC,OAAO,OAAO,EAAE;wBACnB;oBACF;oBACA,MAAM,OAAO;oBACb,MAAM,OAAO,OAAO,aAAa,GAAG,IAAI;oBACxC,MAAM,KAAK,OAAO,CAAC,YAAY,IAAI;oBACnC,KAAK,IAAI,GAAG;oBACZ,KAAK,IAAI,GAAG;oBACZ,KAAK,IAAI,GAAG;oBACZ,WAAW;oBACX,IAAI,CAAC,EAAE,GAAG,YAAY,MAAM,CAAC,IAAI,CAAC,EAAE;oBACpC,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,UAAU;wBAC/B,KAAK,OAAO,CAAC;oBACf;oBACA,IAAI,QAAQ;oBACZ,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,iBAAiB,CAAC,OAAO;wBACjD,IAAI,UAAU,MAAM;4BAClB,OAAO;wBACT;wBACA;wBACA,MAAM,YAAY,YAAY,UAAU,CAAC,OAAO;wBAChD,IAAI,OAAO,cAAc,YAAY;4BACnC,MAAM,MAAM,IAAI,CAAC,MAAM;4BACvB,QAAQ,UAAU,IAAI,CAAC,MAAM;4BAC7B,KAAK,MAAM,CAAC,OAAO;4BACnB;wBACF;wBACA,OAAO;oBACT;oBACA,YAAY,UAAU,CAAC,IAAI,CAAC,MAAM;oBAClC,MAAM,QAAQ,KAAK,GAAG,IAAI,YAAY,GAAG;oBACzC,MAAM,KAAK,CAAC,MAAM;gBACpB;gBACA,OAAO,SAAS,GAAG;gBACnB,OAAO,SAAS,GAAG,YAAY,SAAS;gBACxC,OAAO,KAAK,GAAG,YAAY,WAAW,CAAC;gBACvC,OAAO,MAAM,GAAG;gBAChB,OAAO,OAAO,GAAG,YAAY,OAAO;gBACpC,OAAO,cAAc,CAAC,QAAQ,WAAW;oBACvC,YAAY;oBACZ,cAAc;oBACd,KAAK;wBACH,IAAI,mBAAmB,MAAM;4BAC3B,OAAO;wBACT;wBACA,IAAI,oBAAoB,YAAY,UAAU,EAAE;4BAC9C,kBAAkB,YAAY,UAAU;4BACxC,eAAe,YAAY,OAAO,CAAC;wBACrC;wBACA,OAAO;oBACT;oBACA,KAAK,CAAC;wBACJ,iBAAiB;oBACnB;gBACF;gBACA,IAAI,OAAO,YAAY,IAAI,KAAK,YAAY;oBAC1C,YAAY,IAAI,CAAC;gBACnB;gBACA,OAAO;YACT;YACA,SAAS,OAAO,SAAS,EAAE,SAAS;gBAClC,MAAM,WAAW,YAAY,IAAI,CAAC,SAAS,GAAG,CAAC,OAAO,cAAc,cAAc,MAAM,SAAS,IAAI;gBACrG,SAAS,GAAG,GAAG,IAAI,CAAC,GAAG;gBACvB,OAAO;YACT;YACA,SAAS,OAAO,UAAU;gBACxB,YAAY,IAAI,CAAC;gBACjB,YAAY,UAAU,GAAG;gBACzB,YAAY,KAAK,GAAG,EAAE;gBACtB,YAAY,KAAK,GAAG,EAAE;gBACtB,MAAM,QAAQ,CAAC,OAAO,eAAe,WAAW,aAAa,EAAE,EAAE,IAAI,GAAG,OAAO,CAAC,QAAQ,KAAK,KAAK,CAAC,KAAK,MAAM,CAAC;gBAC/G,KAAK,MAAM,MAAM,MAAO;oBACtB,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK;wBACjB,YAAY,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;oBAClC,OAAO;wBACL,YAAY,KAAK,CAAC,IAAI,CAAC;oBACzB;gBACF;YACF;YACA,SAAS,gBAAgB,MAAM,EAAE,QAAQ;gBACvC,IAAI,cAAc;gBAClB,IAAI,gBAAgB;gBACpB,IAAI,YAAY,CAAC;gBACjB,IAAI,aAAa;gBACjB,MAAO,cAAc,OAAO,MAAM,CAAE;oBAClC,IAAI,gBAAgB,SAAS,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,KAAK,MAAM,CAAC,YAAY,IAAI,QAAQ,CAAC,cAAc,KAAK,GAAG,GAAG;wBAC3H,IAAI,QAAQ,CAAC,cAAc,KAAK,KAAK;4BACnC,YAAY;4BACZ,aAAa;4BACb;wBACF,OAAO;4BACL;4BACA;wBACF;oBACF,OAAO,IAAI,cAAc,CAAC,GAAG;wBAC3B,gBAAgB,YAAY;wBAC5B;wBACA,cAAc;oBAChB,OAAO;wBACL,OAAO;oBACT;gBACF;gBACA,MAAO,gBAAgB,SAAS,MAAM,IAAI,QAAQ,CAAC,cAAc,KAAK,IAAK;oBACzE;gBACF;gBACA,OAAO,kBAAkB,SAAS,MAAM;YAC1C;YACA,SAAS;gBACP,MAAM,aAAa;uBACd,YAAY,KAAK;uBACjB,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC,YAAc,MAAM;iBAC/C,CAAC,IAAI,CAAC;gBACP,YAAY,MAAM,CAAC;gBACnB,OAAO;YACT;YACA,SAAS,QAAQ,IAAI;gBACnB,KAAK,MAAM,QAAQ,YAAY,KAAK,CAAE;oBACpC,IAAI,gBAAgB,MAAM,OAAO;wBAC/B,OAAO;oBACT;gBACF;gBACA,KAAK,MAAM,MAAM,YAAY,KAAK,CAAE;oBAClC,IAAI,gBAAgB,MAAM,KAAK;wBAC7B,OAAO;oBACT;gBACF;gBACA,OAAO;YACT;YACA,SAAS,OAAO,GAAG;gBACjB,IAAI,eAAe,OAAO;oBACxB,OAAO,IAAI,KAAK,IAAI,IAAI,OAAO;gBACjC;gBACA,OAAO;YACT;YACA,SAAS;gBACP,QAAQ,IAAI,CAAC;YACf;YACA,YAAY,MAAM,CAAC,YAAY,IAAI;YACnC,OAAO;QACT;QACA,QAAQ,OAAO,GAAG;IACpB;AACF;AAEA,yEAAyE;AACzE,IAAI,kBAAkB,WAAW;IAC/B,0EAAyE,QAAQ,EAAE,OAAO;QACxF,SAAS,UAAU,GAAG;QACtB,SAAS,IAAI,GAAG;QAChB,SAAS,IAAI,GAAG;QAChB,SAAS,SAAS,GAAG;QACrB,SAAS,OAAO,GAAG;QACnB,SAAS,OAAO,GAAG,aAAa,GAAG,CAAC;YAClC,IAAI,SAAS;YACb,OAAO;gBACL,IAAI,CAAC,QAAQ;oBACX,SAAS;oBACT,QAAQ,IAAI,CAAC;gBACf;YACF;QACF,CAAC;QACD,SAAS,MAAM,GAAG;YAChB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;YACP;;YAGA,IAAI,OAAO,cAAc,eAAe,UAAU,SAAS,IAAI,UAAU,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC,0BAA0B;gBAC/H,OAAO;YACT;YACA,IAAI;YACJ,OAAO,OAAO,aAAa,eAAe,SAAS,eAAe,IAAI,SAAS,eAAe,CAAC,KAAK,IAAI,SAAS,eAAe,CAAC,KAAK,CAAC,gBAAgB,IAAI,uDAAuD;YAClN,kDAAkB,eAAe,OAAO,OAAO,IAAI,CAAC,OAAO,OAAO,CAAC,OAAO,IAAI,OAAO,OAAO,CAAC,SAAS,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,qBAAqB;YACxJ,8EAA8E;YAC9E,OAAO,cAAc,eAAe,UAAU,SAAS,IAAI,CAAC,IAAI,UAAU,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC,iBAAiB,KAAK,SAAS,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,mEAAmE;YAC7N,OAAO,cAAc,eAAe,UAAU,SAAS,IAAI,UAAU,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;QACrG;QACA,SAAS,WAAW,IAAI;YACtB,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,EAAE,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,GAAG,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,GAAG,IAAI,MAAM,QAAQ,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI;YAC9K,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnB;YACF;YACA,MAAM,IAAI,YAAY,IAAI,CAAC,KAAK;YAChC,KAAK,MAAM,CAAC,GAAG,GAAG,GAAG;YACrB,IAAI,QAAQ;YACZ,IAAI,QAAQ;YACZ,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC9B,IAAI,UAAU,MAAM;oBAClB;gBACF;gBACA;gBACA,IAAI,UAAU,MAAM;oBAClB,QAAQ;gBACV;YACF;YACA,KAAK,MAAM,CAAC,OAAO,GAAG;QACxB;QACA,SAAS,GAAG,GAAG,QAAQ,KAAK,IAAI,QAAQ,GAAG,IAAI,CAAC,KAChD,CAAC;QACD,SAAS,KAAK,UAAU;YACtB,IAAI;gBACF,IAAI,YAAY;oBACd,SAAS,OAAO,CAAC,OAAO,CAAC,SAAS;gBACpC,OAAO;oBACL,SAAS,OAAO,CAAC,UAAU,CAAC;gBAC9B;YACF,EAAE,OAAO,OAAO,CAChB;QACF;QACA,SAAS;YACP,IAAI;YACJ,IAAI;gBACF,IAAI,SAAS,OAAO,CAAC,OAAO,CAAC,YAAY,SAAS,OAAO,CAAC,OAAO,CAAC;YACpE,EAAE,OAAO,OAAO,CAChB;YACA,IAAI,CAAC,KAAK,OAAO,YAAY,eAAe,SAAS,SAAS;gBAC5D,IAAI,QAAQ,GAAG,CAAC,KAAK;YACvB;YACA,OAAO;QACT;QACA,SAAS;YACP,IAAI;gBACF,OAAO;YACT,EAAE,OAAO,OAAO,CAChB;QACF;QACA,QAAQ,OAAO,GAAG,iBAAiB;QACnC,IAAI,EAAE,UAAU,EAAE,GAAG,QAAQ,OAAO;QACpC,WAAW,CAAC,GAAG,SAAS,CAAC;YACvB,IAAI;gBACF,OAAO,KAAK,SAAS,CAAC;YACxB,EAAE,OAAO,OAAO;gBACd,OAAO,iCAAiC,MAAM,OAAO;YACvD;QACF;IACF;AACF;AAEA,yEAAyE;AACzE,IAAI,mBAAmB,WAAW;IAChC,0EAAyE,QAAQ,EAAE,OAAO;QACxF;QACA,QAAQ,OAAO,GAAG,CAAC,MAAM,OAAO,QAAQ,IAAI;YAC1C,MAAM,SAAS,KAAK,UAAU,CAAC,OAAO,KAAK,KAAK,MAAM,KAAK,IAAI,MAAM;YACrE,MAAM,WAAW,KAAK,OAAO,CAAC,SAAS;YACvC,MAAM,qBAAqB,KAAK,OAAO,CAAC;YACxC,OAAO,aAAa,CAAC,KAAK,CAAC,uBAAuB,CAAC,KAAK,WAAW,kBAAkB;QACvF;IACF;AACF;AAEA,qFAAqF;AACrF,IAAI,yBAAyB,WAAW;IACtC,sFAAqF,QAAQ,EAAE,OAAO;QACpG;QACA,IAAI;QACJ,IAAI;QACJ,IAAI,UAAU;QACd,IAAI,EAAE,GAAG,EAAE,GAAG;QACd,IAAI;QACJ,IAAI,QAAQ,eAAe,QAAQ,gBAAgB,QAAQ,kBAAkB,QAAQ,gBAAgB;YACnG,aAAa;QACf,OAAO,IAAI,QAAQ,YAAY,QAAQ,aAAa,QAAQ,iBAAiB,QAAQ,iBAAiB;YACpG,aAAa;QACf;QACA,IAAI,iBAAiB,KAAK;YACxB,IAAI,IAAI,WAAW,KAAK,QAAQ;gBAC9B,aAAa;YACf,OAAO,IAAI,IAAI,WAAW,KAAK,SAAS;gBACtC,aAAa;YACf,OAAO;gBACL,aAAa,IAAI,WAAW,CAAC,MAAM,KAAK,IAAI,IAAI,KAAK,GAAG,CAAC,SAAS,IAAI,WAAW,EAAE,KAAK;YAC1F;QACF;QACA,SAAS,eAAe,KAAK;YAC3B,IAAI,UAAU,GAAG;gBACf,OAAO;YACT;YACA,OAAO;gBACL;gBACA,UAAU;gBACV,QAAQ,SAAS;gBACjB,QAAQ,SAAS;YACnB;QACF;QACA,SAAS,cAAc,UAAU,EAAE,WAAW;YAC5C,IAAI,eAAe,GAAG;gBACpB,OAAO;YACT;YACA,IAAI,QAAQ,gBAAgB,QAAQ,iBAAiB,QAAQ,oBAAoB;gBAC/E,OAAO;YACT;YACA,IAAI,QAAQ,cAAc;gBACxB,OAAO;YACT;YACA,IAAI,cAAc,CAAC,eAAe,eAAe,KAAK,GAAG;gBACvD,OAAO;YACT;YACA,MAAM,MAAM,cAAc;YAC1B,IAAI,IAAI,IAAI,KAAK,QAAQ;gBACvB,OAAO;YACT;YACA;;YAOA,IAAI,QAAQ,KAAK;gBACf,IAAI;oBAAC;oBAAU;oBAAY;oBAAY;oBAAa;oBAAkB;iBAAY,CAAC,IAAI,CAAC,CAAC,OAAS,QAAQ,QAAQ,IAAI,OAAO,KAAK,YAAY;oBAC5I,OAAO;gBACT;gBACA,OAAO;YACT;YACA,IAAI,sBAAsB,KAAK;gBAC7B,OAAO,gCAAgC,IAAI,CAAC,IAAI,gBAAgB,IAAI,IAAI;YAC1E;YACA,IAAI,IAAI,SAAS,KAAK,aAAa;gBACjC,OAAO;YACT;YACA,IAAI,kBAAkB,KAAK;gBACzB,MAAM,UAAU,SAAS,CAAC,IAAI,oBAAoB,IAAI,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;gBACzE,OAAQ,IAAI,YAAY;oBACtB,KAAK;wBACH,OAAO,WAAW,IAAI,IAAI;oBAC5B,KAAK;wBACH,OAAO;gBACX;YACF;YACA,IAAI,iBAAiB,IAAI,CAAC,IAAI,IAAI,GAAG;gBACnC,OAAO;YACT;YACA,IAAI,8DAA8D,IAAI,CAAC,IAAI,IAAI,GAAG;gBAChF,OAAO;YACT;YACA,IAAI,eAAe,KAAK;gBACtB,OAAO;YACT;YACA,OAAO;QACT;QACA,SAAS,gBAAgB,MAAM;YAC7B,MAAM,QAAQ,cAAc,QAAQ,UAAU,OAAO,KAAK;YAC1D,OAAO,eAAe;QACxB;QACA,QAAQ,OAAO,GAAG;YAChB,eAAe;YACf,QAAQ,eAAe,cAAc,MAAM,IAAI,MAAM,CAAC;YACtD,QAAQ,eAAe,cAAc,MAAM,IAAI,MAAM,CAAC;QACxD;IACF;AACF;AAEA,sEAAsE;AACtE,IAAI,eAAe,WAAW;IAC5B,uEAAsE,QAAQ,EAAE,OAAO;QACrF,IAAI;QACJ,IAAI;QACJ,SAAS,IAAI,GAAG;QAChB,SAAS,GAAG,GAAG;QACf,SAAS,UAAU,GAAG;QACtB,SAAS,IAAI,GAAG;QAChB,SAAS,IAAI,GAAG;QAChB,SAAS,SAAS,GAAG;QACrB,SAAS,OAAO,GAAG,KAAK,SAAS,CAC/B,KACA,GACA;QAEF,SAAS,MAAM,GAAG;YAAC;YAAG;YAAG;YAAG;YAAG;YAAG;SAAE;QACpC,IAAI;YACF,MAAM,gBAAgB;YACtB,IAAI,iBAAiB,CAAC,cAAc,MAAM,IAAI,aAAa,EAAE,KAAK,IAAI,GAAG;gBACvE,SAAS,MAAM,GAAG;oBAChB;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;iBACD;YACH;QACF,EAAE,OAAO,OAAO,CAChB;QACA,SAAS,WAAW,GAAG,OAAO,IAAI,CAAC,QAAQ,GAAG,EAAE,MAAM,CAAC,CAAC;YACtD,OAAO,WAAW,IAAI,CAAC;QACzB,GAAG,MAAM,CAAC,CAAC,KAAK;YACd,MAAM,OAAO,IAAI,SAAS,CAAC,GAAG,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,GAAG;gBACnE,OAAO,EAAE,WAAW;YACtB;YACA,IAAI,MAAM,QAAQ,GAAG,CAAC,IAAI;YAC1B,IAAI,2BAA2B,IAAI,CAAC,MAAM;gBACxC,MAAM;YACR,OAAO,IAAI,6BAA6B,IAAI,CAAC,MAAM;gBACjD,MAAM;YACR,OAAO,IAAI,QAAQ,QAAQ;gBACzB,MAAM;YACR,OAAO;gBACL,MAAM,OAAO;YACf;YACA,GAAG,CAAC,KAAK,GAAG;YACZ,OAAO;QACT,GAAG,CAAC;QACJ,SAAS;YACP,OAAO,YAAY,SAAS,WAAW,GAAG,QAAQ,SAAS,WAAW,CAAC,MAAM,IAAI,IAAI,MAAM,CAAC,QAAQ,MAAM,CAAC,EAAE;QAC/G;QACA,SAAS,WAAW,IAAI;YACtB,MAAM,EAAE,WAAW,IAAI,EAAE,WAAW,UAAU,EAAE,GAAG,IAAI;YACvD,IAAI,YAAY;gBACd,MAAM,IAAI,IAAI,CAAC,KAAK;gBACpB,MAAM,YAAY,WAAW,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;gBACpD,MAAM,SAAS,CAAC,EAAE,EAAE,UAAU,GAAG,EAAE,KAAK,QAAQ,CAAC;gBACjD,IAAI,CAAC,EAAE,GAAG,SAAS,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,OAAO;gBACnD,KAAK,IAAI,CAAC,YAAY,OAAO,QAAQ,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI;YACrE,OAAO;gBACL,IAAI,CAAC,EAAE,GAAG,YAAY,OAAO,MAAM,IAAI,CAAC,EAAE;YAC5C;QACF;QACA,SAAS;YACP,IAAI,SAAS,WAAW,CAAC,QAAQ,EAAE;gBACjC,OAAO;YACT;YACA,OAAO,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW,KAAK;QACtD;QACA,SAAS,IAAI,GAAG,IAAI;YAClB,OAAO,QAAQ,MAAM,CAAC,KAAK,CAAC,KAAK,iBAAiB,CAAC,SAAS,WAAW,KAAK,QAAQ;QACtF;QACA,SAAS,KAAK,UAAU;YACtB,IAAI,YAAY;gBACd,QAAQ,GAAG,CAAC,KAAK,GAAG;YACtB,OAAO;gBACL,OAAO,QAAQ,GAAG,CAAC,KAAK;YAC1B;QACF;QACA,SAAS;YACP,OAAO,QAAQ,GAAG,CAAC,KAAK;QAC1B;QACA,SAAS,KAAK,MAAM;YAClB,OAAO,WAAW,GAAG,CAAC;YACtB,MAAM,OAAO,OAAO,IAAI,CAAC,SAAS,WAAW;YAC7C,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;gBACpC,OAAO,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YAC7D;QACF;QACA,QAAQ,OAAO,GAAG,iBAAiB;QACnC,IAAI,EAAE,UAAU,EAAE,GAAG,QAAQ,OAAO;QACpC,WAAW,CAAC,GAAG,SAAS,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS;YACxC,OAAO,KAAK,OAAO,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,MAAQ,IAAI,IAAI,IAAI,IAAI,CAAC;QACrF;QACA,WAAW,CAAC,GAAG,SAAS,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS;YACxC,OAAO,KAAK,OAAO,CAAC,GAAG,IAAI,CAAC,WAAW;QACzC;IACF;AACF;AAEA,uEAAuE;AACvE,IAAI,cAAc,WAAW;IAC3B,wEAAuE,QAAQ,EAAE,OAAO;QACtF,IAAI,OAAO,YAAY,eAAe,QAAQ,IAAI,KAAK,cAAc,4CAAoB,QAAQ,QAAQ,MAAM,EAAE;YAC/G,QAAQ,OAAO,GAAG;QACpB,OAAO;YACL,QAAQ,OAAO,GAAG;QACpB;IACF;AACF;AAEA,2EAA2E;AAC3E,IAAI,oBAAoB,WAAW;IACjC,4EAA2E,QAAQ,EAAE,OAAO;QAC1F;QACA,IAAI;QACJ,IAAI;QACJ,SAAS;YACP,IAAI;gBACF,IAAI,QAAQ,CAAC;gBACb,OAAO;YACT,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,SAAS;YACP,IAAI;gBACF,OAAO,IAAI,YAAY,CAAC,qBAAqB,QAAQ,QAAQ,CAAC;YAChE,EAAE,OAAO,GAAG;gBACV,OAAO;YACT;QACF;QACA,QAAQ,OAAO,GAAG;YAChB,IAAI,aAAa,KAAK,GAAG;gBACvB,WAAW,kBAAkB;YAC/B;YACA,OAAO;QACT;IACF;AACF;AAEA,qEAAqE;AACrE,IAAI,iBAAiB,WAAW;IAC9B,sEAAqE,QAAQ,EAAE,OAAO;QACpF;QACA,IAAI;QACJ,IAAI;QACJ,IAAI,WAAW;QACf,IAAI,SAAS;YACX,wCAAkC;gBAChC,OAAO;YACT;;;QAYF;QACA,IAAI,QAAQ,GAAG,CAAC,eAAe,EAAE;YAC/B,QAAQ,OAAO,GAAG;QACpB,OAAO;YACL,QAAQ,OAAO,GAAG;QACpB;IACF;AACF;AAEA,sCAAsC;AACtC,SAAS,mBAAmB,GAAG;IAC7B,IAAI;IACJ,IAAI,CAAC,KAAK,OAAO;IACjB,IAAI,WAAW,KAAK;QAClB,MAAM,QAAQ,IAAI,KAAK;QACvB,IAAI,UAAU,KAAK,GAAG,OAAO;QAC7B,IAAI,OAAO,UAAU,UAAU,OAAO;QACtC,IAAI;YACF,OAAO,KAAK,SAAS,CAAC;QACxB,EAAE,OAAO,GAAG;YACV,OAAO,OAAO;QAChB;IACF;IACA,IAAI,IAAI,mBAAmB,EAAE,OAAO,IAAI,mBAAmB;IAC3D,IAAI,IAAI,WAAW,EAAE,OAAO,IAAI,WAAW;IAC3C,OAAO,CAAC,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK;AACxC;AACA,IAAI;AACJ,IAAI,sBAAsB,MAAM;IAC9B;QACE,iBAAiB;YACf,YAAY,KAAK,EAAE,OAAO,CAAE;gBAC1B,IAAI,CAAC,KAAK,GAAG;gBACb,IAAI,CAAC,OAAO,GAAG;YACjB;YACA,OAAO;gBACL,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI;YACxB;YACA,OAAO;gBACL,MAAM,OAAO,IAAI,CAAC,IAAI;gBACtB,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO;gBACzB,OAAO,KAAK,GAAG,CAAC,CAAC,MAAQ,mBAAmB,MAAM,MAAM,CAAC,CAAC,QAAU,MAAM,MAAM,GAAG,GAAG,IAAI,CAAC;YAC7F;YACA,OAAO;gBACL,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG;uBAAI,IAAI,CAAC,KAAK,CAAC,IAAI;iBAAC,GAAG,EAAE;YACpD;YACA,WAAW;gBACT,IAAI,IAAI;gBACR,MAAM,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE;gBAC3G,OAAO;oBACL,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,GAAG;oBACvC,YAAY,SAAS,OAAO,KAAK,IAAI,MAAM,UAAU;oBACrD,cAAc,SAAS,OAAO,KAAK,IAAI,MAAM,YAAY;gBAC3D;YACF;YACA,OAAO;gBACL,OAAO,IAAI,CAAC,OAAO;YACrB;YACA,YAAY;gBACV,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS;YAC7B;YACA,MAAM;gBACJ,OAAO,IAAI,CAAC,KAAK;YACnB;YACA,WAAW;gBACT,OAAO,IAAI,CAAC,IAAI;YAClB;QACF;IACF;AACF;AAEA,gCAAgC;AAChC,SAAS,uBAAuB,KAAK;IACnC,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU,OAAO;IAChD,MAAM,YAAY;IAClB,IAAI,OAAO,UAAU,SAAS,KAAK,UAAU,OAAO;IACpD,IAAI,CAAC,UAAU,QAAQ,IAAI,OAAO,UAAU,QAAQ,KAAK,UAAU;QACjE,OAAO;IACT;IACA,OAAO;AACT;AACA,SAAS;IACP,IAAI;IACJ,IAAI;IACJ,MAAM,UAAU,IAAI,QAAQ,CAAC,KAAK;QAChC,WAAW;QACX,SAAS;IACX;IACA,OAAO;QAAE;QAAS,SAAS;QAAU;IAAO;AAC9C;AACA,SAAS,oBAAoB,IAAI;IAC/B,OAAO,KAAK,WAAW;AACzB;AACA,SAAS,kBAAkB,KAAK;IAC9B,OAAO,MAAM,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,IAAI,MAAM,CAAC;AAChE;AACA,SAAS,iBAAiB,WAAW;IACnC,IAAI,CAAC,aAAa,OAAO,EAAE;IAC3B,MAAM,QAAQ,YAAY,KAAK,CAAC;IAChC,MAAM,UAAU,EAAE;IAClB,KAAK,MAAM,QAAQ,MAAO;QACxB,IAAI,CAAC,QAAQ,KAAK,UAAU,CAAC,UAAU;QACvC,MAAM,QAAQ,KAAK,OAAO,CAAC;QAC3B,IAAI,UAAU,CAAC,GAAG;QAClB,MAAM,OAAO,KAAK,KAAK,CAAC,GAAG,OAAO,IAAI;QACtC,MAAM,QAAQ,KAAK,KAAK,CAAC,QAAQ,GAAG,IAAI;QACxC,QAAQ,IAAI,CAAC;YAAE;YAAM;QAAM;IAC7B;IACA,OAAO;AACT;AACA,IAAI;AACJ,IAAI,gBAAgB,MAAM;IACxB;QACE;QACA,WAAW,MAAM;YACf;;;;;OAKC,GACD,YAAY,MAAM,CAAE;gBAClB,IAAI,CAAC,iBAAiB,GAAG;gBACzB,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI;gBAC3C,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI;gBACJ,IAAI,CAAC,IAAI,GAAG,OAAO,IAAI;gBACvB,IAAI,CAAC,OAAO,GAAG,OAAO,OAAO;gBAC7B,IAAI,CAAC,SAAS,GAAG,OAAO,SAAS;gBACjC,IAAI,CAAC,OAAO,GAAG,OAAO,OAAO;gBAC7B,IAAI,CAAC,QAAQ,GAAG,OAAO,QAAQ;gBAC/B,IAAI,CAAC,QAAQ,GAAG,OAAO,QAAQ;gBAC/B,IAAI,CAAC,qBAAqB,GAAG,OAAO,iBAAiB;gBACrD,IAAI,OAAO,QAAQ,CAAC,eAAe,IAAI,OAAO,QAAQ,CAAC,UAAU,KAAK,KAAK,GAAG;oBAC5E,IAAI,CAAC,aAAa,GAAG;wBACnB,WAAW,OAAO,QAAQ,CAAC,eAAe;wBAC1C,MAAM,OAAO,QAAQ,CAAC,UAAU;oBAClC;gBACF,OAAO;oBACL,IAAI,CAAC,aAAa,GAAG;gBACvB;gBACA,IAAI,CAAC,aAAa,GAAG,CAAC;gBACtB,KAAK,MAAM,CAAC,MAAM,MAAM,IAAI,OAAO,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,OAAO,KAAK,CAAC,GAAI;oBAC1F,MAAM,QAAQ,oBAAoB;oBAClC,IAAI,UAAU,KAAK,GAAG;oBACtB,MAAM,SAAS,kBAAkB,OAAO;oBACxC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO;oBAChC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,OAAO,IAAI,CAAC;gBAC1C;YACF;YACA,gDAAgD,GAChD,MAAM;gBACJ,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG;YAC1B;YACA,yCAAyC,GACzC,SAAS;gBACP,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM;YAC7B;YACA,8DAA8D,GAC9D,aAAa;gBACX,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU;YACjC;YACA,wDAAwD,GACxD,KAAK;gBACH,MAAM,SAAS,IAAI,CAAC,MAAM;gBAC1B,OAAO,UAAU,OAAO,UAAU;YACpC;YACA,sEAAsE,GACtE,QAAQ;gBACN,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO;gBAC1B,IAAI;oBACF,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO;gBAC1C,EAAE,OAAO,GAAG;oBACV,OAAO;gBACT;YACF;YACA,qEAAqE,GACrE,oBAAoB;gBAClB,OAAO,IAAI,CAAC,qBAAqB;YACnC;YACA;;;OAGC,GACD,kBAAkB;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,eAAe,KAAK,OAAO,KAAK;gBAC7D;YACF;YACA,2EAA2E,GAC3E,aAAa;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,OAAO,CAAC,KAAK,IAAI,CAAC,aAAa,KAAK,OAAO,KAAK;gBAClD;YACF;YACA;;;OAGC,GACD,UAAU;gBACR,OAAO,eAAe,CAAC,GAAG,IAAI,CAAC,aAAa;YAC9C;YACA;;;;OAIC,GACD,aAAa;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,IAAI,IAAI,CAAC,eAAe,EAAE,OAAO,eAAe,CAAC,GAAG,IAAI,CAAC,eAAe;oBACxE,MAAM,SAAS,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,gBAAgB,KAAK,OAAO,KAAK,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,OAAO,KAAK,CAAC;oBACxG,MAAM,MAAM,CAAC;oBACb,KAAK,MAAM,CAAC,MAAM,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;wBAClD,GAAG,CAAC,KAAK,GAAG,OAAO;oBACrB;oBACA,IAAI,CAAC,eAAe,GAAG;oBACvB,OAAO,eAAe,CAAC,GAAG;gBAC5B;YACF;YACA,uEAAuE,GACvE,YAAY,IAAI,EAAE;gBAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC;oBACvC,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO;oBAC3B,OAAO,OAAO,IAAI,CAAC;gBACrB;YACF;YACA,+DAA+D,GAC/D,aAAa,IAAI,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,QAAQ,oBAAoB;oBAClC,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBACzB,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,CAAC,gBAAgB,CAAC,MAAM;wBAC1F,IAAI,QAAQ,KAAK,GAAG;4BAClB,OAAO,kBAAkB,OAAO;wBAClC;oBACF;oBACA,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;oBACxC,OAAO,SAAS;2BAAI;qBAAO,GAAG,EAAE;gBAClC;YACF;YACA;;;OAGC,GACD,eAAe;gBACb,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,IAAI,IAAI,CAAC,iBAAiB,EAAE,OAAO;2BAAI,IAAI,CAAC,iBAAiB;qBAAC;oBAC9D,MAAM,kBAAkB,iBAAiB,IAAI,CAAC,oBAAoB;oBAClE,IAAI,gBAAgB,MAAM,GAAG,GAAG;wBAC9B,IAAI,CAAC,iBAAiB,GAAG;wBACzB,OAAO;+BAAI;yBAAgB;oBAC7B;oBACA,MAAM,UAAU,EAAE;oBAClB,MAAM,SAAS,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,gBAAgB,KAAK,OAAO,KAAK,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,OAAO,KAAK,CAAC;oBACxG,KAAK,MAAM,CAAC,MAAM,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;wBAClD,MAAM,SAAS,kBAAkB,OAAO;wBACxC,KAAK,MAAM,OAAO,OAAQ;4BACxB,QAAQ,IAAI,CAAC;gCAAE;gCAAM,OAAO;4BAAI;wBAClC;oBACF;oBACA,IAAI,CAAC,iBAAiB,GAAG;oBACzB,OAAO;2BAAI;qBAAQ;gBACrB;YACF;YACA;;;;OAIC,GACD,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,SAAS,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACpC,2BACA;wBAAE,WAAW,IAAI,CAAC,SAAS;oBAAC,GAC5B,KAAK,CAAC,CAAC;wBACP,MAAM,IAAI,kBAAkB,OAAO;oBACrC;oBACA,IAAI,OAAO,aAAa,EAAE;wBACxB,OAAO,OAAO,IAAI,CAAC,OAAO,IAAI,EAAE;oBAClC;oBACA,OAAO,OAAO,IAAI,CAAC,OAAO,IAAI,EAAE;gBAClC;YACF;YACA,6CAA6C,GAC7C,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,SAAS,MAAM,IAAI,CAAC,IAAI;oBAC9B,OAAO,OAAO,QAAQ,CAAC;gBACzB;YACF;YACA,kEAAkE,GAClE,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI;oBAC5B,IAAI;wBACF,OAAO,KAAK,KAAK,CAAC;oBACpB,EAAE,OAAO,OAAO;wBACd,MAAM,IAAI,mBAAmB,OAAO;oBACtC;gBACF;YACF;YACA;;;;OAIC,GACD,WAAW;gBACT,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO;gBACtC;YACF;YACA;;;;OAIC,GACD,eAAe,KAAK,EAAE;gBACpB,IAAI;gBACJ,IAAI,CAAC,gBAAgB,GAAG,MAAM,OAAO;gBACrC,IAAI,CAAC,oBAAoB,GAAG,MAAM,WAAW;gBAC7C,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,iBAAiB,GAAG;gBACzB,IAAI,CAAC,aAAa,GAAG,CAAC;gBACtB,IAAI,CAAC,eAAe,CAAC,KAAK;gBAC1B,MAAM,SAAS,CAAC,KAAK,MAAM,OAAO,KAAK,OAAO,KAAK,CAAC;gBACpD,KAAK,MAAM,CAAC,MAAM,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;oBAClD,MAAM,QAAQ,oBAAoB;oBAClC,MAAM,WAAW,kBAAkB,OAAO;oBAC1C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO;oBAChC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,SAAS,IAAI,CAAC;gBAC5C;YACF;YACA;;;OAGC,GACD,OAAO,iBAAiB,UAAU,EAAE,OAAO,EAAE;gBAC3C,IAAI;gBACJ,MAAM,gBAAgB,IAAI,UAAU;oBAClC,MAAM,QAAQ,IAAI;oBAClB,SAAS,QAAQ,OAAO;oBACxB,WAAW,WAAW,SAAS;oBAC/B,SAAS,WAAW,OAAO;oBAC3B,UAAU,WAAW,QAAQ;oBAC7B,UAAU,WAAW,QAAQ;oBAC7B,mBAAmB,CAAC,KAAK,WAAW,qBAAqB,KAAK,OAAO,KAAK;gBAC5E;gBACA,IAAI,WAAW,gBAAgB,EAAE;oBAC/B,cAAc,cAAc,CAAC;wBAC3B,WAAW,WAAW,SAAS;wBAC/B,SAAS,WAAW,gBAAgB;wBACpC,aAAa,WAAW,oBAAoB;oBAC9C;gBACF;gBACA,IAAI,WAAW,eAAe,EAAE;oBAC9B,cAAc,YAAY,CAAC;gBAC7B;gBACA,OAAO;YACT;YACA,0EAA0E,GAC1E,aAAa,KAAK,EAAE;gBAClB,IAAI,IAAI,CAAC,eAAe,EAAE;gBAC1B,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,OAAO;oBACT,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;gBAChC,OAAO;oBACL,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;gBAChC;YACF;QACF;IACF;AACF;AAEA,6BAA6B;AAC7B,IAAI;AACJ,IAAI,aAAa,MAAM;IACrB;QACE;QACA;QACA,QAAQ,MAAM;YACZ,YAAY,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,CAAE;gBACnD,IAAI,CAAC,OAAO,GAAG;gBACf,IAAI,CAAC,OAAO,GAAG;gBACf,IAAI,CAAC,MAAM,GAAG;gBACd,IAAI,CAAC,aAAa,GAAG;gBACrB,IAAI;gBACJ,IAAI,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK;YACzD;YACA,kEAAkE,GAClE,kBAAkB;gBAChB,OAAO,IAAI,CAAC,aAAa;YAC3B;YACA,8CAA8C,GAC9C,kBAAkB,CAAC,EAAE,CAAC,EAAE;gBACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0BAA0B;wBAC1E;wBACA;wBACA,2BAA2B;wBAC3B,yBAAyB;oBAC3B;oBACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB;wBAAE;oBAAc;oBAC7E,OAAO;gBACT;YACF;YACA,uDAAuD,GACvD,uBAAuB,QAAQ,EAAE;gBAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACtC;oBAEF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACxC,qBACA;wBAAE,QAAQ,KAAK,MAAM;wBAAE;oBAAS;oBAElC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACvC,mBACA;wBAAE;oBAAO;oBAEX,MAAM,IAAI,MAAM,OAAO,CAAC,EAAE;oBAC1B,MAAM,IAAI,MAAM,OAAO,CAAC,EAAE;oBAC1B,MAAM,QAAQ,MAAM,KAAK;oBACzB,MAAM,SAAS,MAAM,MAAM;oBAC3B,OAAO;wBAAE;wBAAG;wBAAG;wBAAO;oBAAO;gBAC/B;YACF;YACA,2EAA2E,GAC3E,qBAAqB,aAAa,KAAK,EAAE;gBACvC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,IAAI,QAAQ,EAAE;oBACd,IAAI;wBACF,CAAC,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA+B;4BAAE,SAAS,IAAI,CAAC,OAAO;wBAAC,EAAE;oBAChG,EAAE,OAAO,GAAG;wBACV,MAAM,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,CAAC,KAAK,OAAO,KAAK;wBAChG,MAAM,oBAAoB,IAAI,QAAQ,CAAC,2BAA2B,IAAI,QAAQ,CAAC,oCAAoC,IAAI,QAAQ,CAAC;wBAChI,IAAI,CAAC,mBAAmB,MAAM;wBAC9B,CAAC,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B;oBACrE;oBACA,IAAI,CAAC,YAAY,OAAO;oBACxB,MAAM,WAAW,MAAM,IAAI,CAAC,WAAW;oBACvC,KAAK,MAAM,SAAS,SAAU;wBAC5B,MAAM,aAAa,MAAM,MAAM,oBAAoB,CAAC;wBACpD,MAAM,IAAI,IAAI;oBAChB;oBACA,OAAO;gBACT;YACF;YACA;;;;OAIC,GACD,SAAS,wBAAwB,EAAE,GAAG,EAAE;gBACtC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAChD;oBACA,MAAM,YAAY,MAAM,IAAI,CAAC,qBAAqB;oBAClD,MAAM,WAAW,OAAO,6BAA6B;oBACrD,IAAI;oBACJ,IAAI,UAAU;wBACZ,aAAa,OAAO;oBACtB,OAAO;wBACL,MAAM,QAAQ,yBAAyB,QAAQ;wBAC/C,MAAM,UAAU,KAAK,SAAS,CAAC;wBAC/B,aAAa,CAAC;qBACL,EAAE,MAAM;sBACP,EAAE,QAAQ;;;;;;;UAOtB,CAAC;oBACD;oBACA,MAAM,MAAM,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACjC,oBACA;wBACE;wBACA;wBACA,cAAc;wBACd,eAAe;oBACjB;oBAEF,IAAI,IAAI,gBAAgB,EAAE;wBACxB,MAAM,IAAI,mBACR,CAAC,KAAK,IAAI,gBAAgB,CAAC,IAAI,KAAK,OAAO,KAAK;oBAEpD;oBACA,OAAO,IAAI,MAAM,CAAC,KAAK;gBACzB;YACF;YACA,kDAAkD,GAClD,WAAW,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI,KAAK,OAAO,KAAK;oBAC7E,MAAM,SAAS;wBACb;wBACA,aAAa;wBACb,uBAAuB,WAAW,OAAO,KAAK,IAAI,QAAQ,QAAQ;oBACpE;oBACA,MAAM,aAAa,CAAC,QAAU,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;oBACxD,MAAM,kBAAkB,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,MAAM,WAAW,WAAW,QAAQ,KAAK,IAAI,KAAK;oBAC1H,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI,EAAE;wBAC3C,MAAM,OAAO;4BACX,GAAG,QAAQ,IAAI,CAAC,CAAC;4BACjB,GAAG,QAAQ,IAAI,CAAC,CAAC;4BACjB,OAAO,QAAQ,IAAI,CAAC,KAAK;4BACzB,QAAQ,QAAQ,IAAI,CAAC,MAAM;4BAC3B,OAAO,mBAAmB,OAAO,kBAAkB;wBACrD;wBACA,OAAO,IAAI,GAAG;oBAChB,OAAO,IAAI,oBAAoB,KAAK,KAAK,oBAAoB,GAAG;wBAC9D,OAAO,KAAK,GAAG;oBACjB;oBACA,IAAI,WAAW,UAAU,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO,MAAM,UAAU;wBACzF,MAAM,IAAI,KAAK,KAAK,CAAC,QAAQ,OAAO;wBACpC,OAAO,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG;oBAC7C;oBACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CACtC,0BACA;oBAEF,OAAO,OAAO,IAAI,CAAC,MAAM;gBAC3B;YACF;YACA,uCAAuC,GACvC,cAAc;gBACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBAC9C,MAAM,SAAS,EAAE;oBACjB,MAAM,UAAU,CAAC;wBACf,IAAI;wBACJ,IAAI,KAAK,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,OAAO,EAAE;4BACxC,OAAO,IAAI,CACT,IAAI,OACF,IAAI,CAAC,OAAO,EACZ,KAAK,KAAK,CAAC,EAAE,EACb,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,aAAa;wBAGxB;wBACA,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,CAAC;oBACxD;oBACA,QAAQ;oBACR,OAAO;gBACT;YACF;YACA,mEAAmE,GACnE,iBAAiB,QAAQ,MAAM,EAAE;gBAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,IAAI,QAAQ,CAAC;wBACjB,MAAM,UAAU,CAAC;4BACf,IAAI,IAAI,OAAO,KAAK,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,KAAK,OAAO;gCACtD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAuB;gCACxC;4BACF;wBACF;wBACA,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,uBAAuB;oBACzC;gBACF;YACF;YACA,wDAAwD,GACxD,QAAQ,QAAQ,EAAE,OAAO,EAAE;gBACzB,OAAO,IAAI,QAAQ,IAAI,EAAE,UAAU;YACrC;YACA,kFAAkF,GAClF,wBAAwB;gBACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,kBAAkB,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B;wBACjF,SAAS,IAAI,CAAC,OAAO;wBACrB,WAAW;oBACb;oBACA,OAAO;gBACT;YACF;QACF;IACF;AACF;AAEA,qCAAqC;AACrC,SAAS,WAAW,EAAE;IACpB,OAAO;QACL;QACA,UAAU;QACV,KAAK;QACL,mBAAmB;QACnB,gBAAgB;QAChB,UAAU;QACV,mBAAmB;QACnB,gCAAgC;QAChC,kBAAkB,EAAE;IACtB;AACF;AACA,IAAI;AACJ,IAAI,qBAAqB,MAAM;IAC7B;QACE,gBAAgB;YACd,YAAY,aAAa,EAAE,WAAW,CAAE;gBACtC,wBAAwB,GACxB,IAAI,CAAC,MAAM,GAAG,aAAa,GAAG,IAAI;gBAClC,kFAAkF,GAClF,IAAI,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI;gBAC3C,IAAI,CAAC,aAAa,GAAG;gBACrB,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,UAAU,CAAC;YAClB;YACA,0FAA0F;YAC1F;;;;;OAKC,GACD,gBAAgB,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE;gBAC5C,IAAI,CAAC,YAAY,YAAY,IAAI,CAAC,WAAW,EAAE;oBAC7C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE;oBACpC,IAAI,CAAC,WAAW,GAAG;oBACnB,IAAI,CAAC,yBAAyB,CAAC,SAAS;oBACxC;gBACF;gBACA,IAAI,CAAC,UAAU,CAAC;gBAChB,IAAI,UAAU,IAAI,CAAC,UAAU,CAAC;gBAC9B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC7B,KAAK,QAAQ,GAAG,YAAY,OAAO,WAAW;gBAC9C,IAAI,UAAU;oBACZ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,QAAQ,CAAC,GAAG,CAAC;gBACzC;gBACA,IAAI,CAAC,yBAAyB,CAAC,SAAS;YAC1C;YACA;;;OAGC,GACD,iBAAiB,KAAK,EAAE,SAAS,EAAE;gBACjC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;gBACxB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBACrC,KAAK,QAAQ,GAAG;gBAChB,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,EAAE;gBACzC,IAAI,CAAC,CAAC,cAAc,KAAK,KAAK,CAAC,MAAM,QAAQ,EAAE;oBAC7C,IAAI,MAAM,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE;wBACjC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE;wBAC5C,IAAI,CAAC,WAAW,GAAG,MAAM,EAAE;oBAC7B;gBACF;YACF;YACA,0BAA0B,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE;gBACjD,IAAI;gBACJ,IAAI,CAAC,UAAU,CAAC;gBAChB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC7B,MAAM,WAAW,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,WAAW;gBAChE,KAAK,QAAQ,GAAG,cAAc,eAAe,CAAC,GAAG,WAAW;oBAAE;gBAAI;gBAClE,IAAI,CAAC,yBAAyB,CAAC,SAAS;YAC1C;YACA;;;OAGC,GACD,gBAAgB,OAAO,EAAE,SAAS,QAAQ,EAAE;gBAC1C,IAAI,WAAW,QAAQ;gBACvB,MAAM,WAAW,EAAE;gBACnB,MAAM,UAAU,CAAC;oBACf,IAAI,IAAI;oBACR,SAAS,IAAI,CAAC;oBACd,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;oBAClH,KAAK,MAAM,KAAK,KAAM,QAAQ;gBAChC;gBACA,QAAQ;gBACR,KAAK,MAAM,OAAO,SAAU;oBAC1B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBAC7B,IAAI,CAAC,MAAM;oBACX,IAAI,KAAK,QAAQ,EAAE;wBACjB,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ;wBACvC,KAAK,OAAO,KAAK,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC;oBACzC;oBACA,IAAI,KAAK,cAAc,EAAE;wBACvB,MAAM,MAAM,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,cAAc;wBACxD,OAAO,OAAO,KAAK,IAAI,IAAI,MAAM,CAAC;wBAClC,IAAI,OAAO,IAAI,IAAI,KAAK,GACtB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,cAAc;oBACnD;oBACA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBACrB;gBACA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG;oBACtC,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI;oBACpC,IAAI,CAAC,KAAK,IAAI,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,KAAK;gBAC/C;YACF;YACA;;;;OAIC,GACD,kBAAkB,cAAc,EAAE,gBAAgB,EAAE;gBAClD,IAAI,CAAC,yBAAyB,CAAC,kBAAkB;YACnD;YACA;;;;OAIC,GACD,kBAAkB,SAAS,EAAE,SAAS,EAAE;gBACtC,MAAM,OAAO,CAAC,MAAM;oBAClB,IAAI;oBACJ,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,EAAE;oBAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,QAAQ,GAAG;oBAC1C,IAAI,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,QAAQ,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE;oBAC9D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,QAAQ,GAAG,KAAK,KAAK;oBACpD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,EAAE;wBAClD,IAAI,CAAC,yBAAyB,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE;oBAChD;oBACA,KAAK,MAAM,KAAK,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,EAAE,CAAE,KAAK,GAAG,KAAK,KAAK,CAAC,EAAE;gBAClF;gBACA,KAAK,WAAW;YAClB;YACA;;;OAGC,GACD,sBAAsB,YAAY,EAAE,aAAa,EAAE;gBACjD,IAAI,CAAC,UAAU,CAAC;gBAChB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,kBAAkB,GAAG;YACrD;YACA,6FAA6F;YAC7F,cAAc;gBACZ,OAAO,IAAI,CAAC,WAAW;YACzB;YACA;;OAEC,GACD,kBAAkB,OAAO,EAAE;gBACzB,IAAI;gBACJ,OAAO,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,cAAc;YAC7E;YACA;;;OAGC,GACD,sBAAsB,OAAO,EAAE;gBAC7B,IAAI;gBACJ,OAAO,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,kBAAkB;YACjF;YACA;;OAEC,GACD,UAAU,OAAO,EAAE;gBACjB,IAAI,IAAI;gBACR,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK;YAC9F;YACA;;OAEC,GACD,gBAAgB;gBACd,MAAM,MAAM,EAAE;gBACd,MAAM,MAAM,CAAC;oBACX,IAAI,IAAI;oBACR,IAAI,IAAI,CAAC;oBACT,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;oBAClH,KAAK,MAAM,KAAK,KAAM,IAAI;gBAC5B;gBACA,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW;gBAC3D,OAAO;YACT;YACA;;OAEC,GACD,oBAAoB,MAAM,EAAE;gBAC1B,MAAM,QAAQ,CAAC;oBACb,IAAI,IAAI;oBACR,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBAC7B,MAAM,QAAQ,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,QAAQ,KAAK,OAAO,KAAK,WAAW;oBACrF,MAAM,OAAO,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,QAAQ,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;oBAC7F,MAAM,cAAc,KAAK,IAAI,GAAG;2BAAI;qBAAK,CAAC,GAAG,CAAC,CAAC,IAAM,MAAM,MAAM,KAAK;oBACtE,OAAO,cAAc;wBAAE;wBAAO;oBAAY,IAAI;wBAAE;oBAAM;gBACxD;gBACA,OAAO,MAAM;YACf;YACA;;;OAGC,GACD,iBAAiB,OAAO,EAAE;gBACxB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC7B,OAAO,CAAC,QAAQ,OAAO,KAAK,IAAI,KAAK,cAAc,IAAI;oBAAC,KAAK,cAAc;iBAAC,GAAG,EAAE;YACnF;YACA;;OAEC,GACD,iBAAiB,SAAS,EAAE;gBAC1B,IAAI;gBACJ,OAAO;uBAAI,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;iBAAM;YACjG;YACA,iEAAiE;YACjE,WAAW,GAAG,EAAE;gBACd,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM;gBAC1B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK;oBACnB,UAAU;oBACV,UAAU,aAAa,GAAG,IAAI;oBAC9B,UAAU,WAAW;oBACrB,gBAAgB,KAAK;oBACrB,oBAAoB,KAAK;gBAC3B;YACF;YACA,aAAa,KAAK,EAAE,KAAK,EAAE;gBACzB,IAAI,UAAU,OAAO;gBACrB,IAAI,CAAC,UAAU,CAAC;gBAChB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,eAAe,CAAC,GAAG;gBAC1C,IAAI,KAAK,QAAQ,EAAE;oBACjB,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ;oBACvC,IAAI,GAAG;wBACL,EAAE,QAAQ,CAAC,MAAM,CAAC;wBAClB,EAAE,QAAQ,CAAC,GAAG,CAAC;oBACjB;gBACF;gBACA,KAAK,MAAM,KAAK,KAAK,QAAQ,CAAE;oBAC7B,MAAM,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBAC3B,IAAI,IAAI,GAAG,QAAQ,GAAG;gBACxB;gBACA,IAAI,KAAK,cAAc,EAAE;oBACvB,MAAM,MAAM,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,cAAc;oBACxD,IAAI,KAAK;wBACP,IAAI,MAAM,CAAC;wBACX,IAAI,GAAG,CAAC;oBACV;gBACF;YACF;YACA,0BAA0B,OAAO,EAAE,SAAS,EAAE;gBAC5C,IAAI;gBACJ,IAAI,CAAC,UAAU,CAAC;gBAChB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC7B,IAAI,KAAK,cAAc,KAAK,WAAW;gBACvC,IAAI,KAAK,cAAc,EAAE;oBACvB,MAAM,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,cAAc;oBACzD,QAAQ,OAAO,KAAK,IAAI,KAAK,MAAM,CAAC;oBACpC,IAAI,QAAQ,KAAK,IAAI,KAAK,GACxB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,cAAc;gBACnD;gBACA,KAAK,cAAc,GAAG;gBACtB,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;gBAC1F,IAAI,GAAG,CAAC;gBACR,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,WAAW;YACtC;QACF;IACF;AACF;AAEA,kCAAkC;AAClC,IAAI,mBAAmB;AACvB,IAAI,eAAe,MAAM;IACvB;QACE,oBAAoB;QACpB,yBAAyB,aAAa,GAAG,IAAI,IAAI;YAAC;YAAe;SAAY;IAC/E;AACF;AAEA,sCAAsC;AACtC,IAAI;AACJ,IAAI,sBAAsB,MAAM;IAC9B;QACE;QACA,iBAAiB;YACf,aAAc;gBACZ,IAAI,CAAC,QAAQ,GAAG,aAAa,GAAG,IAAI;gBACpC,IAAI,CAAC,SAAS,GAAG,aAAa,GAAG,IAAI;gBACrC,IAAI,CAAC,QAAQ,GAAG,aAAa,GAAG,IAAI;gBACpC,IAAI,CAAC,uBAAuB,GAAG,aAAa,GAAG,IAAI;YACrD;YACA;;;OAGC,GACD,aAAa,OAAO,EAAE;gBACpB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC;gBAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC5B,MAAM,YAAY,CAAC;oBACjB,IAAI,IAAI,IAAI;oBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,SAAS,EAAE;oBAC5B,MAAM,OAAO;wBACX,WAAW;wBACX,WAAW,IAAI,SAAS;wBACxB,YAAY,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,SAAS;wBAC9C,SAAS,CAAC,KAAK,IAAI,OAAO,KAAK,OAAO,KAAK,KAAK;wBAChD,UAAU,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,KAAK;wBAClD,KAAK,CAAC,KAAK,IAAI,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG;wBACjD,WAAW,KAAK,GAAG;wBACnB,cAAc,IAAI,IAAI;wBACtB,iBAAiB,IAAI,IAAI,KAAK;oBAChC;oBACA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;oBACnC,IAAI,KAAK,eAAe,IAAI,KAAK,OAAO,EAAE;wBACxC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,KAAK,OAAO,EAAE,KAAK,UAAU;oBAChE;oBACA,IAAI,CAAC,SAAS,CAAC;gBACjB;gBACA,MAAM,SAAS,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK;oBACjC,MAAM,SAAS,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACjC,IAAI,UAAU,OAAO,KAAK,IAAI,OAAO,OAAO,EAAE;wBAC5C,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,OAAO,OAAO;oBACpD;oBACA,MAAM,OAAO,UAAU,OAAO,SAAS;wBACrC,WAAW;wBACX,WAAW;wBACX,YAAY;wBACZ,WAAW,KAAK,GAAG;wBACnB,iBAAiB;oBACnB;oBACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACrB,IAAI,CAAC,UAAU,CAAC;gBAClB;gBACA,MAAM,OAAO,CAAC;oBACZ,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK;oBACjC,MAAM,SAAS,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACjC,IAAI,UAAU,OAAO,KAAK,IAAI,OAAO,OAAO,EAAE;wBAC5C,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,OAAO,OAAO;oBACpD;oBACA,MAAM,OAAO,UAAU,OAAO,SAAS;wBACrC,WAAW;wBACX,WAAW;wBACX,YAAY;wBACZ,WAAW,KAAK,GAAG;wBACnB,iBAAiB;oBACnB;oBACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACrB,IAAI,CAAC,WAAW,CAAC;gBACnB;gBACA,MAAM,aAAa,CAAC;oBAClB,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,IAAI,IAAI,SAAS,GAAG;oBAC7C,OAAO,IAAI,SAAS;gBACtB;gBACA,MAAM,WAAW,CAAC;oBAChB,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,IAAI,IAAI,SAAS,GAAG;oBAC7C,KAAK,IAAI,SAAS;gBACpB;gBACA,MAAM,aAAa,CAAC;oBAClB,IAAI,IAAI;oBACR,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,IAAI,IAAI,SAAS,GAAG;oBAC7C,MAAM,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,KAAK,OAAO,KAAK;oBAChF,IAAI,IAAI,UAAU,CAAC,UAAU,OAAO,IAAI,SAAS;gBACnD;gBACA,MAAM,iBAAiB,CAAC;oBACtB,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,IAAI,IAAI,OAAO,GAAG;oBAC3C,MAAM,MAAM,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,IAAI,OAAO;oBACxD,IAAI,CAAC,KAAK;oBACV,MAAM,SAAS,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACjC,IAAI,CAAC,QAAQ;wBACX,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,OAAO;wBAC/C;oBACF;oBACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACrB,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,OAAO;oBAC/C,IAAI,CAAC,UAAU,CAAC,cAAc,eAAe,CAAC,GAAG,SAAS;wBAAE,WAAW,KAAK,GAAG;oBAAG;gBACpF;gBACA,QAAQ,EAAE,CAAC,6BAA6B;gBACxC,QAAQ,EAAE,CAAC,2BAA2B;gBACtC,QAAQ,EAAE,CAAC,yBAAyB;gBACpC,QAAQ,EAAE,CAAC,kCAAkC;gBAC7C,QAAQ,EAAE,CAAC,4BAA4B;gBACvC,QAAQ,EAAE,CAAC,4BAA4B;gBACvC,KAAK,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC1C;gBACA,KAAK,QAAQ,IAAI,CAAC,eAAe,KAAK,CAAC,KACvC;gBACA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK;oBACrB;oBACA,QAAQ;wBACN,QAAQ,GAAG,CAAC,6BAA6B;wBACzC,QAAQ,GAAG,CAAC,2BAA2B;wBACvC,QAAQ,GAAG,CAAC,yBAAyB;wBACrC,QAAQ,GAAG,CAAC,kCAAkC;wBAC9C,QAAQ,GAAG,CAAC,4BAA4B;wBACxC,QAAQ,GAAG,CAAC,4BAA4B;oBAC1C;gBACF;YACF;YACA;;OAEC,GACD,eAAe,YAAY,EAAE;gBAC3B,MAAM,MAAM,gBAAgB,OAAO,eAAe;gBAClD,MAAM,QAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gBAChC,IAAI,CAAC,OAAO;gBACZ,MAAM,MAAM;gBACZ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACrB,KAAK,MAAM,OAAO;uBAAI,IAAI,CAAC,QAAQ,CAAC,IAAI;iBAAG,CAAE;oBAC3C,IAAI,IAAI,UAAU,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACtD;gBACA,KAAK,MAAM,CAAC,SAAS,IAAI,IAAI;uBAAI,IAAI,CAAC,uBAAuB,CAAC,OAAO;iBAAG,CAAE;oBACxE,IAAI,IAAI,UAAU,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG;wBAC7B,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;oBACtC;gBACF;YACF;YACA;;;OAGC,GACD,YAAY,QAAQ,EAAE;gBACpB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;gBACnB,OAAO;oBACL,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxB;YACF;YACA;;;OAGC,GACD,YAAY,OAAO,EAAE;gBACnB,IAAI,IAAI,IAAI,IAAI;gBAChB,MAAM,YAAY,CAAC,KAAK,QAAQ,SAAS,KAAK,OAAO,KAAK,KAAK,GAAG;gBAClE,MAAM,aAAa,CAAC,KAAK,QAAQ,UAAU,KAAK,OAAO,KAAK;gBAC5D,MAAM,YAAY,QAAQ,SAAS;gBACnC,MAAM,oBAAoB,OAAO,QAAQ,CAAC,aAAa,YAAY,KAAK;gBACxE,MAAM,mBAAmB,OAAO,QAAQ,CAAC,CAAC,KAAK,QAAQ,aAAa,KAAK,OAAO,KAAK,OAAO,QAAQ,aAAa,GAAG;gBACpH,MAAM,UAAU,CAAC,KAAK,QAAQ,MAAM,KAAK,OAAO,KAAK,CAAC;oBACpD,OAAO,CAAC,uBAAuB,GAAG,CAAC,KAAK,YAAY;gBACtD;gBACA,MAAM,UAAU,aAAa,GAAG,IAAI;gBACpC,IAAI,YAAY;gBAChB,IAAI,eAAe;gBACnB,IAAI,UAAU;gBACd,IAAI,YAAY;gBAChB,IAAI,WAAW;gBACf,MAAM,UAAU,CAAC;oBACf,IAAI,SAAS;oBACb,UAAU;oBACV,IAAI,WAAW,aAAa;oBAC5B,IAAI,cAAc,aAAa;oBAC/B;oBACA,QAAQ,KAAK;oBACb,IAAI,OAAO;wBACT,YAAY,OAAO,KAAK,IAAI,SAAS;oBACvC,OAAO;wBACL,aAAa,OAAO,KAAK,IAAI;oBAC/B;gBACF;gBACA,MAAM,YAAY;oBAChB,IAAI,SAAS;oBACb,IAAI,QAAQ,IAAI,KAAK,GAAG;wBACtB,IAAI,CAAC,WAAW;4BACd,YAAY,WAAW;gCACrB;4BACF,GAAG;wBACL;oBACF,OAAO,IAAI,WAAW;wBACpB,aAAa;wBACb,YAAY;oBACd;gBACF;gBACA,MAAM,WAAW;oBACf,kBAAkB,CAAC;wBACjB,IAAI,SAAS;wBACb,IAAI,KAAK,SAAS,GAAG,WAAW;wBAChC,IAAI,CAAC,QAAQ,OAAO;wBACpB,QAAQ,GAAG,CAAC,KAAK,UAAU;wBAC3B,IAAI,WAAW;4BACb,aAAa;4BACb,YAAY;wBACd;oBACF;oBACA,mBAAmB,CAAC;wBAClB,IAAI,SAAS;wBACb,IAAI,CAAC,QAAQ,MAAM,CAAC,KAAK,UAAU,GAAG;wBACtC;oBACF;oBACA,iBAAiB,CAAC;wBAChB,IAAI,SAAS;wBACb,IAAI,CAAC,QAAQ,MAAM,CAAC,KAAK,UAAU,GAAG;wBACtC;oBACF;gBACF;gBACA,MAAM,iBAAiB,IAAI,CAAC,WAAW,CAAC;gBACxC,MAAM,UAAU,IAAI,QAAQ,CAAC,UAAU;oBACrC,YAAY;oBACZ,WAAW;gBACb;gBACA;gBACA,IAAI,OAAO,QAAQ,CAAC,YAAY;oBAC9B,eAAe,WACb;wBACE,MAAM,UAAU,KAAK,GAAG,KAAK;wBAC7B,MAAM,UAAU,qBAAqB,KAAK,IAAI,CAAC,4BAA4B,EAAE,iBAAiB,EAAE,CAAC,GAAG,CAAC,4BAA4B,EAAE,QAAQ,EAAE,CAAC;wBAC9I,QAAQ,IAAI,MAAM;oBACpB,GACA,KAAK,GAAG,CAAC,GAAG;gBAEhB;gBACA,OAAO;oBACL;oBACA,SAAS,IAAM,QAAQ,IAAI,MAAM;gBACnC;YACF;YACA;;OAEC,GACD,UAAU;gBACR,KAAK,MAAM,EAAE,MAAM,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAI;oBAC/C;gBACF;gBACA,IAAI,CAAC,QAAQ,CAAC,KAAK;gBACnB,IAAI,CAAC,SAAS,CAAC,KAAK;gBACpB,IAAI,CAAC,QAAQ,CAAC,KAAK;gBACnB,IAAI,CAAC,uBAAuB,CAAC,KAAK;YACpC;YACA,kDAAkD,GAClD,UAAU,IAAI,EAAE;gBACd,KAAK,MAAM,OAAO,IAAI,CAAC,SAAS,CAAE;oBAChC,IAAI,gBAAgB,CAAC;gBACvB;YACF;YACA,kEAAkE,GAClE,WAAW,IAAI,EAAE;gBACf,KAAK,MAAM,OAAO,IAAI,CAAC,SAAS,CAAE;oBAChC,IAAI,iBAAiB,CAAC;gBACxB;YACF;YACA,4DAA4D,GAC5D,YAAY,IAAI,EAAE;gBAChB,KAAK,MAAM,OAAO,IAAI,CAAC,SAAS,CAAE;oBAChC,IAAI,eAAe,CAAC;gBACtB;YACF;YACA,0EAA0E,GAC1E,WAAW,OAAO,EAAE;gBAClB,IAAI;gBACJ,OAAO,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;YAC1C;YACA,mEAAmE,GACnE,WAAW,SAAS,EAAE,SAAS,EAAE;gBAC/B,OAAO,GAAG,UAAU,CAAC,EAAE,WAAW;YACpC;QACF;IACF;AACF;AAEA,wCAAwC;AACxC,IAAI;AACJ,IAAI,wBAAwB,MAAM;IAChC;QACE;QACA;QACA,mBAAmB;YACjB;;OAEC,GACD,YAAY,MAAM,CAAE;gBAClB,IAAI,CAAC,gBAAgB,GAAG,EAAE;gBAC1B,IAAI,CAAC,UAAU,GAAG;gBAClB,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,UAAU,GAAG;gBAClB,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,CAAC,yBAAyB,GAAG;gBACjC,IAAI,CAAC,IAAI,GAAG,OAAO,IAAI;gBACvB,IAAI,CAAC,WAAW,GAAG,OAAO,WAAW;gBACrC,IAAI,CAAC,cAAc,GAAG,OAAO,cAAc;gBAC3C,IAAI,CAAC,SAAS,GAAG,OAAO,SAAS;gBACjC,IAAI,CAAC,SAAS,GAAG,OAAO,SAAS;gBACjC,IAAI,CAAC,SAAS,GAAG,KAAK,GAAG;gBACzB,IAAI,CAAC,mBAAmB,GAAG,OAAO,mBAAmB;gBACrD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS;gBACnC,IAAI,CAAC,YAAY,GAAG,IAAI,QAAQ,CAAC,GAAG;oBAClC,IAAI,CAAC,WAAW,GAAG;gBACrB;gBACA,IAAI,CAAC,uBAAuB;YAC9B;YACA,mEAAmE,GACnE,oBAAoB,QAAQ,EAAE;gBAC5B,IAAI,CAAC,UAAU;gBACf,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,aAAa,GAAG,KAAK,GAAG;YAC/B;YACA,sEAAsE,GACtE,OAAO;gBACL,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,WAAW,KAAK,GAAG,KAAK,IAAI,CAAC,SAAS;oBAC5C,IAAI;wBACF,IAAI,IAAI,CAAC,SAAS,KAAK,oBAAoB;4BACzC,MAAM,IAAI,CAAC,cAAc,CACvB,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAC5B,oBACA,IAAI,CAAC,aAAa,CAAC;4BAGvB;wBACF;wBACA,MAAO,KAAM;4BACX,MAAM,IAAI,CAAC,cAAc,CACvB,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,IAAI,CAAC,aAAa,CAAC;4BAE5D,IAAI,IAAI,CAAC,SAAS,KAAK,eAAe;4BACtC,IAAI;gCACF,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,kBAAkB,CAAC;gCAClD;4BACF,EAAE,OAAO,OAAO;gCACd,IAAI,IAAI,CAAC,0BAA0B,CAAC,QAAQ;oCAC1C;gCACF;gCACA,MAAM;4BACR;wBACF;oBACF,SAAU;wBACR,IAAI,CAAC,OAAO;oBACd;oBACA,IAAI,IAAI,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,UAAU;gBAC5C;YACF;YACA,0EAA0E,GAC1E,UAAU;gBACR,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACnB,IAAI,CAAC,QAAQ,GAAG;gBAChB,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,KAAK,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KACnC;oBACA,IAAI,CAAC,UAAU,CAAC,OAAO;oBACvB,IAAI,CAAC,UAAU,GAAG;gBACpB;gBACA,KAAK,MAAM,MAAM,IAAI,CAAC,gBAAgB,CAAE;oBACtC,IAAI;wBACF;oBACF,EAAE,OAAO,GAAG,CACZ;gBACF;gBACA,IAAI,CAAC,gBAAgB,GAAG,EAAE;gBAC1B,IAAI,CAAC,WAAW,GAAG;YACrB;YACA,+DAA+D,GAC/D,0BAA0B;gBACxB,MAAM,mBAAmB,CAAC;oBACxB,IAAI;oBACJ,IAAI,CAAC,CAAC,CAAC,KAAK,OAAO,OAAO,KAAK,IAAI,IAAI,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,EAAE,GAAG;oBACzE,MAAM,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW;oBACzC,IAAI,IAAI,KAAK,CAAC,EAAE,KAAK,aAAa;oBAClC,MAAM,WAAW,IAAI,KAAK,CAAC,QAAQ;oBACnC,IAAI,CAAC,UAAU;oBACf,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;wBACzB,IAAI,CAAC,eAAe,GAAG;wBACvB,IAAI,CAAC,eAAe,GAAG;wBACvB,IAAI,CAAC,aAAa,GAAG,KAAK,GAAG;oBAC/B;oBACA,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;wBAC1B,IAAI,CAAC,gBAAgB,GAAG;wBACxB,IAAI,CAAC,eAAe,GAAG;wBACvB,IAAI,CAAC,aAAa,GAAG,KAAK,GAAG;wBAC7B;oBACF;oBACA,IAAI,aAAa,IAAI,CAAC,gBAAgB,EAAE;wBACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,mBAAmB,GAAG;4BACnE,IAAI,CAAC,YAAY,CACf,IAAI,MAAM;4BAEZ;wBACF;wBACA,IAAI,CAAC,kBAAkB,CAAC;oBAC1B;gBACF;gBACA,MAAM,kBAAkB,CAAC;oBACvB,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,IAAI,IAAI,OAAO,GAAG;oBAC3C,MAAM,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW;oBACzC,IAAI,IAAI,OAAO,KAAK,aAAa;oBACjC,IAAI,IAAI,MAAM,KAAK,QAAQ;oBAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,MAAM;gBAC9B;gBACA,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,uBAAuB;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;oBACzB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB;gBAC9C;gBACA,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,sBAAsB;gBAC1C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;oBACzB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,sBAAsB;gBAC7C;YACF;YACA,8DAA8D,GAC9D,cAAc,QAAQ,EAAE;gBACtB,MAAM,YAAY,WAAW,KAAK,GAAG;gBACrC,IAAI,aAAa,GAAG;oBAClB,MAAM,IAAI,aAAa,kBAAkB,IAAI,CAAC,SAAS;gBACzD;gBACA,OAAO;YACT;YACA,wEAAwE,GACxE,eAAe,SAAS,EAAE;gBACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;wBACF,OAAO,MAAM,QAAQ,IAAI,CAAC;4BAAC;4BAAW,IAAI,CAAC,YAAY;yBAAC;oBAC1D,EAAE,OAAO,OAAO;wBACd,IAAI,IAAI,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,UAAU;wBAC1C,MAAM;oBACR;gBACF;YACF;YACA,gEAAgE,GAChE,aAAa,KAAK,EAAE;gBAClB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACrB,IAAI,CAAC,UAAU,GAAG;gBAClB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,IAAI,CAAC,WAAW,CAAC;oBACjB,IAAI,CAAC,WAAW,GAAG;gBACrB;YACF;YACA,mBAAmB,QAAQ,EAAE;gBAC3B,IAAI,CAAC,yBAAyB,GAAG;gBACjC,MAAM,YAAY,IAAI,CAAC,aAAa,CAAC;gBACrC,MAAM,aAAa,KAAK,GAAG,CAAC,mBAAmB;gBAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;oBAChD,WAAW,IAAI,CAAC,aAAa;oBAC7B,WAAW;oBACX,eAAe,IAAI,CAAC,SAAS;oBAC7B,YAAY;oBACZ,QAAQ,IAAI,CAAC,eAAe;gBAC9B;gBACA,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACpC,IAAI,IAAI,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,UAAU;oBAC1C,MAAM;gBACR;YACF;YACA,2BAA2B,KAAK,EAAE;gBAChC,IAAI,CAAC,IAAI,CAAC,yBAAyB,EAAE,OAAO;gBAC5C,IAAI,CAAC,CAAC,iBAAiB,KAAK,GAAG,OAAO;gBACtC,IAAI,MAAM,OAAO,KAAK,wBAAwB,OAAO;gBACrD,IAAI,CAAC,yBAAyB,GAAG;gBACjC,OAAO;YACT;YACA,mBAAmB,QAAQ,EAAE;gBAC3B,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,aAAa,GAAG,KAAK,GAAG;gBAC7B,IAAI,IAAI,CAAC,SAAS,KAAK,eAAe;gBACtC,IAAI,CAAC,yBAAyB,GAAG;gBACjC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,MAAM,SAAS,IAAI,CAAC,UAAU;oBAC9B,IAAI,CAAC,UAAU,GAAG;oBAClB,KAAK,OAAO,OAAO,CAAC,KAAK,CAAC,KAC1B;oBACA,OAAO,OAAO;gBAChB;YACF;YACA,kBAAkB;gBAChB,MAAM,WAAW,IAAI,CAAC,eAAe;gBACrC,MAAM,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW;gBACzC,OAAO,CAAC;oBACN,IAAI,uBAAuB,GAAG,CAAC,KAAK,YAAY,GAAG,OAAO;oBAC1D,IAAI,YAAY,KAAK,QAAQ,EAAE;wBAC7B,OAAO,KAAK,QAAQ,KAAK;oBAC3B;oBACA,IAAI,CAAC,KAAK,QAAQ,IAAI,KAAK,OAAO,EAAE;wBAClC,OAAO,KAAK,OAAO,KAAK;oBAC1B;oBACA,OAAO;gBACT;YACF;QACF;IACF;AACF;AAEA,iDAAiD;AACjD,IAAI;AACJ,IAAI,iCAAiC,MAAM;IACzC;QACE;QACA,4BAA4B;YAC1B;;;;OAIC,GACD,YAAY,MAAM,CAAE;gBAClB,IAAI,CAAC,iBAAiB,GAAG;gBACzB,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,CAAC,uBAAuB,GAAG;gBAC/B,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,CAAC,wBAAwB,GAAG,aAAa,GAAG,IAAI;gBACpD,IAAI,CAAC,gBAAgB,GAAG,aAAa,GAAG,IAAI;gBAC5C,IAAI,CAAC,SAAS,GAAG,EAAE;gBACnB,IAAI,CAAC,IAAI,GAAG,OAAO,IAAI;gBACvB,IAAI,CAAC,OAAO,GAAG,OAAO,OAAO;gBAC7B,IAAI,CAAC,mBAAmB,GAAG,OAAO,mBAAmB;gBACrD,IAAI,CAAC,eAAe,GAAG,IAAI,QAAQ,CAAC;oBAClC,IAAI,CAAC,eAAe,GAAG,CAAC;wBACtB,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBAC3B,IAAI,CAAC,gBAAgB,GAAG;wBACxB,SAAS;oBACX;gBACF;gBACA,IAAI,CAAC,gBAAgB;YACvB;YACA,uEAAuE,GACvE,UAAU;gBACR,KAAK,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,SAAS,CAAE;oBAC/C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;gBAC1B;gBACA,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG;gBACxB,IAAI,CAAC,wBAAwB,CAAC,KAAK;gBACnC,IAAI,CAAC,gBAAgB,CAAC,KAAK;YAC7B;YACA;;;;OAIC,GACD,oBAAoB,QAAQ,EAAE;gBAC5B,IAAI,CAAC,UAAU;gBACf,IAAI,CAAC,gBAAgB,GAAG;gBACxB,MAAM,UAAU,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC;gBAClD,IAAI,SAAS;oBACX,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC;oBACrC,IAAI,CAAC,cAAc,CAAC;gBACtB;YACF;YACA;;;;OAIC,GACD,qCAAqC;gBACnC,IAAI,CAAC,uBAAuB,GAAG;YACjC;YACA;;;OAGC,GACD,sBAAsB;gBACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;wBAC1B,eAAe;4BACb,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC;wBACnD;oBACF;oBACA,OAAO,IAAI,CAAC,eAAe;gBAC7B;YACF;YACA,wDAAwD,GACxD,WAAW;gBACT,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,IAAI,CAAC,eAAe;gBAC7B;YACF;YACA,gEAAgE,GAChE,mBAAmB;gBACjB,IAAI,CAAC,WAAW,CAAC,4BAA4B,CAAC;oBAC5C,IAAI,CAAC,kBAAkB,CAAC;gBAC1B;gBACA,IAAI,CAAC,WAAW,CAAC,qCAAqC,CAAC;oBACrD,IAAI,CAAC,2BAA2B,CAC9B;gBAEJ;gBACA,IAAI,CAAC,WAAW,CAAC,2BAA2B,CAAC;oBAC3C,IAAI,CAAC,iBAAiB,CAAC;gBACzB;gBACA,IAAI,CAAC,WAAW,CAAC,yBAAyB,CAAC;oBACzC,IAAI,CAAC,eAAe,CAAC;gBACvB;YACF;YACA,2DAA2D,GAC3D,YAAY,KAAK,EAAE,OAAO,EAAE;gBAC1B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO;gBACvB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;oBAAE;oBAAO;gBAAQ;YACvC;YACA,kEAAkE,GAClE,mBAAmB,KAAK,EAAE;gBACxB,IAAI;gBACJ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,mBAAmB,GAAG;gBACrE,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,EAAE;gBAC/B,IAAI,MAAM,IAAI,KAAK,YAAY;gBAC/B,IAAI,MAAM,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;gBAC/C,MAAM,WAAW,CAAC,KAAK,MAAM,QAAQ,KAAK,OAAO,KAAK;gBACtD,IAAI,IAAI,CAAC,uBAAuB,EAAE;oBAChC,IAAI,CAAC,uBAAuB,GAAG;oBAC/B,IAAI,CAAC,cAAc,CAAC;oBACpB;gBACF;gBACA,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACzB,IAAI,YAAY,aAAa,IAAI,CAAC,gBAAgB,EAAE;wBAClD,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,UAAU;wBAC5C;oBACF;oBACA,IAAI,CAAC,cAAc,CAAC;oBACpB;gBACF;gBACA,IAAI,UAAU;oBACZ,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,UAAU;oBAC5C;gBACF;gBACA,IAAI,CAAC,cAAc,CAAC;YACtB;YACA,+DAA+D,GAC/D,4BAA4B,KAAK,EAAE;gBACjC,IAAI;gBACJ,IAAI,CAAC,SAAS,CAAC,MAAM,SAAS,EAAE;gBAChC,IAAI,IAAI,CAAC,iBAAiB,IAAI,MAAM,SAAS,KAAK,IAAI,CAAC,iBAAiB,EAAE;oBACxE,CAAC,KAAK,IAAI,CAAC,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,cAAc,CAAC;oBAClE;gBACF;gBACA,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,SAAS,EAAE;YAC7C;YACA,wEAAwE,GACxE,kBAAkB,KAAK,EAAE;gBACvB,IAAI;gBACJ,IAAI,CAAC,SAAS,CAAC,MAAM,SAAS,EAAE;gBAChC,IAAI,MAAM,SAAS,KAAK,IAAI,CAAC,iBAAiB,EAAE;gBAChD,CAAC,KAAK,IAAI,CAAC,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,CAAC;YAClE;YACA,sEAAsE,GACtE,gBAAgB,KAAK,EAAE;gBACrB,IAAI;gBACJ,IAAI,CAAC,SAAS,CAAC,MAAM,SAAS,EAAE;gBAChC,IAAI,MAAM,SAAS,KAAK,IAAI,CAAC,iBAAiB,EAAE;gBAChD,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,CAAC,KAAK,IAAI,CAAC,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,CAAC,IAAI,MAAM;YAC5E;YACA;;;;OAIC,GACD,eAAe,KAAK,EAAE;gBACpB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;gBACxB,IAAI,MAAM,QAAQ,EAAE;oBAClB,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,MAAM,QAAQ;gBACrD;gBACA,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC3B,MAAM,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,EAAE,KAAK,OAAO,KAAK;gBACvI,MAAM,MAAM,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,KAAK,OAAO,KAAK;gBAClF,MAAM,YAAY,aAAa,UAAU,IAAI,UAAU,CAAC;gBACxD,MAAM,aAAa,aAAa,WAAW,IAAI,UAAU,CAAC;gBAC1D,IAAI,aAAa,YAAY;oBAC3B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,SAAS;oBAC5C,IAAI,CAAC,iBAAiB,GAAG;oBACzB,IAAI,CAAC,gBAAgB,GAAG;oBACxB,IAAI,CAAC,eAAe,CAAC;oBACrB;gBACF;gBACA,MAAM,WAAW,IAAI,SAAS;oBAC5B,MAAM,IAAI,CAAC,IAAI;oBACf,SAAS,IAAI,CAAC,OAAO;oBACrB,WAAW,MAAM,SAAS;oBAC1B,SAAS,MAAM,OAAO;oBACtB,UAAU,MAAM,QAAQ;oBACxB,UAAU,MAAM,QAAQ;oBACxB,mBAAmB,QAAQ,CAAC,KAAK,MAAM,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB;gBAC1F;gBACA,IAAI,CAAC,iBAAiB,GAAG,MAAM,SAAS;gBACxC,IAAI,CAAC,gBAAgB,GAAG;gBACxB,MAAM,YAAY,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,SAAS;gBAC3D,IAAI,WAAW;oBACb,SAAS,cAAc,CAAC;oBACxB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,SAAS;gBAC9C;gBACA,IAAI,CAAC,eAAe,CAAC;YACvB;QACF;IACF;AACF;AAEA,uCAAuC;AACvC,SAAS,2BAA2B,IAAI;IACtC,MAAM,OAAO,aAAa,GAAG,IAAI;IACjC,MAAM,OAAO,KAAK,SAAS;IAC3B,KAAK,GAAG,CAAC,KAAK,OAAO,EAAE;IACvB,KAAK,MAAM,SAAS,KAAK,MAAM,GAAI;QACjC,KAAK,GAAG,CAAC,MAAM,OAAO,EAAE;IAC1B;IACA,OAAO,MAAM,IAAI,CAAC,KAAK,MAAM;AAC/B;AACA,SAAS,wBAAwB,IAAI;IACnC,MAAM,IAAI,OAAO,KAAK,CAAC;IACvB,MAAM,IAAI,OAAO,KAAK,CAAC;IACvB,MAAM,QAAQ,OAAO,KAAK,KAAK;IAC/B,MAAM,SAAS,OAAO,KAAK,MAAM;IACjC,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC;QAAE;QAAG;QAAG;QAAO;IAAO,GAAI;QAClE,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ;YAC3B,MAAM,IAAI,8BACR,CAAC,iBAAiB,EAAE,IAAI,wBAAwB,CAAC;QAErD;IACF;IACA,IAAI,SAAS,KAAK,UAAU,GAAG;QAC7B,MAAM,IAAI,8BACR;IAEJ;IACA,OAAO;QAAE;QAAG;QAAG;QAAO;IAAO;AAC/B;AACA,SAAS,uBAAuB,IAAI,EAAE,IAAI;IACxC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,SAAS,OAAO,OAAO,KAAK;QAChC,IAAI;YACF,MAAM,QAAQ,KAAK,SAAS;YAC5B,MAAM,MAAM,MAAM,MAAM,QAAQ,CAAC;gBAC/B,MAAM,QAAQ,OAAO,OAAO,gBAAgB,IAAI;gBAChD,OAAO,OAAO,QAAQ,CAAC,UAAU,QAAQ,IAAI,QAAQ;YACvD,GAAG,KAAK,CAAC,IAAM;YACf,MAAM,YAAY,OAAO,QAAQ,CAAC,QAAQ,MAAM,IAAI,MAAM;YAC1D,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,IAAI;QACvC,EAAE,OAAO,GAAG;YACV,OAAO;QACT;IACF;AACF;AACA,SAAS,yBAAyB,OAAO;IACvC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,QAAQ,IAAI,CAAC,+CAA+C;YAChE,OAAO;gBAAE,GAAG;gBAAG,GAAG;gBAAG,GAAG;gBAAG,GAAG;YAAE;QAClC,GAAG,KAAK,CAAC,KACT;QACA,OAAO,IAAM,QAAQ,MAAM,MAAM;gBAC/B,MAAM,QAAQ,IAAI,CAAC,+CAA+C,CAAC,GAAG,KAAK,CAAC,KAC5E;YACF;IACF;AACF;AACA,SAAS,mBAAmB,MAAM,EAAE,GAAG,EAAE,KAAK;IAC5C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,UAAU,IAAI,IAAI;QACxB,IAAI,CAAC,SAAS,OAAO,IAAM,QAAQ,MAAM,MAAM,aAC/C;QACA,MAAM,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;QACxF,MAAM,QAAQ,GAAG,CACf,OAAO,GAAG,CACR,CAAC,QAAU,MAAM,QAAQ,CACvB,CAAC,EAAE,KAAK,IAAI,EAAE,OAAO,MAAM,EAAE;gBAC3B,IAAI;oBACF,MAAM,MAAM;oBACZ,IAAI,CAAC,KAAK;oBACV,MAAM,QAAQ,IAAI,aAAa,CAAC;oBAChC,MAAM,YAAY,CAAC,wBAAwB;oBAC3C,MAAM,WAAW,GAAG;oBACpB,MAAM,SAAS,IAAI,IAAI,IAAI,IAAI,eAAe,IAAI,IAAI,IAAI;oBAC1D,UAAU,OAAO,KAAK,IAAI,OAAO,WAAW,CAAC;gBAC/C,EAAE,OAAO,GAAG,CACZ;YACF,GACA;gBAAE,KAAK;gBAAS;YAAM,GACtB,KAAK,CAAC,KACR;QAGJ,OAAO,IAAM,QAAQ,MAAM,MAAM;gBAC/B,MAAM,QAAQ,GAAG,CACf,OAAO,GAAG,CACR,CAAC,QAAU,MAAM,QAAQ,CAAC,CAAC;wBACzB,IAAI;4BACF,MAAM,MAAM;4BACZ,IAAI,CAAC,KAAK;4BACV,MAAM,QAAQ,IAAI,gBAAgB,CAChC,CAAC,uBAAuB,EAAE,OAAO,EAAE,CAAC;4BAEtC,MAAM,OAAO,CAAC,CAAC,OAAS,KAAK,MAAM;wBACrC,EAAE,OAAO,GAAG,CACZ;oBACF,GAAG,OAAO,KAAK,CAAC,KAChB;YAGN;IACF;AACF;AACA,SAAS,kBAAkB,MAAM;IAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,MAAM,CAAC;;;;;;;;;;;CAWhB,CAAC;QACE,MAAM,UAAU,MAAM,mBAAmB,QAAQ,KAAK;QACtD,MAAM,QAAQ,GAAG,CACf,OAAO,GAAG,CACR,CAAC,QAAU,MAAM,QAAQ,CAAC;gBACxB,IAAI,IAAI,IAAI,IAAI,IAAI;gBACpB,IAAI;oBACF,MAAM,aAAa,OAAO,SAAS,aAAa,KAAK,aAAa,SAAS,aAAa,KAAK,EAAE;oBAC/F,KAAK,MAAM,aAAa,WAAY;wBAClC,IAAI;4BACF,MAAM,UAAU,CAAC,KAAK,CAAC,KAAK,UAAU,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC;4BAClH,IAAI,WAAW,QAAQ,UAAU,KAAK,UAAU;gCAC9C,CAAC,KAAK,UAAU,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC;4BACrD,OAAO;gCACL,CAAC,KAAK,UAAU,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC;4BACrD;wBACF,EAAE,OAAO,GAAG;4BACV,CAAC,KAAK,UAAU,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC;wBACrD;oBACF;gBACF,EAAE,OAAO,GAAG,CACZ;YACF,GAAG,KAAK,CAAC,KACT;QAGJ,OAAO;IACT;AACF;AACA,SAAS,UAAU,MAAM;IACvB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,MAAM,CAAC;;;;;;;;;CAShB,CAAC;QACE,OAAO,mBAAmB,QAAQ,KAAK;IACzC;AACF;AACA,SAAS,kBAAkB,QAAQ,EAAE,KAAK;IACxC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,eAAe,aAAa,GAAG,IAAI;QACzC,KAAK,MAAM,WAAW,SAAU;YAC9B,IAAI;gBACF,MAAM,OAAO,MAAM,gBAAgB;gBACnC,IAAI,CAAC,MAAM;gBACX,MAAM,OAAO,CAAC,KAAK,aAAa,GAAG,CAAC,KAAK,KAAK,CAAC,KAAK,OAAO,KAAK,EAAE;gBAClE,KAAK,IAAI,CAAC,KAAK,IAAI;gBACnB,aAAa,GAAG,CAAC,KAAK,KAAK,EAAE;YAC/B,EAAE,OAAO,GAAG,CACZ;QACF;QACA,IAAI,aAAa,IAAI,KAAK,GAAG;YAC3B,OAAO,IAAM,QAAQ,MAAM,MAAM,aACjC;QACF;QACA,MAAM,QAAQ,CAAC,UAAU,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;QAC9E,MAAM,QAAQ,GAAG,CACf,MAAM,IAAI,CAAC,aAAa,OAAO,IAAI,GAAG,CACpC,CAAC,CAAC,OAAO,MAAM,GAAK,MAAM,QAAQ,CAChC,CAAC,EAAE,OAAO,MAAM,EAAE,OAAO,MAAM,EAAE,OAAO,MAAM,EAAE;gBAC9C,IAAI;oBACF,MAAM,MAAM;oBACZ,IAAI,CAAC,KAAK;oBACV,MAAM,OAAO,IAAI,eAAe,IAAI,IAAI,IAAI;oBAC5C,IAAI,CAAC,MAAM;oBACX,KAAK,MAAM,QAAQ,OAAQ;wBACzB,MAAM,KAAK,IAAI,aAAa,CAAC;wBAC7B,GAAG,YAAY,CAAC,uBAAuB;wBACvC,GAAG,KAAK,CAAC,QAAQ,GAAG;wBACpB,GAAG,KAAK,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC;wBAC7B,GAAG,KAAK,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC;wBAC5B,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC;wBAClC,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,KAAK,MAAM,CAAC,EAAE,CAAC;wBACpC,GAAG,KAAK,CAAC,eAAe,GAAG;wBAC3B,GAAG,KAAK,CAAC,aAAa,GAAG;wBACzB,GAAG,KAAK,CAAC,MAAM,GAAG;wBAClB,GAAG,KAAK,CAAC,OAAO,GAAG;wBACnB,GAAG,KAAK,CAAC,YAAY,GAAG;wBACxB,KAAK,WAAW,CAAC;oBACnB;gBACF,EAAE,OAAO,GAAG,CACZ;YACF,GACA;gBAAE;gBAAO;gBAAO;YAAM,GACtB,KAAK,CAAC,KACR;QAGJ,OAAO,IAAM,QAAQ,MAAM,MAAM;gBAC/B,MAAM,QAAQ,GAAG,CACf,MAAM,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,CACjC,CAAC,QAAU,MAAM,QAAQ,CAAC,CAAC;wBACzB,IAAI;4BACF,MAAM,MAAM;4BACZ,IAAI,CAAC,KAAK;4BACV,MAAM,QAAQ,IAAI,gBAAgB,CAChC,CAAC,sBAAsB,EAAE,OAAO,EAAE,CAAC;4BAErC,MAAM,OAAO,CAAC,CAAC,OAAS,KAAK,MAAM;wBACrC,EAAE,OAAO,GAAG,CACZ;oBACF,GAAG,OAAO,KAAK,CAAC,KAChB;YAGN;IACF;AACF;AACA,SAAS,gBAAgB,OAAO;IAC9B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,QAAQ,QAAQ,QAAQ;QAC9B,MAAM,UAAU,MAAM,OAAO;QAC7B,IAAI,WAAW;QACf,IAAI;YACF,MAAM,WAAW,MAAM,QAAQ,WAAW;YAC1C,WAAW,SAAS,QAAQ;YAC5B,MAAM,SAAS,MAAM,QAAQ,IAAI,CAC/B,0BACA;gBACE;gBACA,qBAAqB,CAAC;;;;;;;;;;;;;;SAcvB,CAAC;gBACA,eAAe;YACjB;YAEF,IAAI,OAAO,gBAAgB,EAAE;gBAC3B,OAAO;YACT;YACA,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK;YAChC,IAAI,CAAC,MAAM,OAAO;YAClB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG;YAChC,IAAI,CAAC,OAAO,QAAQ,CAAC,MAAM,CAAC,OAAO,QAAQ,CAAC,MAAM,CAAC,OAAO,QAAQ,CAAC,UAAU,CAAC,OAAO,QAAQ,CAAC,WAAW,SAAS,KAAK,UAAU,GAAG;gBAClI,OAAO;YACT;YACA,OAAO;gBAAE;gBAAO,MAAM;oBAAE;oBAAG;oBAAG;oBAAO;gBAAO;YAAE;QAChD,EAAE,OAAO,GAAG;YACV,OAAO;QACT,SAAU;YACR,IAAI,UAAU;gBACZ,MAAM,QAAQ,IAAI,CAAC,yBAAyB;oBAAE;gBAAS,GAAG,KAAK,CAAC,KAChE;YACF;QACF;IACF;AACF;AACA,SAAS,sBAAsB,QAAQ;IACrC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAK,IAAI,IAAI,SAAS,MAAM,GAAG,GAAG,KAAK,GAAG,KAAK,EAAG;YAChD,MAAM,KAAK,QAAQ,CAAC,EAAE;YACtB,IAAI,CAAC,IAAI;YACT,IAAI;gBACF,MAAM,SAAS;gBACf,IAAI,UAAU,OAAO,OAAO,IAAI,KAAK,YAAY;oBAC/C,MAAM;gBACR;YACF,EAAE,OAAO,GAAG,CACZ;QACF;IACF;AACF;AACA,SAAS,sBAAsB,SAAS,EAAE,IAAI;IAC5C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,CAAC,aAAa,aAAa,GAAG,OAAO;QACzC,IAAI,QAAQ;QACZ,MAAM,iBAAiB,IAAI,QAAQ,CAAC,GAAG;YACrC,QAAQ,WAAW;gBACjB,OAAO,IAAI,MAAM,CAAC,uBAAuB,EAAE,UAAU,WAAW,CAAC;YACnE,GAAG;QACL;QACA,IAAI;YACF,OAAO,MAAM,QAAQ,IAAI,CAAC;gBAAC;gBAAQ;aAAe;QACpD,SAAU;YACR,IAAI,OAAO,aAAa;QAC1B;IACF;AACF;AACA,IAAI,uBAAuB,MAAM;IAC/B;QACE;IACF;AACF;AAEA,4BAA4B;AAC5B,IAAI,eAAe,CAAC;AACpB,SAAS,cAAc;IACrB,MAAM,IAAM;AACd;AACA,IAAI,YAAY,gBAAgB;AAChC,IAAI,YAAY,MAAM;IACpB;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;YACf,MAAM;YACN,kBAAkB;YAClB,aAAa;QACf;QACA,OAAO,MAAM;YACX,YAAY,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,kBAAkB,KAAK,CAAE;gBACzF,IAAI,CAAC,IAAI,GAAG;gBACZ,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,SAAS,GAAG;gBACjB,iFAAiF,GACjF,IAAI,CAAC,QAAQ,GAAG,aAAa,GAAG,IAAI;gBACpC,6DAA6D,GAC7D,IAAI,CAAC,aAAa,GAAG,aAAa,GAAG,IAAI;gBACzC,IAAI,CAAC,WAAW,GAAG;gBACnB,2DAA2D,GAC3D,IAAI,CAAC,UAAU,GAAG,aAAa,GAAG,IAAI;gBACtC,kDAAkD,GAClD,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,oBAAoB,GAAG;gBAC5B,IAAI,CAAC,yBAAyB,GAAG;gBACjC,+DAA+D,GAC/D,IAAI,CAAC,SAAS,GAAG;gBACjB,IAAI,CAAC,gBAAgB,GAAG,aAAa,GAAG,IAAI;gBAC5C,IAAI,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI;gBAC3C,oDAAoD;gBACpD,IAAI,CAAC,aAAa,GAAG;gBACrB,8BAA8B;gBAC9B,IAAI,CAAC,iBAAiB,GAAG,aAAa,GAAG,IAAI;gBAC7C,IAAI,CAAC,MAAM,GAAG;gBACd,IAAI,CAAC,SAAS,GAAG,aAAa,OAAO,YAAY;gBACjD,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,YAAY,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE;gBACtD,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,WAAW;gBAC7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,MAC1B,IAAI,CAAC,WAAW,EAChB,aACA,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe;gBAEtB,IAAI,CAAC,cAAc,GAAG,IAAI;gBAC1B,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW;YACnD;YACA,qBAAqB;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SA6DjB,CAAC;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,yCAAyC;wBAAE,QAAQ;oBAAO,GAAG,KAAK,CAAC,KAC/F;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB;wBAC9C,YAAY;wBACZ,uBAAuB;oBACzB,GAAG,KAAK,CAAC,KACT;gBACF;YACF;YACA,sBAAsB;gBACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,CAAC,aAAa,EAAE;oBACxB,MAAM,IAAI,CAAC,kBAAkB;oBAC7B,IAAI,CAAC,aAAa,GAAG;gBACvB;YACF;YACA,aAAa,CAAC,EAAE,CAAC,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;oBACzB,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB;4BAC9C,YAAY,CAAC,+DAA+D,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC;wBAClH;oBACF,EAAE,OAAO,GAAG,CACZ;gBACF;YACF;YACA;;;OAGC,GACD,OAAO,OAAO,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,yBAAyB,EAAE,kBAAkB,KAAK,EAAE;gBACpG,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI,IAAI;oBAChB,MAAM,QAAQ,IAAI,CAAC,eAAe,KAAK,CAAC,KACxC;oBACA,MAAM,QAAQ,IAAI,CAAC,kCAAkC;wBAAE,SAAS;oBAAK,GAAG,KAAK,CAAC,KAC9E;oBACA,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI,CAAC;oBACzC,MAAM,cAAc,UAAU,KAAK,CAAC,EAAE;oBACtC,MAAM,OAAO,IAAI,MACf,MACA,SACA,UACA,aACA,WACA;oBAEF,IAAI;wBACF,KAAK,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,aAAa,OAAO,KAAK,IAAI,UAAU,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,KAAK,OAAO,KAAK,KAAK,WAAW;wBAC9I,IAAI,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,QAAQ,EAAE;4BACnF,MAAM,KAAK,eAAe,CACxB,0BAA0B,QAAQ,CAAC,KAAK,EACxC,0BAA0B,QAAQ,CAAC,MAAM,EACzC;gCACE,mBAAmB,CAAC,KAAK,0BAA0B,iBAAiB,KAAK,OAAO,KAAK;4BACvF;wBAEJ;oBACF,EAAE,OAAO,GAAG,CACZ;oBACA,KAAK,QAAQ,CAAC,iBAAiB,CAAC,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK,QAAQ;oBACzE,OAAO;gBACT;YACF;YACA,sEAAsE;YACtE;;;OAGC,GACD,gBAAgB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE;gBAC1C,IAAI;gBACJ,IAAI,CAAC,aAAa,CAAC;gBACnB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,UAAU,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;gBAClF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACzB;YACA;;OAEC,GACD,gBAAgB,OAAO,EAAE,SAAS,QAAQ,EAAE;gBAC1C,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS;gBACvC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACzB;YACA;;;OAGC,GACD,iBAAiB,KAAK,EAAE,OAAO,EAAE;gBAC/B,IAAI,IAAI,IAAI;gBACZ,MAAM,WAAW,IAAI,CAAC,WAAW;gBACjC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;gBACvE,MAAM,UAAU,IAAI,CAAC,WAAW;gBAChC,IAAI,YAAY,UAAU;oBACxB,MAAM,SAAS,CAAC,KAAK,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,KAAK,OAAO,KAAK;oBACtE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS;oBAChC,IAAI,CAAC,gBAAgB,GAAG,IAAI,MAC1B,IAAI,CAAC,WAAW,EAChB,SACA,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe;gBAExB;gBACA,IAAI,MAAM,EAAE,KAAK,IAAI,CAAC,WAAW,IAAI;oBACnC,IAAI;wBACF,IAAI,CAAC,WAAW,GAAG,OACjB,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,GAAG,KAAK,OAAO,KAAK,IAAI,CAAC,WAAW;oBAE7E,EAAE,OAAO,GAAG,CACZ;gBACF;gBACA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE;YACjC;YACA,0BAA0B,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE;gBAC/C,IAAI;gBACJ,MAAM,aAAa,OAAO,OAAO,OAAO,MAAM,IAAI,IAAI;gBACtD,IAAI,CAAC,YAAY;gBACjB,IAAI,CAAC,QAAQ,CAAC,yBAAyB,CACrC,SACA,YACA,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;gBAEnC,IAAI,YAAY,IAAI,CAAC,WAAW,IAAI;oBAClC,IAAI,CAAC,WAAW,GAAG;gBACrB;YACF;YACA;;;OAGC,GACD,kBAAkB,YAAY,EAAE,gBAAgB,EAAE;gBAChD,IAAI;gBACJ,IAAI,aAAa,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE;gBACxD,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;gBACjC,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,GAAG;oBAClC,IAAI,CAAC,iBAAiB,CAAC;gBACzB;gBACA,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAC7B,CAAC,KAAK,aAAa,EAAE,KAAK,OAAO,KAAK,SACtC;gBAEF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBACvB,aAAa,EAAE,CACb,uBACA,CAAC;oBACC,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,EAAE;gBACnC;gBAEF,aAAa,EAAE,CACb,sBACA,CAAC;oBACC,IAAI;oBACJ,IAAI,CAAC,eAAe,CAClB,IAAI,OAAO,EACX,CAAC,MAAM,IAAI,aAAa,KAAK,OAAO,MAAM,MAC1C;gBAEJ;gBAEF,aAAa,EAAE,CACb,sBACA,CAAC;oBACC,IAAI;oBACJ,IAAI,CAAC,eAAe,CAAC,IAAI,OAAO,EAAE,CAAC,MAAM,IAAI,MAAM,KAAK,OAAO,MAAM;gBACvE;gBAEF,KAAK,CAAC,IAAM,QAAQ,IAAI,EAAE,MAAM;wBAC9B,IAAI;wBACJ,IAAI;4BACF,MAAM,aAAa,IAAI,CAAC,eAAe,KAAK,CAAC,KAC7C;4BACA,IAAI,EAAE,SAAS,EAAE,GAAG,MAAM,aAAa,IAAI,CACzC;4BAEF,IAAI,UAAU,KAAK,CAAC,EAAE,KAAK,kBAAkB;gCAC3C,YAAY,cAAc,eAAe,CAAC,GAAG,YAAY;oCACvD,OAAO,cAAc,eAAe,CAAC,GAAG,UAAU,KAAK,GAAG;wCAAE,IAAI;oCAAiB;gCACnF;4BACF;4BACA,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,MAAM,aAAa,EAAE,KAAK,OAAO,MAAM,SAAS;wBACnF,EAAE,OAAO,GAAG,CACZ;oBACF,EAAE;YACJ;YACA,0DAA0D,GAC1D,mBAAmB,SAAS,EAAE;gBAC5B,KAAK,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,WAAY;oBAC3D,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK;oBACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzB;gBACA,IAAI,CAAC,kBAAkB,CAAC;gBACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACrB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC;YACrC;YACA,gEAAgE;YAChE,6EAA6E,GAC7E,mBAAmB,OAAO,EAAE;gBAC1B,IAAI;gBACJ,MAAM,MAAM,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC;gBAC5C,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,WAAW;gBACjC,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK,IAAI,CAAC,WAAW;YACtE;YACA,uDAAuD,GACvD,WAAW,OAAO,EAAE;gBAClB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;gBAChC,IAAI,KAAK,OAAO;gBAChB,MAAM,OAAO,IAAI,CAAC,kBAAkB,CAAC;gBACrC,MAAM,IAAI,IAAI,MAAM,MAAM,SAAS,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe;gBACpE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS;gBAC7B,OAAO;YACT;YACA,+EAA+E,GAC/E,eAAe,EAAE,EAAE;gBACjB,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAC3B;YACA,0BAA0B,OAAO,EAAE;gBACjC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;YACnC;YACA,4BAA4B,SAAS,EAAE;gBACrC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC;YACrC;YACA,GAAG,KAAK,EAAE,QAAQ,EAAE;gBAClB,IAAI,UAAU,WAAW;oBACvB,MAAM,IAAI,8BAA8B,CAAC,mBAAmB,EAAE,OAAO;gBACvE;gBACA,MAAM,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK;gBACrD,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;gBAC1B,IAAI,eAAe;oBACjB,IAAI,CAAC,iBAAiB;gBACxB;gBACA,OAAO,IAAI;YACb;YACA,KAAK,KAAK,EAAE,QAAQ,EAAE;gBACpB,IAAI,UAAU,WAAW;oBACvB,MAAM,IAAI,8BAA8B,CAAC,mBAAmB,EAAE,OAAO;gBACvE;gBACA,MAAM,UAAU,CAAC;oBACf,IAAI,CAAC,GAAG,CAAC,WAAW;oBACpB,SAAS;gBACX;gBACA,OAAO,IAAI,CAAC,EAAE,CAAC,WAAW;YAC5B;YACA,IAAI,KAAK,EAAE,QAAQ,EAAE;gBACnB,IAAI,UAAU,WAAW;oBACvB,MAAM,IAAI,8BAA8B,CAAC,mBAAmB,EAAE,OAAO;gBACvE;gBACA,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBAC7B,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,GAAG;oBACpC,IAAI,CAAC,oBAAoB;gBAC3B;gBACA,OAAO,IAAI;YACb;YACA,8CAA8C;YAC9C,WAAW;gBACT,OAAO,IAAI,CAAC,SAAS;YACvB;YACA;;;;;;;;;;;;;;;;;;OAkBC,GACD,QAAQ,MAAM,EAAE,MAAM,EAAE;gBACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ;gBACvC;YACF;YACA,2DAA2D,GAC3D,eAAe,GAAG,EAAE;gBAClB,IAAI,CAAC,KAAK;gBACV,IAAI;oBACF,MAAM,aAAa,OAAO,KAAK,IAAI;oBACnC,IAAI,CAAC,YAAY;oBACjB,IAAI,CAAC,WAAW,GAAG;gBACrB,EAAE,OAAO,GAAG,CACZ;YACF;YACA,cAAc;gBACZ,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW;YAClC;YACA,YAAY;gBACV,OAAO,IAAI,CAAC,gBAAgB;YAC9B;YACA;;OAEC,GACD,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;wBACF,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB;4BAAE,UAAU,IAAI,CAAC,SAAS;wBAAC;oBACxE,EAAE,OAAO,GAAG,CACZ;oBACA,MAAM,WAAW,KAAK,GAAG,KAAK;oBAC9B,MAAO,KAAK,GAAG,KAAK,SAAU;wBAC5B,IAAI;4BACF,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU;4BAC1C,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,IAAI,CAAC,SAAS,GAAG;gCACvD,IAAI,CAAC,cAAc,CAAC,OAAO;gCAC3B;4BACF;wBACF,EAAE,OAAO,GAAG,CACZ;wBACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;oBACzC;oBACA,IAAI,CAAC,cAAc,CAAC,OAAO;oBAC3B,IAAI,CAAC,oBAAoB;oBACzB,IAAI,CAAC,gBAAgB,CAAC,KAAK;gBAC7B;YACF;YACA,mBAAmB;gBACjB,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW;YAClD;YACA,oBAAoB,eAAe,EAAE;gBACnC,OAAO,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC;YAC3C;YACA,cAAc,OAAO,EAAE;gBACrB,MAAM,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;gBACnC,IAAI,QAAQ,KAAK,GAAG,OAAO;gBAC3B,MAAM,MAAM,IAAI,CAAC,WAAW;gBAC5B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS;gBAChC,OAAO;YACT;YACA,gDAAgD,GAChD,WAAW,OAAO,EAAE;gBAClB,OAAO,IAAI,CAAC,aAAa,CAAC;YAC5B;YACA,kBAAkB;gBAChB,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa;YACpC;YACA,oBAAoB;gBAClB,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,GAAG;gBACtC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW;gBACvC,KAAK,MAAM,WAAW,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAI;oBAC5C,IAAI,CAAC,iBAAiB,CAAC;gBACzB;YACF;YACA,kBAAkB,OAAO,EAAE;gBACzB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC;gBAC5B,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM;gBACnC,KAAK,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC1C;gBACA,MAAM,UAAU,CAAC;oBACf,IAAI,CAAC,WAAW,CAAC;gBACnB;gBACA,QAAQ,EAAE,CACR,4BACA;gBAEF,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK;YAChC;YACA,WAAW,OAAO,EAAE;gBAClB,IAAI;gBACJ,OAAO,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;YAC1C;YACA,oBAAoB,GAAG,EAAE;gBACvB,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;oBACvB,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,KAAK,KAAK,OAAO,IAAI,CAAC,WAAW;gBAC1D,OAAO,IAAI,QAAQ,YAAY;oBAC7B,OAAO,IAAI,CAAC,WAAW;gBACzB;gBACA,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAC3B;YACA,mBAAmB,GAAG,EAAE;gBACtB,MAAM,UAAU,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;gBACzC,IAAI,CAAC,SAAS;gBACd,MAAM,UAAU,IAAI,CAAC,mBAAmB,CAAC;gBACzC,WAAW,OAAO,KAAK,IAAI,QAAQ,GAAG,CAAC,4BAA4B;gBACnE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC9B;YACA,uBAAuB;gBACrB,KAAK,MAAM,OAAO;uBAAI,IAAI,CAAC,eAAe,CAAC,IAAI;iBAAG,CAAE;oBAClD,IAAI,CAAC,kBAAkB,CAAC;gBAC1B;YACF;YACA,YAAY,GAAG,EAAE;gBACf,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,GAAG;gBACtC,MAAM,UAAU,IAAI,eAAe,KAAK,IAAI;gBAC5C,MAAM,YAAY;uBAAI,IAAI,CAAC,gBAAgB;iBAAC;gBAC5C,KAAK,MAAM,YAAY,UAAW;oBAChC,IAAI;wBACF,SAAS;oBACX,EAAE,OAAO,OAAO;wBACd,SAAS;4BACP,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,OAAO;oCAAE,OAAO,OAAO;oCAAQ,MAAM;gCAAS;gCAC9C,MAAM;oCAAE,OAAO,IAAI,IAAI;oCAAE,MAAM;gCAAS;4BAC1C;wBACF;oBACF;gBACF;YACF;YACA,yEAAyE;YACzE;;;OAGC,GACD,KAAK,GAAG,EAAE,OAAO,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,YAAY,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS,KAAK,OAAO,KAAK;oBACrF,MAAM,UAAU,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS,KAAK,OAAO,KAAK;oBACnF,MAAM,sBAAsB,IAAI,CAAC,sBAAsB;oBACvD,MAAM,UAAU,IAAI,0BAA0B;wBAC5C,MAAM,IAAI;wBACV,SAAS,IAAI,CAAC,WAAW;wBACzB;oBACF;oBACA,MAAM,UAAU,IAAI,iBAAiB;wBACnC,MAAM,IAAI;wBACV,aAAa,IAAI,CAAC,WAAW;wBAC7B,gBAAgB,IAAI,CAAC,cAAc;wBACnC;wBACA,WAAW;wBACX;oBACF;oBACA,IAAI;wBACF,IAAI,IAAI,CAAC,SAAS,EAAE;4BAClB,MAAM,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CACtC,KACA;gCAAE,WAAW,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;4BAAC,GAC1D,IAAI,CAAC,WAAW;4BAElB,IAAI,CAAC,WAAW,GAAG;4BACnB,IAAI,uBAAuB,SAAS;gCAClC,OAAO,SAAS,gBAAgB,CAAC,QAAQ;oCACvC,MAAM,IAAI;oCACV,SAAS,IAAI,CAAC,WAAW;gCAC3B;4BACF;4BACA,OAAO;wBACT;wBACA,MAAM,WAAW,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC1C,iBACA;4BAAE;wBAAI;wBAER,IAAI,CAAC,WAAW,GAAG;wBACnB,IAAI,YAAY,OAAO,KAAK,IAAI,SAAS,QAAQ,EAAE;4BACjD,QAAQ,mBAAmB,CAAC,SAAS,QAAQ;4BAC7C,QAAQ,mBAAmB,CAAC,SAAS,QAAQ;wBAC/C;wBACA,MAAM,QAAQ,IAAI;wBAClB,OAAO,MAAM,QAAQ,mBAAmB;oBAC1C,SAAU;wBACR,QAAQ,OAAO;wBACf,QAAQ,OAAO;oBACjB;gBACF;YACF;YACA;;OAEC,GACD,OAAO,OAAO,EAAE;gBACd,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,YAAY,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;oBAC9D,MAAM,UAAU,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS,KAAK,OAAO,KAAK;oBACnF,MAAM,sBAAsB,IAAI,CAAC,sBAAsB;oBACvD,MAAM,UAAU,IAAI,0BAA0B;wBAC5C,MAAM,IAAI;wBACV,SAAS,IAAI,CAAC,WAAW;wBACzB;oBACF;oBACA,QAAQ,kCAAkC;oBAC1C,MAAM,UAAU,YAAY,IAAI,iBAAiB;wBAC/C,MAAM,IAAI;wBACV,aAAa,IAAI,CAAC,WAAW;wBAC7B,gBAAgB,IAAI,CAAC,cAAc;wBACnC;wBACA,WAAW;wBACX;oBACF,KAAK;oBACL,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe;4BACzC,aAAa,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,KAAK,OAAO,KAAK;wBACpF;wBACA,IAAI,SAAS;4BACX,MAAM,QAAQ,IAAI;wBACpB;wBACA,OAAO,MAAM,QAAQ,mBAAmB;oBAC1C,SAAU;wBACR,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBAC1C,QAAQ,OAAO;oBACjB;gBACF;YACF;YACA;;OAEC,GACD,OAAO,OAAO,EAAE;gBACd,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC3D;oBAEF,MAAM,OAAO,OAAO,CAAC,eAAe,EAAE;oBACtC,IAAI,CAAC,MAAM,OAAO;oBAClB,MAAM,YAAY,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;oBAC9D,MAAM,UAAU,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS,KAAK,OAAO,KAAK;oBACnF,MAAM,sBAAsB,IAAI,CAAC,sBAAsB;oBACvD,MAAM,UAAU,IAAI,0BAA0B;wBAC5C,MAAM,IAAI;wBACV,SAAS,IAAI,CAAC,WAAW;wBACzB;oBACF;oBACA,QAAQ,kCAAkC;oBAC1C,MAAM,UAAU,YAAY,IAAI,iBAAiB;wBAC/C,MAAM,IAAI;wBACV,aAAa,IAAI,CAAC,WAAW;wBAC7B,gBAAgB,IAAI,CAAC,cAAc;wBACnC;wBACA,WAAW;wBACX;oBACF,KAAK;oBACL,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,+BAA+B;4BACzD,SAAS,KAAK,EAAE;wBAClB;wBACA,IAAI,CAAC,WAAW,GAAG,CAAC,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,CAAC,WAAW;wBAClE,IAAI,SAAS;4BACX,MAAM,QAAQ,IAAI;wBACpB;wBACA,OAAO,MAAM,QAAQ,mBAAmB;oBAC1C,SAAU;wBACR,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBAC1C,QAAQ,OAAO;oBACjB;gBACF;YACF;YACA;;OAEC,GACD,UAAU,OAAO,EAAE;gBACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC3D;oBAEF,MAAM,OAAO,OAAO,CAAC,eAAe,EAAE;oBACtC,IAAI,CAAC,MAAM,OAAO;oBAClB,MAAM,YAAY,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;oBAC9D,MAAM,UAAU,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS,KAAK,OAAO,KAAK;oBACnF,MAAM,sBAAsB,IAAI,CAAC,sBAAsB;oBACvD,MAAM,UAAU,IAAI,0BAA0B;wBAC5C,MAAM,IAAI;wBACV,SAAS,IAAI,CAAC,WAAW;wBACzB;oBACF;oBACA,QAAQ,kCAAkC;oBAC1C,MAAM,UAAU,YAAY,IAAI,iBAAiB;wBAC/C,MAAM,IAAI;wBACV,aAAa,IAAI,CAAC,WAAW;wBAC7B,gBAAgB,IAAI,CAAC,cAAc;wBACnC;wBACA,WAAW;wBACX;oBACF,KAAK;oBACL,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,+BAA+B;4BACzD,SAAS,KAAK,EAAE;wBAClB;wBACA,IAAI,CAAC,WAAW,GAAG,CAAC,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,CAAC,WAAW;wBAClE,IAAI,SAAS;4BACX,MAAM,QAAQ,IAAI;wBACpB;wBACA,OAAO,MAAM,QAAQ,mBAAmB;oBAC1C,SAAU;wBACR,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBAC1C,QAAQ,OAAO;oBACjB;gBACF;YACF;YACA;;OAEC,GACD,MAAM;gBACJ,OAAO,IAAI,CAAC,WAAW;YACzB;YACA,yBAAyB;gBACvB,MAAM,KAAK,EAAE,IAAI,CAAC,oBAAoB;gBACtC,IAAI,CAAC,yBAAyB,GAAG;gBACjC,OAAO;YACT;YACA,2BAA2B,EAAE,EAAE;gBAC7B,OAAO,IAAI,CAAC,yBAAyB,KAAK;YAC5C;YACA;;;;OAIC,GACD,QAAQ;gBACN,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI;oBACZ,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,KACpD;wBACA,MAAM,QAAQ,MAAM,IAAI,CAAC,iCAAiC;wBAC1D,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC5C,oBACA;4BACE,YAAY;4BACZ,WAAW;4BACX,eAAe;wBACjB;wBAEF,OAAO,OAAO,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK;oBAC7E,EAAE,OAAO,GAAG;wBACV,IAAI;4BACF,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC3D;4BAEF,OAAO,CAAC,KAAK,CAAC,KAAK,OAAO,CAAC,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,OAAO,KAAK;wBACxF,EAAE,OAAO,IAAI;4BACX,OAAO;wBACT;oBACF;gBACF;YACF;YACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA6BC,GACD,WAAW,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI,IAAI,IAAI;oBACpB,MAAM,OAAO,WAAW,OAAO,UAAU,CAAC;oBAC1C,MAAM,OAAO,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK;oBAC7C,IAAI,SAAS,SAAS,SAAS,QAAQ;wBACrC,MAAM,IAAI,8BACR,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;oBAElD;oBACA,IAAI,KAAK,QAAQ,IAAI,KAAK,IAAI,EAAE;wBAC9B,MAAM,IAAI,8BACR;oBAEJ;oBACA,IAAI,SAAS,SAAS,OAAO,KAAK,OAAO,KAAK,UAAU;wBACtD,MAAM,IAAI,8BACR;oBAEJ;oBACA,MAAM,YAAY,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,KAAK;oBACnD,MAAM,iBAAiB,CAAC,KAAK,KAAK,UAAU,KAAK,OAAO,KAAK;oBAC7D,MAAM,YAAY,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,KAAK;oBACnD,MAAM,SAAS,2BAA2B,IAAI;oBAC9C,MAAM,OAAO,KAAK,IAAI,GAAG,wBAAwB,KAAK,IAAI,IAAI,KAAK;oBACnE,MAAM,eAAe,MAAM,uBAAuB,IAAI,EAAE;oBACxD,MAAM,eAAe,CAAC,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,EAAE,EAAE,MAAM,CAC9D,CAAC,UAAY,QAAQ;oBAEvB,MAAM,eAAe,EAAE;oBACvB,MAAM,OAAO,IAAM,QAAQ,IAAI,EAAE,MAAM;4BACrC,IAAI;4BACJ,IAAI;gCACF,IAAI,KAAK,cAAc,EAAE;oCACvB,aAAa,IAAI,CAAC,CAAA,MAAM,yBAAyB,IAAI,CAAC,WAAW,CAAA;gCACnE;gCACA,IAAI,mBAAmB,YAAY;oCACjC,aAAa,IAAI,CAAC,CAAA,MAAM,kBAAkB,OAAM;gCAClD;gCACA,IAAI,cAAc,QAAQ;oCACxB,aAAa,IAAI,CAAC,CAAA,MAAM,UAAU,OAAM;gCAC1C;gCACA,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI;oCACnC,aAAa,IAAI,CACf,CAAA,MAAM,mBAAmB,QAAQ,KAAK,KAAK,EAAE,SAAQ;gCAEzD;gCACA,IAAI,aAAa,MAAM,GAAG,GAAG;oCAC3B,aAAa,IAAI,CACf,CAAA,MAAM,kBAAkB,cAAc,CAAC,MAAM,KAAK,SAAS,KAAK,OAAO,MAAM,UAAS;gCAE1F;gCACA,MAAM,SAAS,MAAM,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;oCACpD,UAAU,KAAK,QAAQ;oCACvB;oCACA;oCACA,SAAS,SAAS,SAAS,KAAK,OAAO,GAAG,KAAK;oCAC/C,OAAO;gCACT;gCACA,IAAI,KAAK,IAAI,EAAE;oCACb,MAAM,WAAW,QAAQ,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;gCACjD;gCACA,OAAO;4BACT,SAAU;gCACR,MAAM,sBAAsB;4BAC9B;wBACF;oBACA,OAAO,sBAAsB,KAAK,OAAO,EAAE;gBAC7C;YACF;YACA;;OAEC,GACD,QAAQ,QAAQ,EAAE;gBAChB,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACvC;YACA;;;;;OAKC,GACD,YAAY,QAAQ,EAAE;gBACpB,OAAO,oBAAoB,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE;YAC1D;YACA;;;OAGC,GACD,aAAa,QAAQ,EAAE;gBACrB,OAAO,IAAI,aAAa,IAAI,EAAE;YAChC;YACA;;;OAGC,GACD,SAAS;gBACP,MAAM,MAAM,IAAI,CAAC,eAAe;gBAChC,MAAM,UAAU,IAAI,GAAG,CAAC,CAAC,KAAO,CAAC;wBAAE;wBAAI,KAAK,IAAI,CAAC,UAAU,CAAC;oBAAI,CAAC;gBACjE,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,GAAG,GAAG,EAAE,GAAG;gBACpC,OAAO,QAAQ,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,GAAK,IAAI,CAAC,UAAU,CAAC;YACjD;YACA;;;OAGC,GACD,iBAAiB,KAAK,EAAE,SAAS,EAAE;gBACjC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,aAAa,OAAO,YAAY;gBACzE;YACF;YACA;;;;;;OAMC,GACD,SAAS,wBAAwB,EAAE,GAAG,EAAE;gBACtC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,KACpD;oBACA,MAAM,QAAQ,MAAM,IAAI,CAAC,iCAAiC;oBAC1D,MAAM,WAAW,OAAO,6BAA6B;oBACrD,IAAI;oBACJ,IAAI,UAAU;wBACZ,aAAa,OAAO;oBACtB,OAAO;wBACL,MAAM,QAAQ,yBAAyB,QAAQ;wBAC/C,MAAM,UAAU,KAAK,SAAS,CAAC;wBAC/B,aAAa,CAAC;qBACL,EAAE,MAAM;sBACP,EAAE,QAAQ;;;;;;;UAOtB,CAAC;oBACD;oBACA,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC9D,oBACA;wBACE;wBACA,WAAW;wBACX,eAAe;wBACf,cAAc;oBAChB;oBAEF,IAAI,kBAAkB;wBACpB,MAAM,MAAM,iBAAiB,IAAI,IAAI,CAAC,CAAC,KAAK,iBAAiB,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK;wBAC9G,MAAM,IAAI,mBAAmB;oBAC/B;oBACA,OAAO,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK;gBAC/C;YACF;YACA;;;OAGC,GACD,gBAAgB,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE;gBACtC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,MAAM,KAAK,GAAG,CAAC,MAAM,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,iBAAiB,KAAK,OAAO,KAAK;oBACtG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,sCAAsC;wBAChE;wBACA;wBACA,mBAAmB;wBACnB,QAAQ;wBACR,aAAa;wBACb,cAAc;wBACd,WAAW;wBACX,WAAW;wBACX,OAAO;oBACT,GAAG,KAAK,CAAC,KACT;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBAAE;wBAAO;oBAAO,GAAG,KAAK,CAAC,KACjF;gBACF;YACF;YACA,MAAM,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE;gBACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI;oBACR,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,MAAM,KAAK,OAAO,KAAK;oBAC/E,MAAM,aAAa,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,KAAK,OAAO,KAAK;oBACvF,IAAI;oBACJ,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;wBAClD,IAAI;4BACF,MAAM,MAAM,MAAM,wBAAwB,IAAI,EAAE,GAAG;4BACnD,IAAI,KAAK;gCACP,SAAS;oCACP,UAAU;oCACV,SAAS;oCACT,OAAO;oCACP,WAAW;wCACT,SAAS;4CAAE,OAAO,OAAO,IAAI,OAAO;4CAAG,MAAM;wCAAS;wCACtD,eAAe;4CACb,OAAO,OAAO,IAAI,aAAa;4CAC/B,MAAM;wCACR;wCACA,GAAG;4CAAE,OAAO,OAAO;4CAAI,MAAM;wCAAU;wCACvC,GAAG;4CAAE,OAAO,OAAO;4CAAI,MAAM;wCAAU;oCACzC;gCACF;gCACA,cAAc,IAAI,aAAa;gCAC/B,SAAS;oCACP,UAAU;oCACV,SAAS,CAAC,oBAAoB,CAAC;oCAC/B,OAAO;oCACP,WAAW;wCACT,OAAO;4CAAE,OAAO,OAAO,eAAe,OAAO,cAAc;4CAAK,MAAM;wCAAS;oCACjF;gCACF;4BACF;wBACF,EAAE,OAAO,GAAG,CACZ;oBACF;oBACA,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG;oBAC3B,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN;wBACA;wBACA,QAAQ;oBACV;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN;wBACA;wBACA;wBACA;oBACF;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN;wBACA;wBACA;wBACA;oBACF;oBACA,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE,OAAO,eAAe,OAAO,cAAc;gBACjG;YACF;YACA,OAAO,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE;gBACpC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;wBAClD,IAAI;4BACF,MAAM,MAAM,MAAM,wBAAwB,IAAI,EAAE,GAAG;4BACnD,IAAI,KAAK,cAAc,IAAI,aAAa;wBAC1C,EAAE,OAAO,GAAG,CACZ;oBACF;oBACA,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG;oBAC3B,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN;wBACA;wBACA,QAAQ;oBACV;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN;wBACA;wBACA,QAAQ;wBACR;wBACA;oBACF;oBACA,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE,OAAO,eAAe,OAAO,cAAc;gBACjG;YACF;YACA,YAAY,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE;gBAC3C,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI;oBACZ,MAAM,SAAS,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,MAAM,KAAK,OAAO,KAAK;oBAC/E,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK;oBACpG,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK;oBAC1F,MAAM,QAAQ,CAAC,KAAO,IAAI,QAAQ,CAAC,IAAM,KAAK,IAAI,WAAW,GAAG,MAAM;oBACtE,MAAM,aAAa,CAAC;wBAClB,OAAQ;4BACN,KAAK;gCACH,OAAO;4BACT,KAAK;gCACH,OAAO;4BACT,KAAK;gCACH,OAAO;4BACT;gCACE,OAAO;wBACX;oBACF;oBACA,IAAI;oBACJ,IAAI;oBACJ,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;wBAClD,IAAI;4BACF,MAAM,QAAQ,MAAM,wBAAwB,IAAI,EAAE,OAAO;4BACzD,IAAI,OAAO,YAAY,MAAM,aAAa;wBAC5C,EAAE,OAAO,GAAG,CACZ;wBACA,IAAI;4BACF,MAAM,MAAM,MAAM,wBAAwB,IAAI,EAAE,KAAK;4BACrD,IAAI,KAAK,UAAU,IAAI,aAAa;wBACtC,EAAE,OAAO,GAAG,CACZ;oBACF;oBACA,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO;oBAC/B,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN,GAAG;wBACH,GAAG;wBACH,QAAQ;oBACV;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN,GAAG;wBACH,GAAG;wBACH;wBACA,SAAS,WAAW;wBACpB,YAAY;oBACd;oBACA,IAAK,IAAI,IAAI,GAAG,KAAK,OAAO,IAAK;wBAC/B,MAAM,IAAI,IAAI;wBACd,MAAM,IAAI,QAAQ,CAAC,MAAM,KAAK,IAAI;wBAClC,MAAM,IAAI,QAAQ,CAAC,MAAM,KAAK,IAAI;wBAClC,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG;wBAC3B,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;4BACtD,MAAM;4BACN;4BACA;4BACA;4BACA,SAAS,WAAW;wBACtB;wBACA,IAAI,QAAQ,MAAM,MAAM;oBAC1B;oBACA,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK;oBAC7B,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACtD,MAAM;wBACN,GAAG;wBACH,GAAG;wBACH;wBACA,SAAS,WAAW;wBACpB,YAAY;oBACd;oBACA,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE,OAAO;wBAAC,aAAa,OAAO,YAAY;wBAAI,WAAW,OAAO,UAAU;qBAAG;gBACjI;YACF;YACA;;;;;OAKC,GACD,KAAK,IAAI,EAAE,OAAO,EAAE;gBAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK;oBAC1F,MAAM,eAAe,CAAC,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY;oBACvE,MAAM,QAAQ,CAAC,KAAO,IAAI,QAAQ,CAAC,IAAM,KAAK,IAAI,WAAW,GAAG,MAAM;oBACtE,MAAM,YAAY,CAAC,IAAI,WAAa,QAAQ,IAAI,EAAE,MAAM;4BACtD,IAAI,UAAU;gCACZ,MAAM,OAAO;oCACX,MAAM;oCACN,KAAK,SAAS,GAAG;oCACjB,MAAM,SAAS,IAAI;oCACnB,uBAAuB,SAAS,qBAAqB;gCACvD;gCACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;gCACtD,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B,cAAc,eAAe,CAAC,GAAG,OAAO;oCAC5F,MAAM;gCACR;gCACA;4BACF;4BACA,MAAM,OAAO;gCACX,MAAM;gCACN,MAAM;gCACN,gBAAgB;4BAClB;4BACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;4BACtD,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;gCACpD,MAAM;4BACR;wBACF;oBACA,MAAM,iBAAiB,IAAM,QAAQ,IAAI,EAAE,MAAM;4BAC/C,OAAO,UAAU,MAAM;gCACrB,KAAK;gCACL,MAAM;gCACN,uBAAuB;4BACzB;wBACF;oBACA,MAAM,kBAAkB,CAAC;wBACvB,MAAM,OAAO;wBACb,IAAI,IAAI;wBACR,MAAO,MAAM,MAAO;4BAClB,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,MAAM,EAAE;wBACnD;wBACA,OAAO;oBACT;oBACA,KAAK,MAAM,MAAM,KAAM;wBACrB,IAAI,OAAO,QAAQ,OAAO,MAAM;4BAC9B,MAAM,UAAU,IAAI;gCAClB,KAAK;gCACL,MAAM;gCACN,uBAAuB;4BACzB;wBACF,OAAO,IAAI,OAAO,KAAK;4BACrB,MAAM,UAAU,IAAI;gCAClB,KAAK;gCACL,MAAM;gCACN,uBAAuB;4BACzB;wBACF,OAAO;4BACL,IAAI,gBAAgB,KAAK,MAAM,KAAK,MAAM;gCACxC,MAAM,QAAQ,gBAAgB;gCAC9B,MAAM,UAAU;gCAChB,IAAI,QAAQ,MAAM,MAAM;gCACxB,MAAM;gCACN,IAAI,QAAQ,MAAM,MAAM;4BAC1B;4BACA,MAAM,UAAU;wBAClB;wBACA,IAAI,QAAQ,MAAM,MAAM;oBAC1B;gBACF;YACF;YACA;;;;OAIC,GACD,SAAS,GAAG,EAAE,OAAO,EAAE;gBACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK;oBAC1F,MAAM,QAAQ,CAAC,KAAO,IAAI,QAAQ,CAAC,IAAM,KAAK,IAAI,WAAW,GAAG,MAAM;oBACtE,SAAS,MAAM,SAAS;wBACtB,IAAI,cAAc,KAAK;4BACrB,OAAO;gCAAC;6BAAI;wBACd;wBACA,MAAM,OAAO,EAAE;wBACf,IAAI,WAAW;wBACf,KAAK,MAAM,QAAQ,UAAW;4BAC5B,IAAI,SAAS,OAAO,UAAU;gCAC5B,KAAK,IAAI,CAAC;gCACV,WAAW;4BACb,OAAO;gCACL,YAAY;4BACd;wBACF;wBACA,IAAI,UAAU;4BACZ,KAAK,IAAI,CAAC;wBACZ;wBACA,OAAO;oBACT;oBACA,MAAM,SAAS,MAAM;oBACrB,MAAM,UAAU,MAAM,CAAC,OAAO,MAAM,GAAG,EAAE;oBACzC,MAAM,eAAe,OAAO,KAAK,CAAC,GAAG,CAAC;oBACtC,IAAI;wBACF,KAAK,MAAM,UAAU,aAAc;4BACjC,MAAM,IAAI,CAAC,OAAO,CAAC;wBACrB;wBACA,MAAM,IAAI,CAAC,OAAO,CAAC;wBACnB,IAAI,QAAQ,MAAM,MAAM;wBACxB,MAAM,IAAI,CAAC,KAAK,CAAC;wBACjB,IAAK,IAAI,IAAI,aAAa,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;4BACjD,MAAM,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;wBAClC;oBACF,EAAE,OAAO,OAAO;wBACd,IAAI,CAAC,iBAAiB,CAAC,KAAK;wBAC5B,MAAM;oBACR;gBACF;YACF;YACA,0CAA0C,GAC1C,QAAQ,GAAG,EAAE;gBACX,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI,IAAI,IAAI;oBACZ,MAAM,gBAAgB,IAAI,CAAC,oBAAoB,CAAC;oBAChD,MAAM,eAAe;wBAAC;wBAAO;wBAAW;wBAAQ;qBAAQ;oBACxD,IAAI,aAAa,QAAQ,CAAC,gBAAgB;wBACxC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;oBAC7B;oBACA,IAAI,YAAY;oBAChB,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,aAAa;oBACpD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,YAAY,aAAa;oBACxD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,SAAS,aAAa;oBACrD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,aAAa;oBACtD,MAAM,QAAQ,IAAI,CAAC,YAAY;oBAC/B,IAAI,cAAc,MAAM,KAAK,GAAG;wBAC9B,MAAM,sBAAsB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;wBACrI,IAAI,qBAAqB;4BACvB,MAAM,OAAO,IAAI,CAAC,oBAAoB,CAAC;4BACvC,MAAM,cAAc,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,MAAM,EAAE;4BACjG,MAAM,MAAM,eAAe,eAAe,eAAe;gCACvD,MAAM;gCACN;gCACA,KAAK,KAAK,GAAG;4BACf,GAAG,KAAK,IAAI,GAAG;gCAAE,MAAM,KAAK,IAAI;4BAAC,IAAI,CAAC,IAAI,OAAO,KAAK,EAAE,KAAK,WAAW;gCAAE,uBAAuB,KAAK,EAAE;4BAAC,IAAI,CAAC,IAAI,YAAY,MAAM,GAAG;gCAAE,UAAU;4BAAY,IAAI,CAAC;4BACpK,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;wBACxD,OAAO;4BACL,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;gCACpD,MAAM;gCACN,MAAM;gCACN,gBAAgB;gCAChB;4BACF;wBACF;wBACA;oBACF;oBACA,MAAM,QAAQ,CAAC,KAAK,KAAK,CAAC,cAAc,KAAK,OAAO,KAAK;oBACzD,IAAI,OAAO;wBACT,MAAM,cAAc,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,IAAI,EAAE;wBACzE,MAAM,cAAc,CAAC,CAAC,MAAM,IAAI,IAAI,cAAc;wBAClD,MAAM,UAAU,eAAe,eAAe;4BAC5C,MAAM,cAAc,YAAY;4BAChC,KAAK,MAAM,GAAG;4BACd,MAAM,MAAM,IAAI;4BAChB,uBAAuB,MAAM,EAAE;4BAC/B;wBACF,GAAG,cAAc;4BACf,MAAM,MAAM,IAAI;4BAChB,gBAAgB,CAAC,KAAK,MAAM,cAAc,KAAK,OAAO,KAAK,MAAM,IAAI;wBACvE,IAAI,CAAC,IAAI,YAAY,MAAM,GAAG;4BAAE,UAAU;wBAAY,IAAI,CAAC;wBAC3D,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;wBACtD;oBACF;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;wBACpD,MAAM;wBACN,KAAK;wBACL;oBACF;gBACF;YACF;YACA,0BAA0B,GAC1B,MAAM,GAAG,EAAE;gBACT,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,gBAAgB,IAAI,CAAC,oBAAoB,CAAC;oBAChD,IAAI,YAAY;oBAChB,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,aAAa;oBACpD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,YAAY,aAAa;oBACxD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,SAAS,aAAa;oBACrD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,aAAa;oBACtD,MAAM,eAAe;wBAAC;wBAAO;wBAAW;wBAAQ;qBAAQ;oBACxD,IAAI,aAAa,QAAQ,CAAC,gBAAgB;wBACxC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;oBAChC;oBACA,MAAM,QAAQ,IAAI,CAAC,YAAY;oBAC/B,IAAI,cAAc,MAAM,KAAK,GAAG;wBAC9B,MAAM,OAAO,IAAI,CAAC,oBAAoB,CAAC;wBACvC,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;4BACpD,MAAM;4BACN,KAAK,KAAK,GAAG;4BACb,MAAM,KAAK,IAAI;4BACf,uBAAuB,OAAO,KAAK,EAAE,KAAK,WAAW,KAAK,EAAE,GAAG,KAAK;4BACpE;wBACF;wBACA;oBACF;oBACA,MAAM,QAAQ,CAAC,KAAK,KAAK,CAAC,cAAc,KAAK,OAAO,KAAK;oBACzD,IAAI,OAAO;wBACT,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;4BACpD,MAAM;4BACN,KAAK,MAAM,GAAG;4BACd,MAAM,MAAM,IAAI;4BAChB,uBAAuB,MAAM,EAAE;4BAC/B;wBACF;wBACA;oBACF;oBACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B;wBACpD,MAAM;wBACN,KAAK;wBACL;oBACF;gBACF;YACF;YACA,2DAA2D,GAC3D,qBAAqB,GAAG,EAAE;gBACxB,MAAM,aAAa,IAAI,WAAW;gBAClC,OAAQ;oBACN,KAAK;oBACL,KAAK;wBACH,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS;oBACnC,KAAK;oBACL,KAAK;wBACH,OAAO;oBACT,KAAK;wBACH,OAAO;oBACT,KAAK;wBACH,OAAO;oBACT,KAAK;wBACH,OAAO;oBACT;wBACE,OAAO;gBACX;YACF;YACA;;OAEC,GACD,eAAe;gBACb,OAAO;oBACL,OAAO;wBACL,KAAK;wBACL,MAAM;wBACN,IAAI;wBACJ,MAAM;wBACN,gBAAgB;oBAClB;oBACA,KAAK;wBAAE,KAAK;wBAAO,MAAM;wBAAO,IAAI;oBAAE;oBACtC,WAAW;wBAAE,KAAK;wBAAa,MAAM;wBAAa,IAAI;oBAAE;oBACxD,QAAQ;wBAAE,KAAK;wBAAU,MAAM;wBAAU,IAAI;oBAAG;oBAChD,QAAQ;wBAAE,KAAK;wBAAU,MAAM;wBAAU,IAAI;oBAAG;oBAChD,WAAW;wBAAE,KAAK;wBAAa,MAAM;wBAAa,IAAI;oBAAG;oBACzD,SAAS;wBAAE,KAAK;wBAAW,MAAM;wBAAW,IAAI;oBAAG;oBACnD,YAAY;wBAAE,KAAK;wBAAc,MAAM;wBAAc,IAAI;oBAAG;oBAC5D,WAAW;wBAAE,KAAK;wBAAa,MAAM;wBAAa,IAAI;oBAAG;oBACzD,MAAM;wBAAE,KAAK;wBAAQ,MAAM;wBAAQ,IAAI;oBAAG;oBAC1C,KAAK;wBAAE,KAAK;wBAAO,MAAM;wBAAO,IAAI;oBAAG;oBACvC,QAAQ;wBAAE,KAAK;wBAAU,MAAM;wBAAU,IAAI;oBAAG;oBAChD,UAAU;wBAAE,KAAK;wBAAY,MAAM;wBAAY,IAAI;oBAAG;oBACtD,gBAAgB;oBAChB,KAAK;wBAAE,KAAK;wBAAO,MAAM;wBAAW,IAAI;oBAAG;oBAC3C,SAAS;wBAAE,KAAK;wBAAW,MAAM;wBAAe,IAAI;oBAAG;oBACvD,MAAM;wBAAE,KAAK;wBAAQ,MAAM;wBAAY,IAAI;oBAAG;oBAC9C,OAAO;wBAAE,KAAK;wBAAS,MAAM;wBAAa,IAAI;oBAAG;gBACnD;YACF;YACA;;;OAGC,GACD,qBAAqB,EAAE,EAAE;gBACvB,MAAM,YAAY,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;gBAC7C,MAAM,WAAW,aAAa,IAAI,CAAC;gBACnC,MAAM,UAAU,UAAU,IAAI,CAAC;gBAC/B,IAAI,UAAU;oBACZ,MAAM,QAAQ,GAAG,WAAW;oBAC5B,OAAO;wBACL,KAAK,YAAY,QAAQ,MAAM,WAAW;wBAC1C,MAAM,CAAC,GAAG,EAAE,OAAO;wBACnB,IAAI,MAAM,UAAU,CAAC;oBAEvB;gBACF;gBACA,IAAI,SAAS;oBACX,OAAO;wBACL,KAAK;wBACL,MAAM,CAAC,KAAK,EAAE,IAAI;wBAClB,IAAI,GAAG,UAAU,CAAC;oBAEpB;gBACF;gBACA,IAAI,OAAO,KAAK;oBACd,OAAO;wBAAE,KAAK;wBAAK,MAAM;wBAAS,IAAI;oBAAG;gBAC3C;gBACA,OAAO;oBACL,KAAK,YAAY,GAAG,WAAW,KAAK;oBACpC,IAAI,GAAG,WAAW,GAAG,UAAU,CAAC;gBAClC;YACF;YACA,UAAU;gBACR,IAAI;oBACF,OAAO,QAAQ,QAAQ,KAAK;gBAC9B,EAAE,OAAO,GAAG;oBACV,OAAO;gBACT;YACF;YACA;;;OAGC,GACD,eAAe,IAAI,EAAE;gBACnB,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,OAAO,EAAE;gBAC9B,MAAM,QAAQ,EAAE;gBAChB,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,MAAM,IAAI,CAAC;gBACpD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,YAAY,MAAM,IAAI,CAAC;gBACtD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,MAAM,IAAI,CAAC;gBAClD,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,SAAS,MAAM,IAAI,CAAC;gBACnD,MAAM,IAAI,CAAC;gBACX,MAAM,WAAW,MAAM,IAAI,CAAC;gBAC5B,MAAM,QAAQ;oBACZ,aAAa;oBACb,aAAa;oBACb,aAAa;oBACb,aAAa;oBACb,aAAa;gBACf;gBACA,MAAM,QAAQ,KAAK,CAAC,SAAS;gBAC7B,IAAI,CAAC,OAAO,OAAO,EAAE;gBACrB,MAAM,OAAO,MAAM,OAAO,CAAC,SAAS,QAAQ;oBAAC;iBAAM;gBACnD,OAAO,KAAK,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,SAAS,CAAC,GAAG,EAAE,MAAM,GAAG;YAC1F;YACA,yEAAyE;YACzE;;OAEC,GACD,oCAAoC;gBAClC,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,KACpD;oBACA,MAAM,EAAE,kBAAkB,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B;wBACrF,SAAS,IAAI,CAAC,WAAW;wBACzB,WAAW;oBACb;oBACA,OAAO;gBACT;YACF;YACA;;;;;OAKC,GACD,qBAAqB,KAAK,EAAE,YAAY,IAAI,EAAE;gBAC5C,OAAO,QAAQ,IAAI,EAAE,MAAM;oBACzB,IAAI;oBACJ,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kCAAkC;wBAAE,SAAS;oBAAK,GAAG,KAAK,CAAC,KACvF;oBACA,IAAI;wBACF,MAAM,QAAQ,MAAM,IAAI,CAAC,iCAAiC;wBAC1D,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAC5C,oBACA;4BACE,YAAY;4BACZ,WAAW;4BACX,eAAe;wBACjB;wBAEF,MAAM,KAAK,OAAO,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,OAAO,KAAK;wBAC/E,IAAI,UAAU,sBAAsB,CAAC,OAAO,iBAAiB,OAAO,UAAU,KAAK,UAAU,UAAU,OAAO,YAAY;4BACxH;wBACF;oBACF,EAAE,OAAO,GAAG,CACZ;oBACA,MAAM,SAAS,cAAc,CAAC,MAAM;oBACpC,OAAO,IAAI,QAAQ,CAAC,UAAU;wBAC5B,IAAI,OAAO;wBACX,IAAI,QAAQ;wBACZ,MAAM,MAAM;4BACV,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB;4BAC5C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,6BAA6B;4BAClD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB;wBAC9C;wBACA,MAAM,SAAS;4BACb,IAAI,MAAM;4BACV,OAAO;4BACP,IAAI,OAAO;gCACT,aAAa;gCACb,QAAQ;4BACV;4BACA;4BACA;wBACF;wBACA,MAAM,cAAc,CAAC;4BACnB,IAAI,IAAI,IAAI,KAAK,QAAQ;4BACzB,IAAI,IAAI,OAAO,KAAK,IAAI,CAAC,WAAW,IAAI;wBAC1C;wBACA,MAAM,eAAe;4BACnB,IAAI,UAAU,oBAAoB;wBACpC;wBACA,MAAM,SAAS;4BACb,IAAI,UAAU,QAAQ;wBACxB;wBACA,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,uBAAuB;wBAC3C,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,6BAA6B;wBACjD,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,uBAAuB;wBAC3C,QAAQ,WAAW;4BACjB,IAAI,MAAM;4BACV,OAAO;4BACP;4BACA,OACE,IAAI,MACF,CAAC,qBAAqB,EAAE,MAAM,kBAAkB,EAAE,UAAU,EAAE,CAAC;wBAGrE,GAAG;oBACL;gBACF;YACF;QACF;IACF;AACF;AAEA,kBAAkB;AAClB,IAAI,aAAa,CAAC;AAClB,SAAS,YAAY;IACnB,aAAa,IAAM;IACnB,sBAAsB,IAAM;IAC5B,eAAe,IAAM;IACrB,8BAA8B,IAAM;IACpC,yBAAyB,IAAM;IAC/B,iCAAiC,IAAM;IACvC,qBAAqB,IAAM;IAC3B,wBAAwB,IAAM;IAC9B,gBAAgB,IAAM;IACtB,2BAA2B,IAAM;IACjC,mCAAmC,IAAM;IACzC,uBAAuB,IAAM;IAC7B,wBAAwB,IAAM;IAC9B,8BAA8B,IAAM;IACpC,gCAAgC,IAAM;IACtC,4BAA4B,IAAM;IAClC,8BAA8B,IAAM;IACpC,WAAW,IAAM;IACjB,kBAAkB,IAAM;IACxB,iBAAiB,IAAM;IACvB,oBAAoB,IAAM;IAC1B,iCAAiC,IAAM;IACvC,8BAA8B,IAAM;IACpC,mBAAmB,IAAM;IACzB,UAAU,IAAM;IAChB,mBAAmB,IAAM;IACzB,oBAAoB,IAAM;IAC1B,WAAW,IAAM;IACjB,mBAAmB,IAAM;IACzB,+BAA+B,IAAM;IACrC,qBAAqB,IAAM;IAC3B,uBAAuB,IAAM;IAC7B,0BAA0B,IAAM;IAChC,+BAA+B,IAAM;IACrC,2BAA2B,IAAM;IACjC,gBAAgB,IAAM;IACtB,oBAAoB,IAAM;IAC1B,oBAAoB,IAAM;IAC1B,sBAAsB,IAAM;IAC5B,oBAAoB,IAAM;IAC1B,+BAA+B,IAAM;IACrC,+BAA+B,IAAM;IACrC,8BAA8B,IAAM;IACpC,4BAA4B,IAAM;IAClC,6BAA6B,IAAM;IACnC,sBAAsB,IAAM;IAC5B,iCAAiC,IAAM;IACvC,kCAAkC,IAAM;IACxC,qCAAqC,IAAM;IAC3C,cAAc,IAAM;IACpB,oCAAoC,IAAM;IAC1C,uBAAuB,IAAM;IAC7B,+BAA+B,IAAM;IACrC,IAAI,IAAM;IACV,aAAa,IAAM;IACnB,gBAAgB,IAAM;IACtB,sBAAsB,IAAM;IAC5B,0BAA0B,IAAM;IAChC,oBAAoB,IAAM;IAC1B,sBAAsB,IAAM;IAC5B,YAAY,IAAM;IAClB,YAAY,IAAM;IAClB,gBAAgB,IAAM;IACtB,iBAAiB,IAAM;IACvB,mBAAmB,IAAM;IACzB,yBAAyB,IAAM;IAC/B,gBAAgB,IAAM;IACtB,mBAAmB,IAAM;IACzB,gBAAgB,IAAM;IACtB,iBAAiB,IAAM;IACvB,sBAAsB,IAAM;IAC5B,mBAAmB,IAAM;AAC3B;AACA,OAAO,OAAO,GAAG,aAAa;AAE9B,eAAe;AACf,IAAI,gBAAgB;AACpB,IAAI,aAAa;AACjB,IAAI,aAAa;AACjB,IAAI,eAAe;AACnB,IAAI,kBAAkB;AAEtB,eAAe;AACf;AACA,IAAI;AACJ,IAAI;AACJ,IAAI,aAAa;AACjB,SAAS,kBAAkB,MAAM,EAAE,IAAI;IACrC,MAAM,SAAS,OAAO,SAAS,CAAC;IAChC,IAAI,OAAO,OAAO,EAAE;QAClB,OAAO;IACT;IACA,MAAM,IAAI,yBAAyB,MAAM,OAAO,KAAK,CAAC,MAAM;AAC9D;AACA,SAAS;IACP,OAAO,OAAO,YAAY,eAAe,OAAO,QAAQ,QAAQ,KAAK,eAAe,SAAS,QAAQ,QAAQ;AAC/G;AACA,SAAS,qBAAqB,YAAY,EAAE,UAAU;IACpD,IAAI,aAAa,QAAQ,KAAK,KAAK,GAAG;QACpC,aAAa,QAAQ,GAAG,WAAW,UAAU;IAC/C;IACA,IAAI,WAAW,WAAW,EAAE;QAC1B,aAAa,WAAW,GAAG,WAAW,WAAW;IACnD;IACA,OAAO;AACT;AACA,SAAS,eAAe,UAAU;IAChC,MAAM,UAAU,WAAW;IAC3B,OAAQ;QACN,KAAK;YAAY;gBACf,OAAO,qBACL;oBACE,MAAM,aAAa,IAAI,CAAC,KAAK;oBAC7B,OAAO,eACL,WAAW,OAAO;gBAEtB,GACA;YAEJ;QACA,KAAK;YAAa;gBAChB,MAAM,aAAa,CAAC;gBACpB,MAAM,WAAW,EAAE;gBACnB,OAAO,OAAO,CAAC,WAAW,KAAK,EAAE,OAAO,CACtC,CAAC,CAAC,KAAK,MAAM;oBACX,UAAU,CAAC,IAAI,GAAG,eAAe;oBACjC,IAAI,WAAW,WAAW,eAAe;wBACvC,SAAS,IAAI,CAAC;oBAChB;gBACF;gBAEF,OAAO,qBACL;oBACE,MAAM,aAAa,IAAI,CAAC,MAAM;oBAC9B;oBACA,UAAU,SAAS,MAAM,GAAG,IAAI,WAAW,KAAK;gBAClD,GACA;YAEJ;QACA,KAAK;YACH,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,MAAM;YAChC,GACA;QAEJ,KAAK;YACH,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,MAAM;YAChC,GACA;QAEJ,KAAK;YACH,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,OAAO;YACjC,GACA;QAEJ,KAAK;YACH,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,MAAM;gBAC9B,MAAM,WAAW,IAAI,CAAC,MAAM;YAC9B,GACA;QAEJ,KAAK;QACL,KAAK;QACL,KAAK;YAAe;gBAClB,MAAM,cAAc,eAAe,WAAW,IAAI,CAAC,SAAS;gBAC5D,OAAO,qBACL,cAAc,eAAe,CAAC,GAAG,cAAc;oBAC7C,UAAU;gBACZ,IACA;YAEJ;QACA,KAAK;YACH,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,MAAM;gBAC9B,MAAM;oBAAC,WAAW,IAAI,CAAC,KAAK;iBAAC;YAC/B,GACA;QAEJ;YACE,OAAO,qBACL;gBACE,MAAM,aAAa,IAAI,CAAC,MAAM;gBAC9B,UAAU;YACZ,GACA;IAEN;AACF;AACA,SAAS,WAAW,MAAM;IACxB,OAAO,OAAO,IAAI,CAAC,QAAQ;AAC7B;AACA,SAAS,gBAAgB,MAAM,EAAE,WAAW;IAC1C,IAAI,IAAI;IACR,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,SAAS,GAAG;QAC7D,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,OAAO,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC5E,CAAC,QAAU,MAAM,IAAI,KAAK,MAC3B,KAAK,OAAO,KAAK;QAClB,IAAI,aAAa;YACf,OAAO;gBAAC,mBAAmB;gBAAS;oBAAC;wBAAE,UAAU,EAAE;oBAAC;iBAAE;aAAC;QACzD;QACA,OAAO;YAAC;YAAQ,EAAE;SAAC;IACrB;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,SAAS,GAAG;QAC7D,MAAM,QAAQ,OAAO,IAAI,CAAC,KAAK;QAC/B,MAAM,WAAW,CAAC;QAClB,MAAM,WAAW,EAAE;QACnB,IAAI,UAAU;QACd,MAAM,YAAY,OAAO,IAAI,CAAC;QAC9B,KAAK,MAAM,OAAO,UAAW;YAC3B,MAAM,QAAQ,KAAK,CAAC,IAAI;YACxB,MAAM,CAAC,kBAAkB,WAAW,GAAG,gBAAgB,OAAO;mBACzD;gBACH;aACD;YACD,IAAI,qBAAqB,OAAO;gBAC9B,UAAU;YACZ;YACA,QAAQ,CAAC,IAAI,GAAG;YAChB,IAAI,WAAW,MAAM,GAAG,GAAG;gBACzB,KAAK,MAAM,MAAM,WAAY;oBAC3B,SAAS,IAAI,CAAC;wBAAE,UAAU;4BAAC;+BAAQ,GAAG,QAAQ;yBAAC;oBAAC;gBAClD;YACF;QACF;QACA,IAAI,SAAS;YACX,OAAO;gBAAC,UAAU,CAAC,CAAC,MAAM,CAAC;gBAAW;aAAS;QACjD;QACA,OAAO;YAAC;YAAQ;SAAS;IAC3B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,QAAQ,GAAG;QAC5D,MAAM,WAAW,OAAO,IAAI,CAAC,IAAI;QACjC,MAAM,CAAC,iBAAiB,WAAW,GAAG,gBAAgB,UAAU;eAC3D;YACH;SACD;QACD,MAAM,UAAU,oBAAoB;QACpC,MAAM,aAAa,WAAW,GAAG,CAAC,CAAC,KAAO,CAAC;gBACzC,UAAU;oBAAC;uBAAQ,GAAG,QAAQ;iBAAC;YACjC,CAAC;QACD,IAAI,SAAS;YACX,OAAO;gBAAC,UAAU,CAAC,CAAC,KAAK,CAAC;gBAAkB;aAAW;QACzD;QACA,OAAO;YAAC;YAAQ;SAAW;IAC7B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,QAAQ,GAAG;QAC5D,MAAM,eAAe,OAAO,IAAI,CAAC,OAAO;QACxC,MAAM,aAAa,EAAE;QACrB,IAAI,UAAU;QACd,IAAI,WAAW,EAAE;QACjB,aAAa,OAAO,CAAC,CAAC,QAAQ;YAC5B,MAAM,CAAC,WAAW,WAAW,GAAG,gBAAgB,QAAQ;mBACnD;gBACH,CAAC,MAAM,EAAE,KAAK;aACf;YACD,IAAI,cAAc,QAAQ;gBACxB,UAAU;YACZ;YACA,WAAW,IAAI,CAAC;YAChB,WAAW;mBAAI;mBAAa;aAAW;QACzC;QACA,IAAI,SAAS;YACX,OAAO;gBACL,UAAU,CAAC,CAAC,KAAK,CAAC;gBAClB;aACD;QACH;QACA,OAAO;YAAC;YAAQ;SAAS;IAC3B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,eAAe,GAAG;QACnE,MAAM,WAAW,OAAO,IAAI,CAAC,IAAI;QACjC,MAAM,YAAY,OAAO,IAAI,CAAC,KAAK;QACnC,MAAM,CAAC,MAAM,UAAU,GAAG,gBAAgB,UAAU;eAC/C;YACH;SACD;QACD,MAAM,CAAC,OAAO,WAAW,GAAG,gBAAgB,WAAW;eAClD;YACH;SACD;QACD,MAAM,UAAU,SAAS,YAAY,UAAU;QAC/C,MAAM,WAAW;eAAI;eAAc;SAAW;QAC9C,IAAI,SAAS;YACX,OAAO;gBAAC,UAAU,CAAC,CAAC,YAAY,CAAC,MAAM;gBAAQ;aAAS;QAC1D;QACA,OAAO;YAAC;YAAQ;SAAS;IAC3B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,WAAW,GAAG;QAC/D,MAAM,YAAY,OAAO,IAAI,CAAC,SAAS;QACvC,MAAM,CAAC,OAAO,WAAW,GAAG,gBAAgB,WAAW;QACvD,IAAI,UAAU,WAAW;YACvB,OAAO;gBAAC,UAAU,CAAC,CAAC,QAAQ,CAAC;gBAAQ;aAAW;QAClD;QACA,OAAO;YAAC;YAAQ;SAAW;IAC7B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,WAAW,GAAG;QAC/D,MAAM,YAAY,OAAO,IAAI,CAAC,SAAS;QACvC,MAAM,CAAC,OAAO,WAAW,GAAG,gBAAgB,WAAW;QACvD,IAAI,UAAU,WAAW;YACvB,OAAO;gBAAC,UAAU,CAAC,CAAC,QAAQ,CAAC;gBAAQ;aAAW;QAClD;QACA,OAAO;YAAC;YAAQ;SAAW;IAC7B;IACA,IAAI,OAAO,QAAQ,UAAU,qBAAqB,CAAC,UAAU,GAAG;QAC9D,MAAM,aAAa,OAAO,IAAI,CAAC,MAAM;QACrC,MAAM,CAAC,eAAe,UAAU,GAAG,gBAAgB,YAAY;QAC/D,IAAI,kBAAkB,YAAY;YAChC,OAAO;gBAAC,UAAU,CAAC,CAAC,MAAM,CAAC,eAAe,OAAO,IAAI,CAAC,MAAM;gBAAG;aAAU;QAC3E;QACA,OAAO;YAAC;YAAQ;SAAU;IAC5B;IACA,OAAO;QAAC;QAAQ,EAAE;KAAC;AACrB;AACA,SAAS,WAAW,GAAG,EAAE,KAAK,EAAE,cAAc;IAC5C,IAAI,IAAI;IACR,IAAI,MAAM,MAAM,KAAK,GAAG;IACxB,MAAM,OAAO,CAAC;QACZ,IAAI,OAAO,UAAU,UAAU;YAC7B,OAAO,OAAO;QAChB;QACA,IAAI,OAAO,UAAU,YAAY,WAAW,IAAI,CAAC,QAAQ;YACvD,OAAO;QACT;QACA,OAAO,KAAK;IACd;IACA,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG;IACvB,IAAI,QAAQ,KAAK;QACf,IAAI,MAAM,OAAO,CAAC,MAAM;YACtB,IAAI,KAAK,MAAM,KAAK,GAAG;gBACrB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,KAAK,EAAG;oBACtC,MAAM,KAAK,KAAK,GAAG,CAAC,EAAE;oBACtB,IAAI,OAAO,KAAK,GAAG;wBACjB,GAAG,CAAC,EAAE,GAAG,CAAC,KAAK,cAAc,CAAC,GAAG,KAAK,OAAO,KAAK;oBACpD;gBACF;YACF,OAAO;gBACL,KAAK,MAAM,QAAQ,IAAK,WAAW,MAAM,MAAM;YACjD;QACF;QACA;IACF;IACA,IAAI,OAAO,OAAO,QAAQ,UAAU;QAClC,MAAM,SAAS;QACf,IAAI,MAAM,MAAM,KAAK,GAAG;YACtB,MAAM,aAAa,MAAM,CAAC,IAAI;YAC9B,MAAM,KAAK,KAAK;YAChB,IAAI,OAAO,KAAK,GAAG;gBACjB,MAAM,CAAC,IAAI,GAAG,CAAC,KAAK,cAAc,CAAC,GAAG,KAAK,OAAO,KAAK;YACzD;QACF,OAAO;YACL,WAAW,MAAM,CAAC,IAAI,EAAE,MAAM;QAChC;IACF;AACF;AACA,SAAS,OAAO,CAAC,EAAE,IAAI;IACrB,OAAO,EAAE,IAAI,CAAC,QAAQ,KAAK;AAC7B;AACA,SAAS,mBAAmB,IAAI;IAC9B,IAAI,IAAI,IAAI;IACZ,MAAM,WACJ,sFAAsF;IACtF,CAAC,KAAK,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK;IAElH,MAAM,OAAO,CAAC,iFAAiF,CAAC;IAChG,MAAM,WAAW,SAAS,IAAI,GAAG,MAAM,GAAG,IAAI,GAAG,KAAK,6CAA6C,EAAE,UAAU,GAAG;IAClH,OAAO,UAAU,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,YAAY,QAAQ,CAAC;AACzD;AACA,IAAI,oBAAoB;IACtB,QAAQ;IACR,WAAW;IACX,QAAQ;QAAC;QAAkB;KAA+B;IAC1D,MAAM;IACN,UAAU;IACV,YAAY;IACZ,SAAS;IACT,UAAU;IACV,YAAY;IACZ,OAAO;IACP,KAAK;IACL,eAAe;AACjB;AACA,SAAS,kBAAkB,QAAQ,EAAE,MAAM;IACzC,IAAI,CAAC,UAAU;QACb,OAAO,KAAK;IACd;IACA,MAAM,aAAa,iBAAiB,CAAC,SAAS;IAC9C,IAAI,CAAC,YAAY;QACf,OAAO;YACL,UAAU;YACV,SAAS,CAAC,4CAA4C,EAAE,SAAS,CAAC,CAAC;YACnE,OAAO;QACT;QACA,OAAO,KAAK;IACd;IACA,MAAM,gBAAgB,MAAM,OAAO,CAAC,cAAc,WAAW,GAAG,CAAC,CAAC,OAAS,QAAQ,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,MAAQ,OAAO,IAAI,MAAM,GAAG,KAAK,QAAQ,GAAG,CAAC,WAAW;IAC5J,IAAI,OAAO,kBAAkB,YAAY,cAAc,MAAM,GAAG,GAAG;QACjE,OAAO;IACT;IACA,OAAO,KAAK;AACd;AACA,SAAS,qBAAqB,KAAK;IACjC,OAAO,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,CAAC,2BAA2B;AAC3E;AACA,SAAS,gBAAgB,MAAM;IAC7B,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,IAAI,OAAO,UAAU,EAAE;gBACrB,MAAM,QAAQ,CAAC;gBACf,IAAK,MAAM,OAAO,OAAO,UAAU,CAAE;oBACnC,KAAK,CAAC,IAAI,GAAG,gBAAgB,OAAO,UAAU,CAAC,IAAI;gBACrD;gBACA,IAAI,YAAY,UAAU,CAAC,CAAC,MAAM,CAAC;gBACnC,IAAI,OAAO,QAAQ,IAAI,MAAM,OAAO,CAAC,OAAO,QAAQ,GAAG;oBACrD,MAAM,iBAAiB,OAAO,QAAQ,CAAC,MAAM,CAC3C,CAAC,KAAK,QAAU,cAAc,eAAe,CAAC,GAAG,MAAM;4BAAE,CAAC,MAAM,EAAE;wBAAK,IACvE,CAAC;oBAEH,YAAY,UAAU,OAAO,GAAG,QAAQ,CAAC;gBAC3C;gBACA,IAAI,OAAO,WAAW,EAAE;oBACtB,YAAY,UAAU,QAAQ,CAAC,OAAO,WAAW;gBACnD;gBACA,OAAO;YACT,OAAO;gBACL,OAAO,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC;YAC7B;QACF,KAAK;YACH,IAAI,OAAO,KAAK,EAAE;gBAChB,IAAI,WAAW,UAAU,CAAC,CAAC,KAAK,CAAC,gBAAgB,OAAO,KAAK;gBAC7D,IAAI,OAAO,WAAW,EAAE;oBACtB,WAAW,SAAS,QAAQ,CAAC,OAAO,WAAW;gBACjD;gBACA,OAAO;YACT,OAAO;gBACL,OAAO,UAAU,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG;YAC1C;QACF,KAAK;YAAU;gBACb,IAAI,OAAO,IAAI,EAAE;oBACf,OAAO,UAAU,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,MAAQ,OAAO,IAAI,CAAC,QAAQ,CAAC;gBACnE;gBACA,IAAI,YAAY,UAAU,CAAC,CAAC,MAAM;gBAClC,IAAI,OAAO,WAAW,EAAE;oBACtB,YAAY,UAAU,QAAQ,CAAC,OAAO,WAAW;gBACnD;gBACA,OAAO;YACT;QACA,KAAK;YAAU;gBACb,IAAI,YAAY,UAAU,CAAC,CAAC,MAAM;gBAClC,IAAI,OAAO,OAAO,KAAK,KAAK,GAAG;oBAC7B,YAAY,UAAU,GAAG,CAAC,OAAO,OAAO;gBAC1C;gBACA,IAAI,OAAO,OAAO,KAAK,KAAK,GAAG;oBAC7B,YAAY,UAAU,GAAG,CAAC,OAAO,OAAO;gBAC1C;gBACA,IAAI,OAAO,WAAW,EAAE;oBACtB,YAAY,UAAU,QAAQ,CAAC,OAAO,WAAW;gBACnD;gBACA,OAAO;YACT;QACA,KAAK;YAAW;gBACd,IAAI,aAAa,UAAU,CAAC,CAAC,OAAO;gBACpC,IAAI,OAAO,WAAW,EAAE;oBACtB,aAAa,WAAW,QAAQ,CAAC,OAAO,WAAW;gBACrD;gBACA,OAAO;YACT;QACA;YACE,OAAO,UAAU,CAAC,CAAC,GAAG;IAC1B;AACF;AAEA,gBAAgB;AAChB,IAAI,cAAc;AAClB,IAAI,eAAe;IACjB,GAAG;IACH,8BAA8B;IAC9B,GAAG;IACH,uBAAuB;IACvB,GAAG;AAEL;AACA,SAAS,aAAa,UAAU,CAAC,CAAC;IAChC,MAAM,eAAe;QACnB,OAAO,QAAQ,KAAK,IAAI;QACxB,MAAM,KAAK;QACX,iCAAiC;QACjC,SAAS;YACP,UAAU;QACZ;QACA,kDAAkD;QAClD,WAAW,KAAK;IAClB;IACA,IAAI,QAAQ,MAAM,IAAI,CAAC,qBAAqB;QAC1C,IAAI;YACF,MAAM,YAAY;gBAChB,WAAW;oBACT,QAAQ;oBACR,SAAS;wBACP,UAAU;wBACV,eAAe;wBACf,QAAQ;oBACV;gBACF;YACF;YACA,OAAO,MAAM,CAAC,cAAc;QAC9B,EAAE,OAAO,GAAG;YACV,QAAQ,IAAI,CACV;QAEJ;IACF;IACA,OAAO,CAAC,GAAG,YAAY,OAAO,EAAE,cAAc,QAAQ,WAAW;AACnE;AACA,SAAS;IACP,OAAO,oDAAyB,UAAU,QAAQ,GAAG,CAAC,cAAc,KAAK,KAAK,KAAK,QAAQ,GAAG,CAAC,wBAAwB,KAAK,KAAK,KAAK,qCAAqC;IAC3K,QAAQ,GAAG,CAAC,EAAE,KAAK;AACrB;AACA,IAAI,mBAAmB,MAAM;IAC3B,YAAY,UAAU,CAAC,CAAC,EAAE,cAAc,CAAE;QACxC,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,cAAc,GAAG;QACtB,MAAM,mBAAmB,OAAO,mBAAmB;QACnD,MAAM,kBAAkB,QAAQ,OAAO;QACvC,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,OAAO,GAAG;QACjB,OAAO,IAAI,oBAAoB,MAAM;YACnC,IAAI,CAAC,OAAO,GAAG;QACjB,OAAO,IAAI,oBAAoB,OAAO;YACpC,IAAI,CAAC,OAAO,GAAG;QACjB,OAAO;YACL,IAAI,CAAC,OAAO,GAAG,CAAC;QAClB;QACA,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,iBAAiB,gBAAgB,EAAE;gBACtC,iBAAiB,gBAAgB,GAAG,aAAa;YACnD;YACA,IAAI,CAAC,MAAM,GAAG,iBAAiB,gBAAgB;QACjD;QACA,IAAI,CAAC,OAAO,GAAG;IACjB;IACA;;GAEC,GACD,aAAa,KAAK,EAAE;QAClB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,EAAE;YAC/B,OAAQ;gBACN,KAAK;oBACH,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;oBACpB;gBACF,KAAK;oBACH,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;oBACpB;gBACF,KAAK;oBACH,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;oBACpB;YACJ;QACF;IACF;IACA;;GAEC,GACD,IAAI,OAAO,EAAE;QACX,IAAI,IAAI,IAAI,IAAI;QAChB,IAAI,CAAC,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;YAC1D;QACF;QACA,MAAM,0BAA0B,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc;QAC5G,IAAI,yBAAyB;YAC3B,MAAM,QAAQ,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK;YAClD,MAAM,KAAK,CAAC,KAAK,QAAQ,SAAS,KAAK,OAAO,KAAK,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;YAC3F,MAAM,WAAW,UAAU,IAAI,UAAU,UAAU,IAAI,UAAU;YACjE,IAAI,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,SAAS,EAAE,EAAE,QAAQ,OAAO,EAAE;YACtD,IAAI,QAAQ,SAAS,EAAE;gBACrB,MAAM,gBAAgB,IAAI,CAAC,mBAAmB,CAAC,QAAQ,SAAS;gBAChE,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,eAAgB;oBACxD,IAAI;oBACJ,IAAI,OAAO,UAAU,YAAY,UAAU,MAAM;wBAC/C,iBAAiB,KAAK,SAAS,CAAC,OAAO,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,IAAM,MAAM,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC;oBACpH,OAAO;wBACL,iBAAiB,OAAO;oBAC1B;oBACA,UAAU,CAAC;IACjB,EAAE,IAAI,EAAE,EAAE,gBAAgB;gBACtB;YACF;YACA,OAAQ;gBACN,KAAK;oBACH,QAAQ,KAAK,CAAC;oBACd;gBACF,KAAK;oBACH,QAAQ,GAAG,CAAC;oBACZ;gBACF,KAAK;oBACH,QAAQ,KAAK,CAAC;oBACd;YACJ;YACA;QACF;QACA,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,EAAE;YAC/B,MAAM,YAAY,YAAY,CAAC,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,EAAE,IAAI;YACzE,MAAM,UAAU,eAAe;gBAC7B,UAAU,QAAQ,QAAQ;gBAC1B,WAAW,QAAQ,SAAS,IAAI,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;YAC1E,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,SAAS;YAC7C,IAAI,cAAc,SAAS;gBACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,QAAQ,OAAO;YAC5C,OAAO,IAAI,cAAc,QAAQ;gBAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,QAAQ,OAAO;YAC3C,OAAO,IAAI,cAAc,SAAS;gBAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,QAAQ,OAAO;YAC5C,OAAO,IAAI,cAAc,QAAQ;gBAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,QAAQ,OAAO;YAC3C,OAAO,IAAI,cAAc,SAAS;gBAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,QAAQ,OAAO;YAC5C,OAAO;gBACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,QAAQ,OAAO;YAC3C;QACF;QACA,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC;QACtB;IACF;IACA;;GAEC,GACD,oBAAoB,SAAS,EAAE;QAC7B,IAAI,CAAC,WAAW,OAAO,CAAC;QACxB,MAAM,gBAAgB,CAAC;QACvB,KAAK,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,IAAI,OAAO,OAAO,CAAC,WAAY;YAC9D,IAAI;YACJ,OAAQ;gBACN,KAAK;oBACH,iBAAiB,SAAS,OAAO;oBACjC;gBACF,KAAK;oBACH,iBAAiB,WAAW;oBAC5B;gBACF,KAAK;oBACH,iBAAiB,UAAU;oBAC3B;gBACF,KAAK;oBACH,IAAI;wBACF,iBAAiB,KAAK,KAAK,CAAC;oBAC9B,EAAE,OAAO,GAAG;wBACV,iBAAiB;oBACnB;oBACA;gBACF;oBACE,iBAAiB;YACrB;YACA,IAAI,mBAAmB,KAAK,GAAG;YAC/B,IAAI,OAAO,mBAAmB,YAAY,mBAAmB,MAAM;gBACjE,MAAM,UAAU,MAAM,OAAO,CAAC,kBAAkB,eAAe,MAAM,KAAK,IAAI,OAAO,IAAI,CAAC,gBAAgB,MAAM,KAAK;gBACrH,IAAI,SAAS;YACf;YACA,aAAa,CAAC,IAAI,GAAG;QACvB;QACA,OAAO;IACT;IACA;;GAEC,GACD,MAAM,OAAO,EAAE,IAAI,EAAE;QACnB,IAAI,CAAC,GAAG,CAAC;YACP;YACA,OAAO;YACP,WAAW,IAAI,CAAC,kBAAkB,CAAC;QACrC;IACF;IACA,KAAK,OAAO,EAAE,IAAI,EAAE;QAClB,IAAI,CAAC,GAAG,CAAC;YACP;YACA,OAAO;YACP,UAAU;YACV,WAAW,IAAI,CAAC,kBAAkB,CAAC;QACrC;IACF;IACA,KAAK,OAAO,EAAE,IAAI,EAAE;QAClB,IAAI,CAAC,GAAG,CAAC;YACP;YACA,OAAO;YACP,WAAW,IAAI,CAAC,kBAAkB,CAAC;QACrC;IACF;IACA,MAAM,OAAO,EAAE,IAAI,EAAE;QACnB,IAAI,CAAC,GAAG,CAAC;YACP;YACA,OAAO;YACP,WAAW,IAAI,CAAC,kBAAkB,CAAC;QACrC;IACF;IACA;;GAEC,GACD,mBAAmB,IAAI,EAAE;QACvB,IAAI,CAAC,MAAM,OAAO,KAAK;QACvB,MAAM,YAAY,CAAC;QACnB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,MAAO;YAC/C,IAAI,UAAU,KAAK,GAAG;YACtB,MAAM,OAAO,OAAO;YACpB,SAAS,CAAC,IAAI,GAAG;gBACf,OAAO,SAAS,WAAW,KAAK,SAAS,CAAC,SAAS,OAAO;gBAC1D,MAAM,SAAS,WAAW,OAAO,SAAS,CAAC,SAAS,YAAY,UAAU,SAAS,YAAY,YAAY,SAAS,WAAW,WAAW;YAC5I;QACF;QACA,OAAO;IACT;AACF;AACA;;;CAGC,GACD,iBAAiB,gBAAgB,GAAG;AACpC,IAAI,kBAAkB;AAEtB,2BAA2B;AAC3B,IAAI;AAEJ,wBAAwB;AACxB,SAAS,cAAc,KAAK;IAC1B,OAAO,KAAK,KAAK,CAAC,KAAK,SAAS,CAAC;AACnC;AACA,SAAS,eAAe,IAAI;IAC1B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;YACF,OAAO,KAAK,GAAG;QACjB,EAAE,OAAO,GAAG;YACV,OAAO;QACT;IACF;AACF;AAEA,2BAA2B;AAC3B;AACA,IAAI,WAAW;IACb,YAAY,EACV,OAAO,EACP,MAAM,EACN,aAAa,EACb,mBAAmB,EACnB,kBAAkB,EACnB,CAAE;QACD,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,kBAAkB,GAAG;IAC5B;IACA,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO;IAC7B;IACA,eAAe,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE;QAC3C,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO;YAC1B,MAAM,uBAAuB,YAAY,IAAI;YAC7C,MAAM,qBAAqB,YAAY,eAAe,CAAC,GAAG,aAAa,CAAC;YACxE,MAAM,UAAU,MAAM,eAAe;YACrC,MAAM,WAAW,IAAI,CAAC,gBAAgB,CACpC,sBACA,SACA;YAEF,OAAO;gBACL,aAAa;gBACb;gBACA;gBACA,WAAW;YACb;QACF;IACF;IACA,UAAU,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE;QAChC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO;YAC1B,MAAM,EACJ,OAAO,KAAK,EACZ,KAAK,EACL,MAAM,KAAK,EACZ,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,QAAQ,QAAQ,CAAC,KAAK,CAAC;YAC1D,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,gCAAgC,EAAE,OAAO;oBACnD,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAQ,MAAM;wBAAS;oBAChD;gBACF;gBACA,OAAO;YACT;YACA,IAAI,CAAC,OAAO,OAAO;YACnB,IAAI,MAAM,OAAO,KAAK,GAAG,OAAO;YAChC,IAAI,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,KAAK,MAAM,OAAO,CAAC,MAAM,KAAK,GAAG;gBAC/D,OAAO;YACT;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,aAAa;wBAAE,OAAO,QAAQ,WAAW;wBAAE,MAAM;oBAAS;oBAC1D,KAAK;wBACH,OAAO,CAAC,KAAK,MAAM,GAAG,KAAK,OAAO,KAAK,QAAQ,OAAO;wBACtD,MAAM;oBACR;gBACF;YACF;YACA,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,SAAS,OAAO,MAAM;QAC9D;IACF;IACA,MAAM,OAAO,EAAE,MAAM,EAAE;QACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACnB,MAAM,QAAQ;gBACZ,SAAS;gBACT,aAAa,QAAQ,WAAW;gBAChC,KAAK,QAAQ,OAAO;gBACpB,WAAW,QAAQ,SAAS;gBAC5B,SAAS,CAAC,KAAK,OAAO,OAAO,KAAK,OAAO,KAAK,EAAE;gBAChD,mBAAmB,OAAO,iBAAiB;gBAC3C,SAAS,OAAO,OAAO;YACzB;YACA,MAAM,EAAE,KAAK,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,CACzD,GAAG,QAAQ,QAAQ,CAAC,KAAK,CAAC,EAC1B;YAEF,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAQ,MAAM;wBAAS;oBAChD;gBACF;gBACA;YACF;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,aAAa;wBAAE,OAAO,QAAQ,WAAW;wBAAE,MAAM;oBAAS;oBAC1D,KAAK;wBAAE,OAAO,QAAQ,OAAO;wBAAE,MAAM;oBAAS;gBAChD;YACF;QACF;IACF;IACA,iBAAiB,WAAW,EAAE,GAAG,EAAE,SAAS,EAAE;QAC5C,MAAM,UAAU,KAAK,SAAS,CAAC;YAC7B;YACA;YACA;QACF;QACA,OAAO,CAAC,GAAG,cAAc,UAAU,EAAE,UAAU,MAAM,CAAC,SAAS,MAAM,CAAC;IACxE;IACA,oBAAoB,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE;QACjD,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,UAAU,IAAI,CAAC,aAAa;YAClC,IAAI,CAAC,SAAS;gBACZ,MAAM,IAAI,6BAA6B;YACzC;YACA,MAAM,UAAU,IAAM,QAAQ,IAAI,EAAE,MAAM;oBACxC,IAAI,IAAI,IAAI;oBACZ,MAAM,gBAAgB,EAAE;oBACxB,KAAK,MAAM,UAAU,MAAM,OAAO,CAAE;wBAClC,MAAM,SAAS,MAAM,QAAQ,oBAAoB,CAC/C,QACA,MACA,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,mBAAmB;wBAE1B,cAAc,IAAI,CAAC;wBACnB,IAAI,CAAC,OAAO,OAAO,EAAE;4BACnB;wBACF;oBACF;oBACA,IAAI,cAAc,MAAM,KAAK,GAAG;wBAC9B,OAAO;4BACL,SAAS;4BACT,SAAS;4BACT,mBAAmB,CAAC,KAAK,MAAM,iBAAiB,KAAK,OAAO,KAAK,MAAM,WAAW;4BAClF,SAAS,EAAE;wBACb;oBACF;oBACA,MAAM,UAAU,cAAc,KAAK,CAAC,CAAC,IAAM,EAAE,OAAO;oBACpD,MAAM,UAAU,cAAc,OAAO,CAAC,CAAC;wBACrC,IAAI;wBACJ,OAAO,CAAC,MAAM,EAAE,OAAO,KAAK,OAAO,MAAM,EAAE;oBAC7C;oBACA,MAAM,UAAU,cAAc,GAAG,CAAC,CAAC,IAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,IAAM,KAAK,EAAE,IAAI,GAAG,MAAM,GAAG,GAAG,IAAI,CAAC,eAAe,MAAM,OAAO,IAAI,CAAC,SAAS,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,OAAO,CAAC,MAAM,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;oBAC1N,MAAM,oBAAoB,MAAM,iBAAiB,IAAI,CAAC,CAAC,KAAK,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,CAAC,CAAC,KAAK,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,GAAG,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,MAAM,WAAW;oBACxP,IAAI,WAAW,QAAQ,MAAM,GAAG,KAAK,IAAI,CAAC,kBAAkB,CAAC,MAAM,OAAO,EAAE,UAAU;wBACpF,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,cAAc,eAAe,CAAC,GAAG,QAAQ;4BAC7E;4BACA;4BACA;wBACF;oBACF;oBACA,OAAO;wBACL;wBACA;wBACA;wBACA;oBACF;gBACF;YACA,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS;QAC5C;IACF;IACA,mBAAmB,QAAQ,EAAE,OAAO,EAAE;QACpC,IAAI,IAAI,IAAI,IAAI;QAChB,IAAI,SAAS,MAAM,KAAK,QAAQ,MAAM,EAAE;YACtC,OAAO;QACT;QACA,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,KAAK,EAAG;YAC3C,MAAM,OAAO,QAAQ,CAAC,EAAE;YACxB,MAAM,OAAO,OAAO,CAAC,EAAE;YACvB,IAAI,CAAC,MAAM;gBACT,OAAO;YACT;YACA,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,EAAE;gBACnC,OAAO;YACT;YACA,IAAI,KAAK,WAAW,KAAK,KAAK,WAAW,EAAE;gBACzC,OAAO;YACT;YACA,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK,EAAE,MAAM,CAAC,CAAC,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK,EAAE,GAAG;gBACrF,OAAO;YACT;YACA,MAAM,WAAW,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK,EAAE;YACxD,MAAM,WAAW,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK,EAAE;YACxD,IAAI,SAAS,MAAM,KAAK,SAAS,MAAM,EAAE;gBACvC,OAAO;YACT;YACA,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,KAAK,EAAG;gBAC3C,IAAI,QAAQ,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAE;oBAC/B,OAAO;gBACT;YACF;QACF;QACA,OAAO;IACT;IACA,kBAAkB,OAAO,EAAE,KAAK,EAAE;QAChC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,KAAK,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,CACzD,GAAG,QAAQ,QAAQ,CAAC,KAAK,CAAC,EAC1B;YAEF,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAQ,MAAM;wBAAS;oBAChD;gBACF;gBACA;YACF;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,aAAa;wBAAE,OAAO,QAAQ,WAAW;wBAAE,MAAM;oBAAS;oBAC1D,KAAK;wBAAE,OAAO,QAAQ,OAAO;wBAAE,MAAM;oBAAS;gBAChD;YACF;QACF;IACF;IACA,eAAe,GAAG,EAAE,OAAO,EAAE;QAC3B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,SAAS;gBACZ,OAAO,MAAM;YACf;YACA,OAAO,MAAM,IAAI,QAAQ,CAAC,UAAU;gBAClC,MAAM,QAAQ,WAAW;oBACvB,OAAO,IAAI,MAAM,CAAC,sBAAsB,EAAE,QAAQ,EAAE,CAAC;gBACvD,GAAG;gBACH,KAAK,MAAM,IAAI,CACb,CAAC;oBACC,aAAa;oBACb,SAAS;gBACX,GACA,CAAC;oBACC,aAAa;oBACb,OAAO;gBACT;YAEJ;QACF;IACF;AACF;AAEA,6BAA6B;AAC7B,IAAI;AACJ,IAAI,wBAAwB,aAAa,GAAG,IAAI,IAAI;IAAC;IAAU;IAAW;CAAU;AACpF,IAAI,aAAa;IACf,YAAY,EACV,OAAO,EACP,MAAM,EACN,aAAa,EACb,UAAU,EACV,mBAAmB,EACnB,gBAAgB,EAChB,eAAe,EACf,kBAAkB,EAClB,KAAK,IAAI,EACV,CAAE;QACD,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,GAAG,GAAG;IACb;IACA,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO;IAC7B;IACA,mBAAmB,WAAW,EAAE;QAC9B,OAAO,IAAI,CAAC,OAAO,IAAI,YAAY,IAAI,GAAG,MAAM,GAAG;IACrD;IACA,uBAAuB,OAAO,EAAE;QAC9B,IAAI,CAAC,SAAS,OAAO,CAAC;QACtB,MAAM,YAAY,CAAC;QACnB,IAAI,OAAO,QAAQ,QAAQ,KAAK,UAAU;YACxC,UAAU,QAAQ,GAAG,QAAQ,QAAQ;QACvC;QACA,IAAI,qBAAqB,WAAW,OAAO,QAAQ,eAAe,KAAK,WAAW;YAChF,UAAU,eAAe,GAAG,QAAQ,eAAe;QACrD;QACA,OAAO;IACT;IACA,qBAAqB,YAAY,EAAE;QACjC,IAAI,IAAI,IAAI;QACZ,MAAM,WAAW,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,KAAK,IAAI,OAAO,IAAI,CAAC,aAAa,KAAK,EAAE,IAAI,KAAK,KAAK;QACtH,MAAM,wBAAwB,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,YAAY,IAAI,aAAa,YAAY,CAAC,GAAG,CACvH,CAAC,cAAgB,OAAO,gBAAgB,WAAW,cAAc,YAC/D,KAAK;QACT,MAAM,kBAAkB,IAAI,CAAC,2BAA2B,CACtD,gBAAgB,OAAO,KAAK,IAAI,aAAa,KAAK;QAEpD,MAAM,2BAA2B,IAAI,CAAC,2BAA2B,CAC/D,gBAAgB,OAAO,KAAK,IAAI,aAAa,cAAc;QAE7D,OAAO,KAAK,SAAS,CAAC;YACpB,SAAS,IAAI,CAAC,gBAAgB;YAC9B,cAAc,CAAC,KAAK,IAAI,CAAC,eAAe,EAAE,KAAK,OAAO,KAAK;YAC3D,OAAO;gBACL,KAAK,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,GAAG,KAAK,OAAO,KAAK;gBAC5E,OAAO,mBAAmB,OAAO,kBAAkB;gBACnD,gBAAgB,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,GAAG,IAAI,OAAO;gBAC5E,cAAc,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,YAAY,KAAK,OAAO,KAAK;gBAC9F;gBACA,cAAc;YAChB;QACF;IACF;IACA,eAAe,MAAM,EAAE;QACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,WAAW,GAAG;gBAChD,OAAO;YACT;YACA,MAAM,cAAc,OAAO,WAAW,CAAC,IAAI;YAC3C,MAAM,WAAW,MAAM,eAAe,OAAO,IAAI;YACjD,MAAM,WAAW,IAAI,CAAC,kBAAkB,CACtC,aACA,UACA,OAAO,OAAO,EACd,OAAO,eAAe;YAExB,OAAO;gBACL;gBACA;gBACA,SAAS,OAAO,OAAO;gBACvB,iBAAiB,OAAO,eAAe;gBACvC;YACF;QACF;IACF;IACA,UAAU,OAAO,EAAE;QACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO;YAC1B,MAAM,EACJ,OAAO,KAAK,EACZ,KAAK,EACL,MAAM,KAAK,EACZ,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAC7B,CAAC,MAAM,EAAE,QAAQ,QAAQ,CAAC,KAAK,CAAC;YAElC,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,kCAAkC,EAAE,OAAO;oBACrD,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAQ,MAAM;wBAAS;oBAChD;gBACF;gBACA,OAAO;YACT;YACA,IAAI,CAAC,SAAS,MAAM,OAAO,KAAK,GAAG;gBACjC,OAAO;YACT;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,aAAa;wBAAE,OAAO,QAAQ,WAAW;wBAAE,MAAM;oBAAS;oBAC1D,KAAK;wBAAE,OAAO,QAAQ,QAAQ;wBAAE,MAAM;oBAAS;gBACjD;YACF;YACA,OAAO,MAAM,IAAI,CAAC,qBAAqB,CAAC;QAC1C;IACF;IACA,MAAM,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE;QAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACnB,MAAM,QAAQ;gBACZ,SAAS;gBACT,aAAa,QAAQ,WAAW;gBAChC,UAAU,QAAQ,QAAQ;gBAC1B,SAAS,QAAQ,OAAO;gBACxB,iBAAiB,QAAQ,eAAe;gBACxC,OAAO,cAAc;gBACrB,QAAQ,cAAc;gBACtB,WAAW,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;YACrD;YACA,MAAM,EAAE,KAAK,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,CACzD,CAAC,MAAM,EAAE,QAAQ,QAAQ,CAAC,KAAK,CAAC,EAChC;YAEF,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAQ,MAAM;wBAAS;oBAChD;gBACF;gBACA;YACF;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,aAAa;wBAAE,OAAO,QAAQ,WAAW;wBAAE,MAAM;oBAAS;oBAC1D,OAAO;wBAAE,OAAO,OAAO,MAAM,MAAM;wBAAG,MAAM;oBAAS;gBACvD;YACF;QACF;IACF;IACA,iBAAiB;QACf,IAAI,CAAC,SAAS,GAAG,EAAE;IACrB;IACA,eAAe;QACb,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;QAC9B,MAAM,QAAQ,cAAc,IAAI,CAAC,SAAS;QAC1C,IAAI,CAAC,SAAS,GAAG;QACjB,OAAO;IACT;IACA,mBAAmB;QACjB,IAAI,CAAC,SAAS,GAAG;IACnB;IACA,cAAc;QACZ,OAAO,MAAM,OAAO,CAAC,IAAI,CAAC,SAAS;IACrC;IACA,WAAW,IAAI,EAAE;QACf,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;QACzB,IAAI;YACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc;QACpC,EAAE,OAAO,KAAK;YACZ,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO,OAAO;wBAAM,MAAM;oBAAS;gBAC9C;YACF;QACF;IACF;IACA,iBAAiB;QACf,OAAO,IAAI,CAAC,WAAW;IACzB;IACA,4BAA4B,KAAK,EAAE;QACjC,IAAI,CAAC,OAAO,OAAO;QACnB,IAAI,OAAO,UAAU,UAAU,OAAO;QACtC,MAAM,KAAK,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,eAAe,UAAU,IAAI;YAAC;SAAY;QAChF,MAAM,mBAAmB,OAAO,IAAI,CAAC,cAAc,MAAM,GAAG,IAAI,IAAI,CAAC,4BAA4B,CAC/F,gBACE,KAAK;QACT,OAAO,mBAAmB;YAAE;YAAW,SAAS;QAAiB,IAAI;IACvE;IACA,mBAAmB,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE,eAAe,EAAE;QAClE,MAAM,UAAU;YACd;YACA;YACA;YACA;QACF;QACA,OAAO,CAAC,GAAG,eAAe,UAAU,EAAE,UAAU,MAAM,CAAC,KAAK,SAAS,CAAC,UAAU,MAAM,CAAC;IACzF;IACA,6BAA6B,KAAK,EAAE;QAClC,MAAM,mBAAmB,CAAC;QAC1B,KAAK,MAAM,CAAC,KAAK,SAAS,IAAI,OAAO,OAAO,CAAC,OAAQ;YACnD,IAAI,sBAAsB,GAAG,CAAC,IAAI,WAAW,KAAK;gBAChD;YACF;YACA,MAAM,iBAAiB,IAAI,CAAC,0BAA0B,CAAC;YACvD,IAAI,mBAAmB,KAAK,GAAG;gBAC7B,gBAAgB,CAAC,IAAI,GAAG;YAC1B;QACF;QACA,OAAO,OAAO,IAAI,CAAC,kBAAkB,MAAM,GAAG,IAAI,mBAAmB,KAAK;IAC5E;IACA,2BAA2B,KAAK,EAAE;QAChC,IAAI,MAAM,OAAO,CAAC,QAAQ;YACxB,MAAM,iBAAiB,MAAM,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,0BAA0B,CAAC,OAAO,MAAM,CAAC,CAAC,OAAS,SAAS,KAAK;YACjH,OAAO;QACT;QACA,IAAI,SAAS,OAAO,UAAU,UAAU;YACtC,OAAO,IAAI,CAAC,4BAA4B,CACtC;QAEJ;QACA,OAAO;IACT;IACA,sBAAsB,KAAK,EAAE;QAC3B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI;YACR,MAAM,MAAM,IAAI,CAAC,UAAU;YAC3B,MAAM,UAAU,IAAI,CAAC,aAAa;YAClC,IAAI,CAAC,OAAO,CAAC,SAAS,OAAO;YAC7B,IAAI;gBACF,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK,KAAK,OAAO,KAAK,EAAE,CAAE;oBACvD,MAAM,IAAI,CAAC,sBAAsB,CAAC,MAAM,KAAK;gBAC/C;gBACA,MAAM,SAAS,cAAc,MAAM,MAAM;gBACzC,OAAO,KAAK,GAAG;oBACb,cAAc;oBACd,eAAe;oBACf,kBAAkB;oBAClB,qBAAqB;oBACrB,mBAAmB;gBACrB;gBACA,OAAO,QAAQ,GAAG,cAAc,eAAe,CAAC,GAAG,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK,CAAC,IAAI;oBAC5F,UAAU;oBACV,gBAAgB,MAAM,SAAS;gBACjC;gBACA,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BAAE,OAAO,OAAO;4BAAM,MAAM;wBAAS;oBAC9C;gBACF;gBACA,OAAO;YACT;QACF;IACF;IACA,uBAAuB,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE;QACzC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAQ,KAAK,IAAI;gBACf,KAAK;oBACH,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK;oBACzC;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC,uBAAuB,CAChC,MACA,KACA;oBAEF;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM;oBACrC;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM;oBACvC;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC,mBAAmB,CAAC;oBAC/B;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC,sBAAsB,CAAC,MAAM;oBACxC;gBACF,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH;gBACF;oBACE,IAAI,CAAC,MAAM,CAAC;wBACV,UAAU;wBACV,SAAS,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;wBACvD,OAAO;oBACT;YACJ;QACF;IACF;IACA,mBAAmB,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE;QACrC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,UAAU,MAAM,OAAO,CAAC,KAAK,OAAO,IAAI,KAAK,OAAO,GAAG,EAAE;YAC/D,IAAI,QAAQ,MAAM,GAAG,GAAG;gBACtB,MAAM,OAAO,MAAM,IAAI,eAAe;gBACtC,KAAK,MAAM,UAAU,QAAS;oBAC5B,MAAM,QAAQ,oBAAoB,CAChC,QACA,MACA,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,mBAAmB;gBAE5B;gBACA;YACF;YACA,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,WAAW,EAAE;gBAAE,SAAS,KAAK,OAAO;YAAC;QAC3D;IACF;IACA,wBAAwB,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE;QAC1C,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,UAAU,MAAM,OAAO,CAAC,KAAK,OAAO,KAAK,KAAK,OAAO,CAAC,MAAM,GAAG,IAAI,KAAK,OAAO,GAAG,CAAC,KAAK,KAAK,cAAc,KAAK,OAAO,KAAK,EAAE;YACpI,IAAI,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,KAAK,GAAG;YACrD,MAAM,OAAO,MAAM,IAAI,eAAe;YACtC,KAAK,MAAM,UAAU,QAAS;gBAC5B,MAAM,QAAQ,oBAAoB,CAChC,QACA,MACA,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,mBAAmB;YAE5B;QACF;IACF;IACA,oBAAoB,IAAI,EAAE,GAAG,EAAE;QAC7B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,OAAO,MAAM,IAAI,eAAe;YACtC,MAAM,KAAK,IAAI,CAAC,KAAK,GAAG,EAAE;gBAAE,WAAW,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK;YAAO;QACrF;IACF;IACA,sBAAsB,IAAI,EAAE,GAAG,EAAE;QAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,OAAO,MAAM,IAAI,eAAe;YACtC,IAAI,SAAS,KAAK,MAAM;YACxB,IAAI,CAAC,QAAQ;gBACX,SAAS,MAAM,KAAK,SAAS,GAAG,QAAQ,CAAC,IAAM,CAAC;wBAC9C,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,UAAU,GAAG;wBAC9C,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,WAAW,GAAG;oBACjD,CAAC;YACH;YACA,MAAM,SAAS,CAAC,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK;YACjD,MAAM,SAAS,CAAC,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK;YACjD,MAAM,KAAK,MAAM,CACf,KAAK,KAAK,CAAC,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK,IAC1C,KAAK,KAAK,CAAC,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK,IAC1C,QACA;QAEJ;IACF;IACA,oBAAoB,IAAI,EAAE;QACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,IAAI,GAAG;YACtC,MAAM,IAAI,QAAQ,CAAC,WAAa,WAAW,UAAU,KAAK,MAAM;QAClE;IACF;IACA,uBAAuB,IAAI,EAAE,GAAG,EAAE;QAChC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,OAAO,MAAM,IAAI,eAAe;YACtC,MAAM,KAAK,MAAM,CAAC;gBAAE,WAAW,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK;YAAmB;QACzF;IACF;AACF;AAEA,+BAA+B;AAC/B,IAAI,YAAY;AAChB,IAAI,cAAc;AAClB,IAAI,eAAe,MAAM;IACvB,YAAY,MAAM,EAAE,GAAG,CAAE;QACvB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,GAAG,GAAG;IACb;IACA,OAAO,OAAO,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE;QACvC,IAAI;QACJ,IAAI,CAAC,UAAU;YACb,OAAO,IAAI,cAAc;QAC3B;QACA,MAAM,WAAW,YAAY,OAAO,CAAC,OAAO,CAAC;QAC7C,IAAI;YACF,UAAU,OAAO,CAAC,SAAS,CAAC,UAAU;gBAAE,WAAW;YAAK;YACxD,OAAO,IAAI,cAAc,QAAQ;QACnC,EAAE,OAAO,KAAK;YACZ,MAAM,QAAQ,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK;YAC7E,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,qBAAqB,EAAE,MAAM,EAAE,EAAE,UAAU;gBACrD,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO,OAAO;wBAAM,MAAM;oBAAS;gBAC9C;YACF;YACA,OAAO,IAAI,cAAc;QAC3B;IACF;IACA,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,GAAG;IACjB;IACA,IAAI,UAAU;QACZ,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG;IACnB;IACA,YAAY,QAAQ,EAAE;QACpB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO;QACtB,OAAO,YAAY,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;IAC5C;IACA,SAAS,QAAQ,EAAE;QACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,WAAW,IAAI,CAAC,WAAW,CAAC;YAClC,IAAI,CAAC,UAAU;gBACb,OAAO;oBAAE,OAAO;gBAAK;YACvB;YACA,IAAI;gBACF,MAAM,MAAM,MAAM,UAAU,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU;gBAChE,OAAO;oBAAE,OAAO,KAAK,KAAK,CAAC;gBAAK;YAClC,EAAE,OAAO,KAAK;gBACZ,MAAM,OAAO,OAAO,OAAO,KAAK,IAAI,IAAI,IAAI;gBAC5C,IAAI,SAAS,UAAU;oBACrB,OAAO;wBAAE,OAAO;oBAAK;gBACvB;gBACA,OAAO;oBAAE,OAAO;oBAAM,OAAO;oBAAK,MAAM;gBAAS;YACnD;QACF;IACF;IACA,UAAU,QAAQ,EAAE,IAAI,EAAE;QACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,WAAW,IAAI,CAAC,WAAW,CAAC;YAClC,IAAI,CAAC,UAAU;gBACb,OAAO,CAAC;YACV;YACA,IAAI;gBACF,MAAM,UAAU,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,OAAO,CAAC,OAAO,CAAC,WAAW;oBAAE,WAAW;gBAAK;gBAChG,MAAM,UAAU,OAAO,CAAC,QAAQ,CAAC,SAAS,CACxC,UACA,KAAK,SAAS,CAAC,MAAM,MAAM,IAC3B;gBAEF,OAAO,CAAC;YACV,EAAE,OAAO,KAAK;gBACZ,OAAO;oBAAE,OAAO;oBAAK,MAAM;gBAAS;YACtC;QACF;IACF;AACF;AAEA,mBAAmB;AACnB,IAAI;AAEJ,gBAAgB;AAChB,SAAS,4BAA4B,wBAAwB;IAC3D,IAAI,CAAC,0BAA0B;QAC7B,OAAO;IACT;IACA,OAAO,CAAC;;;;;;;AAOV,EAAE,0BAA0B;AAC5B;AACA,SAAS,yBAAyB,gCAAgC,KAAK,EAAE,wBAAwB;IAC/F,MAAM,cAAc,CAAC;;;;;;GAMpB,CAAC;IACF,MAAM,gBAAgB,CAAC,uCAAuC,CAAC;IAC/D,MAAM,eAAe,CAAC;;;EAGtB,CAAC,CAAC,IAAI;IACN,MAAM,mBAAmB,gCAAgC,CAAC;;;EAG1D,CAAC,CAAC,IAAI,KAAK;IACX,MAAM,yBAAyB;IAC/B,MAAM,mBAAmB,4BACvB;IAEF,MAAM,UAAU,GAAG,cAAc,cAAc;;AAEjD,EAAE,aAAa;AACf,EAAE,mBAAmB,uCAAyB,CAAC;;AAE/C,EAAE,wBAAwB,GAAG,0BAAK,mBAAmB,CAAC;;AAEtD,EAAE,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ;IAC1C,OAAO;QACL,MAAM;QACN;IACF;AACF;AACA,SAAS,uBAAuB,WAAW,EAAE,WAAW,EAAE,gCAAgC,KAAK;IAC7F,IAAI,UAAU,CAAC,aAAa,EAAE,YAAY;KACvC,EAAE,aAAa;IAClB,IAAI,+BAA+B;QACjC,WAAW,CAAC;;oEAEoD,CAAC;IACnE;IACA,OAAO;QACL,MAAM;QACN;IACF;AACF;AACA,IAAI,uBAAuB,CAAC;;;;;;sEAM0C,CAAC;AACvE,SAAS;IACP,OAAO;QACL,MAAM;QACN,SAAS;IACX;AACF;AACA,SAAS,oBAAoB,WAAW,EAAE,kBAAkB;IAC1D,OAAO;QACL,MAAM;QACN,SAAS,CAAC,aAAa,EAAE,YAAY;mBACtB,EAAE,KAAK,SAAS,CAAC,oBAAoB,MAAM,IAAI;IAChE;AACF;AACA,SAAS,yBAAyB,wBAAwB;IACxD,MAAM,sBAAsB,CAAC;;;;;;;sGAOuE,CAAC;IACrG,MAAM,UAAU,oBAAoB,OAAO,CAAC,QAAQ;IACpD,OAAO;QACL,MAAM;QACN,SAAS;YAAC;YAAS,4BAA4B;SAA0B,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IACjG;AACF;AACA,SAAS,wBAAwB,WAAW,EAAE,WAAW;IACvD,OAAO;QACL,MAAM;QACN,SAAS,CAAC,aAAa,EAAE,YAAY;;AAEzC,EAAE,YAAY;AACd,CAAC;IACC;AACF;AACA,SAAS,qBAAqB,wBAAwB;IACpD,MAAM,kBAAkB,CAAC;;;;;;;gGAOqE,CAAC;IAC/F,MAAM,UAAU,gBAAgB,OAAO,CAAC,QAAQ;IAChD,OAAO;QACL,MAAM;QACN,SAAS;YAAC;YAAS,4BAA4B;SAA0B,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IACjG;AACF;AACA,SAAS,eAAe,MAAM,EAAE,gBAAgB,EAAE,SAAS;IACzD,IAAI,cAAc,CAAC,mFAAmF,EAAE,OAAO;;;;+CAIlE,EAAE,iBAAiB,IAAI,CAAC,MAAM;;;;;;;;;;;;;;;;;;;EAmB3E,CAAC;IACD,IAAI,aAAa,OAAO,IAAI,CAAC,WAAW,MAAM,GAAG,GAAG;QAClD,MAAM,gBAAgB,OAAO,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;QAC3E,MAAM,kBAAkB,CAAC,4DAA4D,EAAE,cAAc,qDAAqD,CAAC;QAC3J,eAAe,CAAC,CAAC,EAAE,iBAAiB;IACtC;IACA,OAAO;AACT;AACA,SAAS,mBAAmB,kBAAkB,EAAE,cAAc,EAAE,gBAAgB,EAAE,SAAS;IACzF,IAAI,cAAc,CAAC;gCACW,EAAE,mBAAmB;wEACmB,EAAE,eAAe;;;;;6CAK5C,EAAE,iBAAiB,IAAI,CAAC,MAAM;;;;;;EAMzE,CAAC;IACD,IAAI,aAAa,OAAO,IAAI,CAAC,WAAW,MAAM,GAAG,GAAG;QAClD,MAAM,gBAAgB,OAAO,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;QAC3E,MAAM,kBAAkB,CAAC,4DAA4D,EAAE,cAAc,qDAAqD,CAAC;QAC3J,eAAe,CAAC,CAAC,EAAE,iBAAiB;IACtC;IACA,OAAO;AACT;AACA,SAAS;IACP,OAAO;QACL,MAAM;QACN,SAAS,CAAC;gBACE,EAAE,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;;;AAG3E,CAAC;IACC;AACF;AAEA,2BAA2B;AAC3B,IAAI,aAAa;AACjB,IAAI,eAAe;AACnB,SAAS;IACP,MAAM,eAAe,aAAa,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;IAC9D,IAAI,CAAC,WAAW,OAAO,CAAC,UAAU,CAAC,eAAe;QAChD,WAAW,OAAO,CAAC,SAAS,CAAC,cAAc;YAAE,WAAW;QAAK;IAC/D;IACA,OAAO;AACT;AACA,SAAS,cAAc,aAAa,EAAE,KAAK;IACzC,MAAM,cAAc,mBAAmB;IACvC,MAAM,WAAW,GAAG,cAAc,QAAQ,CAAC;IAC3C,MAAM,eAAe,gBAAgB;IACrC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC;IAC5B,WAAW,OAAO,CAAC,aAAa,CAAC,aAAa,KAAK,SAAS,CAAC,cAAc,MAAM;AACnF;AACA,SAAS;IACP,OAAO,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW,GAAG,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,KAAK;AACzF;AACA,SAAS,wBAAwB,SAAS,EAAE,MAAM,EAAE,IAAI;IACtD,MAAM,UAAU;IAChB,MAAM,SAAS,aAAa,OAAO,CAAC,IAAI,CAAC,SAAS;IAClD,IAAI,CAAC,WAAW,OAAO,CAAC,UAAU,CAAC,SAAS;QAC1C,WAAW,OAAO,CAAC,SAAS,CAAC,QAAQ;YAAE,WAAW;QAAK;IACzD;IACA,MAAM,YAAY;IAClB,MAAM,WAAW,GAAG,UAAU,CAAC,EAAE,OAAO,IAAI,CAAC;IAC7C,MAAM,WAAW,aAAa,OAAO,CAAC,IAAI,CAAC,QAAQ;IACnD,WAAW,OAAO,CAAC,aAAa,CAC9B,UACA,KAAK,SAAS,CAAC,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ;IAEhD,OAAO;QAAE;QAAU;IAAU;AAC/B;AACA,SAAS,mBAAmB,aAAa;IACvC,MAAM,UAAU;IAChB,MAAM,SAAS,aAAa,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,cAAc,QAAQ,CAAC;IAC5E,IAAI,CAAC,WAAW,OAAO,CAAC,UAAU,CAAC,SAAS;QAC1C,WAAW,OAAO,CAAC,SAAS,CAAC,QAAQ;YAAE,WAAW;QAAK;IACzD;IACA,OAAO,aAAa,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,cAAc,aAAa,CAAC;AAC1E;AACA,SAAS,gBAAgB,aAAa;IACpC,MAAM,cAAc,mBAAmB;IACvC,MAAM,WAAW,GAAG,cAAc,QAAQ,CAAC;IAC3C,IAAI,CAAC,WAAW,OAAO,CAAC,UAAU,CAAC,cAAc;QAC/C,OAAO;YAAE,CAAC,SAAS,EAAE,EAAE;QAAC;IAC1B;IACA,IAAI;QACF,MAAM,MAAM,WAAW,OAAO,CAAC,YAAY,CAAC,aAAa;QACzD,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,IAAI,UAAU,OAAO,WAAW,YAAY,MAAM,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG;YAC3E,OAAO;QACT;IACF,EAAE,OAAO,GAAG,CACZ;IACA,OAAO;QAAE,CAAC,SAAS,EAAE,EAAE;IAAC;AAC1B;AAEA,mBAAmB;AACnB,SAAS,QAAQ,EAAE;IACjB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,WAAW,EACX,WAAW,EACX,MAAM,EACN,SAAS,EACT,MAAM,EACN,wBAAwB,EACxB,qBAAqB,KAAK,EAC3B;QACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;QAChE,MAAM,iBAAiB,WAAW,CAAC,CAAC,MAAM,CAAC;YACzC,UAAU,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACtC;YAEF,WAAW,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ,CACxC;QAEJ;QACA,MAAM,mBAAmB,UAAU,IAAI,KAAK;QAC5C,MAAM,SAAS,UAAU,SAAS,CAAC,QAAQ,CAAC;QAC5C,MAAM,sBAAsB;YAC1B,yBAAyB,kBAAkB;YAC3C,uBAAuB,aAAa,aAAa;SAClD;QACD,IAAI,kBAAkB;QACtB,IAAI,uBAAuB;QAC3B,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,wBAC9B,mBACA,gBACA;gBACE,WAAW;gBACX,UAAU;YACZ;YAEF,kBAAkB;YAClB,uBAAuB;QACzB;QACA,MAAM,mBAAmB,KAAK,GAAG;QACjC,MAAM,qBAAqB,MAAM,UAAU,oBAAoB,CAAC;YAC9D,SAAS;gBACP,UAAU;gBACV,gBAAgB;oBACd;oBACA,MAAM;gBACR;gBACA,aAAa,SAAS,IAAI;gBAC1B,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;YACpB;YACA;QACF;QACA,MAAM,iBAAiB,KAAK,GAAG;QAC/B,MAAM,EAAE,MAAM,aAAa,EAAE,OAAO,YAAY,EAAE,GAAG;QACrD,IAAI,sBAAsB;QAC1B,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,wBACnB,mBACA,oBACA;gBACE,eAAe;gBACf,aAAa;YACf;YAEF,sBAAsB;YACtB,cAAc,WAAW;gBACvB,wBAAwB;gBACxB,WAAW;gBACX,gBAAgB;gBAChB,iBAAiB;gBACjB,eAAe,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,aAAa,KAAK,OAAO,KAAK;gBAChG,mBAAmB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,iBAAiB,KAAK,OAAO,KAAK;gBACxG,kBAAkB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,gBAAgB,KAAK,OAAO,KAAK;gBACtG,qBAAqB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,mBAAmB,KAAK,OAAO,KAAK;gBAC5G,mBAAmB,iBAAiB;YACtC;QACF;QACA,MAAM,uBAAuB;YAC3B;YACA,oBAAoB,aAAa;SAClC;QACD,IAAI,mBAAmB;QACvB,IAAI,wBAAwB;QAC5B,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,wBAC9B,mBACA,iBACA;gBACE,WAAW;gBACX,UAAU;YACZ;YAEF,mBAAmB;YACnB,wBAAwB;QAC1B;QACA,MAAM,oBAAoB,KAAK,GAAG;QAClC,MAAM,mBAAmB,MAAM,UAAU,oBAAoB,CAAC;YAC5D,SAAS;gBACP,UAAU;gBACV,gBAAgB;oBACd,MAAM;oBACN,QAAQ;gBACV;gBACA,aAAa,SAAS,IAAI;gBAC1B,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;YACpB;YACA;QACF;QACA,MAAM,kBAAkB,KAAK,GAAG;QAChC,MAAM,EACJ,MAAM,EACJ,WAAW,yBAAyB,EACpC,UAAU,wBAAwB,EACnC,EACD,OAAO,qBAAqB,EAC7B,GAAG;QACJ,IAAI,uBAAuB;QAC3B,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,wBACnB,mBACA,qBACA;gBACE,eAAe;gBACf,WAAW;gBACX,UAAU;YACZ;YAEF,uBAAuB;YACvB,cAAc,WAAW;gBACvB,wBAAwB;gBACxB,WAAW;gBACX,gBAAgB;gBAChB,iBAAiB;gBACjB,eAAe,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,aAAa,KAAK,OAAO,KAAK;gBAClH,mBAAmB,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,iBAAiB,KAAK,OAAO,KAAK;gBAC1H,kBAAkB,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,gBAAgB,KAAK,OAAO,KAAK;gBACxH,qBAAqB,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,mBAAmB,KAAK,OAAO,KAAK;gBAC9H,mBAAmB,kBAAkB;YACvC;QACF;QACA,MAAM,oBAAoB,CAAC,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,aAAa,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,aAAa,KAAK,OAAO,KAAK,CAAC;QACtN,MAAM,wBAAwB,CAAC,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,iBAAiB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,iBAAiB,KAAK,OAAO,KAAK,CAAC;QAClO,MAAM,uBAAuB,iBAAiB,mBAAmB,CAAC,kBAAkB,iBAAiB;QACrG,MAAM,uBAAuB,CAAC,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,gBAAgB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,gBAAgB,KAAK,OAAO,KAAK,CAAC;QAC/N,MAAM,yBAAyB,CAAC,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,mBAAmB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,mBAAmB,KAAK,OAAO,KAAK,CAAC;QACvO,OAAO,cAAc,eAAe,CAAC,GAAG,gBAAgB;YACtD,UAAU;gBACR,WAAW;gBACX,UAAU;YACZ;YACA,eAAe;YACf,mBAAmB;YACnB,kBAAkB;YAClB,qBAAqB;YACrB,mBAAmB;QACrB;IACF;AACF;AACA,SAAS,QAAQ,EAAE;IACjB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,WAAW,EACX,WAAW,EACX,SAAS,EACT,wBAAwB,EACxB,MAAM,EACN,qBAAqB,KAAK,EAC3B;QACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;QACxB,MAAM,SAAS,UAAU,SAAS,CAAC,QAAQ,CAAC;QAC5C,MAAM,gBAAgB,WAAW,CAAC,CAAC,MAAM,CAAC;YACxC,UAAU,WAAW,CAAC,CAAC,KAAK,CAC1B,WAAW,CAAC,CAAC,MAAM,CAAC;gBAClB,WAAW,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACvC;gBAEF,aAAa,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACzC;gBAEF,QAAQ,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACpC;gBAEF,WAAW,WAAW,CAAC,CAAC,KAAK,CAC3B,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAC5B;YAGN,IACA,QAAQ,CAAC;QACb;QACA,MAAM,WAAW;YACf,yBAAyB;YACzB,wBAAwB,aAAa;SACtC;QACD,IAAI,gBAAgB;QACpB,IAAI,WAAW;QACf,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,wBAC9B,CAAC,eAAe,CAAC,EACjB,CAAC,YAAY,CAAC,EACd;gBACE,WAAW;gBACX;YACF;YAEF,WAAW;YACX,gBAAgB;QAClB;QACA,MAAM,QAAQ,KAAK,GAAG;QACtB,MAAM,cAAc,MAAM,UAAU,oBAAoB,CAAC;YACvD,SAAS;gBACP;gBACA,gBAAgB;oBACd,QAAQ;oBACR,MAAM;gBACR;gBACA,aAAa,SAAS,IAAI;gBAC1B,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;YACpB;YACA;QACF;QACA,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,cAAc,MAAM;QAC1B,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG;QACnD,MAAM,eAAe,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,aAAa,KAAK,OAAO,KAAK;QACtG,MAAM,mBAAmB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,iBAAiB,KAAK,OAAO,KAAK;QAC9G,MAAM,kBAAkB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,gBAAgB,KAAK,OAAO,KAAK;QAC5G,MAAM,oBAAoB,CAAC,KAAK,gBAAgB,OAAO,KAAK,IAAI,aAAa,mBAAmB,KAAK,OAAO,KAAK;QACjH,IAAI,eAAe;QACnB,IAAI,oBAAoB;YACtB,MAAM,EAAE,UAAU,gBAAgB,EAAE,GAAG,wBACrC,CAAC,eAAe,CAAC,EACjB,CAAC,gBAAgB,CAAC,EAClB;gBACE,eAAe;gBACf,aAAa;YACf;YAEF,eAAe;YACf,cAAc,WAAW;gBACvB,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE;gBAC5B,WAAW;gBACX,gBAAgB;gBAChB,iBAAiB;gBACjB,eAAe;gBACf,mBAAmB;gBACnB,kBAAkB;gBAClB,qBAAqB;gBACrB,mBAAmB;YACrB;QACF;QACA,MAAM,iBAAiB,CAAC,KAAK,CAAC,KAAK,YAAY,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC;YAClF,MAAM,OAAO;gBACX,WAAW,GAAG,SAAS;gBACvB,aAAa,OAAO,GAAG,WAAW;gBAClC,QAAQ,OAAO,GAAG,MAAM;gBACxB,WAAW,GAAG,SAAS;YACzB;YACA,OAAO;QACT,EAAE,KAAK,OAAO,KAAK,EAAE;QACrB,OAAO;YACL,UAAU;YACV,eAAe;YACf,mBAAmB;YACnB,kBAAkB;YAClB,qBAAqB;YACrB,mBAAmB;QACrB;IACF;AACF;AACA,SAAS,IAAI,EAAE;IACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,WAAW,EACX,WAAW,EACX,SAAS,EACT,wBAAwB,EACxB,MAAM,EACN,qBAAqB,KAAK,EAC3B;QACC,IAAI,IAAI,IAAI,IAAI;QAChB,MAAM,SAAS,UAAU,SAAS,CAAC,QAAQ,CAAC;QAC5C,MAAM,YAAY,WAAW,CAAC,CAAC,MAAM,CAAC;YACpC,WAAW,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACvC;YAEF,aAAa,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC5C,QAAQ,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACpC;YAEF,WAAW,WAAW,CAAC,CAAC,KAAK,CAC3B,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAC5B;YAGJ,SAAS,WAAW,CAAC,CAAC,OAAO;QAC/B;QACA,MAAM,WAAW;YACf,qBAAqB;YACrB,wBAAwB,aAAa;SACtC;QACD,IAAI,gBAAgB;QACpB,IAAI,WAAW;QACf,IAAI,oBAAoB;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,wBAC9B,CAAC,WAAW,CAAC,EACb,CAAC,QAAQ,CAAC,EACV;gBACE,WAAW;gBACX;YACF;YAEF,WAAW;YACX,gBAAgB;QAClB;QACA,MAAM,QAAQ,KAAK,GAAG;QACtB,MAAM,cAAc,MAAM,UAAU,oBAAoB,CAAC;YACvD,SAAS;gBACP;gBACA,gBAAgB;oBACd,QAAQ;oBACR,MAAM;gBACR;gBACA,aAAa,SAAS,IAAI;gBAC1B,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;YACpB;YACA;QACF;QACA,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,cAAc,MAAM;QAC1B,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,QAAQ,EAAE,GAAG;QAC3C,MAAM,eAAe,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,aAAa,KAAK,OAAO,KAAK;QAC9F,MAAM,mBAAmB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,iBAAiB,KAAK,OAAO,KAAK;QACtG,MAAM,kBAAkB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,gBAAgB,KAAK,OAAO,KAAK;QACpG,MAAM,oBAAoB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,mBAAmB,KAAK,OAAO,KAAK;QACzG,IAAI,eAAe;QACnB,IAAI,oBAAoB;YACtB,MAAM,EAAE,UAAU,gBAAgB,EAAE,GAAG,wBACrC,CAAC,WAAW,CAAC,EACb,CAAC,YAAY,CAAC,EACd;gBACE,eAAe;gBACf,aAAa;YACf;YAEF,eAAe;YACf,cAAc,OAAO;gBACnB,CAAC,CAAC,kBAAkB,CAAC,CAAC,EAAE;gBACxB,WAAW;gBACX,gBAAgB;gBAChB,iBAAiB;gBACjB,eAAe;gBACf,mBAAmB;gBACnB,kBAAkB;gBAClB,qBAAqB;gBACrB,mBAAmB;YACrB;QACF;QACA,MAAM,gBAAgB;YACpB,WAAW,QAAQ,SAAS;YAC5B,aAAa,OAAO,QAAQ,WAAW;YACvC,QAAQ,OAAO,QAAQ,MAAM;YAC7B,WAAW,QAAQ,SAAS;QAC9B;QACA,OAAO;YACL,SAAS;YACT,eAAe;YACf,mBAAmB;YACnB,kBAAkB;YAClB,qBAAqB;YACrB,mBAAmB;YACnB,SAAS,QAAQ,OAAO;QAC1B;IACF;AACF;AAEA,gCAAgC;AAChC;AAEA,iCAAiC;AACjC,IAAI;AACJ,IAAI,uBAAuB,WAAW,CAAC,CAAC,MAAM,CAAC;IAC7C,YAAY,WAAW,CAAC,CAAC,MAAM;AACjC;AACA,IAAI,iBAAiB,WAAW,CAAC,CAAC,MAAM,CAAC;IACvC,UAAU,WAAW,CAAC,CAAC,MAAM;AAC/B;AACA,IAAI,iBAAiB,aAAa,GAAG,CAAC,CAAC;IACrC,eAAe,CAAC,MAAM,GAAG;IACzB,eAAe,CAAC,UAAU,GAAG;IAC7B,eAAe,CAAC,UAAU,GAAG;IAC7B,eAAe,CAAC,QAAQ,GAAG;IAC3B,OAAO;AACT,CAAC,EAAE,kBAAkB,CAAC;AAEtB,gCAAgC;AAChC;AAEA,mCAAmC;AACnC,IAAI,4BAA4B,aAAa,GAAG,CAAC,CAAC;IAChD,0BAA0B,CAAC,QAAQ,GAAG;IACtC,0BAA0B,CAAC,OAAO,GAAG;IACrC,0BAA0B,CAAC,OAAO,GAAG;IACrC,0BAA0B,CAAC,QAAQ,GAAG;IACtC,0BAA0B,CAAC,SAAS,GAAG;IACvC,0BAA0B,CAAC,aAAa,GAAG;IAC3C,0BAA0B,CAAC,aAAa,GAAG;IAC3C,0BAA0B,CAAC,8BAA8B,GAAG;IAC5D,0BAA0B,CAAC,QAAQ,GAAG;IACtC,OAAO;AACT,CAAC,EAAE,6BAA6B,CAAC;AAEjC,kDAAkD;AAClD;AACA;AACA;AACA,IAAI,6BAA6B,cAAc;IAC7C,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AACA,SAAS,mBAAmB,KAAK;IAC/B,MAAM,IAAI,OAAO,SAAS,OAAO,QAAQ,IAAI,IAAI;IACjD,IAAI,MAAM,KAAK,OAAO;IACtB,IAAI,cAAc,IAAI,CAAC,IAAI,OAAO;IAClC,OAAO;AACT;AACA,SAAS,wBAAwB,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,kBAAkB;IACtF,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,cAAc,mBAAmB;QACvC,MAAM,UAAU,MAAM,uBACpB,MACA,OACA;QAEF,MAAM,aAAa,MAAM,YAAY;QACrC,SAAS;YACP,UAAU;YACV,SAAS;YACT,OAAO;YACP,WAAW;gBACT,OAAO;oBAAE,OAAO;oBAAa,MAAM;gBAAS;gBAC5C,QAAQ;oBAAE,OAAO;oBAAQ,MAAM;gBAAS;gBACxC,KAAK;oBAAE,OAAO;oBAAY,MAAM;gBAAS;YAC3C;QACF;QACA,MAAM,MAAM;YACV;YACA;YACA,OAAO;YACP,MAAM,KAAK,GAAG,CAAC,CAAC,IAAM,KAAK,OAAO,KAAK,OAAO;YAC9C;YACA;YACA;YACA;QACF;QACA,IAAI;YACF,MAAM,UAAU,CAAC,KAAK,kBAAkB,CAAC,OAAO,KAAK,OAAO,KAAK;YACjE,IAAI,SAAS;gBACX,MAAM,QAAQ;YAChB,OAAO;gBACL,OAAQ;oBACN,KAAK;wBACH,MAAM,aAAa;wBACnB;oBACF,KAAK;wBACH,MAAM,WAAW;wBACjB;oBACF,KAAK;wBACH,MAAM,SAAS;wBACf;oBACF;wBACE,SAAS;4BACP,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCAAE,QAAQ;oCAAE,OAAO;oCAAQ,MAAM;gCAAS;4BAAE;wBACzD;wBACA,MAAM,IAAI,2BACR,CAAC,OAAO,EAAE,OAAO,cAAc,CAAC;gBAEtC;YACF;YACA,MAAM,yBAAyB,UAAU,aAAa,YAAY;QACpE,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,MAAM,QAAQ,aAAa,QAAQ,EAAE,KAAK,GAAG,KAAK;YAClD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,OAAO;wBAAE,OAAO,SAAS,OAAO,QAAQ;wBAAI,MAAM;oBAAS;oBAC3D,QAAQ;wBAAE,OAAO;wBAAQ,MAAM;oBAAS;oBACxC,OAAO;wBAAE,OAAO;wBAAa,MAAM;oBAAS;oBAC5C,MAAM;wBAAE,OAAO,KAAK,SAAS,CAAC;wBAAO,MAAM;oBAAS;gBACtD;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,IAAI,qBAAqB;IACvB;IACA;IACA,UAAU;IACV,QAAQ;IACR,eAAe;IACf,MAAM;IACN,MAAM;IACN,OAAO;IACP,OAAO;IACP;IACA;IACA,WAAW;IACX,WAAW;IACX,0BAA0B;IAC1B;IACA;AACF;AACA,SAAS,aAAa,GAAG;IACvB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QACjC,IAAI;YACF,MAAM,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,EAAE,KAAK;YAClE,MAAM,QAAQ,YAAY,CAAC;QAC7B,EAAE,OAAO,GAAG;YACV,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO,EAAE,OAAO;wBAAE,MAAM;oBAAS;oBAC1C,OAAO;wBAAE,OAAO,EAAE,KAAK;wBAAE,MAAM;oBAAS;oBACxC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B,EAAE,OAAO;QAChD;IACF;AACF;AACA,SAAS,eAAe,GAAG;IACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAC3B,SAAS;YACP,UAAU;YACV,SAAS;YACT,OAAO;YACP,WAAW;gBAAE,OAAO;oBAAE,OAAO;oBAAO,MAAM;gBAAS;YAAE;QACvD;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,WAAW;QAC9C,MAAM,gBAAgB,QAAQ,QAAQ,GAAG,OAAO;QAChD,MAAM,cAAc,IAAI,CAAC,8BAA8B;YAAE;QAAS;QAClE,MAAM,cAAc,IAAI,CAAC,yBAAyB;YAAE;QAAS,GAAG,KAAK,CAAC,KACtE;IACF;AACF;AACA,SAAS,0BAA0B,GAAG;IACpC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QACjC,SAAS;YACP,UAAU;YACV,SAAS;YACT,OAAO;YACP,WAAW;gBACT,OAAO;oBAAE,OAAO;oBAAO,MAAM;gBAAS;gBACtC,YAAY;oBAAE,OAAO,KAAK,SAAS,CAAC;oBAAO,MAAM;gBAAS;YAC5D;QACF;QACA,MAAM,CAAC,OAAO,IAAI,CAAC,GAAG;QACtB,MAAM,QAAQ,QAAQ,CAAC;IACzB;AACF;AACA,SAAS,oBAAoB,GAAG;IAC9B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI;QACR,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG;QAChC,MAAM,KAAK,OAAO,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QAChD,MAAM,KAAK,OAAO,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QAChD,IAAI;YACF,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,QAAQ,QAAQ;YACvC,MAAM,KAAK,MAAM,CAAC,GAAG,GAAG,IAAI;QAC9B,EAAE,OAAO,GAAG;YACV,MAAM,IAAI,2BAA2B,EAAE,OAAO;QAChD;IACF;AACF;AACA,SAAS,YAAY,GAAG;IACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QACxB,MAAM,SAAS,OAAO,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QACpD,SAAS;YACP,UAAU;YACV,SAAS;YACT,OAAO;YACP,WAAW;gBAAE,QAAQ;oBAAE,OAAO,OAAO;oBAAS,MAAM;gBAAS;YAAE;QACjE;QACA,MAAM,MAAM,OAAO,CAAC,IAAI,CAAC,4BAA4B;YACnD,MAAM;YACN,GAAG;YACH,GAAG;YACH;YACA,QAAQ;QACV;IACF;AACF;AACA,SAAS,WAAW,GAAG;IACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QACjC,IAAI;YACF,MAAM,QAAQ,IAAI,CAAC;YACnB,MAAM,QAAQ,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QACnD,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,SAAS,SAAS,GAAG;IACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QACjC,IAAI;YACF,MAAM,QAAQ,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QACnD,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,SAAS,SAAS,GAAG;IACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;QAC9B,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK;QAC1C,IAAI;YACF,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,KAAK;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBAClC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,KAAK,QAAQ,CAAC;QACtB,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,KAAK;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBAClC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,SAAS,aAAa,GAAG;IACvB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAC3B,IAAI;YACF,MAAM,QAAQ,KAAK;QACrB,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,oBAAoB,IAAI,KAAK,EAAE;QAC3C;IACF;AACF;AACA,SAAS,YAAY,GAAG;IACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAC3B,IAAI;YACF,MAAM,QAAQ,KAAK,CAAC;gBAAE,YAAY;YAAE;QACtC,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,SAAS,YAAY,GAAG;IACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;QAC9C,MAAM,UAAU,OAAO,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,IAAI;QAC7D,IAAI,CAAC,SACH,MAAM,IAAI,2BACR;QAEJ,MAAM,gBAAgB,MAAM,uBAAuB,MAAM,OAAO;QAChE,IAAI;YACF,MAAM,EAAE,GAAG,UAAU,EAAE,GAAG,UAAU,EAAE,GAAG,MAAM,QAAQ,QAAQ;YAC/D,MAAM,EAAE,GAAG,QAAQ,EAAE,GAAG,QAAQ,EAAE,GAAG,MAAM,cAAc,QAAQ;YACjE,MAAM,UAAU,MAAM,QAAQ,QAAQ,GAAG,QAAQ,CAC/C,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;gBACP,IAAI,IAAI;gBACR,IAAI,IAAI;gBACR,IAAI,IAAI;gBACR,MAAO,MAAM,EAAE,GAAG,CAAE;oBAClB,MAAM,KAAK,EAAE,YAAY;oBACzB,IAAI,CAAC,IAAI;oBACT,MAAM,IAAI,GAAG,qBAAqB;oBAClC,KAAK,EAAE,IAAI;oBACX,KAAK,EAAE,GAAG;oBACV,IAAI,EAAE,MAAM;gBACd;gBACA,OAAO;oBAAE,GAAG,KAAK,KAAK,CAAC;oBAAI,GAAG,KAAK,KAAK,CAAC;gBAAG;YAC9C,GACA;gBAAE,GAAG;gBAAY,GAAG;YAAW;YAEjC,MAAM,QAAQ,MAAM,cAAc,QAAQ,GAAG,QAAQ,CACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;gBACP,IAAI,IAAI;gBACR,IAAI,IAAI;gBACR,IAAI,IAAI;gBACR,MAAO,MAAM,EAAE,GAAG,CAAE;oBAClB,MAAM,KAAK,EAAE,YAAY;oBACzB,IAAI,CAAC,IAAI;oBACT,MAAM,IAAI,GAAG,qBAAqB;oBAClC,KAAK,EAAE,IAAI;oBACX,KAAK,EAAE,GAAG;oBACV,IAAI,EAAE,MAAM;gBACd;gBACA,OAAO;oBAAE,GAAG,KAAK,KAAK,CAAC;oBAAI,GAAG,KAAK,KAAK,CAAC;gBAAG;YAC9C,GACA;gBAAE,GAAG;gBAAU,GAAG;YAAS;YAE7B,MAAM,KAAK,WAAW,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE;gBAC7D,OAAO;gBACP,OAAO;YACT;QACF,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;YACpD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO;wBAAK,MAAM;oBAAS;oBACpC,MAAM;wBAAE,OAAO;wBAAO,MAAM;oBAAS;oBACrC,IAAI;wBAAE,OAAO;wBAAS,MAAM;oBAAS;gBACvC;YACF;YACA,MAAM,IAAI,2BAA2B;QACvC;IACF;AACF;AACA,SAAS,kBAAkB,GAAG;IAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,sBACJ,KACA,MAAM,GACN;IAEJ;AACF;AACA,SAAS,sBAAsB,GAAG;IAChC,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,sBACJ,KACA,MAAM,GACN,CAAC;IAEL;AACF;AACA,SAAS,sBAAsB,GAAG,EAAE,SAAS;IAC3C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAC3B,SAAS;YACP,UAAU;YACV,SAAS,YAAY,IAAI,4BAA4B;YACrD,OAAO;YACP,WAAW;gBAAE,OAAO;oBAAE,OAAO;oBAAO,MAAM;gBAAS;YAAE;QACvD;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,WAAW;QAC9C,IAAI;YACF,MAAM,gBAAgB,QAAQ,QAAQ,GAAG,OAAO;YAChD,MAAM,cAAc,IAAI,CACtB,0BACA;gBACE;gBACA,qBAAqB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;QAwBxB,CAAC;gBACC,WAAW;oBAAC;wBAAE,OAAO;oBAAU;iBAAE;gBACjC,cAAc;gBACd,eAAe;YACjB;QAEJ,SAAU;YACR,MAAM,gBAAgB,QAAQ,QAAQ,GAAG,OAAO;YAChD,MAAM,cAAc,IAAI,CAAC,yBAAyB;gBAAE;YAAS,GAAG,KAAK,CAAC,KACtE;QACF;IACF;AACF;AACA,SAAS,MAAM,GAAG;IAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAC3B,IAAI;YACF,MAAM,QAAQ,KAAK;QACrB,EAAE,OAAO,GAAG;YACV,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,OAAO;wBAAE,OAAO,EAAE,OAAO;wBAAE,MAAM;oBAAS;oBAC1C,OAAO;wBAAE,OAAO,EAAE,KAAK;wBAAE,MAAM;oBAAS;oBACxC,OAAO;wBAAE,OAAO;wBAAO,MAAM;oBAAS;gBACxC;YACF;YACA,MAAM,IAAI,2BAA2B,EAAE,OAAO;QAChD;IACF;AACF;AACA,SAAS,YAAY,KAAK;IACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,MAAM,MAAM,MAAM,QAAQ,CAAC;QACjC,OAAO;IACT;AACF;AACA,SAAS,uBAAuB,KAAK,EAAE,SAAS;IAC9C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,UAAU,OAAO,cAAc,WAAW,YAAY;QAC5D,MAAM,SAAS,MAAM,OAAO;QAC5B,IAAI;QACJ,IAAI;YACF,MAAM,KAAK,MAAM,MAAM,QAAQ,CAAC;YAChC,SAAS,OAAO,iBAAiB,OAAO;QAC1C,EAAE,OAAO,GAAG;YACV,SAAS;QACX;QACA,IAAI,CAAC,QAAQ;YACX,MAAM,MAAM,gBAAgB,CAAC,oBAAoB,KAAK,CAAC,KACvD;QACF;QACA,MAAM,OAAO,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC1C;QACA,MAAM,OAAO,IAAI,CAAC,eAAe,KAAK,CAAC,KACvC;QACA,MAAM,OAAO,IAAI,CAAC,wBAAwB;YACxC,YAAY;YACZ,wBAAwB;YACxB,SAAS;YACT,QAAQ;gBACN;oBAAE,MAAM;oBAAU,SAAS;gBAAK;gBAChC;oBAAE,MAAM;oBAAiB,SAAS;gBAAK;aACxC;QACH,GAAG,KAAK,CAAC,KACT;QACA,OAAO,IAAI,QAAQ,CAAC;YAClB,MAAM,WAAW,aAAa,GAAG,IAAI;YACrC,MAAM,OAAO,aAAa,GAAG,IAAI;YACjC,MAAM,aAAa,aAAa,GAAG,IAAI;YACvC,IAAI,aAAa;YACjB,IAAI,2BAA2B;YAC/B,MAAM,aAAa;gBACjB,IAAI,YAAY;oBACd,aAAa;oBACb,aAAa;gBACf;YACF;YACA,MAAM,aAAa;gBACjB,IAAI,SAAS,IAAI,KAAK,KAAK,CAAC,YAC1B,aAAa,WAAW,IAAM,eAAe;YACjD;YACA,MAAM,YAAY,CAAC;gBACjB,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK;gBAC1B,KAAK,MAAM,CAAC;gBACZ,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,WACvB,IAAI,QAAQ,IAAI,WAAW,MAAM,CAAC;gBACpC;gBACA;YACF;YACA,MAAM,YAAY,CAAC;gBACjB,IAAI,EAAE,IAAI,KAAK,eAAe,EAAE,IAAI,KAAK,eAAe;gBACxD,SAAS,GAAG,CAAC,EAAE,SAAS;gBACxB,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE;oBAAE,KAAK,EAAE,OAAO,CAAC,GAAG;oBAAE,OAAO,KAAK,GAAG;gBAAG;gBAC9D,IAAI,EAAE,IAAI,KAAK,cAAc,EAAE,OAAO,EACpC,WAAW,GAAG,CAAC,EAAE,OAAO,EAAE,EAAE,SAAS;gBACvC;YACF;YACA,MAAM,WAAW,CAAC,IAAM,UAAU,EAAE,SAAS;YAC7C,MAAM,WAAW,CAAC,IAAM,UAAU,EAAE,SAAS;YAC7C,MAAM,YAAY,CAAC;gBACjB,IAAI;gBACJ,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,CAAC,UAAU,UAAU,EAAE,SAAS;YAC5F;YACA,MAAM,cAAc,CAAC;gBACnB,MAAM,KAAK,WAAW,GAAG,CAAC,EAAE,OAAO;gBACnC,IAAI,IAAI,UAAU;YACpB;YACA,OAAO,EAAE,CAAC,6BAA6B;YACvC,OAAO,EAAE,CAAC,2BAA2B;YACrC,OAAO,EAAE,CAAC,yBAAyB;YACnC,OAAO,EAAE,CAAC,kCAAkC;YAC5C,OAAO,EAAE,CAAC,4BAA4B;YACtC,OAAO,EAAE,CAAC,4BAA4B;YACtC,2BAA2B,YAAY;gBACrC,IAAI;gBACJ,MAAM,OAAO,KAAK,GAAG;gBACrB,KAAK,MAAM,CAAC,IAAI,EAAE,IAAI,KAAM;oBAC1B,IAAI,OAAO,EAAE,KAAK,GAAG,KAAK;wBACxB,SAAS,MAAM,CAAC;wBAChB,KAAK,MAAM,CAAC;wBACZ,SAAS;4BACP,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,KAAK;oCAAE,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,KAAK,OAAO,KAAK,EAAE,EAAE,KAAK,CAAC,GAAG;oCAAM,MAAM;gCAAS;4BAC/E;wBACF;oBACF;gBACF;gBACA;YACF,GAAG;YACH;YACA,MAAM,QAAQ,WAAW;gBACvB,IAAI,SAAS,IAAI,EAAE;oBACjB,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,OAAO;gCAAE,OAAO,OAAO,SAAS,IAAI;gCAAG,MAAM;4BAAU;wBACzD;oBACF;gBACF;gBACA;YACF,GAAG;YACH,MAAM,cAAc;gBAClB,OAAO,GAAG,CAAC,6BAA6B;gBACxC,OAAO,GAAG,CAAC,2BAA2B;gBACtC,OAAO,GAAG,CAAC,yBAAyB;gBACpC,OAAO,GAAG,CAAC,kCAAkC;gBAC7C,OAAO,GAAG,CAAC,4BAA4B;gBACvC,OAAO,GAAG,CAAC,4BAA4B;gBACvC,IAAI,YAAY,aAAa;gBAC7B,IAAI,0BAA0B,cAAc;gBAC5C,aAAa;gBACb;YACF;QACF;IACF;AACF;AACA,SAAS,yBAAyB,iBAAiB,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK;IAC3E,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,SAAS;YACP,UAAU;YACV,SAAS,GAAG,kBAAkB,8BAA8B,CAAC;YAC7D,OAAO;YACP,WAAW;gBAAE,OAAO;oBAAE,OAAO;oBAAO,MAAM;gBAAS;YAAE;QACvD;QACA,MAAM,WAAW,MAAM,YAAY;QACnC,IAAI,aAAa,YAAY;YAC3B,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBAAE,KAAK;wBAAE,OAAO;wBAAU,MAAM;oBAAS;gBAAE;YACxD;QACF,OAAO;YACL,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBAAE,KAAK;wBAAE,OAAO;wBAAU,MAAM;oBAAS;gBAAE;YACxD;QACF;IACF;AACF;AAEA,gCAAgC;AAChC,IAAI,aAAa;IACf,YAAY,SAAS,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,YAAY,EAAE,kBAAkB,EAAE,QAAQ,EAAE,SAAS,EAAE,yBAAyB,CAAE;QACjK,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,YAAY,GAAG,gBAAgB,OAAO,eAAe;QAC1D,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,OAAO,qBAAqB;QAC5E,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,yBAAyB,GAAG;IACnC;IACA,IAAI,MAAM,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;YACzD,MAAM,YAAY,IAAI,CAAC,gBAAgB,CAAC;YACxC,MAAM,kBAAkB,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAChD,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;oBACxD,MAAM,uBACJ,KAAK,SAAS,IACd,IAAI,CAAC,yBAAyB;oBAEhC,MAAM,WAAW,MAAM,sBAAsB,MAAM;wBACjD,cAAc;oBAChB;oBACA,MAAM,eAAe,SAAS,YAAY;oBAC1C,MAAM,mBAAmB,CAAC,KAAK,SAAS,gBAAgB,KAAK,OAAO,KAAK,CAAC;oBAC1E,MAAM,wBAAwB,eAC5B,aACA,OAAO,MAAM,CAAC,4BACd;oBAEF,MAAM,uBAAuB,MAAM,IAAI;wBACrC,aAAa;wBACb,aAAa;wBACb;wBACA,0BAA0B,IAAI,CAAC,YAAY;wBAC3C,QAAQ;wBACR,oBAAoB,IAAI,CAAC,kBAAkB;oBAC7C;oBACA,MAAM,kBAAkB,CAAC,KAAK,qBAAqB,aAAa,KAAK,OAAO,KAAK;oBACjF,MAAM,sBAAsB,CAAC,KAAK,qBAAqB,iBAAiB,KAAK,OAAO,KAAK;oBACzF,MAAM,qBAAqB,CAAC,KAAK,qBAAqB,gBAAgB,KAAK,OAAO,KAAK;oBACvF,MAAM,uBAAuB,CAAC,KAAK,qBAAqB,mBAAmB,KAAK,OAAO,KAAK;oBAC5F,MAAM,qBAAqB,CAAC,KAAK,qBAAqB,iBAAiB,KAAK,OAAO,KAAK;oBACxF,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC9C,IAAI,EACJ,MAAM,OAAO,KACb,iBACA,qBACA,oBACA,sBACA;oBAEF,MAAM,MAAM,qBAAqB,OAAO;oBACxC,MAAM,SAAS,CAAC;wBACd,IAAI,CAAC,KAAK,OAAO,KAAK;wBACtB,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,IAAI,EAAE,GAAG;wBAC5D,IAAI,CAAC,UAAU,WAAW,mBAAmB,CAAC,MAAM,OAAO,CAAC,OAAO;4BACjE,OAAO,KAAK;wBACd;wBACA,IAAI,OAAO,cAAc,YAAY,UAAU,QAAQ,CAAC,MAAM;4BAC5D,MAAM,KAAK,gBAAgB,CAAC,UAAU;4BACtC,MAAM,UAAU,qBAAqB;4BACrC,IAAI,CAAC,SAAS,OAAO,KAAK;4BAC1B,OAAO;gCACL;gCACA;gCACA,WAAW;gCACX,UAAU,CAAC,MAAM,EAAE,SAAS;4BAC9B;wBACF;wBACA,OAAO,KAAK;oBACd,CAAC;oBACD,IAAI,CAAC,QAAQ;wBACX,SAAS;4BACP,UAAU;4BACV,SAAS;4BACT,OAAO;wBACT;wBACA,OAAO;4BACL,SAAS;4BACT,SAAS;4BACT,mBAAmB;4BACnB,SAAS,EAAE;wBACb;oBACF;oBACA,MAAM,SAAS,eAAe,CAAC,GAAG;oBAClC,IAAI,aAAa,MAAM,OAAO,CAAC,OAAO,SAAS,GAAG;wBAChD,OAAO,SAAS,GAAG,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC;4BACvC,IAAI,MAAM;4BACV,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,OAAO,OAAO,CAAC,WAAY;gCAC9C,MAAM,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gCACtB,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,OAAO;4BACrC;4BACA,OAAO;wBACT;oBACF;oBACA,MAAM,cAAc,MAAM,IAAI,CAAC,oBAAoB,CACjD,QACA,MACA,IAAI,CAAC,yBAAyB,EAC9B;oBAEF,MAAM,UAAU,CAAC,CAAC,qBAAqB,OAAO;oBAC9C,IAAI,CAAC,SAAS;wBACZ,OAAO;oBACT;oBACA,MAAM,iBAAiB,MAAM,sBAAsB,MAAM;wBACvD,cAAc;oBAChB;oBACA,MAAM,gBAAgB,eAAe,YAAY;oBACjD,IAAI,aAAa,kBAAkB,cAAc;oBACjD,IAAI,CAAC,WAAW,IAAI,IAAI;wBACtB,aAAa;oBACf;oBACA,MAAM,oBAAoB,CAAC,KAAK,eAAe,gBAAgB,KAAK,OAAO,KAAK,CAAC;oBACjF,MAAM,iBAAiB,CAAC,QAAQ,EAAE,OAAO,MAAM,CAAC,eAAe,EAAE,OAAO,WAAW,CAAC,aAAa,EAAE,OAAO,SAAS,EAAE;oBACrH,MAAM,sBAAsB,mBAC1B,aACA,gBACA,OAAO,MAAM,CAAC,2BAA2B,MAAM,CAC7C,CAAC,SAAW,WAAW,2BAA2B,+BAA+B,MAEnF;oBAEF,MAAM,UAAU,MAAM,IAAI;wBACxB,aAAa;wBACb,aAAa;wBACb;wBACA,0BAA0B,IAAI,CAAC,YAAY;wBAC3C,QAAQ;wBACR,oBAAoB,IAAI,CAAC,kBAAkB;oBAC7C;oBACA,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC9C,IAAI,EACJ,MAAM,OAAO,KACb,CAAC,KAAK,QAAQ,aAAa,KAAK,OAAO,KAAK,GAC5C,CAAC,KAAK,QAAQ,iBAAiB,KAAK,OAAO,KAAK,GAChD,CAAC,KAAK,QAAQ,gBAAgB,KAAK,OAAO,KAAK,GAC/C,CAAC,KAAK,QAAQ,mBAAmB,KAAK,OAAO,KAAK,GAClD,CAAC,KAAK,QAAQ,iBAAiB,KAAK,OAAO,KAAK;oBAElD,MAAM,OAAO,QAAQ,OAAO;oBAC5B,MAAM,UAAU,CAAC;wBACf,IAAI,CAAC,MAAM,OAAO,KAAK;wBACvB,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,IAAI,EAAE,GAAG;wBAC5D,IAAI,CAAC,UAAU,WAAW,mBAAmB,CAAC,MAAM,OAAO,CAAC,OAAO;4BACjE,OAAO,KAAK;wBACd;wBACA,IAAI,OAAO,cAAc,YAAY,UAAU,QAAQ,CAAC,MAAM;4BAC5D,MAAM,KAAK,iBAAiB,CAAC,UAAU;4BACvC,MAAM,UAAU,qBAAqB;4BACrC,IAAI,CAAC,SAAS,OAAO,KAAK;4BAC1B,OAAO;gCACL;gCACA;gCACA,WAAW;gCACX,UAAU,CAAC,MAAM,EAAE,SAAS;4BAC9B;wBACF;wBACA,OAAO,KAAK;oBACd,CAAC;oBACD,IAAI,CAAC,SAAS;wBACZ,OAAO;oBACT;oBACA,MAAM,UAAU,eAAe,CAAC,GAAG;oBACnC,IAAI,aAAa,MAAM,OAAO,CAAC,QAAQ,SAAS,GAAG;wBACjD,QAAQ,SAAS,GAAG,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC;4BACzC,IAAI,MAAM;4BACV,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,OAAO,OAAO,CAAC,WAAY;gCAC9C,MAAM,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gCACtB,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,OAAO;4BACrC;4BACA,OAAO;wBACT;oBACF;oBACA,MAAM,eAAe,MAAM,IAAI,CAAC,oBAAoB,CAClD,SACA,MACA,IAAI,CAAC,yBAAyB,EAC9B;oBAEF,OAAO;wBACL,SAAS,YAAY,OAAO,IAAI,aAAa,OAAO;wBACpD,SAAS,aAAa,OAAO,GAAG,GAAG,YAAY,OAAO,CAAC,QAAQ,EAAE,aAAa,OAAO,EAAE,GAAG,GAAG,YAAY,OAAO,CAAC,QAAQ,EAAE,aAAa,OAAO,EAAE;wBACjJ,mBAAmB,YAAY,iBAAiB;wBAChD,SAAS;+BACJ,YAAY,OAAO,IAAI,EAAE;+BACzB,aAAa,OAAO,IAAI,EAAE;yBAC9B;oBACH;gBACF;YACA,IAAI,CAAC,SAAS;gBACZ,OAAO;YACT;YACA,OAAO,MAAM,QAAQ,IAAI,CAAC;gBACxB;gBACA,IAAI,QAAQ,CAAC,GAAG;oBACd,WACE,IAAM,OAAO,IAAI,MAAM,CAAC,sBAAsB,EAAE,QAAQ,EAAE,CAAC,IAC3D;gBAEJ;aACD;QACH;IACF;IACA,qBAAqB,MAAM,EAAE,IAAI,EAAE,kBAAkB,EAAE,iBAAiB,EAAE;QACxE,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAChC,MAAM,gBAAgB,sBAAsB,OAAO,qBAAqB,IAAI,CAAC,yBAAyB;YACtG,MAAM,kBAAkB,qBAAqB,OAAO,oBAAoB,IAAI,CAAC,SAAS;YACtF,MAAM,SAAS,CAAC,KAAK,OAAO,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;YAC9D,IAAI,CAAC,UAAU,WAAW,iBAAiB;gBACzC,SAAS;oBACP,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,KAAK;4BAAE,OAAO,KAAK,SAAS,CAAC;4BAAS,MAAM;wBAAS;oBACvD;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,SAAS,CAAC,sCAAsC,EAAE,UAAU,OAAO,SAAS,GAAG,+EAA+E,CAAC;oBAC/J,mBAAmB,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,UAAU,OAAO,SAAS,UAAU,CAAC,CAAC;oBAC1F,SAAS,EAAE;gBACb;YACF;YACA,MAAM,OAAO,MAAM,OAAO,CAAC,OAAO,SAAS,IAAI,OAAO,SAAS,GAAG,EAAE;YACpE,IAAI;gBACF,MAAM,wBACJ,MACA,KAAK,SAAS,IACd,QACA,OAAO,QAAQ,EACf,MACA;gBAEF,OAAO;oBACL,SAAS;oBACT,SAAS,CAAC,QAAQ,EAAE,OAAO,sCAAsC,EAAE,OAAO,QAAQ,EAAE;oBACpF,mBAAmB,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oBAC7D,SAAS;wBACP;4BACE,UAAU,OAAO,QAAQ;4BACzB,aAAa,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;4BACvD;4BACA,WAAW;wBACb;qBACD;gBACH;YACF,EAAE,OAAO,KAAK;gBACZ,MAAM,MAAM,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;gBACxD,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,OAAO;gCAAE,OAAO;gCAAK,MAAM;4BAAS;4BACpC,QAAQ;gCACN,OAAO,KAAK,SAAS,CAAC;gCACtB,MAAM;4BACR;wBACF;oBACF;oBACA,IAAI;wBACF,MAAM,aAAa,OAAO,WAAW,GAAG,OAAO,WAAW,CAAC,WAAW,GAAG,UAAU,CAAC,OAAO,WAAW,MAAM,OAAO,WAAW,GAAG,GAAG,OAAO,CAAC,EAAE,OAAO,WAAW,EAAE,GAAG;wBACrK,MAAM,WAAW,MAAM,sBAAsB,MAAM;4BACjD,cAAc;wBAChB;wBACA,MAAM,eAAe,SAAS,YAAY;wBAC1C,MAAM,cAAc,eAClB,YACA,OAAO,MAAM,CAAC,4BACd,CAAC;wBAEH,MAAM,uBAAuB,MAAM,IAAI;4BACrC;4BACA,aAAa;4BACb,WAAW;4BACX,0BAA0B,IAAI,CAAC,YAAY;4BAC3C,QAAQ;4BACR,oBAAoB,IAAI,CAAC,kBAAkB;wBAC7C;wBACA,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC9C,IAAI,EACJ,MAAM,OAAO,KACb,CAAC,KAAK,qBAAqB,aAAa,KAAK,OAAO,KAAK,GACzD,CAAC,KAAK,qBAAqB,iBAAiB,KAAK,OAAO,KAAK,GAC7D,CAAC,KAAK,qBAAqB,gBAAgB,KAAK,OAAO,KAAK,GAC5D,CAAC,KAAK,qBAAqB,mBAAmB,KAAK,OAAO,KAAK,GAC/D,CAAC,KAAK,qBAAqB,iBAAiB,KAAK,OAAO,KAAK;wBAE/D,MAAM,WAAW,qBAAqB,OAAO;wBAC7C,IAAI,CAAC,UAAU;4BACb,OAAO;gCACL,SAAS;gCACT,SAAS;gCACT,mBAAmB;gCACnB,SAAS,EAAE;4BACb;wBACF;wBACA,IAAI,cAAc,OAAO,QAAQ;wBACjC,IAAI,OAAO,SAAS,SAAS,KAAK,UAAU;4BAC1C,MAAM,MAAM,SAAS,SAAS;4BAC9B,MAAM,QAAQ,CAAC,CAAC,KAAK,SAAS,gBAAgB,KAAK,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI;4BACvE,MAAM,UAAU,qBAAqB;4BACrC,IAAI,SAAS,cAAc,CAAC,MAAM,EAAE,SAAS;wBAC/C;wBACA,MAAM,wBACJ,MACA,KAAK,SAAS,IACd,QACA,aACA,MACA;wBAEF,OAAO;4BACL,SAAS;4BACT,SAAS,CAAC,QAAQ,EAAE,OAAO,sCAAsC,EAAE,aAAa;4BAChF,mBAAmB,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;4BAC7D,SAAS;gCACP;oCACE,UAAU;oCACV,aAAa,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oCACvD;oCACA,WAAW;gCACb;6BACD;wBACH;oBACF,EAAE,OAAO,UAAU;wBACjB,MAAM,WAAW,oBAAoB,QAAQ,SAAS,OAAO,GAAG,OAAO;wBACvE,OAAO;4BACL,SAAS;4BACT,SAAS,CAAC,uCAAuC,EAAE,UAAU;4BAC7D,mBAAmB,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;4BAC7D,SAAS,EAAE;wBACb;oBACF;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,SAAS,CAAC,uBAAuB,EAAE,KAAK;oBACxC,mBAAmB,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oBAC7D,SAAS,EAAE;gBACb;YACF;QACF;IACF;AACF;AAEA,oCAAoC;AACpC;AACA;AACA,IAAI;AACJ;AACA,SAAS,gCAAgC,MAAM;IAC7C,MAAM,CAAC,aAAa,SAAS,GAAG,gBAAgB,QAAQ,EAAE;IAC1D,OAAO;QAAC;QAAa;KAAS;AAChC;AACA,IAAI,iBAAiB;IACnB,YAAY,SAAS,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,YAAY,EAAE,kBAAkB,EAAE,YAAY,EAAE,SAAS,CAAE;QAC1I,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,YAAY,GAAG,gBAAgB,OAAO,eAAe;QAC1D,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,OAAO,qBAAqB;QAC5E,IAAI,CAAC,YAAY,GAAG,gBAAgB,OAAO,eAAe;QAC1D,IAAI,CAAC,SAAS,GAAG;IACnB;IACA,QAAQ,MAAM,EAAE;QACd,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;YAChE,MAAM,YAAY,IAAI,CAAC,gBAAgB,CAAC;YACxC,MAAM,YAAY,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC1C,IAAI,IAAI,IAAI,IAAI;oBAChB,MAAM,SAAS,CAAC,eAAe,CAAC;oBAChC,IAAI,QAAQ;wBACV,MAAM,iBAAiB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,OAAO,CAAC,YAAY,GAAG,KAAK,OAAO,KAAK;wBAC1G,MAAM,OAAO,MAAM,sBAAsB,MAAM;4BAC7C,cAAc,IAAI,CAAC,YAAY;4BAC/B,eAAe,kBAAkB,KAAK;wBACxC;wBACA,MAAM,SAAS;4BAAE,UAAU,KAAK,YAAY;wBAAC;wBAC7C,OAAO,eAAe,KAAK,CAAC;oBAC9B;oBACA,IAAI,CAAC,eAAe,QAAQ;wBAC1B,MAAM,IAAI,8BACR;oBAEJ;oBACA,MAAM,gBAAgB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,OAAO,CAAC,WAAW,GAAG,KAAK,OAAO,KAAK;oBACxG,MAAM,EAAE,YAAY,EAAE,cAAc,EAAE,GAAG,MAAM,sBAC7C,MACA;wBACE,cAAc,IAAI,CAAC,YAAY;wBAC/B;oBACF;oBAEF,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW,cAAc;4BAAE,aAAa;gCAAE,OAAO;gCAAa,MAAM;4BAAS;wBAAE,IAAI,KAAK;oBAC1F;oBACA,MAAM,aAAa,UAAU,OAAO,SAAS;oBAC7C,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,WAAW,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;oBAC5E,MAAM,WAAW;oBACjB,MAAM,eAAe,iBAAiB,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC;wBAAE,CAAC,SAAS,EAAE;oBAAW;oBAChG,MAAM,CAAC,mBAAmB,cAAc,GAAG,gCAAgC;oBAC3E,MAAM,qBAAqB,MAAM,QAAQ;wBACvC;wBACA,aAAa;wBACb,QAAQ;wBACR;wBACA,0BAA0B,IAAI,CAAC,YAAY;wBAC3C,QAAQ;wBACR,oBAAoB,IAAI,CAAC,kBAAkB;oBAC7C;oBACA,MAAM,KAAK,oBAAoB,EAC7B,UAAU,EAAE,SAAS,EAAE,EACvB,aAAa,EACb,iBAAiB,EACjB,mBAAmB,CAAC,EACpB,sBAAsB,CAAC,EACvB,iBAAiB,EAClB,GAAG,IAAI,OAAO,UAAU,IAAI;wBAC3B;wBACA;wBACA;wBACA;wBACA;wBACA;qBACD;oBACD,IAAI,SAAS;oBACb,SAAS;wBACP,UAAU;wBACV,SAAS,YAAY,sCAAsC;wBAC3D,OAAO;wBACP,WAAW;4BACT,eAAe;gCAAE,OAAO,OAAO;gCAAgB,MAAM;4BAAS;4BAC9D,mBAAmB;gCACjB,OAAO,OAAO;gCACd,MAAM;4BACR;4BACA,mBAAmB;gCACjB,OAAO,OAAO;gCACd,MAAM;4BACR;wBACF;oBACF;oBACA,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC9C,IAAI,EACJ,UAAU,WAAW,KACrB,eACA,mBACA,kBACA,qBACA;oBAEF,MAAM,UAAU,kBAAkB,OAAO,iBAAiB,CAAC;oBAC3D,KAAK,MAAM,EAAE,QAAQ,EAAE,IAAI,cAAe;wBACxC,WACE,QACA,UACA;oBAEJ;oBACA,IAAI,CAAC,kBAAkB,UAAU,OAAO,WAAW,UAAU;wBAC3D,SAAS,MAAM,CAAC,SAAS;oBAC3B;oBACA,OAAO;gBACT;YACA,IAAI,CAAC,SAAS,OAAO;YACrB,OAAO,MAAM,QAAQ,IAAI,CAAC;gBACxB;gBACA,IAAI,QAAQ,CAAC,GAAG;oBACd,WACE,IAAM,OAAO,IAAI,MAAM,CAAC,0BAA0B,EAAE,QAAQ,EAAE,CAAC,IAC/D;gBAEJ;aACD;QACH;IACF;AACF;AAEA,oCAAoC;AACpC;AACA;AACA,IAAI,iBAAiB;IACnB,YAAY,SAAS,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,YAAY,EAAE,kBAAkB,EAAE,YAAY,EAAE,SAAS,CAAE;QAC1I,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,YAAY,GAAG,gBAAgB,OAAO,eAAe;QAC1D,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,OAAO,qBAAqB;QAC5E,IAAI,CAAC,YAAY,GAAG,gBAAgB,OAAO,eAAe;QAC1D,IAAI,CAAC,SAAS,GAAG;IACnB;IACA,QAAQ,MAAM,EAAE;QACd,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG;YACxD,MAAM,YAAY,IAAI,CAAC,gBAAgB,CAAC;YACxC,MAAM,uBAAuB,eAAe,OAAO,cAAc;YACjE,MAAM,YAAY,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC1C,IAAI,IAAI,IAAI;oBACZ,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,aAAa;gCACX,OAAO;gCACP,MAAM;4BACR;wBACF;oBACF;oBACA,MAAM,gBAAgB,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,OAAO,CAAC,YAAY,GAAG,KAAK,OAAO,KAAK;oBACzG,MAAM,WAAW,MAAM,sBAAsB,MAAM;wBACjD,cAAc,IAAI,CAAC,YAAY;wBAC/B,eAAe,iBAAiB,KAAK;oBACvC;oBACA,MAAM,eAAe,SAAS,YAAY;oBAC1C,MAAM,mBAAmB,CAAC,KAAK,SAAS,gBAAgB,KAAK,OAAO,KAAK,CAAC;oBAC1E,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;oBACT;oBACA,MAAM,sBAAsB,MAAM,QAAQ;wBACxC,aAAa;wBACb,aAAa;wBACb;wBACA,0BAA0B,IAAI,CAAC,YAAY;wBAC3C,QAAQ;wBACR,oBAAoB,IAAI,CAAC,kBAAkB;oBAC7C;oBACA,MAAM,EACJ,gBAAgB,CAAC,EACjB,oBAAoB,CAAC,EACrB,mBAAmB,CAAC,EACpB,sBAAsB,CAAC,EACvB,oBAAoB,CAAC,EACtB,GAAG;oBACJ,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAC9C,IAAI,EACJ,UAAU,WAAW,KACrB,eACA,mBACA,kBACA,qBACA;oBAEF,MAAM,wBAAwB,CAAC,MAAM,QAAQ,GAAG,CAC9C,oBAAoB,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY,QAAQ,IAAI,EAAE,MAAM;4BAChE,MAAM,MAAM,SAAS,EAAE,SAAS,EAAE,GAAG,KAAK,OAAO,UAAU,KAAK;gCAAC;6BAAY;4BAC7E,IAAI,OAAO,cAAc,YAAY,UAAU,QAAQ,CAAC,MAAM;gCAC5D,MAAM,cAAc;gCACpB,MAAM,QAAQ,gBAAgB,CAAC,YAAY;gCAC3C,MAAM,eAAe,qBAAqB;gCAC1C,IAAI,CAAC,cAAc,OAAO,KAAK;gCAC/B,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;oCAC7C,yEAAyE;oCACzE,UAAU,CAAC,MAAM,EAAE,cAAc;gCACnC;4BACF;4BACA,OAAO;gCACL,aAAa;gCACb,QAAQ;gCACR,WAAW,EAAE;gCACb,UAAU;4BACZ;wBACF,IACD,EAAE,MAAM,CAAC,CAAC,IAAM,MAAM,KAAK;oBAC5B,SAAS;wBACP,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,UAAU;gCACR,OAAO,KAAK,SAAS,CAAC;gCACtB,MAAM;4BACR;wBACF;oBACF;oBACA,OAAO;gBACT;YACA,IAAI,CAAC,SAAS,OAAO;YACrB,OAAO,MAAM,QAAQ,IAAI,CAAC;gBACxB;gBACA,IAAI,QAAQ,CAAC,GAAG;oBACd,WACE,IAAM,OAAO,IAAI,MAAM,CAAC,0BAA0B,EAAE,QAAQ,EAAE,CAAC,IAC/D;gBAEJ;aACD;QACH;IACF;AACF;AAEA,gCAAgC;AAChC,IAAI;AACJ,IAAI;AACJ,IAAI,iBAAiB,CAAC,KAAO,CAAC,GAAG,UAAU,IAAI,EAAE;QAC/C,aAAa;QACb,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC;YAC/B,KAAK,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACtC;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,GAAG,EAAE;gBACrD,IAAI;gBACJ,IAAI;oBACF,GAAG,MAAM,CAAC;wBACR,UAAU;wBACV,SAAS,CAAC,wBAAwB,CAAC;wBACnC,OAAO;wBACP,WAAW;4BACT,WAAW;gCACT,OAAO;gCACP,MAAM;4BACR;wBACF;oBACF;oBACA,MAAM,OAAO,MAAM,GAAG,OAAO,CAAC,eAAe;oBAC7C,MAAM,KAAK,IAAI,CAAC,KAAK;wBAAE,WAAW;oBAAO;oBACzC,GAAG,qBAAqB,CAAC;wBAAE,MAAM;wBAAQ;wBAAK,WAAW;oBAAO;oBAChE,OAAO;wBAAE,SAAS;wBAAM;oBAAI;gBAC9B,EAAE,OAAO,OAAO;oBACd,OAAO;wBAAE,SAAS;wBAAO,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;oBAAO;gBAC7G;YACF;IACF;AAEA,+BAA+B;AAC/B,IAAI;AACJ,IAAI;AACJ,IAAI,gBAAgB,CAAC,IAAI,iBAAmB,CAAC,GAAG,WAAW,IAAI,EAAE;QAC/D,aAAa;QACb,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC;YAC/B,QAAQ,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CACpC;QAEJ;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,MAAM,EAAE;gBACxD,IAAI,IAAI,IAAI,IAAI;gBAChB,IAAI;oBACF,GAAG,MAAM,CAAC;wBACR,UAAU;wBACV,SAAS,CAAC,uBAAuB,CAAC;wBAClC,OAAO;wBACP,WAAW;4BACT,WAAW;gCACT,OAAO;gCACP,MAAM;4BACR;wBACF;oBACF;oBACA,MAAM,UAAU,iBAAiB;wBAAE,OAAO;oBAAe,IAAI,KAAK;oBAClE,MAAM,SAAS,MAAM,GAAG,GAAG,CAAC,QAAQ;oBACpC,MAAM,UAAU,CAAC,KAAK,OAAO,OAAO,KAAK,OAAO,KAAK,EAAE;oBACvD,GAAG,qBAAqB,CAAC;wBACvB,MAAM;wBACN,aAAa;wBACb;wBACA,mBAAmB,OAAO,iBAAiB;wBAC3C,SAAS,OAAO,OAAO;oBACzB;oBACA,OAAO;wBACL,SAAS,CAAC,KAAK,OAAO,OAAO,KAAK,OAAO,KAAK;wBAC9C,QAAQ,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,iBAAiB,KAAK,OAAO,KAAK;wBACjF,qBAAqB,QAAQ,MAAM,GAAG,IAAI,OAAO,CAAC,EAAE,GAAG,KAAK;oBAC9D;gBACF,EAAE,OAAO,OAAO;oBACd,OAAO;wBAAE,SAAS;wBAAO,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;oBAAO;gBAC7G;YACF;IACF;AAEA,sCAAsC;AACtC,IAAI;AACJ,IAAI;AACJ,IAAI,uBAAuB,CAAC,KAAO,CAAC,GAAG,WAAW,IAAI,EAAE;QACtD,aAAa;QACb,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC;QAClC,SAAS,IAAM,QAAQ,MAAM,MAAM;gBACjC,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,8BAA8B,CAAC;oBACzC,OAAO;gBACT;gBACA,MAAM,OAAO,MAAM,GAAG,OAAO,CAAC,eAAe;gBAC7C,MAAM,SAAS,MAAM,KAAK,UAAU,CAAC;oBAAE,UAAU;gBAAM;gBACvD,MAAM,UAAU,KAAK,GAAG;gBACxB,OAAO;oBACL,QAAQ,OAAO,QAAQ,CAAC;oBACxB,WAAW,KAAK,GAAG;oBACnB;gBACF;YACF;QACA,eAAe,CAAC,SAAW,CAAC;gBAC1B,MAAM;gBACN,OAAO;oBAAC;wBAAE,MAAM;wBAAS,WAAW;wBAAa,MAAM,OAAO,MAAM;oBAAC;iBAAE;YACzE,CAAC;IACH;AAEA,gCAAgC;AAChC,IAAI;AACJ,IAAI;AACJ,IAAI,iBAAiB,CAAC,KAAO,CAAC,GAAG,WAAW,IAAI,EAAE;QAChD,aAAa;QACb,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC;YAC/B,QAAQ,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACzC;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,MAAM,EAAE;gBACxD,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,wBAAwB,CAAC;oBACnC,OAAO;oBACP,WAAW;wBACT,WAAW;4BACT,OAAO,CAAC,YAAY,EAAE,OAAO,aAAa,CAAC;4BAC3C,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM,IAAI,QAAQ,CAAC,WAAa,WAAW,UAAU;gBACrD,IAAI,SAAS,GAAG;oBACd,GAAG,qBAAqB,CAAC;wBAAE,MAAM;wBAAQ;oBAAO;gBAClD;gBACA,OAAO;oBAAE,SAAS;oBAAM,QAAQ;gBAAO;YACzC;IACF;AAEA,mCAAmC;AACnC,IAAI;AACJ,IAAI;AACJ,IAAI,oBAAoB,CAAC,KAAO,CAAC,GAAG,WAAW,IAAI,EAAE;QACnD,aAAa;QACb,aAAa,WAAW,CAAC,CAAC,MAAM,CAAC;YAC/B,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAChD;QACA,SAAS,IAAM,QAAQ,MAAM,MAAM;gBACjC,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,2BAA2B,CAAC;oBACtC,OAAO;gBACT;gBACA,MAAM,OAAO,MAAM,GAAG,OAAO,CAAC,eAAe;gBAC7C,MAAM,KAAK,MAAM,CAAC;oBAAE,WAAW;gBAAmB;gBAClD,GAAG,qBAAqB,CAAC;oBACvB,MAAM;oBACN,WAAW;gBACb;gBACA,OAAO;oBAAE,SAAS;gBAAK;YACzB;IACF;AAEA,iCAAiC;AACjC,IAAI;AACJ,IAAI;AACJ,IAAI,kBAAkB,IAAM,CAAC,GAAG,WAAW,IAAI,EAAE;QAC/C,aAAa;QACb,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;YAChC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC3C,cAAc,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ,CAAC;QACjD;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,SAAS,EAAE,YAAY,EAAE;gBACzE,OAAO;oBAAE,SAAS;oBAAM;oBAAW;gBAAa;YAClD;IACF;AAEA,oCAAoC;AACpC,IAAI;AACJ,IAAI;AACJ,IAAI,qBAAqB,CAAC,KAAO,CAAC,GAAG,WAAW,IAAI,EAAE;QACpD,aAAa;QACb,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;QACnC,SAAS,IAAM,QAAQ,MAAM,MAAM;gBACjC,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,4BAA4B,CAAC;oBACvC,OAAO;gBACT;gBACA,MAAM,OAAO,MAAM,GAAG,OAAO,CAAC,eAAe;gBAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,GAAG,OAAO;gBACrC,MAAM,UAAU,KAAK,GAAG;gBACxB,IAAI,UAAU;gBACd,MAAM,aAAa;gBACnB,MAAM,kBAAkB,KAAK,IAAI,CAAC,QAAQ,MAAM,GAAG;gBACnD,IAAI,kBAAkB,YAAY;oBAChC,MAAM,WAAW,aAAa;oBAC9B,UAAU,QAAQ,SAAS,CAAC,GAAG,YAAY;gBAC7C;gBACA,OAAO;oBAAE;oBAAS;gBAAQ;YAC5B;QACA,eAAe,CAAC,SAAW,CAAC;gBAC1B,MAAM;gBACN,OAAO;oBAAC;wBAAE,MAAM;wBAAQ,MAAM,CAAC;AACnC,EAAE,OAAO,OAAO,EAAE;oBAAC;iBAAE;YACnB,CAAC;IACH;AAEA,oCAAoC;AACpC,IAAI;AACJ,IAAI;AACJ,IAAI,qBAAqB,CAAC,IAAI,iBAAmB,CAAC,GAAG,WAAW,IAAI,EAAE;QACpE,aAAa,CAAC;qEACqD,CAAC;QACpE,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;YAChC,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CACrC;gBAEF,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YACzC,IACA,GAAG,CAAC,GAAG;QACX;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,MAAM,EAAE;gBACxD,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,4BAA4B,CAAC;oBACvC,OAAO;oBACP,WAAW;wBACT,WAAW;4BACT,OAAO,KAAK,SAAS,CAAC;4BACtB,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM,cAAc,CAAC,sDAAsD,EAAE,OAAO,GAAG,CAAC,CAAC,IAAM,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO;gBACrH,MAAM,iBAAiB,iBAAiB;oBAAE,OAAO;gBAAe,IAAI,KAAK;gBACzE,MAAM,iBAAiB,MAAM,GAAG,OAAO,CAAC,aAAa;gBACrD,MAAM,YAAY,EAAE;gBACpB,MAAM,oBAAoB,EAAE;gBAC5B,KAAK,MAAM,OAAO,eAAgB;oBAChC,MAAM,YAAY,MAAM,GAAG,GAAG,CAAC;oBAC/B,UAAU,IAAI,CAAC;oBACf,IAAI,MAAM,OAAO,CAAC,UAAU,OAAO,GAAG;wBACpC,kBAAkB,IAAI,IAAI,UAAU,OAAO;oBAC7C;gBACF;gBACA,GAAG,qBAAqB,CAAC;oBACvB,MAAM;oBACN;oBACA;oBACA,SAAS;gBACX;gBACA,OAAO;oBACL,SAAS;oBACT,SAAS;oBACT,qBAAqB;gBACvB;YACF;IACF;AAEA,kCAAkC;AAClC,IAAI;AACJ,IAAI;AACJ,IAAI,mBAAmB,CAAC,KAAO,CAAC,GAAG,WAAW,IAAI,EAAE;QAClD,aAAa;QACb,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;YAChC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YACxC,WAAW,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;gBAAM;aAAO,EAAE,QAAQ,CAAC;QACzD;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,MAAM,EAAE,SAAS,EAAE;gBACnE,GAAG,MAAM,CAAC;oBACR,UAAU;oBACV,SAAS,CAAC,0BAA0B,CAAC;oBACrC,OAAO;oBACP,WAAW;wBACT,WAAW;4BACT,OAAO,KAAK,SAAS,CAAC;gCAAE;gCAAQ;4BAAU;4BAC1C,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM,OAAO,MAAM,GAAG,OAAO,CAAC,eAAe;gBAC7C,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,KAAK,SAAS,GAAG,QAAQ,CAAC;gBACjD,MAAM,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,IAAI;gBACtC,MAAM,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,IAAI;gBACtC,MAAM,SAAS,cAAc,OAAO,CAAC,KAAK,GAAG,CAAC,UAAU,KAAK,GAAG,CAAC;gBACjE,MAAM,KAAK,MAAM,CAAC,IAAI,IAAI,GAAG;gBAC7B,GAAG,qBAAqB,CAAC;oBACvB,MAAM;oBACN,QAAQ;oBACR;oBACA,QAAQ;wBAAE,GAAG;wBAAI,GAAG;oBAAG;gBACzB;gBACA,OAAO;oBAAE,SAAS;oBAAM;gBAAO;YACjC;IACF;AAEA,mCAAmC;AACnC,IAAI;AACJ,IAAI;AACJ,SAAS,kBAAkB,SAAS,EAAE,MAAM;IAC1C,IAAI;IACJ,IAAI;QACF,MAAM,KAAK,IAAI,SAAS,KAAK,CAAC,OAAO,EAAE,WAAW;QAClD,OAAO,GAAG,YAAY,CAAC;IACzB,EAAE,OAAO,GAAG;QACV,UAAU,OAAO,KAAK,IAAI,OAAO;YAC/B,UAAU;YACV,SAAS,CAAC,2BAA2B,EAAE,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,OAAO,IAAI;YACvG,OAAO;QACT;QACA,OAAO,YAAY,CAAC,CAAC,GAAG;IAC1B;AACF;AACA,IAAI,oBAAoB,CAAC,IAAI,gBAAgB,SAAW,CAAC,GAAG,YAAY,IAAI,EAAE;QAC5E,aAAa,CAAC;;;;;;;;;;;;;;;;;mGAiBmF,CAAC;QAClG,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;YAChC,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;QACrD;QACA,SAAS,CAAC,KAAO,QAAQ,MAAM;gBAAC;aAAG,EAAE,UAAW,EAAE,WAAW,EAAE,MAAM,EAAE;gBACrE,IAAI;gBACJ,IAAI;oBACF,MAAM,eAAe,SAAS,kBAAkB,QAAQ,UAAU,KAAK;oBACvE,MAAM,SAAS,MAAM,GAAG,OAAO,CAAC,aAAa,cAAc,eAAe,CAAC,GAAG,iBAAiB;wBAAE,OAAO;oBAAe,IAAI,CAAC;oBAC5H,OAAO;wBAAE,SAAS;wBAAM;oBAAO;gBACjC,EAAE,OAAO,OAAO;oBACd,OAAO;wBAAE,SAAS;wBAAO,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;oBAAO;gBAC7G;YACF;IACF;AAEA,8BAA8B;AAC9B,SAAS,iBAAiB,EAAE,EAAE,OAAO;IACnC,MAAM,iBAAiB,WAAW,OAAO,KAAK,IAAI,QAAQ,cAAc;IACxE,OAAO;QACL,KAAK,cAAc,IAAI;QACvB,UAAU,mBAAmB;QAC7B,OAAO;QACP,SAAS,kBAAkB,IAAI,gBAAgB,WAAW,OAAO,KAAK,IAAI,QAAQ,MAAM;QACxF,UAAU,mBAAmB,IAAI;QACjC,MAAM,eAAe;QACrB,SAAS,kBAAkB;QAC3B,YAAY,qBAAqB;QACjC,QAAQ,iBAAiB;QACzB,MAAM,eAAe;IACvB;AACF;AAEA,oCAAoC;AACpC,IAAI;AAEJ,0CAA0C;AAC1C,SAAS,cAAc,OAAO;IAC5B,OAAO,CAAC,CAAC,WAAW,OAAO,YAAY,YAAY,QAAQ,IAAI,KAAK,UAAU,MAAM,OAAO,CAAC,QAAQ,OAAO;AAC7G;AACA,SAAS,iBAAiB,IAAI;IAC5B,OAAO,CAAC,CAAC,QAAQ,OAAO,SAAS,YAAY,KAAK,QAAQ,KAAK;AACjE;AACA,SAAS,eAAe,IAAI;IAC1B,OAAO,CAAC,CAAC,QAAQ,OAAO,SAAS,YAAY,KAAK,QAAQ,KAAK;AACjE;AACA,SAAS,gBAAgB,MAAM;IAC7B,MAAM,sBAAsB,KAAK,SAAS,CAAC,OAAO,MAAM,EAAE,MAAM;IAChE,MAAM,oBAAoB,gBAAgB,OAAO,MAAM,EAAE;IACzD,MAAM,kBAAkB,gBAAgB,OAAO,MAAM,EAAE;IACvD,MAAM,kBAAkB,OAAO,MAAM,CAAC,GAAG,CACvC,CAAC,SAAS;QACR,IAAI,cAAc,UAAU;YAC1B,IAAI,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,OAAS,iBAAiB,QAAQ;gBAC1D,MAAM,iBAAiB,yBACrB,OACA;gBAEF,IAAI,gBAAgB;oBAClB,OAAO,0BAA0B;gBACnC;YACF;YACA,IAAI,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,OAAS,eAAe,QAAQ;gBACxD,MAAM,iBAAiB,uBAAuB,OAAO;gBACrD,IAAI,gBAAgB;oBAClB,OAAO,wBAAwB;gBACjC;YACF;QACF;QACA,OAAO;IACT;IAEF,MAAM,wBAAwB,KAAK,SAAS,CAAC,iBAAiB,MAAM;IACpE,MAAM,QAAQ,0BACZ,qBACA,uBACA,kBAAkB,MAAM,EACxB,gBAAgB,MAAM;IAExB,OAAO;QACL;QACA;IACF;AACF;AACA,SAAS,gBAAgB,MAAM,EAAE,QAAQ;IACvC,MAAM,oBAAoB,EAAE;IAC5B,OAAO,OAAO,CAAC,CAAC,SAAS;QACvB,IAAI,cAAc,UAAU;YAC1B,MAAM,WAAW,QAAQ,OAAO,CAAC,IAAI,CACnC,CAAC,OAAS,aAAa,eAAe,iBAAiB,QAAQ,eAAe;YAEhF,IAAI,UAAU;gBACZ,kBAAkB,IAAI,CAAC;YACzB;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,yBAAyB,KAAK,EAAE,iBAAiB;IACxD,MAAM,qBAAqB,UAAU,KAAK,GAAG,IAAI;IACjD,MAAM,2BAA2B,kBAAkB,MAAM,GAAG,KAAK,UAAU,kBAAkB,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,EAAE,CAAC,EAAE;IACrH,OAAO,CAAC,sBAAsB,CAAC;AACjC;AACA,SAAS,uBAAuB,KAAK,EAAE,eAAe;IACpD,MAAM,mBAAmB,UAAU,KAAK,GAAG,IAAI;IAC/C,OAAO,CAAC;AACV;AACA,SAAS,0BAA0B,OAAO;IACxC,MAAM,iBAAiB,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,iBAAiB,OAAO;YAC1B,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBAC7C,QAAQ;oBACN;wBACE,MAAM;wBACN,MAAM;oBACR;iBACD;YACH;QACF;QACA,OAAO;IACT;IACA,OAAO,cAAc,eAAe,CAAC,GAAG,UAAU;QAChD,SAAS;IACX;AACF;AACA,SAAS,wBAAwB,OAAO;IACtC,MAAM,iBAAiB,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,eAAe,OAAO;YACxB,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBAC7C,QAAQ;oBACN;wBACE,MAAM;wBACN,MAAM;oBACR;iBACD;YACH;QACF;QACA,OAAO;IACT;IACA,OAAO,cAAc,eAAe,CAAC,GAAG,UAAU;QAChD,SAAS;IACX;AACF;AACA,SAAS,0BAA0B,YAAY,EAAE,cAAc,EAAE,eAAe,EAAE,aAAa;IAC7F,MAAM,aAAa,eAAe;IAClC,MAAM,mBAAmB,eAAe,IAAI,CAAC,eAAe,cAAc,IAAI,eAAe,MAAM;IACnG,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF;AAEA,sCAAsC;AACtC,SAAS,uBAAuB,EAC9B,YAAY,EACZ,UAAU,EACV,IAAI,EACJ,SAAS,EACV;IACC,OAAQ;QACN,KAAK;YACH,OAAO,iBAAiB,YAAY,MAAM;QAC5C,KAAK;YACH,OAAO,sBAAsB,YAAY,MAAM;QACjD;YACE,OAAO;gBAAC,qBAAqB,cAAc,YAAY,MAAM;aAAW;IAC5E;AACF;AACA,SAAS,iBAAiB,UAAU,EAAE,IAAI,EAAE,SAAS;IACnD,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU;QACjD,OAAO;YAAC,qBAAqB,OAAO,YAAY,MAAM;SAAW;IACnE;IACA,MAAM,SAAS;IACf,MAAM,SAAS,OAAO,MAAM,IAAI;IAChC,MAAM,SAAS,eAAe;QAC5B,MAAM;QACN;QACA,eAAe;IACjB,GAAG;IACH,IAAI,OAAO,mBAAmB,EAAE;QAC9B,OAAO,mBAAmB,GAAG,OAAO,mBAAmB;IACzD;IACA,OAAO;QAAC;KAAO;AACjB;AACA,SAAS,sBAAsB,UAAU,EAAE,IAAI,EAAE,SAAS;IACxD,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU;QACjD,OAAO;YAAC,qBAAqB,YAAY,YAAY,MAAM;SAAW;IACxE;IACA,MAAM,SAAS;IACf,MAAM,SAAS,OAAO,MAAM,IAAI;IAChC,MAAM,iBAAiB,MAAM,OAAO,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,mBAAmB,IAAI,OAAO,mBAAmB,GAAG,EAAE;IAC5H,MAAM,UAAU,EAAE;IAClB,QAAQ,IAAI,CAAC,eAAe;QAC1B,MAAM;QACN;QACA,eAAe;IACjB,GAAG;IACH,KAAK,MAAM,iBAAiB,eAAgB;QAC1C,QAAQ,IAAI,CAAC;YACX,MAAM;YACN,WAAW;YACX,eAAe;YACf,qBAAqB;QACvB;IACF;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,YAAY,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS;IACrE,MAAM,SAAS,eAAe;QAC5B,MAAM;QACN;QACA,eAAe,iBAAiB,UAAU,QAAQ,OAAO,KAAK,IAAI,KAAK,YAAY,GAAG;IACxF,GAAG;IACH,IAAI,iBAAiB,cAAc,YAAY;QAC7C,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,OAAO,MAAM,CAAC,QAAQ;IACxB;IACA,OAAO;AACT;AAEA,oCAAoC;AACpC;AACA,IAAI,iBAAiB;IACnB,YAAY,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,kBAAkB,EAAE,QAAQ,CAAE;QAC/E,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,QAAQ,GAAG;IAClB;IACA,QAAQ,oBAAoB,EAAE;QAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI;YACR,MAAM,YAAY,KAAK,GAAG;YAC1B,MAAM,UAAU,OAAO,yBAAyB,WAAW;gBAAE,aAAa;YAAqB,IAAI;YACnG,MAAM,WAAW,QAAQ,QAAQ,IAAI;YACrC,MAAM,UAAU,EAAE;YAClB,IAAI,eAAe;YACnB,IAAI,YAAY;YAChB,MAAM,qBAAqB,EAAE;YAC7B,IAAI,iBAAiB,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,GAAG;YAClE,IAAI;gBACF,MAAM,eAAe,IAAI,CAAC,iBAAiB,CACzC,QAAQ,WAAW,EACnB,IAAI,CAAC,kBAAkB;gBAEzB,MAAM,QAAQ,IAAI,CAAC,WAAW;gBAC9B,MAAM,WAAW,eAAe,eAAe,CAAC,GAAG,QAAQ,IAAI,CAAC,QAAQ;gBACxE,MAAM,WAAW;oBACf;wBAAE,MAAM;wBAAQ,SAAS,QAAQ,WAAW;oBAAC;iBAC9C;gBACD,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,GAAG;oBACnE,MAAM,IAAI;gBACZ;gBACA,MAAM,YAAY,IAAI,CAAC,SAAS,CAAC,gBAAgB;gBACjD,MAAM,eAAe,CAAC,GAAG,YAAY,iBAAiB,EAAE;oBACtD,OAAO;oBACP,YAAY;wBACV,iBAAiB,CAAC,KAAO,QAAQ,IAAI,EAAE;gCAAC;6BAAG,EAAE,UAAW,EAAE,MAAM,EAAE;gCAChE,MAAM,EAAE,eAAe,EAAE,GAAG,gBAAgB;gCAC5C,OAAO,cAAc,eAAe,CAAC,GAAG,SAAS;oCAAE,QAAQ;gCAAgB;4BAC7E;oBACF;gBACF;gBACA,MAAM,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;oBAC/C,OAAO;oBACP,QAAQ;oBACR;oBACA,OAAO;oBACP,UAAU,CAAC,GAAG,YAAY,WAAW,EAAE;oBACvC,aAAa;oBACb,YAAY;oBACZ,cAAc,CAAC,QAAU,QAAQ,IAAI,EAAE,MAAM;4BAC3C,IAAI;4BACJ,IAAI,CAAC,MAAM,CAAC;gCACV,UAAU;gCACV,SAAS,CAAC,eAAe,EAAE,MAAM,YAAY,EAAE;gCAC/C,OAAO;4BACT;4BACA,IAAI,MAAM,SAAS,IAAI,MAAM,SAAS,CAAC,MAAM,GAAG,GAAG;gCACjD,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,SAAS,CAAC,MAAM,EAAE,IAAK;oCAC/C,MAAM,WAAW,MAAM,SAAS,CAAC,EAAE;oCACnC,MAAM,OAAO,SAAS,KAAK;oCAC3B,MAAM,aAAa,CAAC,MAAM,MAAM,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,CAAC,EAAE;oCACtE,IAAI,MAAM,IAAI,CAAC,MAAM,GAAG,GAAG;wCACzB,mBAAmB,IAAI,CAAC,MAAM,IAAI;wCAClC,IAAI,CAAC,MAAM,CAAC;4CACV,UAAU;4CACV,SAAS,CAAC,WAAW,EAAE,MAAM,IAAI,EAAE;4CACnC,OAAO;wCACT;oCACF;oCACA,IAAI,SAAS,QAAQ,KAAK,SAAS;wCACjC,YAAY;wCACZ,IAAI,QAAQ,OAAO,KAAK,IAAI,KAAK,YAAY,EAAE;4CAC7C,MAAM,iBAAiB,KAAK,SAAS;4CACrC,MAAM,eAAe,mBAAmB,IAAI,CAAC;4CAC7C,eAAe,iBAAiB,GAAG,aAAa,CAAC,EAAE,gBAAgB,CAAC,IAAI,KAAK,gBAAgB;wCAC/F;oCACF;oCACA,MAAM,gBAAgB,uBAAuB;wCAC3C,cAAc,SAAS,QAAQ;wCAC/B;wCACA;wCACA,WAAW,MAAM,IAAI,IAAI,KAAK;oCAChC;oCACA,KAAK,MAAM,UAAU,cAAe;wCAClC,OAAO,OAAO,GAAG;wCACjB,OAAO,SAAS,GAAG,KAAK,GAAG;wCAC3B,QAAQ,IAAI,CAAC;oCACf;gCACF;gCACA,iBAAiB,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,GAAG;4BAChE;wBACF;gBACF;gBACA,IAAI,CAAC,cAAc;oBACjB,MAAM,eAAe,mBAAmB,IAAI,CAAC,KAAK,IAAI;oBACtD,eAAe,gBAAgB,OAAO,IAAI;gBAC5C;gBACA,MAAM,UAAU,KAAK,GAAG;gBACxB,MAAM,kBAAkB,UAAU;gBAClC,IAAI,OAAO,KAAK,EAAE;oBAChB,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,QAAQ,SAAS,KACjB,OAAO,KAAK,CAAC,WAAW,IAAI,GAC5B,OAAO,KAAK,CAAC,YAAY,IAAI,GAC7B,OAAO,KAAK,CAAC,eAAe,IAAI,GAChC,OAAO,KAAK,CAAC,iBAAiB,IAAI,GAClC;gBAEJ;gBACA,OAAO;oBACL,SAAS;oBACT,SAAS,gBAAgB;oBACzB;oBACA;oBACA,OAAO,OAAO,KAAK,GAAG;wBACpB,cAAc,OAAO,KAAK,CAAC,WAAW,IAAI;wBAC1C,eAAe,OAAO,KAAK,CAAC,YAAY,IAAI;wBAC5C,kBAAkB,OAAO,KAAK,CAAC,eAAe,IAAI;wBAClD,qBAAqB,OAAO,KAAK,CAAC,iBAAiB,IAAI;wBACvD,mBAAmB;oBACrB,IAAI,KAAK;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;gBACzF,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,4BAA4B,EAAE,cAAc;oBACtD,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS,CAAC,wBAAwB,EAAE,cAAc;oBAClD,WAAW;gBACb;YACF;QACF;IACF;IACA,kBAAkB,oBAAoB,EAAE,kBAAkB,EAAE;QAC1D,IAAI,oBAAoB;YACtB,OAAO,GAAG,mBAAmB;mBAChB,EAAE,qBAAqB,wEAAwE,CAAC;QAC/G;QACA,OAAO,CAAC;;WAED,EAAE,qBAAqB;;;;;;;;;;;;;;;;;;;;;;4DAsB0B,CAAC;IAC3D;IACA,cAAc;QACZ,OAAO,iBAAiB,IAAI,CAAC,EAAE,EAAE;YAC/B,gBAAgB,IAAI,CAAC,cAAc;YACnC,QAAQ,IAAI,CAAC,MAAM;QACrB;IACF;AACF;AAEA,uCAAuC;AACvC;AAEA,gCAAgC;AAChC;AAEA,qCAAqC;AACrC;AACA,IAAI,aAAa;AACjB,IAAI;AAEJ,8BAA8B;AAC9B,IAAI,cAAc;IAChB,YAAY,IAAI,EAAE,SAAS,EAAE,wBAAwB,CAAE;QACrD,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,wBAAwB,GAAG;QAChC,IAAI,CAAC,aAAa,GAAG,CAAC;IACxB;AACF;AAEA,sCAAsC;AACtC,IAAI,UAAU;IACZ,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,KAAK;IACL,WAAW;IACX,KAAK;IACL,OAAO;IACP,QAAQ;IACR,KAAK;IACL,SAAS;IACT,WAAW;IACX,WAAW;IACX,YAAY;IACZ,UAAU;IACV,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,IAAI;IACJ,MAAM;IACN,MAAM;IACN,OAAO;IACP,OAAO;IACP,SAAS;IACT,MAAM;IACN,KAAK;IACL,QAAQ;IACR,yBAAyB;IACzB,MAAM;IACN,SAAS;IACT,QAAQ;IACR,KAAK;IACL,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,SAAS;IACT,UAAU;IACV,KAAK;IACL,oBAAoB;IACpB,MAAM;IACN,KAAK;IACL,QAAQ;IACR,UAAU;IACV,SAAS;IACT,WAAW;IACX,MAAM;IACN,MAAM;AACR;AACA,SAAS,mBAAmB,GAAG;IAC7B,IAAI,CAAC,KAAK,OAAO;IACjB,MAAM,WAAW,IAAI,WAAW;IAChC,OAAO,OAAO,CAAC,SAAS,IAAI;AAC9B;AAEA,yCAAyC;AACzC,SAAS,oBAAoB,KAAK;IAChC,MAAM,kBAAkB,EAAE;IAC1B,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,IAAI,WAAW;QACf,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;YAC/B,WAAW,KAAK,OAAO,CAAC,IAAI,CAC1B,CAAC,cAAgB,YAAY,IAAI,KAAK,iBAAiB,aAAa,eAAe,MAAM,OAAO,CAAC,YAAY,OAAO,KAAK,YAAY,OAAO,CAAC,IAAI,CAC/I,CAAC,aAAe,WAAW,IAAI,KAAK;QAG1C;QACA,IAAI,UAAU;YACZ,gBAAgB,IAAI,CAAC;QACvB;IACF;IACA,OAAO;AACT;AACA,SAAS,2BAA2B,KAAK,EAAE,sBAAsB,CAAC;IAChE,MAAM,kBAAkB,oBAAoB;IAC5C,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,MAAM,aAAa,gBAAgB,OAAO,CAAC;QAC3C,MAAM,iBAAiB,cAAc,KAAK,aAAa,gBAAgB,MAAM,GAAG;QAChF,IAAI,gBAAgB;YAClB,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;gBAC/B,KAAK,OAAO,GAAG,KAAK,OAAO,CAAC,GAAG,CAC7B,CAAC;oBACC,IAAI,YAAY,IAAI,KAAK,iBAAiB,aAAa,eAAe,MAAM,OAAO,CAAC,YAAY,OAAO,KAAK,YAAY,OAAO,CAAC,IAAI,CAClI,CAAC,aAAe,WAAW,IAAI,KAAK,UACnC;wBACD,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;4BACpD,SAAS;wBACX;oBACF;oBACA,OAAO;gBACT;YAEJ;QACF;IACF;IACA,OAAO;QACL;IACF;AACF;AACA,SAAS,0BAA0B,KAAK;IACtC,MAAM,kBAAkB,EAAE;IAC1B,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,IAAI,WAAW;QACf,IAAI,KAAK,KAAK,IAAI,MAAM,OAAO,CAAC,KAAK,KAAK,GAAG;YAC3C,WAAW,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,IAAI,IAAI,IAAI,IAAI;gBACpB,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,EAAE;oBACjG,MAAM,OAAO,KAAK,gBAAgB,CAAC,QAAQ,CAAC,IAAI;oBAChD,OAAO,KAAK,IAAI,CACd,CAAC;wBACC,IAAI,KAAK;wBACT,OAAO,CAAC,MAAM,CAAC,MAAM,SAAS,UAAU,KAAK,OAAO,KAAK,IAAI,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,IAAI,UAAU,CAAC;oBAC/G;gBAEJ;gBACA,IAAI,CAAC,KAAK,KAAK,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,EAAE;oBAC5D,OAAO,KAAK,gBAAgB,CAAC,KAAK,CAAC,IAAI,CACrC,CAAC;wBACC,IAAI,KAAK;wBACT,OAAO,CAAC,MAAM,CAAC,MAAM,aAAa,UAAU,KAAK,OAAO,KAAK,IAAI,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,IAAI,UAAU,CAAC;oBACnH;gBAEJ;gBACA,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,CAAC;YACvG;QACF;QACA,IAAI,UAAU;YACZ,gBAAgB,IAAI,CAAC;QACvB;IACF;IACA,OAAO;AACT;AACA,SAAS,iCAAiC,KAAK,EAAE,sBAAsB,CAAC;IACtE,MAAM,kBAAkB,0BAA0B;IAClD,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,MAAM,aAAa,gBAAgB,OAAO,CAAC;QAC3C,MAAM,iBAAiB,cAAc,KAAK,aAAa,gBAAgB,MAAM,GAAG;QAChF,IAAI,kBAAkB,KAAK,KAAK,IAAI,MAAM,OAAO,CAAC,KAAK,KAAK,GAAG;YAC7D,KAAK,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,IAAI,IAAI,IAAI,IAAI;gBACpB,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,EAAE;oBACjG,MAAM,OAAO,KAAK,gBAAgB,CAAC,QAAQ,CAAC,IAAI;oBAChD,MAAM,WAAW,KAAK,IAAI,CACxB,CAAC;wBACC,IAAI,KAAK;wBACT,OAAO,CAAC,MAAM,CAAC,MAAM,SAAS,UAAU,KAAK,OAAO,KAAK,IAAI,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,IAAI,UAAU,CAAC;oBAC/G;oBAEF,IAAI,UAAU;wBACZ,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;4BAC7C,kBAAkB,cAAc,eAAe,CAAC,GAAG,KAAK,gBAAgB,GAAG;gCACzE,MAAM,EAAE;gCACR,UAAU,cAAc,eAAe,CAAC,GAAG,KAAK,gBAAgB,CAAC,QAAQ,GAAG;oCAC1E,YAAY;gCACd;4BACF;wBACF;oBACF;gBACF;gBACA,IAAI,CAAC,KAAK,KAAK,gBAAgB,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,EAAE;oBAC5D,MAAM,kBAAkB,KAAK,gBAAgB,CAAC,KAAK,CAAC,IAAI,CACtD,CAAC;wBACC,IAAI,KAAK;wBACT,OAAO,CAAC,MAAM,CAAC,MAAM,aAAa,UAAU,KAAK,OAAO,KAAK,IAAI,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,IAAI,UAAU,CAAC;oBACnH;oBAEF,IAAI,iBAAiB;wBACnB,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;4BAC7C,kBAAkB,cAAc,eAAe,CAAC,GAAG,KAAK,gBAAgB,GAAG;gCACzE,OAAO,KAAK,gBAAgB,CAAC,KAAK,CAAC,MAAM,CACvC,CAAC;oCACC,IAAI,KAAK;oCACT,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,aAAa,UAAU,KAAK,OAAO,KAAK,IAAI,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,IAAI,UAAU,CAAC,SAAS;gCAC9H;gCAEF,UAAU,cAAc,eAAe,CAAC,GAAG,KAAK,gBAAgB,CAAC,QAAQ,GAAG;oCAC1E,YAAY;gCACd;4BACF;wBACF;oBACF;gBACF;gBACA,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,CAAC,WAAW;oBAC3G,OAAO;wBACL,MAAM;oBACR;gBACF;gBACA,OAAO;YACT;QACF;IACF;IACA,OAAO;QACL;IACF;AACF;AAEA,qCAAqC;AACrC,IAAI,qBAAqB,cAAc;IACrC,YAAY,IAAI,EAAE,SAAS,EAAE,wBAAwB,EAAE,aAAa,EAAE,KAAK,CAAE;QAC3E,KAAK,CAAC,MAAM,WAAW;QACvB,IAAI,CAAC,eAAe,GAAG;YAAE,OAAO;YAAM,QAAQ;QAAI;QAClD,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,MAAM,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,iBAAiB,IAAI;QAC1G,IAAI,CAAC,OAAO,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO,KAAK,KAAK;QAChF,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc,KAAK,OAAO,cAAc,cAAc,KAAK,UAAU;YACvH,IAAI,CAAC,cAAc,GAAG,cAAc,cAAc;QACpD;QACA,IAAI,CAAC,aAAa,GAAG;YACnB,QAAQ,IAAI,CAAC,MAAM;QACrB;QACA,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO;QAC3C;QACA,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,OAAO,CAAC,IAAI,CAAC,aAAa;QACvD,IAAI,CAAC,KAAK,GAAG;IACf;IACA,YAAY,KAAK,EAAE,MAAM,EAAE;QACzB,IAAI,CAAC,eAAe,GAAG;YAAE;YAAO;QAAO;IACzC;IACA,cAAc,GAAG,EAAE;QACjB,IAAI,CAAC,UAAU,GAAG;IACpB;IACA,sBAAsB,QAAQ,EAAE;QAC9B,IAAI,CAAC,kBAAkB,GAAG;IAC5B;IACA,iBAAiB,OAAO,EAAE;QACxB,IAAI,CAAC,aAAa,GAAG;IACvB;IACA,SAAS,KAAK,EAAE;QACd,IAAI,CAAC,KAAK,GAAG;IACf;IACA;;;;GAIC,GACD,QAAQ,gBAAgB,EAAE;QACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;YAC5B,MAAM,EAAE,WAAW,EAAE,GAAG;YACxB,MAAM,WAAW,QAAQ,QAAQ,IAAI;YACrC,IAAI,cAAc;YAClB,IAAI,YAAY;YAChB,MAAM,UAAU,EAAE;YAClB,MAAM,cAAc,EAAE;YACtB,IAAI,eAAe;YACnB,IAAI,aAAa,IAAI,CAAC,uBAAuB,CAAC;YAC9C,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,qDAAqD,EAAE,aAAa;gBAC9E,OAAO;YACT;YACA,IAAI,mBAAmB;YACvB,IAAI,oBAAoB;YACxB,IAAI,qBAAqB;YACzB,IAAI;gBACF,MAAO,CAAC,aAAa,cAAc,SAAU;oBAC3C,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,eAAe,EAAE,cAAc,EAAE,CAAC,EAAE,UAAU;wBACxD,OAAO;oBACT;oBACA,MAAM,SAAS,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY;oBAClD,oBAAoB,OAAO,KAAK,CAAC,YAAY;oBAC7C,qBAAqB,OAAO,KAAK,CAAC,aAAa;oBAC/C,sBAAsB,OAAO,KAAK,CAAC,iBAAiB;oBACpD,IAAI,OAAO,OAAO,CAAC,MAAM,GAAG,GAAG;wBAC7B,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,KAAK,EAAE,cAAc,EAAE,WAAW,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;4BAC7E,OAAO;wBACT;wBACA,QAAQ,IAAI,IAAI,OAAO,OAAO;oBAChC;oBACA,YAAY,OAAO,SAAS;oBAC5B,IAAI,CAAC,WAAW;wBACd,aAAa,OAAO,cAAc;oBACpC;oBACA,IAAI,OAAO,OAAO,EAAE;wBAClB,YAAY,IAAI,CAAC,OAAO,OAAO;wBAC/B,eAAe,OAAO,OAAO;oBAC/B;oBACA;gBACF;gBACA,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,qCAAqC,EAAE,UAAU,OAAO,EAAE,QAAQ,MAAM,CAAC,wBAAwB,CAAC;oBAC5G,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS;oBACT;oBACA,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,4BAA4B,EAAE,cAAc;oBACtD,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS,CAAC,wBAAwB,EAAE,cAAc;oBAClD,WAAW;oBACX,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF;QACF;IACF;IACA,YAAY,UAAU,EAAE,MAAM,EAAE;QAC9B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC;gBACpC,MAAM,UAAU,OAAO,OAAO;gBAC9B,MAAM,QAAQ;oBACZ,cAAc,OAAO,KAAK,CAAC,YAAY;oBACvC,eAAe,OAAO,KAAK,CAAC,aAAa;oBACzC,mBAAmB,OAAO,KAAK,CAAC,iBAAiB;gBACnD;gBACA,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,uBAAuB,EAAE,QAAQ,MAAM,CAAC,eAAe,CAAC;oBAClE,OAAO;gBACT;gBACA,MAAM,cAAc,EAAE;gBACtB,MAAM,eAAe,EAAE;gBACvB,IAAI,UAAU;gBACd,KAAK,MAAM,SAAS,QAAS;oBAC3B,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,uBAAuB,EAAE,MAAM,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,WAAW;wBAC7E,OAAO;oBACT;oBACA,IAAI,MAAM,IAAI,KAAK,YAAY;wBAC7B,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,sBAAsB,EAAE,KAAK,SAAS,CAAC,QAAQ;4BACzD,OAAO;wBACT;wBACA,MAAM,cAAc;wBACpB,aAAa,IAAI,CAAC;wBAClB,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,qBAAqB,EAAE,YAAY,IAAI,CAAC,UAAU,EAAE,KAAK,SAAS,CAAC,YAAY,KAAK,GAAG;4BACjG,OAAO;wBACT;wBACA,MAAM,SAAS,IAAI,CAAC,sBAAsB,CAAC;wBAC3C,IAAI,QAAQ;4BACV,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,8BAA8B,EAAE,YAAY,IAAI,CAAC,UAAU,EAAE,OAAO,IAAI,EAAE;gCACpF,OAAO;4BACT;4BACA,YAAY,IAAI,CAAC;wBACnB,OAAO,IAAI,IAAI,CAAC,KAAK,IAAI,YAAY,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;4BACvD,YAAY,IAAI,CAAC;gCACf,MAAM;gCACN,MAAM,YAAY,IAAI;gCACtB,OAAO,YAAY,KAAK;4BAC1B;wBACF;oBACF,OAAO,IAAI,MAAM,IAAI,KAAK,QAAQ;wBAChC,MAAM,YAAY;wBAClB,WAAW,UAAU,IAAI,GAAG;wBAC5B,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,kBAAkB,EAAE,UAAU,IAAI,EAAE;4BAC9C,OAAO;wBACT;oBACF,OAAO;wBACL,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,0BAA0B,EAAE,MAAM,IAAI,EAAE;4BAClD,OAAO;wBACT;oBACF;gBACF;gBACA,IAAI,IAAI,CAAC,aAAa,IAAI,YAAY,MAAM,GAAG,GAAG;oBAChD,KAAK,MAAM,UAAU,YAAa;wBAChC,IAAI;4BACF,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,kBAAkB,EAAE,OAAO,IAAI,EAAE;gCAC3C,OAAO;4BACT;4BACA,MAAM,IAAI,CAAC,aAAa,CAAC;wBAC3B,EAAE,OAAO,OAAO;4BACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;4BACrE,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,uBAAuB,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,cAAc;gCACjE,OAAO;4BACT;wBACF;oBACF;gBACF;gBACA,MAAM,mBAAmB;oBACvB,MAAM;oBACN;gBACF;gBACA,MAAM,iBAAiB;uBAAI;iBAAW;gBACtC,2BAA2B;gBAC3B,eAAe,IAAI,CAAC;gBACpB,IAAI,aAAa,MAAM,GAAG,GAAG;oBAC3B,MAAM,cAAc,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc;oBACxD,IAAI,YAAY,MAAM,GAAG,GAAG;wBAC1B,MAAM,yBAAyB;4BAC7B,MAAM;4BACN,SAAS;wBACX;wBACA,eAAe,IAAI,CAAC;oBACtB;gBACF;gBACA,MAAM,YAAY,aAAa,MAAM,KAAK;gBAC1C,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,eAAe,EAAE,aAAa,MAAM,CAAC,4BAA4B,EAAE,WAAW;oBACxF,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT,SAAS,QAAQ,IAAI;oBACrB;oBACA;oBACA;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,sBAAsB,EAAE,cAAc;oBAChD,OAAO;gBACT;gBACA,MAAM;YACR;QACF;IACF;IACA,wBAAwB,WAAW,EAAE;QACnC,OAAO;YACL;gBACE,MAAM;gBACN,SAAS,IAAI,CAAC,wBAAwB;YACxC;YACA;gBACE,MAAM;gBACN,SAAS;YACX;SACD;IACH;IACA,UAAU,UAAU,EAAE;QACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,WAAW,EAAE;gBACnB,KAAK,MAAM,QAAQ,WAAY;oBAC7B,IAAI,UAAU,MAAM;wBAClB,IAAI,KAAK,IAAI,KAAK,UAAU;4BAC1B,SAAS,IAAI,CAAC;wBAChB;oBACF;gBACF;gBACA,MAAM,WAAW,IAAI,CAAC,cAAc,GAAG;oBAAE,MAAM;oBAAW,eAAe,IAAI,CAAC,cAAc;gBAAC,IAAI,KAAK;gBACtG,MAAM,gBAAgB;oBACpB,OAAO,IAAI,CAAC,SAAS;oBACrB,YAAY;oBACZ;oBACA,OAAO;wBACL;4BACE,MAAM;4BACN,+CAA+C;4BAC/C,MAAM;4BACN,kBAAkB,IAAI,CAAC,eAAe,CAAC,KAAK;4BAC5C,mBAAmB,IAAI,CAAC,eAAe,CAAC,MAAM;4BAC9C,gBAAgB;wBAClB;qBACD;oBACD,OAAO;wBAAC;qBAA0B;gBACpC;gBACA,IAAI,IAAI,CAAC,KAAK,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,GAAG;oBACpD,MAAM,cAAc,OAAO,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM,OAAO;wBAChE,MAAM,cAAc,CAAC,GAAG,0BAA0B,eAAe,EAAE,OAAO,WAAW;wBACrF,MAAM,cAAc;4BAClB,MAAM;4BACN,YAAY,YAAY,UAAU,IAAI,CAAC;4BACvC,UAAU,YAAY,QAAQ,IAAI,EAAE;wBACtC;wBACA,OAAO;4BACL;4BACA,aAAa,OAAO,WAAW;4BAC/B,cAAc;wBAChB;oBACF;oBACA,cAAc,KAAK,GAAG;2BACjB,cAAc,KAAK;2BACnB;qBACJ;gBACH;gBACA,IAAI,IAAI,CAAC,wBAAwB,EAAE;oBACjC,cAAc,MAAM,GAAG,IAAI,CAAC,wBAAwB;gBACtD;gBACA,IAAI,UAAU;oBACZ,cAAc,QAAQ,GAAG;gBAC3B;gBACA,MAAM,YAAY,KAAK,GAAG;gBAC1B,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACxD,MAAM,UAAU,KAAK,GAAG;gBACxB,MAAM,YAAY,UAAU;gBAC5B,MAAM,QAAQ;oBACZ,cAAc,SAAS,KAAK,CAAC,YAAY;oBACzC,eAAe,SAAS,KAAK,CAAC,aAAa;oBAC3C,mBAAmB;gBACrB;gBACA,IAAI,CAAC,aAAa,GAAG,SAAS,EAAE;gBAChC,OAAO;oBACL,iDAAiD;oBACjD,SAAS,SAAS,OAAO;oBACzB,IAAI,SAAS,EAAE;oBACf;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wCAAwC;gBACtD,MAAM;YACR;QACF;IACF;IACA,WAAW,YAAY,EAAE,MAAM,EAAE;QAC/B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,cAAc,EAAE;YACtB,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,iBAAiB,EAAE,aAAa,MAAM,CAAC,eAAe,CAAC;gBACjE,OAAO;YACT;YACA,KAAK,MAAM,QAAQ,aAAc;gBAC/B,IAAI;oBACF,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,UAAU,EAAE,KAAK,SAAS,CAAC,KAAK,KAAK,GAAG;wBACnG,OAAO;oBACT;oBACA,IAAI,KAAK,IAAI,KAAK,YAAY;wBAC5B,MAAM,SAAS,KAAK,KAAK,CAAC,MAAM;wBAChC,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,sBAAsB,EAAE,QAAQ;4BAC1C,OAAO;wBACT;wBACA,MAAM,aAAa,MAAM,IAAI,CAAC,iBAAiB;wBAC/C,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,6BAA6B,EAAE,WAAW,MAAM,EAAE;4BAC5D,OAAO;wBACT;wBACA,MAAM,eAAe;4BACnB;gCACE,MAAM;gCACN,QAAQ;oCACN,MAAM;oCACN,YAAY;oCACZ,MAAM,WAAW,OAAO,CAAC,4BAA4B;gCACvD;4BACF;yBACD;wBACD,IAAI,IAAI,CAAC,UAAU,EAAE;4BACnB,YAAY,IAAI,CAAC;gCACf,MAAM;gCACN,aAAa,KAAK,EAAE;gCACpB,SAAS;uCACJ;oCACH;wCACE,MAAM;wCACN,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,EAAE;oCACzC;iCACD;4BACH;wBACF,OAAO;4BACL,YAAY,IAAI,CAAC;gCACf,MAAM;gCACN,aAAa,KAAK,EAAE;gCACpB,SAAS;4BACX;wBACF;wBACA,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,4CAA4C,EAAE,KAAK,EAAE,EAAE;4BACjE,OAAO;wBACT;oBACF,OAAO;wBACL,IAAI,aAAa;wBACjB,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;4BACzC,IAAI;gCACF,MAAM,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC;gCACpC,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,YAAY,EAAE,KAAK,SAAS,CAAC,KAAK,KAAK,GAAG;oCACrF,OAAO;gCACT;gCACA,MAAM,SAAS,MAAM,OAAO,OAAO,CAAC,KAAK,KAAK,EAAE;oCAC9C,YAAY,KAAK,EAAE;oCACnB,UAAU,EAAE;gCACd;gCACA,aAAa,KAAK,SAAS,CAAC;gCAC5B,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,KAAK,EAAE,KAAK,IAAI,CAAC,iCAAiC,EAAE,YAAY;oCAC1E,OAAO;gCACT;4BACF,EAAE,OAAO,WAAW;gCAClB,MAAM,eAAe,qBAAqB,QAAQ,UAAU,OAAO,GAAG,OAAO;gCAC7E,aAAa,CAAC,sBAAsB,EAAE,cAAc;gCACpD,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,cAAc;oCAC7D,OAAO;gCACT;4BACF;wBACF;wBACA,YAAY,IAAI,CAAC;4BACf,MAAM;4BACN,aAAa,KAAK,EAAE;4BACpB,SAAS;gCACP;oCACE,MAAM;oCACN,MAAM;gCACR;6BACD;wBACH;wBACA,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,kCAAkC,EAAE,KAAK,IAAI,CAAC,eAAe,EAAE,KAAK,EAAE,EAAE;4BAClF,OAAO;wBACT;oBACF;gBACF,EAAE,OAAO,OAAO;oBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;oBACrE,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,0BAA0B,EAAE,cAAc;wBACpD,OAAO;oBACT;oBACA,IAAI;wBACF,IAAI,KAAK,IAAI,KAAK,YAAY;4BAC5B,MAAM,aAAa,MAAM,IAAI,CAAC,iBAAiB;4BAC/C,YAAY,IAAI,CAAC;gCACf,MAAM;gCACN,aAAa,KAAK,EAAE;gCACpB,SAAS;oCACP;wCACE,MAAM;wCACN,QAAQ;4CACN,MAAM;4CACN,YAAY;4CACZ,MAAM,WAAW,OAAO,CAAC,4BAA4B;wCACvD;oCACF;oCACA;wCACE,MAAM;wCACN,MAAM,CAAC,OAAO,EAAE,cAAc;oCAChC;iCACD;4BACH;4BACA,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,yDAAyD,EAAE,KAAK,EAAE,EAAE;gCAC9E,OAAO;4BACT;wBACF,OAAO;4BACL,YAAY,IAAI,CAAC;gCACf,MAAM;gCACN,aAAa,KAAK,EAAE;gCACpB,SAAS;oCACP;wCACE,MAAM;wCACN,MAAM,CAAC,OAAO,EAAE,cAAc;oCAChC;iCACD;4BACH;4BACA,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,yCAAyC,EAAE,KAAK,EAAE,EAAE;gCAC9D,OAAO;4BACT;wBACF;oBACF,EAAE,OAAO,iBAAiB;wBACxB,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,4BAA4B,EAAE,OAAO,kBAAkB;4BACjE,OAAO;wBACT;wBACA,YAAY,IAAI,CAAC;4BACf,MAAM;4BACN,aAAa,KAAK,EAAE;4BACpB,SAAS;gCACP;oCACE,MAAM;oCACN,MAAM,CAAC,OAAO,EAAE,cAAc;gCAChC;6BACD;wBACH;wBACA,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,8CAA8C,EAAE,KAAK,EAAE,EAAE;4BACnE,OAAO;wBACT;oBACF;gBACF;YACF;YACA,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,SAAS,EAAE,YAAY,MAAM,CAAC,8BAA8B,CAAC;gBACvE,OAAO;YACT;YACA,OAAO;QACT;IACF;IACA,uBAAuB,IAAI,EAAE;QAC3B,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;YACxB,IAAI,SAAS,YAAY;gBACvB,MAAM,SAAS,MAAM,MAAM;gBAC3B,IAAI,CAAC,QAAQ;oBACX,QAAQ,IAAI,CAAC,oCAAoC;oBACjD,OAAO;gBACT;gBACA,IAAI,WAAW,cAAc;oBAC3B,OAAO,eAAe;wBACpB,MAAM;oBACR,GAAG;gBACL,OAAO,IAAI,WAAW,SAAS;oBAC7B,OAAO,eAAe;wBACpB,MAAM;wBACN,GAAG,MAAM,CAAC;wBACV,GAAG,MAAM,CAAC;wBACV,QAAQ,MAAM,MAAM,IAAI;oBAC1B,GAAG;gBACL,OAAO,IAAI,WAAW,QAAQ;oBAC5B,OAAO,eAAe;wBACpB,MAAM;wBACN,MAAM,MAAM,IAAI;oBAClB,GAAG;gBACL,OAAO,IAAI,WAAW,YAAY;oBAChC,OAAO,eAAe;wBACpB,MAAM;wBACN,MAAM,MAAM,IAAI;oBAClB,GAAG;gBACL,OAAO,IAAI,WAAW,kBAAkB,WAAW,eAAe;oBAChE,OAAO,eAAe;wBACpB,MAAM;wBACN,GAAG,MAAM,CAAC;wBACV,GAAG,MAAM,CAAC;oBACZ,GAAG;gBACL,OAAO,IAAI,WAAW,UAAU;oBAC9B,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,UAAU,GAAG,MAAM,UAAU,CAAC,EAAE,GAAG,CAAC;oBAChE,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,UAAU,GAAG,MAAM,UAAU,CAAC,EAAE,GAAG,CAAC;oBAChE,IAAI,WAAW;oBACf,IAAI,WAAW;oBACf,MAAM,eAAe,MAAM,aAAa,IAAI;oBAC5C,MAAM,mBAAmB;oBACzB,IAAI,MAAM,gBAAgB,EAAE;wBAC1B,MAAM,YAAY,MAAM,gBAAgB;wBACxC,IAAI,cAAc,QAAQ;4BACxB,WAAW,eAAe;wBAC5B,OAAO,IAAI,cAAc,MAAM;4BAC7B,WAAW,CAAC,eAAe;wBAC7B,OAAO,IAAI,cAAc,SAAS;4BAChC,WAAW,eAAe;wBAC5B,OAAO,IAAI,cAAc,QAAQ;4BAC/B,WAAW,CAAC,eAAe;wBAC7B;oBACF,OAAO;wBACL,WAAW,MAAM,QAAQ,IAAI;wBAC7B,WAAW,MAAM,QAAQ,IAAI;oBAC/B;oBACA,OAAO,eAAe;wBACpB,MAAM;wBACN;wBACA;wBACA;wBACA;oBACF,GAAG;gBACL,OAAO,IAAI,WAAW,QAAQ;oBAC5B,MAAM,cAAc,MAAM,UAAU;oBACpC,MAAM,IAAI,cAAc,WAAW,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI;oBACpD,MAAM,IAAI,cAAc,WAAW,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI;oBACpD,OAAO,eAAe;wBACpB,MAAM;wBACN;wBACA;oBACF,GAAG;gBACL,OAAO,IAAI,WAAW,UAAU,WAAW,mBAAmB;oBAC5D,MAAM,QAAQ,MAAM,IAAI,IAAI,CAAC,MAAM,UAAU,GAAG;wBAC9C;4BACE,GAAG,MAAM,gBAAgB,CAAC,EAAE;4BAC5B,GAAG,MAAM,gBAAgB,CAAC,EAAE;wBAC9B;wBACA;4BACE,GAAG,MAAM,UAAU,CAAC,EAAE;4BACtB,GAAG,MAAM,UAAU,CAAC,EAAE;wBACxB;qBACD,GAAG,EAAE;oBACN,OAAO,eAAe;wBACpB,MAAM;wBACN,MAAM;oBACR,GAAG;gBACL,OAAO,IAAI,WAAW,QAAQ;oBAC5B,OAAO,eAAe;wBACpB,MAAM;oBACR,GAAG;gBACL,OAAO,IAAI,WAAW,OAAO;oBAC3B,MAAM,OAAO,MAAM,IAAI;oBACvB,MAAM,YAAY,mBAAmB;oBACrC,OAAO,eAAe;wBACpB,MAAM;wBACN,MAAM;oBACR,GAAG;gBACL,OAAO,IAAI,WAAW,cAAc;oBAClC,MAAM,cAAc,MAAM,UAAU;oBACpC,MAAM,IAAI,cAAc,WAAW,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI;oBACpD,MAAM,IAAI,cAAc,WAAW,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI;oBACpD,OAAO,eAAe;wBACpB,MAAM;wBACN;wBACA;wBACA,QAAQ;oBACV,GAAG;gBACL,OAAO;oBACL,OAAO,eAAe;wBACpB,MAAM;oBACR,GAAG;gBACL;YACF,OAAO,IAAI,SAAS,wBAAwB,SAAS,QAAQ;gBAC3D,OAAO;oBACL,MAAM;oBACN,QAAQ;gBACV;YACF,OAAO,IAAI,IAAI,CAAC,KAAK,IAAI,QAAQ,IAAI,CAAC,KAAK,EAAE;gBAC3C,OAAO;YACT;YACA,QAAQ,IAAI,CAAC,CAAC,mBAAmB,EAAE,MAAM;YACzC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wCAAwC;YACtD,OAAO;QACT;IACF;IACA,kBAAkB,OAAO,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;gBAClD,OAAO,CAAC,sBAAsB,EAAE,QAAQ,WAAW,EAAE;YACvD;YACA,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI;oBACF,MAAM,cAAc,MAAM,IAAI,CAAC,kBAAkB;oBACjD,OAAO,CAAC,sBAAsB,EAAE,aAAa;gBAC/C,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,MAAM;gBACR;YACF;YACA,MAAM,IAAI,6BACR;QAEJ;IACF;AACF;AAEA,kCAAkC;AAClC,IAAI,gBAAgB;AACpB;AACA,IAAI,kBAAkB,cAAc;IAClC,YAAY,IAAI,EAAE,SAAS,EAAE,wBAAwB,EAAE,aAAa,EAAE,KAAK,CAAE;QAC3E,KAAK,CAAC,MAAM,WAAW;QACvB,IAAI,CAAC,eAAe,GAAG;YAAE,OAAO;YAAM,QAAQ;QAAI;QAClD,IAAI,CAAC,cAAc,GAAG,aAAa,GAAG,IAAI;QAC1C,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,MAAM,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,cAAc,IAAI;QACvG,IAAI,CAAC,OAAO,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO,KAAK,KAAK;QAChF,IAAI,CAAC,YAAY,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,YAAY,KAAK,QAAQ,GAAG,CAAC,UAAU;QAC3G,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,KAAK,OAAO,cAAc,WAAW,KAAK,UAAU;YACjH,IAAI,CAAC,WAAW,GAAG,cAAc,WAAW;QAC9C;QACA,IAAI,CAAC,aAAa,GAAG;YACnB,QAAQ,IAAI,CAAC,MAAM;QACrB;QACA,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO;QAC3C;QACA,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,OAAO,CAAC,IAAI,CAAC,aAAa;QAC1D,IAAI,CAAC,KAAK,GAAG;IACf;IACA,YAAY,KAAK,EAAE,MAAM,EAAE;QACzB,IAAI,CAAC,eAAe,GAAG;YAAE;YAAO;QAAO;IACzC;IACA,cAAc,GAAG,EAAE;QACjB,IAAI,CAAC,UAAU,GAAG;IACpB;IACA,sBAAsB,QAAQ,EAAE;QAC9B,IAAI,CAAC,kBAAkB,GAAG;IAC5B;IACA,iBAAiB,OAAO,EAAE;QACxB,IAAI,CAAC,aAAa,GAAG;IACvB;IACA,SAAS,KAAK,EAAE;QACd,IAAI,CAAC,KAAK,GAAG;IACf;IACA;;;;GAIC,GACD,QAAQ,gBAAgB,EAAE;QACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;YAC5B,MAAM,EAAE,WAAW,EAAE,GAAG;YACxB,MAAM,WAAW,QAAQ,QAAQ,IAAI;YACrC,IAAI,cAAc;YAClB,IAAI,YAAY;YAChB,MAAM,UAAU,EAAE;YAClB,MAAM,cAAc,EAAE;YACtB,IAAI,eAAe;YACnB,IAAI,CAAC,cAAc,CAAC,KAAK;YACzB,IAAI,aAAa,IAAI,CAAC,uBAAuB,CAAC;YAC9C,IAAI,qBAAqB,KAAK;YAC9B,IAAI,mBAAmB;YACvB,IAAI,oBAAoB;YACxB,IAAI,qBAAqB;YACzB,IAAI;gBACF,MAAO,CAAC,aAAa,cAAc,SAAU;oBAC3C,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,eAAe,EAAE,cAAc,EAAE,CAAC,EAAE,UAAU;wBACxD,OAAO;oBACT;oBACA,MAAM,SAAS,MAAM,IAAI,CAAC,WAAW,CACnC,YACA,oBACA;oBAEF,oBAAoB,OAAO,KAAK,CAAC,YAAY;oBAC7C,qBAAqB,OAAO,KAAK,CAAC,aAAa;oBAC/C,sBAAsB,OAAO,KAAK,CAAC,iBAAiB;oBACpD,QAAQ,IAAI,IAAI,OAAO,OAAO;oBAC9B,YAAY,OAAO,SAAS;oBAC5B,qBAAqB,OAAO,UAAU;oBACtC,IAAI,CAAC,WAAW;wBACd,aAAa,OAAO,cAAc;oBACpC;oBACA,IAAI,OAAO,OAAO,EAAE;wBAClB,YAAY,IAAI,CAAC,OAAO,OAAO;wBAC/B,eAAe,OAAO,OAAO;oBAC/B;oBACA;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS;oBACT;oBACA,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,4BAA4B,EAAE,cAAc;oBACtD,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS,CAAC,wBAAwB,EAAE,cAAc;oBAClD,WAAW;oBACX,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF;QACF;IACF;IACA;;;GAGC,GACD,YAAY,UAAU,EAAE,kBAAkB,EAAE,MAAM,EAAE;QAClD,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY;gBAChD,MAAM,SAAS,OAAO,MAAM;gBAC5B,MAAM,aAAa,OAAO,UAAU;gBACpC,MAAM,QAAQ;oBACZ,cAAc,OAAO,KAAK,CAAC,YAAY;oBACvC,eAAe,OAAO,KAAK,CAAC,aAAa;oBACzC,mBAAmB,OAAO,KAAK,CAAC,iBAAiB;gBACnD;gBACA,KAAK,MAAM,QAAQ,OAAQ;oBACzB,IAAI,KAAK,IAAI,KAAK,aAAa;wBAC7B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE;wBACjC,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,WAAW,EAAE,OAAO,KAAK,OAAO,IAAI,KAAK;4BACnD,OAAO;wBACT;oBACF;gBACF;gBACA,MAAM,cAAc,EAAE;gBACtB,KAAK,MAAM,QAAQ,OAAQ;oBACzB,IAAI,KAAK,IAAI,KAAK,mBAAmB,IAAI,CAAC,kBAAkB,CAAC,OAAO;wBAClE,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE;4BAC7E,OAAO;wBACT;wBACA,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC;wBAChD,IAAI,QAAQ;4BACV,YAAY,IAAI,CAAC;4BACjB,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,mCAAmC,EAAE,OAAO,IAAI,EAAE;gCAC5D,OAAO;4BACT;wBACF;oBACF,OAAO,IAAI,KAAK,IAAI,KAAK,mBAAmB,IAAI,CAAC,kBAAkB,CAAC,OAAO;wBACzE,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE;4BACtE,OAAO;wBACT;wBACA,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC;wBAChD,IAAI,QAAQ;4BACV,YAAY,IAAI,CAAC;4BACjB,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,mCAAmC,EAAE,OAAO,IAAI,EAAE;gCAC5D,OAAO;4BACT;wBACF;oBACF;gBACF;gBACA,IAAI,UAAU;gBACd,KAAK,MAAM,QAAQ,OAAQ;oBACzB,IAAI,KAAK,IAAI,KAAK,WAAW;wBAC3B,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,mBAAmB,CAAC;4BAC9B,OAAO;wBACT;wBACA,IAAI,KAAK,OAAO,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;4BAC/C,KAAK,MAAM,WAAW,KAAK,OAAO,CAAE;gCAClC,IAAI,QAAQ,IAAI,KAAK,iBAAiB,QAAQ,IAAI,EAAE;oCAClD,WAAW,QAAQ,IAAI,GAAG;oCAC1B,OAAO;wCACL,UAAU;wCACV,SAAS,CAAC,cAAc,EAAE,OAAO,QAAQ,IAAI,IAAI,KAAK;wCACtD,OAAO;oCACT;gCACF;4BACF;wBACF;oBACF;gBACF;gBACA,MAAM,iBAAiB,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ;gBACrD,MAAM,YAAY,OAAO,MAAM,KAAK,KAAK,OAAO,KAAK,CACnD,CAAC,OAAS,KAAK,IAAI,KAAK,aAAa,KAAK,IAAI,KAAK;gBAErD,OAAO;oBACL,SAAS;oBACT,SAAS,QAAQ,IAAI;oBACrB;oBACA;oBACA;oBACA;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,sBAAsB,EAAE,cAAc;oBAChD,OAAO;gBACT;gBACA,MAAM;YACR;QACF;IACF;IACA,mBAAmB,IAAI,EAAE;QACvB,OAAO,KAAK,IAAI,KAAK,mBAAmB,aAAa,QAAQ,YAAY,QAAQ,OAAO,KAAK,MAAM,KAAK;IAC1G;IACA,mBAAmB,IAAI,EAAE;QACvB,OAAO,KAAK,IAAI,KAAK,mBAAmB,aAAa,QAAQ,UAAU,QAAQ,eAAe;IAChG;IACA,wBAAwB,WAAW,EAAE;QACnC,OAAO;YACL;gBACE,MAAM;gBACN,SAAS,IAAI,CAAC,wBAAwB;YACxC;YACA;gBACE,MAAM;gBACN,SAAS;YACX;SACD;IACH;IACA,UAAU,UAAU,EAAE,kBAAkB,EAAE;QACxC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,gBAAgB;oBACpB,OAAO,IAAI,CAAC,SAAS;oBACrB,OAAO;wBACL;4BACE,MAAM;4BACN,eAAe,IAAI,CAAC,eAAe,CAAC,KAAK;4BACzC,gBAAgB,IAAI,CAAC,eAAe,CAAC,MAAM;4BAC3C,aAAa,IAAI,CAAC,WAAW;wBAC/B;qBACD;oBACD,OAAO;oBACP,YAAY;gBACd;gBACA,IAAI,IAAI,CAAC,KAAK,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,GAAG;oBACpD,MAAM,cAAc,OAAO,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM,OAAO,GAAK,CAAC;4BACtE,MAAM;4BACN;4BACA,UAAU;gCACR;gCACA,aAAa,OAAO,WAAW;gCAC/B,YAAY,OAAO,WAAW;4BAChC;wBACF,CAAC;oBACD,cAAc,KAAK,GAAG;2BACjB,cAAc,KAAK;2BACnB;qBACJ;gBACH;gBACA,IAAI,oBAAoB;oBACtB,cAAc,oBAAoB,GAAG;gBACvC;gBACA,MAAM,YAAY,KAAK,GAAG;gBAC1B,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpD,MAAM,UAAU,KAAK,GAAG;gBACxB,MAAM,YAAY,UAAU;gBAC5B,MAAM,QAAQ;oBACZ,cAAc,SAAS,KAAK,CAAC,YAAY;oBACzC,eAAe,SAAS,KAAK,CAAC,aAAa;oBAC3C,mBAAmB;gBACrB;gBACA,IAAI,CAAC,cAAc,GAAG,SAAS,EAAE;gBACjC,OAAO;oBACL,QAAQ,SAAS,MAAM;oBACvB,YAAY,SAAS,EAAE;oBACvB;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qCAAqC;gBACnD,MAAM;YACR;QACF;IACF;IACA,WAAW,MAAM,EAAE,MAAM,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,iBAAiB,EAAE;YACzB,KAAK,MAAM,QAAQ,OAAQ;gBACzB,IAAI,KAAK,IAAI,KAAK,mBAAmB,IAAI,CAAC,kBAAkB,CAAC,OAAO;oBAClE,IAAI;wBACF,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC;wBAChD,IAAI,UAAU,IAAI,CAAC,aAAa,EAAE;4BAChC,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,2BAA2B,EAAE,OAAO,IAAI,EAAE;gCACpD,OAAO;4BACT;4BACA,MAAM,IAAI,CAAC,aAAa,CAAC;wBAC3B;wBACA,MAAM,aAAa,MAAM,IAAI,CAAC,iBAAiB;wBAC/C,MAAM,aAAa;4BACjB,MAAM;4BACN,SAAS,KAAK,OAAO;4BACrB,QAAQ;gCACN,MAAM;gCACN,WAAW;4BACb;wBACF;wBACA,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,wCAAwC,EAAE,KAAK,OAAO,EAAE;4BAClE,OAAO;wBACT;wBACA,IAAI,IAAI,CAAC,UAAU,EAAE;4BACnB,MAAM,qBAAqB;4BAC3B,mBAAmB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU;wBACzD;wBACA,IAAI,KAAK,qBAAqB,IAAI,KAAK,qBAAqB,CAAC,MAAM,GAAG,GAAG;4BACvE,MAAM,qBAAqB;4BAC3B,mBAAmB,0BAA0B,GAAG,KAAK,qBAAqB;wBAC5E;wBACA,eAAe,IAAI,CAAC;oBACtB,EAAE,OAAO,OAAO;wBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;wBACrE,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,+BAA+B,EAAE,cAAc;4BACzD,OAAO;wBACT;wBACA,IAAI;4BACF,MAAM,aAAa,MAAM,IAAI,CAAC,iBAAiB;4BAC/C,MAAM,kBAAkB;gCACtB,MAAM;gCACN,SAAS,KAAK,OAAO;gCACrB,QAAQ;oCACN,MAAM;oCACN,WAAW;oCACX,OAAO;gCACT;4BACF;4BACA,IAAI,IAAI,CAAC,UAAU,EAAE;gCACnB,MAAM,qBAAqB;gCAC3B,mBAAmB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU;4BACzD;4BACA,IAAI,KAAK,qBAAqB,IAAI,KAAK,qBAAqB,CAAC,MAAM,GAAG,GAAG;gCACvE,MAAM,qBAAqB;gCAC3B,mBAAmB,0BAA0B,GAAG,KAAK,qBAAqB;4BAC5E;4BACA,eAAe,IAAI,CAAC;wBACtB,EAAE,OAAO,iBAAiB;4BACxB,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,4BAA4B,EAAE,OAAO,kBAAkB;gCACjE,OAAO;4BACT;4BACA,eAAe,IAAI,CAAC;gCAClB,MAAM;gCACN,SAAS,KAAK,OAAO;gCACrB,QAAQ,CAAC,OAAO,EAAE,cAAc;4BAClC;wBACF;oBACF;gBACF,OAAO,IAAI,KAAK,IAAI,KAAK,mBAAmB,IAAI,CAAC,kBAAkB,CAAC,OAAO;oBACzE,IAAI;wBACF,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC;wBAChD,IAAI,UAAU,IAAI,CAAC,aAAa,EAAE;4BAChC,MAAM,IAAI,CAAC,aAAa,CAAC;wBAC3B;wBACA,IAAI,aAAa;wBACjB,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;4BACzC,IAAI;gCACF,MAAM,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC;gCACpC,MAAM,OAAO,KAAK,KAAK,CAAC,KAAK,SAAS;gCACtC,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,YAAY,EAAE,KAAK,SAAS,EAAE;oCACzE,OAAO;gCACT;gCACA,MAAM,SAAS,MAAM,OAAO,OAAO,CAAC,MAAM;oCACxC,YAAY,KAAK,OAAO;oCACxB,UAAU,EAAE;gCACd;gCACA,aAAa,KAAK,SAAS,CAAC;gCAC5B,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,KAAK,EAAE,KAAK,IAAI,CAAC,iCAAiC,EAAE,YAAY;oCAC1E,OAAO;gCACT;4BACF,EAAE,OAAO,WAAW;gCAClB,MAAM,eAAe,qBAAqB,QAAQ,UAAU,OAAO,GAAG,OAAO;gCAC7E,aAAa,CAAC,sBAAsB,EAAE,cAAc;gCACpD,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,cAAc;oCAC7D,OAAO;gCACT;4BACF;wBACF;wBACA,MAAM,aAAa;4BACjB,MAAM;4BACN,SAAS,KAAK,OAAO;4BACrB,QAAQ;wBACV;wBACA,eAAe,IAAI,CAAC;oBACtB,EAAE,OAAO,OAAO;wBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;wBACrE,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,+BAA+B,EAAE,cAAc;4BACzD,OAAO;wBACT;wBACA,MAAM,kBAAkB;4BACtB,MAAM;4BACN,SAAS,KAAK,OAAO;4BACrB,QAAQ,CAAC,OAAO,EAAE,cAAc;wBAClC;wBACA,eAAe,IAAI,CAAC;oBACtB;gBACF;YACF;YACA,OAAO;QACT;IACF;IACA,4BAA4B,IAAI,EAAE;QAChC,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,OAAO,eAAe;YACpB,MAAM,OAAO,IAAI;QACnB,GAAG;IACL;IACA,4BAA4B,IAAI,EAAE;QAChC,IAAI;YACF,MAAM,OAAO,KAAK,KAAK,CAAC,KAAK,SAAS;YACtC,OAAO;gBACL,MAAM,KAAK,IAAI;gBACf,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0CAA0C;YACxD,OAAO;QACT;IACF;IACA,kBAAkB,OAAO,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;gBAClD,OAAO,CAAC,sBAAsB,EAAE,QAAQ,WAAW,EAAE;YACvD;YACA,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI;oBACF,MAAM,cAAc,MAAM,IAAI,CAAC,kBAAkB;oBACjD,OAAO,CAAC,sBAAsB,EAAE,aAAa;gBAC/C,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,MAAM;gBACR;YACF;YACA,MAAM,IAAI,6BACR;QAEJ;IACF;AACF;AAEA,kCAAkC;AAClC,IAAI;AACJ;AAEA,gDAAgD;AAChD,IAAI;AACJ,IAAI;AACJ,SAAS,wBAAwB,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM;IAC9E,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;YACF,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,uBAAuB,EAAE,SAAS,YAAY,EAAE,KAAK,SAAS,CAAC,WAAW;gBACpF,OAAO;YACT;YACA,MAAM,SAAS,KAAK,CAAC,SAAS;YAC9B,MAAM,aAAa,MAAM,OAAO,OAAO,CAAC,UAAU;gBAChD,YAAY,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;gBAChC,UAAU,EAAE;YACd;YACA,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,KAAK,EAAE,SAAS,iCAAiC,EAAE,KAAK,SAAS,CAAC,aAAa;gBACzF,OAAO;YACT;YACA,MAAM,uBAAuB;gBAC3B,kBAAkB;oBAChB,MAAM;oBACN,UAAU;wBACR,QAAQ,KAAK,SAAS,CAAC;oBACzB;gBACF;YACF;YACA,OAAO;gBACL,kBAAkB;gBAClB,SAAS;YACX;QACF,EAAE,OAAO,WAAW;YAClB,MAAM,eAAe,qBAAqB,QAAQ,UAAU,OAAO,GAAG,OAAO;YAC7E,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,4BAA4B,EAAE,SAAS,EAAE,EAAE,cAAc;gBACnE,OAAO;YACT;YACA,MAAM,uBAAuB;gBAC3B,kBAAkB;oBAChB,MAAM;oBACN,UAAU;wBACR,OAAO;oBACT;gBACF;YACF;YACA,OAAO;gBACL,kBAAkB;gBAClB,SAAS;YACX;QACF;IACF;AACF;AACA,SAAS,aAAa,YAAY,EAAE,KAAK;IACvC,OAAO,CAAC,CAAC,CAAC,SAAS,aAAa,IAAI,IAAI,aAAa,IAAI,IAAI,KAAK;AACpE;AACA,SAAS,qCAAqC,KAAK;IACjD,MAAM,uBAAuB,EAAE;IAC/B,KAAK,MAAM,CAAC,MAAM,OAAO,IAAI,OAAO,OAAO,CAAC,OAAQ;QAClD,MAAM,sBAAsB,iCAAiC,MAAM;QACnE,IAAI,qBAAqB;YACvB,qBAAqB,IAAI,CAAC;QAC5B;IACF;IACA,OAAO;AACT;AACA,SAAS,iCAAiC,IAAI,EAAE,MAAM;IACpD,IAAI;QACF,MAAM,cAAc,CAAC,GAAG,2BAA2B,eAAe,EAAE,OAAO,WAAW;QACtF,MAAM,aAAa,oCAAoC;QACvD,OAAO;YACL;YACA,aAAa,OAAO,WAAW,IAAI,CAAC,QAAQ,EAAE,MAAM;YACpD;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CACX,CAAC,sBAAsB,EAAE,KAAK,yBAAyB,CAAC,EACxD;QAEF,OAAO;IACT;AACF;AACA,SAAS,oCAAoC,MAAM;IACjD,MAAM,aAAa,CAAC;IACpB,IAAI,OAAO,UAAU,EAAE;QACrB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,OAAO,UAAU,EAAG;YAC5D,MAAM,aAAa;YACnB,UAAU,CAAC,IAAI,GAAG,eAAe;gBAC/B,MAAM,wBAAwB,WAAW,IAAI,IAAI;YACnD,GAAG,WAAW,WAAW,GAAG;gBAAE,aAAa,WAAW,WAAW;YAAC,IAAI,CAAC;QACzE;IACF;IACA,OAAO,eAAe;QACpB,MAAM,cAAc,IAAI,CAAC,MAAM;QAC/B;IACF,GAAG,OAAO,QAAQ,IAAI,OAAO,QAAQ,CAAC,MAAM,GAAG,IAAI;QAAE,UAAU,OAAO,QAAQ;IAAC,IAAI,CAAC;AACtF;AACA,SAAS,wBAAwB,QAAQ;IACvC,OAAQ,SAAS,WAAW;QAC1B,KAAK;YACH,OAAO,cAAc,IAAI,CAAC,MAAM;QAClC,KAAK;QACL,KAAK;YACH,OAAO,cAAc,IAAI,CAAC,MAAM;QAClC,KAAK;YACH,OAAO,cAAc,IAAI,CAAC,OAAO;QACnC,KAAK;YACH,OAAO,cAAc,IAAI,CAAC,KAAK;QACjC,KAAK;YACH,OAAO,cAAc,IAAI,CAAC,MAAM;QAClC;YACE,OAAO,cAAc,IAAI,CAAC,MAAM;IACpC;AACF;AAEA,kCAAkC;AAClC,IAAI,kBAAkB,cAAc;IAClC,YAAY,IAAI,EAAE,SAAS,EAAE,wBAAwB,EAAE,aAAa,EAAE,KAAK,CAAE;QAC3E,KAAK,CAAC,MAAM,WAAW;QACvB,IAAI,CAAC,eAAe,GAAG;YAAE,OAAO;YAAM,QAAQ;QAAI;QAClD,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,cAAc,IAAI,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACnJ,IAAI,CAAC,OAAO,GAAG,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO;QACrE,MAAM,eAAe,eAAe;YAClC,QAAQ,IAAI,CAAC,MAAM;QACrB,GAAG,IAAI,CAAC,OAAO,GAAG;YAAE,aAAa;gBAAE,SAAS,IAAI,CAAC,OAAO;YAAC;QAAE,IAAI,CAAC;QAChE,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,WAAW,CAAC;QAC5C,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,KAAK,OAAO,cAAc,WAAW,KAAK,UAAU;YACjH,IAAI,CAAC,WAAW,GAAG,cAAc,WAAW;QAC9C;QACA,IAAI,CAAC,qBAAqB,GAAG;YAC3B,aAAa;YACb,MAAM;YACN,MAAM;YACN,iBAAiB;YACjB,mDAAmD;YACnD,2DAA2D;YAC3D,2DAA2D;YAC3D,OAAO;gBACL;oBACE,aAAa;wBACX,aAAa,IAAI,CAAC,WAAW;oBAC/B;gBACF;aACD;QACH;QACA,IAAI,CAAC,aAAa,GAAG,eAAe;YAClC,QAAQ,IAAI,CAAC,MAAM;QACrB,GAAG,IAAI,CAAC,OAAO,GAAG;YAAE,SAAS,IAAI,CAAC,OAAO;QAAC,IAAI,CAAC;QAC/C,IAAI,IAAI,CAAC,KAAK,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,GAAG;YACpD,IAAI,CAAC,2BAA2B;QAClC;IACF;IACA,YAAY,KAAK,EAAE,MAAM,EAAE;QACzB,IAAI,CAAC,eAAe,GAAG;YAAE;YAAO;QAAO;IACzC;IACA,cAAc,GAAG,EAAE;QACjB,IAAI,CAAC,UAAU,GAAG;IACpB;IACA,sBAAsB,QAAQ,EAAE;QAC9B,IAAI,CAAC,kBAAkB,GAAG;IAC5B;IACA,iBAAiB,OAAO,EAAE;QACxB,IAAI,CAAC,aAAa,GAAG;IACvB;IACA,SAAS,KAAK,EAAE;QACd,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,2BAA2B;IAClC;IACA;;GAEC,GACD,8BAA8B;QAC5B,MAAM,uBAAuB,IAAI,CAAC,KAAK,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,IAAI,qCAAqC,IAAI,CAAC,KAAK,IAAI,EAAE;QACrI,IAAI,CAAC,qBAAqB,GAAG,cAAc,eAAe,CAAC,GAAG,IAAI,CAAC,qBAAqB,GAAG;YACzF,OAAO;gBACL,eAAe;oBACb,aAAa;wBACX,aAAa,IAAI,CAAC,WAAW;oBAC/B;gBACF,GAAG,qBAAqB,MAAM,GAAG,IAAI;oBAAE;gBAAqB,IAAI,CAAC;aAClE;QACH;IACF;IACA;;;;GAIC,GACD,QAAQ,gBAAgB,EAAE;QACxB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;YAC5B,MAAM,EAAE,WAAW,EAAE,GAAG;YACxB,MAAM,WAAW,QAAQ,QAAQ,IAAI;YACrC,IAAI,cAAc;YAClB,IAAI,YAAY;YAChB,MAAM,UAAU,EAAE;YAClB,MAAM,cAAc,EAAE;YACtB,IAAI,eAAe;YACnB,IAAI,CAAC,OAAO,GAAG,EAAE;YACjB,MAAM,IAAI,CAAC,iBAAiB,CAAC;YAC7B,IAAI,mBAAmB;YACvB,IAAI,oBAAoB;YACxB,IAAI,qBAAqB;YACzB,IAAI;gBACF,MAAO,CAAC,aAAa,cAAc,SAAU;oBAC3C,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,eAAe,EAAE,cAAc,EAAE,CAAC,EAAE,UAAU;wBACxD,OAAO;oBACT;oBACA,MAAM,SAAS,MAAM,IAAI,CAAC,WAAW,CAAC;oBACtC,oBAAoB,OAAO,KAAK,CAAC,YAAY;oBAC7C,qBAAqB,OAAO,KAAK,CAAC,aAAa;oBAC/C,sBAAsB,OAAO,KAAK,CAAC,iBAAiB;oBACpD,QAAQ,IAAI,IAAI,OAAO,OAAO;oBAC9B,YAAY,OAAO,SAAS;oBAC5B,IAAI,OAAO,OAAO,EAAE;wBAClB,YAAY,IAAI,CAAC,OAAO,OAAO;wBAC/B,eAAe,OAAO,OAAO;oBAC/B;oBACA;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS;oBACT;oBACA,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,4BAA4B,EAAE,cAAc;oBACtD,OAAO;gBACT;gBACA,OAAO;oBACL,SAAS;oBACT;oBACA,SAAS,CAAC,wBAAwB,EAAE,cAAc;oBAClD,WAAW;oBACX,OAAO;wBACL,cAAc;wBACd,eAAe;wBACf,mBAAmB;oBACrB;gBACF;YACF;QACF;IACF;IACA;;GAEC,GACD,kBAAkB,WAAW,EAAE;QAC7B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,QAAQ;gBAAC;oBAAE,MAAM;gBAAY;aAAE;YACrC,MAAM,sBAAsB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,wBAAwB,GAAG,6BAA6B,OAAO;YAChI,IAAI,CAAC,OAAO,GAAG;gBACb;oBACE,MAAM;oBACN,OAAO;wBACL;4BACE,MAAM,oBAAoB;wBAC5B;qBACD;gBACH;gBACA;oBACE,MAAM;oBACN;gBACF;aACD;QACH;IACF;IACA;;GAEC,GACD,YAAY,MAAM,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI;YACR,IAAI;gBACF,MAAM,YAAY,KAAK,GAAG;gBAC1B,MAAM,mBAAmB,iCACvB,IAAI,CAAC,OAAO,EACZ;gBAEF,MAAM,oBAAoB,iBAAiB,KAAK;gBAChD,MAAM,aAAa;gBACnB,MAAM,aAAa;gBACnB,IAAI,YAAY;gBAChB,IAAI,WAAW;gBACf,IAAK,IAAI,UAAU,GAAG,UAAU,YAAY,UAAW;oBACrD,IAAI;wBACF,IAAI,UAAU,GAAG;4BACf,MAAM,SAAS,aAAa,KAAK,GAAG,CAAC,GAAG,WAAW;4BACnD,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,qCAAqC,EAAE,UAAU,EAAE,cAAc,EAAE,SAAS,IAAI,WAAW,CAAC;gCACtG,OAAO;4BACT;4BACA,MAAM,IAAI,QAAQ,CAAC,WAAa,WAAW,UAAU;wBACvD;wBACA,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC;4BAClD,OAAO,IAAI,CAAC,SAAS;4BACrB,UAAU;4BACV,QAAQ,IAAI,CAAC,qBAAqB;wBACpC;wBACA,IAAI,CAAC,SAAS,UAAU,IAAI,SAAS,UAAU,CAAC,MAAM,KAAK,GAAG;4BAC5D,MAAM,IAAI,iBAAiB,SAAS;wBACtC;wBACA;oBACF,EAAE,OAAO,OAAO;wBACd,YAAY,iBAAiB,QAAQ,QAAQ,IAAI,MAAM,OAAO;wBAC9D,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,gBAAgB,EAAE,UAAU,OAAO,EAAE;4BAC/C,OAAO;wBACT;wBACA,IAAI,YAAY,aAAa,GAAG;4BAC9B,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,gCAAgC,EAAE,WAAW,UAAU,CAAC;gCAClE,OAAO;4BACT;4BACA,MAAM;wBACR;oBACF;gBACF;gBACA,IAAI,CAAC,UAAU;oBACb,MAAM,aAAa,IAAI,MAAM;gBAC/B;gBACA,MAAM,UAAU,KAAK,GAAG;gBACxB,MAAM,YAAY,UAAU;gBAC5B,MAAM,EAAE,aAAa,EAAE,GAAG;gBAC1B,MAAM,SAAS,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU;gBACpD,IAAI,SAAS,UAAU,IAAI,SAAS,UAAU,CAAC,EAAE,EAAE;oBACjD,MAAM,mBAAmB,KAAK,KAAK,CACjC,KAAK,SAAS,CAAC,SAAS,UAAU,CAAC,EAAE,CAAC,OAAO;oBAE/C,IAAI,iBAAiB,KAAK,EAAE;wBAC1B,KAAK,MAAM,QAAQ,iBAAiB,KAAK,CAAE;4BACzC,IAAI,CAAC,KAAK,KAAK,YAAY,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,EAAE;gCACvD,IAAI,OAAO,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,KAAK,YAAY,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK;oCAClF,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG;gCAC7B;gCACA,IAAI,OAAO,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,KAAK,YAAY,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK;oCAClF,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG;gCAC7B;4BACF;wBACF;oBACF;oBACA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBACpB;gBACA,MAAM,oBAAoB,EAAE;gBAC5B,IAAI,OAAO,OAAO,CAAC,MAAM,GAAG,GAAG;oBAC7B,IAAI,WAAW;oBACf,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,OAAO,CAAC,MAAM,EAAE,IAAK;wBAC9C,MAAM,SAAS,OAAO,OAAO,CAAC,EAAE;wBAChC,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,IAAI,EAAE;4BAC7E,OAAO;wBACT;wBACA,IAAI,OAAO,IAAI,KAAK,oBAAoB;4BACtC,OAAO,OAAO,GAAG,IAAI,CAAC,UAAU;4BAChC,OAAO;gCACL,UAAU;gCACV,SAAS;gCACT,OAAO;4BACT;wBACF,OAAO,IAAI,OAAO,IAAI,KAAK,eAAe;4BACxC,MAAM,WAAW,OAAO,IAAI;4BAC5B,MAAM,WAAW,OAAO,SAAS;4BACjC,IAAI,IAAI,CAAC,KAAK,IAAI,YAAY,IAAI,CAAC,KAAK,EAAE;gCACxC,MAAM,4BAA4B,OAAO,aAAa,CAAC,IAAI,CACzD,CAAC,KAAO,GAAG,IAAI,KAAK;gCAEtB,IAAI,2BAA2B;oCAC7B,MAAM,kBAAkB,MAAM,wBAC5B,UACA,UACA,IAAI,CAAC,KAAK,EACV,2BACA;oCAEF,kBAAkB,IAAI,CAAC,gBAAgB,gBAAgB;oCACvD,IAAI,CAAC,gBAAgB,OAAO,EAAE;wCAC5B,WAAW;oCACb;gCACF;4BACF;wBACF,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE;4BAC7B,IAAI;gCACF,MAAM,IAAI,CAAC,aAAa,CAAC;gCACzB,IAAI,IAAI,OAAO,OAAO,CAAC,MAAM,GAAG,GAAG;oCACjC,MAAM,aAAa,OAAO,OAAO,CAAC,IAAI,EAAE;oCACxC,MAAM,iBAAiB,OAAO,IAAI,KAAK,UAAU,WAAW,IAAI,KAAK;oCACrE,MAAM,SAAS,iBAAiB,MAAM;oCACtC,MAAM,IAAI,QAAQ,CAAC,WAAa,WAAW,UAAU;gCACvD;4BACF,EAAE,OAAO,aAAa;gCACpB,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,uBAAuB,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,aAAa;oCAChE,OAAO;gCACT;gCACA,WAAW;4BACb;wBACF;oBACF;oBACA,IAAI,OAAO,aAAa,CAAC,MAAM,GAAG,KAAK,UAAU;wBAC/C,MAAM,2BAA2B,OAAO,aAAa,CAAC,MAAM,CAC1D,CAAC,KAAO,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK;wBAEtC,IAAI,yBAAyB,MAAM,GAAG,GAAG;4BACvC,IAAI;gCACF,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,kCAAkC,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,WAAW,mBAAmB,IAAI;oCAChH,OAAO;gCACT;gCACA,MAAM,aAAa,MAAM,IAAI,CAAC,iBAAiB;gCAC/C,MAAM,aAAa,WAAW,OAAO,CACnC,4BACA;gCAEF,KAAK,MAAM,gBAAgB,yBAA0B;oCACnD,MAAM,uBAAuB;wCAC3B,kBAAkB;4CAChB,MAAM,aAAa,IAAI;4CACvB,UAAU,eAAe;gDACvB,KAAK,IAAI,CAAC,UAAU,IAAI;4CAC1B,GAAG,CAAC,CAAC,KAAK,aAAa,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,IAAI;gDACpE,wBAAwB;4CAC1B,IAAI,CAAC;4CACL,OAAO;gDACL;oDACE,YAAY;wDACV,UAAU;wDACV,MAAM;oDACR;gDACF;6CACD;wCACH;oCACF;oCACA,kBAAkB,IAAI,CAAC;gCACzB;4BACF,EAAE,OAAO,OAAO;gCACd,OAAO;oCACL,UAAU;oCACV,SAAS,CAAC,4BAA4B,EAAE,OAAO;oCAC/C,OAAO;gCACT;4BACF;wBACF;oBACF;oBACA,IAAI,kBAAkB,MAAM,GAAG,GAAG;wBAChC,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,OAAO,EAAE,kBAAkB,MAAM,CAAC,8BAA8B,CAAC;4BAC3E,OAAO;wBACT;wBACA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;4BAChB,MAAM;4BACN,OAAO;wBACT;oBACF;gBACF;gBACA,OAAO;oBACL,SAAS,OAAO,OAAO;oBACvB,SAAS,OAAO,OAAO;oBACvB,WAAW,OAAO,SAAS;oBAC3B,OAAO;wBACL,cAAc,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK;wBACnF,eAAe,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,oBAAoB,KAAK;wBACxF,mBAAmB;oBACrB;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,sBAAsB,EAAE,cAAc;oBAChD,OAAO;gBACT;gBACA,MAAM;YACR;QACF;IACF;IACA;;GAEC,GACD,gBAAgB,QAAQ,EAAE,MAAM,EAAE;QAChC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,UAAU,EAAE;YAClB,IAAI,UAAU;YACd,MAAM,gBAAgB,EAAE;YACxB,IAAI,CAAC,SAAS,UAAU,IAAI,SAAS,UAAU,CAAC,MAAM,KAAK,GAAG;gBAC5D,OAAO;oBACL,SAAS,EAAE;oBACX,SAAS;oBACT,WAAW;oBACX,eAAe,EAAE;gBACnB;YACF;YACA,MAAM,YAAY,SAAS,UAAU,CAAC,EAAE;YACxC,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,0BAA0B,EAAE,KAAK,SAAS,CAAC,UAAU,OAAO,EAAE,MAAM,IAAI;gBAClF,OAAO;YACT;YACA,KAAK,MAAM,QAAQ,UAAU,OAAO,CAAC,KAAK,CAAE;gBAC1C,IAAI,KAAK,IAAI,EAAE;oBACb,WAAW,KAAK,IAAI,GAAG;oBACvB,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;wBAClC,OAAO;oBACT;gBACF;gBACA,IAAI,KAAK,YAAY,EAAE;oBACrB,cAAc,IAAI,CAAC,KAAK,YAAY;oBACpC,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,qBAAqB,EAAE,KAAK,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,SAAS,CAAC,KAAK,YAAY,CAAC,IAAI,GAAG;wBAC9G,OAAO;oBACT;oBACA,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC,KAAK,YAAY;oBACjE,IAAI,QAAQ;wBACV,IAAI,KAAK,YAAY,CAAC,IAAI,KAAK,kBAAkB,OAAO,IAAI,KAAK,QAAQ;4BACvE,OAAO;gCACL,UAAU;gCACV,SAAS,CAAC,eAAe,EAAE,KAAK,SAAS,CAAC,SAAS;gCACnD,OAAO;4BACT;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,GAAG,OAAO,CAAC;gCACX,GAAG,OAAO,CAAC;gCACX,QAAQ;4BACV;4BACA,IAAI,OAAO,iBAAiB,EAAE;gCAC5B,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM;wCAAC;qCAAkB;gCAC3B;gCACA,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM;wCAAC;qCAAY;gCACrB;4BACF;4BACA,QAAQ,IAAI,CAAC;4BACb,IAAI,OAAO,UAAU,EAAE;gCACrB,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM;wCAAC;qCAAQ;gCACjB;4BACF;wBACF,OAAO;4BACL,QAAQ,IAAI,CAAC;wBACf;oBACF,OAAO;wBACL,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,yCAAyC,EAAE,KAAK,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC;4BACvF,OAAO;wBACT;oBACF;gBACF;YACF;YACA,OAAO;gBACL,UAAU;gBACV,SAAS,CAAC,MAAM,EAAE,cAAc,MAAM,CAAC,8BAA8B,EAAE,QAAQ,MAAM,CAAC,QAAQ,CAAC;gBAC/F,OAAO;YACT;YACA,MAAM,YAAY,cAAc,MAAM,KAAK,KAAK,UAAU,YAAY,IAAI,UAAU,YAAY,KAAK;YACrG,OAAO;gBACL;gBACA,SAAS,QAAQ,IAAI;gBACrB;gBACA;YACF;QACF;IACF;IACA;;GAEC,GACD,4BAA4B,YAAY,EAAE;QACxC,IAAI,IAAI;QACR,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG;QACvB,IAAI,CAAC,QAAQ,CAAC,MAAM;YAClB,OAAO;QACT;QACA,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,WAAW,KAAK,GAAG;gBACrB;YACF,KAAK;gBAAY;oBACf,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,oBAAoB,CACxC,KAAK,CAAC,EACN,KAAK,CAAC;oBAER,OAAO;wBACL,MAAM;wBACN;wBACA;wBACA,QAAQ,KAAK,MAAM,IAAI;oBACzB;gBACF;YACA,KAAK;gBAAgB;oBACnB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,oBAAoB,CACxC,KAAK,CAAC,EACN,KAAK,CAAC;oBAER,MAAM,aAAa,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK;oBAC1D,MAAM,oBAAoB,CAAC,KAAK,KAAK,mBAAmB,KAAK,OAAO,KAAK;oBACzE,OAAO;wBACL,MAAM;wBACN,MAAM,KAAK,IAAI;wBACf;wBACA;wBACA;wBACA;oBACF;gBACF;YACA,KAAK;gBAAmB;oBACtB,MAAM,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,MAAQ,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,MAAQ,mBAAmB;oBAC3F,OAAO;wBACL,MAAM;wBACN;oBACF;gBACF;YACA,KAAK;gBAAmB;oBACtB,MAAM,YAAY,KAAK,SAAS,CAAC,WAAW;oBAC5C,OAAO;wBACL,MAAM;wBACN,MAAM;4BAAC,cAAc,OAAO,WAAW;yBAAW;oBACpD;gBACF;YACA,KAAK;gBAAa;oBAChB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,oBAAoB,CACxC,KAAK,CAAC,EACN,KAAK,CAAC;oBAER,MAAM,YAAY,CAAC,KAAK,SAAS,IAAI,MAAM,EAAE,WAAW;oBACxD,MAAM,YAAY,OAAO,KAAK,SAAS,KAAK,WAAW,KAAK,SAAS,GAAG;oBACxE,IAAI,WAAW;oBACf,IAAI,WAAW;oBACf,IAAI,cAAc,MAAM;wBACtB,WAAW,CAAC;oBACd,OAAO,IAAI,cAAc,QAAQ;wBAC/B,WAAW;oBACb,OAAO,IAAI,cAAc,QAAQ;wBAC/B,WAAW,CAAC;oBACd,OAAO,IAAI,cAAc,SAAS;wBAChC,WAAW;oBACb,OAAO;wBACL,WAAW;oBACb;oBACA,OAAO;wBACL,MAAM;wBACN;wBACA;wBACA;wBACA;oBACF;gBACF;YACA,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,KAAK,KAAK,GAAG;gBACf;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;gBACR;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;gBACR;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,QAAQ;gBAEV;YACF,KAAK;gBAAY;oBACf,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,oBAAoB,CACxC,KAAK,CAAC,EACN,KAAK,CAAC;oBAER,OAAO;wBACL,MAAM;wBACN;wBACA;oBACF;gBACF;YACA,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,KAAK;gBACP;YACF,KAAK;gBAAiB;oBACpB,MAAM,aAAa,IAAI,CAAC,oBAAoB,CAC1C,KAAK,CAAC,EACN,KAAK,CAAC;oBAER,MAAM,WAAW,IAAI,CAAC,oBAAoB,CACxC,KAAK,aAAa,EAClB,KAAK,aAAa;oBAEpB,OAAO;wBACL,MAAM;wBACN,MAAM;4BACJ;gCAAE,GAAG,WAAW,CAAC;gCAAE,GAAG,WAAW,CAAC;4BAAC;4BACnC;gCAAE,GAAG,SAAS,CAAC;gCAAE,GAAG,SAAS,CAAC;4BAAC;yBAChC;oBACH;gBACF;YACA;gBACE,IAAI,aAAa,cAAc,IAAI,CAAC,KAAK,GAAG;oBAC1C,OAAO;wBACL,MAAM;wBACN;wBACA,WAAW;wBACX,WAAW,KAAK,GAAG;wBACnB,SAAS,IAAI,CAAC,UAAU;oBAC1B;gBACF;gBACA,QAAQ,IAAI,CAAC,CAAC,iCAAiC,EAAE,MAAM;gBACvD,OAAO;QACX;IACF;IACA;;GAEC,GACD,qBAAqB,CAAC,EAAE,CAAC,EAAE;QACzB,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG;QAC9B,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG;QAC9B,OAAO;YACL,GAAG,KAAK,KAAK,CAAC,IAAI,MAAM,IAAI,CAAC,eAAe,CAAC,KAAK;YAClD,GAAG,KAAK,KAAK,CAAC,IAAI,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM;QACrD;IACF;IACA,kBAAkB,OAAO,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,EAAE;gBACjD,IAAI,CAAC,UAAU,GAAG,QAAQ,UAAU;YACtC;YACA,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,WAAW,EAAE;gBAClD,OAAO,CAAC,sBAAsB,EAAE,QAAQ,WAAW,EAAE;YACvD;YACA,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI;oBACF,MAAM,cAAc,MAAM,IAAI,CAAC,kBAAkB;oBACjD,OAAO,CAAC,sBAAsB,EAAE,aAAa;gBAC/C,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,MAAM;gBACR;YACF;YACA,MAAM,IAAI,6BACR;QAEJ;IACF;AACF;AAEA,gCAAgC;AAChC,IAAI,0BAA0B;IAC5B,wBAAwB;IACxB,mCAAmC;IACnC,4BAA4B;IAC5B,4BAA4B;IAC5B,8BAA8B;IAC9B,6BAA6B;IAC7B,2CAA2C;AAC7C;AACA,IAAI,gBAAgB,MAAM;IACxB;;GAEC,GACD,YAAY,MAAM,CAAE;QAClB,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,UAAU,SAAS,EAAE,aAAa,EAAE,wBAAwB,EAAE,KAAK,EAAE;QACnE,MAAM,OAAO,eAAe,gBAAgB,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC;YACV,UAAU;YACV,SAAS,CAAC,+BAA+B,EAAE,KAAK,SAAS,EAAE,WAAW;YACtE,OAAO;QACT;QACA,IAAI;YACF,OAAQ;gBACN,KAAK;oBACH,OAAO,IAAI,gBACT,MACA,WACA,0BACA,eACA;gBAEJ,KAAK;oBACH,OAAO,IAAI,mBACT,MACA,WACA,0BACA,eACA;gBAEJ,KAAK;oBACH,OAAO,IAAI,gBACT,MACA,WACA,0BACA,eACA;gBAEJ;oBACE,MAAM,IAAI,8BACR;wBAAC;wBAAU;wBAAa;qBAAS,EACjC;YAEN;QACF,EAAE,OAAO,OAAO;YACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;YACrE,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS,CAAC,6BAA6B,EAAE,cAAc;gBACvD,OAAO;YACT;YACA,MAAM;QACR;IACF;IACA,OAAO,iBAAiB,SAAS,EAAE;QACjC,MAAM,aAAa,UAAU,QAAQ,CAAC,OAAO,UAAU,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;QACvE,IAAI,cAAc,yBAAyB;YACzC,OAAO,uBAAuB,CAAC,WAAW;QAC5C;QACA,MAAM,IAAI,sBACR,OAAO,IAAI,CAAC,0BACZ;IAEJ;AACF;AAEA,uCAAuC;AACvC,IAAI,oBAAoB;IACtB,YAAY,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,CAAE;QACtC,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc;QAClC,MAAM,SAAS,IAAI,CAAC,QAAQ,CAAC,SAAS,CACpC,QAAQ,SAAS,EACjB,QAAQ,aAAa,IAAI,CAAC,GAC1B,QAAQ,wBAAwB,EAChC;QAEF,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,gBAAgB;QACrB,IAAI,CAAC,KAAK,GAAG;IACf;IACA,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAM,QAAQ,IAAI,EAAE,MAAM;gBAC/D,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,MAAM,SAAS,MAAM,KAAK,UAAU,CAAC;oBAAE,UAAU;gBAAM;gBACvD,OAAO,OAAO,QAAQ,CAAC;YACzB;QACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,SAAW,QAAQ,IAAI,EAAE,MAAM;gBAChE,IAAI,IAAI,IAAI;gBACZ,OAAO,OAAO,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,GAAG;gBAC9D,MAAM,eAAe;gBACrB,MAAM,cAAc,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,kBAAkB,KAAK;gBACpG,IAAI;oBACF,IAAI,IAAI,CAAC,eAAe,EAAE;wBACxB,IAAI;4BACF,MAAM,IAAI,CAAC,YAAY;wBACzB,EAAE,OAAO,GAAG,CACZ;oBACF;oBACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;oBACvC,MAAM,IAAI,CAAC,aAAa,CAAC;oBACzB,OAAO,SAAS,GAAG,KAAK,GAAG;oBAC3B,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;oBACvC,IAAI;wBACF,MAAM,IAAI,CAAC,wBAAwB;oBACrC,EAAE,OAAO,GAAG;wBACV,IAAI,CAAC,MAAM,CAAC;4BACV,UAAU;4BACV,SAAS,CAAC,iDAAiD,EAAE,OAC3D,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,IACpD;4BACH,OAAO;wBACT;oBACF;gBACF,EAAE,OAAO,OAAO;oBACd,MAAM,MAAM,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;oBAChF,IAAI,CAAC,MAAM,CAAC;wBACV,UAAU;wBACV,SAAS,CAAC,uBAAuB,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,KAAK;wBACxD,OAAO;oBACT;oBACA,MAAM;gBACR;YACF;QACA,KAAK,IAAI,CAAC,oBAAoB;QAC9B,KAAK,IAAI,CAAC,eAAe;IAC3B;IACA,QAAQ,oBAAoB,EAAE;QAC5B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI;YACR,MAAM,UAAU,OAAO,yBAAyB,WAAW;gBAAE,aAAa;YAAqB,IAAI;YACnG,IAAI,CAAC,eAAe,GAAG,QAAQ,eAAe,KAAK;YACnD,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;YAClD,MAAM,aAAa,KAAK,GAAG;YAC3B,IAAI,CAAC,cAAc,eAAe,eAAe;gBAC/C,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,2DAA2D,CAAC;oBACtE,OAAO;gBACT;gBACA,MAAM,KAAK,IAAI,CAAC,0BAA0B;oBAAE,WAAW;gBAAO;YAChE;YACA,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI;oBACF,MAAM,IAAI,CAAC,YAAY;gBACzB,EAAE,OAAO,OAAO;oBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;oBACrE,IAAI,CAAC,MAAM,CAAC;wBACV,UAAU;wBACV,SAAS,CAAC,kCAAkC,EAAE,aAAa,4BAA4B,CAAC;wBACxF,OAAO;oBACT;gBACF;YACF;YACA,MAAM,QAAQ,KAAK,GAAG;YACtB,MAAM,SAAS,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;gBAAE;gBAAS,QAAQ,IAAI,CAAC,MAAM;YAAC;YACvE,MAAM,kBAAkB,KAAK,GAAG,KAAK;YACrC,IAAI,OAAO,KAAK,EAAE;gBAChB,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,QAAQ,SAAS,KACjB,OAAO,KAAK,CAAC,YAAY,EACzB,OAAO,KAAK,CAAC,aAAa,EAC1B,CAAC,KAAK,OAAO,KAAK,CAAC,gBAAgB,KAAK,OAAO,KAAK,GACpD,CAAC,KAAK,OAAO,KAAK,CAAC,mBAAmB,KAAK,OAAO,KAAK,GACvD;YAEJ;YACA,OAAO;QACT;IACF;IACA,cAAc,MAAM,EAAE;QACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;YAClD,MAAM,YAAY,IAAI,CAAC,EAAE,CAAC,mBAAmB;YAC7C,OAAQ,OAAO,IAAI;gBACjB,KAAK;oBAAS;wBACZ,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,MAAM,EAAE,UAAU,EAAE,GAAG;wBAC9C,IAAI,WAAW;4BACb,MAAM,QAAQ,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACnC,QAAQ,UAAU,OAAO,SAAS;gCAClC,YAAY,cAAc,OAAO,aAAa;gCAC9C,aAAa;4BACf;4BACA,MAAM,aAAa,IAAI,CAAC,WAAW,CAAC;4BACpC,IAAI,YAAY;gCACd,MAAM,kBAAkB;oCACtB,UAAU;oCACV,aAAa,IAAI,CAAC,qBAAqB,CAAC,SAAS,GAAG;oCACpD,QAAQ;oCACR,WAAW,EAAE;gCACf;gCACA,IAAI,CAAC,gBAAgB,CACnB,QACA;oCAAC;iCAAgB,EACjB,gBAAgB,WAAW;4BAE/B;wBACF,OAAO;4BACL,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACrB,QAAQ,UAAU,OAAO,SAAS;gCAClC,YAAY,cAAc,OAAO,aAAa;4BAChD;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;gBACL,KAAK;oBAAe;wBAClB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG;wBACjB,IAAI,WAAW;4BACb,MAAM,QAAQ,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACnC,QAAQ;gCACR,YAAY;gCACZ,aAAa;4BACf;4BACA,MAAM,aAAa,IAAI,CAAC,WAAW,CAAC;4BACpC,IAAI,YAAY;gCACd,MAAM,kBAAkB;oCACtB,UAAU;oCACV,aAAa,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,GAAG;oCAC3D,QAAQ;oCACR,WAAW,EAAE;gCACf;gCACA,IAAI,CAAC,gBAAgB,CACnB,QACA;oCAAC;iCAAgB,EACjB,gBAAgB,WAAW;4BAE/B;wBACF,OAAO;4BACL,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACrB,QAAQ;gCACR,YAAY;4BACd;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAe;wBAClB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG;wBACjB,IAAI,WAAW;4BACb,MAAM,QAAQ,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACnC,QAAQ;gCACR,YAAY;gCACZ,aAAa;4BACf;4BACA,MAAM,aAAa,IAAI,CAAC,WAAW,CAAC;4BACpC,IAAI,YAAY;gCACd,MAAM,kBAAkB;oCACtB,UAAU;oCACV,aAAa,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,GAAG;oCAC3D,QAAQ;oCACR,WAAW,EAAE;gCACf;gCACA,IAAI,CAAC,gBAAgB,CACnB,QACA;oCAAC;iCAAgB,EACjB,gBAAgB,WAAW;4BAE/B;wBACF,OAAO;4BACL,MAAM,KAAK,KAAK,CAAC,GAAG,GAAG;gCACrB,YAAY;4BACd;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,MAAM,EAAE,IAAI,EAAE,GAAG;wBACjB,MAAM,KAAK,IAAI,CAAC,OAAO,QAAQ,OAAO,OAAO;wBAC7C,IAAI,WAAW;4BACb,MAAM,QAAQ,MAAM,0BAA0B;4BAC9C,MAAM,aAAa,IAAI,CAAC,WAAW,CAAC;4BACpC,IAAI,YAAY;gCACd,MAAM,kBAAkB;oCACtB,UAAU;oCACV,aAAa,IAAI,CAAC,kBAAkB,CAAC,OAAO,QAAQ,OAAO,OAAO;oCAClE,QAAQ;oCACR,WAAW;wCAAC,OAAO,QAAQ,OAAO,OAAO;qCAAI;gCAC/C;gCACA,IAAI,CAAC,gBAAgB,CACnB,QACA;oCAAC;iCAAgB,EACjB,gBAAgB,WAAW;4BAE/B;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAY;wBACf,MAAM,EAAE,IAAI,EAAE,GAAG;wBACjB,MAAM,UAAU,MAAM,OAAO,CAAC,QAAQ,OAAO;4BAAC;yBAAK;wBACnD,MAAM,mBAAmB,EAAE;wBAC3B,KAAK,MAAM,UAAU,QAAS;4BAC5B,MAAM,SAAS,mBAAmB,OAAO,UAAU,OAAO,SAAS;4BACnE,MAAM,KAAK,QAAQ,CAAC;4BACpB,IAAI,WAAW;gCACb,iBAAiB,IAAI,CAAC;oCACpB,UAAU;oCACV,aAAa,CAAC,MAAM,EAAE,QAAQ;oCAC9B,QAAQ;oCACR,WAAW;wCAAC;qCAAO;gCACrB;4BACF;wBACF;wBACA,IAAI,aAAa,iBAAiB,MAAM,GAAG,GAAG;4BAC5C,IAAI,CAAC,gBAAgB,CACnB,QACA,kBACA,iBAAiB,GAAG,CAAC,CAAC,IAAM,EAAE,WAAW,EAAE,MAAM,CAAC,SAAS,IAAI,CAAC,SAAS;wBAE7E;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAU;wBACb,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,WAAW,CAAC,EAAE,GAAG;wBAC7C,MAAM,KAAK,MAAM,CACf,KAAK,OAAO,IAAI,GAChB,KAAK,OAAO,IAAI,GAChB,YAAY,OAAO,WAAW,GAC9B,YAAY,OAAO,WAAW;wBAEhC,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;4BAC5B,MAAM;4BACN,QAAQ,OAAO,YAAY,OAAO,WAAW;4BAC7C,QAAQ,OAAO,YAAY,OAAO,WAAW;4BAC7C,QAAQ,OAAO,MAAM,YAAY,OAAO,MAAM,WAAW;gCAAE,GAAG,KAAK,KAAK,CAAC;gCAAI,GAAG,KAAK,KAAK,CAAC;4BAAG,IAAI,KAAK;wBACzG;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,MAAM,EAAE,MAAM,KAAK,EAAE,GAAG;wBACxB,IAAI,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,IAAI,GAAG;4BAC7C,MAAM,QAAQ,KAAK,CAAC,EAAE;4BACtB,MAAM,MAAM,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;4BACnC,IAAI,WAAW;gCACb,MAAM,MAAM,MAAM,KAAK,WAAW,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE;oCACjE,OAAO,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM;oCAC5C,OAAO;oCACP,aAAa;gCACf;gCACA,MAAM,CAAC,WAAW,QAAQ,GAAG,OAAO;oCAAC;oCAAI;iCAAG;gCAC5C,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC;gCAC9B,MAAM,KAAK,IAAI,CAAC,WAAW,CAAC;gCAC5B,IAAI,QAAQ,IAAI;oCACd,MAAM,kBAAkB;wCACtB,UAAU;wCACV,aAAa,IAAI,CAAC,kBAAkB;wCACpC,QAAQ;wCACR,WAAW;4CAAC;yCAAG;oCACjB;oCACA,IAAI,CAAC,gBAAgB,CACnB,QACA;wCAAC;qCAAgB,EACjB,gBAAgB,WAAW;gCAE/B;4BACF,OAAO;gCACL,MAAM,KAAK,WAAW,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE;oCACrD,OAAO,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM;oCAC5C,OAAO;gCACT;4BACF;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,MAAM,OAAO,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,MAAM,KAAK,OAAO,KAAK;wBAC3E,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;wBACvC,IAAI,OAAO,KAAK,WAAW;4BACzB,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;gCAAE,MAAM;gCAAQ,QAAQ,OAAO;4BAAM;wBACrE;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAc;wBACjB,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,MAAM,EAAE,GAAG,EAAE,GAAG;wBAChB,MAAM,KAAK,IAAI,CAAC,OAAO,OAAO,OAAO,MAAM,KAAK;4BAAE,WAAW;wBAAO;wBACpE,IAAI,WAAW;4BACb,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;gCAC5B,MAAM;gCACN,KAAK,OAAO,OAAO,OAAO,MAAM;4BAClC;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAQ;wBACX,MAAM,KAAK,MAAM;wBACjB,IAAI,WAAW;4BACb,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;gCAC5B,MAAM;4BACR;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAW;wBACd,MAAM,KAAK,SAAS;wBACpB,IAAI,WAAW;4BACb,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;gCAC5B,MAAM;4BACR;wBACF;wBACA,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAoB;wBACvB,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA,KAAK;oBAAe;wBAClB,OAAO;4BAAE,SAAS;wBAAK;oBACzB;gBACA;oBACE,IAAI,CAAC,MAAM,CAAC;wBACV,UAAU;wBACV,SAAS,CAAC,qBAAqB,EAAE,OAAO,OAAO,IAAI,GAAG;wBACtD,OAAO;oBACT;oBACA,OAAO;wBACL,SAAS;wBACT,OAAO,CAAC,eAAe,EAAE,OAAO,OAAO,IAAI,GAAG;oBAChD;YACJ;QACF;IACF;IACA,YAAY,KAAK,EAAE;QACjB,IAAI,OAAO,UAAU,UAAU,OAAO;QACtC,MAAM,UAAU,MAAM,IAAI;QAC1B,IAAI,CAAC,SAAS,OAAO;QACrB,OAAO,QAAQ,UAAU,CAAC,YAAY,UAAU,CAAC,MAAM,EAAE,SAAS;IACpE;IACA,sBAAsB,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE;QAChC,MAAM,KAAK,OAAO;QAClB,MAAM,KAAK,OAAO;QAClB,IAAI,OAAO,QAAQ,CAAC,OAAO,OAAO,QAAQ,CAAC,KAAK;YAC9C,OAAO,GAAG,KAAK,KAAK,EAAE,KAAK,KAAK,CAAC,IAAI,EAAE,EAAE,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5D;QACA,OAAO;IACT;IACA,mBAAmB,IAAI,EAAE;QACvB,MAAM,UAAU,KAAK,MAAM,GAAG,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG;QAC/D,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC5B;IACA,qBAAqB;QACnB,OAAO;IACT;IACA,yBAAyB,WAAW,EAAE,QAAQ,EAAE;QAC9C,MAAM,MAAM,OAAO,YAAY,MAAM,KAAK,YAAY,YAAY,MAAM,CAAC,IAAI,MAAM,OAAO,YAAY,SAAS,KAAK,YAAY,YAAY,SAAS,CAAC,IAAI;QAC1J,OAAO,OAAO,IAAI,MAAM,GAAG,IAAI,MAAM;IACvC;IACA,iBAAiB,WAAW,EAAE,gBAAgB,EAAE,QAAQ,EAAE;QACxD,IAAI;QACJ,IAAI,CAAC,iBAAiB,MAAM,EAAE;QAC9B,MAAM,cAAc,IAAI,CAAC,wBAAwB,CAAC,aAAa;QAC/D,MAAM,cAAc,CAAC,CAAC,KAAK,gBAAgB,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK;QACtF,MAAM,UAAU,iBAAiB,GAAG,CAAC,CAAC,OAAS,cAAc,eAAe,CAAC,GAAG,OAAO;gBACrF,aAAa,KAAK,WAAW,IAAI;YACnC;QACA,IAAI,CAAC,EAAE,CAAC,qBAAqB,CAAC;YAC5B,MAAM;YACN;YACA;YACA,mBAAmB;YACnB,SAAS,OAAO,YAAY,SAAS,KAAK,YAAY,YAAY,SAAS,CAAC,IAAI,GAAG,MAAM,GAAG,IAAI,YAAY,SAAS,CAAC,IAAI,KAAK,KAAK;QACtI;IACF;IACA,uBAAuB;QACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,KAAK,SAAS,GAAG,QAAQ,CAAC;gBACjD,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,GAAG;YAC9C,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,kBAAkB;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,MAAM,MAAM,KAAK,GAAG;gBACpB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;YACjC,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,2BAA2B;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;YACT;YACA,IAAI;gBACF,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,MAAM,cAAc,MAAM,KAAK,UAAU,CAAC;oBAAE,UAAU;gBAAM;gBAC5D,MAAM,aAAa,KAAK,GAAG;gBAC3B,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC;oBAC9C;oBACA;gBACF;YACF,EAAE,OAAO,GAAG;gBACV,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,4BAA4B,EAAE,OAAO,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,IAAI;oBACxG,OAAO;gBACT;gBACA,OAAO;YACT;QACF;IACF;IACA,eAAe;QACb,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,MAAM,KAAK,mBAAmB;YAChC,EAAE,OAAO,GAAG,CACZ;QACF;IACF;AACF;AAEA,+BAA+B;AAC/B,IAAI,cAAc;AAClB;AACA,SAAS,yBAAyB,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,eAAe;IAC1E,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI;QACJ,MAAM,KAAK,IAAI,YAAY,OAAO,CAAC;YAAE;QAAO;QAC5C,IAAI,iBAAiB;YACnB,MAAM,WAAW,MAAM,GAAG,QAAQ,CAAC,QAAQ,CACzC;YAEF,IAAI,CAAC,CAAC,YAAY,OAAO,KAAK,IAAI,SAAS,EAAE,GAAG;gBAC9C,MAAM,IAAI;YACZ;YACA,MAAM,KAAK,SAAS,UAAU;YAC9B,IAAI,CAAC,IAAI;gBACP,MAAM,IAAI,mBACR,CAAC,kDAAkD,EAAE,iBAAiB;YAE1E;YACA,OAAO;gBAAE;gBAAI,WAAW;gBAAiB;YAAG;QAC9C;QACA,MAAM,KAAK,UAAU,OAAO,SAAS,CAAC,GAAG,EACvC,WAAW,iBAAiB,EAC5B,eAAe,EACf,YAAY,EACb,GAAG,IAAI,OAAO,UAAU,IAAI;YAC3B;YACA;YACA;SACD;QACD,MAAM,gBAAgB,cAAc,eAAe;YACjD,WAAW,qBAAqB,OAAO,oBAAoB;QAC7D,GAAG,OAAO;YACR,iBAAiB,cAAc,eAAe,CAAC,GAAG,mBAAmB,OAAO,kBAAkB,CAAC,IAAI;gBACjG,UAAU,CAAC,KAAK,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,QAAQ,KAAK,OAAO,KAAK;oBAAE,OAAO;oBAAM,QAAQ;gBAAI;YACzH;YACA,cAAc,cAAc,eAAe,CAAC,GAAG,gBAAgB,OAAO,eAAe,CAAC,IAAI;gBACxF,WAAW;YACb;QACF;QACA,MAAM,UAAU,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,UAAU,KAAK,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,EAAE,GAAG;YAChG,MAAM,IAAI,mBACR;QAEJ;QACA,OAAO;YAAE,IAAI,QAAQ,UAAU;YAAE,WAAW,QAAQ,EAAE;YAAE;QAAG;IAC7D;AACF;AAEA,sGAAsG;AACtG,IAAI,MAAM,wEAAuB;AACjC,IAAI,MAAM,0EAAwB;AAElC,oGAAoG;AACpG,IAAI,wBAAwB,CAAC;AAC7B,SAAS,uBAAuB;IAC9B,QAAQ,IAAM;IACd,YAAY,IAAM;IAClB,OAAO,IAAM;IACb,OAAO,IAAM;IACb,KAAK,IAAM;AACb;AACA,IAAI,aAAa,wEAAuB;AACxC,IAAI,eAAe,4EAAyB;AAC5C,IAAI;AACJ,IAAI;AACJ,IAAI,8BAA8B,QAAQ,gCAAgC;AAE1E,2FAA2F;AAC3F,IAAI,iBAAiB,kFAA4B;AACjD,IAAI;AACJ,IAAI,eAAe,QAAQ,eAAe;AAE1C,0EAA0E;AAC1E,IAAI,OAAO,OAAO,gBAAgB,eAAe;AACjD,IAAI;AACJ;IACE,SAAS,QAAQ,MAAM;IACvB,iBAAiB;QACf,IAAI,KAAK;QACT,OAAO,EAAE,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,EAAE;IAC5B;IACA,WAAW;IACX,qBAAqB;QACnB,OAAO,CAAC,mBAAmB,QAAQ,IAAI;IACzC;AACF,CACA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,MAAM,QAAQ,KAAK,GAAG,GAAG;IAC3B,OAAO,KAAK,GAAG;AACjB,IAAI;AACJ,SAAS,aAAa,IAAI;IACxB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;AACF;AACA,SAAS,aAAa,GAAG,EAAE,IAAI;IAC7B,IAAI,MAAM;IACV,IAAI,OAAO,IAAI,MAAM;IACrB,IAAI;IACJ,MAAO,MAAM,KAAM;QACjB,MAAM,MAAM,SAAS;QACrB,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,SAAS,EAAE;YACvC,MAAM,MAAM;QACd,OAAO;YACL,OAAO;QACT;IACF;IACA,IAAI,MAAM,CAAC,KAAK,GAAG;AACrB;AACA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,QAAQ,KAAK,IAAI,IAAI,KAAK,OAAO,IAAI,KAAK,gBAAgB,IAAI,KAAK,gBAAgB,IAAI,KAAK,UAAU,IAAI,KAAK,aAAa,IAAI,oFAAoF;AACxN,gFAAgF;AAChF,mDAAmD;AACnD,kFAAkF;AAClF,qEAAqE;AACrE,iDAAiD;AACjD,iDAAiD;AACjD,KAAK,oBAAoB,EAAE;IACzB,OAAO,SAAS,IAAI;QAClB,aAAa;QACb,KAAK,IAAI,CAAC,WAAW;IACvB;IACA,OAAO,SAAS,IAAI;QAClB,aAAa;QACb,KAAK,IAAI,CAAC,SAAS;QACnB,IAAI,UAAU,KAAK,OAAO,CAAC,MAAM,WAAW,MAAM,SAAS;QAC3D,IAAI,SAAS;YACX,OAAO;QACT;QACA,IAAI,UAAU,KAAK,gBAAgB,CAAC;QACpC,OAAO,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;IACpC;IACA,aAAa;QACX,OAAO,KAAK,gBAAgB,CAAC;IAC/B;IACA,QAAQ;QACN,KAAK,UAAU;QACf,KAAK,aAAa;IACpB;AACF,OAAO;IACL,QAAQ,CAAC;IACT,UAAU,EAAE;IACZ,OAAO,SAAS,IAAI;QAClB,aAAa;QACb,IAAI,YAAY;QAChB,KAAK,CAAC,MAAM,KAAK,GAAG;IACtB;IACA,OAAO,SAAS,IAAI;QAClB,aAAa;QACb,IAAI,UAAU;QACd,IAAI,YAAY,KAAK,CAAC,MAAM,KAAK;QACjC,IAAI,CAAC,WAAW;YACd,MAAM,IAAI,MAAM,oBAAoB;QACtC;QACA,IAAI,QAAQ;YACV;YACA;YACA,UAAU,UAAU;YACpB,WAAW;QACb;QACA,aAAa,SAAS;QACtB,OAAO;IACT;IACA,aAAa;QACX,OAAO;IACT;IACA,QAAQ;QACN,QAAQ,CAAC;QACT,UAAU,EAAE;IACd;AACF;AACA,IAAI;AACJ,IAAI;AAEJ,2FAA2F;AAC3F,IAAI,YAAY,eAAe,OAAO,CAAC,QAAQ,KAAK;AACpD,IAAI,YAAY,eAAe,OAAO,CAAC,OAAO;AAC9C,IAAI,SAAS;IACX,KAAK,YAAY,YAAY;IAC7B,QAAQ,YAAY,SAAS;IAC7B,MAAM,YAAY,kBAAkB;IACpC,OAAO,YAAY,gBAAgB;IACnC,MAAM,YAAY,cAAc;IAChC,SAAS,YAAY,kBAAkB;AACzC;AACA,aAAa,OAAO,CAAC,MAAM,GAAG;IAAC,OAAO,IAAI;IAAE,OAAO,KAAK;IAAE,OAAO,IAAI;IAAE,OAAO,OAAO;CAAC;AACtF,IAAI,UAAU,cAAc,cAAc,YAAY;IACpD,uCAAuC;IACvC,+EAA+E;IAC/E,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;IACR;IACA;;;;;GAKC,GACD,YAAY,KAAK,EAAE,SAAS,EAAE;QAC5B,IAAI,UAAU,YAAY,UAAU,aAAa;YAC/C,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAC;mBAAU;aAAU;QACxC;IACF;IACA;;;;;GAKC,GACD,aAAa,KAAK,EAAE,SAAS,EAAE;QAC7B,IAAI,CAAC,IAAI,CAAC,WAAW;YAAC;eAAU;SAAU;IAC5C;AACF;AACA,IAAI,iBAAiB,CAAC;AACtB,IAAI,uBAAuB;AAC3B,IAAI;AACJ,IAAI,MAAM,MAAM;IACd,OAAO,aAAa,KAAK,EAAE,SAAS,EAAE;QACpC,MAAM,MAAM,KAAK,QAAQ,CAAC;QAC1B,OAAO;IACT;IACA;;GAEC,GACD,OAAO,SAAS,KAAK,EAAE;QACrB,QAAQ,CAAC,GAAG,EAAE,OAAO;QACrB,IAAI,MAAM,cAAc,CAAC,MAAM;QAC/B,IAAI,CAAC,KAAK;YACR,MAAM,CAAC,GAAG,aAAa,OAAO,EAAE;YAChC,cAAc,CAAC,MAAM,GAAG;YACxB,IAAI,MAAM,QAAQ,CAAC,UAAU;gBAC3B,IAAI,KAAK,GAAG,OAAO,GAAG;YACxB,OAAO,IAAI,MAAM,QAAQ,CAAC,SAAS;gBACjC,IAAI,KAAK,GAAG,OAAO,MAAM;YAC3B;QACF;QACA,OAAO;IACT;IACA;;GAEC,GACD,OAAO,SAAS,KAAK,EAAE;QACrB,SAAS;QACT,OAAQ;YACN,KAAK;gBACH,aAAa,OAAO,CAAC,MAAM,CAAC;gBAC5B;YACF,KAAK;gBACH,aAAa,OAAO,CAAC,MAAM,CAAC;gBAC5B;YACF,KAAK;gBACH,aAAa,OAAO,CAAC,MAAM,CAAC;gBAC5B;YACF,KAAK;gBACH,aAAa,OAAO,CAAC,MAAM,CAAC;gBAC5B;YACF;gBACE,aAAa,OAAO,CAAC,MAAM,CAAC;QAChC;IACF;IACA;;;;;GAKC,GACD,OAAO,eAAe,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;QACzC,MAAM,UAAU,CAAC,eAAe,OAAO,IAAI,eAAe,OAAO,CAAC,OAAO,GAAG,WAAW,eAAe,OAAO,CAAC,MAAM,CAAC,OAAO;QAC5H,MAAM,SAAS,KAAK,MAAM,IAAI;QAC9B,MAAM,YAAY,UAAU,OAAO,MAAM,GAAG,OAAO,MAAM,GAAG;QAC5D,MAAM,UAAU,KAAK,MAAM,IAAI,WAAW,YAAY,KAAK,SAAS,CAAC,KAAK,MAAM,EAAE,MAAM,CAAC,GAAG,aAAa;QACzG,KAAK,YAAY,CAAC,GAAG,OAAO,CAAC,EAAE,SAAS,IAAI,EAAE;YAAC;YAAQ;SAAQ;IACjE;IACA;;GAEC,GACD,OAAO,YAAY;QACjB,OAAO,WAAW;IACpB;IACA;;;GAGC,GACD,OAAO,KAAK,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,QAAQ,KAAK,EAAE;QACjD,KAAK;QACL,IAAI,CAAC,MAAM,CAAC,UAAU,QAAQ;IAChC;IACA;;;GAGC,GACD,OAAO,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,QAAQ,SAAS,EAAE;QACxD,IAAI,CAAC,MAAM,CAAC,aAAa,QAAQ;QACjC,KAAK;IACP;IACA;;;GAGC,GACD,OAAO,IAAI,KAAK,EAAE,GAAG,IAAI,EAAE;QACzB,KAAK,MAAM,CAAC,WAAW,CAAC,OAAO;QAC/B,OAAO,KAAK,YAAY,CAAC,OAAO;IAClC;IACA;;;GAGC,GACD,OAAO,KAAK,KAAK,EAAE,GAAG,IAAI,EAAE;QAC1B,KAAK,MAAM,CAAC,YAAY,CAAC,OAAO;QAChC,OAAO,KAAK,YAAY,CAAC,GAAG,MAAM,KAAK,CAAC,EAAE;IAC5C;IACA;;;GAGC,GACD,OAAO,MAAM,KAAK,EAAE,GAAG,IAAI,EAAE;QAC3B,OAAO,KAAK,YAAY,CAAC,GAAG,MAAM,MAAM,CAAC,EAAE;IAC7C;IACA;;;GAGC,GACD,OAAO,QAAQ,KAAK,EAAE,GAAG,IAAI,EAAE;QAC7B,KAAK,MAAM,CAAC,WAAW,CAAC,OAAO;QAC/B,OAAO,KAAK,YAAY,CAAC,GAAG,MAAM,QAAQ,CAAC,EAAE;IAC/C;IACA;;;;GAIC,GACD,OAAO,SAAS,GAAG,EAAE;QACnB,OAAO,GAAG,KAAK,KAAK,GAAG,MAAM,KAAK,KAAK,EAAE;IAC3C;IACA;;;;GAIC,GACD,OAAO,OAAO,GAAG,EAAE;QACjB,OAAO,GAAG,KAAK,GAAG,GAAG,MAAM,KAAK,KAAK,EAAE;IACzC;IACA,WAAW,QAAQ;QACjB,OAAO;IACT;IACA,WAAW,MAAM;QACf,OAAO;IACT;IACA,WAAW,SAAS;QAClB,OAAO;IACT;IACA,WAAW,SAAS;QAClB,OAAO;IACT;IACA,WAAW,QAAQ;QACjB,OAAO;IACT;IACA,WAAW,OAAO;QAChB,OAAO;IACT;IACA,WAAW,MAAM;QACf,OAAO;IACT;IACA,WAAW,OAAO;QAChB,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,QAAQ;QACjB,OAAO,YAAY,SAAS;IAC9B;IACA,WAAW,mBAAmB;QAC5B,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,kBAAkB;QAC3B,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,gBAAgB;QACzB,OAAO,YAAY,YAAY;IACjC;IACA,WAAW,kBAAkB;QAC3B,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,wBAAwB;QACjC,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,yBAAyB;QAClC,OAAO,YAAY,WAAW;IAChC;IACA,WAAW,wBAAwB;QACjC,OAAO;IACT;AACF;AACA,IAAI,MAAM,GAAG,IAAI;AACjB,IAAI,eAAe,GAAG;IACpB,MAAM,UAAU;IAChB;IACA,OAAO;AACT;AACA,IAAI,cAAc,GAAG,IAAM;AAC3B,IAAI,4BAA4B;AAEhC,4FAA4F;AAC5F,IAAI;AACJ,IAAI,uBAAuB,8FAAkC;AAC7D,IAAI;AACJ,IAAI,gBAAgB,QAAQ,kBAAkB;AAC9C,SAAS,SAAS,GAAG,EAAE,GAAG;IACxB,OAAO,OAAO,QAAQ,cAAc,MAAM;AAC5C;AACA,SAAS,MAAM,IAAI;IACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,OAAO,IAAI,QAAQ,CAAC,WAAa,WAAW,UAAU;IACxD;AACF;AACA,IAAI,gBAAgB,cAAc;IAChC,YAAY,UAAU,kBAAkB,EAAE,IAAI,CAAE;QAC9C,KAAK;QACL,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,KAAK,GAAG,IAAI,QAAQ,KAAK;QAC9B,OAAO,IAAI;IACb;AACF;AACA,IAAI,wBAAwB,cAAc;IACxC,aAAc;QACZ,KAAK,IAAI;QACT,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AACA,IAAI,gCAAgC,cAAc;IAChD,aAAc;QACZ,KAAK,IAAI;QACT,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AACA,IAAI,2BAA2B,cAAc;IAC3C,aAAc;QACZ,KAAK,IAAI;QACT,IAAI,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,cAAc,kBAAkB,CAAC;QAC5D,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AACA,IAAI,0BAA0B,cAAc;IAC1C,aAAc;QACZ,KAAK,IAAI;QACT,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AACA,SAAS;IACP,OAAO,cAAc,OAAO,GAAG,QAAQ,QAAQ,QAAQ;AACzD;AACA,SAAS;IACP,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,QAAQ,GAAG,CAAC,IAAI,GAAG,uBAAuB,GAAG,QAAQ,GAAG,CAAC,IAAI,EAAE;QACjE,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI;IACd;AACF;AACA,SAAS,eAAe,MAAM,EAAE;IAC9B,MAAM,UAAU,mBAAmB,IAAI,CAAC;IACxC,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IACA,MAAM,cAAc,OAAO,CAAC,EAAE;IAC9B,OAAO,IAAI,OAAO,CAAC,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC,EAAE,GAAG,YAAY,WAAW,GAAG,GAAG,CAAC,EAAE,OAAO,CAAC,OAAO;AAC/F;AACA,SAAS,YAAY,MAAM,EAAE;IAC3B,IAAI,aAAa,IAAI,CAAC,MAAM;QAC1B,OAAO;IACT;IACA,IAAI;QACF,OAAO,qBAAqB,OAAO,CAAC,YAAY,CAAC,WAAW;YAAC;YAAM;SAAI,EAAE,QAAQ,GAAG,IAAI;IAC1F,EAAE,OAAO,GAAG;QACV,OAAO,eAAe;IACxB;AACF;AACA,SAAS,UAAU,GAAG,EAAE,QAAQ;IAC9B,IAAI;QACF,OAAO,qBAAqB,OAAO,CAAC,YAAY,CAAC,WAAW;YAAC;YAAM;SAAI,EAAE,QAAQ,GAAG,IAAI;IAC1F,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AACA,SAAS,oBAAoB,KAAK;IAChC,MAAM,aAAa;IACnB,MAAM,UAAU,WAAW,IAAI,CAAC,UAAU,EAAE;IAC5C,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,CAAC,cAAc,CAAC;AAC/D;AACA,SAAS,uBAAuB,KAAK;IACnC,MAAM,aAAa;IACnB,MAAM,UAAU,WAAW,IAAI,CAAC,UAAU,EAAE;IAC5C,OAAO,UAAU,GAAG,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAE,oBAAoB;AAC/F;AACA,SAAS;IACP,OAAO,qBAAqB,OAAO,CAAC,QAAQ,CAAC,mCAAmC,QAAQ,GAAG,IAAI;AACjG;AACA,SAAS;IACP,MAAM,aAAa,QAAQ,GAAG,CAAC,IAAI,IAAI,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI,QAAQ,GAAG,CAAC,MAAM,IAAI;IAC3G,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM;IACtD,MAAM,UAAU,CAAC,GAAG,aAAa,IAAI,EAAE,YAAY,gBAAgB;IACnE,CAAC,GAAG,WAAW,SAAS,EAAE,SAAS;QAAE,WAAW;IAAK;IACrD,OAAO;AACT;AAEA,oGAAoG;AACpG,IAAI,eAAe;AACnB,SAAS;IACP,MAAM,kBAAkB;QACtB,QAAQ,GAAG,CAAC,WAAW;QACvB,QAAQ,GAAG,CAAC,wBAAwB;QACpC;QACA;KACD;IACD,KAAK,MAAM,cAAc,gBAAiB;QACxC,IAAI,cAAc,UAAU,aAC1B,OAAO;IACX;IACA,OAAO,QAAQ,CAAC,EAAE;AACpB;AACA,SAAS;IACP,MAAM,WAAW;QAAC;QAAwC;KAAgC;IAC1F,MAAM,aAAa;IACnB,MAAM,gBAAgB,EAAE;IACxB,MAAM,mBAAmB;IACzB,IAAI,kBAAkB;QACpB,cAAc,IAAI,CAAC;IACrB;IACA,CAAC,GAAG,sBAAsB,QAAQ,EAAE,GAAG,WAAW,gFAAgF,CAAC,EAAE,QAAQ,GAAG,KAAK,CAAC,cAAc,OAAO,CAAC,CAAC;QAC3K,SAAS,OAAO,CAAC,CAAC;YAChB,MAAM,WAAW,aAAa,OAAO,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC,GAAG,KAAK,OAAO,CAAC,UAAU,GAAG,IAAI,IAAI;YAC/F,IAAI,UAAU,aAAa,cAAc,OAAO,CAAC,cAAc,CAAC,GAAG;gBACjE,cAAc,IAAI,CAAC;YACrB;QACF;IACF;IACA,MAAM,OAAO,CAAC,GAAG,4BAA4B,OAAO,EAAE,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,UAAU,OAAO;IAC/F,MAAM,aAAa;QACjB;YAAE,OAAO,IAAI,OAAO,CAAC,CAAC,EAAE,KAAK,4BAA4B,CAAC;YAAG,QAAQ;QAAG;QACxE;YAAE,OAAO,IAAI,OAAO,CAAC,CAAC,EAAE,KAAK,mCAAmC,CAAC;YAAG,QAAQ;QAAG;QAC/E;YAAE,OAAO;YAAiC,QAAQ;QAAI;QACtD;YAAE,OAAO;YAAwC,QAAQ;QAAI;QAC7D;YAAE,OAAO;YAA4B,QAAQ,CAAC;QAAE;QAChD;YAAE,OAAO;YAAmC,QAAQ,CAAC;QAAE;KACxD;IACD,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAE;QACxC,WAAW,OAAO,CAAC;YAAE,OAAO,IAAI,OAAO,CAAC,GAAG,4BAA4B,OAAO,EAAE,QAAQ,GAAG,CAAC,wBAAwB;YAAI,QAAQ;QAAI;IACtI;IACA,IAAI,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC3B,WAAW,OAAO,CAAC;YAAE,OAAO,IAAI,OAAO,CAAC,GAAG,4BAA4B,OAAO,EAAE,QAAQ,GAAG,CAAC,WAAW;YAAI,QAAQ;QAAI;IACzH;IACA,OAAO,KAAK,eAAe;AAC7B;AACA,SAAS;IACP,IAAI,UAAU,QAAQ,GAAG,CAAC,WAAW,GAAG;QACtC,OAAO,QAAQ,GAAG,CAAC,WAAW;IAChC;IACA,IAAI,UAAU,QAAQ,GAAG,CAAC,wBAAwB,GAAG;QACnD,0BAA0B,IAAI,CAAC,kBAAkB;QACjD,OAAO,QAAQ,GAAG,CAAC,wBAAwB;IAC7C;IACA,OAAO,KAAK;AACd;AACA,SAAS;IACP,IAAI,gBAAgB,EAAE;IACtB,MAAM,mBAAmB;IACzB,IAAI,kBAAkB;QACpB,cAAc,IAAI,CAAC;IACrB;IACA,MAAM,6BAA6B;QACjC,aAAa,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,UAAU,OAAO,KAAK;QACpD;KACD;IACD,2BAA2B,OAAO,CAAC,CAAC;QAClC,gBAAgB,cAAc,MAAM,CAAC,sBAAsB;IAC7D;IACA,MAAM,cAAc;QAClB;QACA;QACA;QACA;KACD;IACD,YAAY,OAAO,CAAC,CAAC;QACnB,IAAI;YACF,MAAM,aAAa,CAAC,GAAG,sBAAsB,YAAY,EAAE,SAAS;gBAAC;aAAW,EAAE;gBAAE,OAAO;YAAO,GAAG,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE;YACtI,IAAI,UAAU,aAAa;gBACzB,cAAc,IAAI,CAAC;YACrB;QACF,EAAE,OAAO,GAAG,CACZ;IACF;IACA,IAAI,CAAC,cAAc,MAAM,EAAE;QACzB,MAAM,IAAI;IACZ;IACA,MAAM,aAAa;QACjB;YAAE,OAAO;YAAmB,QAAQ;QAAG;QACvC;YAAE,OAAO;YAAyB,QAAQ;QAAG;QAC7C;YAAE,OAAO;YAAkB,QAAQ;QAAG;QACtC;YAAE,OAAO;YAAqB,QAAQ;QAAG;QACzC;YAAE,OAAO;YAAa,QAAQ;QAAG;KAClC;IACD,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAE;QACxC,WAAW,OAAO,CAAC;YAAE,OAAO,IAAI,OAAO,CAAC,GAAG,4BAA4B,OAAO,EAAE,QAAQ,GAAG,CAAC,wBAAwB;YAAI,QAAQ;QAAI;IACtI;IACA,IAAI,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC3B,WAAW,OAAO,CAAC;YAAE,OAAO,IAAI,OAAO,CAAC,GAAG,4BAA4B,OAAO,EAAE,QAAQ,GAAG,CAAC,WAAW;YAAI,QAAQ;QAAI;IACzH;IACA,OAAO,KAAK,KAAK,cAAc,MAAM,CAAC,WAAW;AACnD;AACA,SAAS;IACP,QAAQ,GAAG,CAAC,YAAY,GAAG,uBAAuB,GAAG,QAAQ,GAAG,CAAC,IAAI,EAAE;IACvE,QAAQ,GAAG,CAAC,YAAY,GAAG,UAAU,oBAAoB;IACzD,QAAQ,GAAG,CAAC,oBAAoB,GAAG,UAAU,0BAA0B;IACvE,OAAO;AACT;AACA,SAAS;IACP,MAAM,gBAAgB,EAAE;IACxB,MAAM,WAAW;QACf,GAAG,aAAa,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;QACnJ,GAAG,aAAa,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;KAChJ;IACD,MAAM,WAAW;QACf,QAAQ,GAAG,CAAC,YAAY;QACxB,QAAQ,GAAG,CAAC,YAAY;QACxB,QAAQ,GAAG,CAAC,oBAAoB;KACjC,CAAC,MAAM,CAAC;IACT,MAAM,mBAAmB;IACzB,IAAI,kBAAkB;QACpB,cAAc,IAAI,CAAC;IACrB;IACA,SAAS,OAAO,CAAC,CAAC,SAAW,SAAS,OAAO,CAAC,CAAC;YAC7C,MAAM,aAAa,aAAa,OAAO,CAAC,IAAI,CAAC,QAAQ;YACrD,IAAI,UAAU,aAAa;gBACzB,cAAc,IAAI,CAAC;YACrB;QACF;IACA,OAAO;AACT;AACA,SAAS,KAAK,aAAa,EAAE,UAAU;IACrC,MAAM,kBAAkB;IACxB,OAAO,cAAc,GAAG,CAAC,CAAC;QACxB,KAAK,MAAM,QAAQ,WAAY;YAC7B,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO;gBACzB,OAAO;oBAAE,MAAM;oBAAM,QAAQ,KAAK,MAAM;gBAAC;YAC3C;QACF;QACA,OAAO;YAAE,MAAM;YAAM,QAAQ;QAAgB;IAC/C,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI;AAChE;AACA,SAAS,UAAU,IAAI;IACrB,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IACA,IAAI;QACF,WAAW,OAAO,CAAC,UAAU,CAAC;QAC9B,OAAO;IACT,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AACA,SAAS,KAAK,GAAG;IACf,OAAO,MAAM,IAAI,CAAC,IAAI,IAAI;AAC5B;AACA,SAAS,sBAAsB,MAAM;IACnC,MAAM,iBAAiB;IACvB,MAAM,kBAAkB;IACxB,IAAI,gBAAgB,EAAE;IACtB,IAAI,UAAU,SAAS;QACrB,IAAI;QACJ,IAAI;YACF,YAAY,CAAC,GAAG,sBAAsB,QAAQ,EAAE,CAAC,UAAU,EAAE,gBAAgB,EAAE,EAAE,OAAO,0BAA0B,CAAC,EAAE;gBAAE,OAAO;YAAO;QACvI,EAAE,OAAO,GAAG;YACV,YAAY,CAAC,GAAG,sBAAsB,QAAQ,EAAE,CAAC,UAAU,EAAE,gBAAgB,EAAE,EAAE,OAAO,0BAA0B,CAAC,EAAE;gBAAE,OAAO;YAAO;QACvI;QACA,YAAY,UAAU,QAAQ,GAAG,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC,WAAa,SAAS,OAAO,CAAC,gBAAgB;QACxG,UAAU,OAAO,CAAC,CAAC,WAAa,UAAU,aAAa,cAAc,IAAI,CAAC;IAC5E;IACA,OAAO;AACT;AAEA,kGAAkG;AAClG,IAAI;AACJ,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,UAAU;QAC5B,MAAM,SAAS,CAAC,GAAG,YAAY,YAAY;QAC3C,OAAO,MAAM,CAAC;QACd,OAAO,IAAI,CAAC,aAAa;YACvB,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,OAAO;YAC/B,OAAO,KAAK,CAAC,IAAM,SAAS;QAC9B;QACA,OAAO,IAAI,CAAC,SAAS;IACvB;AACF;AAEA,4FAA4F;AAC5F,IAAI,gBAAgB;IAClB,wBAAwB;QACtB,4CAA4C;QAC5C;QACA,8DAA8D;QAC9D;QACA,iFAAiF;QACjF;QACA,kKAAkK;QAClK;QACA,mKAAmK;QACnK;QACA,oCAAoC;QACpC;QACA,4BAA4B;QAC5B;QACA,gGAAgG;QAChG;QACA,uIAAuI;QACvI;KACD,CAAC,IAAI,CAAC;IACP,gCAAgC;IAChC;IACA,uEAAuE;IACvE;IACA,6EAA6E;IAC7E,4DAA4D;IAC5D;IACA,uEAAuE;IACvE;IACA,2CAA2C;IAC3C;IACA,sCAAsC;IACtC;IACA,sDAAsD;IACtD;IACA,oDAAoD;IACpD;IACA,iBAAiB;IACjB;IACA,qEAAqE;IACrE;IACA,yBAAyB;IACzB;IACA,qDAAqD;IACrD;IACA,yCAAyC;IACzC;IACA,gEAAgE;IAChE;IACA,8EAA8E;IAC9E;IACA,sGAAsG;IACtG;IACA,mEAAmE;IACnE;IACA,kGAAkG;IAClG;IACA,6IAA6I;IAC7I;IACA,oEAAoE;IACpE;IACA,uJAAuJ;IACvJ;IACA,4CAA4C;IAC5C;CACD;AAED,sGAAsG;AACtG,IAAI;AACJ,IAAI,SAAS,kBAAkB;AAC/B,IAAI,aAAa,kBAAkB;AACnC,IAAI,UAAU;AACd,IAAI,oBAAoB;AACxB,IAAI,uBAAuB,aAAa,GAAG,IAAI,IAAI;IAAC;IAAU;IAAS;IAAS;CAAM;AACtF,IAAI,YAAY,aAAa,GAAG,IAAI;AACpC,IAAI,iBAAiB;IACnB;IACA,QAAQ,IAAI,CAAC;AACf;AACA,SAAS;IACP,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,OAAO,CAAC,CAAC;QAClD,KAAK,YAAY,GAAG,SAAS,KAAK,YAAY,EAAE;QAChD,MAAM,WAAW,IAAI,SAAS;QAC9B,IAAI,KAAK,YAAY,IAAI,UAAU,IAAI,KAAK,GAAG;YAC7C,QAAQ,EAAE,CAAC,SAAS;QACtB;QACA,UAAU,GAAG,CAAC;QACd,MAAM,SAAS,MAAM;QACrB,MAAM,OAAO;YACX,UAAU,MAAM,CAAC;YACjB,IAAI,UAAU,IAAI,KAAK,GAAG;gBACxB,QAAQ,cAAc,CAAC,SAAS;YAClC;YACA,SAAS,IAAI;QACf;QACA,OAAO;YACL,KAAK,SAAS,GAAG;YACjB,MAAM,SAAS,IAAI;YACnB,SAAS,SAAS,aAAa;YAC/B,sBAAsB,SAAS,oBAAoB;YACnD;QACF;IACF;AACF;AACA,SAAS;IACP,IAAI,SAAS,EAAE;IACf,KAAK,MAAM,YAAY,UAAW;QAChC,IAAI;YACF,SAAS,IAAI;YACb,UAAU,MAAM,CAAC;QACnB,EAAE,OAAO,KAAK;YACZ,OAAO,IAAI,CAAC;QACd;IACF;IACA,OAAO;AACT;AACA,IAAI,WAAW,MAAM;IACnB,YAAY,OAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC,CAAE;QAC3C,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,qBAAqB,GAAG;QAC7B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,EAAE,GAAG,gBAAgB,EAAE,IAAI;QAChC,IAAI,CAAC,KAAK,GAAG,gBAAgB,KAAK,IAAI,sBAAsB,KAAK;QACjE,0BAA0B,QAAQ,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;QAChE,IAAI,CAAC,WAAW,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;QACnD,IAAI,CAAC,WAAW,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;QACrD,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QACxC,IAAI,CAAC,aAAa,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QAC9C,IAAI,CAAC,cAAc,GAAG,KAAK,cAAc;QACzC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;QACtC,IAAI,CAAC,kBAAkB,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;QACjE,IAAI,CAAC,sBAAsB,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;QACzE,IAAI,CAAC,oBAAoB,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;QACrE,IAAI,CAAC,OAAO,GAAG,SAAS,KAAK,OAAO,EAAE,OAAO,MAAM,CAAC,CAAC,GAAG,QAAQ,GAAG;QACnE,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW;YAC9C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBAC1B,IAAI,CAAC,iBAAiB,GAAG;gBACzB,IAAI,CAAC,WAAW,GAAG,KAAK;YAC1B,OAAO;gBACL,MAAM,IAAI;YACZ;QACF,OAAO;YACL,IAAI,CAAC,iBAAiB,GAAG;YACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QAC1C;QACA,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,CAAC;IAC1E;IACA,IAAI,QAAQ;QACV,MAAM,QAAQ,IAAI,CAAC,kBAAkB,GAAG,EAAE,GAAG,cAAc,KAAK;QAChE,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,MAAM,IAAI,CAAC,CAAC,wBAAwB,EAAE,IAAI,CAAC,IAAI,EAAE;QACnD;QACA,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,kBAAkB,SAAS;YACzD,MAAM,IAAI,CAAC;QACb;QACA,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAC3B,MAAM,IAAI,CAAC,CAAC,gBAAgB,EAAE,SAAS,YAAY,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,EAAE;QAC3F;QACA,IAAI,QAAQ,GAAG,CAAC,QAAQ,EACtB,MAAM,IAAI,CAAC;QACb,MAAM,IAAI,IAAI,IAAI,CAAC,WAAW;QAC9B,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW;QAC3B,OAAO;IACT;IACA,OAAO,eAAe;QACpB,OAAO,cAAc,KAAK;IAC5B;IACA,sDAAsD,GACtD,OAAO,uBAAuB;QAC5B,IAAI,kBAAkB,UACpB,OAAO;QACT,OAAO,qBAAqB,CAAC,cAAc,EAAE,CAAC,EAAE;IAClD;IACA,6EAA6E,GAC7E,OAAO,mBAAmB;QACxB,OAAO,qBAAqB,CAAC,cAAc;IAC7C;IACA,2CAA2C;IAC3C,aAAa;QACX,OAAO;IACT;IACA,UAAU;QACR,MAAM,WAAW;QACjB,IAAI,CAAC,qBAAqB,GAAG,CAAC,WAAW;YACvC,MAAM,IAAI;QACZ;QACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU;QACtD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE;QACtE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE;QACtE,IAAI,CAAC,eAAe;QACpB,IAAI,CAAC,OAAO,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;QAC/C,0BAA0B,OAAO,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;QACjF,IAAI,CAAC,qBAAqB,GAAG;IAC/B;IACA,kBAAkB;QAChB,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,KAAK,GAAG;YACxC;QACF;QACA,MAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa;YACnC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,YAAY;gBAAE,WAAW;YAAK;QAClD;QACA,MAAM,iBAAiB,GAAG,WAAW,YAAY,CAAC;QAClD,IAAI;YACF,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,iBAAiB;gBACtC,MAAM,OAAO,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,gBAAgB;gBAClD,MAAM,UAAU,KAAK,KAAK,CAAC;gBAC3B,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,gBAAgB,KAAK,SAAS,CAAC,eAAe,eAAe,CAAC,GAAG,UAAU,IAAI,CAAC,KAAK,IAAI;YACjH,OAAO;gBACL,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,gBAAgB,KAAK,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI;YACxF;QACF,EAAE,OAAO,KAAK;YACZ,0BAA0B,GAAG,CAAC,kBAAkB,CAAC,6BAA6B,EAAE,IAAI,OAAO,EAAE;QAC/F;IACF;IACA,SAAS;QACP,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,CAAC,aAAa,KAAK,GAAG;gBAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa;gBAC9B,IAAI;oBACF,MAAM,IAAI,CAAC,eAAe;oBAC1B,0BAA0B,GAAG,CAAC,kBAAkB,CAAC,iDAAiD,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;oBAC5H;gBACF,EAAE,OAAO,KAAK;oBACZ,IAAI,IAAI,CAAC,cAAc,EAAE;wBACvB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,IAAI,CAAC,aAAa,EAAE;oBACjE;oBACA,0BAA0B,GAAG,CAAC,kBAAkB,CAAC,gCAAgC,EAAE,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC;gBACzH;YACF;YACA,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,GAAG;gBAC9B,MAAM,eAAe,UAAU,oBAAoB;gBACnD,IAAI,CAAC,cAAc;oBACjB,MAAM,IAAI;gBACZ;gBACA,IAAI,CAAC,UAAU,GAAG;YACpB;YACA,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE;gBAC/B,IAAI,CAAC,OAAO;YACd;YACA,IAAI,CAAC,GAAG,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU;YAClD,OAAO,QAAQ,OAAO;QACxB;IACF;IACA,aAAa,QAAQ,EAAE;QACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,eAAe,CAAC,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC9C,IAAI,IAAI,CAAC,aAAa,EAAE;wBACtB,0BAA0B,GAAG,CAAC,kBAAkB,CAAC,gCAAgC,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC5G,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG;oBAC/B;oBACA,IAAI,IAAI,CAAC,aAAa,KAAK,GAAG;wBAC5B,IAAI,IAAI,CAAC,sBAAsB,EAAE;4BAC/B,IAAI,CAAC,IAAI,GAAG;wBACd,OAAO;4BACL,IAAI,CAAC,IAAI,GAAG,MAAM;wBACpB;oBACF;oBACA,0BAA0B,OAAO,CAAC,kBAAkB,CAAC;CAC5D,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM;oBAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,KAAK,EAAE;wBACpD,mFAAmF;wBACnF,2FAA2F;wBAC3F,gFAAgF;wBAChF,UAAU,QAAQ,QAAQ,KAAK;wBAC/B,OAAO,IAAI,CAAC,sBAAsB,GAAG;4BAAC;4BAAU,IAAI,CAAC,OAAO;4BAAE,IAAI,CAAC,OAAO;4BAAE;4BAAQ;yBAAO,GAAG;4BAAC;4BAAU,IAAI,CAAC,OAAO;4BAAE,IAAI,CAAC,OAAO;yBAAC;wBACpI,KAAK,IAAI,CAAC,OAAO;oBACnB;oBACA,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE;wBAC1B,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ;oBACrE;oBACA,IAAI,IAAI,CAAC,sBAAsB,EAAE;wBAC/B,IAAI,CAAC,oBAAoB,GAAG;4BAC1B,UAAU,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;4BACrC,UAAU,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;wBACvC;oBACF;oBACA,0BAA0B,OAAO,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC7H,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG;gBAC/B,EAAE;YACF,MAAM,MAAM,MAAM;YAClB,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG;gBACnB,MAAM,IAAI,CAAC,cAAc;YAC3B;YACA,OAAO;QACT;IACF;IACA,QAAQ,MAAM,EAAE;QACd,IAAI,QAAQ;YACV,OAAO,kBAAkB;YACzB,OAAO,GAAG;YACV,OAAO,OAAO;YACd,OAAO,KAAK;QACd;IACF;IACA,uCAAuC;IACvC,kBAAkB;QAChB,OAAO,IAAI,QAAQ,CAAC,UAAU;YAC5B,MAAM,SAAS,IAAI,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE;YAC/C,OAAO,IAAI,CAAC,SAAS,CAAC;gBACpB,IAAI,CAAC,OAAO,CAAC;gBACb,OAAO;YACT;YACA,OAAO,IAAI,CAAC,WAAW;gBACrB,IAAI,CAAC,OAAO,CAAC;gBACb;YACF;QACF;IACF;IACA,0DAA0D;IAC1D,iBAAiB;QACf,MAAM,WAAW,IAAI;QACrB,OAAO,IAAI,QAAQ,CAAC,UAAU;YAC5B,IAAI,UAAU;YACd,IAAI,aAAa;YACjB,MAAM,OAAO;gBACX,IAAI,YAAY,GAAG;oBACjB,0BAA0B,GAAG,CAAC,kBAAkB;gBAClD;gBACA;gBACA,cAAc;gBACd,0BAA0B,GAAG,CAAC,kBAAkB;gBAChD,SAAS,eAAe,GAAG,IAAI,CAAC;oBAC9B,0BAA0B,GAAG,CAAC,kBAAkB,aAAa,GAAG,0BAA0B,QAAQ,CAAC,0BAA0B,IAAI,GAAG;oBACpI;gBACF,GAAG,KAAK,CAAC,CAAC;oBACR,IAAI,UAAU,SAAS,oBAAoB,EAAE;wBAC3C,0BAA0B,KAAK,CAAC,kBAAkB,IAAI,OAAO;wBAC7D,MAAM,SAAS,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE;4BAAE,UAAU;wBAAQ;wBAC9F,0BAA0B,KAAK,CAAC,kBAAkB,CAAC,oBAAoB,EAAE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;wBAC1G,0BAA0B,KAAK,CAAC,kBAAkB;wBAClD,OAAO,OAAO;oBAChB;oBACA,MAAM,SAAS,sBAAsB,EAAE,IAAI,CAAC;gBAC9C;YACF;YACA;QACF;IACF;IACA,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB;QACF;QACA,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,SAAS;YAC7B,OAAO,IAAI,CAAC,aAAa;YACzB,IAAI,CAAC,UAAU;QACjB;QACA,0BAA0B,GAAG,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE;QACnG,IAAI;YACF,IAAI,YAAY;gBACd,MAAM,eAAe,CAAC,GAAG,sBAAsB,SAAS,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAAE,OAAO;oBAAM,UAAU;gBAAQ;gBAC5I,MAAM,EAAE,MAAM,EAAE,GAAG;gBACnB,IAAI,QACF,0BAA0B,KAAK,CAAC,kBAAkB,CAAC,eAAe,CAAC,EAAE;YACzE,OAAO;gBACL,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE;oBAC1B,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE;gBACxC;YACF;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,UAAU,CAAC,2BAA2B,EAAE,IAAI,OAAO,EAAE;YAC3D,0BAA0B,IAAI,CAAC,kBAAkB;QACnD;QACA,IAAI,CAAC,UAAU;IACjB;IACA,aAAa;QACX,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO;YAC9B,OAAO,IAAI,CAAC,OAAO;QACrB;QACA,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,GAAG;YACnE;QACF;QACA,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO;YAC9B,OAAO,IAAI,CAAC,OAAO;QACrB;QACA,MAAM,SAAS,IAAI,CAAC,EAAE,CAAC,MAAM,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS;QAClD,OAAO,IAAI,CAAC,WAAW,EAAE;YAAE,WAAW;YAAM,OAAO;YAAM,YAAY;QAAG;IAC1E;AACF;AAEA,yBAAyB;AACzB;AACA,SAAS,kBAAkB,IAAI;IAC7B,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI,IAAI;QACZ,MAAM,WAAW,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK;QACrD,MAAM,cAAc;YAClB,WAAW,mBAAmB,KAAK;YACnC;YACA;YACA;YACA;YACA;YACA,KAAK,WAAW,GAAG,CAAC,gBAAgB,EAAE,KAAK,WAAW,EAAE,GAAG,KAAK;eAC7D,CAAC,KAAK,KAAK,WAAW,KAAK,OAAO,KAAK,EAAE;SAC7C,CAAC,MAAM,CAAC,CAAC,IAAM,OAAO,MAAM;QAC7B,MAAM,SAAS,MAAM,OAAO;YAC1B,YAAY,KAAK,UAAU;YAC3B;QACF;QACA,MAAM,KAAK,MAAM,4BACf,OAAO,IAAI,EACX,CAAC,KAAK,KAAK,gBAAgB,KAAK,OAAO,KAAK;QAE9C,OAAO;YAAE;YAAI;QAAO;IACtB;AACF;AACA,SAAS,4BAA4B,IAAI,EAAE,SAAS;IAClD,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,IAAI,aAAa;QACjB,MAAO,KAAK,GAAG,KAAK,SAAU;YAC5B,IAAI;gBACF,MAAM,OAAO,MAAM,MAAM,CAAC,iBAAiB,EAAE,KAAK,aAAa,CAAC;gBAChE,IAAI,KAAK,EAAE,EAAE;oBACX,MAAM,OAAO,MAAM,KAAK,IAAI;oBAC5B,MAAM,MAAM,KAAK,oBAAoB;oBACrC,IAAI,OAAO,QAAQ,UAAU,OAAO;gBACtC,OAAO;oBACL,aAAa,GAAG,KAAK,MAAM,CAAC,CAAC,EAAE,KAAK,UAAU,EAAE;gBAClD;YACF,EAAE,OAAO,KAAK;gBACZ,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;YAC3D;YACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;QACzC;QACA,MAAM,IAAI,uBACR,CAAC,4CAA4C,EAAE,OAAO,aAAa,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC,GAAG,IAAI;IAE5G;AACF;AAEA,4BAA4B;AAC5B;AAEA,sBAAsB;AACtB,IAAI;AAEJ,0BAA0B;AAC1B,IAAI;AACJ,IAAI,0BAA0B;AAC9B,IAAI,YAAY;IACd,YAAY,SAAS,EAAE,wBAAwB,CAAE;QAC/C,IAAI,CAAC,cAAc,GAAG,YAAY,cAAc;QAChD,IAAI,CAAC,YAAY,GAAG,YAAY,YAAY;QAC5C,IAAI,CAAC,UAAU,GAAG,YAAY,UAAU;QACxC,IAAI,CAAC,YAAY,GAAG,YAAY,YAAY;QAC5C,IAAI,CAAC,aAAa,GAAG,YAAY,0BAA0B;QAC3D,IAAI,CAAC,KAAK,GAAG,YAAY,KAAK;QAC9B,IAAI,CAAC,SAAS,GAAG,YAAY,SAAS;QACtC,IAAI,CAAC,UAAU,GAAG,YAAY,uBAAuB;QACrD,IAAI,CAAC,cAAc,GAAG,YAAY,2BAA2B;QAC7D,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,wBAAwB,GAAG;IAClC;AACF;AAEA,sBAAsB;AACtB,IAAI,cAAc,cAAc;IAC9B,YAAY,EACV,KAAK,EACL,MAAM,EACP,CAAE;QACD,KAAK,CAAC,MAAM,OAAO;QACnB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,mBAAmB;QACjB,OAAO,IAAI,CAAC,KAAK;IACnB;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACR;YACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5E,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE;gBAClD,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,SAAS;wBACP,OAAO,KAAK,SAAS,CAAC,cAAc,eAAe,CAAC,GAAG,UAAU;4BAC/D,OAAO,KAAK;4BACZ,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAQ,cAAc,eAAe,CAAC,GAAG,MAAM;oCAC7E,SAAS,MAAM,OAAO,CAAC,IAAI,OAAO,IAAI,IAAI,OAAO,CAAC,GAAG,CACnD,CAAC,IAAM,eAAe,IAAI,cAAc,eAAe,CAAC,GAAG,IAAI;4CAAE,WAAW;gDAAE,KAAK;4CAAmB;wCAAE,KAAK,KAC3G,IAAI,OAAO;gCACjB;wBACF;wBACA,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;wBACzB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,oBAAoB,QAAQ,QAAQ,CAAC,GAAG,CAC5C,CAAC;gBACC,IAAI,MAAM,OAAO,CAAC,QAAQ,OAAO,GAAG;oBAClC,IAAI,QAAQ,IAAI,KAAK,UAAU;wBAC7B,MAAM,gBAAgB;4BACpB,MAAM;4BACN,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,UAAU,IAAI,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC;wBACtE;wBACA,OAAO;oBACT;oBACA,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;wBACxC,IAAI,eAAe,SAAS;4BAC1B,MAAM,eAAe;gCACnB,MAAM;gCACN,OAAO,QAAQ,SAAS,CAAC,GAAG;4BAC9B;4BACA,OAAO;wBACT,OAAO;4BACL,MAAM,cAAc;gCAClB,MAAM;gCACN,MAAM,QAAQ,IAAI;4BACpB;4BACA,OAAO;wBACT;oBACF;oBACA,IAAI,QAAQ,IAAI,KAAK,QAAQ;wBAC3B,MAAM,cAAc;4BAClB,MAAM;4BACN,SAAS;wBACX;wBACA,OAAO;oBACT,OAAO;wBACL,MAAM,gBAAgB,aAAa,GAAG,CAAC,CAAC,OAAS,CAAC;gCAChD,MAAM;gCACN,MAAM,KAAK,IAAI,KAAK,UAAU,YAAY,KAAK,IAAI;4BACrD,CAAC;wBACD,MAAM,mBAAmB;4BACvB,MAAM;4BACN,SAAS;wBACX;wBACA,OAAO;oBACT;gBACF;gBACA,OAAO;oBACL,MAAM,QAAQ,IAAI;oBAClB,SAAS,QAAQ,OAAO;gBAC1B;YACF;YAEF,IAAI;YACJ,MAAM,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC3C,IAAI,QAAQ,cAAc,EAAE;gBAC1B,IAAI;oBACF,iBAAiB,MAAM,CAAC,GAAG,YAAY,cAAc,EAAE;wBACrD,OAAO,IAAI,CAAC,KAAK;wBACjB,UAAU;wBACV,QAAQ,QAAQ,cAAc,CAAC,MAAM;wBACrC,aAAa,QAAQ,WAAW;wBAChC,iBAAiB,SAAS;4BACxB,QAAQ;gCACN,eAAe;gCACf,6CAA6C;gCAC7C,iBAAiB;4BACnB;wBACF,IAAI,KAAK;oBACX;gBACF,EAAE,OAAO,KAAK;oBACZ,IAAI,YAAY,sBAAsB,CAAC,UAAU,CAAC,MAAM;wBACtD,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE;4BAClD,UAAU;4BACV,SAAS,IAAI,OAAO;4BACpB,OAAO;4BACP,WAAW;gCACT,OAAO;oCACL,OAAO,KAAK,SAAS,CAAC,CAAC,KAAK,IAAI,KAAK,KAAK,OAAO,KAAK,CAAC;oCACvD,MAAM;gCACR;gCACA,MAAM;oCACJ,OAAO,CAAC,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK;oCACtC,MAAM;gCACR;gCACA,UAAU;oCACR,OAAO,KAAK,SAAS,CAAC,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,CAAC;oCAC1D,MAAM;gCACR;gCACA,OAAO;oCACL,OAAO,KAAK,SAAS,CAAC,CAAC,KAAK,IAAI,KAAK,KAAK,OAAO,KAAK,CAAC;oCACvD,MAAM;gCACR;gCACA,cAAc;oCACZ,OAAO,CAAC,KAAK,IAAI,YAAY,KAAK,OAAO,KAAK;oCAC9C,MAAM;gCACR;gCACA,WAAW;oCACT,OAAO,QAAQ,SAAS;oCACxB,MAAM;gCACR;4BACF;wBACF;wBACA,MAAM;oBACR;oBACA,MAAM;gBACR;gBACA,MAAM,UAAU;oBACd,MAAM,eAAe,MAAM;oBAC3B,OAAO;wBACL,eAAe,CAAC,KAAK,eAAe,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;wBACtE,mBAAmB,CAAC,KAAK,eAAe,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK;wBAC3E,kBAAkB,CAAC,KAAK,eAAe,KAAK,CAAC,eAAe,KAAK,OAAO,KAAK;wBAC7E,qBAAqB,CAAC,KAAK,eAAe,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK;wBAClF,cAAc,CAAC,KAAK,eAAe,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;oBACvE;gBACF;gBACA,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE;oBAClD,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,UAAU;4BACR,OAAO,KAAK,SAAS,CAAC;gCACpB,QAAQ,eAAe,MAAM;gCAC7B,OAAO,eAAe,KAAK;gCAC3B,cAAc,eAAe,YAAY;4BAE3C;4BACA,MAAM;wBACR;wBACA,WAAW;4BACT,OAAO,QAAQ,SAAS;4BACxB,MAAM;wBACR;oBACF;gBACF;gBACA,OAAO;YACT;YACA,MAAM,QAAQ,CAAC;YACf,IAAI,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,MAAM,GAAG,GAAG;gBAC7C,KAAK,MAAM,UAAU,QAAQ,KAAK,CAAE;oBAClC,KAAK,CAAC,OAAO,IAAI,CAAC,GAAG;wBACnB,aAAa,OAAO,WAAW;wBAC/B,aAAa,OAAO,UAAU;oBAChC;gBACF;YACF;YACA,MAAM,eAAe,MAAM,CAAC,GAAG,YAAY,YAAY,EAAE;gBACvD,OAAO,IAAI,CAAC,KAAK;gBACjB,UAAU;gBACV,OAAO,OAAO,IAAI,CAAC,OAAO,MAAM,GAAG,IAAI,QAAQ,KAAK;gBACpD,YAAY,OAAO,IAAI,CAAC,OAAO,MAAM,GAAG,IAAI,QAAQ,WAAW,KAAK,aAAa,aAAa,QAAQ,WAAW,KAAK,SAAS,SAAS,SAAS,KAAK;gBACtJ,aAAa,QAAQ,WAAW;YAClC;YACA,MAAM,uBAAuB,CAAC,aAAa,SAAS,IAAI,EAAE,EAAE,GAAG,CAC7D,CAAC,WAAa,CAAC;oBACb,IAAI,SAAS,UAAU,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;oBAC1F,MAAM;oBACN,UAAU;wBACR,MAAM,SAAS,QAAQ;wBACvB,WAAW,KAAK,SAAS,CAAC,SAAS,KAAK;oBAC1C;gBACF,CAAC;YAEH,MAAM,SAAS;gBACb,IAAI,CAAC,SAAS,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;gBACvE,QAAQ;gBACR,SAAS,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;gBACjC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;gBACzB,SAAS;oBACP;wBACE,OAAO;wBACP,SAAS;4BACP,MAAM;4BACN,SAAS,aAAa,IAAI,IAAI;4BAC9B,YAAY;wBACd;wBACA,eAAe,aAAa,YAAY,IAAI;oBAC9C;iBACD;gBACD,OAAO;oBACL,eAAe,CAAC,KAAK,aAAa,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;oBACpE,mBAAmB,CAAC,KAAK,aAAa,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK;oBACzE,kBAAkB,CAAC,KAAK,aAAa,KAAK,CAAC,eAAe,KAAK,OAAO,KAAK;oBAC3E,qBAAqB,CAAC,KAAK,aAAa,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK;oBAChF,cAAc,CAAC,KAAK,aAAa,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;gBACrE;YACF;YACA,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE;gBAClD,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,UAAU;wBACR,OAAO,KAAK,SAAS,CAAC;4BACpB,MAAM,aAAa,IAAI;4BACvB,OAAO,aAAa,KAAK;4BACzB,cAAc,aAAa,YAAY;wBAEzC;wBACA,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO,QAAQ,SAAS;wBACxB,MAAM;oBACR;gBACF;YACF;YACA,OAAO;QACT;IACF;AACF;AAEA,gCAAgC;AAChC,IAAI,cAAc;AAClB,IAAI;AACJ;AACA,IAAI,kBAAkB,cAAc;IAClC,YAAY,EACV,SAAS,EACT,aAAa,EACb,wBAAwB,EACzB,CAAE;QACD,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,YAAY,OAAO,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,wBAAwB,GAAG;IAClC;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACP,OAAO,EACP,MAAM,EACP;YACC,IAAI,IAAI;YACR,MAAM,sBAAsB,eAAe,CAAC,GAAG;YAC/C,OAAO,oBAAoB,KAAK;YAChC,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,SAAS;wBACP,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,gBAAgB,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC3C,IAAI,IAAI,IAAI,KAAK,UAAU;oBACzB,IAAI,OAAO,IAAI,OAAO,KAAK,UAAU;wBACnC,OAAO;oBACT,OAAO,IAAI,MAAM,OAAO,CAAC,IAAI,OAAO,GAAG;wBACrC,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,UAAY,QAAQ,IAAI,KAAK;oBACzD;gBACF;gBACA,OAAO;YACT;YACA,MAAM,eAAe,QAAQ,QAAQ,CAAC,MAAM,CAC1C,CAAC,MAAQ,IAAI,IAAI,KAAK;YAExB,MAAM,oBAAoB,aAAa,GAAG,CAAC,CAAC;gBAC1C,IAAI,OAAO,IAAI,OAAO,KAAK,UAAU;oBACnC,OAAO;wBACL,MAAM,IAAI,IAAI;wBACd,2CAA2C;wBAC3C,SAAS,IAAI,OAAO;oBACtB;gBACF,OAAO;oBACL,OAAO;wBACL,MAAM,IAAI,IAAI;wBACd,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;4BACxB,IAAI,eAAe,SAAS;gCAC1B,MAAM,mBAAmB;oCACvB,MAAM;oCACN,QAAQ;wCACN,MAAM;wCACN,YAAY;wCACZ,MAAM,QAAQ,SAAS,CAAC,GAAG;oCAC7B;gCACF;gCACA,OAAO;4BACT,OAAO;gCACL,OAAO;oCAAE,MAAM;oCAAQ,MAAM,QAAQ,IAAI;gCAAC;4BAC5C;wBACF;oBACF;gBACF;YACF;YACA,IAAI,QAAQ,KAAK,EAAE;gBACjB,MAAM,oBAAoB;oBACxB,MAAM;oBACN,SAAS;wBACP;4BACE,MAAM;4BACN,QAAQ;gCACN,MAAM;gCACN,YAAY;gCACZ,MAAM,QAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACtC;wBACF;qBACD;gBACH;gBACA,IAAI,QAAQ,KAAK,CAAC,WAAW,IAAI,MAAM,OAAO,CAAC,kBAAkB,OAAO,GAAG;oBACzE,kBAAkB,OAAO,CAAC,IAAI,CAAC;wBAC7B,MAAM;wBACN,MAAM,QAAQ,KAAK,CAAC,WAAW;oBACjC;gBACF;gBACA,kBAAkB,IAAI,CAAC;YACzB;YACA,IAAI,kBAAkB,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC;gBACpE,OAAO;oBACL,MAAM,OAAO,IAAI;oBACjB,aAAa,OAAO,WAAW;oBAC/B,cAAc;wBACZ,MAAM;wBACN,YAAY,OAAO,UAAU,CAAC,UAAU;wBACxC,UAAU,OAAO,UAAU,CAAC,QAAQ;oBACtC;gBACF;YACF;YACA,IAAI;YACJ,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,cAAc,CAAC,GAAG,2BAA2B,eAAe,EAAE,QAAQ,cAAc,CAAC,MAAM;gBACjG,MAAM,EAAE,YAAY,gBAAgB,EAAE,UAAU,cAAc,EAAE,GAAG,wBAAwB;gBAC3F,iBAAiB;oBACf,MAAM;oBACN,aAAa;oBACb,cAAc;wBACZ,MAAM;wBACN,YAAY;wBACZ,UAAU;oBACZ;gBACF;YACF;YACA,IAAI,gBAAgB;gBAClB,kBAAkB,mBAAmB,OAAO,kBAAkB,EAAE;gBAChE,gBAAgB,IAAI,CAAC;YACvB;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACjD,OAAO,IAAI,CAAC,SAAS;gBACrB,YAAY,QAAQ,eAAe,IAAI;gBACvC,UAAU;gBACV,OAAO;gBACP,QAAQ,gBAAgB,cAAc,OAAO,GAAG,KAAK;gBACrD,aAAa,QAAQ,WAAW;YAClC;YACA,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,UAAU;wBACR,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO,QAAQ,SAAS;wBACxB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,YAAY;gBAChB,eAAe,SAAS,KAAK,CAAC,YAAY;gBAC1C,mBAAmB,SAAS,KAAK,CAAC,aAAa;gBAC/C,cAAc,SAAS,KAAK,CAAC,YAAY,GAAG,SAAS,KAAK,CAAC,aAAa;YAC1E;YACA,MAAM,sBAAsB;gBAC1B,IAAI,SAAS,EAAE;gBACf,QAAQ;gBACR,SAAS,KAAK,GAAG;gBACjB,OAAO,SAAS,KAAK;gBACrB,SAAS;oBACP;wBACE,OAAO;wBACP,SAAS;4BACP,MAAM;4BACN,SAAS,CAAC,CAAC,KAAK,SAAS,OAAO,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK;4BAChG,YAAY,SAAS,OAAO,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,YAAY,GAAG,CAAC,CAAC,UAAY,CAAC;oCAClF,IAAI,QAAQ,EAAE;oCACd,MAAM;oCACN,UAAU;wCACR,MAAM,QAAQ,IAAI;wCAClB,WAAW,KAAK,SAAS,CAAC,QAAQ,KAAK;oCACzC;gCACF,CAAC;wBACH;wBACA,eAAe,SAAS,WAAW;oBACrC;iBACD;gBACD,OAAO;YACT;YACA,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,qBAAqB;wBACnB,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO,QAAQ,SAAS;wBACxB,MAAM;oBACR;gBACF;YACF;YACA,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,UAAU,SAAS,OAAO,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;gBACxD,IAAI,WAAW,WAAW,SAAS;oBACjC,MAAM,SAAS,QAAQ,KAAK;oBAC5B,MAAM,sBAAsB;wBAC1B,MAAM;wBACN,OAAO;oBACT;oBACA,OAAO;gBACT,OAAO;oBACL,IAAI,CAAC,WAAW,UAAU,GAAG;wBAC3B,OAAO,IAAI,CAAC,oBAAoB,CAAC;4BAC/B;4BACA;4BACA,SAAS,CAAC,WAAW,OAAO,UAAU,CAAC,IAAI;wBAC7C;oBACF;oBACA,OAAO;wBACL,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,WAAW;gCACT,OAAO,QAAQ,SAAS;gCACxB,MAAM;4BACR;wBACF;oBACF;oBACA,MAAM,IAAI,kCACR;gBAEJ;YACF;YACA,OAAO;QACT;IACF;AACF;AACA,IAAI,0BAA0B,CAAC;IAC7B,IAAI;IACJ,MAAM,aAAa,CAAC,CAAC,KAAK,YAAY,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK;IACtF,OAAO;QACL,YAAY,WAAW,UAAU;QACjC,UAAU,WAAW,QAAQ;IAC/B;AACF;AAEA,+BAA+B;AAC/B,IAAI,iBAAiB;AACrB,IAAI;AACJ;AACA,IAAI,iBAAiB,cAAc;IACjC,YAAY,EACV,SAAS,EACT,aAAa,EACb,wBAAwB,EACzB,CAAE;QACD,KAAK,CAAC,WAAW;QACjB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,MAAM,GAAG,IAAI,eAAe,OAAO,CAAC,eAAe;YACtD,SAAS;YACT,QAAQ,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,gBAAgB;QACjG,GAAG;QACH,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,aAAa,GAAG;IACvB;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACP,OAAO,EACP,MAAM,EACP;YACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5D,MAAM,sBAAsB,eAAe,CAAC,GAAG;YAC/C,OAAO,oBAAoB,KAAK;YAChC,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,SAAS;wBACP,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,oBAAoB,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC9C,MAAM,cAAc;oBAClB,SAAS,OAAO,IAAI,OAAO,KAAK,WAAW,IAAI,OAAO,GAAG,MAAM,OAAO,CAAC,IAAI,OAAO,KAAK,IAAI,OAAO,CAAC,MAAM,GAAG,KAAK,UAAU,IAAI,OAAO,CAAC,EAAE,GAAG,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,GAAG;gBACpK;gBACA,IAAI,IAAI,IAAI,KAAK,UAAU;oBACzB,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAS;gBACzE,OAAO,IAAI,IAAI,IAAI,KAAK,aAAa;oBACnC,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAY;gBAC5E,OAAO;oBACL,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAO;gBACvE;YACF;YACA,IAAI,QAAQ,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;oBACtE,MAAM;oBACN,UAAU;wBACR,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY;4BACV,MAAM;4BACN,YAAY,OAAO,UAAU,CAAC,UAAU;4BACxC,UAAU,OAAO,UAAU,CAAC,QAAQ;wBACtC;oBACF;gBACF,CAAC;YACD,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,cAAc,CAAC,GAAG,2BAA2B,eAAe,EAAE,QAAQ,cAAc,CAAC,MAAM;gBACjG,MAAM,mBAAmB,YAAY,UAAU,IAAI,CAAC;gBACpD,MAAM,iBAAiB,YAAY,QAAQ,IAAI,EAAE;gBACjD,MAAM,eAAe;oBACnB,MAAM;oBACN,UAAU;wBACR,MAAM;wBACN,aAAa;wBACb,YAAY;4BACV,MAAM;4BACN,YAAY;4BACZ,UAAU;wBACZ;oBACF;gBACF;gBACA,QAAQ,QAAQ;uBAAI;oBAAO;iBAAa,GAAG;oBAAC;iBAAa;YAC3D;YACA,IAAI;gBACF,MAAM,cAAc,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;oBAC5D,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;oBAC3C,UAAU;2BACL;wBACH,sEAAsE;2BACnE,QAAQ,cAAc,GAAG;4BAC1B;gCACE,MAAM;gCACN,SAAS,CAAC,sEAAsE,EAAE,KAAK,SAAS,CAC9F,QAAQ,cAAc,CAAC,MAAM,GAC5B;4BACL;yBACD,GAAG,EAAE;qBACP;oBACD,aAAa,QAAQ,WAAW,IAAI;oBACpC,YAAY,QAAQ,eAAe;oBACnC;oBACA,aAAa,QAAQ,WAAW,IAAI;gBACtC;gBACA,MAAM,WAAW;oBACf,IAAI,YAAY,EAAE;oBAClB,QAAQ;oBACR,SAAS,KAAK,GAAG;oBACjB,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;oBAC3C,SAAS;wBACP;4BACE,OAAO;4BACP,SAAS;gCACP,MAAM;gCACN,SAAS,CAAC,CAAC,KAAK,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK;gCAC/G,YAAY,CAAC,CAAC,KAAK,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,EAAE;4BACzH;4BACA,eAAe,CAAC,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK;wBACxF;qBACD;oBACD,OAAO;wBACL,eAAe,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK;wBACjF,mBAAmB,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK;wBACzF,cAAc,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK;oBACjF;gBACF;gBACA,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,UAAU;4BACR,OAAO,KAAK,SAAS,CAAC;4BACtB,MAAM;wBACR;wBACA,WAAW;4BACT,OAAO,QAAQ,SAAS;4BACxB,MAAM;wBACR;oBACF;gBACF;gBACA,IAAI,CAAC,QAAQ,cAAc,EAAE;oBAC3B,OAAO;gBACT;gBACA,MAAM,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE;gBACjJ,IAAI,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,EAAE;oBACxF,IAAI;wBACF,MAAM,SAAS,KAAK,KAAK,CAAC,SAAS,QAAQ,CAAC,SAAS;wBACrD,MAAM,gBAAgB;4BACpB,MAAM;4BACN,OAAO,SAAS,KAAK;wBACvB;wBACA,OAAO;oBACT,EAAE,OAAO,GAAG;wBACV,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,OAAO;oCACL,OAAO,EAAE,OAAO;oCAChB,MAAM;gCACR;4BACF;wBACF;oBACF;gBACF;gBACA,MAAM,UAAU,CAAC,KAAK,CAAC,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO;gBAC7G,IAAI,SAAS;oBACX,IAAI;wBACF,MAAM,YAAY,QAAQ,KAAK,CAAC;wBAChC,IAAI,WAAW;4BACb,MAAM,SAAS,KAAK,KAAK,CAAC,SAAS,CAAC,EAAE;4BACtC,MAAM,gBAAgB;gCACpB,MAAM;gCACN,OAAO,SAAS,KAAK;4BACvB;4BACA,OAAO;wBACT;oBACF,EAAE,OAAO,GAAG;wBACV,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,OAAO;oCACL,OAAO,EAAE,OAAO;oCAChB,MAAM;gCACR;4BACF;wBACF;oBACF;gBACF;gBACA,IAAI,CAAC,WAAW,UAAU,GAAG;oBAC3B,OAAO,IAAI,CAAC,oBAAoB,CAAC;wBAC/B;wBACA;wBACA,SAAS,CAAC,WAAW,OAAO,UAAU,CAAC,IAAI;oBAC7C;gBACF;gBACA,MAAM,IAAI,kCAAkC;YAC9C,EAAE,OAAO,OAAO;gBACd,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BACL,OAAO,MAAM,OAAO;4BACpB,MAAM;wBACR;wBACA,WAAW;4BACT,OAAO,QAAQ,SAAS;4BACxB,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM;YACR;QACF;IACF;AACF;AAEA,6BAA6B;AAC7B,IAAI;AACJ;AACA,IAAI,UAAU;IACZ,MAAM;IACN,WAAW;IACX,QAAQ;AAEV;AACA,IAAI,iBAAiB;IACnB;QACE,UAAU,cAAc,YAAY,CAAC,wBAAwB;QAC7D,WAAW,cAAc,kBAAkB,CAAC,sBAAsB;IACpE;IACA;QACE,UAAU,cAAc,YAAY,CAAC,yBAAyB;QAC9D,WAAW,cAAc,kBAAkB,CAAC,sBAAsB;IACpE;IACA;QACE,UAAU,cAAc,YAAY,CAAC,+BAA+B;QACpE,WAAW,cAAc,kBAAkB,CAAC,sBAAsB;IACpE;IACA;QACE,UAAU,cAAc,YAAY,CAAC,+BAA+B;QACpE,WAAW,cAAc,kBAAkB,CAAC,sBAAsB;IACpE;CACD;AACD,IAAI,eAAe,cAAc;IAC/B,YAAY,EACV,MAAM,EACN,sCAAsC;IACtC,SAAS,EACT,aAAa,EACd,CAAE;QACD,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,GAAG;YAC5D,cAAc,MAAM,GAAG,kBAAkB,iBAAiB;QAC5D;QACA,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,WAAW,CAAC;YAAE,QAAQ,cAAc,MAAM;QAAC;QAC3E,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,GAAG,UAAU,QAAQ,CAAC,aAAa,UAAU,QAAQ,CAAC;IACtE;IACA,kEAAkE;IAClE,eAAe,QAAQ,EAAE,KAAK,EAAE;QAC9B,MAAM,WAAW,EAAE;QACnB,IAAI,oBAAoB;QACxB,SAAS,OAAO,CAAC,CAAC,KAAK;YACrB,MAAM,OAAO,OAAO,CAAC,IAAI,IAAI,CAAC;YAC9B,IAAI,CAAC,MAAM;gBACT,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,2BAA2B,EAAE,IAAI,IAAI,EAAE;oBACjD,OAAO;gBACT;gBACA;YACF;YACA,IAAI,IAAI,IAAI,KAAK,UAAU;gBACzB,IAAI,OAAO,IAAI,OAAO,KAAK,UAAU;oBACnC,oBAAoB,CAAC,oBAAoB,oBAAoB,SAAS,EAAE,IAAI,IAAI,OAAO;gBACzF;gBACA;YACF;YACA,MAAM,QAAQ,EAAE;YAChB,IAAI,MAAM,OAAO,CAAC,IAAI,OAAO,GAAG;gBAC9B,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC;oBACnB,IAAI;oBACJ,IAAI,YAAY,IAAI,KAAK,QAAQ;wBAC/B,MAAM,IAAI,CAAC;4BAAE,MAAM,YAAY,IAAI;wBAAC;oBACtC,OAAO,IAAI,YAAY,IAAI,KAAK,aAAa;wBAC3C,IAAI,eAAe,eAAe,CAAC,CAAC,KAAK,YAAY,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,GAAG;4BAC1F,MAAM,aAAa,YAAY,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;4BAC1D,MAAM,gBAAgB,YAAY,SAAS,CAAC,GAAG,CAAC,KAAK,CACnD;4BAEF,IAAI,cAAc,eAAe;gCAC/B,MAAM,IAAI,CAAC;oCACT,YAAY;wCAAE,UAAU,aAAa,CAAC,EAAE;wCAAE,MAAM;oCAAW;gCAC7D;4BACF,OAAO;gCACL,IAAI,CAAC,MAAM,CAAC;oCACV,UAAU;oCACV,SAAS;oCACT,OAAO;gCACT;4BACF;wBACF;oBACF;gBACF;YACF,OAAO,IAAI,OAAO,IAAI,OAAO,KAAK,UAAU;gBAC1C,MAAM,IAAI,CAAC;oBAAE,MAAM,IAAI,OAAO;gBAAC;YACjC;YACA,IAAI,SAAS,UAAU,SAAS,MAAM,GAAG,KAAK,IAAI,IAAI,KAAK,QAAQ;gBACjE,MAAM,YAAY,MAAM,WAAW,IAAI;gBACvC,MAAM,IAAI,CAAC;oBAAE,MAAM;gBAAU;gBAC7B,MAAM,IAAI,CAAC;oBACT,YAAY;wBACV,UAAU;wBACV,kCAAkC;wBAClC,MAAM,MAAM,MAAM,CAAC,QAAQ,CAAC;oBAC9B;gBACF;YACF;YACA,IAAI,qBAAqB,SAAS,MAAM,KAAK,KAAK,SAAS,QAAQ;gBACjE,MAAM,gBAAgB,MAAM,IAAI,CAAC,CAAC,IAAM,UAAU;gBAClD,IAAI,iBAAiB,UAAU,eAAe;oBAC5C,cAAc,IAAI,GAAG,GAAG,kBAAkB;;AAEpD,EAAE,cAAc,IAAI,EAAE;gBACd,OAAO;oBACL,MAAM,OAAO,CAAC;wBAAE,MAAM;oBAAkB;gBAC1C;gBACA,oBAAoB;YACtB;YACA,IAAI,MAAM,MAAM,GAAG,GAAG;gBACpB,SAAS,IAAI,CAAC;oBAAE;oBAAM;gBAAM;YAC9B;QACF;QACA,IAAI,mBAAmB;YACrB,SAAS,OAAO,CAAC;gBAAE,MAAM;gBAAQ,OAAO;oBAAC;wBAAE,MAAM;oBAAkB;iBAAE;YAAC;QACxE;QACA,OAAO;IACT;IACA,iDAAiD;IACjD,YAAY,KAAK,EAAE;QACjB,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;YAChC,OAAO,KAAK;QACd;QACA,OAAO;YACL;gBACE,sBAAsB,MAAM,GAAG,CAAC,CAAC;oBAC/B,IAAI,aAAa,KAAK;oBACtB,IAAI,OAAO,UAAU,EAAE;wBACrB,aAAa;4BACX,MAAM,cAAc,IAAI,CAAC,MAAM;4BAC/B,YAAY,OAAO,UAAU,CAAC,UAAU;4BACxC,UAAU,OAAO,UAAU,CAAC,QAAQ;wBACtC;oBACF;oBACA,OAAO;wBACL,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B;oBACF;gBACF;YACF;SACD;IACH;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,mCAAmC;QACnC,OAAO,EACP,MAAM,EACN,UAAU,CAAC,EACZ;YACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACpC,MAAM,EACJ,KAAK,EACL,SAAS,EACT,cAAc,EACd,KAAK,EACL,WAAW,EACX,KAAK,EACL,eAAe,EAChB,GAAG;YACJ,MAAM,oBAAoB,IAAI,CAAC,cAAc,CAAC,QAAQ,QAAQ,EAAE;YAChE,MAAM,iBAAiB,IAAI,CAAC,WAAW,CAAC;YACxC,MAAM,mBAAmB;gBACvB;gBACA;gBACA,MAAM;gBACN,kBAAkB,iBAAiB,qBAAqB,KAAK;gBAC7D,gBAAgB,iBAAiB,eAAe,eAAe,MAAM,IAAI,KAAK;YAChF;YACA,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,WAAW;wBAAE,OAAO,IAAI,CAAC,SAAS;wBAAE,MAAM;oBAAS;oBACnD,WAAW;wBAAE,OAAO;wBAAW,MAAM;oBAAS;oBAC9C,uBAAuB;wBACrB,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,kBAAkB,MAAM,CAAC,eAAe,EAAE,OAAO,IAAI,CAAC,kBAAkB,IAAI,CAAC,MAAM,SAAS,EAAE,iBAAiB,eAAe,MAAM,GAAG,EAAE,qBAAqB,EAAE,eAAe,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO;wBAChQ,MAAM;oBACR;gBACF;YACF;YACA,MAAM,iBAAiB;gBACrB,OAAO,IAAI,CAAC,SAAS;gBACrB,UAAU;gBACV,QAAQ,cAAc,eAAe,CAAC,GAAG,mBAAmB;oBAC1D;oBACA,OAAO;gBACT;YACF;YACA,IAAI;gBACF,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,WAAW;4BAAE,OAAO;4BAAW,MAAM;wBAAS;wBAC9C,aAAa;4BACX,OAAO,KAAK,SAAS,CAAC;4BACtB,MAAM;wBACR;oBACF;gBACF;YACF,EAAE,OAAO,GAAG;gBACV,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,WAAW;4BAAE,OAAO;4BAAW,MAAM;wBAAS;wBAC9C,OAAO;4BAAE,OAAO,EAAE,OAAO;4BAAE,MAAM;wBAAS;oBAC5C;gBACF;YACF;YACA,IAAI;gBACF,MAAM,SAAS,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC;gBACxD,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,WAAW;4BAAE,OAAO;4BAAW,MAAM;wBAAS;wBAC9C,UAAU;4BACR,OAAO,KAAK,SAAS,CAAC;4BACtB,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM,eAAe,CAAC,CAAC,KAAK,CAAC,KAAK,OAAO,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK;gBACtH,MAAM,YAAY,CAAC,KAAK,OAAO,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CACrE,CAAC,IAAI,QAAU,CAAC;wBACd,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,OAAO;wBACrC,MAAM;wBACN,UAAU;4BACR,MAAM,GAAG,IAAI;4BACb,WAAW,KAAK,SAAS,CAAC,GAAG,IAAI;wBACnC;oBACF,CAAC;gBAEH,IAAI,UAAU;gBACd,IAAI;oBACF,UAAU,OAAO,IAAI;gBACvB,EAAE,OAAO,GAAG;oBACV,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,gCAAgC,EAAE,EAAE,OAAO,EAAE;wBACvD,OAAO;wBACP,WAAW;4BAAE,WAAW;gCAAE,OAAO;gCAAW,MAAM;4BAAS;wBAAE;oBAC/D;oBACA,UAAU;gBACZ;gBACA,MAAM,cAAc;oBAClB,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,OAAO,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,EAAE,KAAK;oBACtI,QAAQ;oBACR,SAAS,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;oBACjC,OAAO,IAAI,CAAC,SAAS;oBACrB,SAAS;wBACP;4BACE,OAAO;4BACP,SAAS;gCACP,MAAM;gCACN;gCACA,YAAY;4BACd;4BACA,eAAe;wBACjB;qBACD;oBACD,OAAO;wBACL,eAAe,CAAC,CAAC,KAAK,OAAO,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK;wBACvF,mBAAmB,CAAC,CAAC,KAAK,OAAO,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,oBAAoB,KAAK;wBAC/F,cAAc,CAAC,CAAC,KAAK,OAAO,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,KAAK;oBACvF;gBACF;gBACA,IAAI,gBAAgB;oBAClB,IAAI;oBACJ,IAAI;wBACF,MAAM,gBAAgB,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI,GAAG,OAAO,CAAC,wBAAwB,GAAG,KAAK;wBACzG,aAAa,KAAK,KAAK,CAAC;oBAC1B,EAAE,OAAO,GAAG;wBACV,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,+BAA+B,EAAE,EAAE,OAAO,EAAE;4BACtD,OAAO;4BACP,WAAW;gCACT,SAAS;oCAAE,OAAO,WAAW;oCAAQ,MAAM;gCAAS;4BACtD;wBACF;wBACA,IAAI,UAAU,GAAG;4BACf,OAAO,IAAI,CAAC,oBAAoB,CAAC;gCAC/B;gCACA;gCACA,SAAS,UAAU;4BACrB;wBACF;wBACA,MAAM,IAAI,kCACR,CAAC,+BAA+B,EAAE,EAAE,OAAO,EAAE;oBAEjD;oBACA,IAAI;wBACF,kBAAkB,eAAe,MAAM,EAAE;oBAC3C,EAAE,OAAO,KAAK;wBACZ,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;wBACT;wBACA,IAAI,UAAU,GAAG;4BACf,OAAO,IAAI,CAAC,oBAAoB,CAAC;gCAC/B;gCACA;gCACA,SAAS,UAAU;4BACrB;wBACF;wBACA,MAAM;oBACR;oBACA,MAAM,mBAAmB;wBACvB,MAAM;wBACN,OAAO,YAAY,KAAK;oBAC1B;oBACA,OAAO;gBACT;gBACA,OAAO;YACT,EAAE,OAAO,OAAO;gBACd,OAAO;oBACL,UAAU;oBACV,SAAS,CAAC,wCAAwC,EAAE,MAAM,OAAO,EAAE;oBACnE,OAAO;oBACP,WAAW;wBACT,cAAc;4BACZ,OAAO,CAAC,SAAS,EAAE,MAAM,OAAO,GAAG,MAAM,KAAK,GAAG,cAAc,MAAM,KAAK,GAAG,IAAI;4BACjF,MAAM;wBACR;wBACA,WAAW;4BAAE,OAAO;4BAAW,MAAM;wBAAS;oBAChD;gBACF;gBACA,IAAI,UAAU,GAAG;oBACf,OAAO;wBACL,UAAU;wBACV,SAAS,CAAC,aAAa,EAAE,QAAQ,eAAe,CAAC;wBACjD,OAAO;oBACT;oBACA,MAAM,IAAI,QACR,CAAC,WAAa,WAAW,UAAU,MAAM,CAAC,IAAI,OAAO;oBAEvD,OAAO,IAAI,CAAC,oBAAoB,CAAC;wBAC/B;wBACA;wBACA,SAAS,UAAU;oBACrB;gBACF;gBACA,IAAI,iBAAiB,gBAAgB;oBACnC,MAAM;gBACR;gBACA,MAAM,IAAI,eACR,CAAC,8BAA8B,EAAE,MAAM,OAAO,EAAE;YAEpD;QACF;IACF;AACF;AAEA,2BAA2B;AAC3B,IAAI,iBAAiB;AACrB,IAAI;AACJ;AACA,IAAI,aAAa,cAAc;IAC7B,YAAY,EACV,SAAS,EACT,aAAa,EACb,wBAAwB,EACzB,CAAE;QACD,KAAK,CAAC,WAAW;QACjB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,MAAM,GAAG,IAAI,eAAe,OAAO,CAAC,eAAe;YACtD,SAAS;YACT,QAAQ,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,YAAY;QAC7F,GAAG;QACH,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,aAAa,GAAG;IACvB;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACP,OAAO,EACP,MAAM,EACP;YACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5D,MAAM,sBAAsB,eAAe,CAAC,GAAG;YAC/C,OAAO,oBAAoB,KAAK;YAChC,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,SAAS;wBACP,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,oBAAoB,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC9C,MAAM,cAAc;oBAClB,SAAS,OAAO,IAAI,OAAO,KAAK,WAAW,IAAI,OAAO,GAAG,MAAM,OAAO,CAAC,IAAI,OAAO,KAAK,IAAI,OAAO,CAAC,MAAM,GAAG,KAAK,UAAU,IAAI,OAAO,CAAC,EAAE,GAAG,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,GAAG;gBACpK;gBACA,IAAI,IAAI,IAAI,KAAK,UAAU;oBACzB,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAS;gBACzE,OAAO,IAAI,IAAI,IAAI,KAAK,aAAa;oBACnC,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAY;gBAC5E,OAAO;oBACL,OAAO,cAAc,eAAe,CAAC,GAAG,cAAc;wBAAE,MAAM;oBAAO;gBACvE;YACF;YACA,IAAI,QAAQ,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;oBACtE,MAAM;oBACN,UAAU;wBACR,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY;4BACV,MAAM;4BACN,YAAY,OAAO,UAAU,CAAC,UAAU;4BACxC,UAAU,OAAO,UAAU,CAAC,QAAQ;wBACtC;oBACF;gBACF,CAAC;YACD,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,cAAc,CAAC,GAAG,2BAA2B,eAAe,EAAE,QAAQ,cAAc,CAAC,MAAM;gBACjG,MAAM,mBAAmB,YAAY,UAAU,IAAI,CAAC;gBACpD,MAAM,iBAAiB,YAAY,QAAQ,IAAI,EAAE;gBACjD,MAAM,eAAe;oBACnB,MAAM;oBACN,UAAU;wBACR,MAAM;wBACN,aAAa;wBACb,YAAY;4BACV,MAAM;4BACN,YAAY;4BACZ,UAAU;wBACZ;oBACF;gBACF;gBACA,QAAQ,QAAQ;uBAAI;oBAAO;iBAAa,GAAG;oBAAC;iBAAa;YAC3D;YACA,IAAI;gBACF,MAAM,cAAc,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;oBAC5D,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;oBACvC,UAAU;2BACL;wBACH,sEAAsE;2BACnE,QAAQ,cAAc,GAAG;4BAC1B;gCACE,MAAM;gCACN,SAAS,CAAC,sEAAsE,EAAE,KAAK,SAAS,CAC9F,QAAQ,cAAc,CAAC,MAAM,GAC5B;4BACL;yBACD,GAAG,EAAE;qBACP;oBACD,aAAa,QAAQ,WAAW,IAAI;oBACpC,YAAY,QAAQ,eAAe;oBACnC;oBACA,aAAa,QAAQ,WAAW,IAAI;gBACtC;gBACA,MAAM,WAAW;oBACf,IAAI,YAAY,EAAE;oBAClB,QAAQ;oBACR,SAAS,KAAK,GAAG;oBACjB,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;oBACvC,SAAS;wBACP;4BACE,OAAO;4BACP,SAAS;gCACP,MAAM;gCACN,SAAS,CAAC,CAAC,KAAK,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK;gCAC/G,YAAY,CAAC,CAAC,KAAK,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,EAAE;4BACzH;4BACA,eAAe,CAAC,CAAC,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK;wBACxF;qBACD;oBACD,OAAO;wBACL,eAAe,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK;wBACjF,mBAAmB,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK;wBACzF,cAAc,CAAC,CAAC,KAAK,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK;oBACjF;gBACF;gBACA,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,UAAU;4BACR,OAAO,KAAK,SAAS,CAAC;4BACtB,MAAM;wBACR;wBACA,WAAW;4BACT,OAAO,QAAQ,SAAS;4BACxB,MAAM;wBACR;oBACF;gBACF;gBACA,IAAI,CAAC,QAAQ,cAAc,EAAE;oBAC3B,OAAO;gBACT;gBACA,MAAM,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE;gBACjJ,IAAI,CAAC,KAAK,YAAY,OAAO,KAAK,IAAI,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,EAAE;oBACxF,IAAI;wBACF,MAAM,SAAS,KAAK,KAAK,CAAC,SAAS,QAAQ,CAAC,SAAS;wBACrD,MAAM,gBAAgB;4BACpB,MAAM;4BACN,OAAO,SAAS,KAAK;wBACvB;wBACA,OAAO;oBACT,EAAE,OAAO,GAAG;wBACV,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,OAAO;oCACL,OAAO,EAAE,OAAO;oCAChB,MAAM;gCACR;4BACF;wBACF;oBACF;gBACF;gBACA,MAAM,UAAU,CAAC,KAAK,CAAC,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO;gBAC7G,IAAI,SAAS;oBACX,IAAI;wBACF,MAAM,YAAY,QAAQ,KAAK,CAAC;wBAChC,IAAI,WAAW;4BACb,MAAM,SAAS,KAAK,KAAK,CAAC,SAAS,CAAC,EAAE;4BACtC,MAAM,gBAAgB;gCACpB,MAAM;gCACN,OAAO,SAAS,KAAK;4BACvB;4BACA,OAAO;wBACT;oBACF,EAAE,OAAO,GAAG;wBACV,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;4BACP,WAAW;gCACT,OAAO;oCACL,OAAO,EAAE,OAAO;oCAChB,MAAM;gCACR;4BACF;wBACF;oBACF;gBACF;gBACA,IAAI,CAAC,WAAW,UAAU,GAAG;oBAC3B,OAAO,IAAI,CAAC,oBAAoB,CAAC;wBAC/B;wBACA;wBACA,SAAS,CAAC,WAAW,OAAO,UAAU,CAAC,IAAI;oBAC7C;gBACF;gBACA,MAAM,IAAI,kCAAkC;YAC9C,EAAE,OAAO,OAAO;gBACd,OAAO;oBACL,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,OAAO;4BACL,OAAO,MAAM,OAAO;4BACpB,MAAM;wBACR;wBACA,WAAW;4BACT,OAAO,QAAQ,SAAS;4BACxB,MAAM;wBACR;oBACF;gBACF;gBACA,MAAM;YACR;QACF;IACF;AACF;AAEA,6BAA6B;AAC7B,IAAI,iBAAiB;AACrB,IAAI;AACJ,IAAI,6BAA6B;AACjC;AACA,IAAI,eAAe,cAAc;IAC/B,YAAY,EACV,SAAS,EACT,aAAa,EACd,CAAE;QACD,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,eAAe,OAAO,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG;IACnB;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,SAAS,cAAc,EACvB,MAAM,EACN,UAAU,CAAC,EACZ;YACC,IAAI,IAAI,IAAI;YACZ,IAAI,UAAU;YACd,IAAI,wBAAwB;YAC5B,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO;gBACtE,IAAI,EACF,WAAW,EACX,KAAK,EACL,iBAAiB,EACjB,gBAAgB,EAChB,WAAW,EACZ,GAAG;gBACJ,KAAK,SAAS,CAAA,EACZ,WAAW,EACX,KAAK,EACL,iBAAiB,EACjB,gBAAgB,EAChB,WAAW,EACZ,GAAG,EAAC,GAAG,UAAU,UAAU,IAAI;oBAC9B;oBACA;oBACA;oBACA;oBACA;iBACD;gBACD,QAAQ,QAAQ,GAAG,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY,cAAc,eAAe,CAAC,GAAG,UAAU;wBAC9F,MAAM;oBACR;gBACA,IAAI,QAAQ,KAAK,IAAI,QAAQ,cAAc,EAAE;oBAC3C,MAAM,IAAI,eACR;gBAEJ;gBACA,IAAI,QAAQ,KAAK,EAAE;oBACjB,IAAI,EAAE,KAAK,EAAE,GAAG;oBAChB,KAAK,SAAS,CAAA,EAAE,KAAK,EAAE,GAAG,EAAC,GAAG,UAAU,UAAU,IAAI;wBAAC;qBAAQ;oBAC/D,wBAAwB;oBACxB,QAAQ,QAAQ,CAAC,IAAI,CAAC;wBACpB,MAAM;wBACN,SAAS,CAAC;AACtB,EAAE,KAAK,SAAS,CACF,OACA;;;;;;;0GAO4F,CAAC;oBACjG;gBACF;YACF;YACA,IAAI,QAAQ,WAAW,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,GAAG;gBAC/F,MAAM,IAAI,eAAe;YAC3B;YACA,MAAM,KAAK,SAAS,EAAE,SAAS,EAAE,GAAG,IAAI,kCAAkC,UAAU,IAAI;gBAAC;aAAY;YACrG,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,SAAS;wBACP,OAAO,KAAK,SAAS,CAAC,cAAc,eAAe,CAAC,GAAG,kCAAkC;4BACvF;wBACF;wBACA,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO,IAAI,CAAC,SAAS;wBACrB,MAAM;oBACR;gBACF;YACF;YACA,IAAI,QAAQ,KAAK,EAAE;gBACjB,MAAM,oBAAoB;oBACxB,MAAM;oBACN,SAAS;wBACP;4BACE,MAAM;4BACN,WAAW;gCACT,KAAK,CAAC,uBAAuB,EAAE,QAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW;4BAC1E;wBACF;2BACG,QAAQ,KAAK,CAAC,WAAW,GAAG;4BAAC;gCAAE,MAAM;gCAAQ,MAAM,QAAQ,KAAK,CAAC,WAAW;4BAAC;yBAAE,GAAG,EAAE;qBACxF;gBACH;gBACA,QAAQ,QAAQ,CAAC,IAAI,CAAC;YACxB;YACA,IAAI,iBAAiB,KAAK;YAC1B,IAAI,QAAQ,cAAc,EAAE;gBAC1B,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO;oBACtE,IAAI;wBACF,MAAM,eAAe,KAAK,SAAS,CACjC,CAAC,GAAG,2BAA2B,OAAO,EAAE,QAAQ,cAAc,CAAC,MAAM;wBAEvE,QAAQ,QAAQ,CAAC,IAAI,CAAC;4BACpB,MAAM;4BACN,SAAS,CAAC;AACxB,EAAE,aAAa;;;kKAGmJ,CAAC;wBACvJ;oBACF,EAAE,OAAO,OAAO;wBACd,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,OAAO;wBACT;wBACA,IAAI,UAAU,GAAG;4BACf,OAAO,IAAI,CAAC,oBAAoB,CAAC;gCAC/B;gCACA;gCACA,SAAS,UAAU;4BACrB;wBACF;wBACA,MAAM;oBACR;gBACF,OAAO;oBACL,iBAAiB,CAAC,GAAG,WAAW,iBAAiB,EAC/C,QAAQ,cAAc,CAAC,MAAM,EAC7B,QAAQ,cAAc,CAAC,IAAI;gBAE/B;YACF;YACA,MAAM,KAAK,cAAc,eAAe,CAAC,GAAG,kCAAkC;gBAC5E,OAAO,IAAI,CAAC,SAAS;YACvB,IAAI,EAAE,cAAc,EAAE,GAAG,IAAI,gBAAgB,UAAU,IAAI;gBAAC;aAAiB;YAC7E,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,eAAe;wBACb,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;gBACF;YACF;YACA,MAAM,oBAAoB,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC9C,IAAI,MAAM,OAAO,CAAC,QAAQ,OAAO,GAAG;oBAClC,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;wBACxC,IAAI,eAAe,SAAS;4BAC1B,MAAM,eAAe;gCACnB,WAAW;oCACT,KAAK,QAAQ,SAAS,CAAC,GAAG;gCAC5B;gCACA,MAAM;4BACR;4BACA,OAAO;wBACT,OAAO;4BACL,MAAM,cAAc;gCAClB,MAAM,QAAQ,IAAI;gCAClB,MAAM;4BACR;4BACA,OAAO;wBACT;oBACF;oBACA,IAAI,QAAQ,IAAI,KAAK,UAAU;wBAC7B,MAAM,oBAAoB,cAAc,eAAe,CAAC,GAAG,UAAU;4BACnE,MAAM;4BACN,SAAS,aAAa,MAAM,CAC1B,CAAC,UAAY,QAAQ,IAAI,KAAK;wBAElC;wBACA,OAAO;oBACT,OAAO,IAAI,QAAQ,IAAI,KAAK,QAAQ;wBAClC,MAAM,oBAAoB,cAAc,eAAe,CAAC,GAAG,UAAU;4BACnE,MAAM;4BACN,SAAS;wBACX;wBACA,OAAO;oBACT,OAAO;wBACL,MAAM,oBAAoB,cAAc,eAAe,CAAC,GAAG,UAAU;4BACnE,MAAM;4BACN,SAAS,aAAa,MAAM,CAC1B,CAAC,UAAY,QAAQ,IAAI,KAAK;wBAElC;wBACA,OAAO;oBACT;gBACF;gBACA,MAAM,mBAAmB;oBACvB,MAAM;oBACN,SAAS,QAAQ,OAAO;gBAC1B;gBACA,OAAO;YACT;YACA,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,gBAAgB;gBAC5D,OAAO,IAAI,CAAC,SAAS;gBACrB,UAAU;gBACV,iBAAiB;gBACjB,QAAQ;gBACR,OAAO,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;wBACjE,UAAU;4BACR,MAAM,OAAO,IAAI;4BACjB,aAAa,OAAO,WAAW;4BAC/B,YAAY,OAAO,UAAU;wBAC/B;wBACA,MAAM;oBACR,CAAC;YACH;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAC3D,IAAI,uBAAuB;gBACzB,IAAI;oBACF,MAAM,gBAAgB,KAAK,KAAK,CAAC,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO;oBACpE,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,GAAG;wBACvC;4BACE,UAAU;gCACR,MAAM,aAAa,CAAC,OAAO;gCAC3B,WAAW,KAAK,SAAS,CAAC,aAAa,CAAC,YAAY;4BACtD;4BACA,MAAM;4BACN,IAAI;wBACN;qBACD;oBACD,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,GAAG;gBACxC,EAAE,OAAO,OAAO;oBACd,OAAO;wBACL,UAAU;wBACV,SAAS;wBACT,OAAO;wBACP,WAAW;4BACT,OAAO;gCACL,OAAO,MAAM,OAAO;gCACpB,MAAM;4BACR;4BACA,SAAS;gCACP,OAAO,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO;gCAC1C,MAAM;4BACR;wBACF;oBACF;oBACA,IAAI,UAAU,GAAG;wBACf,OAAO,IAAI,CAAC,oBAAoB,CAAC;4BAC/B;4BACA;4BACA,SAAS,UAAU;wBACrB;oBACF;oBACA,MAAM;gBACR;YACF;YACA,OAAO;gBACL,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBACT,UAAU;wBACR,OAAO,KAAK,SAAS,CAAC;wBACtB,MAAM;oBACR;oBACA,WAAW;wBACT,OAAO;wBACP,MAAM;oBACR;gBACF;YACF;YACA,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,gBAAgB,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO;gBACzD,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,IAAI;oBACF,kBAAkB,QAAQ,cAAc,CAAC,MAAM,EAAE;gBACnD,EAAE,OAAO,GAAG;oBACV,OAAO;wBACL,UAAU;wBACV,SAAS;wBACT,OAAO;oBACT;oBACA,IAAI,UAAU,GAAG;wBACf,OAAO,IAAI,CAAC,oBAAoB,CAAC;4BAC/B;4BACA;4BACA,SAAS,UAAU;wBACrB;oBACF;oBACA,IAAI,aAAa,0BAA0B;wBACzC,OAAO;4BACL,UAAU;4BACV,SAAS,CAAC,qCAAqC,EAAE,EAAE,OAAO,EAAE;4BAC5D,OAAO;4BACP,WAAW;gCACT,cAAc;oCACZ,OAAO,CAAC,SAAS,EAAE,EAAE,OAAO,GAAG,EAAE,KAAK,GAAG,cAAc,EAAE,KAAK,GAAG,IAAI;oCACrE,MAAM;gCACR;gCACA,WAAW;oCAAE,OAAO;oCAAW,MAAM;gCAAS;4BAChD;wBACF;wBACA,MAAM,IAAI,kCAAkC,EAAE,OAAO;oBACvD;oBACA,MAAM;gBACR;gBACA,OAAO;oBACL,MAAM;oBACN,OAAO,SAAS,KAAK;gBACvB;YACF;YACA,OAAO;QACT;IACF;AACF;AAEA,wHAAwH;AACxH,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,kGAAkG;AAClG,IAAI,aAAa,cAAc;IAC7B,YAAY,OAAO,EAAE,OAAO,CAAE;QAC5B,KAAK,CAAC,UAAU,IAAI,CAAC,IAAI,GAAG,cAAc,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,QAAQ,KAAK,EAAE,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI;IACtJ;AACF;AACA,SAAS,KAAK,IAAI,GAClB;AACA,SAAS,aAAa,SAAS;IAC7B,IAAI,OAAO,aAAa,YACtB,MAAM,IAAI,UACR;IAEJ,MAAM,EAAE,UAAU,IAAI,EAAE,UAAU,IAAI,EAAE,UAAU,IAAI,EAAE,SAAS,EAAE,GAAG;IACtE,IAAI,iBAAiB,IAAI,eAAe,MAAM,IAAI,OAAO,IAAI,YAAY;IACzE,SAAS,KAAK,QAAQ;QACpB,MAAM,QAAQ,eAAe,SAAS,OAAO,CAAC,iBAAiB,MAAM,UAAU,CAAC,UAAU,WAAW,GAAG,WAAW,GAAG,iBAAiB,OAAO;QAC9I,KAAK,MAAM,QAAQ,SACjB,UAAU;QACZ,iBAAiB,YAAY,eAAe;IAC9C;IACA,SAAS,UAAU,IAAI;QACrB,IAAI,SAAS,IAAI;YACf;YACA;QACF;QACA,IAAI,KAAK,UAAU,CAAC,MAAM;YACxB,aAAa,UAAU,KAAK,KAAK,CAAC,KAAK,UAAU,CAAC,QAAQ,IAAI;YAC9D;QACF;QACA,MAAM,sBAAsB,KAAK,OAAO,CAAC;QACzC,IAAI,wBAAwB,CAAC,GAAG;YAC9B,MAAM,QAAQ,KAAK,KAAK,CAAC,GAAG,sBAAsB,SAAS,IAAI,CAAC,sBAAsB,EAAE,KAAK,MAAM,IAAI,GAAG,QAAQ,KAAK,KAAK,CAAC,sBAAsB;YACnJ,aAAa,OAAO,OAAO;YAC3B;QACF;QACA,aAAa,MAAM,IAAI;IACzB;IACA,SAAS,aAAa,KAAK,EAAE,KAAK,EAAE,IAAI;QACtC,OAAQ;YACN,KAAK;gBACH,YAAY;gBACZ;YACF,KAAK;gBACH,OAAO,GAAG,OAAO,MAAM;AAC/B,CAAC;gBACO;YACF,KAAK;gBACH,KAAK,MAAM,QAAQ,CAAC,QAAQ,KAAK,IAAI;gBACrC;YACF,KAAK;gBACH,QAAQ,IAAI,CAAC,SAAS,QAAQ,SAAS,OAAO,OAAO,QACnD,IAAI,WAAW,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC,EAAE;oBACpD,MAAM;oBACN;oBACA;gBACF;gBAEF;YACF;gBACE,QACE,IAAI,WACF,CAAC,eAAe,EAAE,MAAM,MAAM,GAAG,KAAK,GAAG,MAAM,KAAK,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,EAC9E;oBAAE,MAAM;oBAAiB;oBAAO;oBAAO;gBAAK;gBAGhD;QACJ;IACF;IACA,SAAS;QACP,KAAK,MAAM,GAAG,KAAK,QAAQ;YACzB;YACA,OAAO,aAAa,KAAK;YACzB,4EAA4E;YAC5E,uDAAuD;YACvD,MAAM,KAAK,QAAQ,CAAC,CAAC;AAC3B,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK;QACrB,IAAI,KAAK,KAAK,GAAG,OAAO,IAAI,YAAY;IAC1C;IACA,SAAS,MAAM,UAAU,CAAC,CAAC;QACzB,kBAAkB,QAAQ,OAAO,IAAI,UAAU,iBAAiB,eAAe,MAAM,KAAK,KAAK,GAAG,OAAO,IAAI,YAAY,IAAI,iBAAiB;IAChJ;IACA,OAAO;QAAE;QAAM;IAAM;AACvB;AACA,SAAS,WAAW,KAAK;IACvB,MAAM,QAAQ,EAAE;IAChB,IAAI,iBAAiB,IAAI,cAAc;IACvC,MAAO,cAAc,MAAM,MAAM,EAAI;QACnC,MAAM,UAAU,MAAM,OAAO,CAAC,MAAM,cAAc,UAAU,MAAM,OAAO,CAAC,CAAC;AAC/E,CAAC,EAAE;QACC,IAAI,UAAU,CAAC;QACf,IAAI,YAAY,CAAC,KAAK,YAAY,CAAC,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS,WAAW,YAAY,CAAC,IAAI,YAAY,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,UAAU,UAAU,YAAY,CAAC,KAAK,CAAC,UAAU,OAAO,GAAG,YAAY,CAAC,GAAG;YACtN,iBAAiB,MAAM,KAAK,CAAC;YAC7B;QACF,OAAO;YACL,MAAM,OAAO,MAAM,KAAK,CAAC,aAAa;YACtC,MAAM,IAAI,CAAC,OAAO,cAAc,UAAU,GAAG,KAAK,CAAC,cAAc,EAAE,KAAK,QAAQ,KAAK,CAAC,YAAY,KAAK,CAAC;AAC9G,CAAC,IAAI;QACD;IACF;IACA,OAAO;QAAC;QAAO;KAAe;AAChC;AAEA,mGAAmG;AACnG,IAAI,0BAA0B,cAAc;IAC1C,YAAY,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAE;QAChD,IAAI;QACJ,KAAK,CAAC;YACJ,OAAM,UAAU;gBACd,SAAS,aAAa;oBACpB,SAAS,CAAC;wBACR,WAAW,OAAO,CAAC;oBACrB;oBACA,SAAQ,KAAK;wBACX,YAAY,cAAc,WAAW,KAAK,CAAC,SAAS,OAAO,WAAW,cAAc,QAAQ;oBAC9F;oBACA;oBACA;gBACF;YACF;YACA,WAAU,KAAK;gBACb,OAAO,IAAI,CAAC;YACd;QACF;IACF;AACF;AAEA,wHAAwH;AACxH,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,MAAM,6GAA2B;AACrC,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,eAAe,GAAG,OAAO;IAChC,OAAO,QAAQ,MAAM,CACnB,CAAC,iBAAiB,iBAAmB,eAAe,eAAe,CAAC,GAAG,kBAAkB,kBAAkB,OAAO,iBAAiB,CAAC,IACpI,CAAC;AAEL;AACA,SAAS,uBAAuB,QAAQ;IACtC,OAAO,OAAO,WAAW,CAAC;WAAI,SAAS,OAAO;KAAC;AACjD;AACA,IAAI,oBAAoB,CAAC,EACvB,MAAM,EACN,OAAO,EAAE,EACT,WAAW,gEAAgE,EAC3E,YAAY,GAAG,EAChB,GAAG,CAAC,CAAC;IACJ,MAAM,YAAY;QAChB,MAAM,iBAAiB,SAAS,MAAM;QACtC,MAAM,QAAQ,IAAI,MAAM;QACxB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,IAAK;YAC7B,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,KAAK,MAAM,KAAK,iBAAiB,EAAE;QACzD;QACA,OAAO,MAAM,IAAI,CAAC;IACpB;IACA,IAAI,UAAU,MAAM;QAClB,OAAO;IACT;IACA,IAAI,SAAS,QAAQ,CAAC,YAAY;QAChC,MAAM,IAAI,gBAAgB,oBAAoB,CAAC;YAC7C,UAAU;YACV,SAAS,CAAC,eAAe,EAAE,UAAU,oCAAoC,EAAE,SAAS,EAAE,CAAC;QACzF;IACF;IACA,OAAO,IAAM,GAAG,SAAS,YAAY,aAAa;AACpD;AACA,IAAI,aAAa;AACjB,SAAS,aAAa,KAAK;IACzB,OAAO,CAAC,iBAAiB,SAAS,iBAAiB,YAAY,KAAK,CAAC,MAAM,IAAI,KAAK,gBAAgB,MAAM,IAAI,KAAK,qBAAqB,UAAU;IAClJ,MAAM,IAAI,KAAK,cAAc;AAC/B;AACA,IAAI,8BAA8B;IAAC;IAAgB;CAAkB;AACrE,SAAS,iBAAiB,EACxB,KAAK,EACL,GAAG,EACH,iBAAiB,EAClB;IACC,IAAI,aAAa,QAAQ;QACvB,OAAO;IACT;IACA,IAAI,iBAAiB,aAAa,4BAA4B,QAAQ,CAAC,MAAM,OAAO,CAAC,WAAW,KAAK;QACnG,MAAM,QAAQ,MAAM,KAAK;QACzB,IAAI,SAAS,MAAM;YACjB,OAAO,IAAI,iBAAiB,YAAY,CAAC;gBACvC,SAAS,CAAC,uBAAuB,EAAE,MAAM,OAAO,EAAE;gBAClD;gBACA;gBACA;gBACA,aAAa;YAEf;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,+BAA+B,gBAAgB,UAAU;IAChE,IAAI,IAAI,IAAI;IACZ,IAAI,cAAc,MAAM,EAAE;QACxB,OAAO,CAAC,eAAe,CAAC;IAC1B;IACA,IAAI,CAAC,KAAK,cAAc,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,EAAE;QAClE,OAAO,CAAC,QAAQ,EAAE,cAAc,SAAS,CAAC,SAAS,CAAC,WAAW,IAAI;IACrE;IACA,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,EAAE;QACjG,OAAO,CAAC,gBAAgB,EAAE,cAAc,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI;IACxE;IACA,IAAI,cAAc,WAAW,EAAE;QAC7B,OAAO,CAAC,mBAAmB,CAAC;IAC9B;IACA,OAAO;AACT;AACA,SAAS,uBAAuB,MAAM;IACpC,OAAO,OAAO,WAAW,CACvB,OAAO,OAAO,CAAC,QAAQ,MAAM,CAAC,CAAC,CAAC,MAAM,MAAM,GAAK,SAAS;AAE9D;AACA,SAAS,oBAAoB,OAAO,EAAE,GAAG,oBAAoB;IAC3D,MAAM,iBAAiB,uBACrB,WAAW,OAAO,UAAU,CAAC;IAE/B,MAAM,oBAAoB,IAAI,QAAQ;IACtC,MAAM,yBAAyB,kBAAkB,GAAG,CAAC,iBAAiB;IACtE,kBAAkB,GAAG,CACnB,cACA;QAAC;WAA2B;KAAqB,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEzE,OAAO,OAAO,WAAW,CAAC;AAC5B;AACA,IAAI,UAAU,uCAAO,WAAW;AAChC,IAAI,wBAAwB;AAC5B,IAAI,wBAAwB;AAC5B,IAAI,yBAAyB;AAC7B,SAAS,sBAAsB,EAC7B,MAAM,EACN,MAAM,EACN,eAAe,UAAU,OAAO,wBAAwB,KAAK,CAAC,EAC9D,eAAe,UAAU,OAAO,wBAAwB,sBAAsB,EAC/E;IACC,OAAO;QACL,UAAU,QAAQ,OAAO,MAAM,GAAG,IAAI,SAAS,KAAK;QACpD,UAAU,QAAQ,OAAO,MAAM,GAAG,IAAI,KAAK,KAAK;QAChD,sCAAsC;QACtC;QACA,UAAU,OAAO,KAAK,SAAS,CAAC,UAAU,KAAK;QAC/C;KACD,CAAC,MAAM,CAAC,CAAC,OAAS,QAAQ,MAAM,IAAI,CAAC;AACxC;AACA,SAAS,kCAAkC,EACzC,QAAQ,EACR,MAAM,EACN,YAAY,EACZ,YAAY,EACb;IACC,IAAI,IAAI;IACR,MAAM,gBAAgB,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,MAAM,WAAW,eAAe,CAAC,GAAG,QAAQ,CAAC,EAAE,IAAI;QAAE,MAAM;QAAU,SAAS;IAAG;IACrJ,cAAc,OAAO,GAAG,sBAAsB;QAC5C,QAAQ,cAAc,OAAO;QAC7B;QACA;QACA;IACF;IACA,OAAO;QACL;WACG,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK;KACvF;AACH;AACA,SAAS,WAAW,EAClB,MAAM,EACN,uBAAuB,EACvB,sBAAsB,QAAQ,EAC9B,WAAW,EACZ;IACC,IAAI,OAAO,WAAW,UAAU;QAC9B,OAAO;IACT;IACA,IAAI,UAAU,MAAM;QAClB,MAAM,IAAI,iBAAiB,eAAe,CAAC;YACzC,SAAS,GAAG,YAAY,0BAA0B,CAAC;QACrD;IACF;IACA,IAAI,OAAO,YAAY,aAAa;QAClC,MAAM,IAAI,iBAAiB,eAAe,CAAC;YACzC,SAAS,GAAG,YAAY,wCAAwC,EAAE,oBAAoB,wEAAwE,CAAC;QACjK;IACF;IACA,SAAS,QAAQ,GAAG,CAAC,wBAAwB;IAC7C,IAAI,UAAU,MAAM;QAClB,MAAM,IAAI,iBAAiB,eAAe,CAAC;YACzC,SAAS,GAAG,YAAY,wCAAwC,EAAE,oBAAoB,mBAAmB,EAAE,wBAAwB,sBAAsB,CAAC;QAC5J;IACF;IACA,IAAI,OAAO,WAAW,UAAU;QAC9B,MAAM,IAAI,iBAAiB,eAAe,CAAC;YACzC,SAAS,GAAG,YAAY,4CAA4C,EAAE,wBAAwB,sCAAsC,CAAC;QACvI;IACF;IACA,OAAO;AACT;AACA,SAAS,oBAAoB,EAC3B,YAAY,EACZ,uBAAuB,EACxB;IACC,IAAI,OAAO,iBAAiB,UAAU;QACpC,OAAO;IACT;IACA,IAAI,gBAAgB,QAAQ,OAAO,YAAY,aAAa;QAC1D,OAAO,KAAK;IACd;IACA,eAAe,QAAQ,GAAG,CAAC,wBAAwB;IACnD,IAAI,gBAAgB,QAAQ,OAAO,iBAAiB,UAAU;QAC5D,OAAO,KAAK;IACd;IACA,OAAO;AACT;AACA,SAAS,YAAY,EACnB,YAAY,EACZ,uBAAuB,EACvB,WAAW,EACX,WAAW,EACZ;IACC,IAAI,OAAO,iBAAiB,UAAU;QACpC,OAAO;IACT;IACA,IAAI,gBAAgB,MAAM;QACxB,MAAM,IAAI,iBAAiB,gBAAgB,CAAC;YAC1C,SAAS,GAAG,YAAY,0BAA0B,CAAC;QACrD;IACF;IACA,IAAI,OAAO,YAAY,aAAa;QAClC,MAAM,IAAI,iBAAiB,gBAAgB,CAAC;YAC1C,SAAS,GAAG,YAAY,wCAAwC,EAAE,YAAY,wEAAwE,CAAC;QACzJ;IACF;IACA,eAAe,QAAQ,GAAG,CAAC,wBAAwB;IACnD,IAAI,gBAAgB,MAAM;QACxB,MAAM,IAAI,iBAAiB,gBAAgB,CAAC;YAC1C,SAAS,GAAG,YAAY,wCAAwC,EAAE,YAAY,mBAAmB,EAAE,wBAAwB,sBAAsB,CAAC;QACpJ;IACF;IACA,IAAI,OAAO,iBAAiB,UAAU;QACpC,MAAM,IAAI,iBAAiB,gBAAgB,CAAC;YAC1C,SAAS,GAAG,YAAY,4CAA4C,EAAE,wBAAwB,sCAAsC,CAAC;QACvI;IACF;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,SAAS;IACrC,IAAI;IACJ,MAAM,CAAC,OAAO,UAAU,EAAE,CAAC,GAAG,UAAU,WAAW,GAAG,KAAK,CAAC;IAC5D,OAAO,CAAC,KAAK,CAAA;QACX,MAAM;QACN,SAAS;QACT,MAAM;QACN,KAAK;QACL,SAAS;IACX,CAAA,CAAC,CAAC,QAAQ,KAAK,OAAO,KAAK;AAC7B;AACA,IAAI,iBAAiB;AACrB,IAAI,uBAAuB;AAC3B,SAAS,OAAO,IAAI;IAClB,MAAM,MAAM,KAAK,KAAK,CAAC;IACvB,IAAI,QAAQ,QAAQ,OAAO,QAAQ,UAAU;QAC3C,OAAO;IACT;IACA,IAAI,eAAe,IAAI,CAAC,UAAU,SAAS,qBAAqB,IAAI,CAAC,UAAU,OAAO;QACpF,OAAO;IACT;IACA,OAAO,OAAO;AAChB;AACA,SAAS,OAAO,GAAG;IACjB,IAAI,OAAO;QAAC;KAAI;IAChB,MAAO,KAAK,MAAM,CAAE;QAClB,MAAM,QAAQ;QACd,OAAO,EAAE;QACT,KAAK,MAAM,QAAQ,MAAO;YACxB,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,cAAc;gBAC3D,MAAM,IAAI,YAAY;YACxB;YACA,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,kBAAkB,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,WAAW,EAAE,cAAc;gBACpI,MAAM,IAAI,YAAY;YACxB;YACA,IAAK,MAAM,OAAO,KAAM;gBACtB,MAAM,QAAQ,IAAI,CAAC,IAAI;gBACvB,IAAI,SAAS,OAAO,UAAU,UAAU;oBACtC,KAAK,IAAI,CAAC;gBACZ;YACF;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,gBAAgB,IAAI;IAC3B,MAAM,EAAE,eAAe,EAAE,GAAG;IAC5B,MAAM,eAAe,GAAG;IACxB,IAAI;QACF,OAAO,OAAO;IAChB,SAAU;QACR,MAAM,eAAe,GAAG;IAC1B;AACF;AACA,IAAI,kBAAkB,OAAO,GAAG,CAAC;AACjC,SAAS,UAAU,QAAQ;IACzB,OAAO;QAAE,CAAC,gBAAgB,EAAE;QAAM;IAAS;AAC7C;AACA,SAAS,YAAY,KAAK;IACxB,OAAO,OAAO,UAAU,YAAY,UAAU,QAAQ,mBAAmB,SAAS,KAAK,CAAC,gBAAgB,KAAK,QAAQ,cAAc;AACrI;AACA,SAAS,cAAc,eAAe;IACpC,IAAI;IACJ,OAAO;QACL,IAAI,cAAc,MAAM;YACtB,aAAa;QACf;QACA,OAAO;IACT;AACF;AACA,SAAS,YAAY,KAAK;IACxB,OAAO,YAAY,SAAS,QAAQ,OAAO,UAAU,aAAa,UAAU,wBAAwB;AACtG;AACA,SAAS,wBAAwB,cAAc;IAC7C,OAAO,UAAU,CAAC,QAAU,QAAQ,MAAM,MAAM;YAC9C,MAAM,SAAS,MAAM,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC1D,OAAO,OAAO,MAAM,IAAI,OAAO;gBAAE,SAAS;gBAAM,OAAO,OAAO,KAAK;YAAC,IAAI;gBACtE,SAAS;gBACT,OAAO,IAAI,iBAAiB,mBAAmB,CAAC;oBAC9C;oBACA,OAAO,OAAO,MAAM;gBACtB;YACF;QACF;AACF;AACA,SAAS,cAAc,EAAE;IACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,MAAM,EACP;QACC,MAAM,SAAS,MAAM,kBAAkB;YAAE;YAAO;QAAO;QACvD,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,MAAM,iBAAiB,mBAAmB,CAAC,IAAI,CAAC;gBAAE;gBAAO,OAAO,OAAO,KAAK;YAAC;QAC/E;QACA,OAAO,OAAO,KAAK;IACrB;AACF;AACA,SAAS,kBAAkB,EAAE;IAC3B,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,MAAM,EACP;QACC,MAAM,aAAa,YAAY;QAC/B,IAAI;YACF,IAAI,WAAW,QAAQ,IAAI,MAAM;gBAC/B,OAAO;oBAAE,SAAS;oBAAM;oBAAO,UAAU;gBAAM;YACjD;YACA,MAAM,SAAS,MAAM,WAAW,QAAQ,CAAC;YACzC,IAAI,OAAO,OAAO,EAAE;gBAClB,OAAO;oBAAE,SAAS;oBAAM,OAAO,OAAO,KAAK;oBAAE,UAAU;gBAAM;YAC/D;YACA,OAAO;gBACL,SAAS;gBACT,OAAO,iBAAiB,mBAAmB,CAAC,IAAI,CAAC;oBAAE;oBAAO,OAAO,OAAO,KAAK;gBAAC;gBAC9E,UAAU;YACZ;QACF,EAAE,OAAO,OAAO;YACd,OAAO;gBACL,SAAS;gBACT,OAAO,iBAAiB,mBAAmB,CAAC,IAAI,CAAC;oBAAE;oBAAO,OAAO;gBAAM;gBACvE,UAAU;YACZ;QACF;IACF;AACF;AACA,SAAS,UAAU,EAAE;IACnB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,IAAI,EACJ,MAAM,EACP;QACC,IAAI;YACF,MAAM,QAAQ,gBAAgB;YAC9B,IAAI,UAAU,MAAM;gBAClB,OAAO;YACT;YACA,OAAO,cAAc;gBAAE;gBAAO;YAAO;QACvC,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,cAAc,CAAC,UAAU,CAAC,UAAU,iBAAiB,mBAAmB,CAAC,UAAU,CAAC,QAAQ;gBAC/G,MAAM;YACR;YACA,MAAM,IAAI,iBAAiB,cAAc,CAAC;gBAAE;gBAAM,OAAO;YAAM;QACjE;IACF;AACF;AACA,SAAS,cAAc,EAAE;IACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,IAAI,EACJ,MAAM,EACP;QACC,IAAI;YACF,MAAM,QAAQ,gBAAgB;YAC9B,IAAI,UAAU,MAAM;gBAClB,OAAO;oBAAE,SAAS;oBAAM;oBAAO,UAAU;gBAAM;YACjD;YACA,OAAO,MAAM,kBAAkB;gBAAE;gBAAO;YAAO;QACjD,EAAE,OAAO,OAAO;YACd,OAAO;gBACL,SAAS;gBACT,OAAO,iBAAiB,cAAc,CAAC,UAAU,CAAC,SAAS,QAAQ,IAAI,iBAAiB,cAAc,CAAC;oBAAE;oBAAM,OAAO;gBAAM;gBAC5H,UAAU,KAAK;YACjB;QACF;IACF;AACF;AACA,SAAS,eAAe,KAAK;IAC3B,IAAI;QACF,gBAAgB;QAChB,OAAO;IACT,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AACA,SAAS,qBAAqB,EAC5B,MAAM,EACN,MAAM,EACP;IACC,OAAO,OAAO,WAAW,CAAC,IAAI,qBAAqB,WAAW,CAAC,IAAI,2BAA2B,WAAW,CACvG,IAAI,gBAAgB;QAClB,WAAU,EAAE,EAAE,EAAE;YACd,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EAAE,IAAI,EAAE,EAAE,UAAU;gBAC7D,IAAI,SAAS,UAAU;oBACrB;gBACF;gBACA,WAAW,OAAO,CAAC,CAAA,MAAM,cAAc;oBAAE,MAAM;oBAAM;gBAAO,EAAC;YAC/D;QACF;IACF;AAEJ;AACA,SAAS,qBAAqB,EAAE;IAC9B,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,QAAQ,EACR,eAAe,EACf,MAAM,EACP;QACC,IAAI,CAAC,mBAAmB,OAAO,KAAK,IAAI,eAAe,CAAC,SAAS,KAAK,MAAM;YAC1E,OAAO,KAAK;QACd;QACA,MAAM,wBAAwB,MAAM,kBAAkB;YACpD,OAAO,eAAe,CAAC,SAAS;YAChC;QACF;QACA,IAAI,CAAC,sBAAsB,OAAO,EAAE;YAClC,MAAM,IAAI,iBAAiB,oBAAoB,CAAC;gBAC9C,UAAU;gBACV,SAAS,CAAC,QAAQ,EAAE,SAAS,iBAAiB,CAAC;gBAC/C,OAAO,sBAAsB,KAAK;YACpC;QACF;QACA,OAAO,sBAAsB,KAAK;IACpC;AACF;AACA,IAAI,oBAAoB,IAAM,WAAW,KAAK;AAC9C,IAAI,gBAAgB,CAAC,KAAO,QAAQ,MAAM;QAAC;KAAG,EAAE,UAAW,EACzD,GAAG,EACH,OAAO,EACP,IAAI,EACJ,qBAAqB,EACrB,yBAAyB,EACzB,WAAW,EACX,OAAO,MAAM,EACd;QACC,OAAO,UAAU;YACf;YACA,SAAS,eAAe;gBACtB,gBAAgB;YAClB,GAAG;YACH,MAAM;gBACJ,SAAS,KAAK,SAAS,CAAC;gBACxB,QAAQ;YACV;YACA;YACA;YACA;YACA,OAAO;QACT;IACF;AACA,IAAI,oBAAoB,CAAC,KAAO,QAAQ,MAAM;QAAC;KAAG,EAAE,UAAW,EAC7D,GAAG,EACH,OAAO,EACP,QAAQ,EACR,qBAAqB,EACrB,yBAAyB,EACzB,WAAW,EACX,OAAO,MAAM,EACd;QACC,OAAO,UAAU;YACf;YACA;YACA,MAAM;gBACJ,SAAS;gBACT,QAAQ,OAAO,WAAW,CAAC,SAAS,OAAO;YAC7C;YACA;YACA;YACA;YACA,OAAO;QACT;IACF;AACA,IAAI,YAAY,CAAC,KAAO,QAAQ,MAAM;QAAC;KAAG,EAAE,UAAW,EACrD,GAAG,EACH,UAAU,CAAC,CAAC,EACZ,IAAI,EACJ,yBAAyB,EACzB,qBAAqB,EACrB,WAAW,EACX,OAAO,SAAS,mBAAmB,EACpC;QACC,IAAI;YACF,MAAM,WAAW,MAAM,OAAO,KAAK;gBACjC,QAAQ;gBACR,SAAS,oBACP,SACA,CAAC,sBAAsB,EAAE,SAAS,EAClC;gBAEF,MAAM,KAAK,OAAO;gBAClB,QAAQ;YACV;YACA,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI;gBACJ,IAAI;oBACF,mBAAmB,MAAM,sBAAsB;wBAC7C;wBACA;wBACA,mBAAmB,KAAK,MAAM;oBAChC;gBACF,EAAE,OAAO,OAAO;oBACd,IAAI,aAAa,UAAU,kBAAkB,YAAY,CAAC,UAAU,CAAC,QAAQ;wBAC3E,MAAM;oBACR;oBACA,MAAM,IAAI,kBAAkB,YAAY,CAAC;wBACvC,SAAS;wBACT,OAAO;wBACP,YAAY,SAAS,MAAM;wBAC3B;wBACA;wBACA,mBAAmB,KAAK,MAAM;oBAChC;gBACF;gBACA,MAAM,iBAAiB,KAAK;YAC9B;YACA,IAAI;gBACF,OAAO,MAAM,0BAA0B;oBACrC;oBACA;oBACA,mBAAmB,KAAK,MAAM;gBAChC;YACF,EAAE,OAAO,OAAO;gBACd,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,aAAa,UAAU,kBAAkB,YAAY,CAAC,UAAU,CAAC,QAAQ;wBAC3E,MAAM;oBACR;gBACF;gBACA,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS;oBACT,OAAO;oBACP,YAAY,SAAS,MAAM;oBAC3B;oBACA;oBACA,mBAAmB,KAAK,MAAM;gBAChC;YACF;QACF,EAAE,OAAO,OAAO;YACd,MAAM,iBAAiB;gBAAE;gBAAO;gBAAK,mBAAmB,KAAK,MAAM;YAAC;QACtE;IACF;AACA,SAAS,OAAO,MAAM;IACpB,OAAO;AACT;AACA,SAAS,iCAAiC,EACxC,EAAE,EACF,IAAI,EACJ,WAAW,EACZ;IACC,OAAO,CAAC;QACN,IAAI,KAAK,IAAI,EACX,OAAO,EACP,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,YAAY,EACZ,gBAAgB,EACjB,GAAG,IAAI,OAAO,UAAU,IAAI;YAC3B;YACA;YACA;YACA;YACA;YACA;SACD;QACD,OAAO,OAAO;YACZ,MAAM;YACN;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;IACF;AACF;AACA,SAAS,iDAAiD,EACxD,EAAE,EACF,IAAI,EACJ,WAAW,EACX,YAAY,EACb;IACC,OAAO,CAAC;QACN,IAAI,KAAK,IAAI,EACX,OAAO,EACP,aAAa,EACb,YAAY,EACZ,YAAY,EACZ,gBAAgB,EACjB,GAAG,IAAI,OAAO,UAAU,IAAI;YAC3B;YACA;YACA;YACA;YACA;SACD;QACD,OAAO,OAAO;YACZ,MAAM;YACN;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;IACF;AACF;AACA,SAAS,QAAQ,KAAK;IACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,OAAO,UAAU,YAAY;YAC/B,QAAQ;QACV;QACA,OAAO,QAAQ,OAAO,CAAC;IACzB;AACF;AACA,IAAI,iCAAiC,CAAC,EACpC,WAAW,EACX,gBAAgB,eAAe,EAC/B,WAAW,EACZ,GAAK,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,QAAQ,EAAE,GAAG,EAAE,iBAAiB,EAAE;YAC/E,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,aAAa,IAAI,OAAO,IAAI;gBAC9B,OAAO;oBACL;oBACA,OAAO,IAAI,kBAAkB,YAAY,CAAC;wBACxC,SAAS,SAAS,UAAU;wBAC5B;wBACA;wBACA,YAAY,SAAS,MAAM;wBAC3B;wBACA;wBACA,aAAa,eAAe,OAAO,KAAK,IAAI,YAAY;oBAC1D;gBACF;YACF;YACA,IAAI;gBACF,MAAM,cAAc,MAAM,UAAU;oBAClC,MAAM;oBACN,QAAQ;gBACV;gBACA,OAAO;oBACL;oBACA,OAAO,IAAI,kBAAkB,YAAY,CAAC;wBACxC,SAAS,gBAAgB;wBACzB;wBACA;wBACA,YAAY,SAAS,MAAM;wBAC3B;wBACA;wBACA,MAAM;wBACN,aAAa,eAAe,OAAO,KAAK,IAAI,YAAY,UAAU;oBACpE;gBACF;YACF,EAAE,OAAO,YAAY;gBACnB,OAAO;oBACL;oBACA,OAAO,IAAI,kBAAkB,YAAY,CAAC;wBACxC,SAAS,SAAS,UAAU;wBAC5B;wBACA;wBACA,YAAY,SAAS,MAAM;wBAC3B;wBACA;wBACA,aAAa,eAAe,OAAO,KAAK,IAAI,YAAY;oBAC1D;gBACF;YACF;QACF;AACA,IAAI,mCAAmC,CAAC,eAAiB,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,QAAQ,EAAE;YAC1G,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,SAAS,IAAI,IAAI,MAAM;gBACzB,MAAM,IAAI,kBAAkB,sBAAsB,CAAC,CAAC;YACtD;YACA,OAAO;gBACL;gBACA,OAAO,qBAAqB;oBAC1B,QAAQ,SAAS,IAAI;oBACrB,QAAQ;gBACV;YACF;QACF;AACA,IAAI,kCAAkC,CAAC,eAAiB,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,QAAQ,EAAE;YACzG,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,SAAS,IAAI,IAAI,MAAM;gBACzB,MAAM,IAAI,kBAAkB,sBAAsB,CAAC,CAAC;YACtD;YACA,IAAI,SAAS;YACb,OAAO;gBACL;gBACA,OAAO,SAAS,IAAI,CAAC,WAAW,CAAC,IAAI,qBAAqB,WAAW,CACnE,IAAI,gBAAgB;oBAClB,WAAU,SAAS,EAAE,UAAU;wBAC7B,OAAO,QAAQ,IAAI,EAAE,MAAM;4BACzB,IAAI,UAAU,QAAQ,CAAC,OAAO;gCAC5B,WAAW,OAAO,CAChB,CAAA,MAAM,cAAc;oCAClB,MAAM,SAAS;oCACf,QAAQ;gCACV,EAAC;gCAEH,SAAS;4BACX,OAAO;gCACL,UAAU;4BACZ;wBACF;oBACF;gBACF;YAEJ;QACF;AACA,IAAI,4BAA4B,CAAC,kBAAoB,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,QAAQ,EAAE,GAAG,EAAE,iBAAiB,EAAE;YAC9H,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,MAAM,eAAe,MAAM,cAAc;gBACvC,MAAM;gBACN,QAAQ;YACV;YACA,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,CAAC,aAAa,OAAO,EAAE;gBACzB,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS;oBACT,OAAO,aAAa,KAAK;oBACzB,YAAY,SAAS,MAAM;oBAC3B;oBACA;oBACA;oBACA;gBACF;YACF;YACA,OAAO;gBACL;gBACA,OAAO,aAAa,KAAK;gBACzB,UAAU,aAAa,QAAQ;YACjC;QACF;AACA,IAAI,8BAA8B,IAAM,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,QAAQ,EAAE,GAAG,EAAE,iBAAiB,EAAE;YACjH,MAAM,kBAAkB,uBAAuB;YAC/C,IAAI,CAAC,SAAS,IAAI,EAAE;gBAClB,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS;oBACT;oBACA;oBACA,YAAY,SAAS,MAAM;oBAC3B;oBACA,cAAc,KAAK;gBACrB;YACF;YACA,IAAI;gBACF,MAAM,SAAS,MAAM,SAAS,WAAW;gBACzC,OAAO;oBACL;oBACA,OAAO,IAAI,WAAW;gBACxB;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS;oBACT;oBACA;oBACA,YAAY,SAAS,MAAM;oBAC3B;oBACA,cAAc,KAAK;oBACnB,OAAO;gBACT;YACF;QACF;AACA,IAAI,kBAAkB,CAAC,OAAO;IAC5B,IAAI,IAAI;IACR,MAAO,IAAI,MAAM,MAAM,IAAI,IAAI,MAAM,MAAM,EAAE,IAAK;QAChD,IAAI,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE;IAC7B;IACA,OAAO;QAAC,CAAC,MAAM,MAAM,GAAG,CAAC,EAAE,QAAQ;WAAO,MAAM,KAAK,CAAC;KAAG,CAAC,IAAI,CAAC;AACjE;AACA,IAAI,iBAAiB,OACnB;AAEF,IAAI,iBAAiB;IACnB,MAAM,KAAK;IACX,cAAc;IACd,UAAU;QAAC;KAAI;IACf,gBAAgB;IAChB,cAAc;IACd,cAAc;IACd,aAAa;IACb,0BAA0B;IAC1B,6BAA6B;IAC7B,8BAA8B;IAC9B,gBAAgB;IAChB,cAAc;IACd,aAAa,CAAC;IACd,eAAe;IACf,iBAAiB;IACjB,iBAAiB;IACjB,eAAe;IACf,gBAAgB;IAChB,cAAc;AAChB;AACA,IAAI,oBAAoB,CAAC,UAAY,OAAO,YAAY,WAAW,cAAc,eAAe,CAAC,GAAG,iBAAiB;QACnH,MAAM;IACR,KAAK,eAAe,eAAe,CAAC,GAAG,iBAAiB;AACxD,SAAS;IACP,OAAO,CAAC;AACV;AACA,SAAS,cAAc,GAAG,EAAE,IAAI;IAC9B,IAAI,IAAI,IAAI;IACZ,MAAM,MAAM;QACV,MAAM;IACR;IACA,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,MAAM,YAAY,qBAAqB,CAAC,MAAM,EAAE;QACnL,IAAI,KAAK,GAAG,SAAS,IAAI,IAAI,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YAC1E,aAAa;mBAAI,KAAK,WAAW;gBAAE;aAAQ;QAC7C;IACF;IACA,IAAI,IAAI,SAAS,EAAE;QACjB,IAAI,QAAQ,GAAG,IAAI,SAAS,CAAC,KAAK;IACpC;IACA,IAAI,IAAI,SAAS,EAAE;QACjB,IAAI,QAAQ,GAAG,IAAI,SAAS,CAAC,KAAK;IACpC;IACA,IAAI,IAAI,WAAW,EAAE;QACnB,IAAI,QAAQ,GAAG,IAAI,WAAW,CAAC,KAAK;QACpC,IAAI,QAAQ,GAAG,IAAI,WAAW,CAAC,KAAK;IACtC;IACA,OAAO;AACT;AACA,SAAS,eAAe,GAAG;IACzB,MAAM,MAAM;QACV,MAAM;QACN,QAAQ;IACV;IACA,IAAI,CAAC,IAAI,MAAM,EAAE,OAAO;IACxB,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE;QAC9B,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,IAAI,MAAM,SAAS,EAAE;oBACnB,IAAI,OAAO,GAAG,MAAM,KAAK;gBAC3B,OAAO;oBACL,IAAI,gBAAgB,GAAG,MAAM,KAAK;gBACpC;gBACA;YACF,KAAK;gBACH,IAAI,MAAM,SAAS,EAAE;oBACnB,IAAI,OAAO,GAAG,MAAM,KAAK;gBAC3B,OAAO;oBACL,IAAI,gBAAgB,GAAG,MAAM,KAAK;gBACpC;gBACA;YACF,KAAK;gBACH,IAAI,UAAU,GAAG,MAAM,KAAK;gBAC5B;QACJ;IACF;IACA,OAAO;AACT;AACA,SAAS;IACP,OAAO;QAAE,MAAM;IAAU;AAC3B;AACA,SAAS,gBAAgB,IAAI,EAAE,IAAI;IACjC,OAAO,SAAS,KAAK,IAAI,CAAC,IAAI,EAAE;AAClC;AACA,IAAI,gBAAgB,CAAC,KAAK;IACxB,OAAO,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;AACtC;AACA,SAAS,aAAa,GAAG,EAAE,IAAI,EAAE,oBAAoB;IACnD,MAAM,WAAW,wBAAwB,OAAO,uBAAuB,KAAK,YAAY;IACxF,IAAI,MAAM,OAAO,CAAC,WAAW;QAC3B,OAAO;YACL,OAAO,SAAS,GAAG,CAAC,CAAC,MAAM,IAAM,aAAa,KAAK,MAAM;QAC3D;IACF;IACA,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;gBACL,MAAM;gBACN,QAAQ;YACV;QACF,KAAK;YACH,OAAO;gBACL,MAAM;gBACN,QAAQ;YACV;QACF,KAAK;YACH,OAAO,kBAAkB;IAC7B;AACF;AACA,IAAI,oBAAoB,CAAC;IACvB,MAAM,MAAM;QACV,MAAM;QACN,QAAQ;IACV;IACA,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE;QAC9B,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,IAAI,OAAO,GAAG,MAAM,KAAK;gBACzB;YACF,KAAK;gBACH,IAAI,OAAO,GAAG,MAAM,KAAK;gBACzB;QACJ;IACF;IACA,OAAO;AACT;AACA,SAAS,gBAAgB,IAAI,EAAE,IAAI;IACjC,OAAO,cAAc,eAAe,CAAC,GAAG,SAAS,KAAK,SAAS,CAAC,IAAI,EAAE,QAAQ;QAC5E,SAAS,KAAK,YAAY;IAC5B;AACF;AACA,SAAS,gBAAgB,IAAI,EAAE,IAAI;IACjC,OAAO,KAAK,cAAc,KAAK,UAAU,SAAS,KAAK,MAAM,CAAC,IAAI,EAAE,QAAQ;AAC9E;AACA,SAAS,aAAa,GAAG;IACvB,OAAO;QACL,MAAM;QACN,MAAM,MAAM,IAAI,CAAC,IAAI,MAAM;IAC7B;AACF;AACA,IAAI,yBAAyB,CAAC;IAC5B,IAAI,UAAU,QAAQ,KAAK,IAAI,KAAK,UAAU,OAAO;IACrD,OAAO,WAAW;AACpB;AACA,SAAS,qBAAqB,GAAG,EAAE,IAAI;IACrC,MAAM,QAAQ;QACZ,SAAS,IAAI,IAAI,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YAC9D,aAAa;mBAAI,KAAK,WAAW;gBAAE;gBAAS;aAAI;QAClD;QACA,SAAS,IAAI,KAAK,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YAC/D,aAAa;mBAAI,KAAK,WAAW;gBAAE;gBAAS;aAAI;QAClD;KACD,CAAC,MAAM,CAAC,CAAC,IAAM,CAAC,CAAC;IAClB,MAAM,cAAc,EAAE;IACtB,MAAM,OAAO,CAAC,CAAC;QACb,IAAI,uBAAuB,SAAS;YAClC,YAAY,IAAI,IAAI,OAAO,KAAK;QAClC,OAAO;YACL,IAAI,eAAe;YACnB,IAAI,0BAA0B,UAAU,OAAO,oBAAoB,KAAK,OAAO;gBAC7E,MAAM,KAAK,QAAQ,EAAE,oBAAoB,EAAE,GAAG,IAAI,OAAO,UAAU,IAAI;oBAAC;iBAAuB;gBAC/F,eAAe;YACjB;YACA,YAAY,IAAI,CAAC;QACnB;IACF;IACA,OAAO,YAAY,MAAM,GAAG;QAAE,OAAO;IAAY,IAAI,KAAK;AAC5D;AACA,SAAS,gBAAgB,GAAG;IAC1B,MAAM,aAAa,OAAO,IAAI,KAAK;IACnC,IAAI,eAAe,YAAY,eAAe,YAAY,eAAe,aAAa,eAAe,UAAU;QAC7G,OAAO;YACL,MAAM,MAAM,OAAO,CAAC,IAAI,KAAK,IAAI,UAAU;QAC7C;IACF;IACA,OAAO;QACL,MAAM,eAAe,WAAW,YAAY;QAC5C,OAAO,IAAI,KAAK;IAClB;AACF;AACA,IAAI,aAAa,KAAK;AACtB,IAAI,cAAc;IAChB;;GAEC,GACD,MAAM;IACN,OAAO;IACP,MAAM;IACN;;GAEC,GACD,OAAO;IACP;;;;;;;;;;GAUC,GACD,OAAO;QACL,IAAI,eAAe,KAAK,GAAG;YACzB,aAAa,OACX,wDACA;QAEJ;QACA,OAAO;IACT;IACA;;GAEC,GACD,MAAM;IACN;;GAEC,GACD,MAAM;IACN,UAAU;IACV;;GAEC,GACD,MAAM;IACN,UAAU;IACV,QAAQ;IACR,WAAW;IACX,QAAQ;IACR,KAAK;AACP;AACA,SAAS,eAAe,GAAG,EAAE,IAAI;IAC/B,MAAM,MAAM;QACV,MAAM;IACR;IACA,IAAI,IAAI,MAAM,EAAE;QACd,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE;YAC9B,OAAQ,MAAM,IAAI;gBAChB,KAAK;oBACH,IAAI,SAAS,GAAG,OAAO,IAAI,SAAS,KAAK,WAAW,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,MAAM,KAAK,IAAI,MAAM,KAAK;oBACtG;gBACF,KAAK;oBACH,IAAI,SAAS,GAAG,OAAO,IAAI,SAAS,KAAK,WAAW,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,MAAM,KAAK,IAAI,MAAM,KAAK;oBACtG;gBACF,KAAK;oBACH,OAAQ,KAAK,aAAa;wBACxB,KAAK;4BACH,UAAU,KAAK,SAAS,MAAM,OAAO,EAAE;4BACvC;wBACF,KAAK;4BACH,UAAU,KAAK,aAAa,MAAM,OAAO,EAAE;4BAC3C;wBACF,KAAK;4BACH,WAAW,KAAK,YAAY,KAAK,EAAE,MAAM,OAAO,EAAE;4BAClD;oBACJ;oBACA;gBACF,KAAK;oBACH,UAAU,KAAK,OAAO,MAAM,OAAO,EAAE;oBACrC;gBACF,KAAK;oBACH,UAAU,KAAK,QAAQ,MAAM,OAAO,EAAE;oBACtC;gBACF,KAAK;oBACH,WAAW,KAAK,MAAM,KAAK,EAAE,MAAM,OAAO,EAAE;oBAC5C;gBACF,KAAK;oBACH,WAAW,KAAK,YAAY,IAAI,EAAE,MAAM,OAAO,EAAE;oBACjD;gBACF,KAAK;oBACH,WAAW,KAAK,YAAY,KAAK,EAAE,MAAM,OAAO,EAAE;oBAClD;gBACF,KAAK;oBACH,WACE,KACA,OAAO,CAAC,CAAC,EAAE,wBAAwB,MAAM,KAAK,EAAE,OAAO,GACvD,MAAM,OAAO,EACb;oBAEF;gBACF,KAAK;oBACH,WACE,KACA,OAAO,GAAG,wBAAwB,MAAM,KAAK,EAAE,MAAM,CAAC,CAAC,GACvD,MAAM,OAAO,EACb;oBAEF;gBACF,KAAK;oBACH,UAAU,KAAK,aAAa,MAAM,OAAO,EAAE;oBAC3C;gBACF,KAAK;oBACH,UAAU,KAAK,QAAQ,MAAM,OAAO,EAAE;oBACtC;gBACF,KAAK;oBACH,UAAU,KAAK,QAAQ,MAAM,OAAO,EAAE;oBACtC;gBACF,KAAK;oBACH,UAAU,KAAK,YAAY,MAAM,OAAO,EAAE;oBAC1C;gBACF,KAAK;oBACH,IAAI,SAAS,GAAG,OAAO,IAAI,SAAS,KAAK,WAAW,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,MAAM,KAAK,IAAI,MAAM,KAAK;oBACtG,IAAI,SAAS,GAAG,OAAO,IAAI,SAAS,KAAK,WAAW,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,MAAM,KAAK,IAAI,MAAM,KAAK;oBACtG;gBACF,KAAK;oBAAY;wBACf,WACE,KACA,OAAO,wBAAwB,MAAM,KAAK,EAAE,QAC5C,MAAM,OAAO,EACb;wBAEF;oBACF;gBACA,KAAK;oBAAM;wBACT,IAAI,MAAM,OAAO,KAAK,MAAM;4BAC1B,UAAU,KAAK,QAAQ,MAAM,OAAO,EAAE;wBACxC;wBACA,IAAI,MAAM,OAAO,KAAK,MAAM;4BAC1B,UAAU,KAAK,QAAQ,MAAM,OAAO,EAAE;wBACxC;wBACA;oBACF;gBACA,KAAK;oBACH,WAAW,KAAK,YAAY,SAAS,EAAE,MAAM,OAAO,EAAE;oBACtD;gBACF,KAAK;oBACH,WAAW,KAAK,YAAY,GAAG,EAAE,MAAM,OAAO,EAAE;oBAChD;gBACF,KAAK;oBAAQ;wBACX,IAAI,MAAM,OAAO,KAAK,MAAM;4BAC1B,WAAW,KAAK,YAAY,QAAQ,EAAE,MAAM,OAAO,EAAE;wBACvD;wBACA,IAAI,MAAM,OAAO,KAAK,MAAM;4BAC1B,WAAW,KAAK,YAAY,QAAQ,EAAE,MAAM,OAAO,EAAE;wBACvD;wBACA;oBACF;gBACA,KAAK;oBACH,WAAW,KAAK,YAAY,KAAK,IAAI,MAAM,OAAO,EAAE;oBACpD;gBACF,KAAK;oBAAQ;wBACX,WAAW,KAAK,YAAY,IAAI,EAAE,MAAM,OAAO,EAAE;wBACjD;oBACF;gBACA,KAAK;oBAAU;wBACb,OAAQ,KAAK,cAAc;4BACzB,KAAK;gCAAiB;oCACpB,UAAU,KAAK,UAAU,MAAM,OAAO,EAAE;oCACxC;gCACF;4BACA,KAAK;gCAA0B;oCAC7B,IAAI,eAAe,GAAG;oCACtB;gCACF;4BACA,KAAK;gCAAe;oCAClB,WAAW,KAAK,YAAY,MAAM,EAAE,MAAM,OAAO,EAAE;oCACnD;gCACF;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAU;wBACb,WAAW,KAAK,YAAY,MAAM,EAAE,MAAM,OAAO,EAAE;oBACrD;gBACA,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH;gBACF;oBACE,aAAa,GAAG,CAAC,CAAC,KAClB,CAAC,EAAE;YACP;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,wBAAwB,OAAO,EAAE,IAAI;IAC5C,OAAO,KAAK,eAAe,KAAK,WAAW,sBAAsB,WAAW;AAC9E;AACA,IAAI,gBAAgB,IAAI,IACtB;AAEF,SAAS,sBAAsB,MAAM;IACnC,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;QACtC,IAAI,CAAC,cAAc,GAAG,CAAC,MAAM,CAAC,EAAE,GAAG;YACjC,UAAU;QACZ;QACA,UAAU,MAAM,CAAC,EAAE;IACrB;IACA,OAAO;AACT;AACA,SAAS,UAAU,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI;IAC7C,IAAI;IACJ,IAAI,OAAO,MAAM,IAAI,CAAC,CAAC,KAAK,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,CAAC,GAAG;QACtF,IAAI,CAAC,OAAO,KAAK,EAAE;YACjB,OAAO,KAAK,GAAG,EAAE;QACnB;QACA,IAAI,OAAO,MAAM,EAAE;YACjB,OAAO,KAAK,CAAC,IAAI,CAAC;gBAChB,QAAQ,OAAO,MAAM;YACvB;YACA,OAAO,OAAO,MAAM;QACtB;QACA,OAAO,KAAK,CAAC,IAAI,CAAC,eAAe;YAC/B,QAAQ;QACV,GAAG,WAAW,KAAK,aAAa,IAAI;YAAE,cAAc;gBAAE,QAAQ;YAAQ;QAAE;IAC1E,OAAO;QACL,OAAO,MAAM,GAAG;IAClB;AACF;AACA,SAAS,WAAW,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI;IAC9C,IAAI;IACJ,IAAI,OAAO,OAAO,IAAI,CAAC,CAAC,KAAK,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,OAAO,CAAC,GAAG;QACxF,IAAI,CAAC,OAAO,KAAK,EAAE;YACjB,OAAO,KAAK,GAAG,EAAE;QACnB;QACA,IAAI,OAAO,OAAO,EAAE;YAClB,OAAO,KAAK,CAAC,IAAI,CAAC;gBAChB,SAAS,OAAO,OAAO;YACzB;YACA,OAAO,OAAO,OAAO;QACvB;QACA,OAAO,KAAK,CAAC,IAAI,CAAC,eAAe;YAC/B,SAAS,yBAAyB,OAAO;QAC3C,GAAG,WAAW,KAAK,aAAa,IAAI;YAAE,cAAc;gBAAE,SAAS;YAAQ;QAAE;IAC3E,OAAO;QACL,OAAO,OAAO,GAAG,yBAAyB,OAAO;IACnD;AACF;AACA,SAAS,yBAAyB,KAAK,EAAE,IAAI;IAC3C,IAAI;IACJ,IAAI,CAAC,KAAK,eAAe,IAAI,CAAC,MAAM,KAAK,EAAE;QACzC,OAAO,MAAM,MAAM;IACrB;IACA,MAAM,QAAQ;QACZ,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC;QACxB,mBAAmB;QACnB,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC;QACxB,qDAAqD;QACrD,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC;IAE1B;IACA,MAAM,SAAS,MAAM,CAAC,GAAG,MAAM,MAAM,CAAC,WAAW,KAAK,MAAM,MAAM;IAClE,IAAI,UAAU;IACd,IAAI,YAAY;IAChB,IAAI,cAAc;IAClB,IAAI,cAAc;IAClB,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;QACtC,IAAI,WAAW;YACb,WAAW,MAAM,CAAC,EAAE;YACpB,YAAY;YACZ;QACF;QACA,IAAI,MAAM,CAAC,EAAE;YACX,IAAI,aAAa;gBACf,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU;oBAC5B,IAAI,aAAa;wBACf,WAAW,MAAM,CAAC,EAAE;wBACpB,WAAW,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,WAAW;wBACtD,cAAc;oBAChB,OAAO,IAAI,MAAM,CAAC,IAAI,EAAE,KAAK,OAAO,CAAC,CAAC,KAAK,MAAM,CAAC,IAAI,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,QAAQ,GAAG;wBAC/F,WAAW,MAAM,CAAC,EAAE;wBACpB,cAAc;oBAChB,OAAO;wBACL,WAAW,GAAG,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,WAAW,IAAI;oBACrD;oBACA;gBACF;YACF,OAAO,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU;gBACnC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;gBACrD;YACF;QACF;QACA,IAAI,MAAM,CAAC,EAAE;YACX,IAAI,MAAM,CAAC,EAAE,KAAK,KAAK;gBACrB,WAAW,CAAC;GACjB,CAAC;gBACI;YACF,OAAO,IAAI,MAAM,CAAC,EAAE,KAAK,KAAK;gBAC5B,WAAW,CAAC;GACjB,CAAC;gBACI;YACF;QACF;QACA,IAAI,MAAM,CAAC,IAAI,MAAM,CAAC,EAAE,KAAK,KAAK;YAChC,WAAW,cAAc,GAAG,MAAM,CAAC,EAAE,CAAC;AAC5C,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC;CACjB,CAAC;YACI;QACF;QACA,WAAW,MAAM,CAAC,EAAE;QACpB,IAAI,MAAM,CAAC,EAAE,KAAK,MAAM;YACtB,YAAY;QACd,OAAO,IAAI,eAAe,MAAM,CAAC,EAAE,KAAK,KAAK;YAC3C,cAAc;QAChB,OAAO,IAAI,CAAC,eAAe,MAAM,CAAC,EAAE,KAAK,KAAK;YAC5C,cAAc;QAChB;IACF;IACA,IAAI;QACF,IAAI,OAAO;IACb,EAAE,OAAO,GAAG;QACV,QAAQ,IAAI,CACV,CAAC,mCAAmC,EAAE,KAAK,WAAW,CAAC,IAAI,CACzD,KACA,qEAAqE,CAAC;QAE1E,OAAO,MAAM,MAAM;IACrB;IACA,OAAO;AACT;AACA,SAAS,eAAe,GAAG,EAAE,IAAI;IAC/B,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;IACxB,MAAM,SAAS;QACb,MAAM;QACN,sBAAsB,CAAC,KAAK,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YAC/F,aAAa;mBAAI,KAAK,WAAW;gBAAE;aAAuB;QAC5D,GAAG,KAAK,OAAO,KAAK,KAAK,2BAA2B;IACtD;IACA,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,QAAQ,MAAM,YAAY,qBAAqB,CAAC,SAAS,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG;QAC7K,MAAM,MAAM,eAAe,IAAI,OAAO,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,KAAK,UAAU,UAAU,KAAK;YAAC;SAAO;QACrG,OAAO,cAAc,eAAe,CAAC,GAAG,SAAS;YAC/C,eAAe;QACjB;IACF,OAAO,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,QAAQ,MAAM,YAAY,qBAAqB,CAAC,OAAO,EAAE;QACjH,OAAO,cAAc,eAAe,CAAC,GAAG,SAAS;YAC/C,eAAe;gBACb,MAAM,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM;YAC/B;QACF;IACF,OAAO,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,QAAQ,MAAM,YAAY,qBAAqB,CAAC,UAAU,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,YAAY,qBAAqB,CAAC,SAAS,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG;QACtR,MAAM,MAAM,gBACV,IAAI,OAAO,CAAC,IAAI,EAChB,OACC,EAAE,IAAI,EAAE,GAAG,KAAK,UAAU,UAAU,KAAK;YAAC;SAAO;QACpD,OAAO,cAAc,eAAe,CAAC,GAAG,SAAS;YAC/C,eAAe;QACjB;IACF;IACA,OAAO;AACT;AACA,SAAS,YAAY,GAAG,EAAE,IAAI;IAC5B,IAAI,KAAK,WAAW,KAAK,UAAU;QACjC,OAAO,eAAe,KAAK;IAC7B;IACA,MAAM,OAAO,SAAS,IAAI,OAAO,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QAC9E,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS;YAAS;SAAI;IAC3D,OAAO;IACP,MAAM,SAAS,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QAClF,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS;YAAS;SAAI;IAC3D,OAAO;IACP,OAAO;QACL,MAAM;QACN,UAAU;QACV,OAAO;YACL,MAAM;YACN,OAAO;gBAAC;gBAAM;aAAO;YACrB,UAAU;YACV,UAAU;QACZ;IACF;AACF;AACA,SAAS,mBAAmB,GAAG;IAC7B,MAAM,SAAS,IAAI,MAAM;IACzB,MAAM,aAAa,OAAO,IAAI,CAAC,IAAI,MAAM,EAAE,MAAM,CAAC,CAAC;QACjD,OAAO,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;IACxC;IACA,MAAM,eAAe,WAAW,GAAG,CAAC,CAAC,MAAQ,MAAM,CAAC,IAAI;IACxD,MAAM,cAAc,MAAM,IAAI,CAC5B,IAAI,IAAI,aAAa,GAAG,CAAC,CAAC,SAAW,OAAO;IAE9C,OAAO;QACL,MAAM,YAAY,MAAM,KAAK,IAAI,WAAW,CAAC,EAAE,KAAK,WAAW,WAAW,WAAW;YAAC;YAAU;SAAS;QACzG,MAAM;IACR;AACF;AACA,SAAS;IACP,OAAO;QAAE,KAAK;IAAc;AAC9B;AACA,SAAS;IACP,OAAO;QACL,MAAM;IACR;AACF;AACA,IAAI,oBAAoB;IACtB,WAAW;IACX,WAAW;IACX,WAAW;IACX,YAAY;IACZ,SAAS;AACX;AACA,SAAS,cAAc,GAAG,EAAE,IAAI;IAC9B,MAAM,UAAU,IAAI,OAAO,YAAY,MAAM,MAAM,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,MAAM,IAAI,OAAO;IAC3F,IAAI,QAAQ,KAAK,CACf,CAAC,IAAM,EAAE,IAAI,CAAC,QAAQ,IAAI,qBAAqB,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,IACtF;QACD,MAAM,QAAQ,QAAQ,MAAM,CAAC,CAAC,QAAQ;YACpC,MAAM,OAAO,iBAAiB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC;YAC/C,OAAO,QAAQ,CAAC,OAAO,QAAQ,CAAC,QAAQ;mBAAI;gBAAQ;aAAK,GAAG;QAC9D,GAAG,EAAE;QACL,OAAO;YACL,MAAM,MAAM,MAAM,GAAG,IAAI,QAAQ,KAAK,CAAC,EAAE;QAC3C;IACF,OAAO,IAAI,QAAQ,KAAK,CAAC,CAAC,IAAM,EAAE,IAAI,CAAC,QAAQ,KAAK,gBAAgB,CAAC,EAAE,WAAW,GAAG;QACnF,MAAM,QAAQ,QAAQ,MAAM,CAC1B,CAAC,KAAK;YACJ,MAAM,OAAO,OAAO,EAAE,IAAI,CAAC,KAAK;YAChC,OAAQ;gBACN,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,OAAO;2BAAI;wBAAK;qBAAK;gBACvB,KAAK;oBACH,OAAO;2BAAI;wBAAK;qBAAU;gBAC5B,KAAK;oBACH,IAAI,EAAE,IAAI,CAAC,KAAK,KAAK,MAAM,OAAO;2BAAI;wBAAK;qBAAO;gBACpD,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL;oBACE,OAAO;YACX;QACF,GACA,EAAE;QAEJ,IAAI,MAAM,MAAM,KAAK,QAAQ,MAAM,EAAE;YACnC,MAAM,cAAc,MAAM,MAAM,CAAC,CAAC,GAAG,GAAG,IAAM,EAAE,OAAO,CAAC,OAAO;YAC/D,OAAO;gBACL,MAAM,YAAY,MAAM,GAAG,IAAI,cAAc,WAAW,CAAC,EAAE;gBAC3D,MAAM,QAAQ,MAAM,CAClB,CAAC,KAAK;oBACJ,OAAO,IAAI,QAAQ,CAAC,EAAE,IAAI,CAAC,KAAK,IAAI,MAAM;2BAAI;wBAAK,EAAE,IAAI,CAAC,KAAK;qBAAC;gBAClE,GACA,EAAE;YAEN;QACF;IACF,OAAO,IAAI,QAAQ,KAAK,CAAC,CAAC,IAAM,EAAE,IAAI,CAAC,QAAQ,KAAK,YAAY;QAC9D,OAAO;YACL,MAAM;YACN,MAAM,QAAQ,MAAM,CAClB,CAAC,KAAK,IAAM;uBACP;uBACA,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,KAAO,CAAC,IAAI,QAAQ,CAAC;iBAC/C,EACD,EAAE;QAEN;IACF;IACA,OAAO,QAAQ,KAAK;AACtB;AACA,IAAI,UAAU,CAAC,KAAK;IAClB,MAAM,QAAQ,CAAC,IAAI,OAAO,YAAY,MAAM,MAAM,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,MAAM,IAAI,OAAO,EAAE,GAAG,CAC7F,CAAC,GAAG,IAAM,SAAS,EAAE,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YACjE,aAAa;mBAAI,KAAK,WAAW;gBAAE;gBAAS,GAAG,GAAG;aAAC;QACrD,KACA,MAAM,CACN,CAAC,IAAM,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,YAAY,IAAI,OAAO,MAAM,YAAY,OAAO,IAAI,CAAC,GAAG,MAAM,GAAG,CAAC;IAEzF,OAAO,MAAM,MAAM,GAAG;QAAE;IAAM,IAAI,KAAK;AACzC;AACA,SAAS,iBAAiB,GAAG,EAAE,IAAI;IACjC,IAAI;QAAC;QAAa;QAAa;QAAa;QAAc;KAAU,CAAC,QAAQ,CAC3E,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,KACxB,CAAC,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;QACtE,OAAO;YACL,MAAM;gBACJ,iBAAiB,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC9C;aACD;QACH;IACF;IACA,MAAM,OAAO,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QAChF,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS;SAAI;IAClD;IACA,OAAO,QAAQ;QAAE,OAAO;YAAC;YAAM;gBAAE,MAAM;YAAO;SAAE;IAAC;AACnD;AACA,SAAS,eAAe,GAAG;IACzB,MAAM,MAAM;QACV,MAAM;IACR;IACA,IAAI,CAAC,IAAI,MAAM,EAAE,OAAO;IACxB,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE;QAC9B,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,IAAI,IAAI,GAAG;gBACX;YACF,KAAK;gBACH,IAAI,MAAM,SAAS,EAAE;oBACnB,IAAI,OAAO,GAAG,MAAM,KAAK;gBAC3B,OAAO;oBACL,IAAI,gBAAgB,GAAG,MAAM,KAAK;gBACpC;gBACA;YACF,KAAK;gBACH,IAAI,MAAM,SAAS,EAAE;oBACnB,IAAI,OAAO,GAAG,MAAM,KAAK;gBAC3B,OAAO;oBACL,IAAI,gBAAgB,GAAG,MAAM,KAAK;gBACpC;gBACA;YACF,KAAK;gBACH,IAAI,UAAU,GAAG,MAAM,KAAK;gBAC5B;QACJ;IACF;IACA,OAAO;AACT;AACA,SAAS,eAAe,GAAG,EAAE,IAAI;IAC/B,MAAM,SAAS;QACb,MAAM;QACN,YAAY,CAAC;IACf;IACA,MAAM,WAAW,EAAE;IACnB,MAAM,QAAQ,IAAI,KAAK;IACvB,IAAK,MAAM,YAAY,MAAO;QAC5B,IAAI,UAAU,KAAK,CAAC,SAAS;QAC7B,IAAI,YAAY,KAAK,KAAK,QAAQ,IAAI,KAAK,KAAK,GAAG;YACjD;QACF;QACA,MAAM,eAAe,eAAe;QACpC,MAAM,YAAY,SAAS,QAAQ,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YAC/E,aAAa;mBAAI,KAAK,WAAW;gBAAE;gBAAc;aAAS;YAC1D,cAAc;mBAAI,KAAK,WAAW;gBAAE;gBAAc;aAAS;QAC7D;QACA,IAAI,cAAc,KAAK,GAAG;YACxB;QACF;QACA,OAAO,UAAU,CAAC,SAAS,GAAG;QAC9B,IAAI,CAAC,cAAc;YACjB,SAAS,IAAI,CAAC;QAChB;IACF;IACA,IAAI,SAAS,MAAM,EAAE;QACnB,OAAO,QAAQ,GAAG;IACpB;IACA,MAAM,uBAAuB,2BAA2B,KAAK;IAC7D,IAAI,yBAAyB,KAAK,GAAG;QACnC,OAAO,oBAAoB,GAAG;IAChC;IACA,OAAO;AACT;AACA,SAAS,2BAA2B,GAAG,EAAE,IAAI;IAC3C,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,KAAK,YAAY;QAC7C,OAAO,SAAS,IAAI,QAAQ,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;YACzE,aAAa;mBAAI,KAAK,WAAW;gBAAE;aAAuB;QAC5D;IACF;IACA,OAAQ,IAAI,WAAW;QACrB,KAAK;YACH,OAAO,KAAK,2BAA2B;QACzC,KAAK;YACH,OAAO,KAAK,4BAA4B;QAC1C,KAAK;YACH,OAAO,KAAK,wBAAwB,KAAK,WAAW,KAAK,2BAA2B,GAAG,KAAK,4BAA4B;IAC5H;AACF;AACA,SAAS,eAAe,MAAM;IAC5B,IAAI;QACF,OAAO,OAAO,UAAU;IAC1B,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AACA,IAAI,mBAAmB,CAAC,KAAK;IAC3B,IAAI;IACJ,IAAI,KAAK,WAAW,CAAC,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,YAAY,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,EAAE,GAAG;QAC/F,OAAO,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;IACtC;IACA,MAAM,cAAc,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QACvF,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS;SAAI;IAClD;IACA,OAAO,cAAc;QAAE,OAAO;YAAC;gBAAE,KAAK;YAAc;YAAG;SAAY;IAAC,IAAI;AAC1E;AACA,IAAI,mBAAmB,CAAC,KAAK;IAC3B,IAAI,KAAK,YAAY,KAAK,SAAS;QACjC,OAAO,SAAS,IAAI,EAAE,CAAC,IAAI,EAAE;IAC/B,OAAO,IAAI,KAAK,YAAY,KAAK,UAAU;QACzC,OAAO,SAAS,IAAI,GAAG,CAAC,IAAI,EAAE;IAChC;IACA,MAAM,IAAI,SAAS,IAAI,EAAE,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QACtE,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS;SAAI;IAClD;IACA,MAAM,IAAI,SAAS,IAAI,GAAG,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QACvE,aAAa;eAAI,KAAK,WAAW;YAAE;YAAS,IAAI,MAAM;SAAI;IAC5D;IACA,OAAO;QACL,OAAO;YAAC;YAAG;SAAE,CAAC,MAAM,CAAC,CAAC,IAAM,MAAM,KAAK;IACzC;AACF;AACA,SAAS,gBAAgB,GAAG,EAAE,IAAI;IAChC,OAAO,SAAS,IAAI,IAAI,CAAC,IAAI,EAAE;AACjC;AACA,SAAS,YAAY,GAAG,EAAE,IAAI;IAC5B,MAAM,QAAQ,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;QACjF,aAAa;eAAI,KAAK,WAAW;YAAE;SAAQ;IAC7C;IACA,MAAM,SAAS;QACb,MAAM;QACN,aAAa;QACb;IACF;IACA,IAAI,IAAI,OAAO,EAAE;QACf,OAAO,QAAQ,GAAG,IAAI,OAAO,CAAC,KAAK;IACrC;IACA,IAAI,IAAI,OAAO,EAAE;QACf,OAAO,QAAQ,GAAG,IAAI,OAAO,CAAC,KAAK;IACrC;IACA,OAAO;AACT;AACA,SAAS,cAAc,GAAG,EAAE,IAAI;IAC9B,IAAI,IAAI,IAAI,EAAE;QACZ,OAAO;YACL,MAAM;YACN,UAAU,IAAI,KAAK,CAAC,MAAM;YAC1B,OAAO,IAAI,KAAK,CAAC,GAAG,CAClB,CAAC,GAAG,IAAM,SAAS,EAAE,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;oBACjE,aAAa;2BAAI,KAAK,WAAW;wBAAE;wBAAS,GAAG,GAAG;qBAAC;gBACrD,KACA,MAAM,CACN,CAAC,KAAK,IAAM,MAAM,KAAK,IAAI,MAAM;uBAAI;oBAAK;iBAAE,EAC5C,EAAE;YAEJ,iBAAiB,SAAS,IAAI,IAAI,CAAC,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;gBAC/E,aAAa;uBAAI,KAAK,WAAW;oBAAE;iBAAkB;YACvD;QACF;IACF,OAAO;QACL,OAAO;YACL,MAAM;YACN,UAAU,IAAI,KAAK,CAAC,MAAM;YAC1B,UAAU,IAAI,KAAK,CAAC,MAAM;YAC1B,OAAO,IAAI,KAAK,CAAC,GAAG,CAClB,CAAC,GAAG,IAAM,SAAS,EAAE,IAAI,EAAE,cAAc,eAAe,CAAC,GAAG,OAAO;oBACjE,aAAa;2BAAI,KAAK,WAAW;wBAAE;wBAAS,GAAG,GAAG;qBAAC;gBACrD,KACA,MAAM,CACN,CAAC,KAAK,IAAM,MAAM,KAAK,IAAI,MAAM;uBAAI;oBAAK;iBAAE,EAC5C,EAAE;QAEN;IACF;AACF;AACA,SAAS;IACP,OAAO;QACL,KAAK;IACP;AACF;AACA,SAAS;IACP,OAAO;AACT;AACA,IAAI,mBAAmB,CAAC,KAAK;IAC3B,OAAO,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;AACtC;AACA,IAAI,eAAe,CAAC,KAAK,UAAU;IACjC,OAAQ;QACN,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,eAAe,KAAK;QAC7B,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,eAAe;QACxB,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,eAAe,KAAK;QAC7B,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,eAAe;QACxB,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,OAAO;YAC5C,OAAO,aAAa,KAAK;QAC3B,KAAK,YAAY,qBAAqB,CAAC,YAAY;YACjD,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,OAAO;YAC5C,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,QAAQ;YAC7C,OAAO,cAAc,KAAK;QAC5B,KAAK,YAAY,qBAAqB,CAAC,QAAQ;QAC/C,KAAK,YAAY,qBAAqB,CAAC,qBAAqB;YAC1D,OAAO,cAAc,KAAK;QAC5B,KAAK,YAAY,qBAAqB,CAAC,eAAe;YACpD,OAAO,qBAAqB,KAAK;QACnC,KAAK,YAAY,qBAAqB,CAAC,QAAQ;YAC7C,OAAO,cAAc,KAAK;QAC5B,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,eAAe,KAAK;QAC7B,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO,gBAAgB;QACzB,KAAK,YAAY,qBAAqB,CAAC,OAAO;YAC5C,OAAO,aAAa;QACtB,KAAK,YAAY,qBAAqB,CAAC,aAAa;YAClD,OAAO,mBAAmB;QAC5B,KAAK,YAAY,qBAAqB,CAAC,WAAW;YAChD,OAAO,iBAAiB,KAAK;QAC/B,KAAK,YAAY,qBAAqB,CAAC,WAAW;YAChD,OAAO,iBAAiB,KAAK;QAC/B,KAAK,YAAY,qBAAqB,CAAC,MAAM;YAC3C,OAAO,YAAY,KAAK;QAC1B,KAAK,YAAY,qBAAqB,CAAC,MAAM;YAC3C,OAAO,YAAY,KAAK;QAC1B,KAAK,YAAY,qBAAqB,CAAC,OAAO;YAC5C,OAAO,IAAM,IAAI,MAAM,GAAG,IAAI;QAChC,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO,gBAAgB,KAAK;QAC9B,KAAK,YAAY,qBAAqB,CAAC,MAAM;QAC7C,KAAK,YAAY,qBAAqB,CAAC,QAAQ;YAC7C,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO,gBAAgB,KAAK;QAC9B,KAAK,YAAY,qBAAqB,CAAC,MAAM;YAC3C,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO;QACT,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO,gBAAgB,KAAK;QAC9B,KAAK,YAAY,qBAAqB,CAAC,UAAU;YAC/C,OAAO,gBAAgB,KAAK;QAC9B,KAAK,YAAY,qBAAqB,CAAC,WAAW;YAChD,OAAO,iBAAiB,KAAK;QAC/B,KAAK,YAAY,qBAAqB,CAAC,QAAQ;YAC7C,OAAO,cAAc,KAAK;QAC5B,KAAK,YAAY,qBAAqB,CAAC,WAAW;YAChD,OAAO,iBAAiB,KAAK;QAC/B,KAAK,YAAY,qBAAqB,CAAC,WAAW;QAClD,KAAK,YAAY,qBAAqB,CAAC,OAAO;QAC9C,KAAK,YAAY,qBAAqB,CAAC,SAAS;YAC9C,OAAO,KAAK;QACd;YACE,OAAO,aAAa,GAAG,CAAC,CAAC,IAAM,KAAK,CAAC,EAAE;IAC3C;AACF;AACA,SAAS,SAAS,GAAG,EAAE,IAAI,EAAE,kBAAkB,KAAK;IAClD,IAAI;IACJ,MAAM,WAAW,KAAK,IAAI,CAAC,GAAG,CAAC;IAC/B,IAAI,KAAK,QAAQ,EAAE;QACjB,MAAM,iBAAiB,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CACpE,MACA,KACA,MACA,UACA;QAEF,IAAI,mBAAmB,gBAAgB;YACrC,OAAO;QACT;IACF;IACA,IAAI,YAAY,CAAC,iBAAiB;QAChC,MAAM,aAAa,QAAQ,UAAU;QACrC,IAAI,eAAe,KAAK,GAAG;YACzB,OAAO;QACT;IACF;IACA,MAAM,UAAU;QAAE;QAAK,MAAM,KAAK,WAAW;QAAE,YAAY,KAAK;IAAE;IAClE,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK;IACnB,MAAM,qBAAqB,aAAa,KAAK,IAAI,QAAQ,EAAE;IAC3D,MAAM,cAAc,OAAO,uBAAuB,aAAa,SAAS,sBAAsB,QAAQ;IACtG,IAAI,aAAa;QACf,QAAQ,KAAK,MAAM;IACrB;IACA,IAAI,KAAK,WAAW,EAAE;QACpB,MAAM,oBAAoB,KAAK,WAAW,CAAC,aAAa,KAAK;QAC7D,QAAQ,UAAU,GAAG;QACrB,OAAO;IACT;IACA,QAAQ,UAAU,GAAG;IACrB,OAAO;AACT;AACA,IAAI,UAAU,CAAC,MAAM;IACnB,OAAQ,KAAK,YAAY;QACvB,KAAK;YACH,OAAO;gBAAE,MAAM,KAAK,IAAI,CAAC,IAAI,CAAC;YAAK;QACrC,KAAK;YACH,OAAO;gBAAE,MAAM,gBAAgB,KAAK,WAAW,EAAE,KAAK,IAAI;YAAE;QAC9D,KAAK;QACL,KAAK;YAAQ;gBACX,IAAI,KAAK,IAAI,CAAC,MAAM,GAAG,KAAK,WAAW,CAAC,MAAM,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,QAAU,KAAK,WAAW,CAAC,MAAM,KAAK,QAAQ;oBACtH,QAAQ,IAAI,CACV,CAAC,gCAAgC,EAAE,KAAK,WAAW,CAAC,IAAI,CACtD,KACA,mBAAmB,CAAC;oBAExB,OAAO;gBACT;gBACA,OAAO,KAAK,YAAY,KAAK,SAAS,gBAAgB,KAAK;YAC7D;IACF;AACF;AACA,IAAI,UAAU,CAAC,KAAK,MAAM;IACxB,IAAI,IAAI,WAAW,EAAE;QACnB,YAAY,WAAW,GAAG,IAAI,WAAW;IAC3C;IACA,OAAO;AACT;AACA,IAAI,UAAU,CAAC;IACb,MAAM,WAAW,kBAAkB;IACnC,MAAM,cAAc,SAAS,IAAI,KAAK,KAAK,IAAI;WAAI,SAAS,QAAQ;QAAE,SAAS,cAAc;QAAE,SAAS,IAAI;KAAC,GAAG,SAAS,QAAQ;IACjI,OAAO,cAAc,eAAe,CAAC,GAAG,WAAW;QACjD;QACA,cAAc,KAAK;QACnB,MAAM,IAAI,IACR,OAAO,OAAO,CAAC,SAAS,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,MAAM,IAAI,GAAK;gBACxD,IAAI,IAAI;gBACR;oBACE,KAAK,IAAI,IAAI;oBACb,MAAM;2BAAI,SAAS,QAAQ;wBAAE,SAAS,cAAc;wBAAE;qBAAK;oBAC3D,kHAAkH;oBAClH,YAAY,KAAK;gBACnB;aACD;IAEL;AACF;AACA,IAAI,mBAAmB,CAAC,QAAQ;IAC9B,IAAI;IACJ,MAAM,OAAO,QAAQ;IACrB,IAAI,cAAc,OAAO,YAAY,YAAY,QAAQ,WAAW,GAAG,OAAO,OAAO,CAAC,QAAQ,WAAW,EAAE,MAAM,CAC/G,CAAC,KAAK,CAAC,OAAO,QAAQ;QACpB,IAAI;QACJ,OAAO,cAAc,eAAe,CAAC,GAAG,MAAM;YAC5C,CAAC,MAAM,EAAE,CAAC,MAAM,SACd,QAAQ,IAAI,EACZ,cAAc,eAAe,CAAC,GAAG,OAAO;gBACtC,aAAa;uBAAI,KAAK,QAAQ;oBAAE,KAAK,cAAc;oBAAE;iBAAM;YAC7D,IACA,KACD,KAAK,OAAO,MAAM;QACrB;IACF,GACA,CAAC,KACC,KAAK;IACT,MAAM,OAAO,OAAO,YAAY,WAAW,UAAU,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,MAAM,UAAU,KAAK,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI;IACrK,MAAM,OAAO,CAAC,KAAK,SACjB,OAAO,IAAI,EACX,SAAS,KAAK,IAAI,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;QAC/D,aAAa;eAAI,KAAK,QAAQ;YAAE,KAAK,cAAc;YAAE;SAAK;IAC5D,IACA,MACD,KAAK,OAAO,KAAK;IAClB,MAAM,QAAQ,OAAO,YAAY,YAAY,QAAQ,IAAI,KAAK,KAAK,KAAK,QAAQ,YAAY,KAAK,UAAU,QAAQ,IAAI,GAAG,KAAK;IAC/H,IAAI,UAAU,KAAK,GAAG;QACpB,KAAK,KAAK,GAAG;IACf;IACA,MAAM,WAAW,SAAS,KAAK,IAAI,cAAc,cAAc,eAAe,CAAC,GAAG,OAAO;QACvF,CAAC,KAAK,cAAc,CAAC,EAAE;IACzB,KAAK,OAAO;QACV,MAAM;eACD,KAAK,YAAY,KAAK,aAAa,EAAE,GAAG,KAAK,QAAQ;YACxD,KAAK,cAAc;YACnB;SACD,CAAC,IAAI,CAAC;QACP,CAAC,KAAK,cAAc,CAAC,EAAE,cAAc,eAAe,CAAC,GAAG,cAAc;YACpE,CAAC,KAAK,EAAE;QACV;IACF;IACA,SAAS,OAAO,GAAG;IACnB,OAAO;AACT;AACA,IAAI,6BAA6B;AACjC,SAAS,WAAW,UAAU,EAAE,OAAO;IACrC,IAAI;IACJ,MAAM,gBAAgB,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,aAAa,KAAK,OAAO,KAAK;IAC7F,OAAO,WACL,6FAA6F;IAC7F,IAAM,2BAA2B,YAAY;YAC3C,cAAc,gBAAgB,SAAS;QACzC,IACA;QACE,UAAU,CAAC,QAAU,QAAQ,MAAM,MAAM;gBACvC,MAAM,SAAS,MAAM,WAAW,cAAc,CAAC;gBAC/C,OAAO,OAAO,OAAO,GAAG;oBAAE,SAAS;oBAAM,OAAO,OAAO,IAAI;gBAAC,IAAI;oBAAE,SAAS;oBAAO,OAAO,OAAO,KAAK;gBAAC;YACxG;IACF;AAEJ;AACA,SAAS,WAAW,UAAU,EAAE,OAAO;IACrC,IAAI;IACJ,MAAM,gBAAgB,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,aAAa,KAAK,OAAO,KAAK;IAC7F,OAAO,WACL,6FAA6F;IAC7F,IAAM,IAAI,YAAY,CAAC,YAAY;YACjC,QAAQ;YACR,IAAI;YACJ,QAAQ,gBAAgB,QAAQ;QAClC,IACA;QACE,UAAU,CAAC,QAAU,QAAQ,MAAM,MAAM;gBACvC,MAAM,SAAS,MAAM,IAAI,cAAc,CAAC,YAAY;gBACpD,OAAO,OAAO,OAAO,GAAG;oBAAE,SAAS;oBAAM,OAAO,OAAO,IAAI;gBAAC,IAAI;oBAAE,SAAS;oBAAO,OAAO,OAAO,KAAK;gBAAC;YACxG;IACF;AAEJ;AACA,SAAS,aAAa,UAAU;IAC9B,OAAO,UAAU;AACnB;AACA,SAAS,UAAU,UAAU,EAAE,OAAO;IACpC,IAAI,aAAa,aAAa;QAC5B,OAAO,WAAW,YAAY;IAChC,OAAO;QACL,OAAO,WAAW,YAAY;IAChC;AACF;AACA,IAAI,eAAe,OAAO,GAAG,CAAC;AAC9B,SAAS,WAAW,YAAY;IAC9B,IAAI;IACJ,OAAO;QACL,IAAI,UAAU,MAAM;YAClB,SAAS;QACX;QACA,OAAO;IACT;AACF;AACA,SAAS,WAAW,WAAW,EAAE,EAC/B,QAAQ,EACT,GAAG,CAAC,CAAC;IACJ,OAAO;QACL,CAAC,aAAa,EAAE;QAChB,OAAO,KAAK;QACZ,gCAAgC;QAChC,CAAC,gBAAgB,EAAE;QACnB,IAAI,cAAa;YACf,IAAI,OAAO,gBAAgB,YAAY;gBACrC,cAAc;YAChB;YACA,OAAO;QACT;QACA;IACF;AACF;AACA,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG;AACrB,SAAS,0BAA0B,YAAY;IAC7C,MAAM,YAAY,aAAa,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM;IAChE,MAAM,eAAe,KAAK;IAC1B,OAAO,WAAW,IAAI,CAAC,cAAc,CAAC,OAAS,KAAK,WAAW,CAAC;AAClE;AACA,SAAS,0BAA0B,KAAK;IACtC,IAAI,eAAe;IACnB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACrC,gBAAgB,OAAO,aAAa,CAAC,KAAK,CAAC,EAAE;IAC/C;IACA,OAAO,KAAK;AACd;AACA,SAAS,gBAAgB,KAAK;IAC5B,OAAO,iBAAiB,aAAa,0BAA0B,SAAS;AAC1E;AACA,SAAS,qBAAqB,GAAG;IAC/B,OAAO,OAAO,OAAO,KAAK,IAAI,IAAI,OAAO,CAAC,OAAO;AACnD;AAEA,wGAAwG;AACxG,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,wBAAwB,UAAU,CAAC,CAAC,MAAM,CAAC;IAC7C,OAAO,UAAU,CAAC,CAAC,MAAM,CAAC;QACxB,SAAS,UAAU,CAAC,CAAC,MAAM;QAC3B,iEAAiE;QACjE,iEAAiE;QACjE,aAAa;QACb,MAAM,UAAU,CAAC,CAAC,MAAM,GAAG,OAAO;QAClC,OAAO,UAAU,CAAC,CAAC,GAAG,GAAG,OAAO;QAChC,MAAM,UAAU,CAAC,CAAC,KAAK,CAAC;YAAC,UAAU,CAAC,CAAC,MAAM;YAAI,UAAU,CAAC,CAAC,MAAM;SAAG,EAAE,OAAO;IAC/E;AACF;AACA,IAAI,8BAA8B,+BAA+B;IAC/D,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,4BAA4B,EACnC,MAAM,EACN,oBAAoB,QAAQ,EAC7B;IACC,MAAM,WAAW,EAAE;IACnB,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,OAAQ;wBACN,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAU;gCAAQ;gCACxC;4BACF;wBACA,KAAK;4BAAa;gCAChB,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAa;gCAAQ;gCAC3C;4BACF;wBACA,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCACZ,MAAM;oCACN,SAAS;gCACX;gCACA;4BACF;wBACA;4BAAS;gCACP,MAAM,mBAAmB;gCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;4BAE1D;oBACF;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAAC;wBACvD;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAM;4BAC1B,IAAI,IAAI,IAAI;4BACZ,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC;oCACzC;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO;gDACL,MAAM;gDACN,WAAW;oDACT,KAAK,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;oDAC/G,0CAA0C;oDAC1C,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW;gDAC3G;4CACF;wCACF,OAAO,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CAC9C,IAAI,KAAK,IAAI,YAAY,KAAK;gDAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe;gDACjB;4CACF;4CACA,OAAQ,KAAK,SAAS;gDACpB,KAAK;oDAAa;wDAChB,OAAO;4DACL,MAAM;4DACN,aAAa;gEACX,MAAM,gBAAgB,KAAK,IAAI;gEAC/B,QAAQ;4DACV;wDACF;oDACF;gDACA,KAAK;gDACL,KAAK;oDAAc;wDACjB,OAAO;4DACL,MAAM;4DACN,aAAa;gEACX,MAAM,gBAAgB,KAAK,IAAI;gEAC/B,QAAQ;4DACV;wDACF;oDACF;gDACA;oDAAS;wDACP,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;4DACxD,eAAe,CAAC,oCAAoC,EAAE,KAAK,SAAS,EAAE;wDACxE;oDACF;4CACF;wCACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;4CAC/C,IAAI,KAAK,IAAI,YAAY,KAAK;gDAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe;gDACjB;4CACF;4CACA,OAAO;gDACL,MAAM;gDACN,MAAM,OAAO,KAAK,IAAI,KAAK,YAAY,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDAC9F,UAAU,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC;oDACjE,WAAW,CAAC,4BAA4B,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACxE;4CACF;wCACF,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4CACzD;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF;oCACA;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;QAAE;QAAU;IAAS;AAC9B;AACA,SAAS,oBAAoB,EAC3B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,sBAAsB,YAAY;IACzC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,2BAA2B,cAC7B,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACjC,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACtC,OAAO,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;YAClB,SAAS,WAAW,CAAC,CAAC,MAAM,CAAC;gBAC3B,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC,aAAa,OAAO;gBAC/C,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBACtC,YAAY,WAAW,CAAC,CAAC,KAAK,CAC5B,WAAW,CAAC,CAAC,MAAM,CAAC;oBAClB,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;oBACjC,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC;oBAC3B,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;wBAC5B,MAAM,WAAW,CAAC,CAAC,MAAM;wBACzB,WAAW,WAAW,CAAC,CAAC,MAAM;oBAChC;gBACF,IACA,OAAO;gBACT,aAAa,WAAW,CAAC,CAAC,KAAK,CAC7B,WAAW,CAAC,CAAC,MAAM,CAAC;oBAClB,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC;oBAC3B,aAAa,WAAW,CAAC,CAAC,MAAM;oBAChC,WAAW,WAAW,CAAC,CAAC,MAAM;oBAC9B,KAAK,WAAW,CAAC,CAAC,MAAM;oBACxB,OAAO,WAAW,CAAC,CAAC,MAAM;gBAC5B,IACA,OAAO;YACX;YACA,OAAO,WAAW,CAAC,CAAC,MAAM;YAC1B,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;gBAC5B,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;oBAClB,OAAO,WAAW,CAAC,CAAC,MAAM;oBAC1B,SAAS,WAAW,CAAC,CAAC,MAAM;oBAC5B,cAAc,WAAW,CAAC,CAAC,KAAK,CAC9B,WAAW,CAAC,CAAC,MAAM,CAAC;wBAClB,OAAO,WAAW,CAAC,CAAC,MAAM;wBAC1B,SAAS,WAAW,CAAC,CAAC,MAAM;oBAC9B;gBAEJ,IACA,OAAO;YACX,GAAG,OAAO;YACV,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QAC9C;QAEF,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;YACzB,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5C,mBAAmB,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YAChD,cAAc,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3C,uBAAuB,WAAW,CAAC,CAAC,MAAM,CAAC;gBACzC,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YAC9C,GAAG,OAAO;YACV,2BAA2B,WAAW,CAAC,CAAC,MAAM,CAAC;gBAC7C,kBAAkB,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC/C,4BAA4B,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBACzD,4BAA4B,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3D,GAAG,OAAO;QACZ,GAAG,OAAO;IACZ;AAGJ,IAAI,wBAAwB,cAC1B,IAAM,UACJ,WAAW,CAAC,CAAC,KAAK,CAAC;QACjB,WAAW,CAAC,CAAC,MAAM,CAAC;YAClB,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACjC,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACtC,OAAO,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACpC,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;gBAClB,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;oBACzB,MAAM,WAAW,CAAC,CAAC,IAAI,CAAC;wBAAC;qBAAY,EAAE,OAAO;oBAC9C,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;oBACtC,YAAY,WAAW,CAAC,CAAC,KAAK,CAC5B,WAAW,CAAC,CAAC,MAAM,CAAC;wBAClB,OAAO,WAAW,CAAC,CAAC,MAAM;wBAC1B,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;wBACjC,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC,YAAY,OAAO;wBAC9C,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;4BAC5B,MAAM,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;4BACnC,WAAW,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;wBAC1C;oBACF,IACA,OAAO;oBACT,aAAa,WAAW,CAAC,CAAC,KAAK,CAC7B,WAAW,CAAC,CAAC,MAAM,CAAC;wBAClB,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC;wBAC3B,aAAa,WAAW,CAAC,CAAC,MAAM;wBAChC,WAAW,WAAW,CAAC,CAAC,MAAM;wBAC9B,KAAK,WAAW,CAAC,CAAC,MAAM;wBACxB,OAAO,WAAW,CAAC,CAAC,MAAM;oBAC5B,IACA,OAAO;gBACX,GAAG,OAAO;gBACV,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;oBAC5B,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;wBAClB,OAAO,WAAW,CAAC,CAAC,MAAM;wBAC1B,SAAS,WAAW,CAAC,CAAC,MAAM;wBAC5B,cAAc,WAAW,CAAC,CAAC,KAAK,CAC9B,WAAW,CAAC,CAAC,MAAM,CAAC;4BAClB,OAAO,WAAW,CAAC,CAAC,MAAM;4BAC1B,SAAS,WAAW,CAAC,CAAC,MAAM;wBAC9B;oBAEJ,IACA,OAAO;gBACX,GAAG,OAAO;gBACV,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5C,OAAO,WAAW,CAAC,CAAC,MAAM;YAC5B;YAEF,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;gBACzB,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5C,mBAAmB,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAChD,cAAc,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC3C,uBAAuB,WAAW,CAAC,CAAC,MAAM,CAAC;oBACzC,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC9C,GAAG,OAAO;gBACV,2BAA2B,WAAW,CAAC,CAAC,MAAM,CAAC;oBAC7C,kBAAkB,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC/C,4BAA4B,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;oBACzD,4BAA4B,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC3D,GAAG,OAAO;YACZ,GAAG,OAAO;QACZ;QACA;KACD;AAGL,IAAI,iCAAiC,cACnC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB;;;;;OAKC,GACD,WAAW,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC,MAAM,IAAI,QAAQ;QAC5F;;;;;;;;OAQC,GACD,UAAU,WAAW,CAAC,CAAC,KAAK,CAAC;YAAC,WAAW,CAAC,CAAC,OAAO;YAAI,WAAW,CAAC,CAAC,MAAM;SAAG,EAAE,QAAQ;QACtF;;OAEC,GACD,mBAAmB,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ;QAClD;;;OAGC,GACD,MAAM,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QACpC;;OAEC,GACD,iBAAiB,WAAW,CAAC,CAAC,IAAI,CAAC;YAAC;YAAW;YAAO;YAAU;SAAO,EAAE,QAAQ;QACjF;;OAEC,GACD,qBAAqB,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QACnD;;OAEC,GACD,OAAO,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ;QACtC;;OAEC,GACD,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,WAAW,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,QAAQ;QACrG;;OAEC,GACD,YAAY,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC,GAAG,IAAI,QAAQ;QACnF;;;;OAIC,GACD,mBAAmB,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ;QAClD;;;;;;;;;OASC,GACD,aAAa,WAAW,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAQ;YAAY;SAAU,EAAE,QAAQ;QAChF;;;;OAIC,GACD,kBAAkB,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ;QACjD;;;OAGC,GACD,eAAe,WAAW,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACpE;;;OAGC,GACD,gBAAgB,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C;;;;;;OAMC,GACD,kBAAkB,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;IAClD;AAGJ,SAAS,iBAAiB,EACxB,KAAK,EACL,UAAU,EACV,iBAAiB,EACjB,gBAAgB,EACjB;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,eAAe,EAAE;IACvB,KAAK,MAAM,UAAU,MAAO;QAC1B,OAAQ,OAAO,IAAI;YACjB,KAAK;gBACH,aAAa,IAAI,CAAC;oBAChB,MAAM;oBACN,UAAU;wBACR,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY,OAAO,WAAW;wBAC9B,QAAQ,oBAAoB,mBAAmB,KAAK;oBACtD;gBACF;gBACA;YACF;gBACE,aAAa,IAAI,CAAC;oBAAE,MAAM;oBAAoB,MAAM;gBAAO;gBAC3D;QACJ;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAc,YAAY,KAAK;YAAG;QAAa;IACjE;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAc,YAAY;gBAAM;YAAa;QAC/D,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY;oBACV,MAAM;oBACN,UAAU;wBACR,MAAM,WAAW,QAAQ;oBAC3B;gBACF;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,0BAA0B;IAC5B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;QAChC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,KAAK,EACL,UAAU,EACV,eAAe,EAChB;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,MAAM,oBAAoB,CAAC,KAAK,cAAc,iBAAiB,KAAK,OAAO,KAAK;YAChF,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,QAAQ,CAAC,mBAAmB;gBAC7H,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,EAAE,UAAU,eAAe,EAAE,GAAG,4BAC9C;gBACE;gBACA,mBAAmB,qBAAqB,IAAI,CAAC,OAAO;YACtD;YAEF,SAAS,IAAI,IAAI;YACjB,MAAM,mBAAmB,CAAC,KAAK,cAAc,gBAAgB,KAAK,OAAO,KAAK;YAC9E,MAAM,WAAW;gBACf,YAAY;gBACZ,OAAO,IAAI,CAAC,OAAO;gBACnB,2BAA2B;gBAC3B,YAAY,cAAc,SAAS;gBACnC,UAAU,cAAc,QAAQ,KAAK,QAAQ,OAAO,cAAc,QAAQ,KAAK,WAAW,OAAO,KAAK;gBACtG,cAAc,OAAO,cAAc,QAAQ,KAAK,WAAW,cAAc,QAAQ,GAAG,OAAO,cAAc,QAAQ,KAAK,YAAY,cAAc,QAAQ,GAAG,IAAI,KAAK,IAAI,KAAK;gBAC7K,MAAM,cAAc,IAAI;gBACxB,qBAAqB,cAAc,iBAAiB;gBACpD,yBAAyB;gBACzB,YAAY;gBACZ;gBACA,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;gBAClB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,qBAAqB,eAAe,MAAM,IAAI,OAAO;oBACzI,MAAM;oBACN,aAAa;wBACX,QAAQ,eAAe,MAAM;wBAC7B,QAAQ;wBACR,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,aAAa,eAAe,WAAW;oBACzC;gBACF,IAAI;oBAAE,MAAM;gBAAc,IAAI,KAAK;gBACnC,MAAM;gBACN;gBACA,WAAW,cAAc,aAAa;gBACtC,4BAA4B;gBAC5B,yDAAyD;gBACzD,uBAAuB,cAAc,mBAAmB;gBACxD,OAAO,cAAc,KAAK;gBAC1B,UAAU,cAAc,QAAQ;gBAChC,YAAY,cAAc,UAAU;gBACpC,kBAAkB,cAAc,eAAe;gBAC/C,cAAc,cAAc,WAAW;gBACvC,kBAAkB,cAAc,cAAc;gBAC9C,mBAAmB,cAAc,gBAAgB;gBACjD,YAAY;gBACZ;YACF;YACA,IAAI,iBAAiB,IAAI,CAAC,OAAO,GAAG;gBAClC,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,KAAK,IAAI,MAAM;oBAC1B,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,iBAAiB,IAAI,MAAM;oBACtC,SAAS,iBAAiB,GAAG,KAAK;oBAClC,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,gBAAgB,IAAI,MAAM;oBACrC,SAAS,gBAAgB,GAAG,KAAK;oBACjC,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,UAAU,IAAI,MAAM;oBAC/B,SAAS,UAAU,GAAG,KAAK;oBAC3B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,QAAQ,IAAI,MAAM;oBAC7B,SAAS,QAAQ,GAAG,KAAK;oBACzB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,YAAY,IAAI,MAAM;oBACjC,SAAS,YAAY,GAAG,KAAK;oBAC7B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,UAAU,IAAI,MAAM;oBAC/B,IAAI,SAAS,qBAAqB,IAAI,MAAM;wBAC1C,SAAS,qBAAqB,GAAG,SAAS,UAAU;oBACtD;oBACA,SAAS,UAAU,GAAG,KAAK;gBAC7B;YACF,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,4BAA4B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,+BAA+B;gBACpH,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF;YACA,IAAI,cAAc,WAAW,KAAK,UAAU,CAAC,uBAAuB,IAAI,CAAC,OAAO,GAAG;gBACjF,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,SAAS,YAAY,GAAG,KAAK;YAC/B;YACA,IAAI,cAAc,WAAW,KAAK,cAAc,CAAC,2BAA2B,IAAI,CAAC,OAAO,GAAG;gBACzF,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,SAAS,YAAY,GAAG,KAAK;YAC/B;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,iBAAiB;gBACnB;gBACA;gBACA;gBACA;YACF;YACA,OAAO;gBACL,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxD,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACpD,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,MAAM,OAAO,OAAO,OAAO,CAAC,OAAO;YACnC,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;gBACnC,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ;gBAAK;YACpC;YACA,KAAK,MAAM,YAAY,CAAC,KAAK,OAAO,OAAO,CAAC,UAAU,KAAK,OAAO,KAAK,EAAE,CAAE;gBACzE,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;oBAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;oBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;gBACpC;YACF;YACA,KAAK,MAAM,cAAc,CAAC,KAAK,OAAO,OAAO,CAAC,WAAW,KAAK,OAAO,KAAK,EAAE,CAAE;gBAC5E,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,YAAY;oBACZ,IAAI;oBACJ,KAAK,WAAW,GAAG;oBACnB,OAAO,WAAW,KAAK;gBACzB;YACF;YACA,MAAM,yBAAyB,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,yBAAyB;YACpG,MAAM,qBAAqB,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,qBAAqB;YAC5F,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YAChJ;YACA,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YAChJ;YACA,IAAI,CAAC,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,MAAM;gBAClE,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,OAAO;YAC5D;YACA,OAAO;gBACL;gBACA,cAAc,sBAAsB,OAAO,aAAa;gBACxD,OAAO;oBACL,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;oBAClG,cAAc,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBACvG,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;oBACjG,iBAAiB,CAAC,KAAK,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBAC9H,mBAAmB,CAAC,KAAK,sBAAsB,OAAO,KAAK,IAAI,mBAAmB,aAAa,KAAK,OAAO,KAAK,KAAK;gBACvH;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,oBAAoB,YAAY;oBACzE,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,gBAAgB;oBACd,eAAe;gBACjB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,YAAY,EAAE;YACpB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,IAAI,eAAe;YACnB,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBAChG,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,oBAAoB;wBACzB;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK,KAAK;4BACzE,MAAM,YAAY,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK,KAAK;4BAC9E,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK,KAAK;4BACxE,MAAM,eAAe,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;4BACvI,MAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;4BAClI,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B,KAAK,MAAM;gCAC3G,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B;4BAClJ;4BACA,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B,KAAK,MAAM;gCAC3G,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B;4BAClJ;wBACF;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,sBAAsB,OAAO,aAAa;wBAC3D;wBACA,IAAI,CAAC,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,MAAM;4BAC5F,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,OAAO;wBAC5D;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,IAAI,MAAM,OAAO,IAAI,MAAM;4BACzB,IAAI,CAAC,cAAc;gCACjB,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAI;gCACjD,eAAe;4BACjB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,OAAO;4BACtB;wBACF;wBACA,IAAI,MAAM,UAAU,IAAI,MAAM;4BAC5B,KAAK,MAAM,iBAAiB,MAAM,UAAU,CAAE;gCAC5C,MAAM,QAAQ,cAAc,KAAK;gCACjC,IAAI,SAAS,CAAC,MAAM,IAAI,MAAM;oCAC5B,IAAI,cAAc,IAAI,KAAK,YAAY;wCACrC,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,yBAAyB,CAAC;wCACtC;oCACF;oCACA,IAAI,cAAc,EAAE,IAAI,MAAM;wCAC5B,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,6BAA6B,CAAC;wCAC1C;oCACF;oCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,MAAM;wCACtE,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,wCAAwC,CAAC;wCACrD;oCACF;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,cAAc,EAAE;wCACpB,UAAU,cAAc,QAAQ,CAAC,IAAI;oCACvC;oCACA,SAAS,CAAC,MAAM,GAAG;wCACjB,IAAI,cAAc,EAAE;wCACpB,MAAM;wCACN,UAAU;4CACR,MAAM,cAAc,QAAQ,CAAC,IAAI;4CACjC,WAAW,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;wCACpE;wCACA,aAAa;oCACf;oCACA,MAAM,YAAY,SAAS,CAAC,MAAM;oCAClC,IAAI,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;wCACzI,IAAI,UAAU,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG;4CAC3C,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;gDAChB,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;wCACF;wCACA,IAAI,eAAe,UAAU,QAAQ,CAAC,SAAS,GAAG;4CAChD,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;4CAClB;4CACA,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,YAAY,CAAC,KAAK,UAAU,EAAE,KAAK,OAAO,KAAK;gDAC/C,UAAU,UAAU,QAAQ,CAAC,IAAI;gDACjC,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;4CACA,UAAU,WAAW,GAAG;wCAC1B;oCACF;oCACA;gCACF;gCACA,MAAM,WAAW,SAAS,CAAC,MAAM;gCACjC,IAAI,SAAS,WAAW,EAAE;oCACxB;gCACF;gCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;oCAC3E,SAAS,QAAQ,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,OAAO,KAAK;gCACrH;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,EAAE;oCACf,OAAO,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;gCAChE;gCACA,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,QAAQ,eAAe,SAAS,QAAQ,CAAC,SAAS,GAAG;oCACtL,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,EAAE;oCACjB;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wCAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oCACpC;oCACA,SAAS,WAAW,GAAG;gCACzB;4BACF;wBACF;wBACA,IAAI,MAAM,WAAW,IAAI,MAAM;4BAC7B,KAAK,MAAM,cAAc,MAAM,WAAW,CAAE;gCAC1C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI;oCACJ,KAAK,WAAW,GAAG;oCACnB,OAAO,WAAW,KAAK;gCACzB;4BACF;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC,eAAe;4BAChC,MAAM;4BACN;4BACA;wBACF,GAAG,oBAAoB,OAAO;4BAAE;wBAAiB,IAAI,CAAC;oBACxD;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,iBAAiB,OAAO;IAC/B,OAAO,CAAC,QAAQ,UAAU,CAAC,QAAQ,QAAQ,UAAU,CAAC,QAAQ,KAAK,CAAC,QAAQ,UAAU,CAAC;AACzF;AACA,SAAS,uBAAuB,OAAO;IACrC,OAAO,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC;AACzH;AACA,SAAS,2BAA2B,OAAO;IACzC,OAAO,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC,iBAAiB,CAAC,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC;AACpO;AACA,SAAS,qBAAqB,OAAO;IACnC,IAAI,IAAI;IACR,IAAI,CAAC,iBAAiB,UAAU;QAC9B,OAAO;IACT;IACA,OAAO,CAAC,KAAK,CAAC,KAAK,eAAe,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK;AACvG;AACA,IAAI,kBAAkB;IACpB,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;IACA,cAAc;QACZ,mBAAmB;IACrB;IACA,yBAAyB;QACvB,mBAAmB;IACrB;IACA,IAAI;QACF,mBAAmB;IACrB;IACA,iBAAiB;QACf,mBAAmB;IACrB;IACA,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;IACA,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;AACF;AACA,SAAS,gCAAgC,EACvC,MAAM,EACN,OAAO,MAAM,EACb,YAAY,WAAW,EACxB;IACC,IAAI,OAAO;IACX,IAAI,MAAM,CAAC,EAAE,CAAC,IAAI,KAAK,UAAU;QAC/B,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;;AAEjC,CAAC;QACG,SAAS,OAAO,KAAK,CAAC;IACxB;IACA,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,MAAM,IAAI,kBAAkB,kBAAkB,CAAC;wBAC7C,SAAS;wBACT;oBACF;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,cAAc,QAAQ,GAAG,CAAC,CAAC;wBAC/B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;wBACF;oBACF,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;oBACxB,QAAQ,GAAG,KAAK;AACxB,EAAE,YAAY;;AAEd,CAAC;oBACO;gBACF;YACA,KAAK;gBAAa;oBAChB,MAAM,mBAAmB,QAAQ,GAAG,CAAC,CAAC;wBACpC,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wCACxD,eAAe;oCACjB;gCACF;wBACF;oBACF,GAAG,IAAI,CAAC;oBACR,QAAQ,GAAG,UAAU;AAC7B,EAAE,iBAAiB;;AAEnB,CAAC;oBACO;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,QAAQ,GAAG,UAAU;AACvB,CAAC;IACC,OAAO;QACL,QAAQ;QACR,eAAe;YAAC,CAAC;AACrB,EAAE,KAAK,CAAC,CAAC;SAAC;IACR;AACF;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,uBAAuB,YAAY;IAC1C,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,iCAAiC,cACnC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACjC,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACtC,OAAO,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;YAClB,MAAM,WAAW,CAAC,CAAC,MAAM;YACzB,eAAe,WAAW,CAAC,CAAC,MAAM;YAClC,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;gBAC5B,QAAQ,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM;gBAC9C,gBAAgB,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM;gBACtD,cAAc,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC,MAAM,KAAK,OAAO;YAC7G,GAAG,OAAO;QACZ;QAEF,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;YACzB,eAAe,WAAW,CAAC,CAAC,MAAM;YAClC,mBAAmB,WAAW,CAAC,CAAC,MAAM;YACtC,cAAc,WAAW,CAAC,CAAC,MAAM;QACnC,GAAG,OAAO;IACZ;AAGJ,IAAI,8BAA8B,cAChC,IAAM,UACJ,WAAW,CAAC,CAAC,KAAK,CAAC;QACjB,WAAW,CAAC,CAAC,MAAM,CAAC;YAClB,IAAI,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACjC,SAAS,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACtC,OAAO,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;YACpC,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,MAAM,CAAC;gBAClB,MAAM,WAAW,CAAC,CAAC,MAAM;gBACzB,eAAe,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5C,OAAO,WAAW,CAAC,CAAC,MAAM;gBAC1B,UAAU,WAAW,CAAC,CAAC,MAAM,CAAC;oBAC5B,QAAQ,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM;oBAC9C,gBAAgB,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM;oBACtD,cAAc,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC,MAAM,KAAK,OAAO;gBAC7G,GAAG,OAAO;YACZ;YAEF,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;gBACzB,eAAe,WAAW,CAAC,CAAC,MAAM;gBAClC,mBAAmB,WAAW,CAAC,CAAC,MAAM;gBACtC,cAAc,WAAW,CAAC,CAAC,MAAM;YACnC,GAAG,OAAO;QACZ;QACA;KACD;AAGL,IAAI,kCAAkC,cACpC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB;;SAEG,GACH,MAAM,WAAW,CAAC,CAAC,OAAO,GAAG,QAAQ;QACrC;;;;;;;;;;;;;OAaC,GACD,WAAW,WAAW,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC,MAAM,IAAI,QAAQ;QACrF;;OAEC,GACD,QAAQ,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QACtC;;;OAGC,GACD,MAAM,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QACpC;;;;;;;;SAQG,GACH,UAAU,WAAW,CAAC,CAAC,KAAK,CAAC;YAAC,WAAW,CAAC,CAAC,OAAO;YAAI,WAAW,CAAC,CAAC,MAAM;SAAG,EAAE,QAAQ;IACxF;AAGJ,IAAI,gCAAgC;IAClC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;QAErB;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI;IAChD;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,eAAe,iBAAiB,EAChC,cAAc,EACd,KAAK,EACL,UAAU,EACV,IAAI,EACJ,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,eAAe,eAAe,CAAC,GAAG,CAAA,MAAM,qBAAqB;gBACjF,UAAU;gBACV;gBACA,QAAQ;YACV,EAAC,IAAI,CAAA,MAAM,qBAAqB;gBAC9B,UAAU,IAAI,CAAC,mBAAmB;gBAClC;gBACA,QAAQ;YACV,EAAC;YACD,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,EAAE;gBACzC,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAQ;YAChE;YACA,IAAI,cAAc,MAAM;gBACtB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAa;YACrE;YACA,IAAI,kBAAkB,QAAQ,eAAe,IAAI,KAAK,QAAQ;gBAC5D,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,gBAAgB,EAAE,aAAa,EAAE,GAAG,gCAAgC;gBAAE;YAAO;YAC7F,MAAM,QAAQ;mBAAI,iBAAiB,OAAO,gBAAgB,EAAE;mBAAK,qBAAqB,OAAO,oBAAoB,EAAE;aAAC;YACpH,OAAO;gBACL,MAAM;oBACJ,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,2BAA2B;oBAC3B,MAAM,cAAc,IAAI;oBACxB,YAAY,cAAc,SAAS;oBACnC,UAAU,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,OAAO,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,QAAQ,KAAK,IAAI,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;oBACzN,QAAQ,cAAc,MAAM;oBAC5B,MAAM,cAAc,IAAI;oBACxB,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB;oBACA,UAAU;oBACV,QAAQ;oBACR,kBAAkB;oBAClB,MAAM,MAAM,MAAM,GAAG,IAAI,QAAQ,KAAK;gBACxC;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,IAAI,OAAO,QAAQ,IAAI,MAAM;gBAC3B,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ;YACpD;YACA,OAAO;gBACL,SAAS;oBAAC;wBAAE,MAAM;wBAAQ,MAAM,OAAO,IAAI;oBAAC;iBAAE;gBAC9C,OAAO;oBACL,aAAa,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa;oBACtE,cAAc,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB;oBAC3E,aAAa,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY;gBACvE;gBACA,cAAc,uBAAuB,OAAO,aAAa;gBACzD,SAAS;oBAAE,MAAM;gBAAK;gBACtB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,gBAAgB;oBACd,eAAe;gBACjB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;4BACxB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAc,IAAI;4BAAI;wBACnD;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,aAAa;4BAC7C,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,iBAAiB;4BAClD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,YAAY;wBAC9C;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,uBAAuB,OAAO,aAAa;wBAC5D;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,MAAM;4BACvD,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ;wBACpD;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,IAAI,KAAK,QAAQ,OAAO,IAAI,CAAC,MAAM,GAAG,GAAG;4BAC7E,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,OAAO,IAAI;4BACpB;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,CAAC,cAAc;4BACjB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,iCAAiC,cACnC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB;;;SAGG,GACH,YAAY,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C;;;MAGA,GACA,MAAM,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;IACtC;AAGJ,IAAI,oCAAoC,cACtC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,MAAM,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;YAAE,WAAW,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM;QAAI;QACpG,OAAO,WAAW,CAAC,CAAC,MAAM,CAAC;YAAE,eAAe,WAAW,CAAC,CAAC,MAAM;QAAG,GAAG,OAAO;IAC9E;AAGJ,IAAI,uBAAuB;IACzB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,qBAAqB,GAAG;QAC7B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EAChB;YACC,IAAI;YACJ,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM;oBACJ,OAAO,IAAI,CAAC,OAAO;oBACnB,OAAO;oBACP,iBAAiB;oBACjB,YAAY,cAAc,UAAU;oBACpC,MAAM,cAAc,IAAI;gBAC1B;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;gBACtD,OAAO,SAAS,KAAK,GAAG;oBAAE,QAAQ,SAAS,KAAK,CAAC,aAAa;gBAAC,IAAI,KAAK;gBACxE,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,4BAA4B,cAC9B,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,MAAM,WAAW,CAAC,CAAC,KAAK,CACtB,WAAW,CAAC,CAAC,MAAM,CAAC;YAClB,UAAU,WAAW,CAAC,CAAC,MAAM;YAC7B,gBAAgB,WAAW,CAAC,CAAC,MAAM,GAAG,QAAQ;QAChD;IAEJ;AAGJ,IAAI,wBAAwB;IAC1B,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,oBAAoB;AACtB;AACA,IAAI,2BAA2B,aAAa,GAAG,IAAI,IAAI;IACrD;IACA;CACD;AACD,IAAI,mBAAmB;IACrB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,mBAAmB;QACrB,IAAI;QACJ,OAAO,CAAC,KAAK,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,OAAO,KAAK;IACnE;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,EAAE,EAAE;QACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,CAAC,EACD,IAAI,EACJ,WAAW,EACX,IAAI,EACJ,eAAe,EACf,OAAO,EACP,WAAW,EACZ;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,IAAI,eAAe,MAAM;gBACvB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,OAAO,QAAQ,EAAE,eAAe,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM,eAAe,eAAe;oBAClC,OAAO,IAAI,CAAC,OAAO;oBACnB;oBACA;oBACA;gBACF,GAAG,CAAC,KAAK,gBAAgB,MAAM,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,yBAAyB,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI;oBAAE,iBAAiB;gBAAW,IAAI,CAAC;gBACtI,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,QAAQ,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,QAAQ;gBACjD;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;gBACX;gBACA,kBAAkB;oBAChB,QAAQ;wBACN,QAAQ,SAAS,IAAI,CAAC,GAAG,CACvB,CAAC,OAAS,KAAK,cAAc,GAAG;gCAC9B,eAAe,KAAK,cAAc;4BACpC,IAAI;oBAER;gBACF;YACF;QACF;IACF;AACF;AACA,IAAI,6BAA6B,WAC/B,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,MAAM,WAAW,CAAC,CAAC,MAAM,GAAG,OAAO;QACnC,aAAa,WAAW,CAAC,CAAC,MAAM;IAClC;AAGJ,IAAI,8BAA8B,WAChC,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,SAAS,WAAW,CAAC,CAAC,KAAK,CACzB,WAAW,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YACtC,WAAW,CAAC,CAAC,MAAM,CAAC;gBAAE,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC;gBAAS,MAAM,WAAW,CAAC,CAAC,MAAM;YAAG;YACtF,WAAW,CAAC,CAAC,MAAM,CAAC;gBAAE,MAAM,WAAW,CAAC,CAAC,OAAO,CAAC;gBAAU,KAAK,WAAW,CAAC,CAAC,MAAM;YAAG;SACvF,GACD,OAAO;IACX;AAGJ,IAAI,4BAA4B,WAC9B,IAAM,UACJ,WAAW,CAAC,CAAC,MAAM,CAAC;QAClB,WAAW,WAAW,CAAC,CAAC,KAAK,CAAC;YAC5B,WAAW,CAAC,CAAC,MAAM;YACnB,WAAW,CAAC,CAAC,MAAM,CAAC;gBAClB,SAAS,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,QAAQ;YAC7D;SACD,EAAE,QAAQ;IACb;AAGJ,IAAI,6BAA6B,iDAAiD;IAChF,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,kBAAkB,CAAC,OAAO,CAAC,CAAC;IAC9B,OAAO,2BAA2B;AACpC;AACA,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,KAAK,YAAY,CAAC,CAAC,MAAM;IACzB,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAM;QAAM;QAAM;QAAO;QAAM;KAAM;IAC/D,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC;QAAC,YAAY,CAAC,CAAC,MAAM;QAAI,YAAY,CAAC,CAAC,MAAM;QAAI,YAAY,CAAC,CAAC,OAAO;KAAG;AACtG;AACA,IAAI,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC9C,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAO;KAAK;IACtC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,KAAK,CAAC;QAAC;QAAwB,YAAY,CAAC,CAAC,IAAI,CAAC,IAAM;KAAsB;AAEhG;AACA,IAAI,uBAAuB,WACzB,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QACxD,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACjD,GAAG,QAAQ;QACX,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC;YAAwB;SAAqB,EAAE,QAAQ;IACvF;AAGJ,IAAI,yBAAyB,WAC3B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;YAC9E,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC5B,UAAU,YAAY,CAAC,CAAC,MAAM;YAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B,IACA,QAAQ;IACZ;AAGJ,IAAI,aAAa,iDAAiD;IAChE,IAAI;IACJ,MAAM;IACN,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;IACnC,cAAc;AAChB;AACA,IAAI,4BAA4B,WAC9B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;SAAc,EAAE,QAAQ;QAC1E,eAAe,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;SAAO,EAAE,QAAQ;QAC3D,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;QACX,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACtC,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;SAAO,EAAE,QAAQ;QACjD,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,QAAQ;QACxE,cAAc,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAQ;SAAO,EAAE,QAAQ;QAClE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ;QAClE,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAO;YAAU;SAAO,EAAE,QAAQ;QACvE,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAa;YAAa;YAAa;SAAO,EAAE,QAAQ;IACpF,GAAG,MAAM;AAGb,IAAI,6BAA6B,WAAW,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAClF,IAAI,8BAA8B,WAChC,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;IAAG;AAExE,IAAI,6BAA6B,iDAAiD;IAChF,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,kBAAkB,CAAC,OAAO,CAAC,CAAC;IAC9B,OAAO,2BAA2B;AACpC;AACA,IAAI,wBAAwB,WAC1B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;YAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;YACjD,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACjD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpF;IACF;AAGJ,IAAI,yBAAyB,WAC3B,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;IAAG;AAExE,IAAI,aAAa,iDAAiD;IAChE,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,sBAAsB,WACxB,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAAG,GAAG,QAAQ;QAClH,mBAAmB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACzE,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;YACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;IACb;AAGJ,IAAI,uBAAuB,WAAW,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAC5E,IAAI,wBAAwB,WAC1B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;YAC3B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;gBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;SACD;IACH;AAGJ,IAAI,uBAAuB,iDAAiD;IAC1E,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,GAAK,qBAAqB;AACpD,IAAI,6BAA6B,WAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,mBAAmB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACzE,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;YACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;IACb;AAGJ,IAAI,8BAA8B,WAChC,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAExC,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;YAC3B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;gBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;SACD;IACH;AAGJ,IAAI,mBAAmB,iDAAiD;IACtE,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,cAAc;IAChB;;;;;;;;GAQC,GACD;IACA;;;;;;;;;;;GAWC,GACD;IACA;;;;;;;;;;;;GAYC,GACD;IACA;;;;;;;GAOC,GACD;IACA;;;;;;;;;;GAUC,GACD;IACA;;;;;;;;;GASC,GACD;AACF;AACA,SAAS,SAAS,IAAI,EAAE,QAAQ;IAC9B,IAAI,CAAC,UAAU,OAAO;IACtB,OAAO,SAAS,IAAI,CAAC,CAAC,SAAW,KAAK,UAAU,CAAC;AACnD;AACA,SAAS,8BAA8B,EAAE;IACvC,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,iBAAiB,EACjB,cAAc,EACd,KAAK,EACL,oBAAoB,KAAK,EAC1B;QACC,IAAI,IAAI,IAAI,IAAI;QAChB,MAAM,QAAQ,EAAE;QAChB,MAAM,WAAW,EAAE;QACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;YACtC,OAAQ;gBACN,KAAK;oBAAU;wBACb,OAAQ;4BACN,KAAK;gCAAU;oCACb,MAAM,IAAI,CAAC;wCAAE,MAAM;wCAAU;oCAAQ;oCACrC;gCACF;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,CAAC;wCAAE,MAAM;wCAAa;oCAAQ;oCACxC;gCACF;4BACA,KAAK;gCAAU;oCACb,SAAS,IAAI,CAAC;wCACZ,MAAM;wCACN,SAAS;oCACX;oCACA;gCACF;4BACA;gCAAS;oCACP,MAAM,mBAAmB;oCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;gCAE1D;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAQ;wBACX,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAM;gCAC1B,IAAI,KAAK,KAAK;gCACd,OAAQ,KAAK,IAAI;oCACf,KAAK;wCAAQ;4CACX,OAAO;gDAAE,MAAM;gDAAc,MAAM,KAAK,IAAI;4CAAC;wCAC/C;oCACA,KAAK;wCAAQ;4CACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;gDACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;gDAC9E,OAAO,cAAc,eAAe;oDAClC,MAAM;gDACR,GAAG,KAAK,IAAI,YAAY,MAAM;oDAAE,WAAW,KAAK,IAAI,CAAC,QAAQ;gDAAG,IAAI,OAAO,KAAK,IAAI,KAAK,YAAY,SAAS,KAAK,IAAI,EAAE,kBAAkB;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDAClK,WAAW,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACrE,IAAI;oDACF,QAAQ,CAAC,MAAM,CAAC,MAAM,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,IAAI,MAAM,KAAK,OAAO,KAAK,IAAI,IAAI,WAAW;gDAC/G;4CACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;gDAC/C,IAAI,KAAK,IAAI,YAAY,KAAK;oDAC5B,OAAO;wDACL,MAAM;wDACN,UAAU,KAAK,IAAI,CAAC,QAAQ;oDAC9B;gDACF;gDACA,OAAO,eAAe;oDACpB,MAAM;gDACR,GAAG,OAAO,KAAK,IAAI,KAAK,YAAY,SAAS,KAAK,IAAI,EAAE,kBAAkB;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDACjG,UAAU,CAAC,MAAM,KAAK,QAAQ,KAAK,OAAO,MAAM,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC;oDACnE,WAAW,CAAC,4BAA4B,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACxE;4CACF,OAAO;gDACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;gDACzD;4CACF;wCACF;gCACF;4BACF;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAa;wBAChB,MAAM,oBAAoB,CAAC;wBAC3B,MAAM,gBAAgB,CAAC;wBACvB,KAAK,MAAM,QAAQ,QAAS;4BAC1B,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,MAAM,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;wCACvG,IAAI,SAAS,MAAM,MAAM;4CACvB,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB;4CAAG;4CACxC;wCACF;wCACA,MAAM,IAAI,CAAC;4CACT,MAAM;4CACN,SAAS;gDAAC;oDAAE,MAAM;oDAAe,MAAM,KAAK,IAAI;gDAAC;6CAAE;4CACnD;wCACF;wCACA;oCACF;gCACA,KAAK;oCAAa;wCAChB,aAAa,CAAC,KAAK,UAAU,CAAC,GAAG;wCACjC,IAAI,KAAK,gBAAgB,EAAE;4CACzB;wCACF;wCACA,MAAM,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;wCACvG,IAAI,SAAS,MAAM,MAAM;4CACvB,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB;4CAAG;4CACxC;wCACF;wCACA,IAAI,qBAAqB,KAAK,QAAQ,KAAK,eAAe;4CACxD,MAAM,cAAc,MAAM,cAAc;gDACtC,OAAO,KAAK,KAAK;gDACjB,QAAQ;4CACV;4CACA,MAAM,IAAI,CAAC;gDACT,MAAM;gDACN,SAAS,KAAK,UAAU;gDACxB;gDACA,QAAQ;oDACN,MAAM;oDACN,SAAS,YAAY,MAAM,CAAC,OAAO;oDACnC,YAAY,YAAY,MAAM,CAAC,SAAS;oDACxC,MAAM,YAAY,MAAM,CAAC,IAAI;oDAC7B,mBAAmB,YAAY,MAAM,CAAC,gBAAgB;oDACtD,KAAK,YAAY,MAAM,CAAC,GAAG;gDAC7B;4CACF;4CACA;wCACF;wCACA,MAAM,IAAI,CAAC;4CACT,MAAM;4CACN,SAAS,KAAK,UAAU;4CACxB,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;4CACpC;wCACF;wCACA;oCACF;gCACA,gEAAgE;gCAChE,KAAK;oCAAe;wCAClB,IAAI,OAAO;4CACT,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB,IAAI,KAAK,UAAU;4CAAC;wCAC3D,OAAO;4CACL,SAAS,IAAI,CAAC;gDACZ,MAAM;gDACN,SAAS,CAAC,wBAAwB,EAAE,KAAK,QAAQ,CAAC,4CAA4C,CAAC;4CACjG;wCACF;wCACA;oCACF;gCACA,KAAK;oCAAa;wCAChB,MAAM,kBAAkB,MAAM,qBAAqB;4CACjD,UAAU;4CACV,iBAAiB,KAAK,eAAe;4CACrC,QAAQ;wCACV;wCACA,MAAM,cAAc,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,MAAM;wCAC7E,IAAI,eAAe,MAAM;4CACvB,MAAM,mBAAmB,iBAAiB,CAAC,YAAY;4CACvD,IAAI,OAAO;gDACT,IAAI,qBAAqB,KAAK,GAAG;oDAC/B,MAAM,IAAI,CAAC;wDAAE,MAAM;wDAAkB,IAAI;oDAAY;oDACrD,iBAAiB,CAAC,YAAY,GAAG;wDAC/B,MAAM;wDACN,IAAI;wDACJ,SAAS,EAAE;oDACb;gDACF;4CACF,OAAO;gDACL,MAAM,eAAe,EAAE;gDACvB,IAAI,KAAK,IAAI,CAAC,MAAM,GAAG,GAAG;oDACxB,aAAa,IAAI,CAAC;wDAChB,MAAM;wDACN,MAAM,KAAK,IAAI;oDACjB;gDACF,OAAO,IAAI,qBAAqB,KAAK,GAAG;oDACtC,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,4FAA4F,EAAE,KAAK,SAAS,CAAC,MAAM,CAAC,CAAC;oDACjI;gDACF;gDACA,IAAI,qBAAqB,KAAK,GAAG;oDAC/B,iBAAiB,CAAC,YAAY,GAAG;wDAC/B,MAAM;wDACN,IAAI;wDACJ,mBAAmB,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,yBAAyB;wDAC/F,SAAS;oDACX;oDACA,MAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY;gDAC3C,OAAO;oDACL,iBAAiB,OAAO,CAAC,IAAI,IAAI;oDACjC,IAAI,CAAC,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,yBAAyB,KAAK,MAAM;wDAC1F,iBAAiB,iBAAiB,GAAG,gBAAgB,yBAAyB;oDAChF;gDACF;4CACF;wCACF,OAAO;4CACL,SAAS,IAAI,CAAC;gDACZ,MAAM;gDACN,SAAS,CAAC,uEAAuE,EAAE,KAAK,SAAS,CAAC,MAAM,CAAC,CAAC;4CAC5G;wCACF;wCACA;oCACF;4BACF;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAQ;wBACX,KAAK,MAAM,QAAQ,QAAS;4BAC1B,MAAM,SAAS,KAAK,MAAM;4BAC1B,IAAI,qBAAqB,KAAK,QAAQ,KAAK,iBAAiB,OAAO,IAAI,KAAK,QAAQ;gCAClF,MAAM,eAAe,MAAM,cAAc;oCACvC,OAAO,OAAO,KAAK;oCACnB,QAAQ;gCACV;gCACA,MAAM,IAAI,CAAC;oCACT,MAAM;oCACN,SAAS,KAAK,UAAU;oCACxB,QAAQ,aAAa,MAAM;gCAC7B;gCACA;4BACF;4BACA,IAAI;4BACJ,OAAQ,OAAO,IAAI;gCACjB,KAAK;gCACL,KAAK;oCACH,eAAe,OAAO,KAAK;oCAC3B;gCACF,KAAK;gCACL,KAAK;oCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;oCAC1C;gCACF,KAAK;oCACH,eAAe,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;wCAC/B,OAAQ,KAAK,IAAI;4CACf,KAAK;gDAAQ;oDACX,OAAO;wDAAE,MAAM;wDAAc,MAAM,KAAK,IAAI;oDAAC;gDAC/C;4CACA,KAAK;gDAAS;oDACZ,OAAO,KAAK,SAAS,CAAC,UAAU,CAAC,YAAY;wDAC3C,MAAM;wDACN,WAAW,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;oDACzD,IAAI;wDACF,MAAM;wDACN,UAAU;wDACV,WAAW,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;oDACzD;gDACF;wCACF;oCACF;oCACA;4BACJ;4BACA,MAAM,IAAI,CAAC;gCACT,MAAM;gCACN,SAAS,KAAK,UAAU;gCACxB,QAAQ;4BACV;wBACF;wBACA;oBACF;gBACA;oBAAS;wBACP,MAAM,mBAAmB;wBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;oBACzD;YACF;QACF;QACA,OAAO;YAAE;YAAO;QAAS;IAC3B;AACF;AACA,IAAI,gDAAgD,YAAY,CAAC,CAAC,MAAM,CAAC;IACvE,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC,2BAA2B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;AAC3D;AACA,SAAS,8BAA8B,EACrC,YAAY,EACZ,eAAe,EAChB;IACC,OAAQ;QACN,KAAK,KAAK;QACV,KAAK;YACH,OAAO,kBAAkB,eAAe;QAC1C,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO,kBAAkB,eAAe;IAC5C;AACF;AACA,IAAI,6BAA6B,cAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,KAAK,CAAC;QAClB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC/B;YAEJ,IACA,OAAO;QACX;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;gBAAsB;aAAsB;YACtE,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,oBAAoB,YAAY,CAAC,CAAC,MAAM,CAAC;oBAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAAG,GAAG,OAAO;gBACpF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1B,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAAG,GAAG,OAAO;oBACvG,eAAe,YAAY,CAAC,CAAC,MAAM;oBACnC,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAAG,GAAG,OAAO;gBAC7G;gBACA,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC9C;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,YAAY,YAAY,CAAC,CAAC,MAAM;gBAChC,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC3B,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC9C;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBAC7C,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACnD;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAS,MAAM,YAAY,CAAC,CAAC,MAAM;wBAAG;wBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAU,KAAK,YAAY,CAAC,CAAC,MAAM;wBAAG;qBAC1F,GACD,QAAQ;oBACV,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBAC7C,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACnD;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;oBAC/B,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;gBAChC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAS,MAAM,YAAY,CAAC,CAAC,MAAM;wBAAG;wBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAU,KAAK,YAAY,CAAC,CAAC,MAAM;wBAAG;qBAC1F,GACD,QAAQ;gBACZ;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;oBAC5B,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBAC3B;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;qBACD;gBACH;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;wBAC9E,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM;wBAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC5B,IACA,OAAO;gBACX;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;wBAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;wBACjD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC3C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBACrC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAClD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;oBACpF;gBACF;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;gBAChC;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,mBAAmB,YAAY,CAAC,CAAC,MAAM;QACzC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,YAAY,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBACnD,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;oBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC7B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACxC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACrC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC3C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACzC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACvC;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;QACrC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;QACrC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,iBAAiB,YAAY,CAAC,CAAC,MAAM;QACvC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,MAAM,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,KAAK,GAAG,SAAS,CAAC,CAAC,QAAU,CAAC;gBACnF,MAAM;gBACN,SAAS,MAAM,IAAI;YACrB,CAAC;KAEF;AAGL,IAAI,gCAAgC,cAClC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM;QACxB,YAAY,YAAY,CAAC,CAAC,MAAM;QAChC,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B,GAAG,OAAO;QACV,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YACvC,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,OAAO,YAAY,CAAC,CAAC,MAAM;4BAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;oBAEJ,IACA,OAAO;oBACT,aAAa,YAAY,CAAC,CAAC,KAAK,CAC9B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;4BACjC,WAAW,YAAY,CAAC,CAAC,MAAM;4BAC/B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC7B;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;4BAC7B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACxC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACrC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BAC3C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACzC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC9B;qBACD;gBAEL;YAEJ;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC5B,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACvC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;oBAC3B;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC/B;iBACD;YACH;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;gBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;oBAC9E,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM;oBAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B,IACA,OAAO;YACX;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;gBACrC,cAAc,YAAY,CAAC,CAAC,MAAM;gBAClC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAAS,MAAM,YAAY,CAAC,CAAC,MAAM;oBAAG;oBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAAU,KAAK,YAAY,CAAC,CAAC,MAAM;oBAAG;iBAC1F,GACD,QAAQ;YACZ;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC9B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBACjD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAC3C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAClD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;gBACpF;YACF;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBAC/B,IAAI,YAAY,CAAC,CAAC,MAAM;YAC1B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACzC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;YAEJ;SACD;QAEH,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,oBAAoB,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,OAAO;QACpF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAAG,GAAG,OAAO;YACvG,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAAG,GAAG,OAAO;QAC7G;IACF;AAGJ,IAAI,mBAAmB;AACvB,IAAI,mCAAmC;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AACD,IAAI,0BAA0B;IAC5B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;OACG;CACJ;AACD,IAAI,uCAAuC,cACzC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,IAAI,CAAC;YACjB;YACA,0EAA0E;YAC1E;YACA;SACD,GACD,OAAO;QACT,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C;;;;;;;;;;;OAWC,GACD,UAAU,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO;YAAI,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;SAAkB,EAAE,QAAQ;QACtH;;;;OAIC,GACD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,UAAU,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QACrC,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QAClD,oBAAoB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClD,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC9C,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC/C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAQ;YAAY;SAAU,EAAE,OAAO;QAChF,OAAO,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QACtC,kBAAkB,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QACjD,eAAe,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,OAAO;QACpE,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAW,EAAE,OAAO;QAC5D,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC;AAGJ,SAAS,sBAAsB,EAAE;IAC/B,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,UAAU,EACV,gBAAgB,EACjB;QACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;QAC/D,MAAM,eAAe,EAAE;QACvB,IAAI,SAAS,MAAM;YACjB,OAAO;gBAAE,OAAO,KAAK;gBAAG,YAAY,KAAK;gBAAG;YAAa;QAC3D;QACA,MAAM,eAAe,EAAE;QACvB,KAAK,MAAM,UAAU,MAAO;YAC1B,OAAQ,OAAO,IAAI;gBACjB,KAAK;oBACH,aAAa,IAAI,CAAC;wBAChB,MAAM;wBACN,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY,OAAO,WAAW;wBAC9B,QAAQ;oBACV;oBACA;gBACF,KAAK;oBAAoB;wBACvB,OAAQ,OAAO,EAAE;4BACf,KAAK;gCAAsB;oCACzB,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,kBAAkB,KAAK,cAAc;wCACrC,iBAAiB,KAAK,aAAa;wCACnC,iBAAiB,KAAK,OAAO,GAAG;4CAC9B,QAAQ,KAAK,OAAO,CAAC,MAAM;4CAC3B,iBAAiB,KAAK,OAAO,CAAC,cAAc;wCAC9C,IAAI,KAAK;wCACT,SAAS,KAAK,OAAO;oCACvB;oCACA;gCACF;4BACA,KAAK;gCAAsB;oCACzB,aAAa,IAAI,CAAC;wCAChB,MAAM;oCACR;oCACA;gCACF;4BACA,KAAK;gCAA6B;oCAChC,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,qBAAqB,KAAK,iBAAiB;wCAC3C,eAAe,KAAK,YAAY;oCAClC;oCACA;gCACF;4BACA,KAAK;gCAAqB;oCACxB,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,SAAS,KAAK,OAAO,IAAI,OAAO;4CAAE,iBAAiB,KAAK,OAAO,CAAC,cAAc;wCAAC,IAAI,KAAK;wCACxF,qBAAqB,KAAK,iBAAiB;wCAC3C,eAAe,KAAK,YAAY;oCAClC;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,WAAW,KAAK,SAAS,IAAI,OAAO;4CAAE,MAAM;4CAAQ,UAAU,KAAK;wCAAE,IAAI,OAAO,KAAK,SAAS,KAAK,WAAW,KAAK,SAAS,GAAG;4CAAE,MAAM;4CAAQ,UAAU,KAAK,SAAS,CAAC,OAAO;wCAAC;oCAClL;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,YAAY,KAAK,UAAU;wCAC3B,gBAAgB,KAAK,aAAa;wCAClC,kBAAkB,KAAK,cAAc,GAAG;4CACtC,SAAS,KAAK,cAAc,CAAC,MAAM;4CACnC,WAAW,KAAK,cAAc,CAAC,QAAQ;wCACzC,IAAI,KAAK;wCACT,OAAO,KAAK,KAAK;wCACjB,MAAM,KAAK,IAAI;wCACf,SAAS,KAAK,OAAO;wCACrB,YAAY,KAAK,UAAU;wCAC3B,eAAe,KAAK,YAAY;wCAChC,oBAAoB,KAAK,iBAAiB;oCAC5C;oCACA;gCACF;wBACF;wBACA;oBACF;gBACA;oBACE,aAAa,IAAI,CAAC;wBAAE,MAAM;wBAAoB,MAAM;oBAAO;oBAC3D;YACJ;QACF;QACA,IAAI,cAAc,MAAM;YACtB,OAAO;gBAAE,OAAO;gBAAc,YAAY,KAAK;gBAAG;YAAa;QACjE;QACA,MAAM,OAAO,WAAW,IAAI;QAC5B,OAAQ;YACN,KAAK;YACL,KAAK;YACL,KAAK;gBACH,OAAO;oBAAE,OAAO;oBAAc,YAAY;oBAAM;gBAAa;YAC/D,KAAK;gBACH,OAAO;oBACL,OAAO;oBACP,YAAY,WAAW,QAAQ,KAAK,sBAAsB,WAAW,QAAQ,KAAK,iBAAiB,WAAW,QAAQ,KAAK,sBAAsB,WAAW,QAAQ,KAAK,wBAAwB,WAAW,QAAQ,KAAK,eAAe;wBAAE,MAAM,WAAW,QAAQ;oBAAC,IAAI;wBAAE,MAAM;wBAAY,MAAM,WAAW,QAAQ;oBAAC;oBACtT;gBACF;YACF;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;oBACxD;gBACF;QACF;IACF;AACF;AACA,IAAI,+BAA+B;IACjC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;YAC9B,mBAAmB;gBAAC;aAAkB;QACxC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,eAAe,EACf,WAAW,EACX,aAAa,EACb,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,gBAAgB,EAChB,IAAI,EACJ,MAAM,EACN,eAAe,EACf,KAAK,EACL,UAAU,EACV,cAAc,EACf;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,cAAc,wBAAwB,IAAI,CAAC,OAAO;YACxD,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,mBAAmB,MAAM;gBAC3B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,oBAAoB,MAAM;gBAC5B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,iBAAiB,MAAM;gBACzB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAgB;YACxE;YACA,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,EAAE,KAAK,EAAE,UAAU,aAAa,EAAE,GAAG,MAAM,8BAA8B;gBAC7E;gBACA,mBAAmB,YAAY,iBAAiB;gBAChD,gBAAgB,IAAI,CAAC,MAAM,CAAC,cAAc;gBAC1C,OAAO,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,KAAK,KAAK,OAAO,KAAK;gBAClF,mBAAmB,cAAc;YACnC;YACA,SAAS,IAAI,IAAI;YACjB,MAAM,mBAAmB,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,OAAO,KAAK;YAC/G,IAAI,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO;YACpE,SAAS,WAAW,GAAG;gBACrB,IAAI,WAAW,MAAM;oBACnB,UAAU;wBAAC;qBAAI;gBACjB,OAAO,IAAI,CAAC,QAAQ,QAAQ,CAAC,MAAM;oBACjC,UAAU;2BAAI;wBAAS;qBAAI;gBAC7B;YACF;YACA,SAAS,cAAc,EAAE;gBACvB,OAAO,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI,CACzC,CAAC,SAAW,OAAO,IAAI,KAAK,sBAAsB,OAAO,EAAE,KAAK,GACjE,KAAK;YACR;YACA,MAAM,cAAc,OAAO,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,OAAO,mBAAmB,KAAK;YAC3P,IAAI,aAAa;gBACf,WAAW;YACb;YACA,MAAM,oBAAoB,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI,CACjE,CAAC,SAAW,OAAO,IAAI,KAAK,sBAAsB,CAAC,OAAO,EAAE,KAAK,uBAAuB,OAAO,EAAE,KAAK,2BAA2B,EAClI,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;YAC7B,IAAI,mBAAmB;gBACrB,WAAW;YACb;YACA,IAAI,cAAc,4BAA4B;gBAC5C,WAAW;YACb;YACA,MAAM,QAAQ,iBAAiB,OAAO,KAAK,IAAI,cAAc,KAAK;YAClE,IAAI,UAAU,SAAS,YAAY,gBAAgB,EAAE;gBACnD,WAAW;YACb;YACA,MAAM,WAAW,eAAe,cAAc,eAAe;gBAC3D,OAAO,IAAI,CAAC,OAAO;gBACnB;gBACA;gBACA,OAAO;gBACP,mBAAmB;YACrB,GAAG,CAAC,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,aAAa,CAAC,KAAK;gBAC3I,MAAM,eAAe,eAAe,CAAC,GAAG,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU;oBAC5G,QAAQ,eAAe,MAAM,IAAI,OAAO;wBACtC,MAAM;wBACN,QAAQ;wBACR,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,aAAa,eAAe,WAAW;wBACvC,QAAQ,eAAe,MAAM;oBAC/B,IAAI;wBAAE,MAAM;oBAAc;gBAC5B,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,aAAa,KAAK;oBACpE,WAAW,cAAc,aAAa;gBACxC;YACF,IAAI;gBACF,oBAAoB;gBACpB,gBAAgB,iBAAiB,OAAO,KAAK,IAAI,cAAc,YAAY;gBAC3E,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;gBACjE,qBAAqB,iBAAiB,OAAO,KAAK,IAAI,cAAc,iBAAiB;gBACrF,sBAAsB,iBAAiB,OAAO,KAAK,IAAI,cAAc,kBAAkB;gBACvF;gBACA,MAAM,iBAAiB,OAAO,KAAK,IAAI,cAAc,IAAI;gBACzD,cAAc,iBAAiB,OAAO,KAAK,IAAI,cAAc,YAAY;gBACzE,cAAc,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW;gBACxE;gBACA,kBAAkB,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc;gBAC/E,mBAAmB,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB;gBAClF,cAAc;gBACd,YAAY,iBAAiB,OAAO,KAAK,IAAI,cAAc,UAAU;YACvE,IAAI,YAAY,gBAAgB,IAAI,CAAC,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,QAAQ,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,IAAI,KAAK;gBAC7L,WAAW,eAAe,eAAe,CAAC,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,QAAQ;oBACvH,QAAQ,cAAc,eAAe;gBACvC,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,QAAQ;oBAC/E,SAAS,cAAc,gBAAgB;gBACzC;YACF;YACA,IAAI,YAAY,gBAAgB,EAAE;gBAChC,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,KAAK,IAAI,MAAM;oBAC1B,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF,OAAO;gBACL,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,MAAM;oBAC5E,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,MAAM;oBAC7E,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF;YACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,MAAM,UAAU,CAAC,YAAY,sBAAsB,EAAE;gBAClH,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,OAAO,SAAS,YAAY;YAC9B;YACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,MAAM,cAAc,CAAC,YAAY,0BAA0B,EAAE;gBAC1H,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,OAAO,SAAS,YAAY;YAC9B;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,MAAM,sBAAsB;gBAC9B;gBACA;gBACA;YACF;YACA,OAAO;gBACL;gBACA,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;gBACxC;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5E,MAAM,EACJ,MAAM,IAAI,EACV,QAAQ,EACR,iBAAiB,EAClB,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACvB,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC1B,MAAM;gBACN,SAAS,IAAI,CAAC,OAAO;YACvB;YACA,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,SAAS,KAAK,EAAE;gBAClB,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS,SAAS,KAAK,CAAC,OAAO;oBAC/B;oBACA,mBAAmB;oBACnB,YAAY;oBACZ;oBACA,cAAc;oBACd,aAAa;gBACf;YACF;YACA,MAAM,UAAU,EAAE;YAClB,MAAM,WAAW,EAAE;YACnB,IAAI,kBAAkB;YACtB,KAAK,MAAM,QAAQ,SAAS,MAAM,CAAE;gBAClC,OAAQ,KAAK,IAAI;oBACf,KAAK;wBAAa;4BAChB,IAAI,KAAK,OAAO,CAAC,MAAM,KAAK,GAAG;gCAC7B,KAAK,OAAO,CAAC,IAAI,CAAC;oCAAE,MAAM;oCAAgB,MAAM;gCAAG;4BACrD;4BACA,KAAK,MAAM,WAAW,KAAK,OAAO,CAAE;gCAClC,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM,QAAQ,IAAI;oCAClB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,KAAK,EAAE;4CACf,2BAA2B,CAAC,KAAK,KAAK,iBAAiB,KAAK,OAAO,KAAK;wCAC1E;oCACF;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAyB;4BAC5B,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,QAAQ,KAAK,MAAM;gCACrB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAoB;4BACvB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,OAAO;gCACxB,UAAU;gCACV,OAAO,KAAK,SAAS,CAAC;oCACpB,QAAQ,KAAK,MAAM;gCACrB;gCACA,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,KAAK,EAAE;oCACjB;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAW;4BACd,KAAK,MAAM,eAAe,KAAK,OAAO,CAAE;gCACtC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,QAAQ,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,YAAY,QAAQ,EAAE;oCAC/H,SAAS,IAAI,CAAC,YAAY,QAAQ;gCACpC;gCACA,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM,YAAY,IAAI;oCACtB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,KAAK,EAAE;wCACjB;oCACF;gCACF;gCACA,KAAK,MAAM,cAAc,YAAY,WAAW,CAAE;oCAChD,IAAI,WAAW,IAAI,KAAK,gBAAgB;wCACtC,QAAQ,IAAI,CAAC;4CACX,MAAM;4CACN,YAAY;4CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;4CAC9F,KAAK,WAAW,GAAG;4CACnB,OAAO,WAAW,KAAK;wCACzB;oCACF,OAAO,IAAI,WAAW,IAAI,KAAK,iBAAiB;wCAC9C,QAAQ,IAAI,CAAC;4CACX,MAAM;4CACN,YAAY;4CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;4CAC9F,WAAW;4CACX,OAAO,CAAC,KAAK,CAAC,KAAK,WAAW,KAAK,KAAK,OAAO,KAAK,WAAW,QAAQ,KAAK,OAAO,KAAK;4CACxF,UAAU,CAAC,KAAK,WAAW,QAAQ,KAAK,OAAO,KAAK,WAAW,OAAO;wCACxE;oCACF;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAiB;4BACpB,kBAAkB;4BAClB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,OAAO;gCACxB,UAAU,KAAK,IAAI;gCACnB,OAAO,KAAK,SAAS;gCACrB,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,KAAK,EAAE;oCACjB;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAmB;4BACtB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU,qBAAqB,OAAO,oBAAoB;gCAC1D,OAAO,KAAK,SAAS,CAAC,CAAC;gCACvB,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU,qBAAqB,OAAO,oBAAoB;gCAC1D,QAAQ,mBAAmB,KAAK,MAAM;gCACtC,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAiB;4BACpB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,MAAM;oCACN,QAAQ,KAAK,MAAM,IAAI;gCACzB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAoB;4BACvB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,SAAS,KAAK,OAAO;oCACrB,SAAS,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;4CACxE,YAAY,OAAO,UAAU;4CAC7B,QAAQ,OAAO,OAAO;4CACtB,UAAU,OAAO,QAAQ;4CACzB,OAAO,OAAO,KAAK;4CACnB,MAAM,OAAO,IAAI;wCACnB,CAAC,EAAE,KAAK,OAAO,KAAK;gCACtB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAyB;4BAC5B,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO,KAAK,SAAS,CAAC;oCACpB,MAAM,KAAK,IAAI;oCACf,aAAa,KAAK,YAAY;gCAChC;gCACA,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,SAAS,KAAK,OAAO;gCACvB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;gBACF;YACF;YACA,MAAM,mBAAmB;gBACvB,QAAQ;oBAAE,YAAY,SAAS,EAAE;gBAAC;YACpC;YACA,IAAI,SAAS,MAAM,GAAG,GAAG;gBACvB,iBAAiB,MAAM,CAAC,QAAQ,GAAG;YACrC;YACA,IAAI,OAAO,SAAS,YAAY,KAAK,UAAU;gBAC7C,iBAAiB,MAAM,CAAC,WAAW,GAAG,SAAS,YAAY;YAC7D;YACA,OAAO;gBACL;gBACA,cAAc,8BAA8B;oBAC1C,cAAc,CAAC,KAAK,SAAS,kBAAkB,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;oBAC7E;gBACF;gBACA,OAAO;oBACL,aAAa,SAAS,KAAK,CAAC,YAAY;oBACxC,cAAc,SAAS,KAAK,CAAC,aAAa;oBAC1C,aAAa,SAAS,KAAK,CAAC,YAAY,GAAG,SAAS,KAAK,CAAC,aAAa;oBACvE,iBAAiB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBAC/H,mBAAmB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,oBAAoB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;gBAC/H;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBACR,IAAI,SAAS,EAAE;oBACf,WAAW,IAAI,KAAK,SAAS,UAAU,GAAG;oBAC1C,SAAS,SAAS,KAAK;oBACvB,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EACJ,MAAM,IAAI,EACV,QAAQ,EACR,iBAAiB,EACjB,KAAK,EACN,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACvB,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAC5C,QAAQ;gBACV;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,OAAO,IAAI;YACjB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,MAAM,WAAW,EAAE;YACnB,IAAI,aAAa;YACjB,MAAM,mBAAmB,CAAC;YAC1B,IAAI,kBAAkB;YACtB,MAAM,kBAAkB,CAAC;YACzB,IAAI;YACJ,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACxF,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,+BAA+B,QAAQ;4BACzC,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCACvC,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU,MAAM,IAAI,CAAC,IAAI;oCACzB,YAAY,MAAM,IAAI,CAAC,OAAO;gCAChC;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,OAAO;oCACtB,UAAU,MAAM,IAAI,CAAC,IAAI;gCAC3B;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,mBAAmB;gCAChD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU,qBAAqB,OAAO,oBAAoB;oCAC1D,YAAY,MAAM,IAAI,CAAC,EAAE;gCAC3B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU,qBAAqB,OAAO,oBAAoB;oCAC1D,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC,CAAC;oCACvB,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCAC9C,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU;oCACV,YAAY,MAAM,IAAI,CAAC,EAAE;gCAC3B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU;oCACV,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU;oCACV,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,iBAAiB;wCACf,aAAa,MAAM,IAAI,CAAC,YAAY;oCACtC;gCACF;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU;oCACV,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,OAAO,CAAC,gBAAgB,EAAE,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gCAC/D;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,WAAW;gCACxC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;wCACvB;oCACF;gCACF;4BACF,OAAO,IAAI,+BAA+B,UAAU,MAAM,IAAI,CAAC,IAAI,KAAK,aAAa;gCACnF,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,GAAG;oCAC/B,kBAAkB,MAAM,IAAI,CAAC,iBAAiB;oCAC9C,cAAc;wCAAE,GAAG;oCAAS;gCAC9B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;oCACxB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;4CACrB,2BAA2B,CAAC,KAAK,MAAM,IAAI,CAAC,iBAAiB,KAAK,OAAO,KAAK;wCAChF;oCACF;gCACF;4BACF;wBACF,OAAO,IAAI,8BAA8B,QAAQ;4BAC/C,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCACvC,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,kBAAkB;gCAClB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,OAAO;gCACxB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,OAAO;oCAC9B,UAAU,MAAM,IAAI,CAAC,IAAI;oCACzB,OAAO,MAAM,IAAI,CAAC,SAAS;oCAC3B,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;wCACvB;oCACF;gCACF;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,mBAAmB;gCAChD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ,mBAAmB,MAAM,IAAI,CAAC,MAAM;oCAC5C,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCAC9C,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,MAAM;wCACN,QAAQ,MAAM,IAAI,CAAC,MAAM,IAAI;oCAC/B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,SAAS,MAAM,IAAI,CAAC,OAAO;wCAC3B,SAAS,CAAC,KAAK,CAAC,KAAK,MAAM,IAAI,CAAC,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;gDAC9E,YAAY,OAAO,UAAU;gDAC7B,QAAQ,OAAO,OAAO;gDACtB,UAAU,OAAO,QAAQ;gDACzB,OAAO,OAAO,KAAK;gDACnB,MAAM,OAAO,IAAI;4CACnB,CAAC,EAAE,KAAK,OAAO,KAAK;oCACtB;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,SAAS,MAAM,IAAI,CAAC,OAAO;oCAC7B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,QAAQ,MAAM,IAAI,CAAC,MAAM;oCAC3B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,OAAO;oCAC9B,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC;wCACpB,QAAQ;4CACN,MAAM;4CACN,SAAS,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO;4CAClC,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU;4CACvC,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI;4CAC5B,kBAAkB,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB;4CACrD,KAAK,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG;wCAC5B;oCACF;oCACA,kBAAkB;wCAChB,QAAQ;4CAAE,QAAQ,MAAM,IAAI,CAAC,EAAE;wCAAC;oCAClC;gCACF;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,WAAW;gCACxC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,aAAa;gCAC1C,MAAM,sBAAsB,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;gCAC1D,MAAM,qBAAqB,OAAO,OAAO,CACvC,oBAAoB,YAAY,EAChC,MAAM,CACN,CAAC,CAAC,GAAG,OAAO,GAAK,WAAW,YAAY,WAAW,gBACnD,GAAG,CAAC,CAAC,CAAC,aAAa,GAAK;gCAC1B,KAAK,MAAM,gBAAgB,mBAAoB;oCAC7C,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,cAAc;wCACtC,kBAAkB;4CAChB,QAAQ;gDACN,QAAQ,MAAM,IAAI,CAAC,EAAE;gDACrB,2BAA2B,CAAC,KAAK,MAAM,IAAI,CAAC,iBAAiB,KAAK,OAAO,KAAK;4CAChF;wCACF;oCACF;gCACF;gCACA,OAAO,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;4BACvC;wBACF,OAAO,IAAI,0CAA0C,QAAQ;4BAC3D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,OAAO,MAAM,KAAK;gCACpB;4BACF;wBACF,OAAO,IAAI,4CAA4C,QAAQ;4BAC7D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,0DAA0D;oCAC1D,4EAA4E;oCAC5E,OAAO,KAAK,SAAS,CAAC,MAAM,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC;gCAC/C;4BACF;wBACF,OAAO,IAAI,2CAA2C,QAAQ;4BAC5D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,OAAO;gCACT;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;gCACzB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,SAAS,UAAU;oCAC/B,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC;wCACpB,MAAM,MAAM,IAAI;wCAChB,aAAa,SAAS,eAAe,CAAC,WAAW;oCACnD;oCACA,kBAAkB;gCACpB;4BACF;wBACF,OAAO,IAAI,uBAAuB,QAAQ;4BACxC,aAAa,MAAM,QAAQ,CAAC,EAAE;4BAC9B,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,MAAM,QAAQ,CAAC,EAAE;gCACrB,WAAW,IAAI,KAAK,MAAM,QAAQ,CAAC,UAAU,GAAG;gCAChD,SAAS,MAAM,QAAQ,CAAC,KAAK;4BAC/B;wBACF,OAAO,IAAI,iBAAiB,QAAQ;4BAClC,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,MAAM,OAAO;gCACjB,OAAO,MAAM,KAAK;4BACpB;4BACA,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,QAAQ,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,MAAM,QAAQ,EAAE;gCACzH,SAAS,IAAI,CAAC,MAAM,QAAQ;4BAC9B;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,yCAAyC;4BACjE,IAAI,MAAM,aAAa,GAAG,GAAG;gCAC3B,MAAM,sBAAsB,eAAe,CAAC,MAAM,OAAO,CAAC;gCAC1D,oBAAoB,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;gCACxD,KAAK,MAAM,gBAAgB,OAAO,IAAI,CACpC,oBAAoB,YAAY,EAC/B;oCACD,IAAI,oBAAoB,YAAY,CAAC,aAAa,KAAK,gBAAgB;wCACrE,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,cAAc;4CACtC,kBAAkB;gDAAE,QAAQ;oDAAE,QAAQ,MAAM,OAAO;gDAAC;4CAAE;wCACxD;wCACA,oBAAoB,YAAY,CAAC,aAAa,GAAG;oCACnD;gCACF;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;oCAC7C,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,OAAO;4CACrB,2BAA2B,CAAC,KAAK,CAAC,KAAK,eAAe,CAAC,MAAM,OAAO,CAAC,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK;wCAChI;oCACF;gCACF;4BACF;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,yCAAyC;4BACjE,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;gCAC7C,OAAO,MAAM,KAAK;gCAClB,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,MAAM,OAAO;oCACvB;gCACF;4BACF;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,wCAAwC;4BAChE,IAAI,OAAO;gCACT,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;oCAC7C,kBAAkB;wCAChB,QAAQ;4CAAE,QAAQ,MAAM,OAAO;wCAAC;oCAClC;gCACF;gCACA,eAAe,CAAC,MAAM,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;4BACrE,OAAO;gCACL,eAAe,CAAC,MAAM,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;4BACrE;wBACF,OAAO,IAAI,wBAAwB,QAAQ;4BACzC,eAAe,8BAA8B;gCAC3C,cAAc,CAAC,KAAK,MAAM,QAAQ,CAAC,kBAAkB,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;gCACnF;4BACF;4BACA,MAAM,WAAW,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,YAAY;4BACrD,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,aAAa;4BACvD,MAAM,WAAW,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,aAAa;4BAC1F,MAAM,eAAe,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,CAAC,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;4BAC5I,MAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,CAAC,KAAK,CAAC,oBAAoB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;4BAC1I,IAAI,OAAO,MAAM,QAAQ,CAAC,YAAY,KAAK,UAAU;gCACnD,cAAc,MAAM,QAAQ,CAAC,YAAY;4BAC3C;wBACF,OAAO,IAAI,+BAA+B,QAAQ;4BAChD,IAAI,MAAM,UAAU,CAAC,IAAI,KAAK,gBAAgB;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;oCAC9F,KAAK,MAAM,UAAU,CAAC,GAAG;oCACzB,OAAO,MAAM,UAAU,CAAC,KAAK;gCAC/B;4BACF,OAAO,IAAI,MAAM,UAAU,CAAC,IAAI,KAAK,iBAAiB;gCACpD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;oCAC9F,WAAW;oCACX,OAAO,CAAC,KAAK,CAAC,KAAK,MAAM,UAAU,CAAC,KAAK,KAAK,OAAO,KAAK,MAAM,UAAU,CAAC,QAAQ,KAAK,OAAO,KAAK;oCACpG,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,QAAQ,KAAK,OAAO,KAAK,MAAM,UAAU,CAAC,OAAO;gCACpF;4BACF;wBACF,OAAO,IAAI,aAAa,QAAQ;4BAC9B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO;4BAAM;wBACnD;oBACF;oBACA,OAAM,UAAU;wBACd,MAAM,mBAAmB;4BACvB,QAAQ;gCACN;4BACF;wBACF;wBACA,IAAI,SAAS,MAAM,GAAG,GAAG;4BACvB,iBAAiB,MAAM,CAAC,QAAQ,GAAG;wBACrC;wBACA,IAAI,gBAAgB,KAAK,GAAG;4BAC1B,iBAAiB,MAAM,CAAC,WAAW,GAAG;wBACxC;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,iBAAiB,KAAK;IAC7B,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,8BAA8B,KAAK;IAC1C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,wBAAwB,KAAK;IACpC,OAAO,MAAM,IAAI,KAAK,wBAAwB,MAAM,IAAI,KAAK;AAC/D;AACA,SAAS,uBAAuB,KAAK;IACnC,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,0CAA0C,KAAK;IACtD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,4CAA4C,KAAK;IACxD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,2CAA2C,KAAK;IACvD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,+BAA+B,KAAK;IAC3C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,+BAA+B,KAAK;IAC3C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,aAAa,KAAK;IACzB,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,wBAAwB,OAAO;IACtC,MAAM,2BAA2B,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC;IACjJ,MAAM,+BAA+B,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC,iBAAiB,CAAC,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC;IAChQ,MAAM,YAAY;QAChB,mBAAmB;QACnB,wBAAwB;QACxB,4BAA4B;IAC9B;IACA,IAAI,QAAQ,UAAU,CAAC,eAAe;QACpC,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;YAClD,kBAAkB;QACpB;IACF;IACA,IAAI,QAAQ,UAAU,CAAC,QAAQ,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,aAAa,QAAQ,UAAU,CAAC,iBAAiB;QAChI,IAAI,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,eAAe;YACrE,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;gBAClD,kBAAkB;gBAClB,mBAAmB;YACrB;QACF;QACA,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;YAClD,kBAAkB;YAClB,mBAAmB;QACrB;IACF;IACA,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;QAClD,kBAAkB;IACpB;AACF;AACA,SAAS,mBAAmB,MAAM;IAChC,IAAI;IACJ,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBAAE,QAAQ;oBAAE,MAAM;oBAAU,OAAO,CAAC,KAAK,OAAO,KAAK,KAAK,OAAO,KAAK,KAAK;gBAAE;YAAE;QACxF,KAAK;YACH,OAAO;gBAAE,QAAQ;oBAAE,MAAM;oBAAY,KAAK,OAAO,GAAG;gBAAC;YAAE;QACzD,KAAK;YACH,OAAO;gBACL,QAAQ;oBAAE,MAAM;oBAAQ,KAAK,OAAO,GAAG;oBAAE,SAAS,OAAO,OAAO;gBAAC;YACnE;IACJ;AACF;AACA,IAAI,oCAAoC,cACtC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO;IACnE;AAGJ,IAAI,oBAAoB;IACtB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,IAAI,EACJ,QAAQ,OAAO,EACf,eAAe,KAAK,EACpB,KAAK,EACL,YAAY,EACZ,QAAQ,EACR,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,cAAc;gBAClB,OAAO,IAAI,CAAC,OAAO;gBACnB,OAAO;gBACP;gBACA,iBAAiB;gBACjB;gBACA;YACF;YACA,IAAI,cAAc;gBAChB,IAAI;oBAAC;oBAAO;oBAAQ;oBAAO;oBAAQ;oBAAO;iBAAM,CAAC,QAAQ,CAAC,eAAe;oBACvE,YAAY,eAAe,GAAG;gBAChC,OAAO;oBACL,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS,CAAC,2BAA2B,EAAE,aAAa,oBAAoB,CAAC;oBAC3E;gBACF;YACF;YACA,IAAI,eAAe;gBACjB,MAAM,qBAAqB,CAAC;gBAC5B,IAAK,MAAM,OAAO,mBAAoB;oBACpC,MAAM,QAAQ,kBAAkB,CAAC,IAAI;oBACrC,IAAI,UAAU,KAAK,GAAG;wBACpB,WAAW,CAAC,IAAI,GAAG;oBACrB;gBACF;YACF;YACA,IAAI,UAAU;gBACZ,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS,CAAC,4EAA4E,EAAE,SAAS,cAAc,CAAC;gBAClH;YACF;YACA,OAAO;gBACL;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACrD,MAAM,EACJ,OAAO,KAAK,EACZ,eAAe,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B;gBAC3B,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL;gBACA;gBACA,SAAS;oBACP,MAAM,KAAK,SAAS,CAAC;gBACvB;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;AACF;AACA,IAAI,oCAAoC,cACtC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,OAAO,YAAY,CAAC,CAAC,KAAK,CACxB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,KAAK,YAAY,CAAC,CAAC,MAAM;QAC3B,IACA,OAAO;QACT,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM;YACxB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,KAAK,YAAY,CAAC,CAAC,MAAM;YACzB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;YAChD,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,mBAAmB,YAAY,CAAC,CAAC,MAAM;YACvC,gBAAgB,YAAY,CAAC,CAAC,MAAM;QACtC,IACA,OAAO;IACX;AAGJ,IAAI,qCAAqC,cACvC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;OAEC,GACD,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAC7D;;OAEC,GACD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACzC;;OAEC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACvC;;;OAGC,GACD,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,QAAQ;QACrE;;;OAGC,GACD,wBAAwB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAU,GAAG,OAAO,CAAC;YAAC;SAAU,EAAE,QAAQ;IACpH;AAGJ,IAAI,cAAc;IAChB,WAAW;IACX,QAAQ;IACR,UAAU;IACV,aAAa;IACb,YAAY;IACZ,SAAS;IACT,WAAW;IACX,SAAS;IACT,SAAS;IACT,UAAU;IACV,OAAO;IACP,QAAQ;IACR,OAAO;IACP,SAAS;IACT,UAAU;IACV,SAAS;IACT,QAAQ;IACR,UAAU;IACV,QAAQ;IACR,OAAO;IACP,QAAQ;IACR,OAAO;IACP,WAAW;IACX,WAAW;IACX,YAAY;IACZ,SAAS;IACT,UAAU;IACV,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,YAAY;IACZ,YAAY;IACZ,OAAO;IACP,SAAS;IACT,OAAO;IACP,QAAQ;IACR,WAAW;IACX,SAAS;IACT,QAAQ;IACR,YAAY;IACZ,UAAU;IACV,SAAS;IACT,SAAS;IACT,QAAQ;IACR,WAAW;IACX,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;IACN,SAAS;IACT,WAAW;IACX,MAAM;IACN,YAAY;IACZ,OAAO;AACT;AACA,IAAI,2BAA2B;IAC7B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,SAAS,EACT,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,WAAW,IAAI;YACrB,MAAM,OAAO,iBAAiB,aAAa,IAAI,KAAK;gBAAC;aAAM,IAAI,IAAI,KAAK;gBAAC,0BAA0B;aAAO;YAC1G,SAAS,MAAM,CAAC,SAAS,IAAI,CAAC,OAAO;YACrC,MAAM,gBAAgB,qBAAqB;YAC3C,SAAS,MAAM,CACb,QACA,IAAI,KAAK;gBAAC;aAAK,EAAE,SAAS;gBAAE,MAAM;YAAU,IAC5C,CAAC,MAAM,EAAE,eAAe;YAE1B,IAAI,eAAe;gBACjB,MAAM,4BAA4B;oBAChC,SAAS,cAAc,OAAO;oBAC9B,UAAU,cAAc,QAAQ;oBAChC,QAAQ,cAAc,MAAM;oBAC5B,qHAAqH;oBACrH,iEAAiE;oBACjE,iBAAiB;wBACf;wBACA;qBACD,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,SAAS;oBACpC,aAAa,cAAc,WAAW;oBACtC,yBAAyB,cAAc,sBAAsB;gBAC/D;gBACA,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,2BAA4B;oBACpE,IAAI,SAAS,MAAM;wBACjB,IAAI,MAAM,OAAO,CAAC,QAAQ;4BACxB,KAAK,MAAM,QAAQ,MAAO;gCACxB,SAAS,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,OAAO;4BACrC;wBACF,OAAO;4BACL,SAAS,MAAM,CAAC,KAAK,OAAO;wBAC9B;oBACF;gBACF;YACF;YACA,OAAO;gBACL;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAChC,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAClD,MAAM,EACJ,OAAO,QAAQ,EACf,eAAe,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,kBAAkB;gBAC1B,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,WAAW,SAAS,QAAQ,IAAI,QAAQ,SAAS,QAAQ,IAAI,cAAc,WAAW,CAAC,SAAS,QAAQ,CAAC,GAAG,KAAK;YACvH,OAAO;gBACL,MAAM,SAAS,IAAI;gBACnB,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,UAAY,CAAC;wBACrF,MAAM,QAAQ,IAAI;wBAClB,aAAa,QAAQ,KAAK;wBAC1B,WAAW,QAAQ,GAAG;oBACxB,CAAC,EAAE,KAAK,OAAO,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,OAAS,CAAC;wBAC7E,MAAM,KAAK,IAAI;wBACf,aAAa,KAAK,KAAK;wBACvB,WAAW,KAAK,GAAG;oBACrB,CAAC,EAAE,KAAK,OAAO,KAAK,EAAE;gBACtB;gBACA,mBAAmB,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,KAAK;gBAChE;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;AACF;AACA,IAAI,WAAW,uCAAO,WAAW;AACjC,SAAS,aAAa,UAAU,CAAC,CAAC;IAChC,IAAI,IAAI;IACR,MAAM,UAAU,CAAC,KAAK,qBACpB,oBAAoB;QAClB,cAAc,QAAQ,OAAO;QAC7B,yBAAyB;IAC3B,GACD,KAAK,OAAO,KAAK;IAClB,MAAM,eAAe,CAAC,KAAK,QAAQ,IAAI,KAAK,OAAO,KAAK;IACxD,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;YACJ,uBAAuB,QAAQ,YAAY;YAC3C,kBAAkB,QAAQ,OAAO;QACnC,GAAG,QAAQ,OAAO,GAClB,CAAC,cAAc,EAAE,UAAU;IAE7B,MAAM,kBAAkB,CAAC,UAAY,IAAI,wBAAwB,SAAS;YACxE,UAAU,GAAG,aAAa,KAAK,CAAC;YAChC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,wBAAwB,CAAC,UAAY,IAAI,8BAA8B,SAAS;YACpF,UAAU,GAAG,aAAa,WAAW,CAAC;YACtC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,uBAAuB,CAAC,UAAY,IAAI,qBAAqB,SAAS;YAC1E,UAAU,GAAG,aAAa,UAAU,CAAC;YACrC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,mBAAmB,CAAC,UAAY,IAAI,iBAAiB,SAAS;YAClE,UAAU,GAAG,aAAa,MAAM,CAAC;YACjC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,2BAA2B,CAAC,UAAY,IAAI,yBAAyB,SAAS;YAClF,UAAU,GAAG,aAAa,cAAc,CAAC;YACzC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,oBAAoB,CAAC,UAAY,IAAI,kBAAkB,SAAS;YACpE,UAAU,GAAG,aAAa,OAAO,CAAC;YAClC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,qBAAqB;IAC9B;IACA,MAAM,uBAAuB,CAAC;QAC5B,OAAO,IAAI,6BAA6B,SAAS;YAC/C,UAAU,GAAG,aAAa,UAAU,CAAC;YACrC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,gBAAgB;gBAAC;aAAQ;QAC3B;IACF;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,OAAO,oBAAoB;IAC7B;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,UAAU,GAAG;IACtB,SAAS,SAAS,GAAG;IACrB,SAAS,SAAS,GAAG;IACrB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,KAAK,GAAG;IACjB,SAAS,UAAU,GAAG;IACtB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,MAAM,GAAG;IAClB,SAAS,WAAW,GAAG;IACvB,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,SAAS;AAEb,8GAA8G;AAC9G,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,WAAW,uCAAO,WAAW;AACjC,IAAI,2BAA2B,WAC7B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B;IACF;AAGJ,IAAI,iCAAiC,+BAA+B;IAClE,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,IAAI,kCAAkC,WACpC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC5B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YACvC,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,WAAW,YAAY,CAAC,CAAC,KAAK,CAC5B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAChC,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,iBAAiB,YAAY,CAAC,CAAC,MAAM;oBACvC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAChC,gBAAgB,YAAY,CAAC,CAAC,MAAM;wBACpC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC/C,mBAAmB,YAAY,CAAC,CAAC,MAAM;wBACvC,iBAAiB,YAAY,CAAC,CAAC,MAAM;oBACvC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAChC,gBAAgB,YAAY,CAAC,CAAC,MAAM;wBACpC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC/C,kBAAkB,YAAY,CAAC,CAAC,MAAM;wBACtC,gBAAgB,YAAY,CAAC,CAAC,MAAM;oBACtC;iBACD,GACD,QAAQ;YACZ;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM;gBAC9B,WAAW,YAAY,CAAC,CAAC,MAAM;YACjC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC5B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,OAAO,YAAY,CAAC,CAAC,OAAO;YAC9B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO,IAAI,OAAO;YACtF;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;gBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;oBAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,cAAc,YAAY,CAAC,CAAC,MAAM;wBAClC,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;4BAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BACtC,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;gCAAE,SAAS,YAAY,CAAC,CAAC,OAAO;4BAAG,GAAG,QAAQ;4BAC9E,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;gCAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gCAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;gCAChC,MAAM,YAAY,CAAC,CAAC,MAAM;4BAC5B;wBACF;oBACF;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAClC;iBACD;YACH;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;gBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;oBAC3B,YAAY,CAAC,CAAC,KAAK,CACjB,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,mBAAmB,YAAY,CAAC,CAAC,MAAM;wBACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC1C;oBAEF,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAClC;iBACD;YACH;YACA,2DAA2D;YAC3D,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;gBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;oBAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;wBAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;wBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACnC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAClC;iBACD;YACH;YACA,gEAAgE;YAChE,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;gBACjC,SAAS,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBAChD,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;wBAEF,QAAQ,YAAY,CAAC,CAAC,MAAM;wBAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;wBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACnC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAClC;iBACD;YACH;YACA,uEAAuE;YACvE,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;gBACjC,SAAS,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBAChD,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAClC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,WAAW,YAAY,CAAC,CAAC,MAAM;wBAC/B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC1C,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC3C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAC9C;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,gBAAgB,YAAY,CAAC,CAAC,OAAO;oBACvC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CACzB;wBAEF,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;wBAC3D,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAC5C;iBACD;YACH;SACD;QAEH,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC3C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC7C,OAAO,YAAY,CAAC,CAAC,WAAW,CAAC;YAC/B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,6BAA6B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3D,yBAAyB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACzD;QACA,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;YAC9B,YAAY,YAAY,CAAC,CAAC,MAAM;YAChC,IAAI,YAAY,CAAC,CAAC,MAAM;YACxB,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;oBAAC,YAAY,CAAC,CAAC,OAAO,CAAC;oBAAc,YAAY,CAAC,CAAC,OAAO,CAAC;iBAAU;gBAC/F,UAAU,YAAY,CAAC,CAAC,MAAM;gBAC9B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B,IACA,OAAO;QACX,GAAG,OAAO;IACZ;AAGJ,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;QACvC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAClC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACrC,OAAO,YAAY,CAAC,CAAC,WAAW,CAAC;oBAC/B,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,6BAA6B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC3D,yBAAyB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACzD;YACF;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,eAAe,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBACtD,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM;gBAChC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO,IAAI,OAAO;gBACtF;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;wBAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,cAAc,YAAY,CAAC,CAAC,MAAM;4BAClC,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;gCAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gCAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;gCACtC,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;oCAAE,SAAS,YAAY,CAAC,CAAC,OAAO;gCAAG,GAAG,QAAQ;gCAC9E,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;oCAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oCAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;oCAChC,MAAM,YAAY,CAAC,CAAC,MAAM;gCAC5B;4BACF;wBACF;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAClC;qBACD;gBACH;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;wBAC3B,YAAY,CAAC,CAAC,KAAK,CACjB,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,OAAO,YAAY,CAAC,CAAC,MAAM;4BAC3B,mBAAmB,YAAY,CAAC,CAAC,MAAM;4BACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBAC1C;wBAEF,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAClC;qBACD;gBACH;gBACA,2DAA2D;gBAC3D,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;wBAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;4BAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;4BAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;wBACnC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAClC;qBACD;gBACH;gBACA,gEAAgE;gBAChE,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,SAAS,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBAChD,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gCACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gCAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;4BAC/B;4BAEF,QAAQ,YAAY,CAAC,CAAC,MAAM;4BAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;4BAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;wBACnC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAClC;qBACD;gBACH;gBACA,uEAAuE;gBACvE,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,SAAS,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBAChD,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;wBAClC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;4BAC7B,WAAW,YAAY,CAAC,CAAC,MAAM;4BAC/B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC1C,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC3C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC9C;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,gBAAgB,YAAY,CAAC,CAAC,OAAO;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CACzB;4BAEF,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;4BAC3D,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC5C;qBACD;gBACH;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,OAAO,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBAC9C,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,cAAc,YAAY,CAAC,CAAC,MAAM;gBACpC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM;gBAChC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,UAAU,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACjD,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;4BAChC,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,OAAO,YAAY,CAAC,CAAC,MAAM;4BAC3B,iBAAiB,YAAY,CAAC,CAAC,MAAM;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;4BAChC,gBAAgB,YAAY,CAAC,CAAC,MAAM;4BACpC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC/C,mBAAmB,YAAY,CAAC,CAAC,MAAM;4BACvC,iBAAiB,YAAY,CAAC,CAAC,MAAM;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;4BAChC,gBAAgB,YAAY,CAAC,CAAC,MAAM;4BACpC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;4BAC/C,kBAAkB,YAAY,CAAC,CAAC,MAAM;4BACtC,gBAAgB,YAAY,CAAC,CAAC,MAAM;wBACtC;qBACD;gBACH;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC3C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC9B,YAAY,YAAY,CAAC,CAAC,MAAM;oBAChC,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;4BACxB,YAAY,CAAC,CAAC,OAAO,CAAC;4BACtB,YAAY,CAAC,CAAC,OAAO,CAAC;yBACvB;wBACD,UAAU,YAAY,CAAC,CAAC,MAAM;wBAC9B,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC/B,IACA,OAAO;gBACX,GAAG,OAAO;YACZ;YACA,OAAO,YAAY,CAAC,CAAC,WAAW,CAAC;gBAC/B,eAAe,YAAY,CAAC,CAAC,MAAM;gBACnC,6BAA6B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC7D;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC9B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC9B;KACD;AAGL,IAAI,mCAAmC,WACrC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC/C;AAGJ,IAAI,mCAAmC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC1D;;;GAGC,GACD,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;QAC9B;;KAEC,GACD,SAAS,YAAY,CAAC,CAAC,OAAO;IAChC,GAAG,QAAQ;IACX;;;GAGC,GACD,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACtC;;;;GAIC,GACD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AAC1C;AACA,IAAI,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;IAClD,eAAe,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAC/C,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;QAC7B,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO,CAAC;YAAY,YAAY,CAAC,CAAC,OAAO,CAAC;SAAY;QAC/F,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC/C,GAAG,QAAQ;IACX;;;GAGC,GACD,wBAAwB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACxD;;;GAGC,GACD,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;QACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC5B,KAAK,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO,CAAC;YAAO,YAAY,CAAC,CAAC,OAAO,CAAC;SAAM,EAAE,QAAQ;IAC/F,GAAG,QAAQ;IACX;;;;GAIC,GACD,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;QAC9B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACnC,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;gBAAC,YAAY,CAAC,CAAC,OAAO,CAAC;gBAAc,YAAY,CAAC,CAAC,OAAO,CAAC;aAAU;YAC/F,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,IACA,QAAQ;IACZ,GAAG,QAAQ;AACb;AACA,IAAI,wBAAwB;AAC5B,SAAS,gBAAgB,gBAAgB;IACvC,IAAI;IACJ,MAAM,aAAa,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,SAAS;IACjF,MAAM,oBAAoB,CAAC,KAAK,cAAc,OAAO,KAAK,IAAI,WAAW,YAAY,KAAK,OAAO,KAAK,cAAc,OAAO,KAAK,IAAI,WAAW,aAAa;IAC5J,OAAO;AACT;AACA,IAAI,wBAAwB;IAC1B,aAAc;QACZ,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,QAAQ,GAAG,EAAE;IACpB;IACA,gBAAgB,gBAAgB,EAAE,OAAO,EAAE;QACzC,MAAM,oBAAoB,gBAAgB;QAC1C,IAAI,CAAC,mBAAmB;YACtB,OAAO,KAAK;QACd;QACA,IAAI,CAAC,QAAQ,QAAQ,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,MAAM;gBACN,SAAS;gBACT,SAAS,CAAC,+BAA+B,EAAE,QAAQ,IAAI,CAAC,qBAAqB,CAAC;YAChF;YACA,OAAO,KAAK;QACd;QACA,IAAI,CAAC,eAAe;QACpB,IAAI,IAAI,CAAC,eAAe,GAAG,uBAAuB;YAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,MAAM;gBACN,SAAS;gBACT,SAAS,CAAC,QAAQ,EAAE,sBAAsB,mCAAmC,EAAE,IAAI,CAAC,eAAe,CAAC,mCAAmC,CAAC;YAC1I;YACA,OAAO,KAAK;QACd;QACA,OAAO;IACT;IACA,cAAc;QACZ,OAAO,IAAI,CAAC,QAAQ;IACtB;AACF;AACA,IAAI,gCAAgC,WAClC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAChD;AAGJ,IAAI,iCAAiC,WACnC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAe;SAAS;QACvE,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;QAClD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ;IACxE;AAGJ,IAAI,UAAU,iCAAiC;IAC7C,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,sBAAsB,CAAC,OAAO,CAAC,CAAC;IAClC,OAAO,QAAQ;AACjB;AACA,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpE,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpE,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;YACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;IACb;AAGJ,IAAI,iCAAiC,WACnC,IAAM,UACJ,YAAY,CAAC,CAAC,KAAK,CACjB,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,KAAK,YAAY,CAAC,CAAC,MAAM;QACzB,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,kBAAkB,YAAY,CAAC,CAAC,MAAM;QACtC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;IAC9B;AAIN,IAAI,gCAAgC,WAClC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,OAAO,YAAY,CAAC,CAAC,MAAM;IAC7B;AAGJ,IAAI,WAAW,iDAAiD;IAC9D,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,qBAAqB,CAAC,OAAO,CAAC,CAAC;IACjC,OAAO,SAAS;AAClB;AACA,IAAI,8BAA8B,WAChC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpE,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpE,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,SAAS,YAAY,CAAC,CAAC,OAAO;QAAG,GAAG,QAAQ;QAC9E,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACnD;AAGJ,IAAI,gCAAgC,WAClC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;QACzB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,SAAS,YAAY,CAAC,CAAC,OAAO;YAAG,GAAG,QAAQ;YAC9E,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC;gBAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,WAAW,YAAY,CAAC,CAAC,OAAO,CAAC;oBACjC,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,WAAW,YAAY,CAAC,CAAC,OAAO,CAAC;oBACjC,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;aACD;QACH;QACA,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC9C;AAGJ,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,KAAK,YAAY,CAAC,CAAC,MAAM;IAC3B;AAGJ,IAAI,WAAW,iDAAiD;IAC9D,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,oBAAoB,CAAC,OAAO,CAAC,CAAC;IAChC,OAAO,SAAS;AAClB;AACA,SAAS,aAAa,EAAE;IACtB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,UAAU,EACV,sBAAsB,EACtB,qBAAqB,EACtB;QACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;QAC/D,MAAM,eAAe,EAAE;QACvB,MAAM,QAAQ,aAAa,GAAG,IAAI;QAClC,MAAM,aAAa,yBAAyB,IAAI;QAChD,IAAI,SAAS,MAAM;YACjB,OAAO;gBAAE,OAAO,KAAK;gBAAG,YAAY,KAAK;gBAAG;gBAAc;YAAM;QAClE;QACA,MAAM,kBAAkB,EAAE;QAC1B,KAAK,MAAM,UAAU,MAAO;YAC1B,OAAQ,OAAO,IAAI;gBACjB,KAAK;oBAAY;wBACf,MAAM,eAAe,WAAW,eAAe,CAAC,OAAO,eAAe,EAAE;4BACtE,MAAM;4BACN,UAAU;wBACZ;wBACA,gBAAgB,IAAI,CAAC;4BACnB,MAAM,OAAO,IAAI;4BACjB,aAAa,OAAO,WAAW;4BAC/B,cAAc,OAAO,WAAW;4BAChC,eAAe;wBACjB;wBACA;oBACF;gBACA,KAAK;oBAAoB;wBACvB,OAAQ,OAAO,EAAE;4BACf,KAAK;gCAAqC;oCACxC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAqC;oCACxC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;oCACR;oCACA;gCACF;4BACA,KAAK;gCAA+B;oCAClC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,kBAAkB,OAAO,IAAI,CAAC,cAAc;wCAC5C,mBAAmB,OAAO,IAAI,CAAC,eAAe;wCAC9C,gBAAgB,OAAO,IAAI,CAAC,aAAa;wCACzC,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAA+B;oCAClC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,kBAAkB,OAAO,IAAI,CAAC,cAAc;wCAC5C,mBAAmB,OAAO,IAAI,CAAC,eAAe;wCAC9C,gBAAgB,OAAO,IAAI,CAAC,aAAa;wCACzC,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAkC;oCACrC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAkC;oCACrC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAkC;oCACrC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAkC;oCACrC,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,gBAAgB,KAAK,aAAa;wCAClC,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAA6B;oCAChC,MAAM,GAAG,CAAC;oCACV,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;oCACR;oCACA;gCACF;4BACA,KAAK;gCAAgC;oCACnC,MAAM,GAAG,CAAC;oCACV,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,UAAU,KAAK,OAAO;wCACtB,iBAAiB,KAAK,cAAc;wCACpC,iBAAiB,KAAK,cAAc;wCACpC,WAAW,KAAK,SAAS;wCACzB,oBAAoB,KAAK,gBAAgB;wCACzC,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA,KAAK;gCAAiC;oCACpC,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,gBAAgB,IAAI,CAAC;wCACnB,MAAM;wCACN,MAAM;wCACN,UAAU,KAAK,OAAO;wCACtB,iBAAiB,KAAK,cAAc;wCACpC,iBAAiB,KAAK,cAAc;wCACpC,eAAe,KAAK,YAAY;wCAChC,eAAe,KAAK;oCACtB;oCACA;gCACF;4BACA;gCAAS;oCACP,aAAa,IAAI,CAAC;wCAAE,MAAM;wCAAoB,MAAM;oCAAO;oCAC3D;gCACF;wBACF;wBACA;oBACF;gBACA;oBAAS;wBACP,aAAa,IAAI,CAAC;4BAAE,MAAM;4BAAoB,MAAM;wBAAO;wBAC3D;oBACF;YACF;QACF;QACA,IAAI,cAAc,MAAM;YACtB,OAAO;gBACL,OAAO;gBACP,YAAY,yBAAyB;oBAAE,MAAM;oBAAQ,2BAA2B;gBAAuB,IAAI,KAAK;gBAChH;gBACA;YACF;QACF;QACA,MAAM,OAAO,WAAW,IAAI;QAC5B,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,OAAO;oBACP,YAAY;wBACV,MAAM;wBACN,2BAA2B;oBAC7B;oBACA;oBACA;gBACF;YACF,KAAK;gBACH,OAAO;oBACL,OAAO;oBACP,YAAY;wBACV,MAAM;wBACN,2BAA2B;oBAC7B;oBACA;oBACA;gBACF;YACF,KAAK;gBACH,OAAO;oBAAE,OAAO,KAAK;oBAAG,YAAY,KAAK;oBAAG;oBAAc;gBAAM;YAClE,KAAK;gBACH,OAAO;oBACL,OAAO;oBACP,YAAY;wBACV,MAAM;wBACN,MAAM,WAAW,QAAQ;wBACzB,2BAA2B;oBAC7B;oBACA;oBACA;gBACF;YACF;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;oBACxD;gBACF;QACF;IACF;AACF;AACA,IAAI,qCAAqC,WACvC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;QAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;QAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;QAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;IACnC;AAGJ,IAAI,oCAAoC,WACtC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,MAAM;IAC5B;AAGJ,IAAI,WAAW,iDAAiD;IAC9D,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,yBAAyB,CAAC,OAAO,CAAC,CAAC;IACrC,OAAO,SAAS;AAClB;AACA,IAAI,qCAAqC,WACvC,IAAM,UACJ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;QACvC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;YAEF,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;QACnC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;QAClC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,YAAY,YAAY,CAAC,CAAC,MAAM;QAClC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,WAAW,YAAY,CAAC,CAAC,MAAM;YAC/B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC3C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,gBAAgB,YAAY,CAAC,CAAC,OAAO;QACvC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;YAC3D,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC5C;KACD;AAGL,IAAI,oCAAoC,WACtC,IAAM,UACJ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;QACvC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B;QACA,YAAY,CAAC,CAAC,kBAAkB,CAAC,WAAW;YAC1C,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC5B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3C;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;SACD;KACF;AAGL,IAAI,WAAW,iDAAiD;IAC9D,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,yBAAyB,CAAC,OAAO,CAAC,CAAC;IACrC,OAAO,SAAS;AAClB;AACA,SAAS,gBAAgB,IAAI;IAC3B,IAAI,OAAO,SAAS,UAAU;QAC5B,OAAO,OAAO,IAAI,CAAC,MAAM,UAAU,QAAQ,CAAC;IAC9C;IACA,IAAI,gBAAgB,YAAY;QAC9B,OAAO,IAAI,cAAc,MAAM,CAAC;IAClC;IACA,IAAI,gBAAgB,KAAK;QACvB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;YACxD,eAAe;QACjB;IACF;IACA,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;QACxD,eAAe,CAAC,0CAA0C,EAAE,OAAO,MAAM;IAC3E;AACF;AACA,SAAS,iCAAiC,EAAE;IAC1C,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,aAAa,EACb,QAAQ,EACR,qBAAqB,EACtB;QACC,IAAI,IAAI,IAAI,IAAI,IAAI;QACpB,MAAM,QAAQ,aAAa,GAAG,IAAI;QAClC,MAAM,SAAS,gBAAgB;QAC/B,MAAM,aAAa,yBAAyB,IAAI;QAChD,IAAI,SAAS,KAAK;QAClB,MAAM,WAAW,EAAE;QACnB,SAAS,sBAAsB,gBAAgB;YAC7C,OAAO,QAAQ,IAAI,EAAE,MAAM;gBACzB,IAAI,KAAK;gBACT,MAAM,mBAAmB,MAAM,qBAAqB;oBAClD,UAAU;oBACV,iBAAiB;oBACjB,QAAQ;gBACV;gBACA,OAAO,CAAC,MAAM,CAAC,MAAM,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,SAAS,KAAK,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,OAAO,MAAM;YACvI;QACF;QACA,SAAS,oBAAoB,gBAAgB;YAC3C,OAAO,QAAQ,IAAI,EAAE,MAAM;gBACzB,MAAM,mBAAmB,MAAM,qBAAqB;oBAClD,UAAU;oBACV,iBAAiB;oBACjB,QAAQ;gBACV;gBACA,OAAO;oBACL,OAAO,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,KAAK;oBACjE,SAAS,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,OAAO;gBACvE;YACF;QACF;QACA,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;YACtC,MAAM,QAAQ,MAAM,CAAC,EAAE;YACvB,MAAM,cAAc,MAAM,OAAO,MAAM,GAAG;YAC1C,MAAM,OAAO,MAAM,IAAI;YACvB,OAAQ;gBACN,KAAK;oBAAU;wBACb,IAAI,UAAU,MAAM;4BAClB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gCACxD,eAAe;4BACjB;wBACF;wBACA,SAAS,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,GAAK,CAAC;gCAC7D,MAAM;gCACN,MAAM;gCACN,eAAe,WAAW,eAAe,CAAC,iBAAiB;oCACzD,MAAM;oCACN,UAAU;gCACZ;4BACF,CAAC;wBACD;oBACF;gBACA,KAAK;oBAAQ;wBACX,MAAM,mBAAmB,EAAE;wBAC3B,KAAK,MAAM,WAAW,MAAM,QAAQ,CAAE;4BACpC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG;4BAC1B,OAAQ;gCACN,KAAK;oCAAQ;wCACX,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;4CACvC,MAAM,OAAO,OAAO,CAAC,EAAE;4CACvB,MAAM,aAAa,MAAM,QAAQ,MAAM,GAAG;4CAC1C,MAAM,eAAe,CAAC,KAAK,WAAW,eAAe,CAAC,KAAK,eAAe,EAAE;gDAC1E,MAAM;gDACN,UAAU;4CACZ,EAAE,KAAK,OAAO,KAAK,aAAa,WAAW,eAAe,CAAC,QAAQ,eAAe,EAAE;gDAClF,MAAM;gDACN,UAAU;4CACZ,KAAK,KAAK;4CACV,OAAQ,KAAK,IAAI;gDACf,KAAK;oDAAQ;wDACX,iBAAiB,IAAI,CAAC;4DACpB,MAAM;4DACN,MAAM,KAAK,IAAI;4DACf,eAAe;wDACjB;wDACA;oDACF;gDACA,KAAK;oDAAQ;wDACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4DACvC,iBAAiB,IAAI,CAAC;gEACpB,MAAM;gEACN,QAAQ,KAAK,IAAI,YAAY,MAAM;oEACjC,MAAM;oEACN,KAAK,KAAK,IAAI,CAAC,QAAQ;gEACzB,IAAI;oEACF,MAAM;oEACN,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;oEACxE,MAAM,gBAAgB,KAAK,IAAI;gEACjC;gEACA,eAAe;4DACjB;wDACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;4DAC/C,MAAM,GAAG,CAAC;4DACV,MAAM,kBAAkB,MAAM,sBAC5B,KAAK,eAAe;4DAEtB,MAAM,WAAW,MAAM,oBACrB,KAAK,eAAe;4DAEtB,iBAAiB,IAAI,CAAC,cAAc,eAAe,eAAe;gEAChE,MAAM;gEACN,QAAQ,KAAK,IAAI,YAAY,MAAM;oEACjC,MAAM;oEACN,KAAK,KAAK,IAAI,CAAC,QAAQ;gEACzB,IAAI;oEACF,MAAM;oEACN,YAAY;oEACZ,MAAM,gBAAgB,KAAK,IAAI;gEACjC;gEACA,OAAO,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,KAAK,QAAQ;4DAC3D,GAAG,SAAS,OAAO,IAAI;gEAAE,SAAS,SAAS,OAAO;4DAAC,IAAI,mBAAmB;gEACxE,WAAW;oEAAE,SAAS;gEAAK;4DAC7B,IAAI;gEACF,eAAe;4DACjB;wDACF,OAAO,IAAI,KAAK,SAAS,KAAK,cAAc;4DAC1C,MAAM,kBAAkB,MAAM,sBAC5B,KAAK,eAAe;4DAEtB,MAAM,WAAW,MAAM,oBACrB,KAAK,eAAe;4DAEtB,iBAAiB,IAAI,CAAC,cAAc,eAAe,eAAe;gEAChE,MAAM;gEACN,QAAQ,KAAK,IAAI,YAAY,MAAM;oEACjC,MAAM;oEACN,KAAK,KAAK,IAAI,CAAC,QAAQ;gEACzB,IAAI;oEACF,MAAM;oEACN,YAAY;oEACZ,MAAM,gBAAgB,KAAK,IAAI;gEACjC;gEACA,OAAO,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,KAAK,QAAQ;4DAC3D,GAAG,SAAS,OAAO,IAAI;gEAAE,SAAS,SAAS,OAAO;4DAAC,IAAI,mBAAmB;gEACxE,WAAW;oEAAE,SAAS;gEAAK;4DAC7B,IAAI;gEACF,eAAe;4DACjB;wDACF,OAAO;4DACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gEACxD,eAAe,CAAC,YAAY,EAAE,KAAK,SAAS,EAAE;4DAChD;wDACF;wDACA;oDACF;4CACF;wCACF;wCACA;oCACF;gCACA,KAAK;oCAAQ;wCACX,IAAK,IAAI,KAAK,GAAG,KAAK,QAAQ,MAAM,EAAE,KAAM;4CAC1C,MAAM,OAAO,OAAO,CAAC,GAAG;4CACxB,MAAM,aAAa,OAAO,QAAQ,MAAM,GAAG;4CAC3C,MAAM,eAAe,CAAC,KAAK,WAAW,eAAe,CAAC,KAAK,eAAe,EAAE;gDAC1E,MAAM;gDACN,UAAU;4CACZ,EAAE,KAAK,OAAO,KAAK,aAAa,WAAW,eAAe,CAAC,QAAQ,eAAe,EAAE;gDAClF,MAAM;gDACN,UAAU;4CACZ,KAAK,KAAK;4CACV,MAAM,SAAS,KAAK,MAAM;4CAC1B,IAAI;4CACJ,OAAQ,OAAO,IAAI;gDACjB,KAAK;oDACH,eAAe,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;wDAC/B,OAAQ,YAAY,IAAI;4DACtB,KAAK;gEACH,OAAO;oEACL,MAAM;oEACN,MAAM,YAAY,IAAI;gEACxB;4DACF,KAAK;gEAAS;oEACZ,IAAI,YAAY,SAAS,CAAC,UAAU,CAAC,WAAW;wEAC9C,OAAO;4EACL,MAAM;4EACN,QAAQ;gFACN,MAAM;gFACN,YAAY,YAAY,SAAS;gFACjC,MAAM,YAAY,IAAI;4EACxB;wEACF;oEACF;oEACA,IAAI,YAAY,SAAS,KAAK,mBAAmB;wEAC/C,MAAM,GAAG,CAAC;wEACV,OAAO;4EACL,MAAM;4EACN,QAAQ;gFACN,MAAM;gFACN,YAAY,YAAY,SAAS;gFACjC,MAAM,YAAY,IAAI;4EACxB;wEACF;oEACF;oEACA,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wEACxD,eAAe,CAAC,YAAY,EAAE,YAAY,SAAS,EAAE;oEACvD;gEACF;wDACF;oDACF;oDACA;gDACF,KAAK;gDACL,KAAK;oDACH,eAAe,OAAO,KAAK;oDAC3B;gDACF,KAAK;gDACL,KAAK;gDACL;oDACE,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;oDAC1C;4CACJ;4CACA,iBAAiB,IAAI,CAAC;gDACpB,MAAM;gDACN,aAAa,KAAK,UAAU;gDAC5B,SAAS;gDACT,UAAU,OAAO,IAAI,KAAK,gBAAgB,OAAO,IAAI,KAAK,eAAe,OAAO,KAAK;gDACrF,eAAe;4CACjB;wCACF;wCACA;oCACF;gCACA;oCAAS;wCACP,MAAM,mBAAmB;wCACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;oCACzD;4BACF;wBACF;wBACA,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS;wBAAiB;wBACxD;oBACF;gBACA,KAAK;oBAAa;wBAChB,MAAM,mBAAmB,EAAE;wBAC3B,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,CAAC,MAAM,EAAE,IAAK;4BAC9C,MAAM,UAAU,MAAM,QAAQ,CAAC,EAAE;4BACjC,MAAM,gBAAgB,MAAM,MAAM,QAAQ,CAAC,MAAM,GAAG;4BACpD,MAAM,EAAE,OAAO,EAAE,GAAG;4BACpB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;gCACvC,MAAM,OAAO,OAAO,CAAC,EAAE;gCACvB,MAAM,oBAAoB,MAAM,QAAQ,MAAM,GAAG;gCACjD,MAAM,eAAe,CAAC,KAAK,WAAW,eAAe,CAAC,KAAK,eAAe,EAAE;oCAC1E,MAAM;oCACN,UAAU;gCACZ,EAAE,KAAK,OAAO,KAAK,oBAAoB,WAAW,eAAe,CAAC,QAAQ,eAAe,EAAE;oCACzF,MAAM;oCACN,UAAU;gCACZ,KAAK,KAAK;gCACV,OAAQ,KAAK,IAAI;oCACf,KAAK;wCAAQ;4CACX,iBAAiB,IAAI,CAAC;gDACpB,MAAM;gDACN,MACE,gEAAgE;gDAChE,uDAAuD;gDACvD,oCAAoC;gDACpC,eAAe,iBAAiB,oBAAoB,KAAK,IAAI,CAAC,IAAI,KAAK,KAAK,IAAI;gDAElF,eAAe;4CACjB;4CACA;wCACF;oCACA,KAAK;wCAAa;4CAChB,IAAI,eAAe;gDACjB,MAAM,oBAAoB,MAAM,qBAAqB;oDACnD,UAAU;oDACV,iBAAiB,KAAK,eAAe;oDACrC,QAAQ;gDACV;gDACA,IAAI,qBAAqB,MAAM;oDAC7B,IAAI,kBAAkB,SAAS,IAAI,MAAM;wDACvC,WAAW,eAAe,CAAC,KAAK,eAAe,EAAE;4DAC/C,MAAM;4DACN,UAAU;wDACZ;wDACA,iBAAiB,IAAI,CAAC;4DACpB,MAAM;4DACN,UAAU,KAAK,IAAI;4DACnB,WAAW,kBAAkB,SAAS;wDACxC;oDACF,OAAO,IAAI,kBAAkB,YAAY,IAAI,MAAM;wDACjD,WAAW,eAAe,CAAC,KAAK,eAAe,EAAE;4DAC/C,MAAM;4DACN,UAAU;wDACZ;wDACA,iBAAiB,IAAI,CAAC;4DACpB,MAAM;4DACN,MAAM,kBAAkB,YAAY;wDACtC;oDACF,OAAO;wDACL,SAAS,IAAI,CAAC;4DACZ,MAAM;4DACN,SAAS;wDACX;oDACF;gDACF,OAAO;oDACL,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS;oDACX;gDACF;4CACF,OAAO;gDACL,SAAS,IAAI,CAAC;oDACZ,MAAM;oDACN,SAAS;gDACX;4CACF;4CACA;wCACF;oCACA,KAAK;wCAAa;4CAChB,IAAI,KAAK,gBAAgB,EAAE;gDACzB,IAAI,KAAK,QAAQ,KAAK,oBAAoB,KAAK,KAAK,IAAI,QAAQ,OAAO,KAAK,KAAK,KAAK,YAAY,UAAU,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,CAAC,IAAI,KAAK,YAAY,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,yBAAyB,KAAK,KAAK,CAAC,IAAI,KAAK,4BAA4B,GAAG;oDAChQ,iBAAiB,IAAI,CAAC;wDACpB,MAAM;wDACN,IAAI,KAAK,UAAU;wDACnB,MAAM,KAAK,KAAK,CAAC,IAAI;wDACrB,2BAA2B;wDAC3B,OAAO,KAAK,KAAK;wDACjB,eAAe;oDACjB;gDACF,OAAO,IAAI,KAAK,QAAQ,KAAK,oBAAoB,0BAA0B;gDAC3E,KAAK,QAAQ,KAAK,eAAe,KAAK,QAAQ,KAAK,cAAc;oDAC/D,iBAAiB,IAAI,CAAC;wDACpB,MAAM;wDACN,IAAI,KAAK,UAAU;wDACnB,MAAM,KAAK,QAAQ;wDACnB,OAAO,KAAK,KAAK;wDACjB,eAAe;oDACjB;gDACF,OAAO;oDACL,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,qCAAqC,EAAE,KAAK,QAAQ,CAAC,iBAAiB,CAAC;oDACnF;gDACF;gDACA;4CACF;4CACA,iBAAiB,IAAI,CAAC;gDACpB,MAAM;gDACN,IAAI,KAAK,UAAU;gDACnB,MAAM,KAAK,QAAQ;gDACnB,OAAO,KAAK,KAAK;gDACjB,eAAe;4CACjB;4CACA;wCACF;oCACA,KAAK;wCAAe;4CAClB,IAAI,KAAK,QAAQ,KAAK,kBAAkB;gDACtC,MAAM,SAAS,KAAK,MAAM;gDAC1B,IAAI,OAAO,IAAI,KAAK,QAAQ;oDAC1B,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,0CAA0C,EAAE,OAAO,IAAI,CAAC,UAAU,EAAE,KAAK,QAAQ,CAAC,iBAAiB,CAAC;oDAChH;oDACA;gDACF;gDACA,IAAI,OAAO,KAAK,IAAI,QAAQ,OAAO,OAAO,KAAK,KAAK,YAAY,CAAC,CAAC,UAAU,OAAO,KAAK,KAAK,OAAO,OAAO,KAAK,CAAC,IAAI,KAAK,UAAU;oDAClI,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,yFAAyF,EAAE,KAAK,QAAQ,EAAE;oDACtH;oDACA;gDACF;gDACA,IAAI,OAAO,KAAK,CAAC,IAAI,KAAK,yBAAyB;oDACjD,MAAM,sBAAsB,MAAM,cAAc;wDAC9C,OAAO,OAAO,KAAK;wDACnB,QAAQ;oDACV;oDACA,iBAAiB,IAAI,CAAC;wDACpB,MAAM;wDACN,aAAa,KAAK,UAAU;wDAC5B,SAAS;4DACP,MAAM,oBAAoB,IAAI;4DAC9B,QAAQ,oBAAoB,MAAM;4DAClC,QAAQ,oBAAoB,MAAM;4DAClC,aAAa,oBAAoB,WAAW;wDAC9C;wDACA,eAAe;oDACjB;gDACF,OAAO;oDACL,MAAM,sBAAsB,MAAM,cAAc;wDAC9C,OAAO,OAAO,KAAK;wDACnB,QAAQ;oDACV;oDACA,iBAAiB,IAAI,CACnB,oBAAoB,IAAI,KAAK,gCAAgC,oBAAoB,IAAI,KAAK,0CAA0C;wDAClI,MAAM;wDACN,aAAa,KAAK,UAAU;wDAC5B,eAAe;wDACf,SAAS;oDACX,IAAI;wDACF,MAAM;wDACN,aAAa,KAAK,UAAU;wDAC5B,eAAe;wDACf,SAAS;oDACX;gDAEJ;gDACA;4CACF;4CACA,IAAI,KAAK,QAAQ,KAAK,aAAa;gDACjC,MAAM,SAAS,KAAK,MAAM;gDAC1B,IAAI,OAAO,IAAI,KAAK,QAAQ;oDAC1B,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,0CAA0C,EAAE,OAAO,IAAI,CAAC,UAAU,EAAE,KAAK,QAAQ,CAAC,iBAAiB,CAAC;oDAChH;oDACA;gDACF;gDACA,MAAM,iBAAiB,MAAM,cAAc;oDACzC,OAAO,OAAO,KAAK;oDACnB,QAAQ;gDACV;gDACA,iBAAiB,IAAI,CAAC;oDACpB,MAAM;oDACN,aAAa,KAAK,UAAU;oDAC5B,SAAS;wDACP,MAAM;wDACN,KAAK,eAAe,GAAG;wDACvB,cAAc,eAAe,WAAW;wDACxC,SAAS;4DACP,MAAM;4DACN,OAAO,eAAe,OAAO,CAAC,KAAK;4DACnC,WAAW,eAAe,OAAO,CAAC,SAAS;4DAC3C,QAAQ;gEACN,MAAM,eAAe,OAAO,CAAC,MAAM,CAAC,IAAI;gEACxC,YAAY,eAAe,OAAO,CAAC,MAAM,CAAC,SAAS;gEACnD,MAAM,eAAe,OAAO,CAAC,MAAM,CAAC,IAAI;4DAC1C;wDACF;oDACF;oDACA,eAAe;gDACjB;gDACA;4CACF;4CACA,IAAI,KAAK,QAAQ,KAAK,cAAc;gDAClC,MAAM,SAAS,KAAK,MAAM;gDAC1B,IAAI,OAAO,IAAI,KAAK,QAAQ;oDAC1B,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,0CAA0C,EAAE,OAAO,IAAI,CAAC,UAAU,EAAE,KAAK,QAAQ,CAAC,iBAAiB,CAAC;oDAChH;oDACA;gDACF;gDACA,MAAM,kBAAkB,MAAM,cAAc;oDAC1C,OAAO,OAAO,KAAK;oDACnB,QAAQ;gDACV;gDACA,iBAAiB,IAAI,CAAC;oDACpB,MAAM;oDACN,aAAa,KAAK,UAAU;oDAC5B,SAAS,gBAAgB,GAAG,CAAC,CAAC,SAAW,CAAC;4DACxC,KAAK,OAAO,GAAG;4DACf,OAAO,OAAO,KAAK;4DACnB,UAAU,OAAO,OAAO;4DACxB,mBAAmB,OAAO,gBAAgB;4DAC1C,MAAM,OAAO,IAAI;wDACnB,CAAC;oDACD,eAAe;gDACjB;gDACA;4CACF;4CACA,SAAS,IAAI,CAAC;gDACZ,MAAM;gDACN,SAAS,CAAC,uCAAuC,EAAE,KAAK,QAAQ,CAAC,iBAAiB,CAAC;4CACrF;4CACA;wCACF;gCACF;4BACF;wBACF;wBACA,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAa,SAAS;wBAAiB;wBAC7D;oBACF;gBACA;oBAAS;wBACP,MAAM,mBAAmB;wBACzB,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,kBAAkB;oBACrD;YACF;QACF;QACA,OAAO;YACL,QAAQ;gBAAE;gBAAQ;YAAS;YAC3B;QACF;IACF;AACF;AACA,SAAS,gBAAgB,MAAM;IAC7B,MAAM,SAAS,EAAE;IACjB,IAAI,eAAe,KAAK;IACxB,KAAK,MAAM,WAAW,OAAQ;QAC5B,MAAM,EAAE,IAAI,EAAE,GAAG;QACjB,OAAQ;YACN,KAAK;gBAAU;oBACb,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,UAAU;wBACpE,eAAe;4BAAE,MAAM;4BAAU,UAAU,EAAE;wBAAC;wBAC9C,OAAO,IAAI,CAAC;oBACd;oBACA,aAAa,QAAQ,CAAC,IAAI,CAAC;oBAC3B;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,aAAa;wBACvE,eAAe;4BAAE,MAAM;4BAAa,UAAU,EAAE;wBAAC;wBACjD,OAAO,IAAI,CAAC;oBACd;oBACA,aAAa,QAAQ,CAAC,IAAI,CAAC;oBAC3B;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,QAAQ;wBAClE,eAAe;4BAAE,MAAM;4BAAQ,UAAU,EAAE;wBAAC;wBAC5C,OAAO,IAAI,CAAC;oBACd;oBACA,aAAa,QAAQ,CAAC,IAAI,CAAC;oBAC3B;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,QAAQ;wBAClE,eAAe;4BAAE,MAAM;4BAAQ,UAAU,EAAE;wBAAC;wBAC5C,OAAO,IAAI,CAAC;oBACd;oBACA,aAAa,QAAQ,CAAC,IAAI,CAAC;oBAC3B;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,uBAAuB,EAC9B,YAAY,EACZ,sBAAsB,EACvB;IACC,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO,yBAAyB,SAAS;QAC3C,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,SAAS,qBAAqB,QAAQ,EAAE,iBAAiB,EAAE,WAAW;IACpE,IAAI;IACJ,IAAI,SAAS,IAAI,KAAK,mBAAmB,SAAS,IAAI,KAAK,iBAAiB;QAC1E;IACF;IACA,MAAM,eAAe,iBAAiB,CAAC,SAAS,cAAc,CAAC;IAC/D,IAAI,CAAC,cAAc;QACjB;IACF;IACA,OAAO;QACL,MAAM;QACN,YAAY;QACZ,IAAI;QACJ,WAAW,aAAa,SAAS;QACjC,OAAO,CAAC,KAAK,SAAS,cAAc,KAAK,OAAO,KAAK,aAAa,KAAK;QACvE,UAAU,aAAa,QAAQ;QAC/B,kBAAkB;YAChB,WAAW,SAAS,IAAI,KAAK,kBAAkB;gBAC7C,WAAW,SAAS,UAAU;gBAC9B,iBAAiB,SAAS,iBAAiB;gBAC3C,eAAe,SAAS,eAAe;YACzC,IAAI;gBACF,WAAW,SAAS,UAAU;gBAC9B,gBAAgB,SAAS,gBAAgB;gBACzC,cAAc,SAAS,cAAc;YACvC;QACF;IACF;AACF;AACA,IAAI,iCAAiC;IACnC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI;QACJ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,OAAO,UAAU,KAAK,OAAO,KAAK;IAC5D;IACA,YAAY,GAAG,EAAE;QACf,OAAO,IAAI,QAAQ,KAAK;IAC1B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,gBAAgB;QAClB,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,CAAC;IACvG;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,KAAK,EACL,UAAU,EACV,eAAe,EAChB;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,IAAI,oBAAoB,MAAM;gBAC5B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,mBAAmB,MAAM;gBAC3B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,QAAQ;gBACtE,IAAI,eAAe,MAAM,IAAI,MAAM;oBACjC,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF,OAAO,IAAI,SAAS,MAAM;oBACxB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF;YACA,MAAM,mBAAmB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,OAAO;gBAC7H,MAAM;gBACN,MAAM;gBACN,aAAa;gBACb,aAAa,eAAe,MAAM;YACpC,IAAI,KAAK;YACT,MAAM,mBAAmB,MAAM,qBAAqB;gBAClD,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,wBAAwB,IAAI;YAClC,MAAM,EAAE,QAAQ,cAAc,EAAE,KAAK,EAAE,GAAG,MAAM,iCAAiC;gBAC/E;gBACA,eAAe,CAAC,KAAK,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,aAAa,KAAK,OAAO,KAAK;gBACxG;gBACA;YACF;YACA,MAAM,aAAa,CAAC,CAAC,KAAK,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,MAAM;YACzH,MAAM,iBAAiB,CAAC,KAAK,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY;YAC9H,MAAM,0BAA0B,2BAA2B,IAAI,CAAC,OAAO;YACvE,MAAM,YAAY,mBAAmB,OAAO,kBAAkB;YAC9D,MAAM,WAAW,cAAc,eAAe,eAAe;gBAC3D,YAAY;gBACZ,OAAO,IAAI,CAAC,OAAO;gBACnB,yBAAyB;gBACzB,YAAY;gBACZ;gBACA,OAAO;gBACP,OAAO;gBACP,gBAAgB;YAClB,GAAG,cAAc;gBACf,UAAU;oBAAE,MAAM;oBAAW,eAAe;gBAAe;YAC7D,IAAI,CAAC,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,SAAS,KAAK;gBACtE,WAAW;oBACT,IAAI,iBAAiB,SAAS,CAAC,EAAE;oBACjC,QAAQ,CAAC,KAAK,iBAAiB,SAAS,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,QAAU,CAAC;4BACrF,MAAM,MAAM,IAAI;4BAChB,UAAU,MAAM,OAAO;4BACvB,SAAS,MAAM,OAAO;wBACxB,CAAC;gBACH;YACF,IAAI;gBACF,UAAU;gBACV,QAAQ,eAAe,MAAM;gBAC7B,UAAU,eAAe,QAAQ;YACnC;YACA,IAAI,YAAY;gBACd,IAAI,kBAAkB,MAAM;oBAC1B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;gBACA,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,QAAQ,MAAM;oBAChB,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,QAAQ,MAAM;oBAChB,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,SAAS,UAAU,GAAG,YAAY;YACpC;YACA,IAAI,SAAS,UAAU,GAAG,yBAAyB;gBACjD,IAAI,mBAAmB,MAAM;oBAC3B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS,GAAG,SAAS,UAAU,CAAC,oDAAoD,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,wBAAwB,+DAA+D,EAAE,wBAAwB,CAAC,CAAC;oBAC3N;gBACF;gBACA,SAAS,UAAU,GAAG;YACxB;YACA,IAAI,CAAC,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,SAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM,IAAI,iBAAiB,SAAS,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG;gBACzJ,MAAM,GAAG,CAAC;gBACV,MAAM,GAAG,CAAC;gBACV,MAAM,GAAG,CAAC;gBACV,IAAI,CAAC,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI,CACvC,CAAC,SAAW,OAAO,IAAI,KAAK,sBAAsB,OAAO,EAAE,KAAK,oCACjE,GAAG;oBACF,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;YACF;YACA,MAAM,EACJ,OAAO,eAAe,EACtB,YAAY,mBAAmB,EAC/B,YAAY,EACZ,OAAO,UAAU,EAClB,GAAG,MAAM,aACR,oBAAoB,OAAO;gBACzB,OAAO;oBAAC;iBAAiB;gBACzB,YAAY;oBAAE,MAAM;oBAAQ,UAAU,iBAAiB,IAAI;gBAAC;gBAC5D,wBAAwB;gBACxB;YACF,IAAI;gBACF,OAAO,SAAS,OAAO,QAAQ,EAAE;gBACjC;gBACA,wBAAwB,oBAAoB,OAAO,KAAK,IAAI,iBAAiB,sBAAsB;gBACnG;YACF;YAEF,MAAM,gBAAgB,sBAAsB,WAAW;YACvD,OAAO;gBACL,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;uBAAiB;iBAAc;gBAC1D,OAAO,aAAa,GAAG,IAAI,IAAI;uBAAI;uBAAU;iBAAW;gBACxD,sBAAsB,oBAAoB;YAC5C;QACF;IACF;IACA,WAAW,EAAE,EAAE;QACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,OAAO,EACR;YACC,OAAO,eACL,CAAA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,GACjC,MAAM,IAAI,GAAG,IAAI;gBAAE,kBAAkB,MAAM,IAAI,CAAC,OAAO,IAAI,CAAC;YAAK,IAAI,CAAC,GACtE;QAEJ;IACF;IACA,gBAAgB,WAAW,EAAE;QAC3B,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,YAAY,KAAK,OAAO,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC;IAC3K;IACA,qBAAqB,IAAI,EAAE;QACzB,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,oBAAoB,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,KAAK,OAAO,KAAK;IACnH;IACA,yBAAyB,MAAM,EAAE;QAC/B,MAAM,iBAAiB,CAAC;YACtB,IAAI,IAAI;YACR,IAAI,KAAK,IAAI,KAAK,QAAQ;gBACxB,OAAO;YACT;YACA,IAAI,KAAK,SAAS,KAAK,qBAAqB,KAAK,SAAS,KAAK,cAAc;gBAC3E,OAAO;YACT;YACA,MAAM,aAAa,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS;YAC9E,MAAM,kBAAkB,cAAc,OAAO,KAAK,IAAI,WAAW,SAAS;YAC1E,OAAO,CAAC,KAAK,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,OAAO,KAAK,OAAO,KAAK;QAC1F;QACA,OAAO,OAAO,MAAM,CAAC,CAAC,UAAY,QAAQ,IAAI,KAAK,QAAQ,OAAO,CAAC,CAAC,UAAY,QAAQ,OAAO,EAAE,MAAM,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAC3H,IAAI;YACJ,MAAM,WAAW;YACjB,OAAO;gBACL,OAAO,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK;gBAC/C,UAAU,SAAS,QAAQ;gBAC3B,WAAW,SAAS,SAAS;YAC/B;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAChC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,oBAAoB,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC3E,MAAM,oBAAoB,IAAI,CAAC,wBAAwB,CAAC,QAAQ,MAAM;YACtE,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,eAAe,CAAC;gBAC1B,SAAS,MAAM,IAAI,CAAC,UAAU,CAAC;oBAAE;oBAAO,SAAS,QAAQ,OAAO;gBAAC;gBACjE,MAAM,IAAI,CAAC,oBAAoB,CAAC;gBAChC,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,UAAU,EAAE;YAClB,KAAK,MAAM,QAAQ,SAAS,OAAO,CAAE;gBACnC,OAAQ,KAAK,IAAI;oBACf,KAAK;wBAAQ;4BACX,IAAI,CAAC,sBAAsB;gCACzB,QAAQ,IAAI,CAAC;oCAAE,MAAM;oCAAQ,MAAM,KAAK,IAAI;gCAAC;gCAC7C,IAAI,KAAK,SAAS,EAAE;oCAClB,KAAK,MAAM,YAAY,KAAK,SAAS,CAAE;wCACrC,MAAM,SAAS,qBACb,UACA,mBACA,IAAI,CAAC,UAAU;wCAEjB,IAAI,QAAQ;4CACV,QAAQ,IAAI,CAAC;wCACf;oCACF;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAY;4BACf,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,MAAM,KAAK,QAAQ;gCACnB,kBAAkB;oCAChB,WAAW;wCACT,WAAW,KAAK,SAAS;oCAC3B;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAqB;4BACxB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,MAAM;gCACN,kBAAkB;oCAChB,WAAW;wCACT,cAAc,KAAK,IAAI;oCACzB;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAY;4BACf,QAAQ,IAAI,CACV,qEAAqE;4BACrE,uBAAuB;gCACrB,MAAM;gCACN,MAAM,KAAK,SAAS,CAAC,KAAK,KAAK;4BACjC,IAAI;gCACF,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU,KAAK,IAAI;gCACnB,OAAO,KAAK,SAAS,CAAC,KAAK,KAAK;4BAClC;4BAEF;wBACF;oBACA,KAAK;wBAAmB;4BACtB,IAAI,KAAK,IAAI,KAAK,gCAAgC,KAAK,IAAI,KAAK,uBAAuB;gCACrF,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,EAAE;oCACnB,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC,eAAe;wCAAE,MAAM,KAAK,IAAI;oCAAC,GAAG,KAAK,KAAK;oCACpE,kBAAkB;gCACpB;4BACF,OAAO,IAAI,KAAK,IAAI,KAAK,gBAAgB,KAAK,IAAI,KAAK,oBAAoB,KAAK,IAAI,KAAK,aAAa;gCACpG,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,EAAE;oCACnB,UAAU,KAAK,IAAI;oCACnB,OAAO,KAAK,SAAS,CAAC,KAAK,KAAK;oCAChC,kBAAkB;gCACpB;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAyB;4BAC5B,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,oBAAoB;gCAC5C,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,QAAQ;wCACN,MAAM;wCACN,KAAK,KAAK,OAAO,CAAC,GAAG;wCACrB,aAAa,KAAK,OAAO,CAAC,YAAY;wCACtC,SAAS;4CACP,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,IAAI;4CAC/B,OAAO,KAAK,OAAO,CAAC,OAAO,CAAC,KAAK;4CACjC,WAAW,KAAK,OAAO,CAAC,OAAO,CAAC,SAAS;4CACzC,QAAQ;gDACN,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI;gDACtC,WAAW,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU;gDACjD,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI;4CACxC;wCACF;oCACF;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,+BAA+B;gCAC9D,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,SAAS;oCACT,QAAQ;wCACN,MAAM;wCACN,WAAW,KAAK,OAAO,CAAC,UAAU;oCACpC;oCACA,kBAAkB;gCACpB;4BACF;4BACA;wBACF;oBACA,KAAK;wBAA0B;4BAC7B,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;gCAC/B,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,QAAQ,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC;wCACxB,IAAI;wCACJ,OAAO;4CACL,KAAK,OAAO,GAAG;4CACf,OAAO,OAAO,KAAK;4CACnB,SAAS,CAAC,MAAM,OAAO,QAAQ,KAAK,OAAO,MAAM;4CACjD,kBAAkB,OAAO,iBAAiB;4CAC1C,MAAM,OAAO,IAAI;wCACnB;oCACF;oCACA,kBAAkB;gCACpB;gCACA,KAAK,MAAM,UAAU,KAAK,OAAO,CAAE;oCACjC,QAAQ,IAAI,CAAC;wCACX,MAAM;wCACN,YAAY;wCACZ,IAAI,IAAI,CAAC,UAAU;wCACnB,KAAK,OAAO,GAAG;wCACf,OAAO,OAAO,KAAK;wCACnB,kBAAkB;4CAChB,WAAW;gDACT,SAAS,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK;4CACjD;wCACF;oCACF;gCACF;4BACF,OAAO;gCACL,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,SAAS;oCACT,QAAQ;wCACN,MAAM;wCACN,WAAW,KAAK,OAAO,CAAC,UAAU;oCACpC;oCACA,kBAAkB;gCACpB;4BACF;4BACA;wBACF;oBACA,2BAA2B;oBAC3B,KAAK;wBAA8B;4BACjC,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,yBAAyB;gCACjD,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,QAAQ;wCACN,MAAM,KAAK,OAAO,CAAC,IAAI;wCACvB,QAAQ,KAAK,OAAO,CAAC,MAAM;wCAC3B,QAAQ,KAAK,OAAO,CAAC,MAAM;wCAC3B,aAAa,KAAK,OAAO,CAAC,WAAW;oCACvC;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,oCAAoC;gCACnE,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,YAAY,KAAK,WAAW;oCAC5B,UAAU;oCACV,SAAS;oCACT,QAAQ;wCACN,MAAM;wCACN,WAAW,KAAK,OAAO,CAAC,UAAU;oCACpC;oCACA,kBAAkB;gCACpB;4BACF;4BACA;wBACF;oBACA,2BAA2B;oBAC3B,KAAK;oBACL,KAAK;wBAA0C;4BAC7C,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,WAAW;gCAC5B,UAAU;gCACV,QAAQ,KAAK,OAAO;gCACpB,kBAAkB;4BACpB;4BACA;wBACF;gBACF;YACF;YACA,OAAO;gBACL;gBACA,cAAc,uBAAuB;oBACnC,cAAc,SAAS,WAAW;oBAClC,wBAAwB;gBAC1B;gBACA,OAAO;oBACL,aAAa,SAAS,KAAK,CAAC,YAAY;oBACxC,cAAc,SAAS,KAAK,CAAC,aAAa;oBAC1C,aAAa,SAAS,KAAK,CAAC,YAAY,GAAG,SAAS,KAAK,CAAC,aAAa;oBACvE,mBAAmB,CAAC,KAAK,SAAS,KAAK,CAAC,uBAAuB,KAAK,OAAO,KAAK,KAAK;gBACvF;gBACA,SAAS;oBAAE,MAAM;gBAAK;gBACtB,UAAU;oBACR,IAAI,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK,KAAK;oBAC3C,SAAS,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,KAAK;oBACnD,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA,kBAAkB;oBAChB,WAAW;wBACT,OAAO,SAAS,KAAK;wBACrB,0BAA0B,CAAC,KAAK,SAAS,KAAK,CAAC,2BAA2B,KAAK,OAAO,KAAK;wBAC3F,cAAc,CAAC,KAAK,SAAS,aAAa,KAAK,OAAO,KAAK;wBAC3D,WAAW,SAAS,SAAS,GAAG;4BAC9B,WAAW,SAAS,SAAS,CAAC,UAAU;4BACxC,IAAI,SAAS,SAAS,CAAC,EAAE;4BACzB,QAAQ,CAAC,KAAK,CAAC,KAAK,SAAS,SAAS,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,QAAU,CAAC;oCACnF,MAAM,MAAM,IAAI;oCAChB,SAAS,MAAM,QAAQ;oCACvB,SAAS,MAAM,OAAO;gCACxB,CAAC,EAAE,KAAK,OAAO,KAAK;wBACtB,IAAI;oBACN;gBACF;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,oBAAoB,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC3E,MAAM,oBAAoB,IAAI,CAAC,wBAAwB,CAAC,QAAQ,MAAM;YACtE,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBAAE,QAAQ;YAAK;YACpE,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,eAAe,CAAC;gBAC1B,SAAS,MAAM,IAAI,CAAC,UAAU,CAAC;oBAAE;oBAAO,SAAS,QAAQ,OAAO;gBAAC;gBACjE,MAAM,IAAI,CAAC,oBAAoB,CAAC;gBAChC,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,MAAM,gBAAgB,CAAC;YACvB,IAAI,WAAW,KAAK;YACpB,IAAI,2BAA2B;YAC/B,IAAI,eAAe;YACnB,IAAI,YAAY;YAChB,IAAI,YAAY,KAAK;YACrB,MAAM,cAAc,IAAI,CAAC,UAAU;YACnC,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACxC,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,OAAQ,MAAM,IAAI;4BAChB,KAAK;gCAAQ;oCACX;gCACF;4BACA,KAAK;gCAAuB;oCAC1B,MAAM,mBAAmB,MAAM,aAAa,CAAC,IAAI;oCACjD,YAAY;oCACZ,OAAQ;wCACN,KAAK;4CAAQ;gDACX,aAAa,CAAC,MAAM,KAAK,CAAC,GAAG;oDAAE,MAAM;gDAAO;gDAC5C,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,IAAI,OAAO,MAAM,KAAK;gDACxB;gDACA;4CACF;wCACA,KAAK;4CAAY;gDACf,aAAa,CAAC,MAAM,KAAK,CAAC,GAAG;oDAAE,MAAM;gDAAY;gDACjD,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,IAAI,OAAO,MAAM,KAAK;gDACxB;gDACA;4CACF;wCACA,KAAK;4CAAqB;gDACxB,aAAa,CAAC,MAAM,KAAK,CAAC,GAAG;oDAAE,MAAM;gDAAY;gDACjD,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,IAAI,OAAO,MAAM,KAAK;oDACtB,kBAAkB;wDAChB,WAAW;4DACT,cAAc,MAAM,aAAa,CAAC,IAAI;wDACxC;oDACF;gDACF;gDACA;4CACF;wCACA,KAAK;4CAAY;gDACf,aAAa,CAAC,MAAM,KAAK,CAAC,GAAG,uBAAuB;oDAAE,MAAM;gDAAO,IAAI;oDACrE,MAAM;oDACN,YAAY,MAAM,aAAa,CAAC,EAAE;oDAClC,UAAU,MAAM,aAAa,CAAC,IAAI;oDAClC,OAAO;oDACP,YAAY;gDACd;gDACA,WAAW,OAAO,CAChB,uBAAuB;oDAAE,MAAM;oDAAc,IAAI,OAAO,MAAM,KAAK;gDAAE,IAAI;oDACvE,MAAM;oDACN,IAAI,MAAM,aAAa,CAAC,EAAE;oDAC1B,UAAU,MAAM,aAAa,CAAC,IAAI;gDACpC;gDAEF;4CACF;wCACA,KAAK;4CAAmB;gDACtB,IAAI;oDACF;oDACA;oDACA,2BAA2B;oDAC3B;oDACA,uCAAuC;oDACvC;oDACA,gCAAgC;oDAChC;iDACD,CAAC,QAAQ,CAAC,MAAM,aAAa,CAAC,IAAI,GAAG;oDACpC,aAAa,CAAC,MAAM,KAAK,CAAC,GAAG;wDAC3B,MAAM;wDACN,YAAY,MAAM,aAAa,CAAC,EAAE;wDAClC,UAAU,MAAM,aAAa,CAAC,IAAI;wDAClC,OAAO;wDACP,kBAAkB;wDAClB,YAAY;oDACd;oDACA,MAAM,iBAAiB,MAAM,aAAa,CAAC,IAAI,KAAK,gCAAgC,MAAM,aAAa,CAAC,IAAI,KAAK,wBAAwB,mBAAmB,MAAM,aAAa,CAAC,IAAI;oDACpL,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,MAAM,aAAa,CAAC,EAAE;wDAC1B,UAAU;wDACV,kBAAkB;oDACpB;gDACF;gDACA;4CACF;wCACA,KAAK;4CAAyB;gDAC5B,MAAM,OAAO,MAAM,aAAa;gDAChC,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,oBAAoB;oDAC5C,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,QAAQ;4DACN,MAAM;4DACN,KAAK,KAAK,OAAO,CAAC,GAAG;4DACrB,aAAa,KAAK,OAAO,CAAC,YAAY;4DACtC,SAAS;gEACP,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,IAAI;gEAC/B,OAAO,KAAK,OAAO,CAAC,OAAO,CAAC,KAAK;gEACjC,WAAW,KAAK,OAAO,CAAC,OAAO,CAAC,SAAS;gEACzC,QAAQ;oEACN,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI;oEACtC,WAAW,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU;oEACjD,MAAM,KAAK,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI;gEACxC;4DACF;wDACF;oDACF;gDACF,OAAO,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,+BAA+B;oDAC9D,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,SAAS;wDACT,QAAQ;4DACN,MAAM;4DACN,WAAW,KAAK,OAAO,CAAC,UAAU;wDACpC;wDACA,kBAAkB;oDACpB;gDACF;gDACA;4CACF;wCACA,KAAK;4CAA0B;gDAC7B,MAAM,OAAO,MAAM,aAAa;gDAChC,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;oDAC/B,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,QAAQ,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC;4DACxB,IAAI;4DACJ,OAAO;gEACL,KAAK,OAAO,GAAG;gEACf,OAAO,OAAO,KAAK;gEACnB,SAAS,CAAC,MAAM,OAAO,QAAQ,KAAK,OAAO,MAAM;gEACjD,kBAAkB,OAAO,iBAAiB;gEAC1C,MAAM,OAAO,IAAI;4DACnB;wDACF;wDACA,kBAAkB;oDACpB;oDACA,KAAK,MAAM,UAAU,KAAK,OAAO,CAAE;wDACjC,WAAW,OAAO,CAAC;4DACjB,MAAM;4DACN,YAAY;4DACZ,IAAI;4DACJ,KAAK,OAAO,GAAG;4DACf,OAAO,OAAO,KAAK;4DACnB,kBAAkB;gEAChB,WAAW;oEACT,SAAS,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK;gEACjD;4DACF;wDACF;oDACF;gDACF,OAAO;oDACL,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,SAAS;wDACT,QAAQ;4DACN,MAAM;4DACN,WAAW,KAAK,OAAO,CAAC,UAAU;wDACpC;wDACA,kBAAkB;oDACpB;gDACF;gDACA;4CACF;wCACA,2BAA2B;wCAC3B,KAAK;4CAA8B;gDACjC,MAAM,OAAO,MAAM,aAAa;gDAChC,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,yBAAyB;oDACjD,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,QAAQ;4DACN,MAAM,KAAK,OAAO,CAAC,IAAI;4DACvB,QAAQ,KAAK,OAAO,CAAC,MAAM;4DAC3B,QAAQ,KAAK,OAAO,CAAC,MAAM;4DAC3B,aAAa,KAAK,OAAO,CAAC,WAAW;wDACvC;wDACA,kBAAkB;oDACpB;gDACF,OAAO,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,oCAAoC;oDACnE,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,KAAK,WAAW;wDAC5B,UAAU;wDACV,SAAS;wDACT,QAAQ;4DACN,MAAM;4DACN,WAAW,KAAK,OAAO,CAAC,UAAU;wDACpC;wDACA,kBAAkB;oDACpB;gDACF;gDACA;4CACF;wCACA,2BAA2B;wCAC3B,KAAK;wCACL,KAAK;4CAA0C;gDAC7C,MAAM,OAAO,MAAM,aAAa;gDAChC,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,YAAY,KAAK,WAAW;oDAC5B,UAAU;oDACV,QAAQ,KAAK,OAAO;oDACpB,kBAAkB;gDACpB;gDACA;4CACF;wCACA;4CAAS;gDACP,MAAM,mBAAmB;gDACzB,MAAM,IAAI,MACR,CAAC,gCAAgC,EAAE,kBAAkB;4CAEzD;oCACF;gCACF;4BACA,KAAK;gCAAsB;oCACzB,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM;wCACtC,MAAM,eAAe,aAAa,CAAC,MAAM,KAAK,CAAC;wCAC/C,OAAQ,aAAa,IAAI;4CACvB,KAAK;gDAAQ;oDACX,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,OAAO,MAAM,KAAK;oDACxB;oDACA;gDACF;4CACA,KAAK;gDAAa;oDAChB,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,OAAO,MAAM,KAAK;oDACxB;oDACA;gDACF;4CACA,KAAK;gDACH,IAAI,CAAC,sBAAsB;oDACzB,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,aAAa,UAAU;oDAC7B;oDACA,MAAM,WAAW,aAAa,QAAQ,KAAK,gCAAgC,aAAa,QAAQ,KAAK,wBAAwB,mBAAmB,aAAa,QAAQ;oDACrK,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,YAAY,aAAa,UAAU;wDACnC;wDACA,OAAO,aAAa,KAAK;wDACzB,kBAAkB,aAAa,gBAAgB;oDACjD;gDACF;gDACA;wCACJ;wCACA,OAAO,aAAa,CAAC,MAAM,KAAK,CAAC;oCACnC;oCACA,YAAY,KAAK;oCACjB;gCACF;4BACA,KAAK;gCAAuB;oCAC1B,MAAM,YAAY,MAAM,KAAK,CAAC,IAAI;oCAClC,OAAQ;wCACN,KAAK;4CAAc;gDACjB,IAAI,sBAAsB;oDACxB;gDACF;gDACA,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,IAAI,OAAO,MAAM,KAAK;oDACtB,OAAO,MAAM,KAAK,CAAC,IAAI;gDACzB;gDACA;4CACF;wCACA,KAAK;4CAAkB;gDACrB,WAAW,OAAO,CAAC;oDACjB,MAAM;oDACN,IAAI,OAAO,MAAM,KAAK;oDACtB,OAAO,MAAM,KAAK,CAAC,QAAQ;gDAC7B;gDACA;4CACF;wCACA,KAAK;4CAAmB;gDACtB,IAAI,cAAc,YAAY;oDAC5B,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,OAAO,MAAM,KAAK;wDACtB,OAAO;wDACP,kBAAkB;4DAChB,WAAW;gEACT,WAAW,MAAM,KAAK,CAAC,SAAS;4DAClC;wDACF;oDACF;gDACF;gDACA;4CACF;wCACA,KAAK;4CAAoB;gDACvB,MAAM,eAAe,aAAa,CAAC,MAAM,KAAK,CAAC;gDAC/C,IAAI,QAAQ,MAAM,KAAK,CAAC,YAAY;gDACpC,IAAI,MAAM,MAAM,KAAK,GAAG;oDACtB;gDACF;gDACA,IAAI,sBAAsB;oDACxB,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,QAAQ;wDAClE;oDACF;oDACA,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,OAAO,MAAM,KAAK;wDACtB;oDACF;gDACF,OAAO;oDACL,IAAI,CAAC,gBAAgB,OAAO,KAAK,IAAI,aAAa,IAAI,MAAM,aAAa;wDACvE;oDACF;oDACA,IAAI,aAAa,UAAU,IAAI,CAAC,aAAa,QAAQ,KAAK,yBAAyB,aAAa,QAAQ,KAAK,4BAA4B,GAAG;wDAC1I,QAAQ,CAAC,UAAU,EAAE,aAAa,QAAQ,CAAC,EAAE,EAAE,MAAM,SAAS,CAAC,IAAI;oDACrE;oDACA,WAAW,OAAO,CAAC;wDACjB,MAAM;wDACN,IAAI,aAAa,UAAU;wDAC3B;oDACF;oDACA,aAAa,KAAK,IAAI;oDACtB,aAAa,UAAU,GAAG;gDAC5B;gDACA;4CACF;wCACA,KAAK;4CAAmB;gDACtB,MAAM,WAAW,MAAM,KAAK,CAAC,QAAQ;gDACrC,MAAM,SAAS,qBACb,UACA,mBACA;gDAEF,IAAI,QAAQ;oDACV,WAAW,OAAO,CAAC;gDACrB;gDACA;4CACF;wCACA;4CAAS;gDACP,MAAM,mBAAmB;gDACzB,MAAM,IAAI,MACR,CAAC,wBAAwB,EAAE,kBAAkB;4CAEjD;oCACF;gCACF;4BACA,KAAK;gCAAiB;oCACpB,MAAM,WAAW,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,YAAY;oCACpD,MAAM,iBAAiB,GAAG,CAAC,KAAK,MAAM,OAAO,CAAC,KAAK,CAAC,uBAAuB,KAAK,OAAO,KAAK,KAAK;oCACjG,WAAW,eAAe,CAAC,GAAG,MAAM,OAAO,CAAC,KAAK;oCACjD,2BAA2B,CAAC,KAAK,MAAM,OAAO,CAAC,KAAK,CAAC,2BAA2B,KAAK,OAAO,KAAK;oCACjG,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,CAAC,KAAK,MAAM,OAAO,CAAC,EAAE,KAAK,OAAO,KAAK,KAAK;wCAChD,SAAS,CAAC,KAAK,MAAM,OAAO,CAAC,KAAK,KAAK,OAAO,KAAK,KAAK;oCAC1D;oCACA;gCACF;4BACA,KAAK;gCAAiB;oCACpB,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,aAAa;oCAC9C,MAAM,WAAW,GAAG,CAAC,CAAC,KAAK,MAAM,WAAW,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK,CAAC;oCACpH,eAAe,uBAAuB;wCACpC,cAAc,MAAM,KAAK,CAAC,WAAW;wCACrC,wBAAwB;oCAC1B;oCACA,eAAe,CAAC,KAAK,MAAM,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK;oCAC/D,YAAY,MAAM,KAAK,CAAC,SAAS,IAAI,OAAO;wCAC1C,WAAW,MAAM,KAAK,CAAC,SAAS,CAAC,UAAU;wCAC3C,IAAI,MAAM,KAAK,CAAC,SAAS,CAAC,EAAE;wCAC5B,QAAQ,CAAC,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,SAAS,CAAC,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,QAAU,CAAC;gDACtF,MAAM,MAAM,IAAI;gDAChB,SAAS,MAAM,QAAQ;gDACvB,SAAS,MAAM,OAAO;4CACxB,CAAC,EAAE,KAAK,OAAO,KAAK;oCACtB,IAAI;oCACJ,WAAW,eAAe,eAAe,CAAC,GAAG,WAAW,MAAM,KAAK;oCACnE;gCACF;4BACA,KAAK;gCAAgB;oCACnB,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN;wCACA;wCACA,kBAAkB;4CAChB,WAAW;gDACT,OAAO,YAAY,OAAO,WAAW;gDACrC;gDACA;gDACA;4CACF;wCACF;oCACF;oCACA;gCACF;4BACA,KAAK;gCAAS;oCACZ,WAAW,OAAO,CAAC;wCAAE,MAAM;wCAAS,OAAO,MAAM,KAAK;oCAAC;oCACvD;gCACF;4BACA;gCAAS;oCACP,MAAM,mBAAmB;oCACzB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,kBAAkB;gCAC/D;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,2BAA2B,OAAO;IACzC,IAAI,QAAQ,QAAQ,CAAC,uBAAuB,QAAQ,QAAQ,CAAC,wBAAwB,QAAQ,QAAQ,CAAC,qBAAqB;QACzH,OAAO;IACT,OAAO,IAAI,QAAQ,QAAQ,CAAC,mBAAmB;QAC7C,OAAO;IACT,OAAO,IAAI,QAAQ,QAAQ,CAAC,qBAAqB;QAC/C,OAAO;IACT,OAAO;QACL,OAAO;IACT;AACF;AACA,IAAI,2BAA2B,WAC7B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,SAAS,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAC3C;AAGJ,IAAI,gBAAgB,iCAAiC;IACnD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,2BAA2B,WAC7B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,SAAS,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAC3C;AAGJ,IAAI,gBAAgB,iCAAiC;IACnD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,IAAI,CAAC;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ;QACtE,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACvC;AAGJ,IAAI,oBAAoB,iCAAiC;IACvD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,IAAI,CAAC;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG;YAAI,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG;SAAG,EAAE,QAAQ;QACtG,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACzC,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C,kBAAkB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAM;YAAQ;YAAQ;SAAQ,EAAE,QAAQ;QAC9E,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG;YAAI,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG;SAAG,EAAE,QAAQ;QAC5G,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACvC;AAGJ,IAAI,oBAAoB,iCAAiC;IACvD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,6BAA6B,WAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,kBAAkB,CAAC,WAAW;QAC1C,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC;gBAAC,YAAY,CAAC,CAAC,MAAM;gBAAI,YAAY,CAAC,CAAC,MAAM;aAAG,EAAE,QAAQ;QAC5F;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;QACjC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,aAAa,YAAY,CAAC,CAAC,MAAM;QACnC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,OAAO,CAAC;YAC/B,UAAU,YAAY,CAAC,CAAC,MAAM;YAC9B,UAAU,YAAY,CAAC,CAAC,MAAM;QAChC;KACD;AAGL,IAAI,kBAAkB,iCAAiC;IACrD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,iCAAiC,WACnC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAe;YAAU;SAAY;QACpF,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;QAClD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ;IACxE;AAGJ,IAAI,sBAAsB,iCAAiC;IACzD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,iCAAiC,WACnC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAe;YAAU;SAAY;QACpF,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;QAClD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ;IACxE;AAGJ,IAAI,sBAAsB,iCAAiC;IACzD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,iCAAiC,WACnC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAe;SAAS;QACvE,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC1C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;QAClD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ;IACxE;AAGJ,IAAI,sBAAsB,iCAAiC;IACzD,IAAI;IACJ,MAAM;IACN,aAAa;AACf;AACA,IAAI,iBAAiB;IACnB;;;;;;;GAOC,GACD;IACA;;;;;;;GAOC,GACD;IACA;;;;;;;;;GASC,GACD;IACA;;;;;;;;;;;GAWC,GACD;IACA;;;;;;;;;;;GAWC,GACD;IACA;;;;;;;;;;;GAWC,GACD;IACA;;;;;;;;;GASC,GACD;IACA;;;;;;;;GAQC,GACD;IACA;;;;;;;;GAQC,GACD;IACA;;;;;;;;;;GAUC,GACD;IACA;;;;;;;;;;;;GAYC,GACD;IACA;;;;;;;;;;GAUC,GACD;IACA;;;;;;;;;GASC,GACD;AACF;AACA,SAAS,gBAAgB,UAAU,CAAC,CAAC;IACnC,IAAI;IACJ,MAAM,UAAU,CAAC,KAAK,qBAAqB,QAAQ,OAAO,CAAC,KAAK,OAAO,KAAK;IAC5E,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,qBAAqB;YACrB,aAAa,WAAW;gBACtB,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf;QACF,GAAG,QAAQ,OAAO,GAClB,CAAC,iBAAiB,EAAE,UAAU;IAEhC,MAAM,kBAAkB,CAAC;QACvB,IAAI;QACJ,OAAO,IAAI,+BAA+B,SAAS;YACjD,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,YAAY,CAAC,MAAM,QAAQ,UAAU,KAAK,OAAO,MAAM;YACvD,eAAe,IAAM,CAAC;oBACpB,WAAW;wBAAC;qBAAkB;gBAChC,CAAC;QACH;IACF;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,gBAAgB;IACzB;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,QAAQ,GAAG;IACpB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,YAAY;AAEhB,wGAAwG;AACxG,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,WAAW,uCAAO,WAAW;AACjC,IAAI,wBAAwB,WAC1B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM;QAC9B;IACF;AAGJ,IAAI,8BAA8B,+BAA+B;IAC/D,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,IAAI,6CAA6C,WAC/C,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;;OAGC,GACD,sBAAsB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACrD;;;;;;;;;;;OAWC,GACD,UAAU,YAAY,CAAC,CAAC,IAAI,CAAC;YAC3B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD,EAAE,QAAQ;IACb;AAGJ,IAAI,mCAAmC;IACrC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,qBAAqB,GAAG;QAC7B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EAChB;YACC,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,gBAAgB,eACpB,CAAA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,GACjC;YAEF,IAAI,OAAO,MAAM,KAAK,GAAG;gBACvB,MAAM,EACJ,iBAAiB,gBAAgB,EACjC,OAAO,SAAS,EAChB,UAAU,SAAS,EACpB,GAAG,MAAM,cAAc;oBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;oBACjE,SAAS;oBACT,MAAM;wBACJ,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE;wBAC/B,SAAS;4BACP,OAAO;gCAAC;oCAAE,MAAM,MAAM,CAAC,EAAE;gCAAC;6BAAE;wBAC9B;wBACA,sBAAsB,iBAAiB,OAAO,KAAK,IAAI,cAAc,oBAAoB;wBACzF,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;oBACnE;oBACA,uBAAuB;oBACvB,2BAA2B,0BACzB;oBAEF;oBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;gBAC1B;gBACA,OAAO;oBACL,YAAY;wBAAC,UAAU,SAAS,CAAC,MAAM;qBAAC;oBACxC,OAAO,KAAK;oBACZ,UAAU;wBAAE,SAAS;wBAAkB,MAAM;oBAAU;gBACzD;YACF;YACA,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC;gBACvE,SAAS;gBACT,MAAM;oBACJ,UAAU,OAAO,GAAG,CAAC,CAAC,QAAU,CAAC;4BAC/B,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE;4BAC/B,SAAS;gCAAE,MAAM;gCAAQ,OAAO;oCAAC;wCAAE,MAAM;oCAAM;iCAAE;4BAAC;4BAClD,sBAAsB,iBAAiB,OAAO,KAAK,IAAI,cAAc,oBAAoB;4BACzF,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;wBACnE,CAAC;gBACH;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,UAAU,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM;gBACzD,OAAO,KAAK;gBACZ,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,gDAAgD,WAClD,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QAAI;IAC7G;AAGJ,IAAI,kDAAkD,WACpD,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QAAI;IACxF;AAGJ,SAAS,iCAAiC,WAAW;IACnD,IAAI,eAAe,QAAQ,oBAAoB,cAAc;QAC3D,OAAO,KAAK;IACd;IACA,IAAI,OAAO,gBAAgB,WAAW;QACpC,OAAO;YAAE,MAAM;YAAW,YAAY,CAAC;QAAE;IAC3C;IACA,MAAM,EACJ,IAAI,EACJ,WAAW,EACX,QAAQ,EACR,UAAU,EACV,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,OAAO,UAAU,EACjB,SAAS,EACT,MAAM,UAAU,EACjB,GAAG;IACJ,MAAM,SAAS,CAAC;IAChB,IAAI,aAAa,OAAO,WAAW,GAAG;IACtC,IAAI,UAAU,OAAO,QAAQ,GAAG;IAChC,IAAI,QAAQ,OAAO,MAAM,GAAG;IAC5B,IAAI,eAAe,KAAK,GAAG;QACzB,OAAO,IAAI,GAAG;YAAC;SAAW;IAC5B;IACA,IAAI,MAAM;QACR,IAAI,MAAM,OAAO,CAAC,OAAO;YACvB,IAAI,KAAK,QAAQ,CAAC,SAAS;gBACzB,OAAO,IAAI,GAAG,KAAK,MAAM,CAAC,CAAC,IAAM,MAAM,OAAO,CAAC,EAAE;gBACjD,OAAO,QAAQ,GAAG;YACpB,OAAO;gBACL,OAAO,IAAI,GAAG;YAChB;QACF,OAAO,IAAI,SAAS,QAAQ;YAC1B,OAAO,IAAI,GAAG;QAChB,OAAO;YACL,OAAO,IAAI,GAAG;QAChB;IACF;IACA,IAAI,eAAe,KAAK,GAAG;QACzB,OAAO,IAAI,GAAG;IAChB;IACA,IAAI,cAAc,MAAM;QACtB,OAAO,UAAU,GAAG,OAAO,OAAO,CAAC,YAAY,MAAM,CACnD,CAAC,KAAK,CAAC,KAAK,MAAM;YAChB,GAAG,CAAC,IAAI,GAAG,iCAAiC;YAC5C,OAAO;QACT,GACA,CAAC;IAEL;IACA,IAAI,OAAO;QACT,OAAO,KAAK,GAAG,MAAM,OAAO,CAAC,SAAS,MAAM,GAAG,CAAC,oCAAoC,iCAAiC;IACvH;IACA,IAAI,OAAO;QACT,OAAO,KAAK,GAAG,MAAM,GAAG,CAAC;IAC3B;IACA,IAAI,OAAO;QACT,IAAI,MAAM,IAAI,CACZ,CAAC,SAAW,OAAO,WAAW,YAAY,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,IAAI,MAAM,SACrF;YACD,MAAM,iBAAiB,MAAM,MAAM,CACjC,CAAC,SAAW,CAAC,CAAC,OAAO,WAAW,YAAY,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,IAAI,MAAM,MAAM;YAEhG,IAAI,eAAe,MAAM,KAAK,GAAG;gBAC/B,MAAM,YAAY,iCAAiC,cAAc,CAAC,EAAE;gBACpE,IAAI,OAAO,cAAc,UAAU;oBACjC,OAAO,QAAQ,GAAG;oBAClB,OAAO,MAAM,CAAC,QAAQ;gBACxB;YACF,OAAO;gBACL,OAAO,KAAK,GAAG,eAAe,GAAG,CAAC;gBAClC,OAAO,QAAQ,GAAG;YACpB;QACF,OAAO;YACL,OAAO,KAAK,GAAG,MAAM,GAAG,CAAC;QAC3B;IACF;IACA,IAAI,OAAO;QACT,OAAO,KAAK,GAAG,MAAM,GAAG,CAAC;IAC3B;IACA,IAAI,cAAc,KAAK,GAAG;QACxB,OAAO,SAAS,GAAG;IACrB;IACA,OAAO;AACT;AACA,SAAS,oBAAoB,WAAW;IACtC,OAAO,eAAe,QAAQ,OAAO,gBAAgB,YAAY,YAAY,IAAI,KAAK,YAAY,CAAC,YAAY,UAAU,IAAI,QAAQ,OAAO,IAAI,CAAC,YAAY,UAAU,EAAE,MAAM,KAAK,CAAC,KAAK,CAAC,YAAY,oBAAoB;AAC7N;AACA,SAAS,oCAAoC,MAAM,EAAE,OAAO;IAC1D,IAAI;IACJ,MAAM,yBAAyB,EAAE;IACjC,MAAM,WAAW,EAAE;IACnB,IAAI,wBAAwB;IAC5B,MAAM,eAAe,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;IAC3F,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,IAAI,CAAC,uBAAuB;wBAC1B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;4BACxD,eAAe;wBACjB;oBACF;oBACA,uBAAuB,IAAI,CAAC;wBAAE,MAAM;oBAAQ;oBAC5C;gBACF;YACA,KAAK;gBAAQ;oBACX,wBAAwB;oBACxB,MAAM,QAAQ,EAAE;oBAChB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,MAAM,IAAI,CAAC;wCAAE,MAAM,KAAK,IAAI;oCAAC;oCAC7B;gCACF;4BACA,KAAK;gCAAQ;oCACX,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;oCAC9E,MAAM,IAAI,CACR,KAAK,IAAI,YAAY,MAAM;wCACzB,UAAU;4CACR,UAAU;4CACV,SAAS,KAAK,IAAI,CAAC,QAAQ;wCAC7B;oCACF,IAAI;wCACF,YAAY;4CACV,UAAU;4CACV,MAAM,gBAAgB,KAAK,IAAI;wCACjC;oCACF;oCAEF;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBAAE,MAAM;wBAAQ;oBAAM;oBACpC;gBACF;YACA,KAAK;gBAAa;oBAChB,wBAAwB;oBACxB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,OAAO,QAAQ,GAAG,CAAC,CAAC;4BAClB,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;4BACzB,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,KAAK,IAAI;4CACvC,MAAM,KAAK,IAAI;4CACf,kBAAkB,CAAC,KAAK,CAAC,MAAM,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,IAAI,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB;wCAC5H;oCACF;gCACA,KAAK;oCAAa;wCAChB,OAAO,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,KAAK,IAAI;4CACvC,MAAM,KAAK,IAAI;4CACf,SAAS;4CACT,kBAAkB,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB;wCAC1H;oCACF;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,KAAK,aAAa;4CAClC,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe;4CACjB;wCACF;wCACA,IAAI,KAAK,IAAI,YAAY,KAAK;4CAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe;4CACjB;wCACF;wCACA,OAAO;4CACL,YAAY;gDACV,UAAU,KAAK,SAAS;gDACxB,MAAM,gBAAgB,KAAK,IAAI;4CACjC;wCACF;oCACF;gCACA,KAAK;oCAAa;wCAChB,OAAO;4CACL,cAAc;gDACZ,MAAM,KAAK,QAAQ;gDACnB,MAAM,KAAK,KAAK;4CAClB;4CACA,kBAAkB,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB;wCAC1H;oCACF;4BACF;wBACF,GAAG,MAAM,CAAC,CAAC,OAAS,SAAS,KAAK;oBACpC;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,wBAAwB;oBACxB,MAAM,QAAQ,EAAE;oBAChB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,MAAM,SAAS,KAAK,MAAM;wBAC1B,IAAI,OAAO,IAAI,KAAK,WAAW;4BAC7B,KAAK,MAAM,eAAe,OAAO,KAAK,CAAE;gCACtC,OAAQ,YAAY,IAAI;oCACtB,KAAK;wCACH,MAAM,IAAI,CAAC;4CACT,kBAAkB;gDAChB,MAAM,KAAK,QAAQ;gDACnB,UAAU;oDACR,MAAM,KAAK,QAAQ;oDACnB,SAAS,YAAY,IAAI;gDAC3B;4CACF;wCACF;wCACA;oCACF,KAAK;wCACH,MAAM,IAAI,CACR;4CACE,YAAY;gDACV,UAAU,YAAY,SAAS;gDAC/B,MAAM,YAAY,IAAI;4CACxB;wCACF,GACA;4CACE,MAAM;wCACR;wCAEF;oCACF;wCACE,MAAM,IAAI,CAAC;4CAAE,MAAM,KAAK,SAAS,CAAC;wCAAa;wCAC/C;gCACJ;4BACF;wBACF,OAAO;4BACL,MAAM,IAAI,CAAC;gCACT,kBAAkB;oCAChB,MAAM,KAAK,QAAQ;oCACnB,UAAU;wCACR,MAAM,KAAK,QAAQ;wCACnB,SAAS,OAAO,KAAK;oCACvB;gCACF;4BACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN;oBACF;oBACA;gBACF;QACF;IACF;IACA,IAAI,gBAAgB,uBAAuB,MAAM,GAAG,KAAK,SAAS,MAAM,GAAG,KAAK,QAAQ,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;QAC3G,MAAM,aAAa,uBAAuB,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,EAAE,IAAI,CAAC;QACxE,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC;YAAE,MAAM,aAAa;QAAO;IACxD;IACA,OAAO;QACL,mBAAmB,uBAAuB,MAAM,GAAG,KAAK,CAAC,eAAe;YAAE,OAAO;QAAuB,IAAI,KAAK;QACjH;IACF;AACF;AACA,SAAS,aAAa,OAAO;IAC3B,OAAO,QAAQ,QAAQ,CAAC,OAAO,UAAU,CAAC,OAAO,EAAE,SAAS;AAC9D;AACA,IAAI,oCAAoC,WACtC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,oBAAoB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAQ,GAAG,QAAQ;QACvF,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC/C,iBAAiB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACnD,GAAG,QAAQ;QACX;;;;OAIC,GACD,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C;;;;;;;OAOC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACnD;;OAEC,GACD,gBAAgB,YAAY,CAAC,CAAC,KAAK,CACjC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,UAAU,YAAY,CAAC,CAAC,IAAI,CAAC;gBAC3B;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW,YAAY,CAAC,CAAC,IAAI,CAAC;gBAC5B;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH,IACA,QAAQ;QACV,WAAW,YAAY,CAAC,CAAC,IAAI,CAAC;YAC5B;YACA;YACA;YACA;YACA;YACA;SACD,EAAE,QAAQ;QACX;;;;OAIC,GACD,gBAAgB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QAChD;;;;OAIC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACrF;;;;OAIC,GACD,iBAAiB,YAAY,CAAC,CAAC,IAAI,CAAC;YAClC;YACA;YACA;YACA;SACD,EAAE,QAAQ;QACX;;;;OAIC,GACD,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;YAChC,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;gBAC9B;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD,EAAE,QAAQ;QACb,GAAG,QAAQ;IACb;AAGJ,SAAS,cAAc,EACrB,KAAK,EACL,UAAU,EACV,OAAO,EACR;IACC,IAAI;IACJ,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,MAAM,YAAY,QAAQ,QAAQ,CAAC;IACnC,MAAM,2BAA2B,QAAQ,QAAQ,CAAC,uBAAuB,CAAC,QAAQ,QAAQ,CAAC;IAC3F,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,mBAAmB,MAAM,IAAI,CAAC,CAAC,SAAW,OAAO,IAAI,KAAK;IAChE,MAAM,0BAA0B,MAAM,IAAI,CACxC,CAAC,SAAW,OAAO,IAAI,KAAK;IAE9B,IAAI,oBAAoB,yBAAyB;QAC/C,aAAa,IAAI,CAAC;YAChB,MAAM;YACN,MAAM,MAAM,IAAI,CAAC,CAAC,SAAW,OAAO,IAAI,KAAK;YAC7C,SAAS;QACX;IACF;IACA,IAAI,yBAAyB;QAC3B,MAAM,eAAe,EAAE;QACvB,MAAM,uBAAuB,MAAM,MAAM,CACvC,CAAC,SAAW,OAAO,IAAI,KAAK;QAE9B,qBAAqB,OAAO,CAAC,CAAC;YAC5B,OAAQ,OAAO,EAAE;gBACf,KAAK;oBACH,IAAI,WAAW;wBACb,aAAa,IAAI,CAAC;4BAAE,cAAc,CAAC;wBAAE;oBACvC,OAAO,IAAI,0BAA0B;wBACnC,aAAa,IAAI,CAAC;4BAChB,uBAAuB;gCACrB,wBAAwB;oCACtB,MAAM,OAAO,IAAI,CAAC,IAAI;oCACtB,kBAAkB,OAAO,IAAI,CAAC,gBAAgB;gCAChD;4BACF;wBACF;oBACF,OAAO;wBACL,aAAa,IAAI,CAAC;4BAAE,uBAAuB,CAAC;wBAAE;oBAChD;oBACA;gBACF,KAAK;oBACH,IAAI,WAAW;wBACb,aAAa,IAAI,CAAC;4BAAE,YAAY,CAAC;wBAAE;oBACrC,OAAO;wBACL,aAAa,IAAI,CAAC;4BAChB,MAAM;4BACN,MAAM;4BACN,SAAS;wBACX;oBACF;oBACA;gBACF,KAAK;oBACH,IAAI,WAAW;wBACb,aAAa,IAAI,CAAC;4BAAE,eAAe,CAAC;wBAAE;oBACxC,OAAO;wBACL,aAAa,IAAI,CAAC;4BAChB,MAAM;4BACN,MAAM;4BACN,SAAS;wBACX;oBACF;oBACA;gBACF;oBACE,aAAa,IAAI,CAAC;wBAAE,MAAM;wBAAoB,MAAM;oBAAO;oBAC3D;YACJ;QACF;QACA,OAAO;YACL,OAAO,aAAa,MAAM,GAAG,IAAI,eAAe,KAAK;YACrD,YAAY,KAAK;YACjB;QACF;IACF;IACA,MAAM,uBAAuB,EAAE;IAC/B,KAAK,MAAM,UAAU,MAAO;QAC1B,OAAQ,OAAO,IAAI;YACjB,KAAK;gBACH,qBAAqB,IAAI,CAAC;oBACxB,MAAM,OAAO,IAAI;oBACjB,aAAa,CAAC,KAAK,OAAO,WAAW,KAAK,OAAO,KAAK;oBACtD,YAAY,iCAAiC,OAAO,WAAW;gBACjE;gBACA;YACF;gBACE,aAAa,IAAI,CAAC;oBAAE,MAAM;oBAAoB,MAAM;gBAAO;gBAC3D;QACJ;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YACL,OAAO;gBAAE;YAAqB;YAC9B,YAAY,KAAK;YACjB;QACF;IACF;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;YACH,OAAO;gBACL,OAAO;oBAAE;gBAAqB;gBAC9B,YAAY;oBAAE,uBAAuB;wBAAE,MAAM;oBAAO;gBAAE;gBACtD;YACF;QACF,KAAK;YACH,OAAO;gBACL,OAAO;oBAAE;gBAAqB;gBAC9B,YAAY;oBAAE,uBAAuB;wBAAE,MAAM;oBAAO;gBAAE;gBACtD;YACF;QACF,KAAK;YACH,OAAO;gBACL,OAAO;oBAAE;gBAAqB;gBAC9B,YAAY;oBAAE,uBAAuB;wBAAE,MAAM;oBAAM;gBAAE;gBACrD;YACF;QACF,KAAK;YACH,OAAO;gBACL,OAAO;oBAAE;gBAAqB;gBAC9B,YAAY;oBACV,uBAAuB;wBACrB,MAAM;wBACN,sBAAsB;4BAAC,WAAW,QAAQ;yBAAC;oBAC7C;gBACF;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,SAAS,kCAAkC,EACzC,YAAY,EACZ,YAAY,EACb;IACC,OAAQ;QACN,KAAK;YACH,OAAO,eAAe,eAAe;QACvC,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,kCAAkC;IACpC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI;QACJ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,OAAO,UAAU,KAAK,OAAO,KAAK;IAC5D;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,gBAAgB;QAClB,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,CAAC;IACvG;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,KAAK,EACL,UAAU,EACV,eAAe,EAChB;YACC,IAAI,IAAI;YACR,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,IAAI,CAAC,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB;gBAC/K,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS,CAAC,yKAAyK,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAC/M;YACF;YACA,MAAM,eAAe,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC;YAC3D,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,GAAG,oCACtC,QACA;gBAAE;YAAa;YAEjB,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,cAAc;gBAChB;gBACA;gBACA,SAAS,IAAI,CAAC,OAAO;YACvB;YACA,OAAO;gBACL,MAAM;oBACJ,kBAAkB,eAAe,eAAe,cAAc,eAAe;wBAC3E,yBAAyB;wBACzB;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA,mBAAmB;wBACnB,kBAAkB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,qBAAqB,KAAK;wBACjH,gBAAgB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,QAAQ,6DAA6D;wBACpL,wCAAwC;wBACxC,oCAAoC;wBACpC,CAAC,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,iBAAiB,KAAK,OAAO,KAAK,IAAI,IAAI,iCAAiC,eAAe,MAAM,IAAI,KAAK;oBACjK,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc,KAAK;wBACpE,gBAAgB,cAAc,cAAc;oBAC9C,IAAI;wBACF,oBAAoB;wBACpB,oBAAoB,iBAAiB,OAAO,KAAK,IAAI,cAAc,kBAAkB;wBACrF,gBAAgB,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc;oBAC/E,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,KAAK;wBAClE,aAAa,cAAc,WAAW;oBACxC,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK;wBACtE,iBAAiB,cAAc,eAAe;oBAChD;oBACA;oBACA,mBAAmB,eAAe,KAAK,IAAI;oBAC3C,gBAAgB,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc;oBAC7E,OAAO;oBACP,YAAY;oBACZ,eAAe,iBAAiB,OAAO,KAAK,IAAI,cAAc,aAAa;oBAC3E,QAAQ,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM;gBAC/D;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACpD,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,KAAK,SAAS,CAAC;YAC5B,MAAM,gBAAgB,eACpB,CAAA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,GACjC,QAAQ,OAAO;YAEjB,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,aAC7B,IAAI,CAAC,OAAO,EACZ,gBAAgB,CAAC;gBACnB,SAAS;gBACT,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B,0BAA0B;gBACrD,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,YAAY,SAAS,UAAU,CAAC,EAAE;YACxC,MAAM,UAAU,EAAE;YAClB,MAAM,QAAQ,CAAC,KAAK,CAAC,KAAK,UAAU,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,OAAO,KAAK,EAAE;YAC3F,MAAM,gBAAgB,SAAS,aAAa;YAC5C,IAAI;YACJ,KAAK,MAAM,QAAQ,MAAO;gBACxB,IAAI,oBAAoB,QAAQ,CAAC,CAAC,KAAK,KAAK,cAAc,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,GAAG;oBACvF,MAAM,aAAa,IAAI,CAAC,MAAM,CAAC,UAAU;oBACzC,8BAA8B;oBAC9B,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN;wBACA,UAAU;wBACV,OAAO,KAAK,SAAS,CAAC,KAAK,cAAc;wBACzC,kBAAkB;oBACpB;gBACF,OAAO,IAAI,yBAAyB,QAAQ,KAAK,mBAAmB,EAAE;oBACpE,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,iEAAiE;wBACjE,YAAY;wBACZ,UAAU;wBACV,QAAQ;4BACN,SAAS,KAAK,mBAAmB,CAAC,OAAO;4BACzC,QAAQ,KAAK,mBAAmB,CAAC,MAAM;wBACzC;wBACA,kBAAkB;oBACpB;oBACA,8BAA8B,KAAK;gBACrC,OAAO,IAAI,UAAU,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,IAAI,CAAC,MAAM,GAAG,GAAG;oBACtE,QAAQ,IAAI,CAAC;wBACX,MAAM,KAAK,OAAO,KAAK,OAAO,cAAc;wBAC5C,MAAM,KAAK,IAAI;wBACf,kBAAkB,KAAK,gBAAgB,GAAG;4BAAE,QAAQ;gCAAE,kBAAkB,KAAK,gBAAgB;4BAAC;wBAAE,IAAI,KAAK;oBAC3G;gBACF,OAAO,IAAI,kBAAkB,MAAM;oBACjC,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY,IAAI,CAAC,MAAM,CAAC,UAAU;wBAClC,UAAU,KAAK,YAAY,CAAC,IAAI;wBAChC,OAAO,KAAK,SAAS,CAAC,KAAK,YAAY,CAAC,IAAI;wBAC5C,kBAAkB,KAAK,gBAAgB,GAAG;4BAAE,QAAQ;gCAAE,kBAAkB,KAAK,gBAAgB;4BAAC;wBAAE,IAAI,KAAK;oBAC3G;gBACF,OAAO,IAAI,gBAAgB,MAAM;oBAC/B,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,MAAM,KAAK,UAAU,CAAC,IAAI;wBAC1B,WAAW,KAAK,UAAU,CAAC,QAAQ;oBACrC;gBACF;YACF;YACA,MAAM,UAAU,CAAC,KAAK,eAAe;gBACnC,mBAAmB,UAAU,iBAAiB;gBAC9C,YAAY,IAAI,CAAC,MAAM,CAAC,UAAU;YACpC,EAAE,KAAK,OAAO,KAAK,EAAE;YACrB,KAAK,MAAM,UAAU,QAAS;gBAC5B,QAAQ,IAAI,CAAC;YACf;YACA,OAAO;gBACL;gBACA,cAAc,kCAAkC;oBAC9C,cAAc,UAAU,YAAY;oBACpC,cAAc,QAAQ,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;gBACrD;gBACA,OAAO;oBACL,aAAa,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBACxG,cAAc,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,oBAAoB,KAAK,OAAO,KAAK,KAAK;oBAC7G,aAAa,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,OAAO,KAAK,KAAK;oBACvG,iBAAiB,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,kBAAkB,KAAK,OAAO,KAAK,KAAK;oBAC9G,mBAAmB,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,uBAAuB,KAAK,OAAO,KAAK,KAAK;gBACvH;gBACA;gBACA,kBAAkB;oBAChB,QAAQ;wBACN,gBAAgB,CAAC,KAAK,SAAS,cAAc,KAAK,OAAO,KAAK;wBAC9D,mBAAmB,CAAC,KAAK,UAAU,iBAAiB,KAAK,OAAO,KAAK;wBACrE,oBAAoB,CAAC,KAAK,UAAU,kBAAkB,KAAK,OAAO,KAAK;wBACvE,eAAe,CAAC,KAAK,UAAU,aAAa,KAAK,OAAO,KAAK;wBAC7D,eAAe,iBAAiB,OAAO,gBAAgB;oBACzD;gBACF;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBACR,+BAA+B;oBAC/B,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,KAAK,SAAS,CAAC;YAC5B,MAAM,UAAU,eACd,CAAA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,GACjC,QAAQ,OAAO;YAEjB,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,aAC7B,IAAI,CAAC,OAAO,EACZ,8BAA8B,CAAC;gBACjC;gBACA,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B,iCAAiC;gBAC5D,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,mBAAmB,KAAK;YAC5B,MAAM,cAAc,IAAI,CAAC,MAAM,CAAC,UAAU;YAC1C,IAAI,eAAe;YACnB,IAAI,qBAAqB;YACzB,IAAI,0BAA0B;YAC9B,IAAI,eAAe;YACnB,MAAM,oBAAoB,aAAa,GAAG,IAAI;YAC9C,IAAI;YACJ,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBAChD,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,MAAM,gBAAgB,MAAM,aAAa;wBACzC,IAAI,iBAAiB,MAAM;4BACzB,MAAM,WAAW,GAAG,CAAC,KAAK,cAAc,gBAAgB,KAAK,OAAO,KAAK,KAAK;4BAC9E,MAAM,YAAY,GAAG,CAAC,KAAK,cAAc,oBAAoB,KAAK,OAAO,KAAK,KAAK;4BACnF,MAAM,WAAW,GAAG,CAAC,KAAK,cAAc,eAAe,KAAK,OAAO,KAAK,KAAK;4BAC7E,MAAM,eAAe,GAAG,CAAC,KAAK,cAAc,kBAAkB,KAAK,OAAO,KAAK,KAAK;4BACpF,MAAM,iBAAiB,GAAG,CAAC,KAAK,cAAc,uBAAuB,KAAK,OAAO,KAAK,KAAK;wBAC7F;wBACA,MAAM,YAAY,CAAC,KAAK,MAAM,UAAU,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE;wBAClE,IAAI,aAAa,MAAM;4BACrB;wBACF;wBACA,MAAM,UAAU,UAAU,OAAO;wBACjC,MAAM,UAAU,eAAe;4BAC7B,mBAAmB,UAAU,iBAAiB;4BAC9C,YAAY;wBACd;wBACA,IAAI,WAAW,MAAM;4BACnB,KAAK,MAAM,UAAU,QAAS;gCAC5B,IAAI,OAAO,UAAU,KAAK,SAAS,CAAC,kBAAkB,GAAG,CAAC,OAAO,GAAG,GAAG;oCACrE,kBAAkB,GAAG,CAAC,OAAO,GAAG;oCAChC,WAAW,OAAO,CAAC;gCACrB;4BACF;wBACF;wBACA,IAAI,WAAW,MAAM;4BACnB,MAAM,QAAQ,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK,EAAE;4BACpD,KAAK,MAAM,QAAQ,MAAO;gCACxB,IAAI,oBAAoB,QAAQ,CAAC,CAAC,KAAK,KAAK,cAAc,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,GAAG;oCACvF,MAAM,aAAa;oCACnB,8BAA8B;oCAC9B,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN;wCACA,UAAU;wCACV,OAAO,KAAK,SAAS,CAAC,KAAK,cAAc;wCACzC,kBAAkB;oCACpB;oCACA,eAAe;gCACjB,OAAO,IAAI,yBAAyB,QAAQ,KAAK,mBAAmB,EAAE;oCACpE,MAAM,aAAa;oCACnB,IAAI,YAAY;wCACd,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN;4CACA,UAAU;4CACV,QAAQ;gDACN,SAAS,KAAK,mBAAmB,CAAC,OAAO;gDACzC,QAAQ,KAAK,mBAAmB,CAAC,MAAM;4CACzC;4CACA,kBAAkB;wCACpB;wCACA,8BAA8B,KAAK;oCACrC;gCACF,OAAO,IAAI,UAAU,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,IAAI,CAAC,MAAM,GAAG,GAAG;oCACtE,IAAI,KAAK,OAAO,KAAK,MAAM;wCACzB,IAAI,uBAAuB,MAAM;4CAC/B,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI;4CACN;4CACA,qBAAqB;wCACvB;wCACA,IAAI,4BAA4B,MAAM;4CACpC,0BAA0B,OAAO;4CACjC,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI;gDACJ,kBAAkB,KAAK,gBAAgB,GAAG;oDACxC,QAAQ;wDACN,kBAAkB,KAAK,gBAAgB;oDACzC;gDACF,IAAI,KAAK;4CACX;wCACF;wCACA,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN,IAAI;4CACJ,OAAO,KAAK,IAAI;4CAChB,kBAAkB,KAAK,gBAAgB,GAAG;gDACxC,QAAQ;oDAAE,kBAAkB,KAAK,gBAAgB;gDAAC;4CACpD,IAAI,KAAK;wCACX;oCACF,OAAO;wCACL,IAAI,4BAA4B,MAAM;4CACpC,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI;4CACN;4CACA,0BAA0B;wCAC5B;wCACA,IAAI,uBAAuB,MAAM;4CAC/B,qBAAqB,OAAO;4CAC5B,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI;gDACJ,kBAAkB,KAAK,gBAAgB,GAAG;oDACxC,QAAQ;wDACN,kBAAkB,KAAK,gBAAgB;oDACzC;gDACF,IAAI,KAAK;4CACX;wCACF;wCACA,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN,IAAI;4CACJ,OAAO,KAAK,IAAI;4CAChB,kBAAkB,KAAK,gBAAgB,GAAG;gDACxC,QAAQ;oDAAE,kBAAkB,KAAK,gBAAgB;gDAAC;4CACpD,IAAI,KAAK;wCACX;oCACF;gCACF;4BACF;4BACA,MAAM,kBAAkB,mBAAmB,QAAQ,KAAK;4BACxD,IAAI,mBAAmB,MAAM;gCAC3B,KAAK,MAAM,QAAQ,gBAAiB;oCAClC,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,WAAW,KAAK,UAAU,CAAC,QAAQ;wCACnC,MAAM,KAAK,UAAU,CAAC,IAAI;oCAC5B;gCACF;4BACF;4BACA,MAAM,iBAAiB,sBAAsB;gCAC3C,OAAO,QAAQ,KAAK;gCACpB,YAAY;4BACd;4BACA,IAAI,kBAAkB,MAAM;gCAC1B,KAAK,MAAM,YAAY,eAAgB;oCACrC,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,UAAU;wCACvB,UAAU,SAAS,QAAQ;wCAC3B,kBAAkB,SAAS,gBAAgB;oCAC7C;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,UAAU;wCACvB,OAAO,SAAS,IAAI;wCACpB,kBAAkB,SAAS,gBAAgB;oCAC7C;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,UAAU;wCACvB,kBAAkB,SAAS,gBAAgB;oCAC7C;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,YAAY,SAAS,UAAU;wCAC/B,UAAU,SAAS,QAAQ;wCAC3B,OAAO,SAAS,IAAI;wCACpB,kBAAkB,SAAS,gBAAgB;oCAC7C;oCACA,eAAe;gCACjB;4BACF;wBACF;wBACA,IAAI,UAAU,YAAY,IAAI,MAAM;4BAClC,eAAe,kCAAkC;gCAC/C,cAAc,UAAU,YAAY;gCACpC;4BACF;4BACA,mBAAmB;gCACjB,QAAQ;oCACN,gBAAgB,CAAC,KAAK,MAAM,cAAc,KAAK,OAAO,KAAK;oCAC3D,mBAAmB,CAAC,KAAK,UAAU,iBAAiB,KAAK,OAAO,KAAK;oCACrE,oBAAoB,CAAC,KAAK,UAAU,kBAAkB,KAAK,OAAO,KAAK;oCACvE,eAAe,CAAC,KAAK,UAAU,aAAa,KAAK,OAAO,KAAK;gCAC/D;4BACF;4BACA,IAAI,iBAAiB,MAAM;gCACzB,iBAAiB,MAAM,CAAC,aAAa,GAAG;4BAC1C;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,uBAAuB,MAAM;4BAC/B,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;4BACN;wBACF;wBACA,IAAI,4BAA4B,MAAM;4BACpC,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;4BACN;wBACF;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,UAAU;oBAAE,SAAS;gBAAgB;gBACrC,SAAS;oBAAE;gBAAK;YAClB;QACF;IACF;AACF;AACA,SAAS,sBAAsB,EAC7B,KAAK,EACL,YAAY,WAAW,EACxB;IACC,MAAM,oBAAoB,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,CAC7D,CAAC,OAAS,kBAAkB;IAE9B,OAAO,qBAAqB,QAAQ,kBAAkB,MAAM,KAAK,IAAI,KAAK,IAAI,kBAAkB,GAAG,CAAC,CAAC,OAAS,CAAC;YAC7G,MAAM;YACN,YAAY;YACZ,UAAU,KAAK,YAAY,CAAC,IAAI;YAChC,MAAM,KAAK,SAAS,CAAC,KAAK,YAAY,CAAC,IAAI;YAC3C,kBAAkB,KAAK,gBAAgB,GAAG;gBAAE,QAAQ;oBAAE,kBAAkB,KAAK,gBAAgB;gBAAC;YAAE,IAAI,KAAK;QAC3G,CAAC;AACH;AACA,SAAS,mBAAmB,KAAK;IAC/B,OAAO,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,CAC1C,CAAC,OAAS,gBAAgB;AAE9B;AACA,SAAS,eAAe,EACtB,iBAAiB,EACjB,YAAY,WAAW,EACxB;IACC,IAAI;IACJ,OAAO,CAAC,KAAK,qBAAqB,OAAO,KAAK,IAAI,kBAAkB,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,CAC/G,CAAC,QAAU,MAAM,GAAG,IAAI,MACxB,GAAG,CAAC,CAAC,QAAU,CAAC;YAChB,MAAM;YACN,YAAY;YACZ,IAAI;YACJ,KAAK,MAAM,GAAG,CAAC,GAAG;YAClB,OAAO,MAAM,GAAG,CAAC,KAAK;QACxB,CAAC;AACH;AACA,IAAI,6BAA6B,IAAM,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1D,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;QACrE,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;QACrE,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,iBAAiB,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,OAAO;QAC3F,iBAAiB,YAAY,CAAC,CAAC,KAAK,CAClC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,KAAK,YAAY,CAAC,CAAC,MAAM;gBAAI,OAAO,YAAY,CAAC,CAAC,MAAM;YAAG,GAAG,OAAO;YACjG,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,KAAK,YAAY,CAAC,CAAC,MAAM;gBAAI,OAAO,YAAY,CAAC,CAAC,MAAM;YAAG,GAAG,OAAO;QAChH,IACA,OAAO;QACT,mBAAmB,YAAY,CAAC,CAAC,KAAK,CACpC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC5B,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC1C,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACxC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACtC;YACA,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5C,uBAAuB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;YAC1E,qBAAqB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;YACxE,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;YACrE,iBAAiB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;QACtE,IACA,OAAO;QACT,mBAAmB,YAAY,CAAC,CAAC,KAAK,CAAC;YACrC,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,0BAA0B,YAAY,CAAC,CAAC,MAAM;YAChD;YACA,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;SACvB,EAAE,OAAO;IACZ;AACA,IAAI,mBAAmB,IAAM,YAAY,CAAC,CAAC,MAAM,CAAC;QAChD,OAAO,YAAY,CAAC,CAAC,KAAK,CACxB,YAAY,CAAC,CAAC,KAAK,CAAC;YAClB,oDAAoD;YACpD,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;oBACjC,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,MAAM,YAAY,CAAC,CAAC,OAAO;gBAC7B;gBACA,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClD;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC/B,UAAU,YAAY,CAAC,CAAC,MAAM;oBAC9B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;YACF;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnC,UAAU,YAAY,CAAC,CAAC,MAAM;oBAC9B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B,GAAG,OAAO;gBACV,qBAAqB,YAAY,CAAC,CAAC,MAAM,CAAC;oBACxC,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B,GAAG,OAAO;gBACV,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACpC,SAAS,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;gBACxC,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClD;SACD,GACD,OAAO;IACX;AACA,IAAI,wBAAwB,IAAM,YAAY,CAAC,CAAC,MAAM,CAAC;QACrD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC3C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC7C,SAAS,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;IAC1C;AACA,IAAI,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;IACrC,yBAAyB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvD,oBAAoB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClD,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAChD,sBAAsB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACpD,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;AACjD;AACA,IAAI,8BAA8B,IAAM,YAAY,CAAC,CAAC,MAAM,CAAC;QAC3D,aAAa,YAAY,CAAC,CAAC,KAAK,CAC9B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,oBAAoB,YAAY,CAAC,CAAC,MAAM;QAC1C;IAEJ;AACA,IAAI,iBAAiB,WACnB,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,mBAAmB,OAAO,GAAG,EAAE,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM;YACxE,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5C,eAAe,YAAY,CAAC,CAAC,KAAK,CAAC,yBAAyB,OAAO;YACnE,mBAAmB,6BAA6B,OAAO;YACvD,oBAAoB,8BAA8B,OAAO;QAC3D;QAEF,eAAe,YAAY,OAAO;QAClC,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3C,eAAe,YAAY,CAAC,CAAC,KAAK,CAAC,yBAAyB,OAAO;QACrE,GAAG,OAAO;IACZ;AAGJ,IAAI,cAAc,WAChB,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,mBAAmB,OAAO;YACnC,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5C,eAAe,YAAY,CAAC,CAAC,KAAK,CAAC,yBAAyB,OAAO;YACnE,mBAAmB,6BAA6B,OAAO;YACvD,oBAAoB,8BAA8B,OAAO;QAC3D,IACA,OAAO;QACT,eAAe,YAAY,OAAO;QAClC,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC3C,eAAe,YAAY,CAAC,CAAC,KAAK,CAAC,yBAAyB,OAAO;QACrE,GAAG,OAAO;IACZ;AAGJ,IAAI,gBAAgB,iDAAiD;IACnE,IAAI;IACJ,MAAM;IACN,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC;QAChC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC1C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACxC;IACA,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;QACjC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACzC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1C;AACF;AACA,IAAI,eAAe,iCAAiC;IAClD,IAAI;IACJ,MAAM;IACN,aAAa,WACX,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;gBAAgB;aAAmB,EAAE,OAAO,CAAC;YACvE,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC;QACnD;AAGN;AACA,IAAI,aAAa,iCAAiC;IAChD,IAAI;IACJ,MAAM;IACN,aAAa,WAAW,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAChE;AACA,IAAI,cAAc;IAChB;;;GAGC,GACD;IACA;;;GAGC,GACD;IACA;;;;;;;;;GASC,GACD;AACF;AACA,IAAI,+BAA+B;IACjC,YAAY,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAE;QACrC,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,mBAAmB;QACrB,IAAI;QACJ,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,gBAAgB,KAAK,OAAO,KAAK;IAC9D;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,EACJ,MAAM,EACN,IAAI,CAAC,EACL,OAAO,WAAW,EAClB,cAAc,KAAK,EACnB,IAAI,EACJ,eAAe,EACf,OAAO,EACP,WAAW,EACZ,GAAG;YACJ,MAAM,WAAW,EAAE;YACnB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,aAAa;gBACjB,aAAa;YACf;YACA,IAAI,eAAe,MAAM;gBACvB,WAAW,WAAW,GAAG;YAC3B;YACA,IAAI,eAAe;gBACjB,OAAO,MAAM,CAAC,YAAY;YAC5B;YACA,MAAM,OAAO;gBACX,WAAW;oBAAC;wBAAE;oBAAO;iBAAE;gBACvB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAC5D,SAAS,eAAe,CAAA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,GAAG;gBAC5D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,QAAQ,SAAS,WAAW,CAAC,GAAG,CAC9B,CAAC,IAAM,EAAE,kBAAkB;gBAE7B,UAAU,YAAY,OAAO,WAAW,EAAE;gBAC1C,kBAAkB;oBAChB,QAAQ;wBACN,QAAQ,SAAS,WAAW,CAAC,GAAG,CAAC,CAAC,aAAe,CAAC;4BAElD,CAAC;oBACH;gBACF;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;gBACX;YACF;QACF;IACF;AACF;AACA,IAAI,4BAA4B,WAC9B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,aAAa,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,oBAAoB,YAAY,CAAC,CAAC,MAAM;QAAG,IAAI,OAAO,CAAC,EAAE;IACnH;AAGJ,IAAI,mCAAmC,WACrC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,kBAAkB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAc;YAAe;SAAY,EAAE,OAAO;QACxF,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAO;YAAO;YAAQ;SAAO,EAAE,OAAO;IAChF;AAGJ,SAAS,yBAAyB,UAAU,CAAC,CAAC;IAC5C,IAAI;IACJ,MAAM,UAAU,CAAC,KAAK,qBAAqB,QAAQ,OAAO,CAAC,KAAK,OAAO,KAAK;IAC5E,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,kBAAkB,WAAW;gBAC3B,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf;QACF,GAAG,QAAQ,OAAO,GAClB,CAAC,cAAc,EAAE,UAAU;IAE7B,MAAM,kBAAkB,CAAC;QACvB,IAAI;QACJ,OAAO,IAAI,gCAAgC,SAAS;YAClD,UAAU;YACV;YACA,SAAS;YACT,YAAY,CAAC,MAAM,QAAQ,UAAU,KAAK,OAAO,MAAM;YACvD,eAAe,IAAM,CAAC;oBACpB,KAAK;wBACH,8CAA8C;wBAC9C,kEAAkE;wBAClE,IAAI,OAAO,CAAC,CAAC,EAAE,QAAQ,UAAU,CAAC;wBAClC,2CAA2C;wBAC3C,IAAI,OACF,CAAC,oEAAoE,CAAC;wBAExE,IAAI,OAAO,CAAC,8CAA8C,CAAC;qBAC5D;gBACH,CAAC;YACD,OAAO,QAAQ,KAAK;QACtB;IACF;IACA,MAAM,uBAAuB,CAAC,UAAY,IAAI,iCAAiC,SAAS;YACtF,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,mBAAmB,CAAC,SAAS,WAAW,CAAC,CAAC,GAAK,IAAI,6BAA6B,SAAS,UAAU;YACvG,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,gBAAgB;IACzB;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,YAAY,GAAG;IACxB,SAAS,SAAS,GAAG;IACrB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,KAAK,GAAG;IACjB,SAAS,UAAU,GAAG;IACtB,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,SAAS;AAEb,8HAA8H;AAC9H,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,kBAAkB,OAAO;IAChC,IAAI,IAAI;IACR,OAAO,CAAC,KAAK,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,CAAC;AACjI;AACA,SAAS,sCAAsC,MAAM;IACnD,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,MAAM,OAAQ;QACvB,MAAM,KAAK,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAI,UAAU,UAAU,IAAI;YAAC;YAAQ;SAAU;QAClF,MAAM,WAAW,kBAAkB,eAAe,CAAC,GAAG;QACtD,OAAQ;YACN,KAAK;gBAAU;oBACb,SAAS,IAAI,CAAC,eAAe;wBAAE,MAAM;wBAAU;oBAAQ,GAAG;oBAC1D;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC,eAAe;4BAC3B,MAAM;4BACN,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAC1B,GAAG,kBAAkB,OAAO,CAAC,EAAE;wBAC/B;oBACF;oBACA,SAAS,IAAI,CAAC,eAAe;wBAC3B,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC;4BACpB,MAAM,eAAe,kBAAkB;4BACvC,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO,eAAe;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC,GAAG;oCAC3D;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO,eAAe;gDACpB,MAAM;gDACN,WAAW;oDACT,KAAK,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACjH;4CACF,GAAG;wCACL,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4CACzD;wCACF;oCACF;4BACF;wBACF;oBACF,GAAG;oBACH;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,MAAM,eAAe,kBAAkB;wBACvC,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC,eAAe;wCAC5B,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF,GAAG;oCACH;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC,eAAe;wBAC3B,MAAM;wBACN,SAAS;wBACT,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD,GAAG;oBACH;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,MAAM,uBAAuB,kBAAkB;wBAC/C,SAAS,IAAI,CAAC,eAAe;4BAC3B,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX,GAAG;oBACL;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,gCAAgC,YAAY;IACnD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,kCAAkC,YAAY,CAAC,CAAC,MAAM,CAAC;IACzD;;;GAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACrC;;GAEC,GACD,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAChD;;GAEC,GACD,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AAChD;AACA,IAAI,kCAAkC,YAAY,CAAC,CAAC,MAAM,CAAC;IACzD,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,iEAAiE;QACjE,iEAAiE;QACjE,aAAa;QACb,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,OAAO,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QAClC,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,OAAO;IACrF;AACF;AACA,IAAI,wCAAwC;IAC1C,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,cAAc,EACrB,KAAK,EACL,UAAU,EACX;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,oBAAoB,EAAE;IAC5B,KAAK,MAAM,UAAU,MAAO;QAC1B,IAAI,OAAO,IAAI,KAAK,oBAAoB;YACtC,aAAa,IAAI,CAAC;gBAAE,MAAM;gBAAoB,MAAM;YAAO;QAC7D,OAAO;YACL,kBAAkB,IAAI,CAAC;gBACrB,MAAM;gBACN,UAAU;oBACR,MAAM,OAAO,IAAI;oBACjB,aAAa,OAAO,WAAW;oBAC/B,YAAY,OAAO,WAAW;gBAChC;YACF;QACF;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAmB,YAAY,KAAK;YAAG;QAAa;IACtE;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAmB,YAAY;gBAAM;YAAa;QACpE,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY;oBACV,MAAM;oBACN,UAAU;wBAAE,MAAM,WAAW,QAAQ;oBAAC;gBACxC;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,oCAAoC;IACtC,gCAAgC;IAChC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,IAAI;QACR,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,MAAM,iBAAiB,CAAC,KAAK,OAAO,cAAc,KAAK,OAAO,KAAK;QACnE,IAAI,CAAC,WAAW,GAAG,sCACjB,eAAe,WAAW;QAE5B,IAAI,CAAC,qBAAqB,GAAG,+BAA+B;QAC5D,IAAI,CAAC,yBAAyB,GAAG,CAAC,KAAK,OAAO,yBAAyB,KAAK,OAAO,KAAK;IAC1F;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI;IAChD;IACA,IAAI,gBAAgB;QAClB,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,CAAC;IACvG;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,UAAU,EACV,KAAK,EACN;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,oBAAoB,OAAO,MAAM,CACrC,CAAC,KAAK,MAAM,qBAAqB;gBAC/B,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC,GACpB,CAAC,KAAK,MAAM,qBAAqB;gBAC/B,UAAU,IAAI,CAAC,mBAAmB;gBAClC;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YAEtB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,yBAAyB,EAAE;gBAC1I,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,cAAc;gBAChB;gBACA;YACF;YACA,OAAO;gBACL,MAAM,cAAc,eAAe;oBACjC,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,2BAA2B;oBAC3B,MAAM,kBAAkB,IAAI;oBAC5B,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,IAAI,CAAC,yBAAyB,KAAK,QAAQ,eAAe,MAAM,IAAI,OAAO;wBAC/J,MAAM;wBACN,aAAa;4BACX,QAAQ,eAAe,MAAM;4BAC7B,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;4BAChD,aAAa,eAAe,WAAW;wBACzC;oBACF,IAAI;wBAAE,MAAM;oBAAc,IAAI,KAAK;oBACnC,MAAM;oBACN;gBACF,GAAG,OAAO,WAAW,CACnB,OAAO,OAAO,CACZ,CAAC,KAAK,mBAAmB,OAAO,KAAK,IAAI,eAAe,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,OAAO,KAAK,CAAC,GACpG,MAAM,CACN,CAAC,CAAC,IAAI,GAAK,CAAC,OAAO,IAAI,CAAC,gCAAgC,KAAK,EAAE,QAAQ,CAAC,SAExE;oBACF,kBAAkB,kBAAkB,eAAe;oBACnD,WAAW,kBAAkB,aAAa;oBAC1C,YAAY;oBACZ,UAAU,sCAAsC;oBAChD,SAAS;oBACT,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACpE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;YACjE,MAAM,OAAO,KAAK,SAAS,CAAC;YAC5B,MAAM,EACJ,eAAe,EACf,OAAO,YAAY,EACnB,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB,IAAI,CAAC,qBAAqB;gBACjD,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,aAAa,OAAO,CAAC,EAAE;YACtC,MAAM,UAAU,EAAE;YAClB,MAAM,OAAO,OAAO,OAAO,CAAC,OAAO;YACnC,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;gBACnC,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ;gBAAK;YACpC;YACA,MAAM,YAAY,CAAC,KAAK,OAAO,OAAO,CAAC,iBAAiB,KAAK,OAAO,KAAK,OAAO,OAAO,CAAC,SAAS;YACjG,IAAI,aAAa,QAAQ,UAAU,MAAM,GAAG,GAAG;gBAC7C,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,MAAM;gBACR;YACF;YACA,IAAI,OAAO,OAAO,CAAC,UAAU,IAAI,MAAM;gBACrC,KAAK,MAAM,YAAY,OAAO,OAAO,CAAC,UAAU,CAAE;oBAChD,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wBAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oBACpC;gBACF;YACF;YACA,MAAM,mBAAmB,eAAe;gBACtC,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC;YAC/B,GAAG,CAAA,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,iBAAiB,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI;gBACxH,YAAY;YACd,EAAC;YACD,MAAM,yBAAyB,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,yBAAyB;YACxG,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,gBAAgB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YACnK;YACA,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,gBAAgB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YACnK;YACA,OAAO;gBACL;gBACA,cAAc,gCAAgC,OAAO,aAAa;gBAClE,OAAO;oBACL,aAAa,CAAC,KAAK,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;oBACtG,cAAc,CAAC,KAAK,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBAC3G,aAAa,CAAC,KAAK,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;oBACrG,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBACpK,mBAAmB,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,aAAa,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;gBACjK;gBACA;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,gBAAgB;oBAC9E,SAAS;oBACT,MAAM;gBACR;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;YACjE,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,iEAAiE;gBACjE,gBAAgB,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;oBAAE,eAAe;gBAAK,IAAI,KAAK;YAC5E;YACA,MAAM,oBAAoB,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,iBAAiB,KAAK,OAAO,KAAK,IAAI,GAAG,qBAAqB;YAC1G,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB,IAAI,CAAC,qBAAqB;gBACjD,2BAA2B,iCACzB,IAAI,CAAC,WAAW;gBAElB,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,YAAY,EAAE;YACpB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,kBAAkB,KAAK;gBACvB,yBAAyB;oBACvB,iBAAiB,KAAK;oBACtB,0BAA0B,KAAK;oBAC/B,0BAA0B,KAAK;gBACjC;gBACA,cAAc,KAAK;gBACnB,qBAAqB;oBACnB,cAAc,KAAK;gBACrB;gBACA,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,MAAM,sBAAsB,IAAI,CAAC,mBAAmB;YACpD,IAAI,oBAAoB;YACxB,IAAI,eAAe;YACnB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,mFAAmF;oBACnF,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACrD,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,qBAAqB,OAAO,KAAK,IAAI,kBAAkB,YAAY,CAAC,MAAM,QAAQ;wBAClF,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK,CAAC,OAAO;4BAAC;4BAC/D;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;wBAC1B;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,EACJ,aAAa,EACb,iBAAiB,EACjB,YAAY,EACZ,qBAAqB,EACrB,yBAAyB,EAC1B,GAAG,MAAM,KAAK;4BACf,MAAM,YAAY,GAAG,iBAAiB,OAAO,gBAAgB,KAAK;4BAClE,MAAM,gBAAgB,GAAG,qBAAqB,OAAO,oBAAoB,KAAK;4BAC9E,MAAM,WAAW,GAAG,gBAAgB,OAAO,eAAe,KAAK;4BAC/D,IAAI,CAAC,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,gBAAgB,KAAK,MAAM;gCACrG,MAAM,uBAAuB,CAAC,eAAe,GAAG,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,gBAAgB;4BACzI;4BACA,IAAI,CAAC,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,0BAA0B,KAAK,MAAM;gCAC/G,MAAM,uBAAuB,CAAC,wBAAwB,GAAG,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,0BAA0B;4BAC5J;4BACA,IAAI,CAAC,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,0BAA0B,KAAK,MAAM;gCAC/G,MAAM,uBAAuB,CAAC,wBAAwB,GAAG,6BAA6B,OAAO,KAAK,IAAI,0BAA0B,0BAA0B;4BAC5J;4BACA,IAAI,CAAC,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,aAAa,KAAK,MAAM;gCAC1F,MAAM,mBAAmB,CAAC,YAAY,GAAG,yBAAyB,OAAO,KAAK,IAAI,sBAAsB,aAAa;4BACvH;wBACF;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,gCACb,OAAO,aAAa;wBAExB;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,MAAM,mBAAmB,CAAC,MAAM,MAAM,iBAAiB,KAAK,OAAO,MAAM,MAAM,SAAS;wBACxF,IAAI,kBAAkB;4BACpB,IAAI,CAAC,mBAAmB;gCACtB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;gCACA,oBAAoB;4BACtB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO;4BACT;wBACF;wBACA,IAAI,MAAM,OAAO,EAAE;4BACjB,IAAI,CAAC,cAAc;gCACjB,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAQ;gCACrD,eAAe;4BACjB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,OAAO;4BACtB;wBACF;wBACA,IAAI,MAAM,UAAU,IAAI,MAAM;4BAC5B,KAAK,MAAM,iBAAiB,MAAM,UAAU,CAAE;gCAC5C,MAAM,QAAQ,cAAc,KAAK;gCACjC,IAAI,SAAS,CAAC,MAAM,IAAI,MAAM;oCAC5B,IAAI,cAAc,EAAE,IAAI,MAAM;wCAC5B,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,6BAA6B,CAAC;wCAC1C;oCACF;oCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,MAAM;wCACtE,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,wCAAwC,CAAC;wCACrD;oCACF;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,cAAc,EAAE;wCACpB,UAAU,cAAc,QAAQ,CAAC,IAAI;oCACvC;oCACA,SAAS,CAAC,MAAM,GAAG;wCACjB,IAAI,cAAc,EAAE;wCACpB,MAAM;wCACN,UAAU;4CACR,MAAM,cAAc,QAAQ,CAAC,IAAI;4CACjC,WAAW,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;wCACpE;wCACA,aAAa;oCACf;oCACA,MAAM,YAAY,SAAS,CAAC,MAAM;oCAClC,IAAI,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;wCACzI,IAAI,UAAU,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG;4CAC3C,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;gDAChB,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;wCACF;wCACA,IAAI,eAAe,UAAU,QAAQ,CAAC,SAAS,GAAG;4CAChD,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;4CAClB;4CACA,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,YAAY,CAAC,KAAK,UAAU,EAAE,KAAK,OAAO,KAAK;gDAC/C,UAAU,UAAU,QAAQ,CAAC,IAAI;gDACjC,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;4CACA,UAAU,WAAW,GAAG;wCAC1B;oCACF;oCACA;gCACF;gCACA,MAAM,WAAW,SAAS,CAAC,MAAM;gCACjC,IAAI,SAAS,WAAW,EAAE;oCACxB;gCACF;gCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;oCAC3E,SAAS,QAAQ,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,OAAO,KAAK;gCACrH;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,EAAE;oCACf,OAAO,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;gCAChE;gCACA,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,QAAQ,eAAe,SAAS,QAAQ,CAAC,SAAS,GAAG;oCACtL,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,EAAE;oCACjB;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wCAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oCACpC;oCACA,SAAS,WAAW,GAAG;gCACzB;4BACF;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;wBACzB,IAAI,mBAAmB;4BACrB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAiB,IAAI;4BAAc;wBAChE;wBACA,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAQ;wBACrD;wBACA,KAAK,MAAM,YAAY,UAAU,MAAM,CACrC,CAAC,YAAc,CAAC,UAAU,WAAW,EACpC;4BACD,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,SAAS,EAAE;4BACjB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,YAAY,CAAC,MAAM,SAAS,EAAE,KAAK,OAAO,MAAM;gCAChD,UAAU,SAAS,QAAQ,CAAC,IAAI;gCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;4BACpC;wBACF;wBACA,MAAM,mBAAmB,eAAe;4BACtC,CAAC,oBAAoB,EAAE,CAAC;wBAC1B,GAAG,qBAAqB,OAAO,KAAK,IAAI,kBAAkB,aAAa;wBACvE,IAAI,MAAM,uBAAuB,CAAC,wBAAwB,IAAI,MAAM;4BAClE,gBAAgB,CAAC,oBAAoB,CAAC,wBAAwB,GAAG,MAAM,uBAAuB,CAAC,wBAAwB;wBACzH;wBACA,IAAI,MAAM,uBAAuB,CAAC,wBAAwB,IAAI,MAAM;4BAClE,gBAAgB,CAAC,oBAAoB,CAAC,wBAAwB,GAAG,MAAM,uBAAuB,CAAC,wBAAwB;wBACzH;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA,OAAO;gCACL,aAAa,CAAC,KAAK,MAAM,YAAY,KAAK,OAAO,KAAK,KAAK;gCAC3D,cAAc,CAAC,KAAK,MAAM,gBAAgB,KAAK,OAAO,KAAK,KAAK;gCAChE,aAAa,CAAC,KAAK,MAAM,WAAW,KAAK,OAAO,KAAK,KAAK;gCAC1D,iBAAiB,CAAC,KAAK,MAAM,uBAAuB,CAAC,eAAe,KAAK,OAAO,KAAK,KAAK;gCAC1F,mBAAmB,CAAC,KAAK,MAAM,mBAAmB,CAAC,YAAY,KAAK,OAAO,KAAK,KAAK;4BACvF;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,mCAAmC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC1D,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC7C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACjD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC5C,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C,GAAG,OAAO;IACV,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;QAC9C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC1D,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC5D,GAAG,OAAO;AACZ,GAAG,OAAO;AACV,IAAI,qCAAqC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5D,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC,aAAa,OAAO;YAChD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACjD,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACzC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAClC,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;YACF,IACA,OAAO;QACX;QACA,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,OAAO;AACT;AACA,IAAI,wCAAwC,CAAC,cAAgB,YAAY,CAAC,CAAC,KAAK,CAAC;QAC/E,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1B,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;wBAAC;qBAAY,EAAE,OAAO;oBAC/C,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACvC,kEAAkE;oBAClE,yDAAyD;oBACzD,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACjD,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACzC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBAClC,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;4BAC7B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACpC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBAC3C;oBACF,IACA,OAAO;gBACX,GAAG,OAAO;gBACV,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC/C;YAEF,OAAO;QACT;QACA;KACD;AACD,SAAS,0CAA0C,EACjD,MAAM,EACN,OAAO,MAAM,EACb,YAAY,WAAW,EACxB;IACC,IAAI,OAAO;IACX,IAAI,MAAM,CAAC,EAAE,CAAC,IAAI,KAAK,UAAU;QAC/B,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;;AAEjC,CAAC;QACG,SAAS,OAAO,KAAK,CAAC;IACxB;IACA,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,MAAM,IAAI,kBAAkB,kBAAkB,CAAC;wBAC7C,SAAS;wBACT;oBACF;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,cAAc,QAAQ,GAAG,CAAC,CAAC;wBAC/B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;wBACF;oBACF,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;oBACxB,QAAQ,GAAG,KAAK;AACxB,EAAE,YAAY;;AAEd,CAAC;oBACO;gBACF;YACA,KAAK;gBAAa;oBAChB,MAAM,mBAAmB,QAAQ,GAAG,CAAC,CAAC;wBACpC,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wCACxD,eAAe;oCACjB;gCACF;wBACF;oBACF,GAAG,IAAI,CAAC;oBACR,QAAQ,GAAG,UAAU;AAC7B,EAAE,iBAAiB;;AAEnB,CAAC;oBACO;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,QAAQ,GAAG,UAAU;AACvB,CAAC;IACC,OAAO;QACL,QAAQ;QACR,eAAe;YAAC,CAAC;AACrB,EAAE,KAAK,CAAC,CAAC;SAAC;IACR;AACF;AACA,SAAS,sBAAsB,EAC7B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,iCAAiC,YAAY;IACpD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,4CAA4C,YAAY,CAAC,CAAC,MAAM,CAAC;IACnE;;GAEC,GACD,MAAM,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACtC;;;;;GAKC,GACD,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;IACxF;;GAEC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACvC;;;GAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AACvC;AACA,IAAI,0CAA0C;IAC5C,gCAAgC;IAChC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI;QACJ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,MAAM,iBAAiB,CAAC,KAAK,OAAO,cAAc,KAAK,OAAO,KAAK;QACnE,IAAI,CAAC,WAAW,GAAG,4CACjB,eAAe,WAAW;QAE5B,IAAI,CAAC,qBAAqB,GAAG,+BAA+B;IAC9D;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI;IAChD;IACA,IAAI,gBAAgB;QAClB,IAAI,IAAI,IAAI;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,aAAa,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,CAAC;IACvG;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,eAAe,iBAAiB,EAChC,cAAc,EACd,IAAI,EACJ,eAAe,EACf,KAAK,EACL,UAAU,EACX;YACC,IAAI;YACJ,MAAM,WAAW,EAAE;YACnB,MAAM,oBAAoB,CAAC,KAAK,MAAM,qBAAqB;gBACzD,UAAU,IAAI,CAAC,mBAAmB;gBAClC;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,EAAE;gBACzC,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAQ;YAChE;YACA,IAAI,cAAc,MAAM;gBACtB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAa;YACrE;YACA,IAAI,kBAAkB,QAAQ,eAAe,IAAI,KAAK,QAAQ;gBAC5D,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,gBAAgB,EAAE,aAAa,EAAE,GAAG,0CAA0C;gBAAE;YAAO;YACvG,MAAM,QAAQ;mBAAI,iBAAiB,OAAO,gBAAgB,EAAE;mBAAK,qBAAqB,OAAO,oBAAoB,EAAE;aAAC;YACpH,OAAO;gBACL,MAAM,cAAc,eAAe;oBACjC,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,2BAA2B;oBAC3B,MAAM,kBAAkB,IAAI;oBAC5B,YAAY,kBAAkB,SAAS;oBACvC,QAAQ,kBAAkB,MAAM;oBAChC,MAAM,kBAAkB,IAAI;oBAC5B,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB;gBACF,GAAG,mBAAmB,OAAO,KAAK,IAAI,eAAe,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG;oBAChF,UAAU;oBACV,QAAQ;oBACR,kBAAkB;oBAClB,MAAM,MAAM,MAAM,GAAG,IAAI,QAAQ,KAAK;gBACxC;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB,IAAI,CAAC,qBAAqB;gBACjD,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,IAAI,OAAO,IAAI,IAAI,QAAQ,OAAO,IAAI,CAAC,MAAM,GAAG,GAAG;gBACjD,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ,MAAM,OAAO,IAAI;gBAAC;YACjD;YACA,OAAO;gBACL;gBACA,OAAO;oBACL,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;oBAClG,cAAc,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBACvG,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;gBACnG;gBACA,cAAc,iCAAiC,OAAO,aAAa;gBACnE,SAAS;oBAAE,MAAM;gBAAK;gBACtB,UAAU,cAAc,eAAe,CAAC,GAAG,sBAAsB,YAAY;oBAC3E,SAAS;oBACT,MAAM;gBACR;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,iEAAiE;gBACjE,gBAAgB,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;oBAAE,eAAe;gBAAK,IAAI,KAAK;YAC5E;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB,IAAI,CAAC,qBAAqB;gBACjD,2BAA2B,iCACzB,IAAI,CAAC,WAAW;gBAElB,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI;wBACZ,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,sBAAsB;4BACzB,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;4BACN;wBACF;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK,KAAK;4BACzE,MAAM,YAAY,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK,KAAK;4BAC9E,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK,KAAK;wBAC1E;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,iCACb,OAAO,aAAa;wBAExB;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,IAAI,KAAK,MAAM;4BACnD,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,OAAO,IAAI;4BACpB;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,CAAC,cAAc;4BACjB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,eAAe,YAAY,CAAC,CAAC,MAAM,CAAC;IACtC,eAAe,YAAY,CAAC,CAAC,MAAM;IACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;IACvC,cAAc,YAAY,CAAC,CAAC,MAAM;AACpC;AACA,IAAI,2CAA2C,YAAY,CAAC,CAAC,MAAM,CAAC;IAClE,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,eAAe,YAAY,CAAC,CAAC,MAAM;IACrC;IAEF,OAAO,aAAa,OAAO;AAC7B;AACA,IAAI,8CAA8C,CAAC,cAAgB,YAAY,CAAC,CAAC,KAAK,CAAC;QACrF,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,OAAO,YAAY,CAAC,CAAC,MAAM;YAC7B;YAEF,OAAO,aAAa,OAAO;QAC7B;QACA;KACD;AACD,IAAI,2CAA2C,YAAY,CAAC,CAAC,MAAM,CAAC;IAClE;;;GAGC,GACD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC3C;;;GAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AACvC;AACA,IAAI,iCAAiC;IACnC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,uBAAuB;QACzB,IAAI;QACJ,OAAO,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,oBAAoB,KAAK,OAAO,KAAK;IAChE;IACA,IAAI,wBAAwB;QAC1B,IAAI;QACJ,OAAO,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,qBAAqB,KAAK,OAAO,KAAK;IACjE;IACA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI;IAChD;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EAChB;YACC,IAAI,IAAI,IAAI;YACZ,MAAM,oBAAoB,OAAO,MAAM,CACrC,CAAC,KAAK,MAAM,qBAAqB;gBAC/B,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC,GACpB,CAAC,KAAK,MAAM,qBAAqB;gBAC/B,UAAU,IAAI,CAAC,mBAAmB;gBAClC;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YAEtB,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM;oBACJ,OAAO,IAAI,CAAC,OAAO;oBACnB,OAAO;oBACP,iBAAiB;oBACjB,YAAY,kBAAkB,UAAU;oBACxC,MAAM,kBAAkB,IAAI;gBAC9B;gBACA,uBAAuB,+BACrB,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,cAAc,KAAK,OAAO,KAAK;gBAEnD,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;gBACtD,OAAO,SAAS,KAAK,GAAG;oBAAE,QAAQ,SAAS,KAAK,CAAC,aAAa;gBAAC,IAAI,KAAK;gBACxE,kBAAkB,SAAS,gBAAgB;gBAC3C,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,qCAAqC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5D,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;IAAI;IACxG,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,eAAe,YAAY,CAAC,CAAC,MAAM;IAAG,GAAG,OAAO;IAC9E,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,GAAG,KAAK,QAAQ;AAC5I;AACA,IAAI,6BAA6B;IAC/B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,gBAAgB,GAAG;IAC1B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,EAAE,EAAE;QACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,CAAC,EACD,IAAI,EACJ,WAAW,EACX,IAAI,EACJ,eAAe,EACf,OAAO,EACP,WAAW,EACZ;YACC,IAAI,IAAI,IAAI,IAAI,IAAI;YACpB,MAAM,WAAW,EAAE;YACnB,IAAI,eAAe,MAAM;gBACvB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,OAAO,QAAQ,EAAE,eAAe,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM,cAAc,eAAe;oBACjC,OAAO,IAAI,CAAC,OAAO;oBACnB;oBACA;oBACA;gBACF,GAAG,CAAC,KAAK,gBAAgB,MAAM,KAAK,OAAO,KAAK,CAAC,IAAI;oBACnD,iBAAiB;gBACnB;gBACA,uBAAuB,+BACrB,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,cAAc,KAAK,OAAO,KAAK;gBAEnD,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,QAAQ,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,QAAQ;gBACjD;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;gBACX;YACF;QACF;IACF;AACF;AACA,IAAI,sCAAsC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC7D,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,UAAU,YAAY,CAAC,CAAC,MAAM;IAAG;AACpF;AAEA,kGAAkG;AAClG,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,yBAAyB,MAAM;IACtC,MAAM,WAAW,EAAE;IACnB,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,SAAS,IAAI,CAAC;wBAAE,MAAM;wBAAU;oBAAQ;oBACxC;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAAC;wBACvD;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC;4BACpB,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC;oCACzC;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO;gDACL,MAAM;gDACN,WAAW;oDACT,KAAK,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACjH;4CACF;wCACF,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4CACzD;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF;oCACA;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;QAAE;QAAU;IAAS;AAC9B;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,mBAAmB,YAAY;IACtC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC;IACzC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;IAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,QAAQ;IAClD,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,QAAQ;IAC7E,iBAAiB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,QAAQ;IAC5E,YAAY,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;AAC9C;AACA,IAAI,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;IACvC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;IAC5B,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;IACtE,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;IACtE,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;IACxD,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ;IACpD;;GAEC,GACD,UAAU,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;AAChE;AACA,IAAI,mBAAmB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC1C,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;IAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,QAAQ;IAClD,kBAAkB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,QAAQ;IAC7E,YAAY,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;AAC9C;AACA,IAAI,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC;IACzC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;IAC5B,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC;AAE/D;AACA,IAAI,qBAAqB,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;IAChE;IACA;IACA;IACA;CACD;AACD,IAAI,qBAAqB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5C,iBAAiB,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAO;KAAO,EAAE,QAAQ;IAC7D,kBAAkB,YAAY,CAAC,CAAC,MAAM,CAAC;QACrC;;;;;KAKC,GACD,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAQ;SAAK;QAC9C;;;KAGC,GACD,iBAAiB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACjD;;KAEC,GACD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACzC;;KAEC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACvC;;;KAGC,GACD,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,QAAQ;QAChE;;;KAGC,GACD,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,oBAAoB,QAAQ;IAC3D,GAAG,QAAQ;AACb;AACA,IAAI,qBAAqB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5C,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,OAAO,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QAClC,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,OAAO;IACrF;AACF;AACA,IAAI,2BAA2B,+BAA+B;IAC5D,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,cAAc,EACrB,KAAK,EACL,UAAU,EACX;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,UAAU,MAAO;QAC1B,IAAI,OAAO,IAAI,KAAK,oBAAoB;YACtC,aAAa,IAAI,CAAC;gBAAE,MAAM;gBAAoB,MAAM;YAAO;QAC7D,OAAO;YACL,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,UAAU;oBACR,MAAM,OAAO,IAAI;oBACjB,aAAa,OAAO,WAAW;oBAC/B,YAAY,OAAO,WAAW;gBAChC;YACF;QACF;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAU,YAAY,KAAK;YAAG;QAAa;IAC7D;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAU,YAAY;gBAAM;YAAa;QAC3D,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAU,YAAY;gBAAY;YAAa;QACjE,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY;oBACV,MAAM;oBACN,UAAU;wBAAE,MAAM,WAAW,QAAQ;oBAAC;gBACxC;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,uBAAuB;IACzB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;QAChC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,IAAI,EACJ,cAAc,EACd,eAAe,EACf,KAAK,EACL,UAAU,EACX;YACC,IAAI,IAAI,IAAI;YACZ,MAAM,WAAW,EAAE;YACnB,MAAM,UAAU,CAAC,KAAK,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,oBAAoB,MAAM;gBAC5B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,mBAAmB,MAAM;gBAC3B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,iBAAiB,MAAM;gBACzB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,kBAAkB,QAAQ,eAAe,IAAI,KAAK,UAAU,eAAe,MAAM,IAAI,MAAM;gBAC7F,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,EAAE,UAAU,eAAe,EAAE,GAAG,yBAAyB;YACzE,SAAS,IAAI,IAAI;YACjB,MAAM,EACJ,OAAO,QAAQ,EACf,YAAY,aAAa,EACzB,YAAY,EACb,GAAG,cAAc;gBAChB;gBACA;YACF;YACA,SAAS,IAAI,IAAI;YACjB,MAAM,WAAW;gBACf,WAAW;gBACX,OAAO,IAAI,CAAC,OAAO;gBACnB,+BAA+B;gBAC/B,YAAY;gBACZ;gBACA,OAAO;gBACP;gBACA,kBAAkB,QAAQ,eAAe;gBACzC,kBAAkB;gBAClB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,eAAe,MAAM,IAAI,OAAO;oBACpH,MAAM;oBACN,aAAa;wBACX,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,QAAQ,eAAe,MAAM;wBAC7B,QAAQ;oBACV;gBACF,IAAI;oBAAE,MAAM;gBAAc,IAAI,KAAK;gBACnC,oBAAoB;gBACpB,mBAAmB,QAAQ,gBAAgB,GAAG;oBAC5C,MAAM,QAAQ,gBAAgB,CAAC,IAAI;oBACnC,kBAAkB,QAAQ,gBAAgB,CAAC,eAAe;oBAC1D,WAAW,QAAQ,gBAAgB,CAAC,QAAQ;oBAC5C,SAAS,QAAQ,gBAAgB,CAAC,MAAM;oBACxC,oBAAoB,QAAQ,gBAAgB,CAAC,gBAAgB;oBAC7D,SAAS,CAAC,KAAK,QAAQ,gBAAgB,CAAC,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC;wBAC1E,IAAI;wBACJ,OAAO,eAAe,eAAe,eAAe,eAAe;4BACjE,MAAM,OAAO,IAAI;wBACnB,GAAG,OAAO,IAAI,KAAK,SAAS;4BAC1B,SAAS,OAAO,OAAO;4BACvB,mBAAmB,OAAO,gBAAgB;4BAC1C,kBAAkB,OAAO,eAAe;4BACxC,aAAa,OAAO,UAAU;wBAChC,IAAI,OAAO,IAAI,KAAK,OAAO;4BACzB,oBAAoB,OAAO,gBAAgB;4BAC3C,oBAAoB,CAAC,MAAM,OAAO,gBAAgB,KAAK,OAAO,MAAM,OAAO,QAAQ;4BACnF,qBAAqB,OAAO,iBAAiB;4BAC7C,iBAAiB,OAAO,aAAa;wBACvC,IAAI,OAAO,IAAI,KAAK,UAAU;4BAC5B,SAAS,OAAO,OAAO;4BACvB,mBAAmB,OAAO,gBAAgB;4BAC1C,aAAa,OAAO,UAAU;wBAChC,IAAI,OAAO,IAAI,KAAK,SAAS;4BAC3B,OAAO,OAAO,KAAK;wBACrB;oBACF;gBACF,IAAI,KAAK;gBACT,yBAAyB;gBACzB;gBACA,sBAAsB;gBACtB,OAAO;gBACP,aAAa;YACf;YACA,OAAO;gBACL,MAAM;gBACN;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACpD,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,OAAO,KAAK,OAAO,KAAK,sBAAsB,iBAAiB,CAAC;gBAC1F,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,IAAI,OAAO,OAAO,CAAC,OAAO,IAAI,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG;gBACvE,IAAI,OAAO,OAAO,OAAO,CAAC,OAAO;gBACjC,MAAM,cAAc,KAAK,QAAQ,CAAC,KAAK,QAAQ,CAAC,MAAM,GAAG,EAAE;gBAC3D,IAAI,CAAC,eAAe,OAAO,KAAK,IAAI,YAAY,IAAI,MAAM,eAAe,SAAS,YAAY,OAAO,EAAE;oBACrG,OAAO;gBACT;gBACA,IAAI,KAAK,MAAM,GAAG,GAAG;oBACnB,QAAQ,IAAI,CAAC;wBAAE,MAAM;wBAAQ;oBAAK;gBACpC;YACF;YACA,IAAI,OAAO,OAAO,CAAC,iBAAiB,IAAI,QAAQ,OAAO,OAAO,CAAC,iBAAiB,CAAC,MAAM,GAAG,GAAG;gBAC3F,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,MAAM,OAAO,OAAO,CAAC,iBAAiB;gBACxC;YACF;YACA,IAAI,OAAO,OAAO,CAAC,UAAU,IAAI,MAAM;gBACrC,KAAK,MAAM,YAAY,OAAO,OAAO,CAAC,UAAU,CAAE;oBAChD,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY,SAAS,EAAE;wBACvB,UAAU,SAAS,QAAQ,CAAC,IAAI;wBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oBACpC;gBACF;YACF;YACA,IAAI,SAAS,SAAS,IAAI,MAAM;gBAC9B,KAAK,MAAM,OAAO,SAAS,SAAS,CAAE;oBACpC,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY;wBACZ,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU;wBAC1B;oBACF;gBACF;YACF;YACA,OAAO;gBACL;gBACA,cAAc,mBAAmB,OAAO,aAAa;gBACrD,OAAO;oBACL,aAAa,SAAS,KAAK,CAAC,aAAa;oBACzC,cAAc,SAAS,KAAK,CAAC,iBAAiB;oBAC9C,aAAa,SAAS,KAAK,CAAC,YAAY;oBACxC,iBAAiB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;gBACrI;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,gBAAgB;oBACd,eAAe;gBACjB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,OAAO,KAAK,OAAO,KAAK,sBAAsB,iBAAiB,CAAC;gBAC1F,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCAAiC;gBAC5D,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,MAAM,gBAAgB,CAAC;YACvB,MAAM,sBAAsB,CAAC;YAC7B,MAAM,OAAO,IAAI;YACjB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,KAAK;wBACT,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;4BACxB,eAAe;wBACjB;wBACA,IAAI,MAAM,SAAS,IAAI,MAAM;4BAC3B,KAAK,MAAM,OAAO,MAAM,SAAS,CAAE;gCACjC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,KAAK,MAAM,CAAC,UAAU;oCAC1B;gCACF;4BACF;wBACF;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,aAAa;4BAC7C,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,iBAAiB;4BAClD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,YAAY;4BAC5C,MAAM,eAAe,GAAG,CAAC,KAAK,CAAC,MAAM,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,IAAI,gBAAgB,KAAK,OAAO,KAAK,KAAK;wBAC3I;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,mBAAmB,OAAO,aAAa;wBACxD;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,MAAM,cAAc,OAAO,KAAK;wBAChC,IAAI,MAAM,OAAO,IAAI,QAAQ,MAAM,OAAO,CAAC,MAAM,GAAG,GAAG;4BACrD,MAAM,cAAc,MAAM,OAAO;4BACjC,MAAM,cAAc,KAAK,QAAQ,CAAC,KAAK,QAAQ,CAAC,MAAM,GAAG,EAAE;4BAC3D,IAAI,CAAC,eAAe,OAAO,KAAK,IAAI,YAAY,IAAI,MAAM,eAAe,gBAAgB,YAAY,OAAO,EAAE;gCAC5G;4BACF;4BACA,MAAM,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,aAAa;4BACjD,IAAI,aAAa,CAAC,QAAQ,IAAI,MAAM;gCAClC,aAAa,CAAC,QAAQ,GAAG;oCAAE,MAAM;gCAAO;gCACxC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;4BACF;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO;4BACT;wBACF;wBACA,IAAI,MAAM,iBAAiB,IAAI,QAAQ,MAAM,iBAAiB,CAAC,MAAM,GAAG,GAAG;4BACzE,MAAM,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,IAAI,aAAa;4BACtD,IAAI,mBAAmB,CAAC,QAAQ,KAAK,MAAM,iBAAiB,EAAE;gCAC5D;4BACF;4BACA,mBAAmB,CAAC,QAAQ,GAAG,MAAM,iBAAiB;4BACtD,IAAI,aAAa,CAAC,QAAQ,IAAI,MAAM;gCAClC,aAAa,CAAC,QAAQ,GAAG;oCAAE,MAAM;gCAAY;gCAC7C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;4BACF;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,iBAAiB;4BAChC;wBACF;wBACA,IAAI,MAAM,UAAU,IAAI,MAAM;4BAC5B,KAAK,MAAM,YAAY,MAAM,UAAU,CAAE;gCACvC,MAAM,aAAa,SAAS,EAAE;gCAC9B,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;oCACJ,UAAU,SAAS,QAAQ,CAAC,IAAI;gCAClC;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;oCACJ,OAAO,SAAS,QAAQ,CAAC,SAAS;gCACpC;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN;oCACA,UAAU,SAAS,QAAQ,CAAC,IAAI;oCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;gCACpC;4BACF;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,KAAK,MAAM,CAAC,SAAS,MAAM,IAAI,OAAO,OAAO,CAAC,eAAgB;4BAC5D,WAAW,OAAO,CAAC;gCACjB,MAAM,MAAM,IAAI,KAAK,SAAS,aAAa;gCAC3C,IAAI;4BACN;wBACF;wBACA,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAU;4BAAc;wBAAM;oBAC3D;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,iBAAiB,YAAY,CAAC,CAAC,MAAM,CAAC;IACxC,eAAe,YAAY,CAAC,CAAC,MAAM;IACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;IACvC,cAAc,YAAY,CAAC,CAAC,MAAM;IAClC,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;QAC9C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClD,GAAG,OAAO;AACZ;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACjD,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;YACF,IACA,OAAO;QACX;QACA,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;IAC9B,OAAO;IACP,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,OAAO;AACtE;AACA,IAAI,qBAAqB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5C,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;aAAY,EAAE,QAAQ;YAChD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACjD,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;YACF,IACA,OAAO;QACX;QACA,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC7C,OAAO,YAAY,CAAC,CAAC,MAAM;IAC7B;IAEF,OAAO,eAAe,OAAO;IAC7B,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,IAAI,OAAO;AACtE;AACA,IAAI,WAAW,uCAAO,WAAW;AACjC,IAAI,oBAAoB;IACtB,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,UAAU,UAAU,CAAC,CAAC;IAC7B,IAAI;IACJ,MAAM,UAAU,qBACd,CAAC,KAAK,QAAQ,OAAO,KAAK,OAAO,KAAK;IAExC,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,WAAW,EAAE,UAAU;IAE1B,MAAM,sBAAsB,CAAC;QAC3B,OAAO,IAAI,qBAAqB,SAAS;YACvC,UAAU;YACV;YACA,SAAS;YACT;YACA,OAAO,QAAQ,KAAK;QACtB;IACF;IACA,MAAM,mBAAmB,CAAC;QACxB,OAAO,IAAI,2BAA2B,SAAS;YAC7C,UAAU;YACV,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,gBAAgB;QAClB;IACF;IACA,MAAM,WAAW,CAAC,UAAY,oBAAoB;IAClD,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG;IACtB,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,MAAM;AAEV,iHAAiH;AACjH,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,iEAAiE;QACjE,iEAAiE;QACjE,aAAa;QACb,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,OAAO,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QAClC,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,OAAO;IACrF;AACF;AACA,IAAI,+BAA+B,+BAA+B;IAChE,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,6BAA6B,EACpC,MAAM,EACN,oBAAoB,QAAQ,EAC7B;IACC,MAAM,WAAW,EAAE;IACnB,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,OAAQ;wBACN,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAU;gCAAQ;gCACxC;4BACF;wBACA,KAAK;4BAAa;gCAChB,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAa;gCAAQ;gCAC3C;4BACF;wBACA,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCACZ,MAAM;oCACN,SAAS;gCACX;gCACA;4BACF;wBACA;4BAAS;gCACP,MAAM,mBAAmB;gCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;4BAE1D;oBACF;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAAC;wBACvD;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAM;4BAC1B,IAAI,IAAI,IAAI;4BACZ,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC;oCACzC;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO;gDACL,MAAM;gDACN,WAAW;oDACT,KAAK,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;oDAC/G,0CAA0C;oDAC1C,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW;gDAC3G;4CACF;wCACF,OAAO,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CAC9C,IAAI,KAAK,IAAI,YAAY,KAAK;gDAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe;gDACjB;4CACF;4CACA,OAAQ,KAAK,SAAS;gDACpB,KAAK;oDAAa;wDAChB,OAAO;4DACL,MAAM;4DACN,aAAa;gEACX,MAAM,gBAAgB,KAAK,IAAI;gEAC/B,QAAQ;4DACV;wDACF;oDACF;gDACA,KAAK;gDACL,KAAK;oDAAc;wDACjB,OAAO;4DACL,MAAM;4DACN,aAAa;gEACX,MAAM,gBAAgB,KAAK,IAAI;gEAC/B,QAAQ;4DACV;wDACF;oDACF;gDACA;oDAAS;wDACP,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;4DACxD,eAAe,CAAC,oCAAoC,EAAE,KAAK,SAAS,EAAE;wDACxE;oDACF;4CACF;wCACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;4CAC/C,IAAI,KAAK,IAAI,YAAY,KAAK;gDAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe;gDACjB;4CACF;4CACA,OAAO;gDACL,MAAM;gDACN,MAAM,OAAO,KAAK,IAAI,KAAK,YAAY,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDAC9F,UAAU,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC;oDACjE,WAAW,CAAC,4BAA4B,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACxE;4CACF;wCACF,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4CACzD;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF;oCACA;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;QAAE;QAAU;IAAS;AAC9B;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,uBAAuB,YAAY;IAC1C,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,4BAA4B,cAC9B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC,aAAa,OAAO;gBAChD,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACvC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAClC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;wBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;wBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;oBACjC;gBACF,IACA,OAAO;gBACT,aAAa,YAAY,CAAC,CAAC,KAAK,CAC9B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;oBACjC,WAAW,YAAY,CAAC,CAAC,MAAM;oBAC/B,KAAK,YAAY,CAAC,CAAC,MAAM;oBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC7B,IACA,OAAO;YACX;YACA,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC/B;gBAEJ,IACA,OAAO;YACX,GAAG,OAAO;YACV,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC/C;QAEF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC7C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACjD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5C,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC/C,GAAG,OAAO;YACV,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC9C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAChD,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC1D,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC5D,GAAG,OAAO;QACZ,GAAG,OAAO;IACZ;AAGJ,IAAI,yBAAyB,cAC3B,IAAM,UACJ,YAAY,CAAC,CAAC,KAAK,CAAC;QAClB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1B,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;wBAAC;qBAAY,EAAE,OAAO;oBAC/C,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACvC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBAClC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC,YAAY,OAAO;wBAC/C,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;4BAC7B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACpC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBAC3C;oBACF,IACA,OAAO;oBACT,aAAa,YAAY,CAAC,CAAC,KAAK,CAC9B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;wBACjC,WAAW,YAAY,CAAC,CAAC,MAAM;wBAC/B,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC7B,IACA,OAAO;gBACX,GAAG,OAAO;gBACV,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,OAAO,YAAY,CAAC,CAAC,MAAM;4BAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;oBAEJ,IACA,OAAO;gBACX,GAAG,OAAO;gBACV,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,OAAO,YAAY,CAAC,CAAC,MAAM;YAC7B;YAEF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACjD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5C,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC/C,GAAG,OAAO;gBACV,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC9C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAChD,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC1D,4BAA4B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5D,GAAG,OAAO;YACZ,GAAG,OAAO;QACZ;QACA;KACD;AAGL,IAAI,kCAAkC,cACpC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;;;;OAKC,GACD,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAC/F;;;;;;;;OAQC,GACD,UAAU,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,QAAQ;QACzF;;OAEC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACnD;;;OAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACrC;;OAEC,GACD,iBAAiB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAW;YAAO;YAAU;SAAO,EAAE,QAAQ;QAClF;;OAEC,GACD,qBAAqB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACpD;;OAEC,GACD,OAAO,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACvC;;OAEC,GACD,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,QAAQ;QACxG;;OAEC,GACD,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,GAAG,IAAI,QAAQ;QACtF;;;;OAIC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACnD;;;;;;;;;OASC,GACD,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAQ;YAAY;SAAU,EAAE,QAAQ;QACjF;;;;OAIC,GACD,kBAAkB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QAClD;;;OAGC,GACD,eAAe,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACrE;;;OAGC,GACD,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC/C;;;;;;OAMC,GACD,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACnD;AAGJ,SAAS,kBAAkB,EACzB,KAAK,EACL,UAAU,EACV,iBAAiB,EACjB,gBAAgB,EACjB;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,eAAe,EAAE;IACvB,KAAK,MAAM,UAAU,MAAO;QAC1B,OAAQ,OAAO,IAAI;YACjB,KAAK;gBACH,aAAa,IAAI,CAAC;oBAChB,MAAM;oBACN,UAAU;wBACR,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY,OAAO,WAAW;wBAC9B,QAAQ,oBAAoB,mBAAmB,KAAK;oBACtD;gBACF;gBACA;YACF;gBACE,aAAa,IAAI,CAAC;oBAAE,MAAM;oBAAoB,MAAM;gBAAO;gBAC3D;QACJ;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAc,YAAY,KAAK;YAAG;QAAa;IACjE;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAc,YAAY;gBAAM;YAAa;QAC/D,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY;oBACV,MAAM;oBACN,UAAU;wBACR,MAAM,WAAW,QAAQ;oBAC3B;gBACF;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,2BAA2B;IAC7B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;QAChC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,KAAK,EACL,UAAU,EACV,eAAe,EAChB;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,MAAM,oBAAoB,CAAC,KAAK,cAAc,iBAAiB,KAAK,OAAO,KAAK;YAChF,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,QAAQ,CAAC,mBAAmB;gBAC7H,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,EAAE,UAAU,eAAe,EAAE,GAAG,6BAC9C;gBACE;gBACA,mBAAmB,sBAAsB,IAAI,CAAC,OAAO;YACvD;YAEF,SAAS,IAAI,IAAI;YACjB,MAAM,mBAAmB,CAAC,KAAK,cAAc,gBAAgB,KAAK,OAAO,KAAK;YAC9E,MAAM,WAAW;gBACf,YAAY;gBACZ,OAAO,IAAI,CAAC,OAAO;gBACnB,2BAA2B;gBAC3B,YAAY,cAAc,SAAS;gBACnC,UAAU,cAAc,QAAQ,KAAK,QAAQ,OAAO,cAAc,QAAQ,KAAK,WAAW,OAAO,KAAK;gBACtG,cAAc,OAAO,cAAc,QAAQ,KAAK,WAAW,cAAc,QAAQ,GAAG,OAAO,cAAc,QAAQ,KAAK,YAAY,cAAc,QAAQ,GAAG,IAAI,KAAK,IAAI,KAAK;gBAC7K,MAAM,cAAc,IAAI;gBACxB,qBAAqB,cAAc,iBAAiB;gBACpD,yBAAyB;gBACzB,YAAY;gBACZ;gBACA,OAAO;gBACP,mBAAmB;gBACnB,kBAAkB;gBAClB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,qBAAqB,eAAe,MAAM,IAAI,OAAO;oBACzI,MAAM;oBACN,aAAa;wBACX,QAAQ,eAAe,MAAM;wBAC7B,QAAQ;wBACR,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,aAAa,eAAe,WAAW;oBACzC;gBACF,IAAI;oBAAE,MAAM;gBAAc,IAAI,KAAK;gBACnC,MAAM;gBACN;gBACA,WAAW,cAAc,aAAa;gBACtC,4BAA4B;gBAC5B,yDAAyD;gBACzD,uBAAuB,cAAc,mBAAmB;gBACxD,OAAO,cAAc,KAAK;gBAC1B,UAAU,cAAc,QAAQ;gBAChC,YAAY,cAAc,UAAU;gBACpC,kBAAkB,cAAc,eAAe;gBAC/C,cAAc,cAAc,WAAW;gBACvC,kBAAkB,cAAc,cAAc;gBAC9C,mBAAmB,cAAc,gBAAgB;gBACjD,YAAY;gBACZ;YACF;YACA,IAAI,kBAAkB,IAAI,CAAC,OAAO,GAAG;gBACnC,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,KAAK,IAAI,MAAM;oBAC1B,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,iBAAiB,IAAI,MAAM;oBACtC,SAAS,iBAAiB,GAAG,KAAK;oBAClC,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,gBAAgB,IAAI,MAAM;oBACrC,SAAS,gBAAgB,GAAG,KAAK;oBACjC,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,UAAU,IAAI,MAAM;oBAC/B,SAAS,UAAU,GAAG,KAAK;oBAC3B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,QAAQ,IAAI,MAAM;oBAC7B,SAAS,QAAQ,GAAG,KAAK;oBACzB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,YAAY,IAAI,MAAM;oBACjC,SAAS,YAAY,GAAG,KAAK;oBAC7B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,UAAU,IAAI,MAAM;oBAC/B,IAAI,SAAS,qBAAqB,IAAI,MAAM;wBAC1C,SAAS,qBAAqB,GAAG,SAAS,UAAU;oBACtD;oBACA,SAAS,UAAU,GAAG,KAAK;gBAC7B;YACF,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,4BAA4B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,+BAA+B;gBACpH,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF;YACA,IAAI,cAAc,WAAW,KAAK,UAAU,CAAC,wBAAwB,IAAI,CAAC,OAAO,GAAG;gBAClF,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,SAAS,YAAY,GAAG,KAAK;YAC/B;YACA,IAAI,cAAc,WAAW,KAAK,cAAc,CAAC,4BAA4B,IAAI,CAAC,OAAO,GAAG;gBAC1F,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,SAAS,YAAY,GAAG,KAAK;YAC/B;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,kBAAkB;gBACpB;gBACA;gBACA;gBACA;YACF;YACA,OAAO;gBACL,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxD,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACpD,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,MAAM,OAAO,OAAO,OAAO,CAAC,OAAO;YACnC,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;gBACnC,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ;gBAAK;YACpC;YACA,KAAK,MAAM,YAAY,CAAC,KAAK,OAAO,OAAO,CAAC,UAAU,KAAK,OAAO,KAAK,EAAE,CAAE;gBACzE,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;oBAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;oBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;gBACpC;YACF;YACA,KAAK,MAAM,cAAc,CAAC,KAAK,OAAO,OAAO,CAAC,WAAW,KAAK,OAAO,KAAK,EAAE,CAAE;gBAC5E,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,YAAY;oBACZ,IAAI;oBACJ,KAAK,WAAW,GAAG;oBACnB,OAAO,WAAW,KAAK;gBACzB;YACF;YACA,MAAM,yBAAyB,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,yBAAyB;YACpG,MAAM,qBAAqB,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,qBAAqB;YAC5F,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YAChJ;YACA,IAAI,CAAC,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B,KAAK,MAAM;gBACzG,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,0BAA0B;YAChJ;YACA,IAAI,CAAC,CAAC,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,MAAM;gBAClE,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,OAAO;YAC5D;YACA,OAAO;gBACL;gBACA,cAAc,uBAAuB,OAAO,aAAa;gBACzD,OAAO;oBACL,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;oBAClG,cAAc,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBACvG,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;oBACjG,iBAAiB,CAAC,KAAK,0BAA0B,OAAO,KAAK,IAAI,uBAAuB,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBAC9H,mBAAmB,CAAC,KAAK,sBAAsB,OAAO,KAAK,IAAI,mBAAmB,aAAa,KAAK,OAAO,KAAK,KAAK;gBACvH;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,gBAAgB;oBACd,eAAe;gBACjB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,YAAY,EAAE;YACpB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,IAAI,eAAe;YACnB,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBAChG,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;wBAC1B;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK,KAAK;4BACzE,MAAM,YAAY,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK,KAAK;4BAC9E,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK,KAAK;4BACxE,MAAM,eAAe,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;4BACvI,MAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;4BAClI,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B,KAAK,MAAM;gCAC3G,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B;4BAClJ;4BACA,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B,KAAK,MAAM;gCAC3G,iBAAiB,MAAM,CAAC,wBAAwB,GAAG,CAAC,KAAK,MAAM,KAAK,CAAC,yBAAyB,KAAK,OAAO,KAAK,IAAI,GAAG,0BAA0B;4BAClJ;wBACF;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,uBAAuB,OAAO,aAAa;wBAC5D;wBACA,IAAI,CAAC,CAAC,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,KAAK,MAAM;4BAC5F,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,OAAO;wBAC5D;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,IAAI,MAAM,OAAO,IAAI,MAAM;4BACzB,IAAI,CAAC,cAAc;gCACjB,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAI;gCACjD,eAAe;4BACjB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,OAAO;4BACtB;wBACF;wBACA,IAAI,MAAM,UAAU,IAAI,MAAM;4BAC5B,KAAK,MAAM,iBAAiB,MAAM,UAAU,CAAE;gCAC5C,MAAM,QAAQ,cAAc,KAAK;gCACjC,IAAI,SAAS,CAAC,MAAM,IAAI,MAAM;oCAC5B,IAAI,cAAc,IAAI,KAAK,YAAY;wCACrC,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,yBAAyB,CAAC;wCACtC;oCACF;oCACA,IAAI,cAAc,EAAE,IAAI,MAAM;wCAC5B,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,6BAA6B,CAAC;wCAC1C;oCACF;oCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,MAAM;wCACtE,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,wCAAwC,CAAC;wCACrD;oCACF;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,cAAc,EAAE;wCACpB,UAAU,cAAc,QAAQ,CAAC,IAAI;oCACvC;oCACA,SAAS,CAAC,MAAM,GAAG;wCACjB,IAAI,cAAc,EAAE;wCACpB,MAAM;wCACN,UAAU;4CACR,MAAM,cAAc,QAAQ,CAAC,IAAI;4CACjC,WAAW,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;wCACpE;wCACA,aAAa;oCACf;oCACA,MAAM,YAAY,SAAS,CAAC,MAAM;oCAClC,IAAI,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;wCACzI,IAAI,UAAU,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG;4CAC3C,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;gDAChB,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;wCACF;wCACA,IAAI,eAAe,UAAU,QAAQ,CAAC,SAAS,GAAG;4CAChD,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;4CAClB;4CACA,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,YAAY,CAAC,KAAK,UAAU,EAAE,KAAK,OAAO,KAAK;gDAC/C,UAAU,UAAU,QAAQ,CAAC,IAAI;gDACjC,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;4CACA,UAAU,WAAW,GAAG;wCAC1B;oCACF;oCACA;gCACF;gCACA,MAAM,WAAW,SAAS,CAAC,MAAM;gCACjC,IAAI,SAAS,WAAW,EAAE;oCACxB;gCACF;gCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;oCAC3E,SAAS,QAAQ,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,OAAO,KAAK;gCACrH;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,EAAE;oCACf,OAAO,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;gCAChE;gCACA,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,QAAQ,eAAe,SAAS,QAAQ,CAAC,SAAS,GAAG;oCACtL,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,EAAE;oCACjB;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wCAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oCACpC;oCACA,SAAS,WAAW,GAAG;gCACzB;4BACF;wBACF;wBACA,IAAI,MAAM,WAAW,IAAI,MAAM;4BAC7B,KAAK,MAAM,cAAc,MAAM,WAAW,CAAE;gCAC1C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI;oCACJ,KAAK,WAAW,GAAG;oCACnB,OAAO,WAAW,KAAK;gCACzB;4BACF;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC,eAAe;4BAChC,MAAM;4BACN;4BACA;wBACF,GAAG,oBAAoB,OAAO;4BAAE;wBAAiB,IAAI,CAAC;oBACxD;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,kBAAkB,OAAO;IAChC,OAAO,CAAC,QAAQ,UAAU,CAAC,QAAQ,QAAQ,UAAU,CAAC,QAAQ,KAAK,CAAC,QAAQ,UAAU,CAAC;AACzF;AACA,SAAS,wBAAwB,OAAO;IACtC,OAAO,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC;AACzH;AACA,SAAS,4BAA4B,OAAO;IAC1C,OAAO,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC,iBAAiB,CAAC,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC;AACpO;AACA,SAAS,sBAAsB,OAAO;IACpC,IAAI,IAAI;IACR,IAAI,CAAC,kBAAkB,UAAU;QAC/B,OAAO;IACT;IACA,OAAO,CAAC,KAAK,CAAC,KAAK,gBAAgB,CAAC,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK;AACxG;AACA,IAAI,mBAAmB;IACrB,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;IACA,cAAc;QACZ,mBAAmB;IACrB;IACA,yBAAyB;QACvB,mBAAmB;IACrB;IACA,IAAI;QACF,mBAAmB;IACrB;IACA,iBAAiB;QACf,mBAAmB;IACrB;IACA,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;IACA,WAAW;QACT,mBAAmB;IACrB;IACA,sBAAsB;QACpB,mBAAmB;IACrB;AACF;AACA,SAAS,iCAAiC,EACxC,MAAM,EACN,OAAO,MAAM,EACb,YAAY,WAAW,EACxB;IACC,IAAI,OAAO;IACX,IAAI,MAAM,CAAC,EAAE,CAAC,IAAI,KAAK,UAAU;QAC/B,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;;AAEjC,CAAC;QACG,SAAS,OAAO,KAAK,CAAC;IACxB;IACA,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,MAAM,IAAI,kBAAkB,kBAAkB,CAAC;wBAC7C,SAAS;wBACT;oBACF;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,cAAc,QAAQ,GAAG,CAAC,CAAC;wBAC/B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;wBACF;oBACF,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;oBACxB,QAAQ,GAAG,KAAK;AACxB,EAAE,YAAY;;AAEd,CAAC;oBACO;gBACF;YACA,KAAK;gBAAa;oBAChB,MAAM,mBAAmB,QAAQ,GAAG,CAAC,CAAC;wBACpC,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wCACxD,eAAe;oCACjB;gCACF;wBACF;oBACF,GAAG,IAAI,CAAC;oBACR,QAAQ,GAAG,UAAU;AAC7B,EAAE,iBAAiB;;AAEnB,CAAC;oBACO;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,QAAQ,GAAG,UAAU;AACvB,CAAC;IACC,OAAO;QACL,QAAQ;QACR,eAAe;YAAC,CAAC;AACrB,EAAE,KAAK,CAAC,CAAC;SAAC;IACR;AACF;AACA,SAAS,sBAAsB,EAC7B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,wBAAwB,YAAY;IAC3C,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,kCAAkC,cACpC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;gBAChD,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;gBACxD,cAAc,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,KAAK,OAAO;YACjH,GAAG,OAAO;QACZ;QAEF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;YACvC,cAAc,YAAY,CAAC,CAAC,MAAM;QACpC,GAAG,OAAO;IACZ;AAGJ,IAAI,+BAA+B,cACjC,IAAM,UACJ,YAAY,CAAC,CAAC,KAAK,CAAC;QAClB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC3B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBAChD,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBACxD,cAAc,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,KAAK,OAAO;gBACjH,GAAG,OAAO;YACZ;YAEF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,eAAe,YAAY,CAAC,CAAC,MAAM;gBACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;gBACvC,cAAc,YAAY,CAAC,CAAC,MAAM;YACpC,GAAG,OAAO;QACZ;QACA;KACD;AAGL,IAAI,mCAAmC,cACrC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;SAEG,GACH,MAAM,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;QACtC;;;;;;;;;;;;;OAaC,GACD,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACxF;;OAEC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACvC;;;OAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACrC;;;;;;;;SAQG,GACH,UAAU,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,QAAQ;IAC3F;AAGJ,IAAI,iCAAiC;IACnC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;QAErB;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI;IAChD;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,eAAe,iBAAiB,EAChC,cAAc,EACd,KAAK,EACL,UAAU,EACV,IAAI,EACJ,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,eAAe,eAAe,CAAC,GAAG,CAAA,MAAM,qBAAqB;gBACjF,UAAU;gBACV;gBACA,QAAQ;YACV,EAAC,IAAI,CAAA,MAAM,qBAAqB;gBAC9B,UAAU,IAAI,CAAC,mBAAmB;gBAClC;gBACA,QAAQ;YACV,EAAC;YACD,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,EAAE;gBACzC,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAQ;YAChE;YACA,IAAI,cAAc,MAAM;gBACtB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAa;YACrE;YACA,IAAI,kBAAkB,QAAQ,eAAe,IAAI,KAAK,QAAQ;gBAC5D,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,gBAAgB,EAAE,aAAa,EAAE,GAAG,iCAAiC;gBAAE;YAAO;YAC9F,MAAM,QAAQ;mBAAI,iBAAiB,OAAO,gBAAgB,EAAE;mBAAK,qBAAqB,OAAO,oBAAoB,EAAE;aAAC;YACpH,OAAO;gBACL,MAAM;oBACJ,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,2BAA2B;oBAC3B,MAAM,cAAc,IAAI;oBACxB,YAAY,cAAc,SAAS;oBACnC,UAAU,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,OAAO,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,QAAQ,KAAK,IAAI,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;oBACzN,QAAQ,cAAc,MAAM;oBAC5B,MAAM,cAAc,IAAI;oBACxB,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB;oBACA,UAAU;oBACV,QAAQ;oBACR,kBAAkB;oBAClB,MAAM,MAAM,MAAM,GAAG,IAAI,QAAQ,KAAK;gBACxC;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,IAAI,OAAO,QAAQ,IAAI,MAAM;gBAC3B,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ;YACpD;YACA,OAAO;gBACL,SAAS;oBAAC;wBAAE,MAAM;wBAAQ,MAAM,OAAO,IAAI;oBAAC;iBAAE;gBAC9C,OAAO;oBACL,aAAa,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa;oBACtE,cAAc,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB;oBAC3E,aAAa,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY;gBACvE;gBACA,cAAc,wBAAwB,OAAO,aAAa;gBAC1D,SAAS;oBAAE,MAAM;gBAAK;gBACtB,UAAU,cAAc,eAAe,CAAC,GAAG,sBAAsB,YAAY;oBAC3E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;gBACR,gBAAgB;oBACd,eAAe;gBACjB;YACF;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,sBAAsB;4BACzB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAc,IAAI;4BAAI;wBACnD;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,aAAa;4BAC7C,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,iBAAiB;4BAClD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,YAAY;wBAC9C;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,wBAAwB,OAAO,aAAa;wBAC7D;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,QAAQ,KAAK,MAAM;4BACvD,iBAAiB,MAAM,CAAC,QAAQ,GAAG,OAAO,QAAQ;wBACpD;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,IAAI,KAAK,QAAQ,OAAO,IAAI,CAAC,MAAM,GAAG,GAAG;4BAC7E,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,OAAO,IAAI;4BACpB;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,CAAC,cAAc;4BACjB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,kCAAkC,cACpC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;;SAGG,GACH,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C;;;MAGA,GACA,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACvC;AAGJ,IAAI,qCAAqC,cACvC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QAAI;QACxG,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,eAAe,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,OAAO;IAChF;AAGJ,IAAI,wBAAwB;IAC1B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,qBAAqB,GAAG;QAC7B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EAChB;YACC,IAAI;YACJ,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM;oBACJ,OAAO,IAAI,CAAC,OAAO;oBACnB,OAAO;oBACP,iBAAiB;oBACjB,YAAY,cAAc,UAAU;oBACpC,MAAM,cAAc,IAAI;gBAC1B;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;gBACtD,OAAO,SAAS,KAAK,GAAG;oBAAE,QAAQ,SAAS,KAAK,CAAC,aAAa;gBAAC,IAAI,KAAK;gBACxE,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,6BAA6B,cAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,KAAK,CACvB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,UAAU,YAAY,CAAC,CAAC,MAAM;YAC9B,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACjD;IAEJ;AAGJ,IAAI,yBAAyB;IAC3B,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,oBAAoB;AACtB;AACA,IAAI,4BAA4B,aAAa,GAAG,IAAI,IAAI;IACtD;IACA;CACD;AACD,IAAI,oBAAoB;IACtB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,mBAAmB;QACrB,IAAI;QACJ,OAAO,CAAC,KAAK,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,OAAO,KAAK;IACpE;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,EAAE,EAAE;QACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,CAAC,EACD,IAAI,EACJ,WAAW,EACX,IAAI,EACJ,eAAe,EACf,OAAO,EACP,WAAW,EACZ;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,IAAI,eAAe,MAAM;gBACvB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,OAAO,QAAQ,EAAE,eAAe,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM,eAAe,eAAe;oBAClC,OAAO,IAAI,CAAC,OAAO;oBACnB;oBACA;oBACA;gBACF,GAAG,CAAC,KAAK,gBAAgB,MAAM,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,0BAA0B,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI;oBAAE,iBAAiB;gBAAW,IAAI,CAAC;gBACvI,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,QAAQ,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,QAAQ;gBACjD;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;gBACX;gBACA,kBAAkB;oBAChB,QAAQ;wBACN,QAAQ,SAAS,IAAI,CAAC,GAAG,CACvB,CAAC,OAAS,KAAK,cAAc,GAAG;gCAC9B,eAAe,KAAK,cAAc;4BACpC,IAAI;oBAER;gBACF;YACF;QACF;IACF;AACF;AACA,IAAI,qCAAqC,cACvC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACxC,OAAO,YAAY,CAAC,CAAC,KAAK,CACxB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,KAAK,YAAY,CAAC,CAAC,MAAM;QAC3B,IACA,OAAO;QACT,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,IAAI,YAAY,CAAC,CAAC,MAAM;YACxB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,KAAK,YAAY,CAAC,CAAC,MAAM;YACzB,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;YAChD,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,aAAa,YAAY,CAAC,CAAC,MAAM;YACjC,mBAAmB,YAAY,CAAC,CAAC,MAAM;YACvC,gBAAgB,YAAY,CAAC,CAAC,MAAM;QACtC,IACA,OAAO;IACX;AAGJ,IAAI,sCAAsC,cACxC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB;;OAEC,GACD,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAC7D;;OAEC,GACD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACzC;;OAEC,GACD,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACvC;;;OAGC,GACD,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,QAAQ;QACrE;;;OAGC,GACD,wBAAwB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAU,GAAG,OAAO,CAAC;YAAC;SAAU,EAAE,QAAQ;IACpH;AAGJ,IAAI,eAAe;IACjB,WAAW;IACX,QAAQ;IACR,UAAU;IACV,aAAa;IACb,YAAY;IACZ,SAAS;IACT,WAAW;IACX,SAAS;IACT,SAAS;IACT,UAAU;IACV,OAAO;IACP,QAAQ;IACR,OAAO;IACP,SAAS;IACT,UAAU;IACV,SAAS;IACT,QAAQ;IACR,UAAU;IACV,QAAQ;IACR,OAAO;IACP,QAAQ;IACR,OAAO;IACP,WAAW;IACX,WAAW;IACX,YAAY;IACZ,SAAS;IACT,UAAU;IACV,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,YAAY;IACZ,YAAY;IACZ,OAAO;IACP,SAAS;IACT,OAAO;IACP,QAAQ;IACR,WAAW;IACX,SAAS;IACT,QAAQ;IACR,YAAY;IACZ,UAAU;IACV,SAAS;IACT,SAAS;IACT,QAAQ;IACR,WAAW;IACX,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;IACN,SAAS;IACT,WAAW;IACX,MAAM;IACN,YAAY;IACZ,OAAO;AACT;AACA,IAAI,4BAA4B;IAC9B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,SAAS,EACT,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,WAAW,IAAI;YACrB,MAAM,OAAO,iBAAiB,aAAa,IAAI,KAAK;gBAAC;aAAM,IAAI,IAAI,KAAK;gBAAC,0BAA0B;aAAO;YAC1G,SAAS,MAAM,CAAC,SAAS,IAAI,CAAC,OAAO;YACrC,MAAM,gBAAgB,qBAAqB;YAC3C,SAAS,MAAM,CACb,QACA,IAAI,KAAK;gBAAC;aAAK,EAAE,SAAS;gBAAE,MAAM;YAAU,IAC5C,CAAC,MAAM,EAAE,eAAe;YAE1B,IAAI,eAAe;gBACjB,MAAM,4BAA4B;oBAChC,SAAS,cAAc,OAAO;oBAC9B,UAAU,cAAc,QAAQ;oBAChC,QAAQ,cAAc,MAAM;oBAC5B,qHAAqH;oBACrH,iEAAiE;oBACjE,iBAAiB;wBACf;wBACA;qBACD,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,SAAS;oBACpC,aAAa,cAAc,WAAW;oBACtC,yBAAyB,cAAc,sBAAsB;gBAC/D;gBACA,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,2BAA4B;oBACpE,IAAI,SAAS,MAAM;wBACjB,IAAI,MAAM,OAAO,CAAC,QAAQ;4BACxB,KAAK,MAAM,QAAQ,MAAO;gCACxB,SAAS,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,OAAO;4BACrC;wBACF,OAAO;4BACL,SAAS,MAAM,CAAC,KAAK,OAAO;wBAC9B;oBACF;gBACF;YACF;YACA,OAAO;gBACL;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAChC,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAClD,MAAM,EACJ,OAAO,QAAQ,EACf,eAAe,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,kBAAkB;gBAC1B,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,WAAW,SAAS,QAAQ,IAAI,QAAQ,SAAS,QAAQ,IAAI,eAAe,YAAY,CAAC,SAAS,QAAQ,CAAC,GAAG,KAAK;YACzH,OAAO;gBACL,MAAM,SAAS,IAAI;gBACnB,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,UAAY,CAAC;wBACrF,MAAM,QAAQ,IAAI;wBAClB,aAAa,QAAQ,KAAK;wBAC1B,WAAW,QAAQ,GAAG;oBACxB,CAAC,EAAE,KAAK,OAAO,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,OAAS,CAAC;wBAC7E,MAAM,KAAK,IAAI;wBACf,aAAa,KAAK,KAAK;wBACvB,WAAW,KAAK,GAAG;oBACrB,CAAC,EAAE,KAAK,OAAO,KAAK,EAAE;gBACtB;gBACA,mBAAmB,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,KAAK;gBAChE;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;AACF;AACA,IAAI,qCAAqC,cACvC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO;IACnE;AAGJ,IAAI,qBAAqB;IACvB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,IAAI,EACJ,QAAQ,OAAO,EACf,eAAe,KAAK,EACpB,KAAK,EACL,YAAY,EACZ,QAAQ,EACR,eAAe,EAChB;YACC,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,cAAc;gBAClB,OAAO,IAAI,CAAC,OAAO;gBACnB,OAAO;gBACP;gBACA,iBAAiB;gBACjB;gBACA;YACF;YACA,IAAI,cAAc;gBAChB,IAAI;oBAAC;oBAAO;oBAAQ;oBAAO;oBAAQ;oBAAO;iBAAM,CAAC,QAAQ,CAAC,eAAe;oBACvE,YAAY,eAAe,GAAG;gBAChC,OAAO;oBACL,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS,CAAC,2BAA2B,EAAE,aAAa,oBAAoB,CAAC;oBAC3E;gBACF;YACF;YACA,IAAI,eAAe;gBACjB,MAAM,qBAAqB,CAAC;gBAC5B,IAAK,MAAM,OAAO,mBAAoB;oBACpC,MAAM,QAAQ,kBAAkB,CAAC,IAAI;oBACrC,IAAI,UAAU,KAAK,GAAG;wBACpB,WAAW,CAAC,IAAI,GAAG;oBACrB;gBACF;YACF;YACA,IAAI,UAAU;gBACZ,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS,CAAC,4EAA4E,EAAE,SAAS,cAAc,CAAC;gBAClH;YACF;YACA,OAAO;gBACL;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACrD,MAAM,EACJ,OAAO,KAAK,EACZ,eAAe,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B;gBAC3B,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL;gBACA;gBACA,SAAS;oBACP,MAAM,KAAK,SAAS,CAAC;gBACvB;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;AACF;AACA,IAAI,yBAAyB,WAC3B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;YAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;YACjD,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YAC1C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACjD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QACpF;IACF;AAGJ,IAAI,0BAA0B,WAC5B,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;IAAG;AAExE,IAAI,cAAc,iDAAiD;IACjE,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,SAAS,UAAU,IAAI,EAAE,QAAQ;IAC/B,IAAI,CAAC,UAAU,OAAO;IACtB,OAAO,SAAS,IAAI,CAAC,CAAC,SAAW,KAAK,UAAU,CAAC;AACnD;AACA,SAAS,+BAA+B,EAAE;IACxC,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,iBAAiB,EACjB,cAAc,EACd,KAAK,EACL,oBAAoB,KAAK,EAC1B;QACC,IAAI,IAAI,IAAI,IAAI;QAChB,MAAM,QAAQ,EAAE;QAChB,MAAM,WAAW,EAAE;QACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;YACtC,OAAQ;gBACN,KAAK;oBAAU;wBACb,OAAQ;4BACN,KAAK;gCAAU;oCACb,MAAM,IAAI,CAAC;wCAAE,MAAM;wCAAU;oCAAQ;oCACrC;gCACF;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,CAAC;wCAAE,MAAM;wCAAa;oCAAQ;oCACxC;gCACF;4BACA,KAAK;gCAAU;oCACb,SAAS,IAAI,CAAC;wCACZ,MAAM;wCACN,SAAS;oCACX;oCACA;gCACF;4BACA;gCAAS;oCACP,MAAM,mBAAmB;oCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;gCAE1D;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAQ;wBACX,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAM;gCAC1B,IAAI,KAAK,KAAK;gCACd,OAAQ,KAAK,IAAI;oCACf,KAAK;wCAAQ;4CACX,OAAO;gDAAE,MAAM;gDAAc,MAAM,KAAK,IAAI;4CAAC;wCAC/C;oCACA,KAAK;wCAAQ;4CACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;gDACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;gDAC9E,OAAO,cAAc,eAAe;oDAClC,MAAM;gDACR,GAAG,KAAK,IAAI,YAAY,MAAM;oDAAE,WAAW,KAAK,IAAI,CAAC,QAAQ;gDAAG,IAAI,OAAO,KAAK,IAAI,KAAK,YAAY,UAAU,KAAK,IAAI,EAAE,kBAAkB;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDACnK,WAAW,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACrE,IAAI;oDACF,QAAQ,CAAC,MAAM,CAAC,MAAM,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,IAAI,MAAM,KAAK,OAAO,KAAK,IAAI,IAAI,WAAW;gDAC/G;4CACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;gDAC/C,IAAI,KAAK,IAAI,YAAY,KAAK;oDAC5B,OAAO;wDACL,MAAM;wDACN,UAAU,KAAK,IAAI,CAAC,QAAQ;oDAC9B;gDACF;gDACA,OAAO,eAAe;oDACpB,MAAM;gDACR,GAAG,OAAO,KAAK,IAAI,KAAK,YAAY,UAAU,KAAK,IAAI,EAAE,kBAAkB;oDAAE,SAAS,KAAK,IAAI;gDAAC,IAAI;oDAClG,UAAU,CAAC,MAAM,KAAK,QAAQ,KAAK,OAAO,MAAM,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC;oDACnE,WAAW,CAAC,4BAA4B,EAAE,gBAAgB,KAAK,IAAI,GAAG;gDACxE;4CACF,OAAO;gDACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;gDACzD;4CACF;wCACF;gCACF;4BACF;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAa;wBAChB,MAAM,oBAAoB,CAAC;wBAC3B,MAAM,gBAAgB,CAAC;wBACvB,KAAK,MAAM,QAAQ,QAAS;4BAC1B,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,MAAM,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;wCACvG,IAAI,SAAS,MAAM,MAAM;4CACvB,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB;4CAAG;4CACxC;wCACF;wCACA,MAAM,IAAI,CAAC;4CACT,MAAM;4CACN,SAAS;gDAAC;oDAAE,MAAM;oDAAe,MAAM,KAAK,IAAI;gDAAC;6CAAE;4CACnD;wCACF;wCACA;oCACF;gCACA,KAAK;oCAAa;wCAChB,aAAa,CAAC,KAAK,UAAU,CAAC,GAAG;wCACjC,IAAI,KAAK,gBAAgB,EAAE;4CACzB;wCACF;wCACA,MAAM,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;wCACvG,IAAI,SAAS,MAAM,MAAM;4CACvB,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB;4CAAG;4CACxC;wCACF;wCACA,IAAI,qBAAqB,KAAK,QAAQ,KAAK,eAAe;4CACxD,MAAM,cAAc,MAAM,cAAc;gDACtC,OAAO,KAAK,KAAK;gDACjB,QAAQ;4CACV;4CACA,MAAM,IAAI,CAAC;gDACT,MAAM;gDACN,SAAS,KAAK,UAAU;gDACxB;gDACA,QAAQ;oDACN,MAAM;oDACN,SAAS,YAAY,MAAM,CAAC,OAAO;oDACnC,YAAY,YAAY,MAAM,CAAC,SAAS;oDACxC,MAAM,YAAY,MAAM,CAAC,IAAI;oDAC7B,mBAAmB,YAAY,MAAM,CAAC,gBAAgB;oDACtD,KAAK,YAAY,MAAM,CAAC,GAAG;gDAC7B;4CACF;4CACA;wCACF;wCACA,MAAM,IAAI,CAAC;4CACT,MAAM;4CACN,SAAS,KAAK,UAAU;4CACxB,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;4CACpC;wCACF;wCACA;oCACF;gCACA,gEAAgE;gCAChE,KAAK;oCAAe;wCAClB,IAAI,OAAO;4CACT,MAAM,IAAI,CAAC;gDAAE,MAAM;gDAAkB,IAAI,KAAK,UAAU;4CAAC;wCAC3D,OAAO;4CACL,SAAS,IAAI,CAAC;gDACZ,MAAM;gDACN,SAAS,CAAC,wBAAwB,EAAE,KAAK,QAAQ,CAAC,4CAA4C,CAAC;4CACjG;wCACF;wCACA;oCACF;gCACA,KAAK;oCAAa;wCAChB,MAAM,kBAAkB,MAAM,qBAAqB;4CACjD,UAAU;4CACV,iBAAiB,KAAK,eAAe;4CACrC,QAAQ;wCACV;wCACA,MAAM,cAAc,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,MAAM;wCAC7E,IAAI,eAAe,MAAM;4CACvB,MAAM,mBAAmB,iBAAiB,CAAC,YAAY;4CACvD,IAAI,OAAO;gDACT,IAAI,qBAAqB,KAAK,GAAG;oDAC/B,MAAM,IAAI,CAAC;wDAAE,MAAM;wDAAkB,IAAI;oDAAY;oDACrD,iBAAiB,CAAC,YAAY,GAAG;wDAC/B,MAAM;wDACN,IAAI;wDACJ,SAAS,EAAE;oDACb;gDACF;4CACF,OAAO;gDACL,MAAM,eAAe,EAAE;gDACvB,IAAI,KAAK,IAAI,CAAC,MAAM,GAAG,GAAG;oDACxB,aAAa,IAAI,CAAC;wDAChB,MAAM;wDACN,MAAM,KAAK,IAAI;oDACjB;gDACF,OAAO,IAAI,qBAAqB,KAAK,GAAG;oDACtC,SAAS,IAAI,CAAC;wDACZ,MAAM;wDACN,SAAS,CAAC,4FAA4F,EAAE,KAAK,SAAS,CAAC,MAAM,CAAC,CAAC;oDACjI;gDACF;gDACA,IAAI,qBAAqB,KAAK,GAAG;oDAC/B,iBAAiB,CAAC,YAAY,GAAG;wDAC/B,MAAM;wDACN,IAAI;wDACJ,mBAAmB,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,yBAAyB;wDAC/F,SAAS;oDACX;oDACA,MAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY;gDAC3C,OAAO;oDACL,iBAAiB,OAAO,CAAC,IAAI,IAAI;oDACjC,IAAI,CAAC,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,yBAAyB,KAAK,MAAM;wDAC1F,iBAAiB,iBAAiB,GAAG,gBAAgB,yBAAyB;oDAChF;gDACF;4CACF;wCACF,OAAO;4CACL,SAAS,IAAI,CAAC;gDACZ,MAAM;gDACN,SAAS,CAAC,uEAAuE,EAAE,KAAK,SAAS,CAAC,MAAM,CAAC,CAAC;4CAC5G;wCACF;wCACA;oCACF;4BACF;wBACF;wBACA;oBACF;gBACA,KAAK;oBAAQ;wBACX,KAAK,MAAM,QAAQ,QAAS;4BAC1B,MAAM,SAAS,KAAK,MAAM;4BAC1B,IAAI,qBAAqB,KAAK,QAAQ,KAAK,iBAAiB,OAAO,IAAI,KAAK,QAAQ;gCAClF,MAAM,eAAe,MAAM,cAAc;oCACvC,OAAO,OAAO,KAAK;oCACnB,QAAQ;gCACV;gCACA,MAAM,IAAI,CAAC;oCACT,MAAM;oCACN,SAAS,KAAK,UAAU;oCACxB,QAAQ,aAAa,MAAM;gCAC7B;gCACA;4BACF;4BACA,IAAI;4BACJ,OAAQ,OAAO,IAAI;gCACjB,KAAK;gCACL,KAAK;oCACH,eAAe,OAAO,KAAK;oCAC3B;gCACF,KAAK;gCACL,KAAK;oCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;oCAC1C;gCACF,KAAK;oCACH,eAAe,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;wCAC/B,OAAQ,KAAK,IAAI;4CACf,KAAK;gDAAQ;oDACX,OAAO;wDAAE,MAAM;wDAAc,MAAM,KAAK,IAAI;oDAAC;gDAC/C;4CACA,KAAK;gDAAS;oDACZ,OAAO,KAAK,SAAS,CAAC,UAAU,CAAC,YAAY;wDAC3C,MAAM;wDACN,WAAW,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;oDACzD,IAAI;wDACF,MAAM;wDACN,UAAU;wDACV,WAAW,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;oDACzD;gDACF;wCACF;oCACF;oCACA;4BACJ;4BACA,MAAM,IAAI,CAAC;gCACT,MAAM;gCACN,SAAS,KAAK,UAAU;gCACxB,QAAQ;4BACV;wBACF;wBACA;oBACF;gBACA;oBAAS;wBACP,MAAM,mBAAmB;wBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;oBACzD;YACF;QACF;QACA,OAAO;YAAE;YAAO;QAAS;IAC3B;AACF;AACA,IAAI,iDAAiD,YAAY,CAAC,CAAC,MAAM,CAAC;IACxE,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC,2BAA2B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;AAC3D;AACA,SAAS,+BAA+B,EACtC,YAAY,EACZ,eAAe,EAChB;IACC,OAAQ;QACN,KAAK,KAAK;QACV,KAAK;YACH,OAAO,kBAAkB,eAAe;QAC1C,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO,kBAAkB,eAAe;IAC5C;AACF;AACA,IAAI,8BAA8B,cAChC,IAAM,UACJ,YAAY,CAAC,CAAC,KAAK,CAAC;QAClB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC/B;YAEJ,IACA,OAAO;QACX;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;gBAAsB;aAAsB;YACtE,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,oBAAoB,YAAY,CAAC,CAAC,MAAM,CAAC;oBAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAAG,GAAG,OAAO;gBACpF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1B,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAAG,GAAG,OAAO;oBACvG,eAAe,YAAY,CAAC,CAAC,MAAM;oBACnC,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAAG,GAAG,OAAO;gBAC7G;gBACA,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC9C;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,YAAY,YAAY,CAAC,CAAC,MAAM;gBAChC,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC3B,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAC9C;QACF;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBAC7C,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACnD;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAS,MAAM,YAAY,CAAC,CAAC,MAAM;wBAAG;wBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAU,KAAK,YAAY,CAAC,CAAC,MAAM;wBAAG;qBAC1F,GACD,QAAQ;oBACV,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBAC7C,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBAC1B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACnD;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;oBAC/B,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;gBAChC;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,cAAc,YAAY,CAAC,CAAC,MAAM;oBAClC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAS,MAAM,YAAY,CAAC,CAAC,MAAM;wBAAG;wBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;4BAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAAU,KAAK,YAAY,CAAC,CAAC,MAAM;wBAAG;qBAC1F,GACD,QAAQ;gBACZ;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC9B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;oBAC5B,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBAC3B;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;qBACD;gBACH;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;wBAC9E,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM;wBAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC5B,IACA,OAAO;gBACX;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;wBAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;wBACjD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAC3C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBACrC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;wBAClD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;oBACpF;gBACF;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;oBACxB,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;gBAChC;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,mBAAmB,YAAY,CAAC,CAAC,MAAM;QACzC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,YAAY,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;gBACnD,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;oBACzB,OAAO,YAAY,CAAC,CAAC,MAAM;gBAC7B;gBACA,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACxC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACrC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC3C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACzC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACvC;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;QACrC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,eAAe,YAAY,CAAC,CAAC,MAAM;QACrC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;YAC7B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACrC,iBAAiB,YAAY,CAAC,CAAC,MAAM;QACvC;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,MAAM,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,KAAK,GAAG,SAAS,CAAC,CAAC,QAAU,CAAC;gBACnF,MAAM;gBACN,SAAS,MAAM,IAAI;YACrB,CAAC;KAEF;AAGL,IAAI,iCAAiC,cACnC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM;QACxB,YAAY,YAAY,CAAC,CAAC,MAAM;QAChC,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B,GAAG,OAAO;QACV,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,QAAQ,YAAY,CAAC,CAAC,KAAK,CACzB,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YACvC,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC7B,cAAc,YAAY,CAAC,CAAC,KAAK,CAC/B,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,OAAO,YAAY,CAAC,CAAC,MAAM;4BAC3B,SAAS,YAAY,CAAC,CAAC,MAAM;wBAC/B;oBAEJ,IACA,OAAO;oBACT,aAAa,YAAY,CAAC,CAAC,KAAK,CAC9B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;wBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,aAAa,YAAY,CAAC,CAAC,MAAM;4BACjC,WAAW,YAAY,CAAC,CAAC,MAAM;4BAC/B,KAAK,YAAY,CAAC,CAAC,MAAM;4BACzB,OAAO,YAAY,CAAC,CAAC,MAAM;wBAC7B;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;4BAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;4BAC7B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACxC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACrC,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BAC3C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;4BACzC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBACvC;wBACA,YAAY,CAAC,CAAC,MAAM,CAAC;4BACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC9B;qBACD;gBAEL;YAEJ;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;gBAC5B,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBACvC;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;oBAC3B;oBACA,YAAY,CAAC,CAAC,MAAM,CAAC;wBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;wBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC/B;iBACD;YACH;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;gBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;oBAC9E,SAAS,YAAY,CAAC,CAAC,MAAM;oBAC7B,UAAU,YAAY,CAAC,CAAC,MAAM;oBAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B,IACA,OAAO;YACX;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;gBACrC,cAAc,YAAY,CAAC,CAAC,MAAM;gBAClC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;oBACvC,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAAS,MAAM,YAAY,CAAC,CAAC,MAAM;oBAAG;oBACzF,YAAY,CAAC,CAAC,MAAM,CAAC;wBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;wBAAU,KAAK,YAAY,CAAC,CAAC,MAAM;oBAAG;iBAC1F,GACD,QAAQ;YACZ;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC9B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC3B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;oBACjD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAC3C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBACrC,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;oBAClD,KAAK,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;gBACpF;YACF;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;gBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBAC/B,IAAI,YAAY,CAAC,CAAC,MAAM;YAC1B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACzC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;oBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC5B;YAEJ;SACD;QAEH,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,oBAAoB,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;QAAG,GAAG,OAAO;QACpF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,cAAc,YAAY,CAAC,CAAC,MAAM;YAClC,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAAG,GAAG,OAAO;YACvG,eAAe,YAAY,CAAC,CAAC,MAAM;YACnC,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YAAG,GAAG,OAAO;QAC7G;IACF;AAGJ,IAAI,oBAAoB;AACxB,IAAI,oCAAoC;IACtC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AACD,IAAI,2BAA2B;IAC7B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;OACG;CACJ;AACD,IAAI,wCAAwC,cAC1C,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,IAAI,CAAC;YACjB;YACA,0EAA0E;YAC1E;YACA;SACD,GACD,OAAO;QACT,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C;;;;;;;;;;;OAWC,GACD,UAAU,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,OAAO;YAAI,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;SAAmB,EAAE,QAAQ;QACvH;;;;OAIC,GACD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,UAAU,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QACrC,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QAClD,oBAAoB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClD,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC9C,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC/C,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,kBAAkB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAChD,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAQ;YAAY;SAAU,EAAE,OAAO;QAChF,OAAO,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QACtC,kBAAkB,YAAY,CAAC,CAAC,OAAO,GAAG,OAAO;QACjD,eAAe,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,OAAO;QACpE,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAW,EAAE,OAAO;QAC5D,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC;AAGJ,IAAI,8BAA8B,WAChC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,aAAa,YAAY,CAAC,CAAC,MAAM;IACnC;AAGJ,IAAI,+BAA+B,WACjC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YACvC,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAAS,MAAM,YAAY,CAAC,CAAC,MAAM;YAAG;YACzF,YAAY,CAAC,CAAC,MAAM,CAAC;gBAAE,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAAU,KAAK,YAAY,CAAC,CAAC,MAAM;YAAG;SAC1F,GACD,OAAO;IACX;AAGJ,IAAI,6BAA6B,WAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC;YAC7B,YAAY,CAAC,CAAC,MAAM;YACpB,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;YAC/D;SACD,EAAE,QAAQ;IACb;AAGJ,IAAI,8BAA8B,iDAAiD;IACjF,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,mBAAmB,CAAC,OAAO,CAAC,CAAC;IAC/B,OAAO,4BAA4B;AACrC;AACA,IAAI,0BAA0B,YAAY,CAAC,CAAC,MAAM,CAAC;IACjD,KAAK,YAAY,CAAC,CAAC,MAAM;IACzB,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAM;QAAM;QAAM;QAAO;QAAM;KAAM;IAC/D,OAAO,YAAY,CAAC,CAAC,KAAK,CAAC;QAAC,YAAY,CAAC,CAAC,MAAM;QAAI,YAAY,CAAC,CAAC,MAAM;QAAI,YAAY,CAAC,CAAC,OAAO;KAAG;AACtG;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAO;KAAK;IACtC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,KAAK,CAAC;QAAC;QAAyB,YAAY,CAAC,CAAC,IAAI,CAAC,IAAM;KAAuB;AAElG;AACA,IAAI,wBAAwB,WAC1B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QACxD,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACjD,GAAG,QAAQ;QACX,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC;YAAyB;SAAsB,EAAE,QAAQ;IACzF;AAGJ,IAAI,0BAA0B,WAC5B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QACjD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,YAAY,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,OAAO;YAC9E,QAAQ,YAAY,CAAC,CAAC,MAAM;YAC5B,UAAU,YAAY,CAAC,CAAC,MAAM;YAC9B,OAAO,YAAY,CAAC,CAAC,MAAM;YAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B,IACA,QAAQ;IACZ;AAGJ,IAAI,cAAc,iDAAiD;IACjE,IAAI;IACJ,MAAM;IACN,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;IACnC,cAAc;AAChB;AACA,IAAI,uBAAuB,WACzB,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAAE,gBAAgB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAAG,GAAG,QAAQ;QAClH,mBAAmB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACzE,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;YACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;IACb;AAGJ,IAAI,wBAAwB,WAAW,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAC7E,IAAI,yBAAyB,WAC3B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;YAC3B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;gBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;SACD;IACH;AAGJ,IAAI,wBAAwB,iDAAiD;IAC3E,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,8BAA8B,WAChC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,mBAAmB,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAU;SAAO,EAAE,QAAQ;QACzE,cAAc,YAAY,CAAC,CAAC,MAAM,CAAC;YACjC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;IACb;AAGJ,IAAI,+BAA+B,WACjC,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AAExC,IAAI,gCAAgC,WAClC,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;YAC/C,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACxC;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;YAC3B;YACA,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,KAAK,YAAY,CAAC,CAAC,MAAM;gBACzB,SAAS,YAAY,CAAC,CAAC,MAAM;YAC/B;SACD;IACH;AAGJ,IAAI,oBAAoB,iDAAiD;IACvE,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,6BAA6B,WAC/B,IAAM,UACJ,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;SAAc,EAAE,QAAQ;QAC1E,eAAe,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;SAAO,EAAE,QAAQ;QAC3D,gBAAgB,YAAY,CAAC,CAAC,MAAM,CAAC;YACnC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;YACvC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC3C,GAAG,QAAQ;QACX,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACtC,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;SAAO,EAAE,QAAQ;QACjD,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,QAAQ;QACxE,cAAc,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAO;YAAQ;SAAO,EAAE,QAAQ;QAClE,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ;QAClE,SAAS,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAO;YAAU;SAAO,EAAE,QAAQ;QACvE,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;YAAC;YAAa;YAAa;YAAa;SAAO,EAAE,QAAQ;IACpF,GAAG,MAAM;AAGb,IAAI,8BAA8B,WAAW,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AACnF,IAAI,+BAA+B,WACjC,IAAM,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,QAAQ,YAAY,CAAC,CAAC,MAAM;IAAG;AAExE,IAAI,8BAA8B,iDAAiD;IACjF,IAAI;IACJ,MAAM;IACN,aAAa;IACb,cAAc;AAChB;AACA,IAAI,mBAAmB,CAAC,OAAO,CAAC,CAAC;IAC/B,OAAO,4BAA4B;AACrC;AACA,SAAS,uBAAuB,EAAE;IAChC,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,UAAU,EACV,gBAAgB,EACjB;QACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;QAC/D,MAAM,eAAe,EAAE;QACvB,IAAI,SAAS,MAAM;YACjB,OAAO;gBAAE,OAAO,KAAK;gBAAG,YAAY,KAAK;gBAAG;YAAa;QAC3D;QACA,MAAM,eAAe,EAAE;QACvB,KAAK,MAAM,UAAU,MAAO;YAC1B,OAAQ,OAAO,IAAI;gBACjB,KAAK;oBACH,aAAa,IAAI,CAAC;wBAChB,MAAM;wBACN,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,YAAY,OAAO,WAAW;wBAC9B,QAAQ;oBACV;oBACA;gBACF,KAAK;oBAAoB;wBACvB,OAAQ,OAAO,EAAE;4BACf,KAAK;gCAAsB;oCACzB,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,kBAAkB,KAAK,cAAc;wCACrC,iBAAiB,KAAK,aAAa;wCACnC,iBAAiB,KAAK,OAAO,GAAG;4CAC9B,QAAQ,KAAK,OAAO,CAAC,MAAM;4CAC3B,iBAAiB,KAAK,OAAO,CAAC,cAAc;wCAC9C,IAAI,KAAK;wCACT,SAAS,KAAK,OAAO;oCACvB;oCACA;gCACF;4BACA,KAAK;gCAAsB;oCACzB,aAAa,IAAI,CAAC;wCAChB,MAAM;oCACR;oCACA;gCACF;4BACA,KAAK;gCAA6B;oCAChC,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,qBAAqB,KAAK,iBAAiB;wCAC3C,eAAe,KAAK,YAAY;oCAClC;oCACA;gCACF;4BACA,KAAK;gCAAqB;oCACxB,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,SAAS,KAAK,OAAO,IAAI,OAAO;4CAAE,iBAAiB,KAAK,OAAO,CAAC,cAAc;wCAAC,IAAI,KAAK;wCACxF,qBAAqB,KAAK,iBAAiB;wCAC3C,eAAe,KAAK,YAAY;oCAClC;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,WAAW,KAAK,SAAS,IAAI,OAAO;4CAAE,MAAM;4CAAQ,UAAU,KAAK;wCAAE,IAAI,OAAO,KAAK,SAAS,KAAK,WAAW,KAAK,SAAS,GAAG;4CAAE,MAAM;4CAAQ,UAAU,KAAK,SAAS,CAAC,OAAO;wCAAC;oCAClL;oCACA;gCACF;4BACA,KAAK;gCAA2B;oCAC9B,MAAM,OAAO,MAAM,cAAc;wCAC/B,OAAO,OAAO,IAAI;wCAClB,QAAQ;oCACV;oCACA,aAAa,IAAI,CAAC;wCAChB,MAAM;wCACN,YAAY,KAAK,UAAU;wCAC3B,gBAAgB,KAAK,aAAa;wCAClC,kBAAkB,KAAK,cAAc,GAAG;4CACtC,SAAS,KAAK,cAAc,CAAC,MAAM;4CACnC,WAAW,KAAK,cAAc,CAAC,QAAQ;wCACzC,IAAI,KAAK;wCACT,OAAO,KAAK,KAAK;wCACjB,MAAM,KAAK,IAAI;wCACf,SAAS,KAAK,OAAO;wCACrB,YAAY,KAAK,UAAU;wCAC3B,eAAe,KAAK,YAAY;wCAChC,oBAAoB,KAAK,iBAAiB;oCAC5C;oCACA;gCACF;wBACF;wBACA;oBACF;gBACA;oBACE,aAAa,IAAI,CAAC;wBAAE,MAAM;wBAAoB,MAAM;oBAAO;oBAC3D;YACJ;QACF;QACA,IAAI,cAAc,MAAM;YACtB,OAAO;gBAAE,OAAO;gBAAc,YAAY,KAAK;gBAAG;YAAa;QACjE;QACA,MAAM,OAAO,WAAW,IAAI;QAC5B,OAAQ;YACN,KAAK;YACL,KAAK;YACL,KAAK;gBACH,OAAO;oBAAE,OAAO;oBAAc,YAAY;oBAAM;gBAAa;YAC/D,KAAK;gBACH,OAAO;oBACL,OAAO;oBACP,YAAY,WAAW,QAAQ,KAAK,sBAAsB,WAAW,QAAQ,KAAK,iBAAiB,WAAW,QAAQ,KAAK,sBAAsB,WAAW,QAAQ,KAAK,wBAAwB,WAAW,QAAQ,KAAK,eAAe;wBAAE,MAAM,WAAW,QAAQ;oBAAC,IAAI;wBAAE,MAAM;wBAAY,MAAM,WAAW,QAAQ;oBAAC;oBACtT;gBACF;YACF;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;oBACxD;gBACF;QACF;IACF;AACF;AACA,IAAI,gCAAgC;IAClC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;YAC9B,mBAAmB;gBAAC;aAAkB;QACxC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,eAAe,EACf,WAAW,EACX,aAAa,EACb,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,gBAAgB,EAChB,IAAI,EACJ,MAAM,EACN,eAAe,EACf,KAAK,EACL,UAAU,EACV,cAAc,EACf;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,cAAc,yBAAyB,IAAI,CAAC,OAAO;YACzD,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAO;YAC/D;YACA,IAAI,mBAAmB,MAAM;gBAC3B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,oBAAoB,MAAM;gBAC5B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,iBAAiB,MAAM;gBACzB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAgB;YACxE;YACA,MAAM,gBAAgB,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,EAAE,KAAK,EAAE,UAAU,aAAa,EAAE,GAAG,MAAM,+BAA+B;gBAC9E;gBACA,mBAAmB,YAAY,iBAAiB;gBAChD,gBAAgB,IAAI,CAAC,MAAM,CAAC,cAAc;gBAC1C,OAAO,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,KAAK,KAAK,OAAO,KAAK;gBAClF,mBAAmB,cAAc;YACnC;YACA,SAAS,IAAI,IAAI;YACjB,MAAM,mBAAmB,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,OAAO,KAAK;YAC/G,IAAI,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO;YACpE,SAAS,WAAW,GAAG;gBACrB,IAAI,WAAW,MAAM;oBACnB,UAAU;wBAAC;qBAAI;gBACjB,OAAO,IAAI,CAAC,QAAQ,QAAQ,CAAC,MAAM;oBACjC,UAAU;2BAAI;wBAAS;qBAAI;gBAC7B;YACF;YACA,SAAS,cAAc,EAAE;gBACvB,OAAO,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI,CACzC,CAAC,SAAW,OAAO,IAAI,KAAK,sBAAsB,OAAO,EAAE,KAAK,GACjE,KAAK;YACR;YACA,MAAM,cAAc,OAAO,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ,MAAM,OAAO,oBAAoB,KAAK;YAC5P,IAAI,aAAa;gBACf,WAAW;YACb;YACA,MAAM,oBAAoB,CAAC,KAAK,SAAS,OAAO,KAAK,IAAI,MAAM,IAAI,CACjE,CAAC,SAAW,OAAO,IAAI,KAAK,sBAAsB,CAAC,OAAO,EAAE,KAAK,uBAAuB,OAAO,EAAE,KAAK,2BAA2B,EAClI,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;YAC7B,IAAI,mBAAmB;gBACrB,WAAW;YACb;YACA,IAAI,cAAc,4BAA4B;gBAC5C,WAAW;YACb;YACA,MAAM,QAAQ,iBAAiB,OAAO,KAAK,IAAI,cAAc,KAAK;YAClE,IAAI,UAAU,SAAS,YAAY,gBAAgB,EAAE;gBACnD,WAAW;YACb;YACA,MAAM,WAAW,eAAe,cAAc,eAAe;gBAC3D,OAAO,IAAI,CAAC,OAAO;gBACnB;gBACA;gBACA,OAAO;gBACP,mBAAmB;YACrB,GAAG,CAAC,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,aAAa,CAAC,KAAK;gBAC3I,MAAM,eAAe,eAAe,CAAC,GAAG,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU;oBAC5G,QAAQ,eAAe,MAAM,IAAI,OAAO;wBACtC,MAAM;wBACN,QAAQ;wBACR,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,aAAa,eAAe,WAAW;wBACvC,QAAQ,eAAe,MAAM;oBAC/B,IAAI;wBAAE,MAAM;oBAAc;gBAC5B,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,aAAa,KAAK;oBACpE,WAAW,cAAc,aAAa;gBACxC;YACF,IAAI;gBACF,oBAAoB;gBACpB,gBAAgB,iBAAiB,OAAO,KAAK,IAAI,cAAc,YAAY;gBAC3E,UAAU,iBAAiB,OAAO,KAAK,IAAI,cAAc,QAAQ;gBACjE,qBAAqB,iBAAiB,OAAO,KAAK,IAAI,cAAc,iBAAiB;gBACrF,sBAAsB,iBAAiB,OAAO,KAAK,IAAI,cAAc,kBAAkB;gBACvF;gBACA,MAAM,iBAAiB,OAAO,KAAK,IAAI,cAAc,IAAI;gBACzD,cAAc,iBAAiB,OAAO,KAAK,IAAI,cAAc,YAAY;gBACzE,cAAc,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW;gBACxE;gBACA,kBAAkB,iBAAiB,OAAO,KAAK,IAAI,cAAc,cAAc;gBAC/E,mBAAmB,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB;gBAClF,cAAc;gBACd,YAAY,iBAAiB,OAAO,KAAK,IAAI,cAAc,UAAU;YACvE,IAAI,YAAY,gBAAgB,IAAI,CAAC,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,QAAQ,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,IAAI,KAAK;gBAC7L,WAAW,eAAe,eAAe,CAAC,GAAG,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,QAAQ;oBACvH,QAAQ,cAAc,eAAe;gBACvC,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,QAAQ;oBAC/E,SAAS,cAAc,gBAAgB;gBACzC;YACF;YACA,IAAI,YAAY,gBAAgB,EAAE;gBAChC,IAAI,SAAS,WAAW,IAAI,MAAM;oBAChC,SAAS,WAAW,GAAG,KAAK;oBAC5B,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,SAAS,KAAK,IAAI,MAAM;oBAC1B,SAAS,KAAK,GAAG,KAAK;oBACtB,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF,OAAO;gBACL,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,eAAe,KAAK,MAAM;oBAC5E,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,gBAAgB,KAAK,MAAM;oBAC7E,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,SAAS;oBACX;gBACF;YACF;YACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,MAAM,UAAU,CAAC,YAAY,sBAAsB,EAAE;gBAClH,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,OAAO,SAAS,YAAY;YAC9B;YACA,IAAI,CAAC,iBAAiB,OAAO,KAAK,IAAI,cAAc,WAAW,MAAM,cAAc,CAAC,YAAY,0BAA0B,EAAE;gBAC1H,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;gBACA,OAAO,SAAS,YAAY;YAC9B;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,gBAAgB,EAC5B,YAAY,EACb,GAAG,MAAM,uBAAuB;gBAC/B;gBACA;gBACA;YACF;YACA,OAAO;gBACL;gBACA,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;gBACxC;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5E,MAAM,EACJ,MAAM,IAAI,EACV,QAAQ,EACR,iBAAiB,EAClB,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACvB,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC1B,MAAM;gBACN,SAAS,IAAI,CAAC,OAAO;YACvB;YACA,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,SAAS,KAAK,EAAE;gBAClB,MAAM,IAAI,kBAAkB,YAAY,CAAC;oBACvC,SAAS,SAAS,KAAK,CAAC,OAAO;oBAC/B;oBACA,mBAAmB;oBACnB,YAAY;oBACZ;oBACA,cAAc;oBACd,aAAa;gBACf;YACF;YACA,MAAM,UAAU,EAAE;YAClB,MAAM,WAAW,EAAE;YACnB,IAAI,kBAAkB;YACtB,KAAK,MAAM,QAAQ,SAAS,MAAM,CAAE;gBAClC,OAAQ,KAAK,IAAI;oBACf,KAAK;wBAAa;4BAChB,IAAI,KAAK,OAAO,CAAC,MAAM,KAAK,GAAG;gCAC7B,KAAK,OAAO,CAAC,IAAI,CAAC;oCAAE,MAAM;oCAAgB,MAAM;gCAAG;4BACrD;4BACA,KAAK,MAAM,WAAW,KAAK,OAAO,CAAE;gCAClC,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM,QAAQ,IAAI;oCAClB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,KAAK,EAAE;4CACf,2BAA2B,CAAC,KAAK,KAAK,iBAAiB,KAAK,OAAO,KAAK;wCAC1E;oCACF;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAyB;4BAC5B,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,QAAQ,KAAK,MAAM;gCACrB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAoB;4BACvB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,OAAO;gCACxB,UAAU;gCACV,OAAO,KAAK,SAAS,CAAC;oCACpB,QAAQ,KAAK,MAAM;gCACrB;gCACA,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,KAAK,EAAE;oCACjB;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAW;4BACd,KAAK,MAAM,eAAe,KAAK,OAAO,CAAE;gCACtC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,QAAQ,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,YAAY,QAAQ,EAAE;oCAC/H,SAAS,IAAI,CAAC,YAAY,QAAQ;gCACpC;gCACA,QAAQ,IAAI,CAAC;oCACX,MAAM;oCACN,MAAM,YAAY,IAAI;oCACtB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,KAAK,EAAE;wCACjB;oCACF;gCACF;gCACA,KAAK,MAAM,cAAc,YAAY,WAAW,CAAE;oCAChD,IAAI,WAAW,IAAI,KAAK,gBAAgB;wCACtC,QAAQ,IAAI,CAAC;4CACX,MAAM;4CACN,YAAY;4CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;4CAC9F,KAAK,WAAW,GAAG;4CACnB,OAAO,WAAW,KAAK;wCACzB;oCACF,OAAO,IAAI,WAAW,IAAI,KAAK,iBAAiB;wCAC9C,QAAQ,IAAI,CAAC;4CACX,MAAM;4CACN,YAAY;4CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;4CAC9F,WAAW;4CACX,OAAO,CAAC,KAAK,CAAC,KAAK,WAAW,KAAK,KAAK,OAAO,KAAK,WAAW,QAAQ,KAAK,OAAO,KAAK;4CACxF,UAAU,CAAC,KAAK,WAAW,QAAQ,KAAK,OAAO,KAAK,WAAW,OAAO;wCACxE;oCACF;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAiB;4BACpB,kBAAkB;4BAClB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,OAAO;gCACxB,UAAU,KAAK,IAAI;gCACnB,OAAO,KAAK,SAAS;gCACrB,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,KAAK,EAAE;oCACjB;gCACF;4BACF;4BACA;wBACF;oBACA,KAAK;wBAAmB;4BACtB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU,qBAAqB,OAAO,oBAAoB;gCAC1D,OAAO,KAAK,SAAS,CAAC,CAAC;gCACvB,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU,qBAAqB,OAAO,oBAAoB;gCAC1D,QAAQ,oBAAoB,KAAK,MAAM;gCACvC,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAiB;4BACpB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,MAAM;oCACN,QAAQ,KAAK,MAAM,IAAI;gCACzB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAoB;4BACvB,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO;gCACP,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,SAAS,KAAK,OAAO;oCACrB,SAAS,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;4CACxE,YAAY,OAAO,UAAU;4CAC7B,QAAQ,OAAO,OAAO;4CACtB,UAAU,OAAO,QAAQ;4CACzB,OAAO,OAAO,KAAK;4CACnB,MAAM,OAAO,IAAI;wCACnB,CAAC,EAAE,KAAK,OAAO,KAAK;gCACtB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;oBACA,KAAK;wBAAyB;4BAC5B,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,OAAO,KAAK,SAAS,CAAC;oCACpB,MAAM,KAAK,IAAI;oCACf,aAAa,KAAK,YAAY;gCAChC;gCACA,kBAAkB;4BACpB;4BACA,QAAQ,IAAI,CAAC;gCACX,MAAM;gCACN,YAAY,KAAK,EAAE;gCACnB,UAAU;gCACV,QAAQ;oCACN,SAAS,KAAK,OAAO;gCACvB;gCACA,kBAAkB;4BACpB;4BACA;wBACF;gBACF;YACF;YACA,MAAM,mBAAmB;gBACvB,QAAQ;oBAAE,YAAY,SAAS,EAAE;gBAAC;YACpC;YACA,IAAI,SAAS,MAAM,GAAG,GAAG;gBACvB,iBAAiB,MAAM,CAAC,QAAQ,GAAG;YACrC;YACA,IAAI,OAAO,SAAS,YAAY,KAAK,UAAU;gBAC7C,iBAAiB,MAAM,CAAC,WAAW,GAAG,SAAS,YAAY;YAC7D;YACA,OAAO;gBACL;gBACA,cAAc,+BAA+B;oBAC3C,cAAc,CAAC,KAAK,SAAS,kBAAkB,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;oBAC7E;gBACF;gBACA,OAAO;oBACL,aAAa,SAAS,KAAK,CAAC,YAAY;oBACxC,cAAc,SAAS,KAAK,CAAC,aAAa;oBAC1C,aAAa,SAAS,KAAK,CAAC,YAAY,GAAG,SAAS,KAAK,CAAC,aAAa;oBACvE,iBAAiB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;oBAC/H,mBAAmB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,oBAAoB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;gBAC/H;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBACR,IAAI,SAAS,EAAE;oBACf,WAAW,IAAI,KAAK,SAAS,UAAU,GAAG;oBAC1C,SAAS,SAAS,KAAK;oBACvB,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EACJ,MAAM,IAAI,EACV,QAAQ,EACR,iBAAiB,EACjB,KAAK,EACN,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACvB,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAC5C,QAAQ;gBACV;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,OAAO,IAAI;YACjB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,MAAM,WAAW,EAAE;YACnB,IAAI,aAAa;YACjB,MAAM,mBAAmB,CAAC;YAC1B,IAAI,kBAAkB;YACtB,MAAM,kBAAkB,CAAC;YACzB,IAAI;YACJ,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACxF,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,gCAAgC,QAAQ;4BAC1C,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCACvC,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU,MAAM,IAAI,CAAC,IAAI;oCACzB,YAAY,MAAM,IAAI,CAAC,OAAO;gCAChC;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,OAAO;oCACtB,UAAU,MAAM,IAAI,CAAC,IAAI;gCAC3B;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,mBAAmB;gCAChD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU,qBAAqB,OAAO,oBAAoB;oCAC1D,YAAY,MAAM,IAAI,CAAC,EAAE;gCAC3B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU,qBAAqB,OAAO,oBAAoB;oCAC1D,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC,CAAC;oCACvB,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCAC9C,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU;oCACV,YAAY,MAAM,IAAI,CAAC,EAAE;gCAC3B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU;oCACV,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG;oCACrC,UAAU;oCACV,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,iBAAiB;wCACf,aAAa,MAAM,IAAI,CAAC,YAAY;oCACtC;gCACF;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,UAAU;oCACV,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,OAAO,CAAC,gBAAgB,EAAE,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gCAC/D;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,WAAW;gCACxC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;oCACjB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;wCACvB;oCACF;gCACF;4BACF,OAAO,IAAI,gCAAgC,UAAU,MAAM,IAAI,CAAC,IAAI,KAAK,aAAa;gCACpF,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,GAAG;oCAC/B,kBAAkB,MAAM,IAAI,CAAC,iBAAiB;oCAC9C,cAAc;wCAAE,GAAG;oCAAS;gCAC9B;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;oCACxB,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;4CACrB,2BAA2B,CAAC,KAAK,MAAM,IAAI,CAAC,iBAAiB,KAAK,OAAO,KAAK;wCAChF;oCACF;gCACF;4BACF;wBACF,OAAO,IAAI,+BAA+B,QAAQ;4BAChD,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCACvC,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,kBAAkB;gCAClB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,OAAO;gCACxB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,OAAO;oCAC9B,UAAU,MAAM,IAAI,CAAC,IAAI;oCACzB,OAAO,MAAM,IAAI,CAAC,SAAS;oCAC3B,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,IAAI,CAAC,EAAE;wCACvB;oCACF;gCACF;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,mBAAmB;gCAChD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ,oBAAoB,MAAM,IAAI,CAAC,MAAM;oCAC7C,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;gCAC9C,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,OAAO;oCACP,kBAAkB;gCACpB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,MAAM;wCACN,QAAQ,MAAM,IAAI,CAAC,MAAM,IAAI;oCAC/B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,SAAS,MAAM,IAAI,CAAC,OAAO;wCAC3B,SAAS,CAAC,KAAK,CAAC,KAAK,MAAM,IAAI,CAAC,OAAO,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,SAAW,CAAC;gDAC9E,YAAY,OAAO,UAAU;gDAC7B,QAAQ,OAAO,OAAO;gDACtB,UAAU,OAAO,QAAQ;gDACzB,OAAO,OAAO,KAAK;gDACnB,MAAM,OAAO,IAAI;4CACnB,CAAC,EAAE,KAAK,OAAO,KAAK;oCACtB;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,SAAS,MAAM,IAAI,CAAC,OAAO;oCAC7B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,yBAAyB;gCACtD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,EAAE;oCACzB,UAAU;oCACV,QAAQ;wCACN,QAAQ,MAAM,IAAI,CAAC,MAAM;oCAC3B;oCACA,kBAAkB;gCACpB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,oBAAoB;gCACjD,gBAAgB,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,MAAM,IAAI,CAAC,OAAO;oCAC9B,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC;wCACpB,QAAQ;4CACN,MAAM;4CACN,SAAS,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO;4CAClC,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU;4CACvC,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI;4CAC5B,kBAAkB,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB;4CACrD,KAAK,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG;wCAC5B;oCACF;oCACA,kBAAkB;wCAChB,QAAQ;4CAAE,QAAQ,MAAM,IAAI,CAAC,EAAE;wCAAC;oCAClC;gCACF;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,WAAW;gCACxC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,MAAM,IAAI,CAAC,EAAE;gCACnB;4BACF,OAAO,IAAI,MAAM,IAAI,CAAC,IAAI,KAAK,aAAa;gCAC1C,MAAM,sBAAsB,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;gCAC1D,MAAM,qBAAqB,OAAO,OAAO,CACvC,oBAAoB,YAAY,EAChC,MAAM,CACN,CAAC,CAAC,GAAG,OAAO,GAAK,WAAW,YAAY,WAAW,gBACnD,GAAG,CAAC,CAAC,CAAC,aAAa,GAAK;gCAC1B,KAAK,MAAM,gBAAgB,mBAAoB;oCAC7C,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,cAAc;wCACtC,kBAAkB;4CAChB,QAAQ;gDACN,QAAQ,MAAM,IAAI,CAAC,EAAE;gDACrB,2BAA2B,CAAC,KAAK,MAAM,IAAI,CAAC,iBAAiB,KAAK,OAAO,KAAK;4CAChF;wCACF;oCACF;gCACF;gCACA,OAAO,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;4BACvC;wBACF,OAAO,IAAI,2CAA2C,QAAQ;4BAC5D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,OAAO,MAAM,KAAK;gCACpB;4BACF;wBACF,OAAO,IAAI,6CAA6C,QAAQ;4BAC9D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,0DAA0D;oCAC1D,4EAA4E;oCAC5E,OAAO,KAAK,SAAS,CAAC,MAAM,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC;gCAC/C;4BACF;wBACF,OAAO,IAAI,4CAA4C,QAAQ;4BAC7D,MAAM,WAAW,gBAAgB,CAAC,MAAM,YAAY,CAAC;4BACrD,IAAI,YAAY,MAAM;gCACpB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;oCACvB,OAAO;gCACT;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,UAAU;gCACzB;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY,SAAS,UAAU;oCAC/B,UAAU;oCACV,OAAO,KAAK,SAAS,CAAC;wCACpB,MAAM,MAAM,IAAI;wCAChB,aAAa,SAAS,eAAe,CAAC,WAAW;oCACnD;oCACA,kBAAkB;gCACpB;4BACF;wBACF,OAAO,IAAI,wBAAwB,QAAQ;4BACzC,aAAa,MAAM,QAAQ,CAAC,EAAE;4BAC9B,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,MAAM,QAAQ,CAAC,EAAE;gCACrB,WAAW,IAAI,KAAK,MAAM,QAAQ,CAAC,UAAU,GAAG;gCAChD,SAAS,MAAM,QAAQ,CAAC,KAAK;4BAC/B;wBACF,OAAO,IAAI,kBAAkB,QAAQ;4BACnC,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,MAAM,OAAO;gCACjB,OAAO,MAAM,KAAK;4BACpB;4BACA,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,QAAQ,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,MAAM,QAAQ,EAAE;gCACzH,SAAS,IAAI,CAAC,MAAM,QAAQ;4BAC9B;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,yCAAyC;4BACjE,IAAI,MAAM,aAAa,GAAG,GAAG;gCAC3B,MAAM,sBAAsB,eAAe,CAAC,MAAM,OAAO,CAAC;gCAC1D,oBAAoB,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;gCACxD,KAAK,MAAM,gBAAgB,OAAO,IAAI,CACpC,oBAAoB,YAAY,EAC/B;oCACD,IAAI,oBAAoB,YAAY,CAAC,aAAa,KAAK,gBAAgB;wCACrE,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,cAAc;4CACtC,kBAAkB;gDAAE,QAAQ;oDAAE,QAAQ,MAAM,OAAO;gDAAC;4CAAE;wCACxD;wCACA,oBAAoB,YAAY,CAAC,aAAa,GAAG;oCACnD;gCACF;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;oCAC7C,kBAAkB;wCAChB,QAAQ;4CACN,QAAQ,MAAM,OAAO;4CACrB,2BAA2B,CAAC,KAAK,CAAC,KAAK,eAAe,CAAC,MAAM,OAAO,CAAC,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK;wCAChI;oCACF;gCACF;4BACF;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,yCAAyC;4BACjE,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;gCAC7C,OAAO,MAAM,KAAK;gCAClB,kBAAkB;oCAChB,QAAQ;wCACN,QAAQ,MAAM,OAAO;oCACvB;gCACF;4BACF;wBACF,OAAO,IAAI,MAAM,IAAI,KAAK,wCAAwC;4BAChE,IAAI,OAAO;gCACT,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,MAAM,aAAa,EAAE;oCAC7C,kBAAkB;wCAChB,QAAQ;4CAAE,QAAQ,MAAM,OAAO;wCAAC;oCAClC;gCACF;gCACA,eAAe,CAAC,MAAM,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;4BACrE,OAAO;gCACL,eAAe,CAAC,MAAM,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,aAAa,CAAC,GAAG;4BACrE;wBACF,OAAO,IAAI,yBAAyB,QAAQ;4BAC1C,eAAe,+BAA+B;gCAC5C,cAAc,CAAC,KAAK,MAAM,QAAQ,CAAC,kBAAkB,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM;gCACnF;4BACF;4BACA,MAAM,WAAW,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,YAAY;4BACrD,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,aAAa;4BACvD,MAAM,WAAW,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,QAAQ,CAAC,KAAK,CAAC,aAAa;4BAC1F,MAAM,eAAe,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,CAAC,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,gBAAgB,KAAK,OAAO,KAAK,KAAK;4BAC5I,MAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,QAAQ,CAAC,KAAK,CAAC,oBAAoB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;4BAC1I,IAAI,OAAO,MAAM,QAAQ,CAAC,YAAY,KAAK,UAAU;gCACnD,cAAc,MAAM,QAAQ,CAAC,YAAY;4BAC3C;wBACF,OAAO,IAAI,gCAAgC,QAAQ;4BACjD,IAAI,MAAM,UAAU,CAAC,IAAI,KAAK,gBAAgB;gCAC5C,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;oCAC9F,KAAK,MAAM,UAAU,CAAC,GAAG;oCACzB,OAAO,MAAM,UAAU,CAAC,KAAK;gCAC/B;4BACF,OAAO,IAAI,MAAM,UAAU,CAAC,IAAI,KAAK,iBAAiB;gCACpD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;oCAC9F,WAAW;oCACX,OAAO,CAAC,KAAK,CAAC,KAAK,MAAM,UAAU,CAAC,KAAK,KAAK,OAAO,KAAK,MAAM,UAAU,CAAC,QAAQ,KAAK,OAAO,KAAK;oCACpG,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,QAAQ,KAAK,OAAO,KAAK,MAAM,UAAU,CAAC,OAAO;gCACpF;4BACF;wBACF,OAAO,IAAI,cAAc,QAAQ;4BAC/B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO;4BAAM;wBACnD;oBACF;oBACA,OAAM,UAAU;wBACd,MAAM,mBAAmB;4BACvB,QAAQ;gCACN;4BACF;wBACF;wBACA,IAAI,SAAS,MAAM,GAAG,GAAG;4BACvB,iBAAiB,MAAM,CAAC,QAAQ,GAAG;wBACrC;wBACA,IAAI,gBAAgB,KAAK,GAAG;4BAC1B,iBAAiB,MAAM,CAAC,WAAW,GAAG;wBACxC;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,kBAAkB,KAAK;IAC9B,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,+BAA+B,KAAK;IAC3C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,yBAAyB,KAAK;IACrC,OAAO,MAAM,IAAI,KAAK,wBAAwB,MAAM,IAAI,KAAK;AAC/D;AACA,SAAS,wBAAwB,KAAK;IACpC,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,2CAA2C,KAAK;IACvD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,6CAA6C,KAAK;IACzD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,4CAA4C,KAAK;IACxD,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,gCAAgC,KAAK;IAC5C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,gCAAgC,KAAK;IAC5C,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,cAAc,KAAK;IAC1B,OAAO,MAAM,IAAI,KAAK;AACxB;AACA,SAAS,yBAAyB,OAAO;IACvC,MAAM,2BAA2B,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC;IACjJ,MAAM,+BAA+B,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,YAAY,CAAC,QAAQ,UAAU,CAAC,iBAAiB,CAAC,QAAQ,UAAU,CAAC,iBAAiB,QAAQ,UAAU,CAAC,SAAS,QAAQ,UAAU,CAAC;IAChQ,MAAM,YAAY;QAChB,mBAAmB;QACnB,wBAAwB;QACxB,4BAA4B;IAC9B;IACA,IAAI,QAAQ,UAAU,CAAC,eAAe;QACpC,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;YAClD,kBAAkB;QACpB;IACF;IACA,IAAI,QAAQ,UAAU,CAAC,QAAQ,QAAQ,UAAU,CAAC,YAAY,QAAQ,UAAU,CAAC,aAAa,QAAQ,UAAU,CAAC,iBAAiB;QAChI,IAAI,QAAQ,UAAU,CAAC,cAAc,QAAQ,UAAU,CAAC,eAAe;YACrE,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;gBAClD,kBAAkB;gBAClB,mBAAmB;YACrB;QACF;QACA,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;YAClD,kBAAkB;YAClB,mBAAmB;QACrB;IACF;IACA,OAAO,cAAc,eAAe,CAAC,GAAG,YAAY;QAClD,kBAAkB;IACpB;AACF;AACA,SAAS,oBAAoB,MAAM;IACjC,IAAI;IACJ,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBAAE,QAAQ;oBAAE,MAAM;oBAAU,OAAO,CAAC,KAAK,OAAO,KAAK,KAAK,OAAO,KAAK,KAAK;gBAAE;YAAE;QACxF,KAAK;YACH,OAAO;gBAAE,QAAQ;oBAAE,MAAM;oBAAY,KAAK,OAAO,GAAG;gBAAC;YAAE;QACzD,KAAK;YACH,OAAO;gBACL,QAAQ;oBAAE,MAAM;oBAAQ,KAAK,OAAO,GAAG;oBAAE,SAAS,OAAO,OAAO;gBAAC;YACnE;IACJ;AACF;AAEA,sGAAsG;AACtG,IAAI,mBAAmB;IACrB,iBAAiB;IACjB,YAAY;IACZ,iBAAiB;AACnB;AACA,IAAI,WAAW,uCAAO,WAAW;AACjC,SAAS,YAAY,UAAU,CAAC,CAAC;IAC/B,IAAI;IACJ,MAAM,aAAa;QACjB,MAAM,cAAc,eAAe;YACjC,WAAW,WAAW;gBACpB,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf;QACF,GAAG,QAAQ,OAAO;QAClB,OAAO,oBAAoB,aAAa,CAAC,aAAa,EAAE,UAAU;IACpE;IACA,MAAM,kBAAkB,IAAM,YAAY;YACxC,cAAc,QAAQ,YAAY;YAClC,aAAa;YACb,yBAAyB;YACzB,aAAa;QACf;IACA,MAAM,aAAa,CAAC,KAAK,QAAQ,UAAU,KAAK,OAAO,KAAK;IAC5D,MAAM,MAAM,CAAC,EAAE,MAAM,KAAK,EAAE,OAAO,EAAE;QACnC,IAAI;QACJ,MAAM,gBAAgB,CAAC,MAAM,QAAQ,OAAO,KAAK,OAAO,MAAM,CAAC,QAAQ,EAAE,kBAAkB,wBAAwB,CAAC;QACpH,IAAI;QACJ,IAAI,QAAQ,sBAAsB,EAAE;YAClC,UAAU,IAAI,IAAI,GAAG,cAAc,aAAa,EAAE,UAAU,OAAO;QACrE,OAAO;YACL,UAAU,IAAI,IAAI,GAAG,cAAc,GAAG,EAAE,OAAO;QACjD;QACA,QAAQ,YAAY,CAAC,GAAG,CAAC,eAAe;QACxC,OAAO,QAAQ,QAAQ;IACzB;IACA,MAAM,kBAAkB,CAAC,iBAAmB,IAAI,yBAAyB,gBAAgB;YACvF,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,wBAAwB,CAAC,UAAY,IAAI,+BAA+B,SAAS;YACrF,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,uBAAuB,CAAC,UAAY,IAAI,sBAAsB,SAAS;YAC3E,UAAU;YACV,SAAS;YACT;YACA,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,uBAAuB,CAAC,UAAY,IAAI,8BAA8B,SAAS;YACnF,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,gBAAgB;gBAAC;aAAa;QAChC;IACA,MAAM,mBAAmB,CAAC,UAAY,IAAI,kBAAkB,SAAS;YACnE,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,2BAA2B,CAAC,UAAY,IAAI,0BAA0B,SAAS;YACnF,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,oBAAoB,CAAC,UAAY,IAAI,mBAAmB,SAAS;YACrE,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,WAAW,SAAS,YAAY;QACpC,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,gBAAgB;IACzB;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,UAAU,GAAG;IACtB,SAAS,SAAS,GAAG;IACrB,SAAS,KAAK,GAAG;IACjB,SAAS,UAAU,GAAG;IACtB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,SAAS,GAAG;IACrB,SAAS,aAAa,GAAG;IACzB,SAAS,MAAM,GAAG;IAClB,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,QAAQ;AAEZ,oGAAoG;AACpG,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,0BAA0B,MAAM;IACvC,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,SAAS,IAAI,CAAC;wBAAE,MAAM;wBAAU;oBAAQ;oBACxC;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAAC;wBACvD;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC;4BACpB,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC;oCACzC;gCACA,KAAK;oCAAQ;wCACX,IAAI,CAAC,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACxC,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe;4CACjB;wCACF;wCACA,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;wCAC9E,OAAO;4CACL,MAAM;4CACN,WAAW;gDACT,KAAK,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;4CACjH;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,IAAI,YAAY;oBAChB,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,qEAAqE;4BACrE,2CAA2C;4BAC3C,KAAK;gCAAa;oCAChB,aAAa,KAAK,IAAI;oCACtB;gCACF;4BACA,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF;oCACA;gCACF;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC,eAAe,eAAe;wBAC1C,MAAM;wBACN,SAAS;oBACX,GAAG,UAAU,MAAM,GAAG,IAAI;wBAAE;oBAAU,IAAI,OAAO,UAAU,MAAM,GAAG,IAAI;wBAAE,YAAY;oBAAU,IAAI;oBACpG;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,IAAI,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC7C,iBAAiB,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAU;QAAO;KAAS,EAAE,QAAQ;IACzE,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAChD;;GAEC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACnD;;;GAGC,GACD,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACrC;;;;GAIC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACnD;;;;;;;GAOC,GACD,aAAa,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAa;QAAQ;KAAO,EAAE,QAAQ;AACzE;AACA,IAAI,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC7C,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;IAC5B;AACF;AACA,IAAI,4BAA4B,+BAA+B;IAC7D,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,IAAI,kCAAkC;IACpC;IACA;CACD;AACD,SAAS,8BAA8B,OAAO;IAC5C,OAAO,gCAAgC,QAAQ,CAAC;AAClD;AACA,SAAS;IACP,OAAO,gCAAgC,IAAI,CAAC;AAC9C;AACA,SAAS,cAAc,EACrB,KAAK,EACL,UAAU,EACV,OAAO,EACR;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,aAAa,EAAE;IACrB,KAAK,MAAM,UAAU,MAAO;QAC1B,IAAI,OAAO,IAAI,KAAK,oBAAoB;YACtC,IAAI,OAAO,EAAE,KAAK,uBAAuB;gBACvC,IAAI,CAAC,8BAA8B,UAAU;oBAC3C,aAAa,IAAI,CAAC;wBAChB,MAAM;wBACN,MAAM;wBACN,SAAS,CAAC,0DAA0D,EAAE,2BAA2B,iBAAiB,EAAE,SAAS;oBAC/H;gBACF,OAAO;oBACL,WAAW,IAAI,CAAC;wBACd,MAAM;oBACR;gBACF;YACF,OAAO;gBACL,aAAa,IAAI,CAAC;oBAAE,MAAM;oBAAoB,MAAM;gBAAO;YAC7D;QACF,OAAO;YACL,WAAW,IAAI,CAAC;gBACd,MAAM;gBACN,UAAU;oBACR,MAAM,OAAO,IAAI;oBACjB,aAAa,OAAO,WAAW;oBAC/B,YAAY,OAAO,WAAW;gBAChC;YACF;QACF;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAY,YAAY,KAAK;YAAG;QAAa;IAC/D;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAY,YAAY;gBAAM;YAAa;QAC7D,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY;oBACV,MAAM;oBACN,UAAU;wBACR,MAAM,WAAW,QAAQ;oBAC3B;gBACF;gBACA;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,SAAS,oBAAoB,YAAY;IACvC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,wBAAwB;IAC1B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBAAC;aAAkB;QAChC;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,MAAM,EACN,KAAK,EACL,UAAU,EACV,eAAe,EAChB;YACC,IAAI,IAAI;YACR,MAAM,WAAW,EAAE;YACnB,MAAM,cAAc,MAAM,qBAAqB;gBAC7C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,oBAAoB,CAAC,KAAK,eAAe,OAAO,KAAK,IAAI,YAAY,iBAAiB,KAAK,OAAO,KAAK;YAC7G,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,eAAe,MAAM,IAAI,QAAQ,CAAC,mBAAmB;gBAC7H,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EACJ,OAAO,UAAU,EACjB,YAAY,cAAc,EAC1B,YAAY,EACb,GAAG,cAAc;gBAAE;gBAAO;gBAAY,SAAS,IAAI,CAAC,OAAO;YAAC;YAC7D,OAAO;gBACL,MAAM;oBACJ,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,2BAA2B;oBAC3B,MAAM,eAAe,OAAO,KAAK,IAAI,YAAY,IAAI;oBACrD,qBAAqB,eAAe,OAAO,KAAK,IAAI,YAAY,iBAAiB;oBACjF,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB,MAAM;oBACN;oBACA,mBAAmB;oBACnB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,qBAAqB,eAAe,MAAM,IAAI,OAAO;wBACzI,MAAM;wBACN,aAAa;4BACX,QAAQ,eAAe,MAAM;4BAC7B,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;4BAChD,aAAa,eAAe,WAAW;wBACzC;oBACF,IAAI;wBAAE,MAAM;oBAAc,IAAI,KAAK;oBACnC,oBAAoB;oBACpB,kBAAkB,eAAe,OAAO,KAAK,IAAI,YAAY,eAAe;oBAC5E,kBAAkB,eAAe,OAAO,KAAK,IAAI,YAAY,eAAe;oBAC5E,cAAc,eAAe,OAAO,KAAK,IAAI,YAAY,WAAW;oBACpE,YAAY;oBACZ,UAAU,0BAA0B;oBACpC,SAAS;oBACT,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,cAAc,eAAe,CAAC,GAAG,UAAU;gBACvF,QAAQ;YACV;YACA,MAAM,OAAO,KAAK,SAAS,CAAC;YAC5B,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM;gBACN,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,MAAM,OAAO,OAAO,OAAO,CAAC,OAAO;YACnC,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;gBACnC,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ;gBAAK;YACpC;YACA,MAAM,YAAY,OAAO,OAAO,CAAC,SAAS;YAC1C,IAAI,aAAa,QAAQ,UAAU,MAAM,GAAG,GAAG;gBAC7C,QAAQ,IAAI,CAAC;oBACX,MAAM;oBACN,MAAM;gBACR;YACF;YACA,IAAI,OAAO,OAAO,CAAC,UAAU,IAAI,MAAM;gBACrC,KAAK,MAAM,YAAY,OAAO,OAAO,CAAC,UAAU,CAAE;oBAChD,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wBAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oBACpC;gBACF;YACF;YACA,OAAO;gBACL;gBACA,cAAc,oBAAoB,OAAO,aAAa;gBACtD,OAAO;oBACL,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;oBAClG,cAAc,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBACvG,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;oBACjG,mBAAmB,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;gBAC7J;gBACA,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA,SAAS;oBAAE;gBAAK;YAClB;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,cAAc,eAAe,CAAC,GAAG,UAAU;gBAAE,QAAQ;YAAK;YACxG,MAAM,OAAO,KAAK,SAAS,CAAC,cAAc,eAAe,CAAC,GAAG,OAAO;gBAAE,QAAQ;YAAK;YACnF,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAC5C,QAAQ;gBACV;gBACA,uBAAuB;gBACvB,2BAA2B,iCAAiC;gBAC5D,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,YAAY,EAAE;YACpB,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;gBAClB,mBAAmB,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,IAAI,eAAe;YACnB,IAAI,oBAAoB;YACxB,IAAI;YACJ,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACxE,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;wBAC1B;wBACA,IAAI,CAAC,CAAC,KAAK,MAAM,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,MAAM;4BAC7D,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,MAAM,CAAC,KAAK,CAAC,aAAa,KAAK,OAAO,KAAK,KAAK;4BAChF,MAAM,YAAY,GAAG,CAAC,KAAK,MAAM,MAAM,CAAC,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK,KAAK;4BACrF,MAAM,WAAW,GAAG,CAAC,KAAK,MAAM,MAAM,CAAC,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK,KAAK;4BAC/E,MAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,KAAK,MAAM,MAAM,CAAC,KAAK,CAAC,qBAAqB,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,KAAK,OAAO,KAAK,KAAK;wBAC3I;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,oBAAoB,OAAO,aAAa;wBACzD;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,IAAI,MAAM,SAAS,IAAI,QAAQ,MAAM,SAAS,CAAC,MAAM,GAAG,GAAG;4BACzD,IAAI,CAAC,mBAAmB;gCACtB,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;gCACA,oBAAoB;4BACtB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,SAAS;4BACxB;wBACF;wBACA,IAAI,MAAM,OAAO,IAAI,QAAQ,MAAM,OAAO,CAAC,MAAM,GAAG,GAAG;4BACrD,IAAI,CAAC,cAAc;gCACjB,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAQ;gCACrD,eAAe;4BACjB;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,OAAO;4BACtB;wBACF;wBACA,IAAI,MAAM,UAAU,IAAI,MAAM;4BAC5B,KAAK,MAAM,iBAAiB,MAAM,UAAU,CAAE;gCAC5C,MAAM,QAAQ,cAAc,KAAK;gCACjC,IAAI,SAAS,CAAC,MAAM,IAAI,MAAM;oCAC5B,IAAI,cAAc,IAAI,KAAK,YAAY;wCACrC,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,yBAAyB,CAAC;wCACtC;oCACF;oCACA,IAAI,cAAc,EAAE,IAAI,MAAM;wCAC5B,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,6BAA6B,CAAC;wCAC1C;oCACF;oCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,MAAM;wCACtE,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;4CACnD,MAAM;4CACN,SAAS,CAAC,wCAAwC,CAAC;wCACrD;oCACF;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,cAAc,EAAE;wCACpB,UAAU,cAAc,QAAQ,CAAC,IAAI;oCACvC;oCACA,SAAS,CAAC,MAAM,GAAG;wCACjB,IAAI,cAAc,EAAE;wCACpB,MAAM;wCACN,UAAU;4CACR,MAAM,cAAc,QAAQ,CAAC,IAAI;4CACjC,WAAW,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;wCACpE;wCACA,aAAa;oCACf;oCACA,MAAM,YAAY,SAAS,CAAC,MAAM;oCAClC,IAAI,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;wCACzI,IAAI,UAAU,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG;4CAC3C,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;gDAChB,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;wCACF;wCACA,IAAI,eAAe,UAAU,QAAQ,CAAC,SAAS,GAAG;4CAChD,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI,UAAU,EAAE;4CAClB;4CACA,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,YAAY,CAAC,KAAK,UAAU,EAAE,KAAK,OAAO,KAAK;gDAC/C,UAAU,UAAU,QAAQ,CAAC,IAAI;gDACjC,OAAO,UAAU,QAAQ,CAAC,SAAS;4CACrC;4CACA,UAAU,WAAW,GAAG;wCAC1B;oCACF;oCACA;gCACF;gCACA,MAAM,WAAW,SAAS,CAAC,MAAM;gCACjC,IAAI,SAAS,WAAW,EAAE;oCACxB;gCACF;gCACA,IAAI,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;oCAC3E,SAAS,QAAQ,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,OAAO,KAAK;gCACrH;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI,SAAS,EAAE;oCACf,OAAO,CAAC,KAAK,cAAc,QAAQ,CAAC,SAAS,KAAK,OAAO,KAAK;gCAChE;gCACA,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,QAAQ,eAAe,SAAS,QAAQ,CAAC,SAAS,GAAG;oCACtL,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI,SAAS,EAAE;oCACjB;oCACA,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK;wCAC9C,UAAU,SAAS,QAAQ,CAAC,IAAI;wCAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oCACpC;oCACA,SAAS,WAAW,GAAG;gCACzB;4BACF;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,mBAAmB;4BACrB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAiB,IAAI;4BAAc;wBAChE;wBACA,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAQ;wBACrD;wBACA,WAAW,OAAO,CAAC,eAAe;4BAChC,MAAM;4BACN;4BACA;wBACF,GAAG,oBAAoB,OAAO;4BAAE;wBAAiB,IAAI,CAAC;oBACxD;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACvC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;YACzC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAClC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;oBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM;gBACjC;YACF,IACA,OAAO;QACX;QACA,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC7C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACjD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC5C,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC/C,GAAG,OAAO;IACZ,GAAG,OAAO;AACZ;AACA,IAAI,sBAAsB,YAAY,CAAC,CAAC,KAAK,CAAC;IAC5C,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACvC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACzC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,OAAO,YAAY,CAAC,CAAC,MAAM;oBAC3B,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAClC,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC,YAAY,QAAQ;oBAChD,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;wBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;wBACpC,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;oBAC3C;gBACF,IACA,OAAO;YACX,GAAG,OAAO;YACV,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;YACzD,OAAO,YAAY,CAAC,CAAC,MAAM;QAC7B;QAEF,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;YAC3B,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC1B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC7C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBACjD,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC5C,uBAAuB,YAAY,CAAC,CAAC,MAAM,CAAC;oBAC1C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;gBAC/C,GAAG,OAAO;YACZ,GAAG,OAAO;QACZ,GAAG,OAAO;IACZ;IACA;CACD;AACD,IAAI,4BAA4B,YAAY,CAAC,CAAC,MAAM,CAAC;IACnD,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACxC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC9C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,OAAO;IACzD,wBAAwB,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;AAC7E;AACA,IAAI,yBAAyB;IAC3B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;IAC9B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,KAAK,EACL,SAAS,EACT,eAAe,EAChB;YACC,IAAI,IAAI,IAAI,IAAI,IAAI;YACpB,MAAM,WAAW,EAAE;YACnB,MAAM,cAAc,MAAM,qBAAqB;gBAC7C,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,MAAM,WAAW,IAAI;YACrB,MAAM,OAAO,iBAAiB,aAAa,IAAI,KAAK;gBAAC;aAAM,IAAI,IAAI,KAAK;gBAAC,0BAA0B;aAAO;YAC1G,SAAS,MAAM,CAAC,SAAS,IAAI,CAAC,OAAO;YACrC,MAAM,gBAAgB,qBAAqB;YAC3C,SAAS,MAAM,CACb,QACA,IAAI,KAAK;gBAAC;aAAK,EAAE,SAAS;gBAAE,MAAM;YAAU,IAC5C,CAAC,MAAM,EAAE,eAAe;YAE1B,IAAI,aAAa;gBACf,MAAM,4BAA4B;oBAChC,UAAU,CAAC,KAAK,YAAY,QAAQ,KAAK,OAAO,KAAK,KAAK;oBAC1D,QAAQ,CAAC,KAAK,YAAY,MAAM,KAAK,OAAO,KAAK,KAAK;oBACtD,iBAAiB,CAAC,KAAK,YAAY,cAAc,KAAK,OAAO,KAAK,KAAK;oBACvE,aAAa,CAAC,KAAK,YAAY,WAAW,KAAK,OAAO,KAAK,KAAK;oBAChE,yBAAyB,CAAC,KAAK,YAAY,sBAAsB,KAAK,OAAO,KAAK,KAAK;gBACzF;gBACA,IAAK,MAAM,OAAO,0BAA2B;oBAC3C,MAAM,QAAQ,yBAAyB,CAAC,IAAI;oBAC5C,IAAI,UAAU,KAAK,GAAG;wBACpB,SAAS,MAAM,CAAC,KAAK,OAAO;oBAC9B;gBACF;YACF;YACA,OAAO;gBACL;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YAC5B,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAClD,MAAM,EACJ,OAAO,QAAQ,EACf,eAAe,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,kBAAkB;gBAC1B,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,MAAM,SAAS,IAAI;gBACnB,UAAU,CAAC,KAAK,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,UAAY,CAAC;wBAC/E,MAAM,QAAQ,IAAI;wBAClB,aAAa,QAAQ,KAAK;wBAC1B,WAAW,QAAQ,GAAG;oBACxB,CAAC,EAAE,KAAK,OAAO,KAAK,EAAE;gBACtB,UAAU,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,KAAK;gBACvD,mBAAmB,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,KAAK;gBAChE;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;oBACT,MAAM;gBACR;YACF;QACF;IACF;AACF;AACA,IAAI,kCAAkC,YAAY,CAAC,CAAC,MAAM,CAAC;IACzD,MAAM,YAAY,CAAC,CAAC,MAAM;IAC1B,QAAQ,YAAY,CAAC,CAAC,MAAM,CAAC;QAC3B,IAAI,YAAY,CAAC,CAAC,MAAM;IAC1B;IACA,+EAA+E;IAC/E,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACpC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACxC,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACxC,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,IAAI,YAAY,CAAC,CAAC,MAAM;QACxB,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,KAAK,YAAY,CAAC,CAAC,MAAM;QACzB,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QAChD,aAAa,YAAY,CAAC,CAAC,MAAM;QACjC,aAAa,YAAY,CAAC,CAAC,MAAM;QACjC,mBAAmB,YAAY,CAAC,CAAC,MAAM;QACvC,gBAAgB,YAAY,CAAC,CAAC,MAAM;IACtC,IACA,OAAO;AACX;AACA,IAAI,gBAAgB,iCAAiC;IACnD,IAAI;IACJ,MAAM;IACN,aAAa,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC;AACrC;AACA,IAAI,YAAY;IACd;AACF;AACA,IAAI,WAAW,uCAAO,WAAW;AACjC,SAAS,WAAW,UAAU,CAAC,CAAC;IAC9B,IAAI;IACJ,MAAM,UAAU,CAAC,KAAK,qBAAqB,QAAQ,OAAO,CAAC,KAAK,OAAO,KAAK;IAC5E,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,YAAY,EAAE,UAAU;IAE3B,MAAM,kBAAkB,CAAC,UAAY,IAAI,sBAAsB,SAAS;YACtE,UAAU;YACV,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,gBAAgB;IACzB;IACA,MAAM,2BAA2B,CAAC;QAChC,OAAO,IAAI,uBAAuB,SAAS;YACzC,UAAU;YACV,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACF;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,OAAO,oBAAoB;IAC7B;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,KAAK,GAAG;IACjB,OAAO;AACT;AACA,IAAI,OAAO;AAEX,4GAA4G;AAC5G,IAAI;AACJ,IAAI;AACJ,IAAI,WAAW,uCAAO,WAAW;AACjC,IAAI,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC7C,SAAS,YAAY,CAAC,CAAC,MAAM;IAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;IAC1B,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,MAAM,YAAY,CAAC,CAAC,MAAM;AAC5B;AACA,IAAI,yBAAyB;IAC3B,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,OAAO;AACxC;AACA,SAAS,eAAe,UAAU,CAAC,CAAC;IAClC,IAAI;IACJ,MAAM,UAAU,qBACd,CAAC,KAAK,QAAQ,OAAO,KAAK,OAAO,KAAK;IAExC,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,gBAAgB,EAAE,UAAU;IAE/B,MAAM,sBAAsB,CAAC;QAC3B,OAAO,IAAI,kCAAkC,SAAS;YACpD,UAAU,CAAC,aAAa,CAAC;YACzB,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,gBAAgB;YAChB,2BAA2B;QAC7B;IACF;IACA,MAAM,WAAW,CAAC,UAAY,oBAAoB;IAClD,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,OAAO;AACT;AACA,IAAI,WAAW;AAEf,gHAAgH;AAChH,IAAI;AACJ,IAAI,uBAAuB;IACzB,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,gBAAgB,GAAG;IAC1B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,EAAE,EAAE;QACb,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,CAAC,EACD,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,OAAO,EACP,WAAW,EACZ;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;YACnK,MAAM,YAAY,QAAQ,OAAO,KAAK,IAAI,KAAK,KAAK,CAAC;YACrD,MAAM,EAAE,OAAO,QAAQ,EAAE,eAAe,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC;gBAChD,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM,eAAe,cAAc,eAAe;oBAChD,OAAO,IAAI,CAAC,OAAO;oBACnB;oBACA;oBACA;gBACF,GAAG,aAAa;oBACd,OAAO,SAAS,SAAS,CAAC,EAAE;oBAC5B,QAAQ,SAAS,SAAS,CAAC,EAAE;gBAC/B,IAAI;oBACF,iBAAiB;gBACnB,IAAI,CAAC,KAAK,gBAAgB,UAAU,KAAK,OAAO,KAAK,CAAC;gBACtD,uBAAuB,+BAA+B;oBACpD,aAAa;oBACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;gBAC9C;gBACA,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,QAAQ,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,QAAQ;gBACjD;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS;gBACX;YACF;QACF;IACF;AACF;AACA,IAAI,gCAAgC,YAAY,CAAC,CAAC,MAAM,CAAC;IACvD,MAAM,YAAY,CAAC,CAAC,KAAK,CACvB,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,UAAU,YAAY,CAAC,CAAC,MAAM;IAChC;AAEJ;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;IAC/B;AACF;AACA,IAAI,WAAW,uCAAO,WAAW;AACjC,SAAS,iBAAiB,UAAU,CAAC,CAAC;IACpC,IAAI;IACJ,MAAM,UAAU,qBACd,CAAC,KAAK,QAAQ,OAAO,KAAK,OAAO,KAAK;IAExC,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,kBAAkB,EAAE,UAAU;IAEjC,MAAM,uBAAuB,CAAC,YAAc,CAAC;YAC3C,UAAU,CAAC,WAAW,EAAE,WAAW;YACnC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB,CAAC;IACD,MAAM,kBAAkB,CAAC;QACvB,OAAO,IAAI,kCACT,SACA,qBAAqB;IAEzB;IACA,MAAM,wBAAwB,CAAC,UAAY,IAAI,wCAC7C,SACA,qBAAqB;IAEvB,MAAM,2BAA2B,CAAC,UAAY,IAAI,+BAChD,SACA,qBAAqB;IAEvB,MAAM,mBAAmB,CAAC,UAAY,IAAI,qBAAqB,SAAS,cAAc,eAAe,CAAC,GAAG,qBAAqB,WAAW;YACvI,SAAS,WAAW,OAAO,UAAU;QACvC;IACA,MAAM,WAAW,CAAC,UAAY,gBAAgB;IAC9C,SAAS,eAAe,GAAG;IAC3B,SAAS,aAAa,GAAG;IACzB,SAAS,SAAS,GAAG;IACrB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,KAAK,GAAG;IACjB,SAAS,UAAU,GAAG;IACtB,OAAO;AACT;AACA,IAAI,aAAa;AAEjB,0GAA0G;AAC1G,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,6BAA6B,MAAM;IAC1C,MAAM,WAAW,EAAE;IACnB,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;QACtC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC,EAAE;QACnC,MAAM,gBAAgB,MAAM,OAAO,MAAM,GAAG;QAC5C,OAAQ;YACN,KAAK;gBAAU;oBACb,SAAS,IAAI,CAAC;wBAAE,MAAM;wBAAU;oBAAQ;oBACxC;gBACF;YACA,KAAK;gBAAQ;oBACX,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC;4BACpB,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAQ,MAAM,KAAK,IAAI;wCAAC;oCACzC;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO;gDACL,MAAM;gDACN,WAAW,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,gBAAgB,KAAK,IAAI,GAAG;4CACvH;wCACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;4CAC/C,OAAO;gDACL,MAAM;gDACN,cAAc,KAAK,IAAI,CAAC,QAAQ;4CAClC;wCACF,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe;4CACjB;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;wCACtC;oCACF;oCACA;gCACF;4BACA,KAAK;gCAAa;oCAChB,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA;gCAAS;oCACP,MAAM,IAAI,MACR,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;gCAEjE;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS;wBACT,QAAQ,gBAAgB,OAAO,KAAK;wBACpC,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,MAAM,aAAa,QAAQ;4BAC3B,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL,IAAI,MAAM,OAAO,KAAK,KAAK;QAC3B,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,OAAO,KAAK;IAC9D;AACF;AACA,SAAS,uBAAuB,YAAY;IAC1C,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,8BAA8B,YAAY,CAAC,CAAC,MAAM,CAAC;IACrD;;;;KAIG,GACH,YAAY,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAC5C,oBAAoB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACnD,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAClD;;;;GAIC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACnD;;;;GAIC,GACD,kBAAkB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAClD;;;;;GAKC,GACD,mBAAmB,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;AACrD;AACA,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;IAC9B,SAAS,YAAY,CAAC,CAAC,MAAM;IAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;IAC1B,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACtC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AACvC;AACA,IAAI,+BAA+B,+BAA+B;IAChE,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,OAAO;AACxC;AACA,SAAS,cAAc,EACrB,KAAK,EACL,UAAU,EACX;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,eAAe,EAAE;IACvB,KAAK,MAAM,UAAU,MAAO;QAC1B,IAAI,OAAO,IAAI,KAAK,oBAAoB;YACtC,aAAa,IAAI,CAAC;gBAAE,MAAM;gBAAoB,MAAM;YAAO;QAC7D,OAAO;YACL,aAAa,IAAI,CAAC;gBAChB,MAAM;gBACN,UAAU;oBACR,MAAM,OAAO,IAAI;oBACjB,aAAa,OAAO,WAAW;oBAC/B,YAAY,OAAO,WAAW;gBAChC;YACF;QACF;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAc,YAAY,KAAK;YAAG;QAAa;IACjE;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAc,YAAY;gBAAM;YAAa;QAC/D,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAc,YAAY;gBAAO;YAAa;QAChE,+CAA+C;QAC/C,iEAAiE;QACjE,KAAK;YACH,OAAO;gBACL,OAAO,aAAa,MAAM,CACxB,CAAC,SAAW,OAAO,QAAQ,CAAC,IAAI,KAAK,WAAW,QAAQ;gBAE1D,YAAY;gBACZ;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,2BAA2B;IAC7B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,mBAAmB;gBAAC;aAAiB;QACvC;QACA,IAAI;QACJ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,OAAO,UAAU,KAAK,OAAO,KAAK;IAC5D;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,eAAe,EACf,KAAK,EACL,UAAU,EACX;YACC,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,WAAW,EAAE;YACnB,MAAM,UAAU,CAAC,KAAK,MAAM,qBAAqB;gBAC/C,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,oBAAoB,MAAM;gBAC5B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,mBAAmB,MAAM;gBAC3B,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,iBAAiB,MAAM;gBACzB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,MAAM,oBAAoB,CAAC,KAAK,QAAQ,iBAAiB,KAAK,OAAO,KAAK;YAC1E,MAAM,mBAAmB,CAAC,KAAK,QAAQ,gBAAgB,KAAK,OAAO,KAAK;YACxE,IAAI,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU,CAAC,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,MAAM,GAAG;gBACpI,SAAS,kCAAkC;oBACzC,UAAU;oBACV,QAAQ,eAAe,MAAM;gBAC/B;YACF;YACA,MAAM,WAAW;gBACf,YAAY;gBACZ,OAAO,IAAI,CAAC,OAAO;gBACnB,2BAA2B;gBAC3B,aAAa,QAAQ,UAAU;gBAC/B,yBAAyB;gBACzB,YAAY;gBACZ;gBACA,OAAO;gBACP,aAAa;gBACb,mBAAmB;gBACnB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS,qBAAqB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,MAAM,KAAK,OAAO;oBAC7K,MAAM;oBACN,aAAa;wBACX,QAAQ,eAAe,MAAM;wBAC7B,QAAQ;wBACR,MAAM,CAAC,KAAK,eAAe,IAAI,KAAK,OAAO,KAAK;wBAChD,aAAa,eAAe,WAAW;oBACzC;gBACF,IAAI;oBAAE,MAAM;gBAAc,IAAI,KAAK;gBACnC,qCAAqC;gBACrC,sBAAsB,QAAQ,kBAAkB;gBAChD,qBAAqB,QAAQ,iBAAiB;gBAC9C,YAAY;gBACZ,UAAU,6BAA6B;YACzC;YACA,MAAM,EACJ,OAAO,YAAY,EACnB,YAAY,iBAAiB,EAC7B,YAAY,EACb,GAAG,cAAc;gBAChB;gBACA;YACF;YACA,OAAO;gBACL,MAAM,eAAe,cAAc,eAAe,CAAC,GAAG,WAAW;oBAC/D,OAAO;oBACP,aAAa;gBACf,IAAI,gBAAgB,QAAQ,QAAQ,iBAAiB,KAAK,KAAK,IAAI;oBAAE,qBAAqB,QAAQ,iBAAiB;gBAAC,IAAI,CAAC;gBACzH,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACpD,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBAC9C,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,IAAI,OAAO,OAAO,CAAC,OAAO,IAAI,QAAQ,MAAM,OAAO,CAAC,OAAO,OAAO,CAAC,OAAO,GAAG;gBAC3E,KAAK,MAAM,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAE;oBACzC,IAAI,KAAK,IAAI,KAAK,YAAY;wBAC5B,MAAM,gBAAgB,wBAAwB,KAAK,QAAQ;wBAC3D,IAAI,cAAc,MAAM,GAAG,GAAG;4BAC5B,QAAQ,IAAI,CAAC;gCAAE,MAAM;gCAAa,MAAM;4BAAc;wBACxD;oBACF,OAAO,IAAI,KAAK,IAAI,KAAK,QAAQ;wBAC/B,IAAI,KAAK,IAAI,CAAC,MAAM,GAAG,GAAG;4BACxB,QAAQ,IAAI,CAAC;gCAAE,MAAM;gCAAQ,MAAM,KAAK,IAAI;4BAAC;wBAC/C;oBACF;gBACF;YACF,OAAO;gBACL,MAAM,OAAO,mBAAmB,OAAO,OAAO,CAAC,OAAO;gBACtD,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;oBACnC,QAAQ,IAAI,CAAC;wBAAE,MAAM;wBAAQ;oBAAK;gBACpC;YACF;YACA,IAAI,OAAO,OAAO,CAAC,UAAU,IAAI,MAAM;gBACrC,KAAK,MAAM,YAAY,OAAO,OAAO,CAAC,UAAU,CAAE;oBAChD,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY,SAAS,EAAE;wBACvB,UAAU,SAAS,QAAQ,CAAC,IAAI;wBAChC,OAAO,SAAS,QAAQ,CAAC,SAAS;oBACpC;gBACF;YACF;YACA,OAAO;gBACL;gBACA,cAAc,uBAAuB,OAAO,aAAa;gBACzD,OAAO;oBACL,aAAa,SAAS,KAAK,CAAC,aAAa;oBACzC,cAAc,SAAS,KAAK,CAAC,iBAAiB;oBAC9C,aAAa,SAAS,KAAK,CAAC,YAAY;gBAC1C;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBAAE,QAAQ;YAAK;YACpE,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBAC9C,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,IAAI,aAAa;YACjB,IAAI,oBAAoB;YACxB,MAAM,cAAc,IAAI,CAAC,UAAU;YACnC,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;wBAC1B;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,aAAa;4BAC7C,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,iBAAiB;4BAClD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,YAAY;wBAC9C;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,MAAM,QAAQ,OAAO,KAAK;wBAC1B,MAAM,cAAc,mBAAmB,MAAM,OAAO;wBACpD,IAAI,MAAM,OAAO,IAAI,QAAQ,MAAM,OAAO,CAAC,MAAM,OAAO,GAAG;4BACzD,KAAK,MAAM,QAAQ,MAAM,OAAO,CAAE;gCAChC,IAAI,KAAK,IAAI,KAAK,YAAY;oCAC5B,MAAM,iBAAiB,wBAAwB,KAAK,QAAQ;oCAC5D,IAAI,eAAe,MAAM,GAAG,GAAG;wCAC7B,IAAI,qBAAqB,MAAM;4CAC7B,IAAI,YAAY;gDACd,WAAW,OAAO,CAAC;oDAAE,MAAM;oDAAY,IAAI;gDAAI;gDAC/C,aAAa;4CACf;4CACA,oBAAoB;4CACpB,WAAW,OAAO,CAAC;gDACjB,MAAM;gDACN,IAAI;4CACN;wCACF;wCACA,WAAW,OAAO,CAAC;4CACjB,MAAM;4CACN,IAAI;4CACJ,OAAO;wCACT;oCACF;gCACF;4BACF;wBACF;wBACA,IAAI,eAAe,QAAQ,YAAY,MAAM,GAAG,GAAG;4BACjD,IAAI,CAAC,YAAY;gCACf,IAAI,qBAAqB,MAAM;oCAC7B,WAAW,OAAO,CAAC;wCACjB,MAAM;wCACN,IAAI;oCACN;oCACA,oBAAoB;gCACtB;gCACA,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAI;gCACjD,aAAa;4BACf;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO;4BACT;wBACF;wBACA,IAAI,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,UAAU,KAAK,MAAM;4BACvD,KAAK,MAAM,YAAY,MAAM,UAAU,CAAE;gCACvC,MAAM,aAAa,SAAS,EAAE;gCAC9B,MAAM,WAAW,SAAS,QAAQ,CAAC,IAAI;gCACvC,MAAM,QAAQ,SAAS,QAAQ,CAAC,SAAS;gCACzC,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;oCACJ;gCACF;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;oCACJ,OAAO;gCACT;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,IAAI;gCACN;gCACA,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN;oCACA;oCACA;gCACF;4BACF;wBACF;wBACA,IAAI,OAAO,aAAa,IAAI,MAAM;4BAChC,eAAe,uBAAuB,OAAO,aAAa;wBAC5D;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,qBAAqB,MAAM;4BAC7B,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;4BACN;wBACF;wBACA,IAAI,YAAY;4BACd,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,wBAAwB,QAAQ;IACvC,OAAO,SAAS,MAAM,CAAC,CAAC,QAAU,MAAM,IAAI,KAAK,QAAQ,GAAG,CAAC,CAAC,QAAU,MAAM,IAAI,EAAE,IAAI,CAAC;AAC3F;AACA,SAAS,mBAAmB,OAAO;IACjC,IAAI,OAAO,YAAY,UAAU;QAC/B,OAAO;IACT;IACA,IAAI,WAAW,MAAM;QACnB,OAAO,KAAK;IACd;IACA,MAAM,cAAc,EAAE;IACtB,KAAK,MAAM,SAAS,QAAS;QAC3B,MAAM,EAAE,IAAI,EAAE,GAAG;QACjB,OAAQ;YACN,KAAK;gBACH,YAAY,IAAI,CAAC,MAAM,IAAI;gBAC3B;YACF,KAAK;YACL,KAAK;YACL,KAAK;gBACH;YACF;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO,YAAY,MAAM,GAAG,YAAY,IAAI,CAAC,MAAM,KAAK;AAC1D;AACA,IAAI,uBAAuB,YAAY,CAAC,CAAC,KAAK,CAAC;IAC7C,YAAY,CAAC,CAAC,MAAM;IACpB,YAAY,CAAC,CAAC,KAAK,CACjB,YAAY,CAAC,CAAC,kBAAkB,CAAC,QAAQ;QACvC,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC5B;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC;gBAC7B,YAAY,CAAC,CAAC,MAAM;gBACpB,YAAY,CAAC,CAAC,MAAM,CAAC;oBACnB,KAAK,YAAY,CAAC,CAAC,MAAM;oBACzB,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;gBACzC;aACD;QACH;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,eAAe,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;QACzD;QACA,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,UAAU,YAAY,CAAC,CAAC,KAAK,CAC3B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;gBAC5B,MAAM,YAAY,CAAC,CAAC,MAAM;YAC5B;QAEJ;KACD;CAEJ,EAAE,OAAO;AACV,IAAI,qBAAqB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5C,eAAe,YAAY,CAAC,CAAC,MAAM;IACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;IACvC,cAAc,YAAY,CAAC,CAAC,MAAM;AACpC;AACA,IAAI,4BAA4B,YAAY,CAAC,CAAC,MAAM,CAAC;IACnD,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS;YACT,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAAE,MAAM,YAAY,CAAC,CAAC,MAAM;oBAAI,WAAW,YAAY,CAAC,CAAC,MAAM;gBAAG;YACnG,IACA,OAAO;QACX;QACA,OAAO,YAAY,CAAC,CAAC,MAAM;QAC3B,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,QAAQ,YAAY,CAAC,CAAC,OAAO,CAAC;IAC9B,OAAO;AACT;AACA,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAClC,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACrC,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,IAAI,CAAC;gBAAC;aAAY,EAAE,QAAQ;YAChD,SAAS;YACT,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;gBACnB,IAAI,YAAY,CAAC,CAAC,MAAM;gBACxB,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;oBAAE,MAAM,YAAY,CAAC,CAAC,MAAM;oBAAI,WAAW,YAAY,CAAC,CAAC,MAAM;gBAAG;YACnG,IACA,OAAO;QACX;QACA,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QAC7C,OAAO,YAAY,CAAC,CAAC,MAAM;IAC7B;IAEF,OAAO,mBAAmB,OAAO;AACnC;AACA,IAAI,wBAAwB;IAC1B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,qBAAqB,GAAG;QAC7B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,WAAW,EACX,OAAO,EACR;YACC,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC;gBACxC,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM;oBACJ,OAAO,IAAI,CAAC,OAAO;oBACnB,OAAO;oBACP,iBAAiB;gBACnB;gBACA,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;gBACtD,OAAO,SAAS,KAAK,GAAG;oBAAE,QAAQ,SAAS,KAAK,CAAC,aAAa;gBAAC,IAAI,KAAK;gBACxE,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,qCAAqC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC5D,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;IAAI;IACxG,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAAE,eAAe,YAAY,CAAC,CAAC,MAAM;IAAG,GAAG,OAAO;AAChF;AACA,IAAI,YAAY,uCAAO,WAAW;AAClC,SAAS,cAAc,UAAU,CAAC,CAAC;IACjC,IAAI;IACJ,MAAM,UAAU,CAAC,KAAK,qBAAqB,QAAQ,OAAO,CAAC,KAAK,OAAO,KAAK;IAC5E,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,eAAe,EAAE,WAAW;IAE/B,MAAM,kBAAkB,CAAC,UAAY,IAAI,yBAAyB,SAAS;YACzE,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,YAAY,QAAQ,UAAU;QAChC;IACA,MAAM,uBAAuB,CAAC,UAAY,IAAI,sBAAsB,SAAS;YAC3E,UAAU;YACV;YACA,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,gBAAgB;IACzB;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,SAAS,GAAG;IACrB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,OAAO;AACT;AACA,IAAI,UAAU;AAEd,4GAA4G;AAC5G,IAAI;AACJ,IAAI;AACJ,IAAI,wBAAwB,CAAC;IAC3B,IAAI,IAAI;IACR,OAAO,SAAS,OAAO,KAAK,IAAI;QAC9B,UAAU;YACR,sBAAsB,CAAC,KAAK,MAAM,uBAAuB,KAAK,OAAO,KAAK;YAC1E,uBAAuB,CAAC,KAAK,MAAM,wBAAwB,KAAK,OAAO,KAAK;QAC9E;IACF;AACF;AACA,IAAI,4BAA4B;IAC9B,iBAAiB,CAAC,KAAO,QAAQ,MAAM;YAAC;SAAG,EAAE,UAAW,EAAE,UAAU,EAAE;YACpE,MAAM,SAAS,MAAM,kBAAkB;gBACrC,OAAO;gBACP,QAAQ;YACV;YACA,OAAO,CAAC,OAAO,OAAO,IAAI,OAAO,KAAK,CAAC,KAAK,IAAI,OAAO,KAAK,IAAI,sBAAsB,OAAO,KAAK,CAAC,KAAK;QAC1G;IACA,uBAAuB;QACrB,IAAI;QACJ,OAAO;YACL,cAAc,CAAC,QAAU,QAAQ,MAAM,MAAM;oBAC3C,IAAI,IAAI;oBACR,MAAM,SAAS,MAAM,kBAAkB;wBACrC,OAAO;wBACP,QAAQ;oBACV;oBACA,IAAI,OAAO,OAAO,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,OAAO,KAAK,CAAC,OAAO,KAAK,OAAO,KAAK,IAAI,EAAE,CAAC,EAAE,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa,MAAM,UAAU,OAAO,KAAK,CAAC,KAAK,EAAE;wBACxJ,QAAQ,OAAO,KAAK,CAAC,KAAK;oBAC5B;gBACF;YACA,eAAe,IAAM,sBAAsB;QAC7C;IACF;AACF;AACA,IAAI,sBAAsB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC7C,yBAAyB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACvD,0BAA0B,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;AAC1D;AACA,IAAI,yBAAyB,YAAY,CAAC,CAAC,MAAM,CAAC;IAChD,OAAO,oBAAoB,OAAO;AACpC;AACA,IAAI,4BAA4B,YAAY,CAAC,CAAC,MAAM,CAAC;IACnD,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C,IACA,OAAO;IACT,OAAO,oBAAoB,OAAO;AACpC;AACA,IAAI,YAAY,uCAAO,WAAW;AAClC,SAAS,eAAe,UAAU,CAAC,CAAC;IAClC,IAAI;IACJ,MAAM,UAAU,qBACd,CAAC,KAAK,QAAQ,OAAO,KAAK,OAAO,KAAK;IAExC,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,gBAAgB,EAAE,WAAW;IAEhC,MAAM,sBAAsB,CAAC;QAC3B,OAAO,IAAI,kCAAkC,SAAS;YACpD,UAAU,CAAC,aAAa,CAAC;YACzB,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;YACpB,mBAAmB;QACrB;IACF;IACA,MAAM,WAAW,CAAC,UAAY,oBAAoB;IAClD,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,OAAO;AACT;AACA,IAAI,WAAW;AAEf,gHAAgH;AAChH,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,4BAA4B,MAAM;IACzC,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,SAAS,IAAI,CAAC;wBAAE,MAAM;wBAAU;oBAAQ;oBACxC;gBACF;YACA,KAAK;YACL,KAAK;gBAAa;oBAChB,MAAM,WAAW,QAAQ,IAAI,CAC3B,CAAC,OAAS,KAAK,IAAI,KAAK,UAAU,KAAK,SAAS,CAAC,UAAU,CAAC;oBAE9D,MAAM,iBAAiB,QAAQ,GAAG,CAAC,CAAC;wBAClC,IAAI;wBACJ,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO;wCACL,MAAM;wCACN,MAAM,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI,YAAY,MAAM;wCAChC,MAAM;wCACN,WAAW;4CACT,KAAK,KAAK,IAAI,CAAC,QAAQ;wCACzB;oCACF,IAAI;wCACF,MAAM;wCACN,WAAW;4CACT,KAAK,CAAC,KAAK,EAAE,CAAC,KAAK,KAAK,SAAS,KAAK,OAAO,KAAK,aAAa,QAAQ,EAAE,OAAO,KAAK,IAAI,KAAK,WAAW,KAAK,IAAI,GAAG,0BAA0B,KAAK,IAAI,GAAG;wCAC7J;oCACF;gCACF;wBACF;oBACF,GAAG,MAAM,CAAC;oBACV,SAAS,IAAI,CAAC;wBACZ;wBACA,SAAS,WAAW,iBAAiB,eAAe,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK,QAAQ,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,EAAE,IAAI,CAAC;oBAC3H;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,0BAA0B,YAAY;IAC7C,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,IAAI,0BAA0B;IAC5B,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,aAAa,GAAG;QAErB;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,QAAQ,EACN,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,aAAa,EACb,cAAc,EACd,IAAI,EACJ,eAAe,EAChB,EAAE;QACD,IAAI;QACJ,MAAM,WAAW,EAAE;QACnB,IAAI,QAAQ,MAAM;YAChB,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF;QACA,IAAI,iBAAiB,MAAM;YACzB,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF;QACA,IAAI,QAAQ,MAAM;YAChB,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF;QACA,OAAO;YACL,MAAM,cAAc,eAAe;gBACjC,YAAY;gBACZ,OAAO,IAAI,CAAC,OAAO;gBACnB,yBAAyB;gBACzB,mBAAmB;gBACnB,YAAY;gBACZ,kBAAkB;gBAClB;gBACA,OAAO;gBACP,OAAO;gBACP,mBAAmB;gBACnB,iBAAiB,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,SAAS;oBACpF,MAAM;oBACN,aAAa;wBAAE,QAAQ,eAAe,MAAM;oBAAC;gBAC/C,IAAI,KAAK;YACX,GAAG,CAAC,KAAK,mBAAmB,OAAO,KAAK,IAAI,gBAAgB,UAAU,KAAK,OAAO,KAAK,CAAC,IAAI;gBAC1F,YAAY;gBACZ,UAAU,4BAA4B;YACxC;YACA;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxC,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBAC9C,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB,+BAA+B;oBACpD,aAAa;oBACb;gBACF;gBACA,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,UAAU,EAAE;YAClB,MAAM,OAAO,OAAO,OAAO,CAAC,OAAO;YACnC,IAAI,KAAK,MAAM,GAAG,GAAG;gBACnB,QAAQ,IAAI,CAAC;oBAAE,MAAM;oBAAQ;gBAAK;YACpC;YACA,IAAI,SAAS,SAAS,IAAI,MAAM;gBAC9B,KAAK,MAAM,OAAO,SAAS,SAAS,CAAE;oBACpC,QAAQ,IAAI,CAAC;wBACX,MAAM;wBACN,YAAY;wBACZ,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU;wBAC1B;oBACF;gBACF;YACF;YACA,OAAO;gBACL;gBACA,cAAc,0BAA0B,OAAO,aAAa;gBAC5D,OAAO;oBACL,aAAa,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,aAAa;oBACtE,cAAc,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,iBAAiB;oBAC3E,aAAa,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,KAAK;gBACnG;gBACA,SAAS;oBAAE;gBAAK;gBAChB,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA,kBAAkB;oBAChB,YAAY;wBACV,QAAQ,CAAC,KAAK,CAAC,KAAK,SAAS,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,QAAU,CAAC;gCACzE,UAAU,MAAM,SAAS;gCACzB,WAAW,MAAM,UAAU;gCAC3B,QAAQ,MAAM,MAAM;gCACpB,OAAO,MAAM,KAAK;4BACpB,CAAC,EAAE,KAAK,OAAO,KAAK;wBACpB,OAAO;4BACL,gBAAgB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,KAAK,OAAO,KAAK;4BAClG,kBAAkB,CAAC,KAAK,CAAC,KAAK,SAAS,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,kBAAkB,KAAK,OAAO,KAAK;wBACzG;oBACF;gBACF;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACxC,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBAAE,QAAQ;YAAK;YACpE,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBAC9C,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB,+BAA+B;oBACpD,aAAa;oBACb;gBACF;gBACA,2BAA2B,iCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,IAAI,eAAe;YACnB,MAAM,QAAQ;gBACZ,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,MAAM,mBAAmB;gBACvB,YAAY;oBACV,OAAO;wBACL,gBAAgB;wBAChB,kBAAkB;oBACpB;oBACA,QAAQ;gBACV;YACF;YACA,IAAI,eAAe;YACnB,IAAI,WAAW;YACf,MAAM,OAAO,IAAI;YACjB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BAAE,MAAM;4BAAgB;wBAAS;oBACtD;oBACA,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,IAAI,IAAI;wBACZ,IAAI,QAAQ,gBAAgB,EAAE;4BAC5B,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAO,UAAU,MAAM,QAAQ;4BAAC;wBAC7D;wBACA,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,cAAc;4BAChB,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;4BACxB,CAAC,KAAK,MAAM,SAAS,KAAK,OAAO,KAAK,IAAI,GAAG,OAAO,CAAC,CAAC;gCACpD,WAAW,OAAO,CAAC;oCACjB,MAAM;oCACN,YAAY;oCACZ,IAAI,KAAK,MAAM,CAAC,UAAU;oCAC1B;gCACF;4BACF;4BACA,eAAe;wBACjB;wBACA,IAAI,MAAM,KAAK,IAAI,MAAM;4BACvB,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,aAAa;4BAC7C,MAAM,YAAY,GAAG,MAAM,KAAK,CAAC,iBAAiB;4BAClD,iBAAiB,UAAU,CAAC,KAAK,GAAG;gCAClC,gBAAgB,CAAC,KAAK,MAAM,KAAK,CAAC,eAAe,KAAK,OAAO,KAAK;gCAClE,kBAAkB,CAAC,KAAK,MAAM,KAAK,CAAC,kBAAkB,KAAK,OAAO,KAAK;4BACzE;wBACF;wBACA,IAAI,MAAM,MAAM,IAAI,MAAM;4BACxB,iBAAiB,UAAU,CAAC,MAAM,GAAG,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,QAAU,CAAC;oCAChE,UAAU,MAAM,SAAS;oCACzB,WAAW,MAAM,UAAU;oCAC3B,QAAQ,MAAM,MAAM;oCACpB,OAAO,MAAM,KAAK;gCACpB,CAAC;wBACH;wBACA,MAAM,SAAS,MAAM,OAAO,CAAC,EAAE;wBAC/B,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,aAAa,KAAK,MAAM;4BAC5D,eAAe,0BAA0B,OAAO,aAAa;wBAC/D;wBACA,IAAI,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM;4BACpD;wBACF;wBACA,MAAM,QAAQ,OAAO,KAAK;wBAC1B,MAAM,cAAc,MAAM,OAAO;wBACjC,IAAI,eAAe,MAAM;4BACvB,IAAI,CAAC,UAAU;gCACb,WAAW,OAAO,CAAC;oCAAE,MAAM;oCAAc,IAAI;gCAAI;gCACjD,WAAW;4BACb;4BACA,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO;4BACT;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,IAAI,UAAU;4BACZ,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAY,IAAI;4BAAI;wBACjD;wBACA,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,SAAS,qBAAqB,EAC5B,EAAE,EACF,KAAK,EACL,OAAO,EACR;IACC,OAAO;QACL;QACA,SAAS;QACT,WAAW,IAAI,KAAK,UAAU;IAChC;AACF;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,eAAe,YAAY,CAAC,CAAC,MAAM;IACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;IACvC,cAAc,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC5C,iBAAiB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C,oBAAoB,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;AACpD;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,WAAW,YAAY,CAAC,CAAC,MAAM;IAC/B,YAAY,YAAY,CAAC,CAAC,MAAM;IAChC,QAAQ,YAAY,CAAC,CAAC,MAAM;IAC5B,OAAO,YAAY,CAAC,CAAC,MAAM;AAC7B;AACA,IAAI,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;IAClD,IAAI,YAAY,CAAC,CAAC,MAAM;IACxB,SAAS,YAAY,CAAC,CAAC,MAAM;IAC7B,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;YAC5B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B;QACA,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;IAC9D,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,uBAAuB,OAAO;IAC1D,OAAO,sBAAsB,OAAO;AACtC;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,IAAI,YAAY,CAAC,CAAC,MAAM;IACxB,SAAS,YAAY,CAAC,CAAC,MAAM;IAC7B,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,SAAS,YAAY,CAAC,CAAC,KAAK,CAC1B,YAAY,CAAC,CAAC,MAAM,CAAC;QACnB,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;YAC1B,MAAM,YAAY,CAAC,CAAC,OAAO,CAAC;YAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC/B;QACA,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IAC/C;IAEF,WAAW,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,OAAO;IAC9D,QAAQ,YAAY,CAAC,CAAC,KAAK,CAAC,uBAAuB,OAAO;IAC1D,OAAO,sBAAsB,OAAO;AACtC;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACvC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;IACtC;AACF;AACA,IAAI,iBAAiB,CAAC;IACpB,IAAI,IAAI;IACR,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,KAAK,CAAC,OAAO,KAAK,OAAO,KAAK,KAAK,KAAK,CAAC,IAAI,KAAK,OAAO,KAAK;AACxF;AACA,IAAI,YAAY,uCAAO,WAAW;AAClC,SAAS,iBAAiB,UAAU,CAAC,CAAC;IACpC,MAAM,aAAa,IAAM,oBACvB,eAAe;YACb,eAAe,CAAC,OAAO,EAAE,WAAW;gBAClC,QAAQ,QAAQ,MAAM;gBACtB,yBAAyB;gBACzB,aAAa;YACf,IAAI;QACN,GAAG,QAAQ,OAAO,GAClB,CAAC,kBAAkB,EAAE,WAAW;IAElC,MAAM,sBAAsB,CAAC;QAC3B,IAAI;QACJ,OAAO,IAAI,wBAAwB,SAAS;YAC1C,SAAS,qBACP,CAAC,KAAK,QAAQ,OAAO,KAAK,OAAO,KAAK;YAExC,SAAS;YACT;YACA,OAAO,QAAQ,KAAK;QACtB;IACF;IACA,MAAM,WAAW,CAAC,UAAY,oBAAoB;IAClD,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG,CAAC;QAC7B,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAqB;IAC1F;IACA,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAAE;YAAS,WAAW;QAAa;IAClF;IACA,OAAO;AACT;AACA,IAAI,aAAa;AAEjB,qHAAqH;AACrH,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C,OAAO,YAAY,CAAC,CAAC,MAAM,CAAC;QAC1B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,iEAAiE;QACjE,iEAAiE;QACjE,aAAa;QACb,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,OAAO;QACpC,OAAO,YAAY,CAAC,CAAC,GAAG,GAAG,OAAO;QAClC,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC;YAAC,YAAY,CAAC,CAAC,MAAM;YAAI,YAAY,CAAC,CAAC,MAAM;SAAG,EAAE,OAAO;IACrF;AACF;AACA,IAAI,8BAA8B,+BAA+B;IAC/D,aAAa;IACb,gBAAgB,CAAC,OAAS,KAAK,KAAK,CAAC,OAAO;AAC9C;AACA,SAAS,gCAAgC,EACvC,MAAM,EACN,OAAO,MAAM,EACb,YAAY,WAAW,EACxB;IACC,IAAI,OAAO;IACX,IAAI,MAAM,CAAC,EAAE,CAAC,IAAI,KAAK,UAAU;QAC/B,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;;AAEjC,CAAC;QACG,SAAS,OAAO,KAAK,CAAC;IACxB;IACA,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,MAAM,IAAI,kBAAkB,kBAAkB,CAAC;wBAC7C,SAAS;wBACT;oBACF;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,cAAc,QAAQ,GAAG,CAAC,CAAC;wBAC/B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;wBACF;oBACF,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;oBACxB,QAAQ,GAAG,KAAK;AACxB,EAAE,YAAY;;AAEd,CAAC;oBACO;gBACF;YACA,KAAK;gBAAa;oBAChB,MAAM,mBAAmB,QAAQ,GAAG,CAAC,CAAC;wBACpC,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,OAAO,KAAK,IAAI;gCAClB;4BACA,KAAK;gCAAa;oCAChB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wCACxD,eAAe;oCACjB;gCACF;wBACF;oBACF,GAAG,IAAI,CAAC;oBACR,QAAQ,GAAG,UAAU;AAC7B,EAAE,iBAAiB;;AAEnB,CAAC;oBACO;gBACF;YACA,KAAK;gBAAQ;oBACX,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;wBACxD,eAAe;oBACjB;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,QAAQ,GAAG,UAAU;AACvB,CAAC;IACC,OAAO;QACL,QAAQ;QACR,eAAe;YAAC,CAAC;AACrB,EAAE,KAAK,CAAC,CAAC;SAAC;IACR;AACF;AACA,SAAS,sBAAsB,YAAY;IACzC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AACA,SAAS,qBAAqB,EAC5B,KAAK,EACL,UAAU,EACX;IACC,OAAO;QACL,IAAI,KAAK;QACT,SAAS,SAAS,OAAO,QAAQ,KAAK;QACtC,WAAW,cAAc,OAAO,IAAI,KAAK,cAAc,KAAK;IAC9D;AACF;AACA,IAAI,kCAAkC,YAAY,CAAC,CAAC,MAAM,CAAC;IACzD,OAAO,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACvC,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACrC,QAAQ,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACvC,MAAM,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;AACxC;AACA,IAAI,gCAAgC;IAClC,YAAY,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAE;QACrC,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;QAErB;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,gBAAgB,EAChB,eAAe,EACf,eAAe,iBAAiB,EAChC,cAAc,EACd,KAAK,EACL,UAAU,EACV,IAAI,EACJ,eAAe,EAChB;YACC,IAAI;YACJ,MAAM,WAAW,EAAE;YACnB,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,IAAI,QAAQ,MAAM;gBAChB,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;gBACX;YACF;YACA,IAAI,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,EAAE;gBACzC,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAQ;YAChE;YACA,IAAI,cAAc,MAAM;gBACtB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAa;YACrE;YACA,IAAI,kBAAkB,QAAQ,eAAe,IAAI,KAAK,QAAQ;gBAC5D,SAAS,IAAI,CAAC;oBACZ,MAAM;oBACN,SAAS;oBACT,SAAS;gBACX;YACF;YACA,MAAM,EAAE,QAAQ,gBAAgB,EAAE,aAAa,EAAE,GAAG,gCAAgC;gBAAE;YAAO;YAC7F,MAAM,QAAQ;mBAAI,iBAAiB,OAAO,gBAAgB,EAAE;mBAAK,qBAAqB,OAAO,oBAAoB,EAAE;aAAC;YACpH,OAAO;gBACL,MAAM;oBACJ,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,6BAA6B;oBAC7B,MAAM,cAAc,IAAI;oBACxB,OAAO,cAAc,KAAK;oBAC1B,yBAAyB;oBACzB,YAAY;oBACZ;oBACA,OAAO;oBACP,mBAAmB;oBACnB,kBAAkB;oBAClB,MAAM;oBACN,UAAU;oBACV,QAAQ;oBACR,kBAAkB;oBAClB,QAAQ,cAAc,MAAM;oBAC5B,MAAM,cAAc,IAAI;oBACxB,QAAQ;gBAEV;gBACA;YACF;QACF;IACF;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI;YAChB,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YACpD,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAAE,QAAQ;gBAAM;gBAC9D,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,MAAM,MAAM,EAAE,QAAQ,SAAS,EAAE,GAAG,KAAK,cAAc,UAAU,KAAK;gBAAC;aAAS;YACtF,MAAM,mBAAmB;gBAAE,QAAQ,CAAC;YAAE;YACtC,OAAO;gBACL,SAAS;oBACP;wBACE,MAAM;wBACN,MAAM,SAAS,QAAQ;oBACzB;iBACD;gBACD,OAAO;oBACL,aAAa,CAAC,KAAK,SAAS,iBAAiB,KAAK,OAAO,KAAK,KAAK;oBACnE,cAAc,CAAC,KAAK,SAAS,UAAU,KAAK,OAAO,KAAK,KAAK;oBAC7D,aAAa,CAAC,CAAC,KAAK,SAAS,iBAAiB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,UAAU,KAAK,OAAO,KAAK,CAAC;gBAClH;gBACA,cAAc,sBAAsB;gBACpC,SAAS;oBAAE,MAAM,KAAK,SAAS,CAAC;gBAAM;gBACtC,UAAU,cAAc,eAAe,CAAC,GAAG,qBAAqB,YAAY;oBAC1E,SAAS;oBACT,MAAM;gBACR;gBACA;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;YAC9C,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,OAAO;gBACnD,QAAQ;YACV;YACA,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D;gBACA,uBAAuB;gBACvB,2BAA2B,gCACzB;gBAEF,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,KAAK,MAAM,EAAE,QAAQ,SAAS,EAAE,GAAG,IAAI,cAAc,UAAU,IAAI;gBAAC;aAAS;YACnF,IAAI,eAAe;YACnB,IAAI,QAAQ;gBACV,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,IAAI,eAAe;YACnB,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,IAAI,gBAAgB;oBAClB,WAAU,KAAK,EAAE,UAAU;wBACzB,IAAI,CAAC,MAAM,OAAO,EAAE;4BAClB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,MAAM,QAAQ,MAAM,KAAK;wBACzB,IAAI,WAAW,OAAO;4BACpB,eAAe;4BACf,WAAW,OAAO,CAAC;gCAAE,MAAM;gCAAS,OAAO,MAAM,KAAK;4BAAC;4BACvD;wBACF;wBACA,IAAI,cAAc;4BAChB,eAAe;4BACf,WAAW,OAAO,CAAC,eAAe;gCAChC,MAAM;4BACR,GAAG,qBAAqB;wBAC1B;wBACA,IAAI,MAAM,IAAI,EAAE;4BACd,eAAe,sBAAsB;wBACvC;wBACA,IAAI,MAAM,QAAQ,IAAI,MAAM;4BAC1B,WAAW,OAAO,CAAC;gCACjB,MAAM;gCACN,IAAI;gCACJ,OAAO,MAAM,QAAQ;4BACvB;wBACF;oBACF;oBACA,OAAM,UAAU;wBACd,WAAW,OAAO,CAAC;4BACjB,MAAM;4BACN;4BACA;wBACF;oBACF;gBACF;gBAEF,SAAS;oBAAE,MAAM,KAAK,SAAS,CAAC;gBAAM;gBACtC,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;AACF;AACA,IAAI,2BAA2B,YAAY,CAAC,CAAC,MAAM,CAAC;IAClD,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,YAAY,YAAY,CAAC,CAAC,MAAM;IAChC,UAAU,YAAY,CAAC,CAAC,MAAM;IAC9B,MAAM,YAAY,CAAC,CAAC,OAAO;IAC3B,SAAS,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;IACjD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC3C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC9C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC9C,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC/C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAClD,sBAAsB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AACvD;AACA,IAAI,iCAAiC,YAAY,CAAC,CAAC,MAAM,CAAC;IACxD,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC3C,UAAU,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IAC1C,WAAW,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AAC5C;AACA,IAAI,uBAAuB;IACzB,YAAY,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAE;QACrC,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,IAAI,uBAAuB;QACzB,IAAI;QACJ,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,oBAAoB,KAAK,OAAO,KAAK;IAClE;IACA,IAAI,wBAAwB;QAC1B,IAAI;QACJ,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,qBAAqB,KAAK,OAAO,KAAK;IACnE;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,eAAe,EAChB;YACC,IAAI,IAAI;YACR,MAAM,gBAAgB,CAAC,KAAK,MAAM,qBAAqB;gBACrD,UAAU;gBACV;gBACA,QAAQ;YACV,EAAE,KAAK,OAAO,KAAK,CAAC;YACpB,OAAO;gBACL,MAAM;oBACJ,YAAY;oBACZ,OAAO,IAAI,CAAC,OAAO;oBACnB,OAAO;oBACP,uBAAuB;oBACvB,YAAY,CAAC,KAAK,cAAc,UAAU,KAAK,OAAO,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU;oBACnF,UAAU,cAAc,QAAQ;oBAChC,YAAY,cAAc,SAAS;gBACrC;YACF;QACF;IACF;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EAChB;YACC,IAAI,OAAO,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBAC7C,MAAM,IAAI,kBAAkB,kCAAkC,CAAC;oBAC7D,UAAU,IAAI,CAAC,QAAQ;oBACvB,SAAS,IAAI,CAAC,OAAO;oBACrB,sBAAsB,IAAI,CAAC,oBAAoB;oBAC/C;gBACF;YACF;YACA,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;gBAAE;gBAAQ;YAAgB;YACpE,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,QAAQ,EACT,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI;gBAC/C,MAAM,eAAe,CAAC,GAAG;gBACzB,uBAAuB;gBACvB,2BAA2B,0BACzB;gBAEF;gBACA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,OAAO;gBACL,YAAY,SAAS,UAAU,CAAC,GAAG,CAAC,CAAC,OAAS;gBAC9C,OAAO;oBAAE,QAAQ,SAAS,iBAAiB;gBAAC;gBAC5C,UAAU;oBAAE,SAAS;oBAAiB,MAAM;gBAAS;YACvD;QACF;IACF;AACF;AACA,IAAI,oCAAoC,YAAY,CAAC,CAAC,MAAM,CAAC;IAC3D,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,YAAY,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM;IACxE,gBAAgB,YAAY,CAAC,CAAC,MAAM;IACpC,eAAe,YAAY,CAAC,CAAC,MAAM;IACnC,mBAAmB,YAAY,CAAC,CAAC,MAAM;AACzC;AACA,SAAS,iCAAiC,EACxC,MAAM,EACN,iBAAiB,EAClB;IACC,MAAM,WAAW,EAAE;IACnB,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,OAAQ;wBACN,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAU;gCAAQ;gCACxC;4BACF;wBACA,KAAK;4BAAa;gCAChB,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAa;gCAAQ;gCAC3C;4BACF;wBACA,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCACZ,MAAM;oCACN,SAAS;gCACX;gCACA;4BACF;wBACA;4BAAS;gCACP,MAAM,mBAAmB;gCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;4BAE1D;oBACF;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAM;4BAC1B,IAAI,IAAI,IAAI;4BACZ,OAAQ,KAAK,IAAI;gCACf,KAAK;oCAAQ;wCACX,OAAO;4CAAE,MAAM;4CAAc,MAAM,KAAK,IAAI;wCAAC;oCAC/C;gCACA,KAAK;oCAAQ;wCACX,IAAI,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW;4CACvC,MAAM,YAAY,KAAK,SAAS,KAAK,YAAY,eAAe,KAAK,SAAS;4CAC9E,OAAO;gDACL,MAAM;gDACN,WAAW,KAAK,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,KAAK,IAAI,EAAE;gDACpG,0CAA0C;gDAC1C,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,WAAW;4CAC3G;wCACF,OAAO,IAAI,KAAK,SAAS,KAAK,mBAAmB;4CAC/C,IAAI,KAAK,IAAI,YAAY,KAAK;gDAC5B,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oDACxD,eAAe;gDACjB;4CACF;4CACA,OAAO;gDACL,MAAM;gDACN,UAAU,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,KAAK,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC;gDACjE,WAAW,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;4CACvD;wCACF,OAAO;4CACL,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;gDACxD,eAAe,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4CACzD;wCACF;oCACF;4BACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,SAAS,IAAI,CAAC;wCACZ,MAAM;wCACN,SAAS;4CAAC;gDAAE,MAAM;gDAAe,MAAM,KAAK,IAAI;4CAAC;yCAAE;oCACrD;oCACA;gCACF;4BACA,KAAK;gCAAa;oCAChB,IAAI,KAAK,gBAAgB,EAAE;wCACzB;oCACF;oCACA,SAAS,IAAI,CAAC;wCACZ,MAAM;wCACN,SAAS,KAAK,UAAU;wCACxB,MAAM,KAAK,QAAQ;wCACnB,WAAW,KAAK,SAAS,CAAC,KAAK,KAAK;oCACtC;oCACA;gCACF;4BACA,KAAK;gCAAe;oCAClB,SAAS,IAAI,CAAC;wCACZ,MAAM;wCACN,SAAS,CAAC,8EAA8E,CAAC;oCAC3F;oCACA;gCACF;wBACF;oBACF;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,QAAQ,QAAS;wBAC1B,MAAM,SAAS,KAAK,MAAM;wBAC1B,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,SAAS,KAAK,UAAU;4BACxB,QAAQ;wBACV;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;QAAE;QAAU;IAAS;AAC9B;AACA,SAAS,4BAA4B,EACnC,MAAM,EACN,oBAAoB,QAAQ,EAC7B;IACC,MAAM,WAAW,EAAE;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,OAAQ;QACtC,OAAQ;YACN,KAAK;gBAAU;oBACb,OAAQ;wBACN,KAAK;4BAAU;gCACb,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAU;gCAAQ;gCACxC;4BACF;wBACA,KAAK;4BAAa;gCAChB,SAAS,IAAI,CAAC;oCAAE,MAAM;oCAAa;gCAAQ;gCAC3C;4BACF;wBACA,KAAK;4BAAU;gCACb;4BACF;wBACA;4BAAS;gCACP,MAAM,mBAAmB;gCACzB,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,kBAAkB;4BAE1D;oBACF;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,IAAI,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,QAAQ;wBACtD,SAAS,IAAI,CAAC;4BAAE,MAAM;4BAAQ,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;wBAAC;wBACvD;oBACF;oBACA,MAAM,WAAW,QAAQ,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK,QAAQ,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,EAAE,IAAI,CAAC;oBAC9F,MAAM,SAAS,QAAQ,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK,UAAU,KAAK,SAAS,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI;oBAC5H,SAAS,IAAI,CAAC;wBACZ,MAAM;wBACN,SAAS,SAAS,MAAM,GAAG,IAAI,WAAW,EAAE;wBAC5C,QAAQ,OAAO,MAAM,GAAG,IAAI,SAAS,KAAK;oBAC5C;oBACA;gBACF;YACA,KAAK;gBAAa;oBAChB,IAAI,OAAO;oBACX,IAAI,WAAW;oBACf,MAAM,YAAY,EAAE;oBACpB,KAAK,MAAM,QAAQ,QAAS;wBAC1B,OAAQ,KAAK,IAAI;4BACf,KAAK;gCAAQ;oCACX,QAAQ,KAAK,IAAI;oCACjB;gCACF;4BACA,KAAK;gCAAa;oCAChB,UAAU,IAAI,CAAC;wCACb,IAAI,KAAK,UAAU;wCACnB,MAAM;wCACN,UAAU;4CACR,MAAM,KAAK,QAAQ;4CACnB,WAAW,KAAK,KAAK;wCACvB;oCACF;oCACA;gCACF;4BACA,KAAK;gCAAa;oCAChB,YAAY,KAAK,IAAI;oCACrB;gCACF;4BACA;gCAAS;oCACP,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,MAAM;gCAC7C;wBACF;oBACF;oBACA,SAAS,IAAI,CAAC,cAAc,eAAe;wBACzC,MAAM;wBACN,SAAS;oBACX,GAAG,YAAY;wBAAE;oBAAS,IAAI;wBAC5B,YAAY,UAAU,MAAM,GAAG,IAAI,YAAY,KAAK;oBACtD;oBACA;gBACF;YACA,KAAK;gBAAQ;oBACX,KAAK,MAAM,gBAAgB,QAAS;wBAClC,MAAM,SAAS,aAAa,MAAM;wBAClC,IAAI;wBACJ,OAAQ,OAAO,IAAI;4BACjB,KAAK;4BACL,KAAK;gCACH,eAAe,OAAO,KAAK;gCAC3B;4BACF,KAAK;4BACL,KAAK;4BACL,KAAK;gCACH,eAAe,KAAK,SAAS,CAAC,OAAO,KAAK;gCAC1C;wBACJ;wBACA,SAAS,IAAI,CAAC;4BACZ,MAAM;4BACN,cAAc,aAAa,UAAU;4BACrC,SAAS;wBACX;oBACF;oBACA;gBACF;YACA;gBAAS;oBACP,MAAM,mBAAmB;oBACzB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,kBAAkB;gBACzD;QACF;IACF;IACA,OAAO;AACT;AACA,SAAS,uBAAuB,EAC9B,KAAK,EACL,UAAU,EACX;IACC,QAAQ,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,MAAM,IAAI,QAAQ,KAAK;IAC/D,MAAM,eAAe,EAAE;IACvB,IAAI,SAAS,MAAM;QACjB,OAAO;YAAE,OAAO,KAAK;YAAG,YAAY,KAAK;YAAG;QAAa;IAC3D;IACA,MAAM,cAAc,EAAE;IACtB,KAAK,MAAM,UAAU,MAAO;QAC1B,OAAQ,OAAO,IAAI;YACjB,KAAK;gBAAY;oBACf,IAAI,aAAa,OAAO,WAAW;oBACnC,IAAI,CAAC,YAAY;wBACf,aAAa;4BACX,MAAM;4BACN,YAAY,CAAC;4BACb,UAAU,EAAE;wBACd;oBACF,OAAO,IAAI,cAAc,OAAO,eAAe,YAAY,WAAW,IAAI,KAAK,YAAY,WAAW,UAAU,IAAI,OAAO,IAAI,CAAC,WAAW,UAAU,EAAE,MAAM,KAAK,GAAG;wBACnK,aAAa,cAAc,eAAe,CAAC,GAAG,aAAa;4BACzD,YAAY,CAAC;4BACb,UAAU,EAAE;wBACd;oBACF;oBACA,YAAY,IAAI,CAAC;wBACf,MAAM;wBACN,UAAU;4BACR,MAAM,OAAO,IAAI;4BACjB,aAAa,OAAO,WAAW;4BAC/B;wBACF;oBACF;oBACA;gBACF;YACA;gBACE,aAAa,IAAI,CAAC;oBAAE,MAAM;oBAAoB,MAAM;gBAAO;gBAC3D;QACJ;IACF;IACA,IAAI,cAAc,MAAM;QACtB,OAAO;YAAE,OAAO;YAAa,YAAY,KAAK;YAAG;QAAa;IAChE;IACA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAa,YAAY;gBAAM;YAAa;QAC9D,KAAK;YACH,OAAO;gBACL,OAAO;gBACP,YAAY,WAAW,QAAQ,IAAI,uBAAuB;oBAAE,MAAM;gBAAqB,IAAI;oBAAE,MAAM;oBAAY,MAAM,WAAW,QAAQ;gBAAC;gBACzI;YACF;QACF;YAAS;gBACP,MAAM,mBAAmB;gBACzB,MAAM,IAAI,kBAAkB,6BAA6B,CAAC;oBACxD,eAAe,CAAC,kBAAkB,EAAE,kBAAkB;gBACxD;YACF;IACF;AACF;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC/C;;;;;;GAMC,GACD,OAAO,YAAY,CAAC,CAAC,OAAO,GAAG,QAAQ;IACvC,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;QAC5B,SAAS,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACxC,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC9C,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC/C,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC5C,MAAM,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACrC,MAAM,YAAY,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,QAAQ;QAC1D,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QAC5C,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACtC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACtC,OAAO,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACxC,GAAG,QAAQ;AACb;AACA,IAAI,uBAAuB;IACzB,aAAa,EAAE,EAAE;QACf,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACP,eAAe,EACf,WAAW,EACX,aAAa,EACb,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,gBAAgB,EAChB,IAAI,EACJ,MAAM,EACN,eAAe,EACf,KAAK,EACL,UAAU,EACV,cAAc,EACf;YACC,MAAM,WAAW,IAAI,CAAC,kCAAkC,CAAC;gBACvD;gBACA;gBACA;gBACA;gBACA;YACF;YACA,MAAM,EAAE,QAAQ,EAAE,UAAU,eAAe,EAAE,GAAG,iCAAiC;gBAC/E;gBACA,mBAAmB;YACrB;YACA,SAAS,IAAI,IAAI;YACjB,MAAM,gBAAgB,MAAM,IAAI,CAAC,oBAAoB,CAAC;YACtD,MAAM,WAAW,IAAI,CAAC,aAAa,CAAC;gBAClC;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;YACF;YACA,MAAM,EAAE,OAAO,WAAW,EAAE,YAAY,gBAAgB,EAAE,YAAY,EAAE,GAAG,uBAAuB;gBAChG;gBACA;YACF;YACA,OAAO;gBACL,MAAM,cAAc,eAAe,CAAC,GAAG,WAAW;oBAChD,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;uBAAI;uBAAa;iBAAa;YAC1C;QACF;IACF;IACA,mCAAmC,EACjC,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,gBAAgB,EAChB,aAAa,EACd,EAAE;QACD,MAAM,WAAW,EAAE;QACnB,MAAM,sBAAsB;YAC1B;gBAAE,OAAO;gBAAM,MAAM;YAAO;YAC5B;gBAAE,OAAO;gBAAM,MAAM;YAAO;YAC5B;gBAAE,OAAO;gBAAiB,MAAM;YAAkB;YAClD;gBAAE,OAAO;gBAAkB,MAAM;YAAmB;YACpD;gBAAE,OAAO;gBAAe,MAAM;YAAgB;SAC/C;QACD,KAAK,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,oBAAqB;YACjD,IAAI,SAAS,MAAM;gBACjB,SAAS,IAAI,CAAC;oBAAE,MAAM;oBAAuB,SAAS;gBAAK;YAC7D;QACF;QACA,OAAO;IACT;IACA,qBAAqB,eAAe,EAAE;QACpC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,SAAS,MAAM,qBAAqB;gBACxC,UAAU;gBACV;gBACA,QAAQ;YACV;YACA,OAAO,UAAU,OAAO,SAAS;QACnC;IACF;IACA,cAAc,EACZ,OAAO,EACP,MAAM,EACN,WAAW,EACX,IAAI,EACJ,eAAe,EACf,cAAc,EACd,aAAa,EACd,EAAE;QACD,IAAI,IAAI;QACR,OAAO,cAAc,eAAe;YAClC,OAAO;YACP,UAAU,4BAA4B;gBACpC;gBACA,mBAAmB;YACrB;YACA;YACA,OAAO;YACP,mBAAmB;QACrB,GAAG,CAAC,kBAAkB,OAAO,KAAK,IAAI,eAAe,IAAI,MAAM,UAAU;YACvE,QAAQ,eAAe,MAAM,IAAI,OAAO,eAAe,MAAM,GAAG;QAClE,IAAI;YACF,OAAO,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,KAAK,KAAK,OAAO,KAAK;YAClF,SAAS,CAAC,KAAK,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO,KAAK,OAAO,KAAK,KAAK;QAC7F;IACF;AACF;AACA,IAAI,4BAA4B,YAAY,CAAC,CAAC,MAAM,CAAC;IACnD,OAAO,YAAY,CAAC,CAAC,MAAM;IAC3B,YAAY,YAAY,CAAC,CAAC,MAAM;IAChC,MAAM,YAAY,CAAC,CAAC,OAAO;IAC3B,SAAS,YAAY,CAAC,CAAC,MAAM,CAAC;QAC5B,SAAS,YAAY,CAAC,CAAC,MAAM;QAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;QAC1B,UAAU,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACzC,YAAY,YAAY,CAAC,CAAC,KAAK,CAC7B,YAAY,CAAC,CAAC,MAAM,CAAC;YACnB,UAAU,YAAY,CAAC,CAAC,MAAM,CAAC;gBAC7B,MAAM,YAAY,CAAC,CAAC,MAAM;gBAC1B,WAAW,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,YAAY,CAAC,CAAC,GAAG;YAC3E;YACA,IAAI,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;QACrC,IACA,QAAQ,GAAG,QAAQ;IACvB;IACA,aAAa,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC5C,YAAY,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC3C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC9C,eAAe,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAC9C,mBAAmB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IAClD,sBAAsB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;IACrD,gBAAgB,YAAY,CAAC,CAAC,MAAM,GAAG,QAAQ;AACjD;AACA,IAAI,0BAA0B;IAC5B,YAAY,MAAM,CAAE;QAClB,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,wBAAwB,QAAQ,EAAE;QAChC,MAAM,UAAU,IAAI,CAAC,cAAc,CAAC;QACpC,MAAM,eAAe,sBAAsB,SAAS,WAAW;QAC/D,MAAM,QAAQ,IAAI,CAAC,YAAY,CAAC;QAChC,MAAM,mBAAmB;YAAE,QAAQ,CAAC;QAAE;QACtC,OAAO;YACL;YACA;YACA;YACA;QACF;IACF;IACA,eAAe,QAAQ,EAAE;QACvB,IAAI,IAAI,IAAI,IAAI,IAAI;QACpB,MAAM,UAAU,EAAE;QAClB,MAAM,OAAO,SAAS,OAAO,CAAC,OAAO;QACrC,IAAI,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG;YACnC,QAAQ,IAAI,CAAC;gBACX,MAAM;gBACN;YACF;QACF;QACA,KAAK,MAAM,YAAY,CAAC,KAAK,SAAS,OAAO,CAAC,UAAU,KAAK,OAAO,KAAK,EAAE,CAAE;YAC3E,QAAQ,IAAI,CAAC;gBACX,MAAM;gBACN,YAAY,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;gBACxI,UAAU,SAAS,QAAQ,CAAC,IAAI;gBAChC,OAAO,KAAK,SAAS,CAAC,SAAS,QAAQ,CAAC,SAAS;YACnD;QACF;QACA,OAAO;IACT;IACA,aAAa,QAAQ,EAAE;QACrB,IAAI,IAAI,IAAI,IAAI;QAChB,OAAO;YACL,aAAa,CAAC,KAAK,SAAS,iBAAiB,KAAK,OAAO,KAAK,KAAK;YACnE,cAAc,CAAC,KAAK,SAAS,UAAU,KAAK,OAAO,KAAK,KAAK;YAC7D,aAAa,CAAC,CAAC,KAAK,SAAS,iBAAiB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,UAAU,KAAK,OAAO,KAAK,CAAC;YAChH,iBAAiB,KAAK;YACtB,mDAAmD;YACnD,mBAAmB,KAAK;QAC1B;IACF;AACF;AACA,SAAS,sCAAsC,KAAK;IAClD,IAAI;IACJ,IAAI,MAAM,OAAO,EAAE;QACjB,OAAO;YAAC,MAAM,KAAK;SAAC;IACtB;IACA,MAAM,UAAU,EAAE;IAClB,MAAM,MAAM,CAAC,KAAK,MAAM,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;IACzD,IAAI,OAAO,QAAQ,YAAY,IAAI,MAAM,KAAK,GAAG;QAC/C,OAAO;IACT;IACA,MAAM,QAAQ,IAAI,KAAK,CAAC;IACxB,KAAK,MAAM,QAAQ,MAAO;QACxB,MAAM,UAAU,KAAK,IAAI;QACzB,IAAI,YAAY,IAAI;QACpB,IAAI;YACF,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,MAAM,YAAY,0BAA0B,SAAS,CAAC;YACtD,IAAI,UAAU,OAAO,EAAE;gBACrB,QAAQ,IAAI,CAAC,UAAU,IAAI;YAC7B;QACF,EAAE,OAAO,GAAG,CACZ;IACF;IACA,OAAO;AACT;AACA,IAAI,wBAAwB;IAC1B,YAAY,MAAM,CAAE;QAClB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe;IACnC;IACA,sBAAsB,QAAQ,EAAE,OAAO,EAAE;QACvC,OAAO,IAAI,gBAAgB;YACzB,OAAO,CAAC;gBACN,WAAW,OAAO,CAAC;oBAAE,MAAM;oBAAgB;gBAAS;YACtD;YACA,WAAW,CAAC,OAAO;gBACjB,IAAI,CAAC,YAAY,CAAC,OAAO,YAAY;YACvC;YACA,OAAO,CAAC;gBACN,IAAI,CAAC,cAAc,CAAC;YACtB;QACF;IACF;IACA,kBAAkB;QAChB,OAAO;YACL,cAAc;YACd,OAAO;gBACL,aAAa,KAAK;gBAClB,cAAc,KAAK;gBACnB,aAAa,KAAK;YACpB;YACA,YAAY;YACZ,kBAAkB,CAAC;YACnB,cAAc;YACd,cAAc;YACd,gBAAgB;YAChB,qBAAqB;YACrB,WAAW;YACX,gBAAgB;YAChB,QAAQ;QACV;IACF;IACA,aAAa,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE;QACvC,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,gBAAgB,EAAE;YACvD,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAO,UAAU,MAAM,QAAQ;YAAC;QAC7D;QACA,MAAM,SAAS,sCAAsC;QACrD,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,IAAI,CAAC,MAAM,OAAO,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG;gBAC1B,WAAW,OAAO,CAAC;oBAAE,MAAM;oBAAS,OAAO,MAAM,KAAK;gBAAC;YACzD;YACA;QACF;QACA,KAAK,MAAM,SAAS,OAAQ;YAC1B,IAAI,CAAC,oBAAoB,CAAC,OAAO;QACnC;IACF;IACA,qBAAqB,KAAK,EAAE,UAAU,EAAE;QACtC,IAAI,SAAS,OAAO,UAAU,YAAY,WAAW,OAAO;YAC1D,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG;YAC1B,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAS,OAAO,MAAM,KAAK;YAAC;YACvD;QACF;QACA,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;YAC3B,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG;YAC1B,WAAW,OAAO,CAAC,eAAe;gBAChC,MAAM;YACR,GAAG,qBAAqB;QAC1B;QACA,IAAI,MAAM,IAAI,EAAE;YACd,IAAI,CAAC,eAAe,CAAC,OAAO;QAC9B;QACA,MAAM,QAAQ,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO;QACpD,IAAI,OAAO;YACT,IAAI,CAAC,YAAY,CAAC,OAAO;QAC3B;IACF;IACA,gBAAgB,KAAK,EAAE,UAAU,EAAE;QACjC,IAAI,IAAI,IAAI;QACZ,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,sBAAsB,MAAM,WAAW;QACjE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;YACjB,aAAa,MAAM,iBAAiB,IAAI;YACxC,cAAc,CAAC,KAAK,MAAM,UAAU,KAAK,OAAO,KAAK,KAAK;YAC1D,aAAa,CAAC,CAAC,KAAK,MAAM,iBAAiB,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,MAAM,UAAU,KAAK,OAAO,KAAK,CAAC;QAC5G;QACA,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACtD,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;YAAC;YAC7D,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG;QACzB;QACA,IAAI,IAAI,CAAC,KAAK,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAChE,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAiB,IAAI;YAAI;YACpD,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG;QAC9B;IACF;IACA,aAAa,KAAK,EAAE,UAAU,EAAE;QAC9B,IAAI,CAAC,kBAAkB,CAAC,OAAO;QAC/B,IAAI,CAAC,eAAe,CAAC,OAAO;QAC5B,IAAI,CAAC,gBAAgB,CAAC,OAAO;IAC/B;IACA,mBAAmB,KAAK,EAAE,UAAU,EAAE;QACpC,IAAI,CAAC,SAAS,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,MAAM;YACpD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;gBAC9B,WAAW,OAAO,CAAC;oBAAE,MAAM;oBAAc,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;gBAAC;gBAC/D,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG;YAC9B;YACA,WAAW,OAAO,CAAC;gBACjB,MAAM;gBACN,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;gBACrB,OAAO,MAAM,OAAO;YACtB;QACF;IACF;IACA,gBAAgB,KAAK,EAAE,UAAU,EAAE;QACjC,IAAI,SAAS,OAAO,KAAK,IAAI,MAAM,QAAQ,EAAE;YAC3C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE;gBACnC,WAAW,OAAO,CAAC;oBAAE,MAAM;oBAAmB,IAAI;gBAAI;gBACtD,IAAI,CAAC,KAAK,CAAC,mBAAmB,GAAG;YACnC;YACA,WAAW,OAAO,CAAC;gBACjB,MAAM;gBACN,IAAI;gBACJ,OAAO,MAAM,QAAQ;YACvB;QACF;IACF;IACA,iBAAiB,KAAK,EAAE,UAAU,EAAE;QAClC,IAAI,IAAI,IAAI,IAAI;QAChB,KAAK,MAAM,YAAY,CAAC,KAAK,MAAM,UAAU,KAAK,OAAO,KAAK,EAAE,CAAE;YAChE,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,MAAM;gBACjE,MAAM,IAAI,kBAAkB,wBAAwB,CAAC;oBACnD,MAAM;oBACN,SAAS,CAAC,wCAAwC,CAAC;gBACrD;YACF;YACA,IAAI,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,CAAC,CAAC,KAAK,SAAS,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,MAAM;gBACvI,IAAI,CAAC,YAAY,CAAC,UAAU;YAC9B;QACF;IACF;IACA,aAAa,QAAQ,EAAE,UAAU,EAAE;QACjC,IAAI,IAAI,IAAI,IAAI;QAChB,MAAM,KAAK,CAAC,KAAK,SAAS,EAAE,KAAK,OAAO,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK;QACvI,WAAW,OAAO,CAAC;YACjB,MAAM;YACN;YACA,UAAU,SAAS,QAAQ,CAAC,IAAI;QAClC;QACA,WAAW,OAAO,CAAC;YACjB,MAAM;YACN;YACA,OAAO,KAAK,SAAS,CAAC,SAAS,QAAQ,CAAC,SAAS;QACnD;QACA,WAAW,OAAO,CAAC;YACjB,MAAM;YACN;QACF;QACA,WAAW,OAAO,CAAC;YACjB,MAAM;YACN,YAAY;YACZ,UAAU,SAAS,QAAQ,CAAC,IAAI;YAChC,OAAO,KAAK,SAAS,CAAC,SAAS,QAAQ,CAAC,SAAS;QACnD;QACA,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG;IAC5B;IACA,eAAe,UAAU,EAAE;QACzB,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACtD,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAY,IAAI;YAAI;QACjD;QACA,IAAI,IAAI,CAAC,KAAK,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAChE,WAAW,OAAO,CAAC;gBAAE,MAAM;gBAAiB,IAAI;YAAI;QACtD;QACA,WAAW,OAAO,CAAC;YACjB,MAAM;YACN,cAAc,IAAI,CAAC,KAAK,CAAC,YAAY;YACrC,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK;YACvB,kBAAkB;gBAChB,QAAQ;oBACN,YAAY,IAAI,CAAC,KAAK,CAAC,UAAU;gBACnC;YACF;QACF;IACF;AACF;AACA,IAAI,+BAA+B;IACjC,YAAY,OAAO,EAAE,MAAM,CAAE;QAC3B,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,aAAa,GAAG;YACnB,WAAW;gBACT;aACD;QACH;QACA,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,cAAc,GAAG,IAAI;QAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,wBAAwB;IACvD;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ;IAC7B;IACA,WAAW,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC;YAC3D,MAAM,EACJ,eAAe,EACf,OAAO,QAAQ,EACf,UAAU,WAAW,EACtB,GAAG,MAAM,cAAc;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAAE,QAAQ;gBAAM;gBAC9D,uBAAuB;gBACvB,2BAA2B,0BAA0B;gBACrD,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,oBAAoB,IAAI,CAAC,iBAAiB,CAAC,uBAAuB,CAAC;YACzE,OAAO,cAAc,eAAe,CAAC,GAAG,oBAAoB;gBAC1D,SAAS;oBAAE,MAAM,KAAK,SAAS,CAAC;gBAAM;gBACtC,UAAU;oBACR,SAAS,IAAI,CAAC,OAAO;oBACrB,WAAW,aAAa,GAAG,IAAI;oBAC/B,SAAS;oBACT,MAAM;gBACR;gBACA;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC;YAC3D,MAAM,EAAE,eAAe,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,cAAc;gBAC/D,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACnB,MAAM;oBACN,SAAS,IAAI,CAAC,OAAO;gBACvB;gBACA,SAAS,eAAe,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,QAAQ,OAAO;gBAC9D,MAAM,cAAc,eAAe,CAAC,GAAG,OAAO;oBAAE,QAAQ;gBAAK;gBAC7D,uBAAuB;gBACvB,2BAA2B,gCAAgC;gBAC3D,aAAa,QAAQ,WAAW;gBAChC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;YAC1B;YACA,MAAM,kBAAkB,IAAI,sBAAsB,IAAI,CAAC,MAAM;YAC7D,OAAO;gBACL,QAAQ,SAAS,WAAW,CAC1B,gBAAgB,qBAAqB,CAAC,UAAU;gBAElD,SAAS;oBAAE;gBAAK;gBAChB,UAAU;oBAAE,SAAS;gBAAgB;YACvC;QACF;IACF;IACA,eAAe,OAAO,EAAE;QACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,eAAe;gBAC3D,SAAS,IAAI,CAAC,OAAO;YACvB,GAAG;QACL;IACF;AACF;AACA,SAAS,aAAa,UAAU,CAAC,CAAC;IAChC,IAAI,IAAI;IACR,MAAM,UAAU,CAAC,KAAK,qBAAqB,QAAQ,OAAO,CAAC,KAAK,OAAO,KAAK;IAC5E,MAAM,eAAe,CAAC,KAAK,QAAQ,IAAI,KAAK,OAAO,KAAK;IACxD,MAAM,aAAa,IAAM,eAAe;YACtC,uBAAuB,QAAQ,YAAY;YAC3C,kBAAkB,QAAQ,OAAO;QACnC,GAAG,QAAQ,OAAO;IAClB,MAAM,wBAAwB,CAAC,SAAS,WAAW,CAAC,CAAC,GAAK,IAAI,8BAA8B,SAAS,UAAU;YAC7G,UAAU,GAAG,aAAa,WAAW,CAAC;YACtC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,uBAAuB,CAAC,SAAS,WAAW,CAAC,CAAC,GAAK,IAAI,qBAAqB,SAAS,UAAU;YACnG,UAAU,GAAG,aAAa,UAAU,CAAC;YACrC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,YAAY;YACd,MAAM,IAAI,MACR;QAEJ;QACA,OAAO,qBAAqB;IAC9B;IACA,MAAM,uBAAuB,CAAC;QAC5B,OAAO,IAAI,6BAA6B,SAAS;YAC/C,UAAU,GAAG,aAAa,UAAU,CAAC;YACrC,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,GAAK,GAAG,UAAU,OAAO;YAC9C,SAAS;YACT,OAAO,QAAQ,KAAK;QACtB;IACF;IACA,MAAM,WAAW,SAAS,OAAO;QAC/B,OAAO,oBAAoB;IAC7B;IACA,SAAS,aAAa,GAAG;IACzB,SAAS,IAAI,GAAG;IAChB,SAAS,UAAU,GAAG;IACtB,SAAS,SAAS,GAAG;IACrB,SAAS,aAAa,GAAG;IACzB,SAAS,kBAAkB,GAAG;IAC9B,SAAS,UAAU,GAAG,CAAC;QACrB,MAAM,IAAI,kBAAkB,gBAAgB,CAAC;YAC3C;YACA,WAAW;YACX,SAAS;QACX;IACF;IACA,OAAO;AACT;AACA,IAAI,SAAS;AAEb,4BAA4B;AAC5B,IAAI,iBAAiB;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACF;AACA,IAAI,2BAA2B;IAC7B,QAAQ;IACR,WAAW;IACX,QAAQ;IACR,KAAK;IACL,OAAO;IACP,MAAM;IACN,UAAU;IACV,YAAY;IACZ,SAAS;IACT,UAAU;IACV,YAAY;AACd;AACA,IAAI,qBAAqB;IACvB,WAAW;IACX,gBAAgB;IAChB,gBAAgB;IAChB,WAAW;IACX,iBAAiB;IACjB,MAAM;IACN,WAAW;IACX,iBAAiB;IACjB,MAAM;IACN,WAAW;IACX,UAAU;IACV,eAAe;IACf,qBAAqB;IACrB,mBAAmB;IACnB,cAAc;IACd,4BAA4B;IAC5B,8BAA8B;IAC9B,8BAA8B;IAC9B,8BAA8B;IAC9B,4BAA4B;IAC5B,0BAA0B;IAC1B,yBAAyB;IACzB,gCAAgC;IAChC,8BAA8B;IAC9B,+BAA+B;IAC/B,oBAAoB;IACpB,kBAAkB;IAClB,uBAAuB;IACvB,yBAAyB;IACzB,oBAAoB;IACpB,kCAAkC;IAClC,gCAAgC;AAClC;AACA,SAAS,sBAAsB,WAAW,EAAE,YAAY,EAAE,MAAM,EAAE,OAAO;IACvE,IAAI,QAAQ;QACV,MAAM,UAAU,wBAAwB,CAAC,YAAY;QACrD,IAAI,CAAC,SAAS;YACZ,MAAM,IAAI,mCACR,aACA,OAAO,IAAI,CAAC;QAEhB;QACA,MAAM,iBAAiB;YAAE;QAAO;QAChC,IAAI,SAAS;YACX,eAAe,OAAO,GAAG;QAC3B;QACA,MAAM,WAAW,QAAQ;QACzB,OAAO,SAAS;IAClB,OAAO;QACL,MAAM,WAAW,cAAc,CAAC,YAAY;QAC5C,IAAI,CAAC,UAAU;YACb,MAAM,IAAI,mCACR,aACA,OAAO,IAAI,CAAC;QAEhB;QACA,OAAO,SAAS;IAClB;AACF;AACA,IAAI,cAAc;IAChB,YAAY,MAAM,CAAE;QAClB,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,UAAU,SAAS,EAAE,aAAa,EAAE;QAClC,IAAI,UAAU,QAAQ,CAAC,MAAM;YAC3B,MAAM,kBAAkB,UAAU,OAAO,CAAC;YAC1C,MAAM,cAAc,UAAU,SAAS,CAAC,GAAG;YAC3C,MAAM,eAAe,UAAU,SAAS,CAAC,kBAAkB;YAC3D,MAAM,gBAAgB,sBACpB,aACA,cACA,iBAAiB,OAAO,KAAK,IAAI,cAAc,MAAM,EACrD,iBAAiB,OAAO,KAAK,IAAI,cAAc,OAAO;YAExD,OAAO,IAAI,YAAY;gBACrB,OAAO;gBACP,QAAQ,IAAI,CAAC,MAAM;YACrB;QACF;QACA,MAAM,WAAW,kBAAkB,CAAC,UAAU;QAC9C,IAAI,CAAC,UAAU;YACb,MAAM,IAAI,sBAAsB,OAAO,IAAI,CAAC;QAC9C;QACA,MAAM,iBAAiB;QACvB,OAAQ;YACN,KAAK;gBACH,OAAO,IAAI,aAAa;oBACtB,QAAQ,IAAI,CAAC,MAAM;oBACnB,WAAW;oBACX;gBACF;YACF,KAAK;gBACH,OAAO,IAAI,gBAAgB;oBACzB,QAAQ,IAAI,CAAC,MAAM;oBACnB,WAAW;oBACX;gBACF;YACF,KAAK;gBACH,OAAO,IAAI,eAAe;oBACxB,QAAQ,IAAI,CAAC,MAAM;oBACnB,WAAW;oBACX;gBACF;YACF,KAAK;gBACH,OAAO,IAAI,WAAW;oBACpB,QAAQ,IAAI,CAAC,MAAM;oBACnB,WAAW;oBACX;gBACF;YACF,KAAK;gBACH,OAAO,IAAI,aAAa;oBACtB,QAAQ,IAAI,CAAC,MAAM;oBACnB,WAAW;oBACX;gBACF;YACF;gBACE,MAAM,IAAI,8BAA8B;uBACnC,IAAI,IAAI,OAAO,MAAM,CAAC;iBAC1B;QACL;IACF;IACA,OAAO,iBAAiB,SAAS,EAAE;QACjC,IAAI,UAAU,QAAQ,CAAC,MAAM;YAC3B,MAAM,kBAAkB,UAAU,OAAO,CAAC;YAC1C,MAAM,cAAc,UAAU,SAAS,CAAC,GAAG;YAC3C,IAAI,cAAc,CAAC,YAAY,EAAE;gBAC/B,OAAO;YACT;QACF;QACA,MAAM,WAAW,kBAAkB,CAAC,UAAU;QAC9C,OAAO;IACT;AACF;AAEA,eAAe;AACf;AAEA,2BAA2B;AAC3B,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ;AACA,IAAI,qBAAqB,CAAC,eAAiB,QAAQ,MAAM,MAAM;QAC7D,IAAI;YACF,IAAI;YACJ,IAAI;YACJ,IAAI,OAAO,iBAAiB,YAAY,aAAa,cAAc;gBACjE,YAAY,IAAI,aAAa,oBAAoB,CAAC;YACpD,OAAO;gBACL,IAAI;gBACJ,IAAI,OAAO,iBAAiB,YAAY,wBAAwB,KAAK;oBACnE,YAAY;gBACd,OAAO;oBACL,YAAY,aAAa,SAAS;oBAClC,gBAAgB,aAAa,aAAa;gBAC5C;gBACA,YAAY,IAAI,sBAAsB,6BAA6B,CAAC,IAAI,IAAI;YAC9E;YACA,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC,eAAe;gBACrD,MAAM;gBACN,SAAS;YACX,GAAG;YACH,MAAM,OAAO,OAAO,CAAC;YACrB,IAAI;gBACF,MAAM,OAAO,IAAI;YACnB,EAAE,OAAO,WAAW;gBAClB,MAAM,OAAO,KAAK;gBAClB,MAAM,IAAI,mBAAmB,aAAa,QAAQ,IAAI;YACxD;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,oBAAoB;gBACvC,MAAM;YACR;YACA,MAAM,IAAI,mBAAmB,aAAa,QAAQ,IAAI;QACxD;IACF;AAEA,sBAAsB;AACtB,IAAI,eAAe,CAAC,SAAS,YAAc,QAAQ,MAAM,MAAM;QAC7D,MAAM,QAAQ,eAAe,CAAC,GAAG;QACjC,KAAK,MAAM,UAAU,QAAS;YAC5B,IAAI;YACJ,IAAI,OAAO,WAAW,UAAU;gBAC9B,iBAAiB,MAAM,mBAAmB;YAC5C,OAAO;gBACL,iBAAiB;YACnB;YACA,IAAI,aAAa,KAAK;YACtB,GAAG;gBACD,MAAM,cAAc,MAAM,eAAe,SAAS,CAAC;oBACjD,QAAQ;gBACV;gBACA,KAAK,MAAM,UAAU,YAAY,KAAK,CAAE;oBACtC,KAAK,CAAC,OAAO,IAAI,CAAC,GAAG;wBACnB,aAAa,OAAO,WAAW;wBAC/B,aAAa,gBAAgB,OAAO,WAAW;wBAC/C,SAAS,CAAC,QAAU,QAAQ,MAAM,MAAM;gCACtC,MAAM,SAAS,MAAM,eAAe,QAAQ,CAAC;oCAC3C,MAAM,OAAO,IAAI;oCACjB,WAAW;gCACb;gCACA,OAAO;4BACT;oBACF;gBACF;gBACA,aAAa,YAAY,UAAU;YACrC,QAAS,WAAY;QACvB;QACA,OAAO;IACT;AAEA,+BAA+B;AAC/B,IAAI,uBAAuB;IACzB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,mCAAmC;AACnC,IAAI,oBAAoB,cAAc;IACpC,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;IACnC;AACF;AACA,IAAI,gCAAgC,cAAc;IAChD,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC,WAAW;IACnB;AACF;AACA,IAAI,qBAAqB,cAAc;IACrC,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;IACR;AACF;AACA,IAAI,uBAAuB,cAAc;IACvC,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;IACR;AACF;AACA,IAAI,6BAA6B,cAAc;IAC7C,aAAc;QACZ,KAAK,CAAC;IACR;AACF;AACA,IAAI,8BAA8B,cAAc;IAC9C,YAAY,OAAO,CAAE;QACnB,KAAK,CAAC;IACR;AACF;AAEA,8BAA8B;AAC9B,IAAI,kBAAkB;IACpB,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAEA,8BAA8B;AAC9B;AACA;AAEA,+BAA+B;AAC/B;AAEA,qCAAqC;AACrC,IAAI;AACJ,IAAI,eAAe,cAAc;IAC/B,YAAY,EAAE,KAAK,EAAE,CAAE;QACrB,KAAK,CAAC,MAAM,OAAO;QACnB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,KAAK,GAAG;IACf;IACA,qBAAqB,EAAE,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,OAAO,EACR;YACC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;YACxC,MAAM,oBAAoB,QAAQ,QAAQ,CAAC,GAAG,CAC5C,CAAC;gBACC,IAAI,MAAM,OAAO,CAAC,QAAQ,OAAO,GAAG;oBAClC,IAAI,QAAQ,IAAI,KAAK,UAAU;wBAC7B,MAAM,gBAAgB;4BACpB,MAAM;4BACN,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,UAAU,IAAI,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC;wBACtE;wBACA,OAAO;oBACT;oBACA,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;wBACxC,IAAI,eAAe,SAAS;4BAC1B,MAAM,eAAe;gCACnB,MAAM;gCACN,OAAO,QAAQ,SAAS,CAAC,GAAG;4BAC9B;4BACA,OAAO;wBACT,OAAO;4BACL,MAAM,cAAc;gCAClB,MAAM;gCACN,MAAM,QAAQ,IAAI;4BACpB;4BACA,OAAO;wBACT;oBACF;oBACA,IAAI,QAAQ,IAAI,KAAK,QAAQ;wBAC3B,MAAM,cAAc;4BAClB,MAAM;4BACN,SAAS;wBACX;wBACA,OAAO;oBACT,OAAO;wBACL,MAAM,gBAAgB,aAAa,GAAG,CAAC,CAAC,OAAS,CAAC;gCAChD,MAAM;gCACN,MAAM,KAAK,IAAI,KAAK,UAAU,YAAY,KAAK,IAAI;4BACrD,CAAC;wBACD,MAAM,mBAAmB;4BACvB,MAAM;4BACN,SAAS;wBACX;wBACA,OAAO;oBACT;gBACF;gBACA,OAAO;oBACL,MAAM,QAAQ,IAAI;oBAClB,SAAS,QAAQ,OAAO;gBAC1B;YACF;YAEF,IAAI,QAAQ,cAAc,EAAE;gBAC1B,MAAM,YAAY,MAAM,CAAC,GAAG,YAAY,cAAc,EAAE;oBACtD,OAAO,IAAI,CAAC,KAAK;oBACjB,UAAU;oBACV,QAAQ,QAAQ,cAAc,CAAC,MAAM;gBACvC;gBACA,OAAO;oBACL,MAAM,UAAU,MAAM;oBACtB,OAAO;wBACL,eAAe,CAAC,KAAK,UAAU,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;wBACjE,mBAAmB,CAAC,KAAK,UAAU,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK;wBACtE,kBAAkB,CAAC,KAAK,UAAU,KAAK,CAAC,eAAe,KAAK,OAAO,KAAK;wBACxE,qBAAqB,CAAC,KAAK,UAAU,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK;wBAC7E,cAAc,CAAC,KAAK,UAAU,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;oBAClE;gBACF;YACF;YACA,MAAM,QAAQ,CAAC;YACf,KAAK,MAAM,WAAW,QAAQ,KAAK,CAAE;gBACnC,KAAK,CAAC,QAAQ,IAAI,CAAC,GAAG;oBACpB,aAAa,QAAQ,WAAW;oBAChC,aAAa,QAAQ,UAAU;gBACjC;YACF;YACA,MAAM,WAAW,MAAM,CAAC,GAAG,YAAY,YAAY,EAAE;gBACnD,OAAO,IAAI,CAAC,KAAK;gBACjB,UAAU;gBACV;YACF;YACA,OAAO;gBACL,MAAM,SAAS,IAAI;gBACnB,OAAO;oBACL,eAAe,CAAC,KAAK,SAAS,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;oBAChE,mBAAmB,CAAC,KAAK,SAAS,KAAK,CAAC,YAAY,KAAK,OAAO,KAAK;oBACrE,kBAAkB,CAAC,KAAK,SAAS,KAAK,CAAC,eAAe,KAAK,OAAO,KAAK;oBACvE,qBAAqB,CAAC,KAAK,SAAS,KAAK,CAAC,iBAAiB,KAAK,OAAO,KAAK;oBAC5E,cAAc,CAAC,KAAK,SAAS,KAAK,CAAC,WAAW,KAAK,OAAO,KAAK;gBACjE;YACF;QACF;IACF;AACF;AAEA,+BAA+B;AAC/B;AAEA,2BAA2B;AAC3B,IAAI,YAAY;AAChB,IAAI,gBAAgB,MAAM;IACxB,YAAY,EAAE,CAAE;QACd,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,QAAQ,GAAG,aAAa,GAAG,IAAI;QACpC,IAAI,CAAC,aAAa,GAAG,aAAa,GAAG,IAAI;QACzC,IAAI,CAAC,QAAQ,GAAG,aAAa,GAAG,IAAI;QACpC,IAAI,CAAC,EAAE,GAAG;QACV,OAAO;QACP,IAAI,CAAC,sBAAsB,GAAG,aAAa,GAAG,IAAI;QAClD,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM;YACzB,MAAM,MAAM,CAAC,kBAAkB,EAAE,KAAK,QAAQ,EAAE,OAAO,UAAU,KAAK;YACtE,IAAI,CAAC,mBAAmB,CAAC;QAC3B;QACA,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC;YACnB,IAAI;YACJ,MAAM,MAAM,CAAC,aAAa,EAAE,CAAC,KAAK,OAAO,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM;YAClG,IAAI,CAAC,mBAAmB,CAAC;QAC3B;QACA,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,OAAS,IAAI,CAAC,SAAS,CAAC,KAAK,QAAQ;IAC9D;IACA,kBAAkB,OAAO,EAAE;QACzB,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC;IAClC;IACA,mBAAmB,OAAO,EAAE;QAC1B,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;IACrC;IACA,oBAAoB,GAAG,EAAE;QACvB,KAAK,MAAM,KAAK,IAAI,CAAC,sBAAsB,CAAE;YAC3C,IAAI;gBACF,EAAE;YACJ,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,OAAO,QAAQ,KAAK,EAAE;QACpB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,KAAK,IAAI,UAAU,OAAO,CAAC;YACjC,MAAM,IAAI,QAAQ,CAAC,UAAU;gBAC3B,GAAG,IAAI,CAAC,QAAQ,IAAM;gBACtB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAM,OAAO;YACjC;YACA,OAAO,IAAI,eAAe;QAC5B;IACF;IACA,mBAAmB;QACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,IAAI,CAAC,IAAI,CAAC,wBAAwB;gBACtC,YAAY;gBACZ,SAAS;gBACT,wBAAwB;gBACxB,QAAQ;oBACN;wBAAE,MAAM;wBAAU,SAAS;oBAAK;oBAChC;wBAAE,MAAM;wBAAiB,SAAS;oBAAK;oBACvC;wBAAE,MAAM;wBAAkB,SAAS;oBAAK;iBACzC;YACH;YACA,MAAM,IAAI,CAAC,IAAI,CAAC,6BAA6B;gBAAE,UAAU;YAAK;QAChE;IACF;IACA,KAAK,MAAM,EAAE,MAAM,EAAE;QACnB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,KAAK,IAAI,CAAC,MAAM;YACtB,MAAM,UAAU;gBAAE;gBAAI;gBAAQ;YAAO;YACrC,MAAM,QAAQ,CAAC,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;YAC1F,MAAM,IAAI,IAAI,QAAQ,CAAC,UAAU;gBAC/B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI;oBACpB,SAAS;oBACT;oBACA,WAAW;oBACX;oBACA;oBACA;oBACA,IAAI,KAAK,GAAG;gBACd;YACF;YACA,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;YAC5B,OAAO;QACT;IACF;IACA,GAAG,KAAK,EAAE,OAAO,EAAE;QACjB,IAAI;QACJ,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;QACpF,IAAI,GAAG,CAAC;QACR,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO;IAChC;IACA,IAAI,KAAK,EAAE,OAAO,EAAE;QAClB,MAAM,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACnC,IAAI,KAAK,IAAI,MAAM,CAAC;IACtB;IACA,QAAQ;QACN,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,IAAI,QAAQ,CAAC;gBACjB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,IAAM;gBAC5B,IAAI,CAAC,EAAE,CAAC,KAAK;YACf;QACF;IACF;IACA,WAAW,SAAS,EAAE;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;IAC3B;IACA,eAAe,QAAQ,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,CAAC,IAAI,CACnC,yBACA;gBAAE;gBAAU,SAAS;YAAK;YAE5B,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAChC,IAAI,CAAC,SAAS;gBACZ,UAAU,IAAI,WAAW,IAAI,EAAE;gBAC/B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW;YAC/B;YACA,OAAO;QACT;IACF;IACA,aAAa;QACX,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,MAAM,MAAM,IAAI,CAAC,IAAI,CAAC;YAC5B,OAAO,IAAI,WAAW;QACxB;IACF;IACA,UAAU,IAAI,EAAE;QACd,MAAM,MAAM,KAAK,KAAK,CAAC;QACvB,IAAI,QAAQ,KAAK;YACf,MAAM,MAAM,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE;YACpC,IAAI,CAAC,KAAK;YACV,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE;YAC3B,IAAI,WAAW,OAAO,IAAI,KAAK,EAAE;gBAC/B,IAAI,MAAM,CAAC,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,OAAO,EAAE;YAC/D,OAAO;gBACL,IAAI,OAAO,CAAC,IAAI,MAAM;YACxB;YACA;QACF;QACA,IAAI,YAAY,KAAK;YACnB,IAAI,IAAI,MAAM,KAAK,2BAA2B;gBAC5C,MAAM,IAAI,IAAI,MAAM;gBACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,SAAS,GAAG;oBACnC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,IAAI,WAAW,IAAI,EAAE,EAAE,SAAS;gBACjE;YACF,OAAO,IAAI,IAAI,MAAM,KAAK,6BAA6B;gBACrD,MAAM,IAAI,IAAI,MAAM;gBACpB,KAAK,MAAM,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAI;oBACjD,IAAI,MAAM,SAAS,KAAK,EAAE,SAAS,EAAE;wBACnC,MAAM,MAAM,CAAC,IAAI,MAAM;wBACvB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACvB;gBACF;gBACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,SAAS;YAClC;YACA,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG;YACtC,IAAI,WAAW;gBACb,MAAM,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gBAClC,WAAW,OAAO,KAAK,IAAI,QAAQ,QAAQ,CAAC,QAAQ;YACtD,OAAO;gBACL,MAAM,WAAW,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;gBACxC,IAAI,UAAU,KAAK,MAAM,KAAK,SAAU,EAAE;YAC5C;QACF;IACF;IACA,gBAAgB,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;QACzC,IAAI;QACJ,MAAM,KAAK,IAAI,CAAC,MAAM;QACtB,MAAM,UAAU;YAAE;YAAI;YAAQ;YAAQ;QAAU;QAChD,MAAM,QAAQ,CAAC,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QAC1F,MAAM,IAAI,IAAI,QAAQ,CAAC,UAAU;YAC/B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI;gBACpB,SAAS;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA,IAAI,KAAK,GAAG;YACd;QACF;QACA,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;QAC5B,OAAO;IACT;IACA,gBAAgB,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE;QACzC,IAAI;QACJ,MAAM,MAAM,GAAG,UAAU,CAAC,EAAE,OAAO;QACnC,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK,aAAa,GAAG,IAAI;QAClF,IAAI,GAAG,CAAC;QACR,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK;IAC9B;IACA,iBAAiB,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE;QAC1C,MAAM,MAAM,GAAG,UAAU,CAAC,EAAE,OAAO;QACnC,MAAM,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACnC,IAAI,KAAK,IAAI,MAAM,CAAC;IACtB;IACA,mBAAmB,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE;QAC3C,MAAM,MAAM,GAAG,UAAU,CAAC,EAAE,OAAO;QACnC,MAAM,WAAW,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACxC,IAAI,UAAU,KAAK,MAAM,KAAK,SAAU,EAAE;IAC5C;AACF;AACA,IAAI,aAAa;IACf,YAAY,IAAI,EAAE,EAAE,CAAE;QACpB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,EAAE,GAAG;IACZ;IACA,KAAK,MAAM,EAAE,MAAM,EAAE;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ;IACpD;IACA,GAAG,KAAK,EAAE,OAAO,EAAE;QACjB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO;IAC5C;IACA,IAAI,KAAK,EAAE,OAAO,EAAE;QAClB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO;IAC7C;IACA,QAAQ;QACN,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B;gBAC9C,WAAW,IAAI,CAAC,EAAE;YACpB;QACF;IACF;IACA,SAAS,KAAK,EAAE,MAAM,EAAE;QACtB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO;IAC/C;AACF;AAEA,+BAA+B;AAC/B;AAEA,+BAA+B;AAC/B;AAEA,sCAAsC;AACtC,IAAI,kBAAkB;AAEtB,4CAA4C;AAC5C,IAAI,wBAAwB;AAE5B,+BAA+B;AAC/B,SAAS,4BAA4B,OAAO;IAC1C,OAAO,QAAQ,IAAI,EAAE,MAAM;QACzB,IAAI,IAAI;QACR,MAAM,cAAc,MAAM,QAAQ,IAAI,CAAC,eAAe,IAAI,CAAC,IAAM,MAAM,KAAK,CAAC,IAAM;QACnF,IAAI,CAAC,aAAa,OAAO;QACzB,MAAM,QAAQ,IAAI,CAAC,kBAAkB,KAAK,CAAC,KAC3C;QACA,IAAI;YACF,MAAM,QAAQ,IAAI,CAChB,yCACA;gBAAE,QAAQ;gBAAiB,gBAAgB;YAAK;QAEpD,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,KAAK,CAAC,KAAK,OAAO,KAAK;YAChG,IAAI,IAAI,QAAQ,CAAC,oCAAoC,OAAO;QAC9D;QACA,MAAM,QAAQ,IAAI,CAAC,oBAAoB;YACrC,YAAY;YACZ,eAAe;YACf,cAAc;QAChB,GAAG,KAAK,CAAC,KACT;QACA,MAAM,QAAQ,IAAI,CAAC,oBAAoB;YACrC,YAAY;YACZ,eAAe;YACf,cAAc;QAChB,GAAG,KAAK,CAAC,KACT;QACA,OAAO;IACT;AACF;AAEA,+BAA+B;AAC/B;AACA;AACA,SAAS,eAAe,IAAI;IAC1B,MAAM,KAAK;IACX,OAAO,KAAK,IAAI,KAAK,UAAU,GAAG,OAAO,KAAK;AAChD;AACA,IAAI,YAAY,MAAM;IACpB,YAAY,IAAI,EAAE,MAAM,OAAO,EAAE,YAAY,IAAI,EAAE,4BAA4B,IAAI,CAAE;QACnF,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,yBAAyB,GAAG;QACjC,IAAI,CAAC,iBAAiB,GAAG,aAAa,GAAG,IAAI;QAC7C,8CAA8C;QAC9C,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,YAAY,GAAG,aAAa,GAAG,IAAI;QACxC,IAAI,CAAC,aAAa,GAAG,aAAa,GAAG,IAAI;QACzC,IAAI,CAAC,iBAAiB,GAAG,aAAa,GAAG,IAAI;QAC7C,IAAI,CAAC,gBAAgB,GAAG,aAAa,GAAG,IAAI;QAC5C,IAAI,CAAC,cAAc,GAAG,aAAa,GAAG,IAAI;QAC1C,IAAI,CAAC,uBAAuB,GAAG,aAAa,GAAG,IAAI;QACnD,IAAI,CAAC,iBAAiB,GAAG,aAAa,GAAG,IAAI;QAC7C,IAAI,CAAC,YAAY,GAAG,aAAa,GAAG,IAAI;QACxC,IAAI,CAAC,UAAU,GAAG,EAAE;QACpB,IAAI,CAAC,uBAAuB,GAAG,aAAa,GAAG,IAAI;IACrD;IACA,WAAW,OAAO,EAAE;QAClB,IAAI;QACJ,OAAO,CAAC,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK;IAC1C;IACA;;GAEC,GACD,OAAO,OAAO,KAAK,EAAE,IAAI,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI;YACZ,MAAM,OAAO,MAAM,cAAc,OAAO,CAAC;YACzC,MAAM,MAAM,IAAI,WACd,MACA,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,GAAG,KAAK,OAAO,KAAK,SACvD,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,SAAS,KAAK,OAAO,KAAK,MAC7D,CAAC,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,yBAAyB,KAAK,OAAO,KAAK;YAE/E,MAAM,IAAI,SAAS;YACnB,MAAM,IAAI,wBAAwB,CAAC;YACnC,OAAO;QACT;IACF;IACA;;;GAGC,GACD,yBAAyB,SAAS,EAAE;QAClC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,WAAW,KAAK,GAAG,KAAK;YAC9B,MAAO,KAAK,GAAG,KAAK,SAAU;gBAC5B,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,IAAI,CAAC,YAAY,CAAE;oBAC5C,IAAI,UAAU,QAAQ;wBACpB,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;wBACjC,IAAI,GAAG;oBACT;gBACF;gBACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACzC;YACA,MAAM,IAAI,aACR,gDACA;QAEJ;IACF;IACA,8BAA8B,SAAS,EAAE,YAAY,GAAG,EAAE;QACxD,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,UAAU,MAAM,EAAE;YACvB,MAAM,UAAU,IAAI,IAAI;YACxB,MAAM,WAAW,KAAK,GAAG,KAAK;YAC9B,MAAO,QAAQ,IAAI,IAAI,KAAK,GAAG,KAAK,SAAU;gBAC5C,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,SAAU;oBACrC,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM;wBAC/B,QAAQ,MAAM,CAAC;oBACjB;gBACF;gBACA,IAAI,CAAC,QAAQ,IAAI,EAAE;gBACnB,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACzC;YACA,IAAI,QAAQ,IAAI,EAAE;gBAChB,SAAS;oBACP,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,kBAAkB;4BAChB,OAAO,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;4BACjC,MAAM;wBACR;oBACF;gBACF;YACF;QACF;IACF;IACA,cAAc,OAAO,EAAE;QACrB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC;YAC5B,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,OAAO;YAC5C,MAAM,YAAY,MAAM,4BAA4B;YACpD,IAAI,WAAW;gBACb,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;YAC7B;YACA,OAAO;QACT;IACF;IACA,wDAAwD,GACxD,YAAY,GAAG,EAAE;QACf,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;QAClC,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG;QACxC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;IACvB;IACA,gEAAgE,GAChE,iBAAiB,GAAG,EAAE;QACpB,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;QAClC,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG;IAC1C;IACA,yEAAyE,GACzE,aAAa;QACX,IAAI;QACJ,IAAK,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;YACpD,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,EAAE;YAC9B,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;YACjC,IAAI,GAAG,OAAO;YACd,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG;QAC5B;QACA,IAAI;QACJ,IAAI,WAAW,CAAC;QAChB,KAAK,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAE;YACtC,MAAM,KAAK,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK;YACjE,IAAI,KAAK,UAAU;gBACjB,WAAW;gBACX,YAAY;YACd;QACF;QACA,OAAO,YAAY,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,KAAK;IAC9D;IACA,gFAAgF,GAChF,cAAc,IAAI,EAAE;QAClB,IAAI,WAAW,KAAK,QAAQ;QAC5B,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,MAAM;YAC7C,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;YACvC,IAAI,CAAC,QAAQ;gBACX,SAAS;oBACP,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBACT,UAAU;4BAAE,OAAO,OAAO;4BAAW,MAAM;wBAAS;oBACtD;gBACF;gBACA;YACF;YACA,WAAW;QACb;QACA,IAAI,CAAC,WAAW,CAAC;QACjB,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,yBAAyB;YAAE;QAAS,GAAG,KAAK,CAAC,KACjE;IACF;IACA;;GAEC,GACD,QAAQ;QACN,IAAI;QACJ,MAAM,OAAO,EAAE;QACf,KAAK,MAAM,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,aAAa,CAAE;YAC5C,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,QAAQ;gBACzC,KAAK,IAAI,CAAC;oBAAE;oBAAK;oBAAM,SAAS,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK;gBAAE;YAC1F;QACF;QACA,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,OAAO,GAAG,EAAE,OAAO;QACzC,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;IAC/B;IACA;;;GAGC,GACD,yBAAyB,OAAO,EAAE;QAChC,MAAM,WAAW,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;QAC5C,OAAO,WAAW,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,YAAY,KAAK;IAC5D;IACA;;GAEC,GACD,8BAA8B,eAAe,EAAE;QAC7C,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,QAAQ,IAAI,CAAC,wBAAwB,CAAC;YAC5C,IAAI,CAAC,OAAO,MAAM,IAAI,kBAAkB,CAAC,YAAY,EAAE,iBAAiB;YACxE,OAAO,MAAM,mBAAmB,CAAC;QACnC;IACF;IACA;;;GAGC,GACD,QAAQ,MAAM,aAAa,EAAE;QAC3B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CACvC,uBACA;gBAAE;YAAI;YAER,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,UAAU;YAC3C,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,yBAAyB;gBAAE;YAAS,GAAG,KAAK,CAAC,KAClE;YACA,MAAM,WAAW,KAAK,GAAG,KAAK;YAC9B,MAAO,KAAK,GAAG,KAAK,SAAU;gBAC5B,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;gBACpC,IAAI,MAAM,OAAO;gBACjB,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACzC;YACA,MAAM,IAAI,aAAa,CAAC,8BAA8B,EAAE,SAAS,CAAC,CAAC,EAAE;QACvE;IACF;IACA;;GAEC,GACD,QAAQ;QACN,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK;YACrB,IAAI,CAAC,aAAa,CAAC,KAAK;YACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK;YAC5B,IAAI,CAAC,gBAAgB,CAAC,KAAK;YAC3B,IAAI,CAAC,cAAc,CAAC,KAAK;YACzB,IAAI,CAAC,uBAAuB,CAAC,KAAK;YAClC,IAAI,CAAC,iBAAiB,CAAC,KAAK;YAC5B,IAAI,CAAC,YAAY,CAAC,KAAK;YACvB,IAAI,CAAC,uBAAuB,CAAC,KAAK;QACpC;IACF;IACA;;;;;;GAMC,GACD,YAAY;QACV,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,EAAE,CACV,2BACA,CAAC,MAAQ,QAAQ,IAAI,EAAE,MAAM;oBAC3B,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,UAAU,EAAE,IAAI,SAAS;gBAC7D;YAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CACV,6BACA,CAAC;gBACC,IAAI;gBACJ,IAAI,CAAC,oBAAoB,CAAC,IAAI,SAAS,EAAE,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK;YAC9E;YAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CACV,0BACA,CAAC;gBACC,IAAI,CAAC,eAAe,CAAC,IAAI,QAAQ;YACnC;YAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CACV,wBACA,CAAC,MAAQ,QAAQ,IAAI,EAAE,MAAM;oBAC3B,MAAM,OAAO,IAAI,UAAU;oBAC3B,IAAI,KAAK,IAAI,KAAK,YAAY,KAAK,IAAI,KAAK,oBAAoB,KAAK,IAAI,KAAK,iBAAiB;wBAC7F;oBACF;oBACA,MAAM,KAAK;oBACX,IAAI,KAAK,IAAI,KAAK,UAAU,CAAC,CAAC,MAAM,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,CAAC,MAAM,OAAO,KAAK,IAAI,GAAG,aAAa,CAAC,GAAG;wBAC7G,IAAI,CAAC,gBAAgB;oBACvB;oBACA,IAAI;wBACF,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,QAAQ;oBAC9C,EAAE,OAAO,GAAG,CACZ;gBACF;YAEF,MAAM,IAAI,CAAC,IAAI,CAAC,gBAAgB;YAChC,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU;YAC1C,KAAK,MAAM,KAAK,QAAS;gBACvB,IAAI;oBACF,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,QAAQ;gBAC3C,EAAE,OAAO,GAAG,CACZ;YACF;YACA,MAAM,oBAAoB,QAAQ,MAAM,CAAC,CAAC,IAAM,eAAe,IAAI,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ;YACxF,MAAM,IAAI,CAAC,6BAA6B,CAAC;QAC3C;IACF;IACA;;;;;;;GAOC,GACD,mBAAmB,IAAI,EAAE,SAAS,EAAE;QAClC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACrC,IAAI,CAAC,SAAS;YACd,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY;YACtC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;YACtB,MAAM,QAAQ,IAAI,CAAC,mCAAmC,KAAK,CAAC,KAC5D;YACA,kBAAkB,aAAa,CAAC;YAChC,MAAM,eAAe,MAAM,IAAI,CAAC,aAAa,CAAC;YAC9C,IAAI,CAAC,cAAc;YACnB,MAAM,QAAQ,IAAI,CAAC,kCAAkC;gBAAE,SAAS;YAAK,GAAG,KAAK,CAAC,KAC9E;YACA,IAAI,eAAe,OAAO;gBACxB,MAAM,OAAO,MAAM,KAAK,MAAM,CAC5B,IAAI,CAAC,IAAI,EACT,SACA,KAAK,QAAQ,EACb,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,yBAAyB,EAC9B,IAAI,CAAC,GAAG,KAAK;gBAEf,IAAI,CAAC,sBAAsB,CAAC,WAAW;gBACvC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;gBACtC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,WAAW,IAAI,KAAK,QAAQ;gBAC5D,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW;gBACrC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,WAAW,IAAI;gBAC5C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;gBACrC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,QAAQ,GAAG;oBAC9C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE,KAAK,GAAG;gBACpD;gBACA,MAAM,iBAAiB,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,KAAK,QAAQ;gBACrE,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,KAAK,QAAQ;gBACjD,KAAK,cAAc,CAAC,CAAC,KAAK,kBAAkB,OAAO,iBAAiB,KAAK,GAAG,KAAK,OAAO,KAAK;gBAC7F,IAAI,CAAC,WAAW,CAAC,KAAK,QAAQ;gBAC9B,IAAI,CAAC,wBAAwB,CAAC,WAAW;gBACzC;YACF;YACA,IAAI;gBACF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI,CACtC;gBAEF,MAAM,cAAc,UAAU,KAAK,CAAC,EAAE;gBACtC,IAAI,QAAQ,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;gBACpC,IAAI,CAAC,OAAO;oBACV,KAAK,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM,GAAI;wBAC3C,MAAM,OAAO,EAAE,mBAAmB,CAAC,EAAE,WAAW;wBAChD,MAAM,MAAM,SAAS,KAAK,CAAC;4BACzB,IAAI;4BACJ,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,aAAa,OAAO;4BACvC,KAAK,MAAM,KAAK,CAAC,MAAM,EAAE,WAAW,KAAK,OAAO,MAAM,EAAE,CAAE,IAAI,KAAK,IAAI,OAAO;4BAC9E,OAAO;wBACT,EAAE;wBACF,IAAI,KAAK;4BACP,QAAQ;4BACR;wBACF;oBACF;gBACF;gBACA,IAAI,OAAO;oBACT,MAAM,iBAAiB,CAAC,SAAS;oBACjC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW;oBACrC,IAAI,CAAC,wBAAwB,CAAC,WAAW;oBACzC,KAAK,kBAAkB,gBAAgB,CAAC,SAAS,aAAa,KAAK,CAAC,KACpE;gBACF,OAAO;oBACL,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,aAAa;gBAChD;YACF,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA;;;;;GAKC,GACD,qBAAqB,SAAS,EAAE,QAAQ,EAAE;QACxC,MAAM,QAAQ,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QACxC,IAAI,OAAO;YACT,MAAM,kBAAkB,CAAC;YACzB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC/B;QACA,IAAI,YAAY,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW;YAChD,IAAI,CAAC,eAAe,CAAC;QACvB;QACA,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,MAAM,IAAI,CACjC,IAAI,CAAC,uBAAuB,CAAC,OAAO,IACnC;YACD,IAAI,QAAQ,WAAW,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;QAC7D;IACF;IACA;;GAEC,GACD,gBAAgB,QAAQ,EAAE;QACxB,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACpC,IAAI,CAAC,MAAM;QACX,MAAM,SAAS,KAAK,WAAW;QAC/B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;QAC3B,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,IAAK;YAClE,IAAI,MAAM,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC/C;QACA,KAAK,MAAM,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,OAAO,IAAK;YACtE,MAAM,QAAQ,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;YACtC,IAAI,CAAC,SAAS,UAAU,MAAM,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;QACpE;QACA,IAAI,CAAC,gBAAgB,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACzB,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;IACtC;IACA;;;GAGC,GACD,yBAAyB,SAAS,EAAE,KAAK,EAAE;QACzC,MAAM,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;QACrC,IAAI,CAAC,SAAS;QACd,QAAQ,EAAE,CACR,sBACA,CAAC;YACC,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,GAAG;YACnC,MAAM,eAAe,CAAC,SAAS,iBAAiB,OAAO,gBAAgB,MAAM;YAC7E,MAAM,wBAAwB,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC;YAC/D,IAAI,uBAAuB;gBACzB,MAAM,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;gBACnC,IAAI,OAAO;oBACT,MAAM,iBAAiB,CAAC,OAAO;oBAC/B,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE;oBACpC,IAAI,CAAC,wBAAwB,CAAC,uBAAuB;gBACvD;gBACA,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;YACtC;YACA,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS;YACjC,IAAI,CAAC,eAAe;gBAClB,MAAM,UAAU,MAAM,WAAW;gBACjC,MAAM,cAAc,IAAI,CAAC,kBAAkB,CAAC;gBAC5C,IAAI,aAAa;oBACf,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,SAAS;gBACtC;gBACA,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS;YACnC;QACF;QAEF,QAAQ,EAAE,CACR,sBACA,CAAC;YACC,IAAI;YACJ,MAAM,eAAe,CAAC,IAAI,OAAO,EAAE,CAAC,KAAK,IAAI,MAAM,KAAK,OAAO,KAAK;YACpE,IAAI,IAAI,MAAM,KAAK,QAAQ;gBACzB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,OAAO;YACxC;QACF;QAEF,QAAQ,EAAE,CACR,uBACA,CAAC;YACC,MAAM,gBAAgB,CAAC,IAAI,KAAK,EAAE;QACpC;QAEF,QAAQ,EAAE,CACR,gCACA,CAAC;YACC,MAAM,yBAAyB,CAAC,IAAI,OAAO,EAAE,IAAI,GAAG,EAAE;QACxD;QAEF,QAAQ,EAAE,CAAC,mBAAmB;YAC5B,IAAI,CAAC,gBAAgB;QACvB;IACF;IACA;;GAEC,GACD,uBAAuB,SAAS,EAAE,KAAK,EAAE;QACvC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW;IACvC;IACA;;GAEC,GACD,mBAAmB,IAAI,EAAE;QACvB,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,aAAa,CAAE;YACzC,IAAI,MAAM,MAAM,OAAO;QACzB;QACA,OAAO,KAAK;IACd;IACA,mBAAmB;QACjB,IAAI,CAAC,kBAAkB,GAAG,KAAK,GAAG;IACpC;IACA;;;GAGC,GACD,gBAAgB,SAAS,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,iBAAiB,IAAI,CAAC,GAAG,KAAK,gBAAgB,MAAM;YAC1D,YAAY,aAAa,OAAO,YAAY;YAC5C,MAAM,iBAAiB,IAAI,CAAC,GAAG,KAAK,gBAAgB,MAAM;YAC1D,MAAM,OAAO,KAAK,GAAG;YACrB,MAAM,iBAAiB,OAAO,IAAI,CAAC,kBAAkB,IAAI;YACzD,MAAM,YAAY,IAAI,CAAC,UAAU;YACjC,IAAI,CAAC,kBAAkB,WAAW,OAAO;YACzC,MAAM,WAAW,OAAO;YACxB,MAAO,KAAK,GAAG,KAAK,SAAU;gBAC5B,IAAI;gBACJ,IAAI,WAAW,CAAC;gBAChB,KAAK,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAE;oBACtC,MAAM,KAAK,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,KAAK,OAAO,KAAK;oBACjE,IAAI,KAAK,UAAU;wBACjB,WAAW;wBACX,YAAY;oBACd;gBACF;gBACA,IAAI,WAAW;oBACb,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;oBACjC,IAAI,KAAK,YAAY,IAAI,CAAC,kBAAkB,EAAE,OAAO;gBACvD;gBACA,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACzC;YACA,IAAI,WAAW,OAAO;YACtB,MAAM,IAAI,kBAAkB;QAC9B;IACF;AACF;AAEA,oBAAoB;AACpB,SAAS,eAAe,KAAK;IAC3B,MAAM,kBAAkB,MAAM,OAAO,CAAC;IACtC,MAAM,WAAW,MAAM,SAAS,CAAC,GAAG;IACpC,MAAM,YAAY,MAAM,SAAS,CAAC,kBAAkB;IACpD,OAAO;QAAE;QAAU;IAAU;AAC/B;AACA,SAAS,aAAa,KAAK;IACzB,MAAM,cAAc,OAAO,UAAU,WAAW,QAAQ,MAAM,SAAS;IACvE,MAAM,gBAAgB,OAAO,UAAU,WAAW,CAAC,IAAI,CAAC;QACtD,MAAM,KAAK,OAAO,EAAE,WAAW,CAAC,EAAE,GAAG,IAAI,OAAO,UAAU,IAAI;YAAC;SAAY;QAC3E,OAAO;IACT,CAAC;IACD,MAAM,EAAE,QAAQ,EAAE,WAAW,eAAe,EAAE,GAAG,eAAe;IAChE,MAAM,QAAQ,qBAAqB,QAAQ,CAAC;IAC5C,OAAO;QACL;QACA,WAAW;QACX;QACA;IACF;AACF;AAEA,gBAAgB;AAChB,IAAI,sBAAsB;AAC1B,IAAI,6BAA6B;AACjC;AACA,IAAI,qBAAqB;IACvB,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,CAAE;QACzC,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,oBAAoB,OAAO,EAAE;IAC3D;IACA,KAAK,EAAE,EAAE;QACP,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,SAAS,EACT,WAAW,EACX,kBAAkB,EAClB,OAAO,EACP,YAAY,EACZ,QAAQ,EACR,8BAA8B,EAC9B,oBAAoB,EACrB;YACC,IAAI;YACJ,IAAI,CAAC,aAAa;gBAChB,MAAM,IAAI,kBAAkB;YAC9B;YACA,IAAI,CAAC,WAAW,GAAG;YACnB,MAAM,SAAS,kCAAkC,OAAO,KAAK,IAAI,+BAA+B,MAAM;YACtG,IAAI,UAAU,WAAW,aAAa;gBACpC,OAAO;oBAAE,WAAW,wBAAwB,OAAO,uBAAuB;oBAAM,WAAW;gBAAM;YACnG;YACA,IAAI,CAAC,MAAM,CAAC;gBACV,UAAU;gBACV,SAAS;gBACT,OAAO;YACT;YACA,MAAM,kBAAkB,MAAM,IAAI,CAAC,OAAO,CAAC,mBAAmB;gBAC5D,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;gBACF;YACF;YACA,IAAI,gBAAgB,MAAM,KAAK,KAAK;gBAClC,MAAM,IAAI,8BACR;YAEJ,OAAO,IAAI,gBAAgB,MAAM,KAAK,KAAK;gBACzC,MAAM,YAAY,MAAM,gBAAgB,IAAI;gBAC5C,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,WAAW,EAAE,gBAAgB,MAAM,CAAC,GAAG,EAAE,WAAW;oBAC9D,OAAO;gBACT;gBACA,MAAM,IAAI,mBAAmB,CAAC,eAAe,EAAE,gBAAgB,MAAM,EAAE;YACzE;YACA,MAAM,sBAAsB,MAAM,gBAAgB,IAAI;YACtD,IAAI,oBAAoB,OAAO,KAAK,OAAO;gBACzC,MAAM,IAAI,kBAAkB,oBAAoB,OAAO;YACzD;YACA,IAAI,CAAC,SAAS,GAAG,oBAAoB,IAAI,CAAC,SAAS;YACnD,IAAI,CAAC,CAAC,CAAC,KAAK,oBAAoB,IAAI,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,sBAAsB;gBAC9F,oBAAoB,IAAI,CAAC,SAAS,GAAG;YACvC;YACA,OAAO,oBAAoB,IAAI;QACjC;IACF;IACA,IAAI,EAAE,EAAE;QACN,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;YACpE,MAAM,OAAO;gBACX;gBACA;YACF;YACA,IAAI,SAAS;gBACX,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC,EAAE,GAAG,IAAI,cAAc,UAAU,IAAI;oBAAC;iBAAO;gBAC1E,IAAI,OAAO,IAAI,CAAC,aAAa,MAAM,GAAG,GAAG;oBACvC,KAAK,OAAO,GAAG;gBACjB;YACF;YACA,OAAO,IAAI,CAAC,OAAO,CAAC;gBAClB,QAAQ;gBACR;YACF;QACF;IACF;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,WAAW,EACX,QAAQ,UAAU,EAClB,OAAO,EACP,OAAO,EACR;YACC,MAAM,cAAc,aAAa,CAAC,GAAG,2BAA2B,OAAO,EAAE,cAAc,KAAK;YAC5F,MAAM,OAAO;gBACX,QAAQ;gBACR;gBACA;YACF;YACA,IAAI,SAAS;gBACX,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC,EAAE,GAAG,IAAI,cAAc,UAAU,IAAI;oBAAC;iBAAO;gBAC1E,IAAI,OAAO,IAAI,CAAC,aAAa,MAAM,GAAG,GAAG;oBACvC,KAAK,OAAO,GAAG;gBACjB;YACF;YACA,OAAO,IAAI,CAAC,OAAO,CAAC;gBAClB,QAAQ;gBACR;YACF;QACF;IACF;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,WAAW,EACX,OAAO,EACP,OAAO,EACR;YACC,MAAM,OAAO;gBACX;gBACA;YACF;YACA,IAAI,SAAS;gBACX,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC,EAAE,GAAG,IAAI,cAAc,UAAU,IAAI;oBAAC;iBAAO;gBAC1E,IAAI,OAAO,IAAI,CAAC,aAAa,MAAM,GAAG,GAAG;oBACvC,KAAK,OAAO,GAAG;gBACjB;YACF;YACA,OAAO,IAAI,CAAC,OAAO,CAAC;gBAClB,QAAQ;gBACR;YACF;QACF;IACF;IACA,KAAK,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE;QAC1B,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAO,IAAI,CAAC,OAAO,CAAC;gBAClB,QAAQ;gBACR,MAAM;oBAAE;oBAAK;oBAAS;gBAAQ;YAChC;QACF;IACF;IACA,aAAa,WAAW,EAAE,cAAc,EAAE,OAAO,EAAE;QACjD,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,YAAY,YAAY,IAAI,YAAY,YAAY,CAAC,MAAM,GAAG,GAAG;gBACnE,MAAM,IAAI,+BAA+B;YAC3C;YACA,IAAI,OAAO,mBAAmB,UAAU;gBACtC,IAAI,eAAe,IAAI,EAAE;oBACvB,MAAM,KAAK,gBAAgB,EAAE,MAAM,CAAC,EAAE,GAAG,IAAI,cAAc,UAAU,IAAI;wBAAC;qBAAO;oBACjF,iBAAiB;gBACnB;YACF;YACA,OAAO,IAAI,CAAC,OAAO,CAAC;gBAClB,QAAQ;gBACR,MAAM;oBAAE;oBAAa;oBAAgB;gBAAQ;YAC/C;QACF;IACF;IACA,MAAM;QACJ,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC7C,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK;gBACvC,QAAQ;YACV;YACA,OAAO;QACT;IACF;IACA,mBAAmB;QACjB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnB,MAAM,IAAI,kBAAkB;YAC9B;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;gBACxE,QAAQ;YACV;YACA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,gCAAgC,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,WAAW;oBAC3E,OAAO;gBACT;gBACA,MAAM,IAAI,mBACR,CAAC,oCAAoC,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,WAAW;YAE1E;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,CAAC,KAAK,OAAO,EAAE;gBACjB,MAAM,IAAI,kBACR,CAAC,yBAAyB,EAAE,KAAK,KAAK,IAAI,iBAAiB;YAE/D;YACA,MAAM,UAAU,KAAK,IAAI,IAAI,CAAC;YAC9B,MAAM,UAAU;gBACd,iBAAiB;gBACjB,qBAAqB;gBACrB,oBAAoB;gBACpB,sBAAsB;gBACtB,oBAAoB;gBACpB,qBAAqB;gBACrB,yBAAyB;gBACzB,wBAAwB;gBACxB,0BAA0B;gBAC1B,wBAAwB;gBACxB,qBAAqB;gBACrB,yBAAyB;gBACzB,wBAAwB;gBACxB,0BAA0B;gBAC1B,wBAAwB;gBACxB,mBAAmB;gBACnB,uBAAuB;gBACvB,sBAAsB;gBACtB,wBAAwB;gBACxB,sBAAsB;gBACtB,mBAAmB;gBACnB,uBAAuB;gBACvB,sBAAsB;gBACtB,wBAAwB;gBACxB,sBAAsB;YACxB;YACA,MAAM,QAAQ,QAAQ,KAAK,IAAI,EAAE;YACjC,KAAK,MAAM,QAAQ,MAAO;gBACxB,MAAM,UAAU,KAAK,OAAO,IAAI,EAAE;gBAClC,KAAK,MAAM,UAAU,QAAS;oBAC5B,MAAM,SAAS,CAAC,OAAO,MAAM,IAAI,EAAE,EAAE,WAAW;oBAChD,MAAM,aAAa,OAAO,UAAU;oBACpC,IAAI,YAAY;wBACd,MAAM,cAAc,WAAW,WAAW,IAAI;wBAC9C,MAAM,eAAe,WAAW,YAAY,IAAI;wBAChD,MAAM,kBAAkB,WAAW,eAAe,IAAI;wBACtD,MAAM,oBAAoB,WAAW,iBAAiB,IAAI;wBAC1D,MAAM,SAAS,WAAW,MAAM,IAAI;wBACpC,IAAI,WAAW,OAAO;4BACpB,QAAQ,eAAe,IAAI;4BAC3B,QAAQ,mBAAmB,IAAI;4BAC/B,QAAQ,kBAAkB,IAAI;4BAC9B,QAAQ,oBAAoB,IAAI;4BAChC,QAAQ,kBAAkB,IAAI;wBAChC,OAAO,IAAI,WAAW,WAAW;4BAC/B,QAAQ,mBAAmB,IAAI;4BAC/B,QAAQ,uBAAuB,IAAI;4BACnC,QAAQ,sBAAsB,IAAI;4BAClC,QAAQ,wBAAwB,IAAI;4BACpC,QAAQ,sBAAsB,IAAI;wBACpC,OAAO,IAAI,WAAW,WAAW;4BAC/B,QAAQ,mBAAmB,IAAI;4BAC/B,QAAQ,uBAAuB,IAAI;4BACnC,QAAQ,sBAAsB,IAAI;4BAClC,QAAQ,wBAAwB,IAAI;4BACpC,QAAQ,sBAAsB,IAAI;wBACpC,OAAO,IAAI,WAAW,SAAS;4BAC7B,QAAQ,iBAAiB,IAAI;4BAC7B,QAAQ,qBAAqB,IAAI;4BACjC,QAAQ,oBAAoB,IAAI;4BAChC,QAAQ,sBAAsB,IAAI;4BAClC,QAAQ,oBAAoB,IAAI;wBAClC;wBACA,QAAQ,iBAAiB,IAAI;wBAC7B,QAAQ,qBAAqB,IAAI;wBACjC,QAAQ,oBAAoB,IAAI;wBAChC,QAAQ,sBAAsB,IAAI;wBAClC,QAAQ,oBAAoB,IAAI;oBAClC;gBACF;YACF;YACA,OAAO;QACT;IACF;IACA,QAAQ,EAAE,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,WAAW,UAAW,EACzC,MAAM,EACN,IAAI,EACJ,MAAM,EACP;YACC,MAAM,YAAY,IAAI,gBAAgB;YACtC,MAAM,cAAc,UAAU,QAAQ;YACtC,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG,IAAI;YAC1F,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK;gBACvC,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,mBACR,CAAC,oBAAoB,EAAE,SAAS,MAAM,CAAC,QAAQ,EAAE,WAAW;YAEhE;YACA,IAAI,CAAC,SAAS,IAAI,EAAE;gBAClB,MAAM,IAAI;YACZ;YACA,MAAM,SAAS,SAAS,IAAI,CAAC,SAAS;YACtC,MAAM,UAAU,IAAI;YACpB,IAAI,SAAS;YACb,MAAO,KAAM;gBACX,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,OAAO,IAAI;gBACzC,IAAI,QAAQ,CAAC,QAAQ;oBACnB,MAAM,IAAI,qBACR;gBAEJ;gBACA,UAAU,QAAQ,MAAM,CAAC,OAAO;oBAAE,QAAQ;gBAAK;gBAC/C,MAAM,QAAQ,OAAO,KAAK,CAAC;gBAC3B,SAAS,MAAM,GAAG,MAAM;gBACxB,KAAK,MAAM,QAAQ,MAAO;oBACxB,IAAI,CAAC,KAAK,UAAU,CAAC,WAAW;oBAChC,IAAI;wBACF,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC;wBACxC,IAAI,UAAU,IAAI,KAAK,UAAU;4BAC/B,IAAI,UAAU,IAAI,CAAC,MAAM,KAAK,SAAS;gCACrC,MAAM,IAAI,qBAAqB,UAAU,IAAI,CAAC,KAAK;4BACrD;4BACA,IAAI,UAAU,IAAI,CAAC,MAAM,KAAK,YAAY;gCACxC,OAAO,UAAU,IAAI,CAAC,MAAM;4BAC9B;wBACF,OAAO,IAAI,UAAU,IAAI,KAAK,OAAO;4BACnC,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,CAAC,OAAO;wBACpC;oBACF,EAAE,OAAO,GAAG;wBACV,IAAI,aAAa,sBAAsB;4BACrC,MAAM;wBACR;wBACA,MAAM,eAAe,aAAa,QAAQ,EAAE,OAAO,GAAG,OAAO;wBAC7D,IAAI,CAAC,MAAM,CAAC;4BACV,UAAU;4BACV,SAAS,CAAC,2BAA2B,EAAE,cAAc;4BACrD,OAAO;wBACT;wBACA,MAAM,IAAI,4BACR,CAAC,iCAAiC,EAAE,cAAc;oBAEtD;gBACF;gBACA,IAAI,MAAM;oBACR,IAAI,OAAO,IAAI,MAAM,OAAO,UAAU,CAAC,WAAW;wBAChD,IAAI;4BACF,MAAM,YAAY,KAAK,KAAK,CAAC,OAAO,KAAK,CAAC;4BAC1C,IAAI,UAAU,IAAI,KAAK,YAAY,UAAU,IAAI,CAAC,MAAM,KAAK,YAAY;gCACvE,OAAO,UAAU,IAAI,CAAC,MAAM;4BAC9B;wBACF,EAAE,OAAO,GAAG;4BACV,IAAI,CAAC,MAAM,CAAC;gCACV,UAAU;gCACV,SAAS,CAAC,iCAAiC,EAAE,OAAO,SAAS,CAAC,GAAG,MAAM;gCACvE,OAAO;4BACT;wBACF;oBACF;oBACA,MAAM,IAAI,qBACR;gBAEJ;YACF;QACF;IACF;IACA,QAAQ,KAAK,EAAE,OAAO,EAAE;QACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,iBAAiB;gBACrB,gBAAgB,IAAI,CAAC,MAAM;gBAC3B,mBAAmB,IAAI,CAAC,SAAS;gBACjC,mBAAmB,IAAI,CAAC,SAAS;gBACjC,oDAAoD;gBACpD,qBAAqB;gBACrB,mBAAmB,IAAI,CAAC,WAAW;gBACnC,aAAa,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;gBACrD,cAAc;gBACd,iBAAiB;YACnB;YACA,IAAI,QAAQ,MAAM,KAAK,UAAU,QAAQ,IAAI,EAAE;gBAC7C,cAAc,CAAC,eAAe,GAAG;YACnC;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAC1C,GAAG,CAAC,KAAK,QAAQ,GAAG,CAAC,iBAAiB,KAAK,OAAO,KAAK,6CAA6C,OAAO,EAC3G,cAAc,eAAe,CAAC,GAAG,UAAU;gBACzC,SAAS,eAAe,eAAe,CAAC,GAAG,iBAAiB,QAAQ,OAAO;YAC7E;YAEF,OAAO;QACT;IACF;AACF;AAEA,eAAe;AACf,IAAI,qBAAqB;AACzB,IAAI,mBAAmB;IAAE,OAAO;IAAM,QAAQ;AAAI;AAClD,SAAS,0BAA0B,KAAK;IACtC,IAAI,CAAC,OAAO;QACV,OAAO;YAAE,WAAW;QAAmB;IACzC;IACA,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO;YAAE,WAAW;QAAM;IAC5B;IACA,IAAI,SAAS,OAAO,UAAU,UAAU;QACtC,MAAM,KAAK,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,gBAAgB,UAAU,IAAI;YAAC;SAAY;QACjF,IAAI,CAAC,WAAW;YACd,MAAM,IAAI,8BACR;QAEJ;QACA,OAAO;YACL;YACA;QACF;IACF;IACA,OAAO;QAAE,WAAW;IAAmB;AACzC;AACA,cAAc,OAAO,CAAC,MAAM,CAAC;IAAE,MAAM;AAAO;AAC5C,IAAI,MAAM,MAAM;IACd,YAAY,IAAI,CAAE;QAChB,IAAI,CAAC,KAAK,GAAG;YAAE,MAAM;QAAgB;QACrC,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,kBAAkB,GAAG,aAAa,GAAG,IAAI;QAC9C,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,YAAY,GAAG,CAAC;YACnB,IAAI,CAAC,kBAAkB,CAAC,CAAC,sBAAsB,EAAE,KAAK,EAAE,KAAK,CAAC,KAC9D;QACF;QACA,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,gBAAgB,GAAG;YACtB,iBAAiB;YACjB,qBAAqB;YACrB,oBAAoB;YACpB,sBAAsB;YACtB,oBAAoB;YACpB,qBAAqB;YACrB,yBAAyB;YACzB,wBAAwB;YACxB,0BAA0B;YAC1B,wBAAwB;YACxB,qBAAqB;YACrB,yBAAyB;YACzB,wBAAwB;YACxB,0BAA0B;YAC1B,wBAAwB;YACxB,mBAAmB;YACnB,uBAAuB;YACvB,sBAAsB;YACtB,wBAAwB;YACxB,sBAAsB;YACtB,mBAAmB;YACnB,uBAAuB;YACvB,sBAAsB;YACtB,wBAAwB;YACxB,sBAAsB;QACxB;QACA,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;QAC5B,IAAI,qBAAqB;QACzB,IAAI,CAAC,cAAc,GAAG,KAAK,MAAM;QACjC,IAAI,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,OAAO,KAAK,OAAO,KAAK;QAClD,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,WAAW,MAAM,KAAK,OAAO,KAAK,IAAI,GAAG,UAAU,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM;QAC1L,MAAM,gBAAgB;YACpB,QAAQ;YACR,OAAO;QAET;QACA,IAAI,KAAK,WAAW,KAAK,KAAK,GAAG;YAC/B,cAAc,OAAO,GAAG,CAAC,KAAK,WAAW;QAC3C;QACA,IAAI,CAAC,eAAe,GAAG,IAAI,gBAAgB,eAAe,KAAK,MAAM;QACrE,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO;QAC9C,IAAI;YACF,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,mBAAmB,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc;YACzD,OAAO;gBACL,mBAAmB,IAAI,CAAC,UAAU,EAAE,CAAC;oBACnC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;gBAC3B;YACF;QACF,EAAE,OAAO,GAAG,CACZ;QACA,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,GAAG,0BAA0B,KAAK,KAAK;QACzE,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,YAAY,GAAG,CAAC,KAAK,KAAK,YAAY,KAAK,OAAO,KAAK;QAC5D,IAAI,CAAC,kBAAkB,GAAG,CAAC,KAAK,KAAK,kBAAkB,KAAK,OAAO,KAAK;QACxE,IAAI,CAAC,WAAW,GAAG,IAAI,YAAY,IAAI,CAAC,MAAM;QAC9C,IAAI,CAAC,kBAAkB,GAAG,KAAK,gBAAgB;QAC/C,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,KAAK,UAAU,KAAK,OAAO,KAAK;QACxD,MAAM,oBAAoB,gBAAgB,eAAe,CAAC,GAAG,iBAAiB,CAAC;QAC/E,IAAI,KAAK,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,GAAG,KAAK,SAAS;YAC/B,IAAI,CAAC,kBAAkB,GAAG;YAC1B,IAAI,CAAC,UAAU,GAAG;QACpB,OAAO;YACL,IAAI,SAAS,kBAAkB,MAAM;YACrC,IAAI,CAAC,QAAQ;gBACX,IAAI;oBACF,SAAS,kBACP,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAC5B,6BAA6B;oBAC7B,IAAI,CAAC,MAAM;gBAEf,EAAE,OAAO,OAAO;oBACd,IAAI,CAAC,MAAM,CAAC;wBACV,UAAU;wBACV,SAAS,CAAC,gCAAgC,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,MAAM,gCAAgC,CAAC;wBACtG,OAAO;oBACT;oBACA,MAAM;gBACR;YACF;YACA,IAAI,CAAC,kBAAkB,GAAG,cAAc,eAAe,CAAC,GAAG,oBAAoB;gBAC7E;YACF;YACA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CACzC,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,kBAAkB;QAE3B;QACA,IAAI,CAAC,YAAY,GAAG,aAAa,MAAM,CAAC,KAAK,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE;YAClE,OAAO;QACT;QACA,IAAI,CAAC,QAAQ,GAAG,IAAI,SAAS;YAC3B,SAAS,IAAI,CAAC,YAAY;YAC1B,QAAQ,IAAI,CAAC,MAAM;YACnB,eAAe,IAAM,IAAI,CAAC,UAAU;YACpC,qBAAqB,IAAM,IAAI,CAAC,gBAAgB;YAChD,oBAAoB,IAAI,CAAC,kBAAkB;QAC7C;QACA,IAAI,CAAC,UAAU,GAAG,IAAI,WAAW;YAC/B,SAAS,IAAI,CAAC,YAAY;YAC1B,QAAQ,IAAI,CAAC,MAAM;YACnB,eAAe,IAAM,IAAI,CAAC,UAAU;YACpC,YAAY,IAAM,IAAI,CAAC,GAAG;YAC1B,qBAAqB,IAAM,IAAI,CAAC,gBAAgB;YAChD,kBAAkB,IAAM,IAAI,CAAC,SAAS;YACtC,iBAAiB,IAAM,KAAK,YAAY;YACxC,oBAAoB,IAAI,CAAC,kBAAkB;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI;QACzB;QACA,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI;IACzB;IACA,IAAI,uBAAuB;QACzB,OAAO,IAAI,CAAC,oBAAoB;IAClC;IACA;;;GAGC,GACD,IAAI,UAAU;QACZ,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,OAAO,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,KAAK,CAAC,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,kCAAkC,EAAE,OAAO;oBACrD,OAAO;gBACT;gBACA,OAAO,IAAI,CAAC,gBAAgB;YAC9B;QACF;QACA,OAAO,QAAQ,OAAO,CAAC,IAAI,CAAC,gBAAgB;IAC9C;IACA,iBAAiB,KAAK,EAAE;QACtB,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC,SAAS;QACvB;QACA,IAAI;QACJ,IAAI;QACJ,IAAI,OAAO,UAAU,UAAU;YAC7B,YAAY;QACd,OAAO;YACL,MAAM,KAAK,OAAO,EAAE,WAAW,iBAAiB,EAAE,GAAG,IAAI,OAAO,UAAU,IAAI;gBAAC;aAAY;YAC3F,YAAY;YACZ,gBAAgB;QAClB;QACA,IAAI,cAAc,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,iBAAiB,OAAO,IAAI,CAAC,eAAe,MAAM,KAAK,CAAC,GAAG;YAC/F,OAAO,IAAI,CAAC,SAAS;QACvB;QACA,MAAM,mBAAmB,OAAO,WAAW,KAAK,CAAC,IAAI,CAAC,EAAE;QACxD,MAAM,eAAe,OAAO,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE;QACzD,MAAM,gBAAgB,eAAe,eAAe,CAAC,GAAG,qBAAqB,eAAe,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,iBAAiB,OAAO,gBAAgB,CAAC;QACpK,MAAM,cAAc;QACpB,IAAI,CAAC,cAAc,MAAM,EAAE;YACzB,MAAM,SAAS,kBAAkB,aAAa,IAAI,CAAC,MAAM;YACzD,IAAI,QAAQ;gBACV,cAAc,MAAM,GAAG;YACzB;QACF;QACA,MAAM,WAAW,KAAK,SAAS,CAAC;YAC9B;YACA,eAAe;QACjB;QACA,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;QAC3C,IAAI,QAAQ;YACV,OAAO;QACT;QACA,MAAM,SAAS,IAAI,CAAC,WAAW,CAAC,SAAS,CACvC,WACA;QAEF,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,UAAU;QACtC,OAAO;IACT;IACA,4BAA4B;QAC1B,IAAI,CAAC,UAAU,CAAC,cAAc;IAChC;IACA,0BAA0B;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY;IACrC;IACA,8BAA8B;QAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB;IAClC;IACA,yBAAyB;QACvB,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW;IACpC;IACA,sBAAsB;QACpB,OAAO,IAAI,CAAC,UAAU,CAAC,cAAc;IACvC;IACA,sBAAsB,IAAI,EAAE;QAC1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;IAC7B;IACA;;;GAGC,GACD,IAAI,UAAU;QACZ,OAAO,QAAQ,OAAO,CAAC,OAAO,MAAM,CAAC;eAAI,IAAI,CAAC,QAAQ;SAAC;IACzD;IACA,aAAa,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE;QACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACjB;YACA;YACA,QAAQ,UAAU,OAAO,SAAS;YAClC,WAAW,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;QACrD;IACF;IACA,cAAc,YAAY,EAAE,YAAY,EAAE,gBAAgB,EAAE,eAAe,EAAE,iBAAiB,EAAE,eAAe,EAAE;QAC/G,OAAQ;YACN,KAAK,MAAM,OAAO;gBAChB,IAAI,CAAC,gBAAgB,CAAC,eAAe,IAAI;gBACzC,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,IAAI;gBAC7C,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,IAAI;gBAC5C,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI;gBAC9C,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,IAAI;gBAC5C;YACF,KAAK,UAAU,WAAW;gBACxB,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,IAAI;gBAC7C,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,IAAI;gBACjD,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;gBAChD,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,IAAI;gBAClD,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;gBAChD;YACF,KAAK,UAAU,WAAW;gBACxB,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,IAAI;gBAC7C,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,IAAI;gBACjD,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;gBAChD,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,IAAI;gBAClD,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;gBAChD;YACF,KAAK,QAAQ,SAAS;gBACpB,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,IAAI;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,IAAI;gBAC/C,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI;gBAC9C,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;gBAChD,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI;gBAC9C;QACJ;QACA,IAAI,CAAC,kBAAkB,CACrB,cACA,kBACA,iBACA,mBACA;IAEJ;IACA,mBAAmB,YAAY,EAAE,gBAAgB,EAAE,eAAe,EAAE,iBAAiB,EAAE,eAAe,EAAE;QACtG,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,IAAI;QAC3C,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,IAAI;QAC/C,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI;QAC9C,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,IAAI;QAChD,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI;IAChD;IACA,mBAAmB,MAAM,EAAE;QACzB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,2BAA2B,EAAE,QAAQ;oBAC/C,OAAO;gBACT;YACF,EAAE,OAAO,GAAG,CACZ;YACA,IAAI;gBACF,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS,CAAC,yBAAyB,EAAE,QAAQ;oBAC7C,OAAO;gBACT;gBACA,MAAM,IAAI,CAAC,KAAK,CAAC;oBAAE,OAAO;gBAAK;YACjC,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,OAAO,wBAAwB;QAC7B,IAAI,IAAI,uBAAuB,EAAE;QACjC,IAAI,uBAAuB,GAAG;QAC9B,MAAM,uBAAuB,CAAC,SAAW,QAAQ,MAAM,MAAM;gBAC3D,MAAM,aAAa,MAAM,IAAI,CAAC,IAAI,UAAU;gBAC5C,MAAM,QAAQ,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,kBAAkB,CAAC;YAC/D;QACA,gBAAgB,OAAO,CAAC,IAAI,CAAC,UAAU;YACrC,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;YACT;YACA,KAAK,MAAM,YAAY,IAAI,UAAU,CAAE;gBACrC,IAAI,SAAS,SAAS,EAAE;oBACtB,KAAK,SAAS,SAAS,CAAC,GAAG;oBAC3B;gBACF;YACF;YACA,KAAK,qBAAqB;QAC5B;QACA,gBAAgB,OAAO,CAAC,IAAI,CAAC,WAAW;YACtC,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;YACT;YACA,KAAK,MAAM,YAAY,IAAI,UAAU,CAAE;gBACrC,IAAI,SAAS,SAAS,EAAE;oBACtB,KAAK,SAAS,SAAS,CAAC,GAAG;oBAC3B;gBACF;YACF;YACA,KAAK,qBAAqB;QAC5B;QACA,gBAAgB,OAAO,CAAC,IAAI,CAAC,qBAAqB,CAAC;YACjD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBAAE,KAAK;wBAAE,OAAO,OAAO;wBAAM,MAAM;oBAAS;gBAAE;YAC3D;QACF;QACA,gBAAgB,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC;YAClD,SAAS;gBACP,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,WAAW;oBAAE,QAAQ;wBAAE,OAAO,OAAO;wBAAS,MAAM;oBAAS;gBAAE;YACjE;QACF;IACF;IACA;;;GAGC,GACD,OAAO;QACL,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;gBACF,OAAO,MAAM,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;wBAC7E,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;wBACxE,IAAI,CAAC,UAAU,GAAG,IAAI,WACpB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,kBAAkB,EACvB,CAAC,QAAU,IAAI,CAAC,gBAAgB,CAAC,QACjC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,OAAO,KAAK,IAC7C,IAAI,CAAC,kBAAkB,EACvB,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,KAAK,MACzC,CAAC,cAAc,cAAc,kBAAkB,iBAAiB,mBAAmB,kBAAoB,IAAI,CAAC,aAAa,CACvH,cACA,cACA,kBACA,iBACA,mBACA,kBAEF,IAAI,CAAC,kBAAkB;wBAEzB,IAAI,CAAC,cAAc,GAAG,IAAI,eACxB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,kBAAkB,EACvB,CAAC,QAAU,IAAI,CAAC,gBAAgB,CAAC,QACjC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,OAAO,KAAK,IAC7C,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,YAAY,EACjB,CAAC,cAAc,cAAc,kBAAkB,iBAAiB,mBAAmB,kBAAoB,IAAI,CAAC,aAAa,CACvH,cACA,cACA,kBACA,iBACA,mBACA;wBAGJ,IAAI,CAAC,cAAc,GAAG,IAAI,eACxB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,kBAAkB,EACvB,CAAC,QAAU,IAAI,CAAC,gBAAgB,CAAC,QACjC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,OAAO,KAAK,IAC7C,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,YAAY,EACjB,CAAC,cAAc,cAAc,kBAAkB,iBAAiB,mBAAmB,kBAAoB,IAAI,CAAC,aAAa,CACvH,cACA,cACA,kBACA,iBACA,mBACA;wBAGJ,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,SAAS;4BAC7B,MAAM,cAAc,gBAAgB,OAAO,CAAC,GAAG,CAAC,QAAQ;4BACxD,IAAI,gBAAgB,KAAK,GAAG;gCAC1B,MAAM,aAAa,YAAY,IAAI,GAAG,WAAW;gCACjD,IAAI,eAAe,QAAQ;oCACzB,OAAO,gBAAgB,OAAO,CAAC,GAAG,CAAC,QAAQ;gCAC7C;4BACF;4BACA,MAAM,MAAM,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,yBAAyB,KAAK,OAAO,KAAK,CAAC;4BACvE,IAAI,IAAI,MAAM,EAAE;gCACd,IAAI,CAAC,MAAM,CAAC;oCACV,UAAU;oCACV,SAAS;oCACT,OAAO;gCACT;gCACA,IAAI,CAAC,GAAG,GAAG,MAAM,UAAU,MAAM,CAAC,IAAI,MAAM,EAAE;oCAC5C,KAAK;gCACP;gCACA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY;gCACjD,IAAI,CAAC,KAAK,GAAG;oCACX,MAAM;oCACN,kEAAkE;oCAClE,QAAQ;wCACN,MAAM,IAAM,QAAQ,IAAI,EAAE,MAAM,aAChC;oCACF;oCACA,IAAI,IAAI,MAAM;gCAChB;gCACA,MAAM,IAAI,CAAC,6BAA6B,CAAC;gCACzC;4BACF;4BACA,IAAI,CAAC,MAAM,CAAC;gCACV,UAAU;gCACV,SAAS;gCACT,OAAO;4BACT;4BACA,IAAI,cAAc,IAAI,WAAW;4BACjC,IAAI,cAAc;4BAClB,IAAI,CAAC,aAAa;gCAChB,MAAM,OAAO,aAAa,OAAO,CAAC,IAAI,CAAC,WAAW,OAAO,CAAC,MAAM,IAAI;gCACpE,WAAW,OAAO,CAAC,SAAS,CAAC,MAAM;oCAAE,WAAW;gCAAK;gCACrD,cAAc,WAAW,OAAO,CAAC,WAAW,CAAC,aAAa,OAAO,CAAC,IAAI,CAAC,MAAM;gCAC7E,cAAc;4BAChB;4BACA,MAAM,YAAY;gCAChB;gCACA;gCACA;gCACA;gCACA;6BACD;4BACD,IAAI,cAAc,EAAE;4BACpB,MAAM,SAAS,IAAI,iBAAiB;4BACpC,IAAI,WAAW,MAAM;gCACnB,cAAc,EAAE;4BAClB,OAAO,IAAI,MAAM,OAAO,CAAC,SAAS;gCAChC,cAAc,UAAU,MAAM,CAC5B,CAAC,IAAM,CAAC,OAAO,IAAI,CAAC,CAAC,KAAO,EAAE,QAAQ,CAAC;4BAE3C,OAAO;gCACL,cAAc;uCAAI;iCAAU;4BAC9B;4BACA,IAAI,IAAI,QAAQ,EAAE,YAAY,IAAI,CAAC;4BACnC,IAAI,IAAI,MAAM,EAAE,YAAY,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI,MAAM,EAAE;4BACvD,IAAI,CAAC,IAAI,QAAQ,EAAE;gCACjB,IAAI,QAAQ,GAAG;4BACjB;4BACA,IAAI,CAAC,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,KAAK,CAAC,CAAC,KAAK,IAAI,QAAQ,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG;gCAC3G,YAAY,IAAI,CACd,CAAC,cAAc,EAAE,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,QAAQ,CAAC,MAAM,GAAG,IAAI;4BAGrE;4BACA,IAAI,OAAO,IAAI,iBAAiB,KAAK,UAAU;gCAC7C,YAAY,IAAI,CACd,CAAC,4BAA4B,EAAE,KAAK,GAAG,CAAC,KAAK,IAAI,iBAAiB,GAAG;4BAEzE;4BACA,IAAI,IAAI,QAAQ,EAAE,YAAY,IAAI,CAAC;4BACnC,IAAI,IAAI,iBAAiB,EACvB,YAAY,IAAI,CAAC;4BACnB,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,EAC/C,YAAY,IAAI,CAAC,CAAC,eAAe,EAAE,IAAI,KAAK,CAAC,MAAM,EAAE;4BACvD,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG,MAAM,EAC/C,YAAY,IAAI,CAAC,CAAC,oBAAoB,EAAE,IAAI,KAAK,CAAC,MAAM,EAAE;4BAC5D,IAAI,MAAM,OAAO,CAAC,IAAI,IAAI,GAAG,YAAY,IAAI,IAAI,IAAI,IAAI;4BACzD,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,MAAM,kBAAkB;gCAC7C,YAAY,IAAI,cAAc;gCAC9B;gCACA,UAAU,IAAI,QAAQ;gCACtB;gCACA,kBAAkB,IAAI,gBAAgB;4BACxC;4BACA,IAAI,CAAC,GAAG,GAAG,MAAM,UAAU,MAAM,CAAC,IAAI;gCACpC,KAAK;gCACL,2BAA2B;4BAC7B;4BACA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY;4BACjD,IAAI,CAAC,KAAK,GAAG;gCACX,MAAM;gCACN;gCACA;gCACA;gCACA,oBAAoB;gCACpB,qBAAqB,CAAC,CAAC,IAAI,mBAAmB;4BAChD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK;4BACjC,MAAM,IAAI,CAAC,6BAA6B,CAAC;4BACzC;wBACF;wBACA,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,eAAe;4BACnC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,uBAAuB;4BAC1D,IAAI,CAAC,UAAU,CAAC,WAAW;gCACzB,MAAM,IAAI,gCACR,kDACA;4BAEJ;4BACA,IAAI,CAAC,MAAM,CAAC;gCACV,UAAU;gCACV,SAAS;gCACT,OAAO;4BACT;4BACA,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gCAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,mBAAmB;oCACtC;oCACA;oCACA,QAAQ,IAAI,CAAC,MAAM;gCACrB;gCACA,MAAM,uBAAuB,cAAc,eAAe;oCACxD,WAAW,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,8BAA8B,KAAK,OAAO,KAAK,IAAI,GAAG,SAAS,KAAK,OAAO,KAAK;gCACnH,GAAG,IAAI,CAAC,IAAI,CAAC,8BAA8B,GAAG;oCAC5C,iBAAiB,cAAc,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,8BAA8B,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,KAAK,OAAO,KAAK,CAAC,IAAI;wCACjK,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,8BAA8B,KAAK,OAAO,KAAK,IAAI,GAAG,eAAe,KAAK,OAAO,KAAK,IAAI,GAAG,QAAQ,KAAK,OAAO,KAAK;4CAAE,OAAO;4CAAM,QAAQ;wCAAI;oCACzL;oCACA,cAAc,cAAc,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,8BAA8B,KAAK,OAAO,KAAK,IAAI,GAAG,YAAY,KAAK,OAAO,KAAK,CAAC,IAAI;wCAC3J,WAAW;oCACb;gCACF;gCACA,MAAM,EAAE,WAAW,UAAU,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;oCACrE,WAAW,IAAI,CAAC,SAAS;oCACzB,aAAa,IAAI,CAAC,kBAAkB,CAAC,MAAM;oCAC3C,oBAAoB,IAAI,CAAC,kBAAkB;oCAC3C,SAAS,IAAI,CAAC,OAAO;oCACrB,cAAc,IAAI,CAAC,IAAI,CAAC,YAAY;oCACpC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ;oCAC5B,gCAAgC;oCAChC,sBAAsB,IAAI,CAAC,IAAI,CAAC,oBAAoB;gCACtD;gCACA,IAAI,CAAC,WAAW;oCACd,IAAI,CAAC,SAAS,GAAG;gCACnB;gCACA,IAAI,CAAC,IAAI,CAAC,oBAAoB,GAAG;4BACnC;4BACA,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,MAAM,yBAClC,QACA,WACA,IAAI,CAAC,IAAI,CAAC,8BAA8B,EACxC,IAAI,CAAC,IAAI,CAAC,oBAAoB;4BAEhC,IAAI,CAAC,GAAG,GAAG,MAAM,UAAU,MAAM,CAAC,IAAI;gCACpC,KAAK;gCACL,WAAW,IAAI,CAAC,SAAS;4BAC3B;4BACA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY;4BACjD,IAAI,CAAC,KAAK,GAAG;gCAAE,MAAM;gCAAe;gCAAW;gCAAI;4BAAG;4BACtD,IAAI,CAAC,oBAAoB,GAAG;4BAC5B,MAAM,IAAI,CAAC,kCAAkC;4BAC7C,IAAI;gCACF,MAAM,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB;gCAChD,IAAI;gCACJ,IAAI;oCACF,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC;oCACpC,WAAW,OAAO,OAAO,KAAK,IAAI,IAAI,WAAW;gCACnD,EAAE,OAAO,GAAG,CACZ;gCACA,MAAM,aAAa,CAAC,qCAAqC,EAAE,WAAW;gCACtE,IAAI,CAAC,MAAM,CAAC;oCACV,UAAU;oCACV,SAAS,UAAU,IAAI,CAAC,SAAS,GAAG,gCAAgC,gCAAgC;oCACpG,OAAO;oCACP,WAAW,cAAc,eAAe;wCACtC,YAAY;4CAAE,OAAO;4CAAY,MAAM;wCAAS;oCAClD,GAAG,YAAY;wCACb,UAAU;4CAAE,OAAO;4CAAU,MAAM;wCAAS;oCAC9C,IAAI;wCACF,WAAW;4CAAE,OAAO;4CAAW,MAAM;wCAAS;oCAChD;gCACF;4BACF,EAAE,OAAO,GAAG,CACZ;4BACA;wBACF;wBACA,MAAM,WAAW,IAAI,CAAC,IAAI,CAAC,GAAG;wBAC9B,MAAM,IAAI,mBAAmB,CAAC,iBAAiB,EAAE,UAAU;oBAC7D;YACF,EAAE,OAAO,OAAO;gBACd,IAAI,IAAI,CAAC,cAAc,EAAE;oBACvB,IAAI;wBACF,qBAAqB,IAAI,CAAC,UAAU;oBACtC,EAAE,OAAO,GAAG,CACZ;gBACF;gBACA,MAAM;YACR;QACF;IACF;IACA,+DAA+D,GAC/D,8BAA8B,GAAG,EAAE;QACjC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,IAAI;gBACF,IAAI,IAAI,aAAa,IAAI,IAAI,eAAe,KAAK,KAAK,GAAG;oBACvD,MAAM,WAAW,IAAI,eAAe,KAAK,QAAQ,SAAS;oBAC1D,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,+BAA+B;wBACnF;wBACA,cAAc,IAAI,aAAa;wBAC/B,eAAe;oBACjB,GAAG,KAAK,CAAC,KACT;gBACF;YACF,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,qCAAqC;QACnC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI;YACJ,MAAM,OAAO,CAAC,KAAK,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI;YACvD,IAAI,CAAC,MAAM;YACX,IAAI;gBACF,MAAM,KAAK,IAAI,CAAC,+BAA+B;oBAC7C,UAAU;oBACV,cAAc;oBACd,eAAe;gBACjB;YACF,EAAE,OAAO,GAAG,CACZ;QACF;IACF;IACA,IAAI,KAAK,EAAE,OAAO,EAAE;QAClB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAO,MAAM,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC7E,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,IAAI,6BAA6B;oBAC7D,IAAI;oBACJ,IAAI,gBAAgB,QAAQ;wBAC1B,MAAM,SAAS,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI;wBAC7E,MAAM,WAAW,MAAM,QAAQ;wBAC/B,IAAI,IAAI,CAAC,SAAS,EAAE;4BAClB,YAAY,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;gCACnC;gCACA;gCACA,SAAS,OAAO,WAAW;4BAC7B;wBACF,OAAO;4BACL,YAAY,MAAM,IAAI,CAAC,UAAU,CAAC,oBAAoB,CACpD,cAAc,eAAe,CAAC,GAAG,QAAQ;gCAAE;4BAAS,IACpD,gBAAgB;4BAChB,QACA,UAAU;4BACV,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK;wBAElE;wBACA,IAAI,CAAC,YAAY,CACf,OACA;4BACE,eAAe;wBACjB,GACA;wBAEF,OAAO;oBACT;oBACA,IAAI,OAAO,UAAU,YAAY,CAAC,MAAM,IAAI,IAAI;wBAC9C,MAAM,IAAI,8BACR;oBAEJ;oBACA,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI;oBAC3E,IAAI,kBAAkB;oBACtB,MAAM,cAAc,OAAO,UAAU,YAAY,CAAC,IAAI,CAAC,sBAAsB,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO;oBACxG,IAAI,aAAa;wBACf,kBAAkB,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,CAClD,OACA,MACA,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;wBAE9C,IAAI,iBAAiB;4BACnB,MAAM,eAAe,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAChD,iBACA,MACA,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;4BAE5C,IAAI,cAAc;gCAChB,IAAI,CAAC,YAAY,CACf,OACA;oCACE,aAAa;oCACb,WAAW,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;oCACvD,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;oCACnD,UAAU;gCACZ,GACA;gCAEF,OAAO;4BACT;wBACF;oBACF;oBACA,MAAM,gBAAgB;wBACpB,aAAa;wBACb;wBACA,WAAW,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;wBACvD,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBACnD,OAAO,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK;oBACjD;oBACA,IAAI,IAAI,CAAC,SAAS,EAAE;wBAClB,MAAM,UAAU,KAAK,WAAW;wBAChC,YAAY,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;4BAAE;4BAAO;4BAAS;wBAAQ;oBACjE,OAAO;wBACL,YAAY,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;oBACxC;oBACA,IAAI,CAAC,YAAY,CACf,OACA;wBACE,aAAa;wBACb,WAAW,WAAW,OAAO,KAAK,IAAI,QAAQ,SAAS;wBACvD,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;oBACrD,GACA;oBAEF,IAAI,mBAAmB,UAAU,OAAO,IAAI,MAAM,OAAO,CAAC,UAAU,OAAO,KAAK,UAAU,OAAO,CAAC,MAAM,GAAG,GAAG;wBAC5G,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,iBAAiB;oBAC7C;oBACA,OAAO;gBACT;QACF;IACF;IACA,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QACf,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAO,MAAM,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC7E,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;wBACxB,MAAM,IAAI,6BAA6B;oBACzC;oBACA,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI,OAAO,MAAM,UAAU;wBACzB,cAAc;wBACd,MAAM,cAAc,CAAC,MAAQ,CAAC,CAAC,OAAO,OAAO,QAAQ,YAAY,WAAW,OAAO,eAAe;wBAClG,IAAI,YAAY,IAAI;4BAClB,SAAS;4BACT,UAAU;wBACZ,OAAO;4BACL,UAAU;wBACZ;oBACF,OAAO;wBACL,UAAU,KAAK,KAAK;oBACtB;oBACA,IAAI,CAAC,eAAe,QAAQ;wBAC1B,MAAM,IAAI,8BACR;oBAEJ;oBACA,MAAM,kBAAkB,eAAe,CAAC,SAAS,uBAAuB;oBACxE,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI;oBAC3E,MAAM,gBAAgB;wBACpB;wBACA,QAAQ;wBACR,OAAO,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK;wBAC/C,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBACnD,UAAU,WAAW,OAAO,KAAK,IAAI,QAAQ,QAAQ;wBACrD;oBACF;oBACA,IAAI;oBACJ,IAAI,IAAI,CAAC,SAAS,EAAE;wBAClB,MAAM,UAAU,KAAK,WAAW;wBAChC,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;4BACpC,aAAa,cAAc,WAAW;4BACtC,QAAQ,cAAc,MAAM;4BAC5B;4BACA;wBACF;oBACF,OAAO;wBACL,SAAS,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;oBAC7C;oBACA,OAAO;gBACT;QACF;IACF;IACA,QAAQ,CAAC,EAAE,CAAC,EAAE;QACZ,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,OAAO,MAAM,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;oBAC7E,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;wBACxB,MAAM,IAAI,6BAA6B;oBACzC;oBACA,IAAI;oBACJ,IAAI;oBACJ,IAAI,OAAO,MAAM,UAAU;wBACzB,cAAc;wBACd,UAAU;oBACZ,OAAO;wBACL,UAAU;oBACZ;oBACA,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,IAAI;oBAC3E,MAAM,gBAAgB;wBACpB;wBACA,OAAO,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK;wBAC/C,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;wBACnD,UAAU,WAAW,OAAO,KAAK,IAAI,QAAQ,QAAQ;wBACrD;oBACF;oBACA,IAAI;oBACJ,IAAI,IAAI,CAAC,SAAS,EAAE;wBAClB,MAAM,UAAU,KAAK,WAAW;wBAChC,UAAU,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;4BACrC;4BACA;4BACA;wBACF;oBACF,OAAO;wBACL,UAAU,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;oBAC9C;oBACA,IAAI,CAAC,YAAY,CACf,WACA;wBACE;wBACA,SAAS,WAAW,OAAO,KAAK,IAAI,QAAQ,OAAO;oBACrD,GACA;oBAEF,OAAO;gBACT;QACF;IACF;IACA,qDAAqD,GACrD,aAAa;QACX,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,iBAAiB;YACvC,MAAM,IAAI,6BAA6B;QACzC;QACA,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;IACtB;IACA,2CAA2C,GAC3C,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,GAAG;IACjB;IACA,2DAA2D,GAC3D,MAAM,IAAI,EAAE;QACV,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,IAAI,IAAI;YAChB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG;YAC1B;YACA,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,QAAQ,OAAO,KAAK,IAAI,KAAK,KAAK,GAAG;YAC9D,IAAI,CAAC,UAAU,GAAG;YAClB,IAAI;gBACF,IAAI;oBACF,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,CAAC,YAAY,EAAE;wBACrE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,kBAAkB,KAAK,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY;oBACjG;gBACF,EAAE,OAAO,GAAG,CACZ;gBACA,IAAI;oBACF,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK;gBACnD,EAAE,OAAO,GAAG,CACZ;gBACA,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS;oBAC/B,IAAI;wBACF,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI;oBAC9B,EAAE,OAAO,GAAG,CACZ;oBACA,IAAI;wBACF,IAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;4BAC9F,WAAW,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gCAAE,WAAW;gCAAM,OAAO;4BAAK;wBACnF;oBACF,EAAE,OAAO,GAAG,CACZ;gBACF;YACF,SAAU;gBACR,IAAI,CAAC,KAAK,GAAG;oBAAE,MAAM;gBAAgB;gBACrC,IAAI,CAAC,GAAG,GAAG;gBACX,IAAI,CAAC,UAAU,GAAG;gBAClB,IAAI,CAAC,oBAAoB,GAAG,KAAK;gBACjC,IAAI;oBACF,qBAAqB,IAAI,CAAC,UAAU;gBACtC,EAAE,OAAO,GAAG,CACZ;gBACA,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI;YAC5B;QACF;IACF;IACA,4DAA4D,GAC5D,0BAA0B;QACxB,IAAI,IAAI;QACR,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,IAAI;QACrC,IAAI,CAAC,QACH,SAAS,CAAC,KAAK,gBAAgB,OAAO,CAAC,GAAG,CAAC,mBAAmB,KAAK,OAAO,KAAK,gBAAgB,OAAO,CAAC,GAAG,CAAC,UAAU;QACvH,IAAI,CAAC,WACH,YAAY,CAAC,KAAK,gBAAgB,OAAO,CAAC,GAAG,CAAC,sBAAsB,KAAK,OAAO,KAAK,gBAAgB,OAAO,CAAC,GAAG,CAAC,aAAa;QAChI,IAAI,CAAC,UAAU,CAAC,WAAW;YACzB,MAAM,UAAU,EAAE;YAClB,IAAI,CAAC,QAAQ,QAAQ,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,QAAQ,IAAI,CAAC;YAC7B,MAAM,IAAI,gCACR,QAAQ,IAAI,CAAC,OACb;QAEJ;QACA,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG;QACnB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG;QACtB,IAAI,CAAC,MAAM,CAAC;YACV,UAAU;YACV,SAAS;YACT,OAAO;QACT;QACA,OAAO;YAAE;YAAQ;QAAU;IAC7B;IACA,IAAI,SAAS;QACX,OAAO,CAAC;YACN,IAAI;YACJ,MAAM,OAAO,cAAc,eAAe,CAAC,GAAG,UAAU;gBAAE,OAAO,CAAC,KAAK,QAAQ,KAAK,KAAK,OAAO,KAAK;YAAE;YACvG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;QAC3B;IACF;IACA;;;GAGC,GACD,kBAAkB,IAAI,EAAE;QACtB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO;gBAC/B,MAAM,MAAM,MAAM,KAAK,OAAO,GAAG,aAAa,CAAC;gBAC/C,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,IAAI,CAAC;gBACrC,OAAO,UAAU,KAAK,CAAC,EAAE;YAC3B;YACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO;gBAC/B,MAAM,MAAM,MAAM,KAAK,OAAO,GAAG,aAAa,CAAC;gBAC/C,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,IAAI,CAAC;gBACrC,OAAO,UAAU,KAAK,CAAC,EAAE;YAC3B;YACA,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO;gBAC9B,MAAM,MAAM,MAAM,KAAK,MAAM,GAAG,gBAAgB;gBAChD,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,IAAI,CAAC;gBACrC,IAAI,CAAC,MAAM,CAAC;oBACV,UAAU;oBACV,SAAS;oBACT,OAAO;oBACP,WAAW;wBAAE,SAAS;4BAAE,OAAO,UAAU,KAAK,CAAC,EAAE;4BAAE,MAAM;wBAAS;oBAAE;gBACtE;gBACA,OAAO,UAAU,KAAK,CAAC,EAAE;YAC3B;YACA,MAAM,IAAI,8BACR;QAEJ;IACF;IACA,iBAAiB,CAAC,EAAE;QAClB,OAAO,OAAO,MAAM,YAAY,MAAM,QAAQ,OAAO,EAAE,OAAO,KAAK;IACrE;IACA,iBAAiB,CAAC,EAAE;QAClB,OAAO,OAAO,MAAM,YAAY,MAAM,QAAQ,OAAO,EAAE,OAAO,KAAK;IACrE;IACA,gBAAgB,CAAC,EAAE;QACjB,OAAO,OAAO,MAAM,YAAY,MAAM,QAAQ,OAAO,EAAE,MAAM,KAAK;IACpE;IACA,2EAA2E,GAC3E,YAAY,IAAI,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,MAAM;gBACR,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC;YACtC;YACA,MAAM,MAAM,IAAI,CAAC,GAAG;YACpB,IAAI,CAAC,KAAK;gBACR,MAAM,IAAI,6BAA6B;YACzC;YACA,OAAO,MAAM,IAAI,eAAe;QAClC;IACF;IACA,kBAAkB,KAAK,EAAE;QACvB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,IAAI,iBAAiB,CAAC,MAAM,QAAQ,OAAO,GAAG,IAAI,CAAC,IAAM,CAAC,aAAa,YAAY,EAAE,EAAE,IAAI,EAAE;gBAC3F,OAAO;YACT;YACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ;gBAChC,MAAM,UAAU,MAAM,IAAI,CAAC,iBAAiB,CAAC;gBAC7C,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC,wBAAwB,CAAC;gBAC/C,IAAI,CAAC,MACH,MAAM,IAAI,mBACR;gBAEJ,OAAO;YACT;YACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ;gBAChC,MAAM,UAAU,MAAM,IAAI,CAAC,iBAAiB,CAAC;gBAC7C,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC,wBAAwB,CAAC;gBAC/C,IAAI,CAAC,MACH,MAAM,IAAI,mBACR;gBAEJ,OAAO;YACT;YACA,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ;gBAC/B,MAAM,UAAU,MAAM,IAAI,CAAC,iBAAiB,CAAC;gBAC7C,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC,wBAAwB,CAAC;gBAC/C,IAAI,CAAC,MACH,MAAM,IAAI,mBACR;gBAEJ,OAAO;YACT;YACA,MAAM,IAAI,8BAA8B;QAC1C;IACF;IACA;;;GAGC,GACD,MAAM,OAAO,EAAE;QACb,IAAI,IAAI;QACR,IAAI,CAAC,MAAM,CAAC;YACV,UAAU;YACV,SAAS,CAAC,yCAAyC,EAAE,KAAK,SAAS,CAAC,UAAU;YAC9E,OAAO;YACP,WAAW,eAAe;gBACxB,KAAK;oBAAE,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,GAAG,IAAI,SAAS;oBAAS,MAAM;gBAAU;gBAC3F,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,IAAI,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,MAAM,WAAW;oBAAE,OAAO,QAAQ,KAAK;oBAAE,MAAM;gBAAS,IAAI;oBAAE,OAAO,QAAQ,KAAK,CAAC,SAAS;oBAAE,MAAM;gBAAS,IAAI;oBAAE,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS;oBAAE,MAAM;gBAAS;gBACvQ,cAAc;oBAAE,OAAO,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,OAAO,KAAK;oBAAI,MAAM;gBAAS;gBAChH,OAAO;oBAAE,OAAO,KAAK,SAAS,CAAC,CAAC,KAAK,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,KAAK,CAAC;oBAAI,MAAM;gBAAS;YACpH,GAAG,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK;gBACtD,cAAc;oBACZ,OAAO,KAAK,SAAS,CAAC,QAAQ,YAAY;oBAC1C,MAAM;gBACR;YACF;QACF;QACA,IAAI,WAAW,OAAO,KAAK,IAAI,QAAQ,GAAG,EAAE;YAC1C,IAAI,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;gBAC3H,MAAM,IAAI,+BACR;YAEJ;YACA,MAAM,aAAa,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,eAAe;gBAC9E,WAAW,IAAI,CAAC,SAAS;YAC3B,GAAG,IAAI,CAAC,kBAAkB;YAC1B,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG,aAAa;YACzD,IAAI,CAAC,OAAO;gBACV,MAAM,IAAI,sBAAsB;YAClC;YACA,MAAM,wBAAwB,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC;YACnE,OAAO;gBACL,SAAS,CAAC,uBAAyB,QAAQ,IAAI,EAAE,MAAM;wBACrD,OAAO,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;gCACvE,IAAI,KAAK;gCACT,IAAI,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;oCAC3E,MAAM,IAAI,+BAA+B;gCAC3C;gCACA,MAAM,QAAQ,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,IAAI,MAAM,aAAa,QAAQ,YAAY,EAAE,QAAQ,KAAK,IAAI,CAAC,MAAM,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,MAAM,CAAC;gCAC9L,MAAM,UAAU,IAAI,kBAClB,IAAI,EACJ,IAAI,CAAC,MAAM,EACX;oCACE;oCACA;oCACA,0BAA0B,CAAC,MAAM,QAAQ,YAAY,KAAK,OAAO,MAAM,CAAC;mEACrB,CAAC;gCACtD,GACA;gCAEF,MAAM,kBAAkB,OAAO,yBAAyB,WAAW;oCAAE,aAAa;gCAAqB,IAAI;gCAC3G,IAAI,gBAAgB,IAAI,EAAE;oCACxB,MAAM,iBAAiB,MAAM,IAAI,CAAC,iBAAiB,CACjD,gBAAgB,IAAI;oCAEtB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;gCACzB;gCACA,MAAM,cAAc,gBAAgB,WAAW,CAAC,IAAI;gCACpD,MAAM,mBAAmB,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;gCAChE,IAAI,eAAe;gCACnB,IAAI,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc;oCACnD,MAAM,YAAY,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe;oCAChD,eAAe,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;wCAClD;wCACA,SAAS;wCACT,iBAAiB;wCACjB,MAAM;oCACR;oCACA,IAAI,cAAc;wCAChB,MAAM,WAAW,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;wCACjD,IAAI,UAAU;4CACZ,OAAO;wCACT;oCACF;gCACF;gCACA,IAAI,aAAa,EAAE;gCACnB,MAAM,YAAY,CAAC,CAAC;gCACpB,IAAI,WAAW;oCACb,IAAI,CAAC,yBAAyB;gCAChC;gCACA,IAAI;gCACJ,IAAI;oCACF,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;wCACxC,MAAM,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe;wCAC3C,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,CACxC,SACA,iBACA,KAAK,WAAW;oCAEpB,OAAO;wCACL,SAAS,MAAM,QAAQ,OAAO,CAAC;oCACjC;oCACA,IAAI,WAAW;wCACb,aAAa,IAAI,CAAC,uBAAuB;oCAC3C;oCACA,IAAI,gBAAgB,OAAO,OAAO,IAAI,WAAW,MAAM,GAAG,GAAG;wCAC3D,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,YAAY;oCACxD;oCACA,OAAO;gCACT,EAAE,OAAO,KAAK;oCACZ,IAAI,WAAW,IAAI,CAAC,2BAA2B;oCAC/C,MAAM;gCACR,SAAU;oCACR,IAAI,WAAW;wCACb,IAAI,CAAC,2BAA2B;oCAClC;gCACF;4BACF;oBACF;YACF;QACF;QACA,MAAM,uBAAuB,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC;QAClE,OAAO;YACL,SAAS,CAAC,uBAAyB,QAAQ,IAAI,EAAE,MAAM;oBACrD,OAAO,uBAAuB,IAAI,CAAC,UAAU,EAAE,IAAM,QAAQ,IAAI,EAAE,MAAM;4BACvE,IAAI,KAAK;4BACT,IAAI,CAAC,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,KAAK,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;gCAC3H,MAAM,IAAI,+BACR;4BAEJ;4BACA,MAAM,QAAQ,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,IAAI,MAAM,aAAa,QAAQ,YAAY,EAAE,QAAQ,KAAK,IAAI,CAAC,MAAM,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,OAAO,MAAM,CAAC;4BAC9L,MAAM,iBAAiB,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,SAAS;4BACzH,MAAM,UAAU,IAAI,eAClB,IAAI,EACJ,IAAI,CAAC,MAAM,EACX,gBACA,OAAO,CAAC,WAAW,OAAO,KAAK,IAAI,QAAQ,cAAc,MAAM,WAAW,QAAQ,cAAc,GAAG,CAAC,MAAM,WAAW,OAAO,KAAK,IAAI,QAAQ,cAAc,KAAK,OAAO,KAAK,IAAI,IAAI,SAAS,EAC7L,WAAW,OAAO,KAAK,IAAI,QAAQ,YAAY,EAC/C;4BAEF,MAAM,kBAAkB,OAAO,yBAAyB,WAAW;gCAAE,aAAa;4BAAqB,IAAI;4BAC3G,IAAI,gBAAgB,IAAI,EAAE;gCACxB,MAAM,iBAAiB,MAAM,IAAI,CAAC,iBAAiB,CACjD,gBAAgB,IAAI;gCAEtB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;4BACzB;4BACA,MAAM,cAAc,gBAAgB,WAAW,CAAC,IAAI;4BACpD,MAAM,mBAAmB,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;4BAChE,IAAI,eAAe;4BACnB,IAAI,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc;gCACnD,MAAM,YAAY,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe;gCAChD,eAAe,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;oCAClD;oCACA,SAAS;oCACT,iBAAiB;oCACjB,MAAM;gCACR;gCACA,IAAI,cAAc;oCAChB,MAAM,WAAW,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;oCACjD,IAAI,UAAU;wCACZ,OAAO;oCACT;gCACF;4BACF;4BACA,IAAI,aAAa,EAAE;4BACnB,MAAM,YAAY,CAAC,CAAC;4BACpB,IAAI,WAAW;gCACb,IAAI,CAAC,yBAAyB;4BAChC;4BACA,IAAI;4BACJ,IAAI;gCACF,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;oCACxC,MAAM,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe;oCAC3C,SAAS,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,CACxC,SACA,iBACA,KAAK,WAAW;gCAEpB,OAAO;oCACL,SAAS,MAAM,QAAQ,OAAO,CAAC;gCACjC;gCACA,IAAI,WAAW;oCACb,aAAa,IAAI,CAAC,uBAAuB;gCAC3C;gCACA,IAAI,gBAAgB,OAAO,OAAO,IAAI,WAAW,MAAM,GAAG,GAAG;oCAC3D,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,YAAY;gCACxD;gCACA,OAAO;4BACT,EAAE,OAAO,KAAK;gCACZ,IAAI,WAAW,IAAI,CAAC,2BAA2B;gCAC/C,MAAM;4BACR,SAAU;gCACR,IAAI,WAAW;oCACb,IAAI,CAAC,2BAA2B;gCAClC;4BACF;wBACF;gBACF;QACF;IACF;AACF;AACA,IAAI,uBAAuB,GAAG;AAC9B,IAAI,UAAU,GAAG,aAAa,GAAG,IAAI;AACrC,IAAI,KAAK;AACT,SAAS,gBAAgB,CAAC;IACxB,OAAO,CAAC,CAAC,KAAK,OAAO,MAAM,YAAY,cAAc;AACvD;AAEA,qBAAqB;AACrB,IAAI,iBAAiB;AACrB,IAAI;AACJ;AACA,eAAe,OAAO,CAAC,MAAM;AAC7B,IAAI,mBAAmB,YAAY,CAAC,CAAC,MAAM,CAAC;IAC1C,YAAY,YAAY,CAAC,CAAC,IAAI,CAAC;QAAC;QAAO;KAAK;IAC5C,WAAW,YAAY,CAAC,CAAC,MAAM;AACjC;AACA,IAAI,wBAAwB,YAAY,CAAC,CAAC,KAAK,CAAC;AAChD,IAAI,cAAc;IAChB,YAAY,EAAE,EAAE,SAAS,EAAE,kBAAkB,CAAE;QAC7C,IAAI,CAAC,YAAY,GAAG,KACpB;QACA,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,SAAS,GAAG,aAAa;QAC9B,IAAI,CAAC,kBAAkB,GAAG,sBAAsB;YAC9C,QAAQ,QAAQ,GAAG,CAAC,cAAc,IAAI,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACpF;IACF;IACA,YAAY;QACV,MAAM,WAAW,IAAI,YAAY,IAAI,CAAC,EAAE,CAAC,MAAM;QAC/C,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,kBAAkB;IACnE;IACA,IAAI,OAAO,EAAE;QACX,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EACJ,QAAQ,EACR,MAAM,EACN,aAAa,IAAI,EACjB,YAAY,EACZ,oBAAoB,GAAG,EACvB,cAAc,EACf,GAAG;YACJ,IAAI,CAAC,UACH,MAAM,IAAI,8BACR;YAEJ,IAAI,CAAC,UAAU,CAAC,YACd,MAAM,IAAI,8BACR;YAEJ,IAAI,MAAM,OAAO,CAAC,aAAa;gBAC7B,OAAO,IAAI,CAAC,gCAAgC,CAAC;oBAC3C;oBACA,aAAa;oBACb;oBACA;gBACF;YACF;YACA,MAAM,sBAAsB,CAAC,+HAA+H,EAAE,aAAa,iBAAiB,uDAAuD;0BAC/N,EAAE,AAAC,aAAa,GAAG,IAAI,OAAQ,kBAAkB,IAAI;YACzE,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACvC,IAAI;YACJ,IAAI,YAAY;gBACd,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,cAAc,MAAM,KAAK,UAAU,CAAC;oBAAE,UAAU;gBAAM;YACxD;YACA,MAAM,YAAY,IAAI,CAAC,SAAS;YAChC,MAAM,WAAW,MAAM,UAAU,oBAAoB,CAAC;gBACpD,QAAQ,IAAI,CAAC,YAAY;gBACzB,SAAS;oBACP,UAAU;wBACR;4BAAE,MAAM;4BAAU,SAAS,gBAAgB;wBAAoB;wBAC/D;4BACE,MAAM;4BACN,SAAS;gCACP;oCACE,MAAM;oCACN,MAAM,iBAAiB,CAAC,UAAU,EAAE,SAAS;;;AAG/D,EAAE,gBAAgB,GAAG;gCACL;mCACG,cAAc,cAAc;oCAC7B;wCACE,MAAM;wCACN,WAAW;4CACT,KAAK,CAAC,uBAAuB,EAAE,YAAY,QAAQ,CAAC,WAAW;wCACjE;oCACF;iCACD,GAAG,EAAE;mCACH,SAAS;oCAAC;wCAAE,MAAM;wCAAQ,MAAM,CAAC,cAAc,EAAE,QAAQ;oCAAC;iCAAE,GAAG,EAAE;6BACrE;wBACH;qBACD;oBACD,gBAAgB;wBAAE,MAAM;wBAAoB,QAAQ;oBAAiB;gBACvE;YACF;YACA,IAAI;gBACF,MAAM,SAAS,SAAS,IAAI;gBAC5B,OAAO;oBAAE,YAAY,OAAO,UAAU;oBAAE,WAAW,OAAO,SAAS;gBAAC;YACtE,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,YAAY;oBACZ,WAAW,CAAC,mCAAmC,EAAE,cAAc;gBACjE;YACF;QACF;IACF;IACA,SAAS,OAAO,EAAE;QAChB,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EACJ,SAAS,EACT,aAAa,IAAI,EACjB,eAAe,8EAA8E,EAC7F,oBAAoB,GAAG,EACxB,GAAG;YACJ,IAAI,CAAC,CAAC,aAAa,OAAO,KAAK,IAAI,UAAU,MAAM,GACjD,MAAM,IAAI,8BACR;YAEJ,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACvC,IAAI;YACJ,IAAI,YAAY;gBACd,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe;gBAClD,cAAc,MAAM,KAAK,UAAU,CAAC;oBAAE,UAAU;gBAAM;YACxD;YACA,MAAM,YAAY,IAAI,CAAC,SAAS;YAChC,MAAM,YAAY,UAAU,GAAG,CAC7B,CAAC,MAAM,IAAM,GAAG,IAAI,EAAE,EAAE,EAAE,KAAK,QAAQ,GAAG,KAAK,MAAM,GAAG,CAAC;WACtD,EAAE,KAAK,MAAM,EAAE,GAAG,IAAI,EACzB,IAAI,CAAC;YACP,MAAM,WAAW,MAAM,UAAU,oBAAoB,CAAC;gBACpD,QAAQ,IAAI,CAAC,YAAY;gBACzB,SAAS;oBACP,UAAU;wBACR;4BACE,MAAM;4BACN,SAAS,GAAG,aAAa;;oCAEH,EAAE,aAAa,uBAAuB,GAAG,EAAE,EAAE,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,IAAI,gDAAgD,GAAG,2KAA2K,CAAC;wBACtU;wBACA;4BACE,MAAM;4BACN,SAAS;gCACP;oCAAE,MAAM;oCAAQ,MAAM;gCAAU;mCAC7B,cAAc,cAAc;oCAC7B;wCACE,MAAM;wCACN,WAAW;4CACT,KAAK,CAAC,uBAAuB,EAAE,YAAY,QAAQ,CAAC,WAAW;wCACjE;oCACF;iCACD,GAAG,EAAE;6BACP;wBACH;qBACD;oBACD,gBAAgB;wBACd,MAAM;wBACN,QAAQ;oBACV;gBACF;YACF;YACA,IAAI;gBACF,MAAM,UAAU,SAAS,IAAI;gBAC7B,OAAO,QAAQ,GAAG,CAAC,CAAC,IAAM,CAAC;wBACzB,YAAY,EAAE,UAAU;wBACxB,WAAW,EAAE,SAAS;oBACxB,CAAC;YACH,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO,UAAU,GAAG,CAAC,IAAM,CAAC;wBAC1B,YAAY;wBACZ,WAAW,CAAC,mCAAmC,EAAE,cAAc;oBACjE,CAAC;YACH;QACF;IACF;IACA,iCAAiC,OAAO,EAAE;QACxC,OAAO,QAAQ,IAAI,EAAE,MAAM;YACzB,MAAM,EACJ,QAAQ,EACR,WAAW,EACX,cAAc,EACd,eAAe,CAAC;QAChB,EAAE,iBAAiB,oGAAoG,GAAG;;;QAG1H,EAAE,iBAAiB,qNAAqN,GAAG;wBAC3N,EAAE,AAAC,aAAa,GAAG,IAAI,OAAQ,kBAAkB,IAAI,EACtE,GAAG;YACJ,IAAI,CAAC,UACH,MAAM,IAAI,8BACR;YAEJ,IAAI,CAAC,eAAe,YAAY,MAAM,KAAK,GACzC,MAAM,IAAI,8BACR;YAEJ,MAAM,YAAY,IAAI,CAAC,SAAS;YAChC,MAAM,gBAAgB,YAAY,GAAG,CAAC,CAAC,IAAM,CAAC;oBAC5C,MAAM;oBACN,WAAW;wBAAE,KAAK,CAAC,uBAAuB,EAAE,EAAE,QAAQ,CAAC,WAAW;oBAAC;gBACrE,CAAC;YACD,MAAM,WAAW,MAAM,UAAU,oBAAoB,CAAC;gBACpD,QAAQ,IAAI,CAAC,YAAY;gBACzB,SAAS;oBACP,UAAU;wBACR;4BAAE,MAAM;4BAAU,SAAS;wBAAa;wBACxC;4BACE,MAAM;4BACN,SAAS;gCACP;oCACE,MAAM;oCACN,MAAM,iBAAiB,CAAC,UAAU,EAAE,SAAS;;;AAG/D,EAAE,eAAe;;cAEH,EAAE,YAAY,MAAM,CAAC,oKAAoK,CAAC,GAAG,GAAG,SAAS;;cAEzM,EAAE,YAAY,MAAM,CAAC,iIAAiI,CAAC;gCACrJ;mCACG;6BACJ;wBACH;qBACD;oBACD,gBAAgB;wBAAE,MAAM;wBAAoB,QAAQ;oBAAiB;gBACvE;YACF;YACA,IAAI;gBACF,MAAM,SAAS,SAAS,IAAI;gBAC5B,OAAO;oBAAE,YAAY,OAAO,UAAU;oBAAE,WAAW,OAAO,SAAS;gBAAC;YACtE,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;gBACrE,OAAO;oBACL,YAAY;oBACZ,WAAW,CAAC,mCAAmC,EAAE,cAAc;gBACjE;YACF;QACF;IACF;AACF;AACA,6DAA6D;AAC7D,KAAK,CAAC,OAAO,OAAO,GAAG;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACF,CAAC,GACD;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA","ignoreList":[0]}}]
}